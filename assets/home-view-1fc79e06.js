import{a7 as $e,a8 as w,a9 as C,aa as I,ab as be,ac as ye,ad as x,ae as Z,S as ke,b as Oe,o as j,c as We,w as Be,e as U,f as Me,g as Ke,af as qe,ag as Ge,ah as Qe,A as Je,V as _e,z as T,F as we,k as ve,ai as et,a3 as tt,a1 as ot,a2 as nt,aj as at,ak as st,B as Ee,al as Pe,t as K,am as xe,U as it,an as rt,ao as ct,ap as lt,Y as ut,D as pt,G as dt}from"./vendor-e3c25a1d.js";import{_ as Re}from"./index-3a9087c6.js";const Te={type:"change"},q={type:"start"},Le={type:"end"};class mt extends $e{constructor(i,o){super(),o===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),o===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=i,this.domElement=o,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new w,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:C.ROTATE,MIDDLE:C.DOLLY,RIGHT:C.PAN},this.touches={ONE:I.ROTATE,TWO:I.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return c.phi},this.getAzimuthalAngle=function(){return c.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",de),this._domElementKeyEvents=t},this.saveState=function(){e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=function(){e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(Te),e.update(),a=n.NONE},this.update=function(){const t=new w,s=new be().setFromUnitVectors(i.up,new w(0,1,0)),g=s.clone().invert(),y=new w,E=new be,N=2*Math.PI;return function(){const ge=e.object.position;t.copy(ge).sub(e.target),t.applyQuaternion(s),c.setFromVector3(t),e.autoRotate&&a===n.NONE&&X(Y()),e.enableDamping?(c.theta+=v.theta*e.dampingFactor,c.phi+=v.phi*e.dampingFactor):(c.theta+=v.theta,c.phi+=v.phi);let R=e.minAzimuthAngle,A=e.maxAzimuthAngle;return isFinite(R)&&isFinite(A)&&(R<-Math.PI?R+=N:R>Math.PI&&(R-=N),A<-Math.PI?A+=N:A>Math.PI&&(A-=N),R<=A?c.theta=Math.max(R,Math.min(A,c.theta)):c.theta=c.theta>(R+A)/2?Math.max(R,c.theta):Math.min(A,c.theta)),c.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,c.phi)),c.makeSafe(),c.radius*=_,c.radius=Math.max(e.minDistance,Math.min(e.maxDistance,c.radius)),e.enableDamping===!0?e.target.addScaledVector(u,e.dampingFactor):e.target.add(u),t.setFromSpherical(c),t.applyQuaternion(g),ge.copy(e.target).add(t),e.object.lookAt(e.target),e.enableDamping===!0?(v.theta*=1-e.dampingFactor,v.phi*=1-e.dampingFactor,u.multiplyScalar(1-e.dampingFactor)):(v.set(0,0,0),u.set(0,0,0)),_=1,l||y.distanceToSquared(e.object.position)>d||8*(1-E.dot(e.object.quaternion))>d?(e.dispatchEvent(Te),y.copy(e.object.position),E.copy(e.object.quaternion),l=!1,!0):!1}}(),this.dispose=function(){e.domElement.removeEventListener("contextmenu",me),e.domElement.removeEventListener("pointerdown",le),e.domElement.removeEventListener("pointercancel",ue),e.domElement.removeEventListener("wheel",pe),e.domElement.removeEventListener("pointermove",$),e.domElement.removeEventListener("pointerup",W),e._domElementKeyEvents!==null&&e._domElementKeyEvents.removeEventListener("keydown",de)};const e=this,n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=n.NONE;const d=1e-6,c=new ye,v=new ye;let _=1;const u=new w;let l=!1;const p=new x,m=new x,S=new x,L=new x,k=new x,D=new x,O=new x,h=new x,b=new x,r=[],M={};function Y(){return 2*Math.PI/60/60*e.autoRotateSpeed}function P(){return Math.pow(.95,e.zoomSpeed)}function X(t){v.theta+=t}function G(t){v.phi+=t}const Q=function(){const t=new w;return function(g,y){t.setFromMatrixColumn(y,0),t.multiplyScalar(-g),u.add(t)}}(),J=function(){const t=new w;return function(g,y){e.screenSpacePanning===!0?t.setFromMatrixColumn(y,1):(t.setFromMatrixColumn(y,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(g),u.add(t)}}(),z=function(){const t=new w;return function(g,y){const E=e.domElement;if(e.object.isPerspectiveCamera){const N=e.object.position;t.copy(N).sub(e.target);let H=t.length();H*=Math.tan(e.object.fov/2*Math.PI/180),Q(2*g*H/E.clientHeight,e.object.matrix),J(2*y*H/E.clientHeight,e.object.matrix)}else e.object.isOrthographicCamera?(Q(g*(e.object.right-e.object.left)/e.object.zoom/E.clientWidth,e.object.matrix),J(y*(e.object.top-e.object.bottom)/e.object.zoom/E.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}}();function V(t){e.object.isPerspectiveCamera?_/=t:e.object.isOrthographicCamera?(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom*t)),e.object.updateProjectionMatrix(),l=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function ee(t){e.object.isPerspectiveCamera?_*=t:e.object.isOrthographicCamera?(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/t)),e.object.updateProjectionMatrix(),l=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function te(t){p.set(t.clientX,t.clientY)}function Ae(t){O.set(t.clientX,t.clientY)}function oe(t){L.set(t.clientX,t.clientY)}function Se(t){m.set(t.clientX,t.clientY),S.subVectors(m,p).multiplyScalar(e.rotateSpeed);const s=e.domElement;X(2*Math.PI*S.x/s.clientHeight),G(2*Math.PI*S.y/s.clientHeight),p.copy(m),e.update()}function De(t){h.set(t.clientX,t.clientY),b.subVectors(h,O),b.y>0?V(P()):b.y<0&&ee(P()),O.copy(h),e.update()}function je(t){k.set(t.clientX,t.clientY),D.subVectors(k,L).multiplyScalar(e.panSpeed),z(D.x,D.y),L.copy(k),e.update()}function ze(t){t.deltaY<0?ee(P()):t.deltaY>0&&V(P()),e.update()}function Ne(t){let s=!1;switch(t.code){case e.keys.UP:z(0,e.keyPanSpeed),s=!0;break;case e.keys.BOTTOM:z(0,-e.keyPanSpeed),s=!0;break;case e.keys.LEFT:z(e.keyPanSpeed,0),s=!0;break;case e.keys.RIGHT:z(-e.keyPanSpeed,0),s=!0;break}s&&(t.preventDefault(),e.update())}function ne(){if(r.length===1)p.set(r[0].pageX,r[0].pageY);else{const t=.5*(r[0].pageX+r[1].pageX),s=.5*(r[0].pageY+r[1].pageY);p.set(t,s)}}function ae(){if(r.length===1)L.set(r[0].pageX,r[0].pageY);else{const t=.5*(r[0].pageX+r[1].pageX),s=.5*(r[0].pageY+r[1].pageY);L.set(t,s)}}function se(){const t=r[0].pageX-r[1].pageX,s=r[0].pageY-r[1].pageY,g=Math.sqrt(t*t+s*s);O.set(0,g)}function Ce(){e.enableZoom&&se(),e.enablePan&&ae()}function Ie(){e.enableZoom&&se(),e.enableRotate&&ne()}function ie(t){if(r.length==1)m.set(t.pageX,t.pageY);else{const g=B(t),y=.5*(t.pageX+g.x),E=.5*(t.pageY+g.y);m.set(y,E)}S.subVectors(m,p).multiplyScalar(e.rotateSpeed);const s=e.domElement;X(2*Math.PI*S.x/s.clientHeight),G(2*Math.PI*S.y/s.clientHeight),p.copy(m)}function re(t){if(r.length===1)k.set(t.pageX,t.pageY);else{const s=B(t),g=.5*(t.pageX+s.x),y=.5*(t.pageY+s.y);k.set(g,y)}D.subVectors(k,L).multiplyScalar(e.panSpeed),z(D.x,D.y),L.copy(k)}function ce(t){const s=B(t),g=t.pageX-s.x,y=t.pageY-s.y,E=Math.sqrt(g*g+y*y);h.set(0,E),b.set(0,Math.pow(h.y/O.y,e.zoomSpeed)),V(b.y),O.copy(h)}function Ue(t){e.enableZoom&&ce(t),e.enablePan&&re(t)}function Ye(t){e.enableZoom&&ce(t),e.enableRotate&&ie(t)}function le(t){e.enabled!==!1&&(r.length===0&&(e.domElement.setPointerCapture(t.pointerId),e.domElement.addEventListener("pointermove",$),e.domElement.addEventListener("pointerup",W)),Ve(t),t.pointerType==="touch"?Ze(t):He(t))}function $(t){e.enabled!==!1&&(t.pointerType==="touch"?Xe(t):Fe(t))}function W(t){fe(t),r.length===0&&(e.domElement.releasePointerCapture(t.pointerId),e.domElement.removeEventListener("pointermove",$),e.domElement.removeEventListener("pointerup",W)),e.dispatchEvent(Le),a=n.NONE}function ue(t){fe(t)}function He(t){let s;switch(t.button){case 0:s=e.mouseButtons.LEFT;break;case 1:s=e.mouseButtons.MIDDLE;break;case 2:s=e.mouseButtons.RIGHT;break;default:s=-1}switch(s){case C.DOLLY:if(e.enableZoom===!1)return;Ae(t),a=n.DOLLY;break;case C.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;oe(t),a=n.PAN}else{if(e.enableRotate===!1)return;te(t),a=n.ROTATE}break;case C.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;te(t),a=n.ROTATE}else{if(e.enablePan===!1)return;oe(t),a=n.PAN}break;default:a=n.NONE}a!==n.NONE&&e.dispatchEvent(q)}function Fe(t){if(e.enabled!==!1)switch(a){case n.ROTATE:if(e.enableRotate===!1)return;Se(t);break;case n.DOLLY:if(e.enableZoom===!1)return;De(t);break;case n.PAN:if(e.enablePan===!1)return;je(t);break}}function pe(t){e.enabled===!1||e.enableZoom===!1||a!==n.NONE||(t.preventDefault(),e.dispatchEvent(q),ze(t),e.dispatchEvent(Le))}function de(t){e.enabled===!1||e.enablePan===!1||Ne(t)}function Ze(t){switch(he(t),r.length){case 1:switch(e.touches.ONE){case I.ROTATE:if(e.enableRotate===!1)return;ne(),a=n.TOUCH_ROTATE;break;case I.PAN:if(e.enablePan===!1)return;ae(),a=n.TOUCH_PAN;break;default:a=n.NONE}break;case 2:switch(e.touches.TWO){case I.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ce(),a=n.TOUCH_DOLLY_PAN;break;case I.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Ie(),a=n.TOUCH_DOLLY_ROTATE;break;default:a=n.NONE}break;default:a=n.NONE}a!==n.NONE&&e.dispatchEvent(q)}function Xe(t){switch(he(t),a){case n.TOUCH_ROTATE:if(e.enableRotate===!1)return;ie(t),e.update();break;case n.TOUCH_PAN:if(e.enablePan===!1)return;re(t),e.update();break;case n.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ue(t),e.update();break;case n.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Ye(t),e.update();break;default:a=n.NONE}}function me(t){e.enabled!==!1&&t.preventDefault()}function Ve(t){r.push(t)}function fe(t){delete M[t.pointerId];for(let s=0;s<r.length;s++)if(r[s].pointerId==t.pointerId){r.splice(s,1);return}}function he(t){let s=M[t.pointerId];s===void 0&&(s=new x,M[t.pointerId]=s),s.set(t.pageX,t.pageY)}function B(t){const s=t.pointerId===r[0].pointerId?r[1]:r[0];return M[s.pointerId]}e.domElement.addEventListener("contextmenu",me),e.domElement.addEventListener("pointerdown",le),e.domElement.addEventListener("pointercancel",ue),e.domElement.addEventListener("wheel",pe,{passive:!1}),this.update()}}const ft={animateCamera:(f,i,o,e,n=2e3,a)=>{const d=new Z.Tween({x1:f.position.x,y1:f.position.y,z1:f.position.z,x2:i.target.x,y2:i.target.y,z2:i.target.z});d.to({x1:o.x,y1:o.y,z1:o.z,x2:e.x,y2:e.y,z2:e.z},n),d.onUpdate(function(c){f.position.x=c.x1,f.position.y=c.y1,f.position.z=c.z1,i.target.x=c.x2,i.target.y=c.y2,i.target.z=c.z2,i.update()}),d.onComplete(function(){i.enabled=!0,i.update(),a()}),d.easing(Z.Easing.Cubic.InOut),d.start()}},ht=f=>new Promise(i=>{setTimeout(i,f)}),gt=(f,i)=>{const o=document.createElement("div");o.style.position="fixed",o.style.maxWidth="80%",o.style.color="white",o.style.fontSize="14px",o.style.boxSizing="border-box",o.style.background="rgba(0,0,0,0.76)",o.style.padding="0.8em 2.618em",o.style.top="40%",o.style.left="50%",o.style.zIndex=999999999,o.style.borderRadius="3px",o.style.opacity="0",o.innerText=f,document.body.appendChild(o),o.style.marginLeft=-(o.offsetWidth/2)+"px",o.style.marginTop=-o.offsetHeight/2+"px",setTimeout(function(){o.style.marginLeft=-(o.offsetWidth/2)+"px",o.style.marginTop=-o.offsetHeight+"px",o.style.transition="all 0.3s",o.style.opacity="1",setTimeout(function(){o.style.opacity="0",o.style.marginTop=-o.offsetHeight/2+"px",setTimeout(function(){document.body.removeChild(o)},300)},parseInt(i)||1618)},0)},F=[{name:"客厅",key:"living-room",map:new URL("/vue3-model/assets/map_living_room-3b943256.jpg",self.location).href,showSwitch:!0,position:new w(0,0,0),interactivePoints:[{key:"tv",value:"电视机",description:"智能电视",cover:new URL("/vue3-model/assets/cover_living_room_tv-73e5fbd3.png",self.location).href,position:new w(-6,2,-8)},{key:"fridge",value:"冰箱",description:"豪华冰箱",cover:new URL("/vue3-model/assets/cover_living_room_fridge-be328301.png",self.location).href,position:new w(-12,4,9)},{key:"sofa",value:"沙发",description:"舒适沙发",cover:new URL("/vue3-model/assets/cover_living_room_sofa-7272eb82.png",self.location).href,position:new w(6,0,-8)}]},{name:"卧室",key:"bed-room",map:new URL("/vue3-model/assets/map_bed_room-54905436.jpg",self.location).href,showSwitch:!0,position:new w(-32,0,0),interactivePoints:[{key:"bed",value:"床",description:"温暖的床",cover:new URL("/vue3-model/assets/cover_bed_room_bed-b049b23b.png",self.location).href,position:new w(-38,2,-14)}]},{name:"书房",key:"study-room",map:new URL("/vue3-model/assets/map_study_room-e6b1d86f.jpg",self.location).href,showSwitch:!0,position:new w(32,0,0),interactivePoints:[{key:"art",value:"艺术品",description:"绝版作品",cover:new URL("/vue3-model/assets/cover_study_room_art-bdfabd4f.png",self.location).href,position:new w(42,6,-8)}]}],bt=[new URL("/vue3-model/assets/map_bed_room-54905436.jpg",self.location).href,new URL("/vue3-model/assets/map_study_room-e6b1d86f.jpg",self.location).href,new URL("/vue3-model/assets/map_living_room-3b943256.jpg",self.location).href,new URL("/vue3-model/assets/cover_bed_room_bed-b049b23b.png",self.location).href,new URL("/vue3-model/assets/cover_living_room_fridge-be328301.png",self.location).href,new URL("/vue3-model/assets/cover_living_room_sofa-7272eb82.png",self.location).href,new URL("/vue3-model/assets/cover_living_room_tv-73e5fbd3.png",self.location).href,new URL("/vue3-model/assets/cover_study_room_art-bdfabd4f.png",self.location).href];class yt{constructor(){this.data=[],this.self={},this.load={},this.setupSelf(),this.setupLoad()}setupSelf(){const i=this,o={};o.allType={image:["jpg","png"],json:["json"],audio:["mp3"]},o.getType=function(e){const n=e.match(/[^\.]+$/)[0];let a=null;for(const d in o.allType)if(o.allType[d].join(",").indexOf(n)!==-1){a=d;break}else a="nonsupport";return a},o.setData=function(e){const n=[];e.forEach(function(a,d,c){const v=a.url||a,_=o.getType(v),u=a.callback||null;n.push({url:v,type:_,callback:u})}),this.data=n,i.data=n},this.self=o}setupLoad(){const i=this,o={};o.events={start:null,loading:null,complete:null,error:null},o.on=function(e,n){o.events[e]=n},o.off=function(e){o.events[e]=null},o.start=function(e){const n=e||i.data;o.nowProgress=0,o.allProgress=n.length,o._runEvent("start"),n.forEach(function(a,d,c){a.type!=="nonsupport"&&o[`_${a.type}`](a)})},o._complete=function(e,n){e.callback&&e.callback(n),o.nowProgress++,o._runEvent("loading"),o._runEvent("complete")},o._error=function(e,n){o._runEvent("error")},o._runEvent=function(e){switch(e){case"start":o.events.start&&o.start();break;case"loading":o.events.loading&&o.events.loading({nowProgress:o.nowProgress,allProgress:o.allProgress});break;case"complete":o.events.complete&&o.nowProgress===o.allProgress&&o.events.complete();break;case"error":o.events.error&&o.events.error();break}},o._get=function(e,n){const a=new XMLHttpRequest;a.open("post",e.url,!0),a.responseType=n,a.send(),a.onload=function(d){o._complete(e,d.currentTarget.response)},a.onerror=function(d){console.log(`error:${d}`)}},o._image=function(e){const n=new Image;n.src=e.url,n.onload=function(a){o._complete(e,a)},n.error=function(a){o.error(e,a)}},o._json=function(e){o._get(e,"json")},o._audio=function(e){o._get(e,"arraybuffer")},this.load=o}}const _t={key:0,class:"progress"},wt={__name:"progress",props:{resourceList:{type:Array,required:!0}},setup(f){const i=f,o=ke({loadingComplete:!1,percent:0}),e=[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}];return Oe(()=>{const n=new yt;n.self.setData(i.resourceList),n.load.start(),n.load.on("loading",function(a){o.percent=0+Math.floor(a.nowProgress/a.allProgress*100)}),n.load.on("complete",function(){console.log("load complete"),o.loadingComplete=!0})}),(n,a)=>{const d=Ge;return j(),We(qe,null,{default:Be(()=>[o.loadingComplete?Ke("",!0):(j(),U("div",_t,[Me(d,{type:"dashboard",percentage:o.percent,color:e,width:200},null,8,["percentage"])]))]),_:1})}}},vt=Re(wt,[["__scopeId","data-v-40b6f4c0"]]);const Et=f=>(pt("data-v-f9f811e2"),f=f(),dt(),f),Pt={class:"home"},xt=et('<canvas class="webgl" data-v-f9f811e2></canvas><div class="vr" data-v-f9f811e2><span class="vr-box" data-v-f9f811e2><i class="vr-icon" data-v-f9f811e2></i><b class="vr-text" data-v-f9f811e2>全景漫游</b></span></div>',2),Tt={class:"switch"},Lt=["onClick"],kt={class:"switch-button__text"},Ot=Et(()=>T("i",{class:"switch-button__icon"},null,-1)),Mt=["onClick"],Rt={class:"point-label__tips"},At={class:"point-cover"},St={class:"point-info"},Dt={class:"point-info__text p1"},jt={class:"point-info__text p2"},zt={__name:"home-view",setup(f){const i=ke({renderer:null,camera:null,scene:null,controls:null,cameraZAxis:2,currentRoom:"living-room"}),o={};let e=0;const n=Qe(()=>{const _=[];return F.forEach(u=>{u.interactivePoints&&u.interactivePoints.length>0&&u.interactivePoints.forEach(l=>{l={room:u.key,...l},_.push(l)})}),_}),a=()=>{o.width=window.innerWidth,o.height=window.innerHeight,i.renderer.setSize(o.width,o.height),i.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),i.camera.aspect=o.width/o.height,i.camera.updateProjectionMatrix()},d=()=>{const _=document.querySelector("canvas.webgl"),u=new tt({canvas:_});u.setSize(o.width,o.height),u.setPixelRatio(Math.min(window.devicePixelRatio,2)),i.renderer=u;const l=new ot;i.scene=l;const p=new nt(65,o.width/o.height,.1,1e3);p.position.z=i.cameraZAxis,l.add(p),i.camera=p;const m=new mt(p,u.domElement);m.target.set(0,0,0),m.enableDamping=!0,m.enablePan=!1,m.maxDistance=12,m.minPolarAngle=Math.PI/2,m.maxPolarAngle=Math.PI/2,i.controls=m,window.addEventListener("resize",a);const S=new at,L=(h,b,r)=>{const M=new rt(16,256,256);M.scale(1,1,-1);const Y=new ct({map:S.load(r),side:lt}),P=new ut(M,Y);return P.name=h,P.position.set(b.x,b.y,b.z),P.rotation.y=Math.PI/2,l.add(P),P};F.map(h=>L(h.key,h.position,h.map));const k=new st,D=n.value.map((h,b)=>({...h,element:document.querySelector(`.point-${b}`)})),O=()=>{if(u)for(const h of D){const b=h.position.clone(),r=b.project(p);if(k.setFromCamera(b,p),Math.abs(r.x)>1||Math.abs(r.y)>1||Math.abs(r.z)>1){h.element.style.transform="scale(0, 0)";continue}const M=b.x*o.width*.5,Y=-b.y*o.height*.5;h.element.style.transform=`translateX(${M}px) translateY(${Y}px)`}m&&m.update(),Z&&Z.update(),u.render(l,p),e=window.requestAnimationFrame(O)};O()},c=async _=>{const u=F.filter(l=>l.key===_)[0];if(i.camera){const l=u.position.x,p=u.position.y,m=u.position.z;ft.animateCamera(i.camera,i.controls,{x:l,y:p,z:i.cameraZAxis},{x:l,y:p,z:m},1600,()=>({})),i.controls.update()}await ht(1600),i.currentRoom=u.key},v=_=>{gt(`您点击了${_.value}`)};return Oe(()=>{o.width=window.innerWidth,o.height=window.innerHeight,d()}),Je(()=>{window.removeEventListener("resize",a),window.cancelAnimationFrame(e)}),(_,u)=>(j(),U("div",Pt,[Me(vt,{resourceList:_e(bt)},null,8,["resourceList"]),xt,T("div",Tt,[(j(!0),U(we,null,ve(_e(F),(l,p)=>Ee((j(),U("span",{class:"switch-button",key:p,onClick:m=>c(l.key)},[T("b",kt,K(l.name),1),Ot],8,Lt)),[[Pe,l.key!==i.currentRoom]])),128))]),(j(!0),U(we,null,ve(n.value,(l,p)=>Ee((j(),U("div",{class:xe(["point",[`point-${p}`,`point-${l.key}`]]),key:p,onClick:m=>v(l)},[T("div",{class:xe(["point-label animate-point-wave",[`label-${p}`,`label-${l.key}`]])},[T("label",Rt,[T("div",At,[T("i",{class:"point-cover__icon",style:it({background:`url(${l.cover}) no-repeat center`,"background-size":"contain"})},null,4)]),T("div",St,[T("p",Dt,K(l.value),1),T("p",jt,K(l.description),1)])])],2)],10,Mt)),[[Pe,l.room===i.currentRoom]])),128))]))}},It=Re(zt,[["__scopeId","data-v-f9f811e2"]]);export{It as default};
