import{s as _f,u as X,c as ce,r as ao,n as cn,i as Ft,d as We,h as vr,p as Ir,a as je,w as xt,g as WR,o as QC,b as JC,e as Hi,f as $r,j as Tr,k as YR,l as Se,m as Fe,q as lt,t as ba,v as wb,x as XR,N as Vo,y as Cl,z as Dv,A as c1,B as qR,C as ha,D as Kn,E as ZR,F as Je,G as Ur,H as Ri,I as KR,J as f1,K as Ge,L as QR,M as sr,O as Jr,P as _h,Q as mt,R as wt,S as Wn,T as Kr,U as nu,V as xr,W as dt,X as JR,Y as eO,Z as rs,_ as _u,$ as h1,a0 as tO,a1 as eA,a2 as rO,a3 as bu,a4 as tA,a5 as nO,a6 as Al,a7 as vy,a8 as Tb,a9 as sf,aa as iO,ab as uf,ac as aO,ad as oO,ae as sO,af as uO,ag as Cb}from"./@vue-8492d132.js";function rA(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const ll=typeof window<"u";function lO(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const qt=Object.assign;function Tg(t,e){const r={};for(const n in e){const i=e[n];r[n]=Fi(i)?i.map(t):t(i)}return r}const bf=()=>{},Fi=Array.isArray,cO=/\/$/,fO=t=>t.replace(cO,"");function Cg(t,e,r="/"){let n,i={},a="",o="";const s=e.indexOf("#");let u=e.indexOf("?");return s<u&&s>=0&&(u=-1),u>-1&&(n=e.slice(0,u),a=e.slice(u+1,s>-1?s:e.length),i=t(a)),s>-1&&(n=n||e.slice(0,s),o=e.slice(s,e.length)),n=pO(n??e,r),{fullPath:n+(a&&"?")+a+o,path:n,query:i,hash:o}}function hO(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function Ab(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function dO(t,e,r){const n=e.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&Nl(e.matched[n],r.matched[i])&&nA(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Nl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function nA(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!vO(t[r],e[r]))return!1;return!0}function vO(t,e){return Fi(t)?kb(t,e):Fi(e)?kb(e,t):t===e}function kb(t,e){return Fi(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function pO(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let a=r.length-1,o,s;for(o=0;o<n.length;o++)if(s=n[o],s!==".")if(s==="..")a>1&&a--;else break;return r.slice(0,a).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var Uf;(function(t){t.pop="pop",t.push="push"})(Uf||(Uf={}));var xf;(function(t){t.back="back",t.forward="forward",t.unknown=""})(xf||(xf={}));function gO(t){if(!t)if(ll){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),fO(t)}const mO=/^[^#]+#/;function yO(t,e){return t.replace(mO,"#")+e}function _O(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const Sp=()=>({left:window.pageXOffset,top:window.pageYOffset});function bO(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=_O(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Pb(t,e){return(history.state?history.state.position-e:-1)+t}const py=new Map;function xO(t,e){py.set(t,e)}function SO(t){const e=py.get(t);return py.delete(t),e}let wO=()=>location.protocol+"//"+location.host;function iA(t,e){const{pathname:r,search:n,hash:i}=e,a=t.indexOf("#");if(a>-1){let s=i.includes(t.slice(a))?t.slice(a).length:1,u=i.slice(s);return u[0]!=="/"&&(u="/"+u),Ab(u,"")}return Ab(r,t)+n+i}function TO(t,e,r,n){let i=[],a=[],o=null;const s=({state:f})=>{const v=iA(t,location),p=r.value,g=e.value;let m=0;if(f){if(r.value=v,e.value=f,o&&o===p){o=null;return}m=g?f.position-g.position:0}else n(v);i.forEach(_=>{_(r.value,p,{delta:m,type:Uf.pop,direction:m?m>0?xf.forward:xf.back:xf.unknown})})};function u(){o=r.value}function l(f){i.push(f);const v=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return a.push(v),v}function c(){const{history:f}=window;f.state&&f.replaceState(qt({},f.state,{scroll:Sp()}),"")}function h(){for(const f of a)f();a=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:u,listen:l,destroy:h}}function Eb(t,e,r,n=!1,i=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:i?Sp():null}}function CO(t){const{history:e,location:r}=window,n={value:iA(t,r)},i={value:e.state};i.value||a(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(u,l,c){const h=t.indexOf("#"),f=h>-1?(r.host&&document.querySelector("base")?t:t.slice(h))+u:wO()+t+u;try{e[c?"replaceState":"pushState"](l,"",f),i.value=l}catch(v){console.error(v),r[c?"replace":"assign"](f)}}function o(u,l){const c=qt({},e.state,Eb(i.value.back,u,i.value.forward,!0),l,{position:i.value.position});a(u,c,!0),n.value=u}function s(u,l){const c=qt({},i.value,e.state,{forward:u,scroll:Sp()});a(c.current,c,!0);const h=qt({},Eb(n.value,u,null),{position:c.position+1},l);a(u,h,!1),n.value=u}return{location:n,state:i,push:s,replace:o}}function AO(t){t=gO(t);const e=CO(t),r=TO(t,e.state,e.location,e.replace);function n(a,o=!0){o||r.pauseListeners(),history.go(a)}const i=qt({location:"",base:t,go:n,createHref:yO.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function cie(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),AO(t)}function kO(t){return typeof t=="string"||t&&typeof t=="object"}function aA(t){return typeof t=="string"||typeof t=="symbol"}const xo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},oA=Symbol("");var Mb;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Mb||(Mb={}));function Fl(t,e){return qt(new Error,{type:t,[oA]:!0},e)}function za(t,e){return t instanceof Error&&oA in t&&(e==null||!!(t.type&e))}const Db="[^/]+?",PO={sensitive:!1,strict:!1,start:!0,end:!0},EO=/[.+*?^${}()[\]/\\]/g;function MO(t,e){const r=qt({},PO,e),n=[];let i=r.start?"^":"";const a=[];for(const l of t){const c=l.length?[]:[90];r.strict&&!l.length&&(i+="/");for(let h=0;h<l.length;h++){const f=l[h];let v=40+(r.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(EO,"\\$&"),v+=40;else if(f.type===1){const{value:p,repeatable:g,optional:m,regexp:_}=f;a.push({name:p,repeatable:g,optional:m});const b=_||Db;if(b!==Db){v+=10;try{new RegExp(`(${b})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+T.message)}}let w=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;h||(w=m&&l.length<2?`(?:/${w})`:"/"+w),m&&(w+="?"),i+=w,v+=20,m&&(v+=-8),g&&(v+=-20),b===".*"&&(v+=-50)}c.push(v)}n.push(c)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const o=new RegExp(i,r.sensitive?"":"i");function s(l){const c=l.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const v=c[f]||"",p=a[f-1];h[p.name]=v&&p.repeatable?v.split("/"):v}return h}function u(l){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const v of f)if(v.type===0)c+=v.value;else if(v.type===1){const{value:p,repeatable:g,optional:m}=v,_=p in l?l[p]:"";if(Fi(_)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=Fi(_)?_.join("/"):_;if(!b)if(m)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);c+=b}}return c||"/"}return{re:o,score:n,keys:a,parse:s,stringify:u}}function DO(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function LO(t,e){let r=0;const n=t.score,i=e.score;for(;r<n.length&&r<i.length;){const a=DO(n[r],i[r]);if(a)return a;r++}if(Math.abs(i.length-n.length)===1){if(Lb(n))return 1;if(Lb(i))return-1}return i.length-n.length}function Lb(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const RO={type:0,value:""},OO=/[a-zA-Z0-9_]/;function IO(t){if(!t)return[[]];if(t==="/")return[[RO]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(v){throw new Error(`ERR (${r})/"${l}": ${v}`)}let r=0,n=r;const i=[];let a;function o(){a&&i.push(a),a=[]}let s=0,u,l="",c="";function h(){l&&(r===0?a.push({type:0,value:l}):r===1||r===2||r===3?(a.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:l,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=u}for(;s<t.length;){if(u=t[s++],u==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:u==="/"?(l&&h(),o()):u===":"?(h(),r=1):f();break;case 4:f(),r=n;break;case 1:u==="("?r=2:OO.test(u)?f():(h(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&s--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:r=3:c+=u;break;case 3:h(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&s--,c="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),o(),i}function BO(t,e,r){const n=MO(IO(t.path),r),i=qt(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function NO(t,e){const r=[],n=new Map;e=Ib({strict:!1,end:!0,sensitive:!1},e);function i(c){return n.get(c)}function a(c,h,f){const v=!f,p=FO(c);p.aliasOf=f&&f.record;const g=Ib(e,c),m=[p];if("alias"in c){const w=typeof c.alias=="string"?[c.alias]:c.alias;for(const T of w)m.push(qt({},p,{components:f?f.record.components:p.components,path:T,aliasOf:f?f.record:p}))}let _,b;for(const w of m){const{path:T}=w;if(h&&T[0]!=="/"){const k=h.record.path,A=k[k.length-1]==="/"?"":"/";w.path=h.record.path+(T&&A+T)}if(_=BO(w,h,g),f?f.alias.push(_):(b=b||_,b!==_&&b.alias.push(_),v&&c.name&&!Ob(_)&&o(c.name)),p.children){const k=p.children;for(let A=0;A<k.length;A++)a(k[A],_,f&&f.children[A])}f=f||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&u(_)}return b?()=>{o(b)}:bf}function o(c){if(aA(c)){const h=n.get(c);h&&(n.delete(c),r.splice(r.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=r.indexOf(c);h>-1&&(r.splice(h,1),c.record.name&&n.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function s(){return r}function u(c){let h=0;for(;h<r.length&&LO(c,r[h])>=0&&(c.record.path!==r[h].record.path||!sA(c,r[h]));)h++;r.splice(h,0,c),c.record.name&&!Ob(c)&&n.set(c.record.name,c)}function l(c,h){let f,v={},p,g;if("name"in c&&c.name){if(f=n.get(c.name),!f)throw Fl(1,{location:c});g=f.record.name,v=qt(Rb(h.params,f.keys.filter(b=>!b.optional).map(b=>b.name)),c.params&&Rb(c.params,f.keys.map(b=>b.name))),p=f.stringify(v)}else if("path"in c)p=c.path,f=r.find(b=>b.re.test(p)),f&&(v=f.parse(p),g=f.record.name);else{if(f=h.name?n.get(h.name):r.find(b=>b.re.test(h.path)),!f)throw Fl(1,{location:c,currentLocation:h});g=f.record.name,v=qt({},h.params,c.params),p=f.stringify(v)}const m=[];let _=f;for(;_;)m.unshift(_.record),_=_.parent;return{name:g,path:p,params:v,matched:m,meta:HO(m)}}return t.forEach(c=>a(c)),{addRoute:a,resolve:l,removeRoute:o,getRoutes:s,getRecordMatcher:i}}function Rb(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function FO(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:$O(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function $O(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="boolean"?r:r[n];return e}function Ob(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function HO(t){return t.reduce((e,r)=>qt(e,r.meta),{})}function Ib(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function sA(t,e){return e.children.some(r=>r===t||sA(t,r))}const uA=/#/g,zO=/&/g,UO=/\//g,VO=/=/g,GO=/\?/g,lA=/\+/g,jO=/%5B/g,WO=/%5D/g,cA=/%5E/g,YO=/%60/g,fA=/%7B/g,XO=/%7C/g,hA=/%7D/g,qO=/%20/g;function d1(t){return encodeURI(""+t).replace(XO,"|").replace(jO,"[").replace(WO,"]")}function ZO(t){return d1(t).replace(fA,"{").replace(hA,"}").replace(cA,"^")}function gy(t){return d1(t).replace(lA,"%2B").replace(qO,"+").replace(uA,"%23").replace(zO,"%26").replace(YO,"`").replace(fA,"{").replace(hA,"}").replace(cA,"^")}function KO(t){return gy(t).replace(VO,"%3D")}function QO(t){return d1(t).replace(uA,"%23").replace(GO,"%3F")}function JO(t){return t==null?"":QO(t).replace(UO,"%2F")}function Lv(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function eI(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const a=n[i].replace(lA," "),o=a.indexOf("="),s=Lv(o<0?a:a.slice(0,o)),u=o<0?null:Lv(a.slice(o+1));if(s in e){let l=e[s];Fi(l)||(l=e[s]=[l]),l.push(u)}else e[s]=u}return e}function Bb(t){let e="";for(let r in t){const n=t[r];if(r=KO(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Fi(n)?n.map(a=>a&&gy(a)):[n&&gy(n)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+r,a!=null&&(e+="="+a))})}return e}function tI(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Fi(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const rI=Symbol(""),Nb=Symbol(""),wp=Symbol(""),dA=Symbol(""),my=Symbol("");function Rc(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t,reset:r}}function Oo(t,e,r,n,i){const a=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((o,s)=>{const u=h=>{h===!1?s(Fl(4,{from:r,to:e})):h instanceof Error?s(h):kO(h)?s(Fl(2,{from:e,to:h})):(a&&n.enterCallbacks[i]===a&&typeof h=="function"&&a.push(h),o())},l=t.call(n&&n.instances[i],e,r,u);let c=Promise.resolve(l);t.length<3&&(c=c.then(u)),c.catch(h=>s(h))})}function Ag(t,e,r,n){const i=[];for(const a of t)for(const o in a.components){let s=a.components[o];if(!(e!=="beforeRouteEnter"&&!a.instances[o]))if(nI(s)){const l=(s.__vccOpts||s)[e];l&&i.push(Oo(l,r,n,a,o))}else{let u=s();i.push(()=>u.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${a.path}"`));const c=lO(l)?l.default:l;a.components[o]=c;const f=(c.__vccOpts||c)[e];return f&&Oo(f,r,n,a,o)()}))}}return i}function nI(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Fb(t){const e=Ft(wp),r=Ft(dA),n=ce(()=>e.resolve(X(t.to))),i=ce(()=>{const{matched:u}=n.value,{length:l}=u,c=u[l-1],h=r.matched;if(!c||!h.length)return-1;const f=h.findIndex(Nl.bind(null,c));if(f>-1)return f;const v=$b(u[l-2]);return l>1&&$b(c)===v&&h[h.length-1].path!==v?h.findIndex(Nl.bind(null,u[l-2])):f}),a=ce(()=>i.value>-1&&sI(r.params,n.value.params)),o=ce(()=>i.value>-1&&i.value===r.matched.length-1&&nA(r.params,n.value.params));function s(u={}){return oI(u)?e[X(t.replace)?"replace":"push"](X(t.to)).catch(bf):Promise.resolve()}return{route:n,href:ce(()=>n.value.href),isActive:a,isExactActive:o,navigate:s}}const iI=We({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Fb,setup(t,{slots:e}){const r=ao(Fb(t)),{options:n}=Ft(wp),i=ce(()=>({[Hb(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Hb(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const a=e.default&&e.default(r);return t.custom?a:vr("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},a)}}}),aI=iI;function oI(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function sI(t,e){for(const r in e){const n=e[r],i=t[r];if(typeof n=="string"){if(n!==i)return!1}else if(!Fi(i)||i.length!==n.length||n.some((a,o)=>a!==i[o]))return!1}return!0}function $b(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Hb=(t,e,r)=>t??e??r,uI=We({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=Ft(my),i=ce(()=>t.route||n.value),a=Ft(Nb,0),o=ce(()=>{let l=X(a);const{matched:c}=i.value;let h;for(;(h=c[l])&&!h.components;)l++;return l}),s=ce(()=>i.value.matched[o.value]);Ir(Nb,ce(()=>o.value+1)),Ir(rI,s),Ir(my,i);const u=je();return xt(()=>[u.value,s.value,t.name],([l,c,h],[f,v,p])=>{c&&(c.instances[h]=l,v&&v!==c&&l&&l===f&&(c.leaveGuards.size||(c.leaveGuards=v.leaveGuards),c.updateGuards.size||(c.updateGuards=v.updateGuards))),l&&c&&(!v||!Nl(c,v)||!f)&&(c.enterCallbacks[h]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=i.value,c=t.name,h=s.value,f=h&&h.components[c];if(!f)return zb(r.default,{Component:f,route:l});const v=h.props[c],p=v?v===!0?l.params:typeof v=="function"?v(l):v:null,m=vr(f,qt({},p,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(h.instances[c]=null)},ref:u}));return zb(r.default,{Component:m,route:l})||m}}});function zb(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const lI=uI;function fie(t){const e=NO(t.routes,t),r=t.parseQuery||eI,n=t.stringifyQuery||Bb,i=t.history,a=Rc(),o=Rc(),s=Rc(),u=_f(xo);let l=xo;ll&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Tg.bind(null,se=>""+se),h=Tg.bind(null,JO),f=Tg.bind(null,Lv);function v(se,pe){let ge,be;return aA(se)?(ge=e.getRecordMatcher(se),be=pe):be=se,e.addRoute(be,ge)}function p(se){const pe=e.getRecordMatcher(se);pe&&e.removeRoute(pe)}function g(){return e.getRoutes().map(se=>se.record)}function m(se){return!!e.getRecordMatcher(se)}function _(se,pe){if(pe=qt({},pe||u.value),typeof se=="string"){const Ne=Cg(r,se,pe.path),vt=e.resolve({path:Ne.path},pe),Yt=i.createHref(Ne.fullPath);return qt(Ne,vt,{params:f(vt.params),hash:Lv(Ne.hash),redirectedFrom:void 0,href:Yt})}let ge;if("path"in se)ge=qt({},se,{path:Cg(r,se.path,pe.path).path});else{const Ne=qt({},se.params);for(const vt in Ne)Ne[vt]==null&&delete Ne[vt];ge=qt({},se,{params:h(Ne)}),pe.params=h(pe.params)}const be=e.resolve(ge,pe),Ce=se.hash||"";be.params=c(f(be.params));const He=hO(n,qt({},se,{hash:ZO(Ce),path:be.path})),Ie=i.createHref(He);return qt({fullPath:He,hash:Ce,query:n===Bb?tI(se.query):se.query||{}},be,{redirectedFrom:void 0,href:Ie})}function b(se){return typeof se=="string"?Cg(r,se,u.value.path):qt({},se)}function w(se,pe){if(l!==se)return Fl(8,{from:pe,to:se})}function T(se){return M(se)}function k(se){return T(qt(b(se),{replace:!0}))}function A(se){const pe=se.matched[se.matched.length-1];if(pe&&pe.redirect){const{redirect:ge}=pe;let be=typeof ge=="function"?ge(se):ge;return typeof be=="string"&&(be=be.includes("?")||be.includes("#")?be=b(be):{path:be},be.params={}),qt({query:se.query,hash:se.hash,params:"path"in be?{}:se.params},be)}}function M(se,pe){const ge=l=_(se),be=u.value,Ce=se.state,He=se.force,Ie=se.replace===!0,Ne=A(ge);if(Ne)return M(qt(b(Ne),{state:typeof Ne=="object"?qt({},Ce,Ne.state):Ce,force:He,replace:Ie}),pe||ge);const vt=ge;vt.redirectedFrom=pe;let Yt;return!He&&dO(n,be,ge)&&(Yt=Fl(16,{to:vt,from:be}),he(be,be,!0,!1)),(Yt?Promise.resolve(Yt):$(vt,be)).catch(It=>za(It)?za(It,2)?It:ae(It):Q(It,vt,be)).then(It=>{if(It){if(za(It,2))return M(qt({replace:Ie},b(It.to),{state:typeof It.to=="object"?qt({},Ce,It.to.state):Ce,force:He}),pe||vt)}else It=U(vt,be,!0,Ie,Ce);return B(vt,be,It),It})}function O(se,pe){const ge=w(se,pe);return ge?Promise.reject(ge):Promise.resolve()}function F(se){const pe=Te.values().next().value;return pe&&typeof pe.runWithContext=="function"?pe.runWithContext(se):se()}function $(se,pe){let ge;const[be,Ce,He]=cI(se,pe);ge=Ag(be.reverse(),"beforeRouteLeave",se,pe);for(const Ne of be)Ne.leaveGuards.forEach(vt=>{ge.push(Oo(vt,se,pe))});const Ie=O.bind(null,se,pe);return ge.push(Ie),$e(ge).then(()=>{ge=[];for(const Ne of a.list())ge.push(Oo(Ne,se,pe));return ge.push(Ie),$e(ge)}).then(()=>{ge=Ag(Ce,"beforeRouteUpdate",se,pe);for(const Ne of Ce)Ne.updateGuards.forEach(vt=>{ge.push(Oo(vt,se,pe))});return ge.push(Ie),$e(ge)}).then(()=>{ge=[];for(const Ne of se.matched)if(Ne.beforeEnter&&!pe.matched.includes(Ne))if(Fi(Ne.beforeEnter))for(const vt of Ne.beforeEnter)ge.push(Oo(vt,se,pe));else ge.push(Oo(Ne.beforeEnter,se,pe));return ge.push(Ie),$e(ge)}).then(()=>(se.matched.forEach(Ne=>Ne.enterCallbacks={}),ge=Ag(He,"beforeRouteEnter",se,pe),ge.push(Ie),$e(ge))).then(()=>{ge=[];for(const Ne of o.list())ge.push(Oo(Ne,se,pe));return ge.push(Ie),$e(ge)}).catch(Ne=>za(Ne,8)?Ne:Promise.reject(Ne))}function B(se,pe,ge){for(const be of s.list())F(()=>be(se,pe,ge))}function U(se,pe,ge,be,Ce){const He=w(se,pe);if(He)return He;const Ie=pe===xo,Ne=ll?history.state:{};ge&&(be||Ie?i.replace(se.fullPath,qt({scroll:Ie&&Ne&&Ne.scroll},Ce)):i.push(se.fullPath,Ce)),u.value=se,he(se,pe,ge,Ie),ae()}let H;function W(){H||(H=i.listen((se,pe,ge)=>{if(!Le.listening)return;const be=_(se),Ce=A(be);if(Ce){M(qt(Ce,{replace:!0}),be).catch(bf);return}l=be;const He=u.value;ll&&xO(Pb(He.fullPath,ge.delta),Sp()),$(be,He).catch(Ie=>za(Ie,12)?Ie:za(Ie,2)?(M(Ie.to,be).then(Ne=>{za(Ne,20)&&!ge.delta&&ge.type===Uf.pop&&i.go(-1,!1)}).catch(bf),Promise.reject()):(ge.delta&&i.go(-ge.delta,!1),Q(Ie,be,He))).then(Ie=>{Ie=Ie||U(be,He,!1),Ie&&(ge.delta&&!za(Ie,8)?i.go(-ge.delta,!1):ge.type===Uf.pop&&za(Ie,20)&&i.go(-1,!1)),B(be,He,Ie)}).catch(bf)}))}let z=Rc(),G=Rc(),Y;function Q(se,pe,ge){ae(se);const be=G.list();return be.length?be.forEach(Ce=>Ce(se,pe,ge)):console.error(se),Promise.reject(se)}function J(){return Y&&u.value!==xo?Promise.resolve():new Promise((se,pe)=>{z.add([se,pe])})}function ae(se){return Y||(Y=!se,W(),z.list().forEach(([pe,ge])=>se?ge(se):pe()),z.reset()),se}function he(se,pe,ge,be){const{scrollBehavior:Ce}=t;if(!ll||!Ce)return Promise.resolve();const He=!ge&&SO(Pb(se.fullPath,0))||(be||!ge)&&history.state&&history.state.scroll||null;return cn().then(()=>Ce(se,pe,He)).then(Ie=>Ie&&bO(Ie)).catch(Ie=>Q(Ie,se,pe))}const ve=se=>i.go(se);let we;const Te=new Set,Le={currentRoute:u,listening:!0,addRoute:v,removeRoute:p,hasRoute:m,getRoutes:g,resolve:_,options:t,push:T,replace:k,go:ve,back:()=>ve(-1),forward:()=>ve(1),beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:G.add,isReady:J,install(se){const pe=this;se.component("RouterLink",aI),se.component("RouterView",lI),se.config.globalProperties.$router=pe,Object.defineProperty(se.config.globalProperties,"$route",{enumerable:!0,get:()=>X(u)}),ll&&!we&&u.value===xo&&(we=!0,T(i.location).catch(Ce=>{}));const ge={};for(const Ce in xo)ge[Ce]=ce(()=>u.value[Ce]);se.provide(wp,pe),se.provide(dA,ao(ge)),se.provide(my,u);const be=se.unmount;Te.add(se),se.unmount=function(){Te.delete(se),Te.size<1&&(l=xo,H&&H(),H=null,u.value=xo,we=!1,Y=!1),be()}}};function $e(se){return se.reduce((pe,ge)=>pe.then(()=>F(ge)),Promise.resolve())}return Le}function cI(t,e){const r=[],n=[],i=[],a=Math.max(e.matched.length,t.matched.length);for(let o=0;o<a;o++){const s=e.matched[o];s&&(t.matched.find(l=>Nl(l,s))?n.push(s):r.push(s));const u=t.matched[o];u&&(e.matched.find(l=>Nl(l,u))||i.push(u))}return[r,n,i]}function hie(){return Ft(wp)}const tv=function(t,e,...r){let n;e.includes("mouse")||e.includes("click")?n="MouseEvents":e.includes("key")?n="KeyboardEvent":n="HTMLEvents";const i=document.createEvent(n);return i.initEvent(e,...r),t.dispatchEvent(i),t},Wa=(t,e,{checkForDefaultPrevented:r=!0}={})=>i=>{const a=t==null?void 0:t(i);if(r===!1||!a)return e==null?void 0:e(i)};var Ub;const Br=typeof window<"u",fI=t=>typeof t=="string",Rv=()=>{},hI=Br&&((Ub=window==null?void 0:window.navigator)==null?void 0:Ub.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Vf(t){return typeof t=="function"?t():X(t)}function dI(t,e){function r(...n){return new Promise((i,a)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(i).catch(a)})}return r}function vI(t,e={}){let r,n,i=Rv;const a=s=>{clearTimeout(s),i(),i=Rv};return s=>{const u=Vf(t),l=Vf(e.maxWait);return r&&a(r),u<=0||l!==void 0&&l<=0?(n&&(a(n),n=null),Promise.resolve(s())):new Promise((c,h)=>{i=e.rejectOnCancel?h:c,l&&!n&&(n=setTimeout(()=>{r&&a(r),n=null,c(s())},l)),r=setTimeout(()=>{n&&a(n),n=null,c(s())},u)})}}function pI(t){return t}function Tp(t){return WR()?(QC(t),!0):!1}function gI(t,e=200,r={}){return dI(vI(e,r),t)}function mI(t,e=200,r={}){const n=je(t.value),i=gI(()=>{n.value=t.value},e,r);return xt(t,()=>i()),n}function yI(t,e=!0){Hi()?$r(t):e?t():cn(t)}function Gf(t,e,r={}){const{immediate:n=!0}=r,i=je(!1);let a=null;function o(){a&&(clearTimeout(a),a=null)}function s(){i.value=!1,o()}function u(...l){o(),i.value=!0,a=setTimeout(()=>{i.value=!1,a=null,t(...l)},Vf(e))}return n&&(i.value=!0,Br&&u()),Tp(s),{isPending:JC(i),start:u,stop:s}}function Fo(t){var e;const r=Vf(t);return(e=r==null?void 0:r.$el)!=null?e:r}const v1=Br?window:void 0;function rv(...t){let e,r,n,i;if(fI(t[0])||Array.isArray(t[0])?([r,n,i]=t,e=v1):[e,r,n,i]=t,!e)return Rv;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const a=[],o=()=>{a.forEach(c=>c()),a.length=0},s=(c,h,f,v)=>(c.addEventListener(h,f,v),()=>c.removeEventListener(h,f,v)),u=xt(()=>[Fo(e),Vf(i)],([c,h])=>{o(),c&&a.push(...r.flatMap(f=>n.map(v=>s(c,f,v,h))))},{immediate:!0,flush:"post"}),l=()=>{u(),o()};return Tp(l),l}let Vb=!1;function _I(t,e,r={}){const{window:n=v1,ignore:i=[],capture:a=!0,detectIframe:o=!1}=r;if(!n)return;hI&&!Vb&&(Vb=!0,Array.from(n.document.body.children).forEach(f=>f.addEventListener("click",Rv)));let s=!0;const u=f=>i.some(v=>{if(typeof v=="string")return Array.from(n.document.querySelectorAll(v)).some(p=>p===f.target||f.composedPath().includes(p));{const p=Fo(v);return p&&(f.target===p||f.composedPath().includes(p))}}),c=[rv(n,"click",f=>{const v=Fo(t);if(!(!v||v===f.target||f.composedPath().includes(v))){if(f.detail===0&&(s=!u(f)),!s){s=!0;return}e(f)}},{passive:!0,capture:a}),rv(n,"pointerdown",f=>{const v=Fo(t);v&&(s=!f.composedPath().includes(v)&&!u(f))},{passive:!0}),o&&rv(n,"blur",f=>{var v;const p=Fo(t);((v=n.document.activeElement)==null?void 0:v.tagName)==="IFRAME"&&!(p!=null&&p.contains(n.document.activeElement))&&e(f)})].filter(Boolean);return()=>c.forEach(f=>f())}function bI(t,e=!1){const r=je(),n=()=>r.value=!!t();return n(),yI(n,e),r}const Gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jb="__vueuse_ssr_handlers__";Gb[jb]=Gb[jb]||{};var Wb=Object.getOwnPropertySymbols,xI=Object.prototype.hasOwnProperty,SI=Object.prototype.propertyIsEnumerable,wI=(t,e)=>{var r={};for(var n in t)xI.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Wb)for(var n of Wb(t))e.indexOf(n)<0&&SI.call(t,n)&&(r[n]=t[n]);return r};function Cp(t,e,r={}){const n=r,{window:i=v1}=n,a=wI(n,["window"]);let o;const s=bI(()=>i&&"ResizeObserver"in i),u=()=>{o&&(o.disconnect(),o=void 0)},l=xt(()=>Fo(t),h=>{u(),s.value&&i&&h&&(o=new ResizeObserver(e),o.observe(h,a))},{immediate:!0,flush:"post"}),c=()=>{u(),l()};return Tp(c),{isSupported:s,stop:c}}var Yb;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(Yb||(Yb={}));var TI=Object.defineProperty,Xb=Object.getOwnPropertySymbols,CI=Object.prototype.hasOwnProperty,AI=Object.prototype.propertyIsEnumerable,qb=(t,e,r)=>e in t?TI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kI=(t,e)=>{for(var r in e||(e={}))CI.call(e,r)&&qb(t,r,e[r]);if(Xb)for(var r of Xb(e))AI.call(e,r)&&qb(t,r,e[r]);return t};const PI={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};kI({linear:pI},PI);const EI=()=>Br&&/firefox/i.test(window.navigator.userAgent);var MI=typeof global=="object"&&global&&global.Object===Object&&global;const vA=MI;var DI=typeof self=="object"&&self&&self.Object===Object&&self,LI=vA||DI||Function("return this")();const Ta=LI;var RI=Ta.Symbol;const Xo=RI;var pA=Object.prototype,OI=pA.hasOwnProperty,II=pA.toString,Oc=Xo?Xo.toStringTag:void 0;function BI(t){var e=OI.call(t,Oc),r=t[Oc];try{t[Oc]=void 0;var n=!0}catch{}var i=II.call(t);return n&&(e?t[Oc]=r:delete t[Oc]),i}var NI=Object.prototype,FI=NI.toString;function $I(t){return FI.call(t)}var HI="[object Null]",zI="[object Undefined]",Zb=Xo?Xo.toStringTag:void 0;function oc(t){return t==null?t===void 0?zI:HI:Zb&&Zb in Object(t)?BI(t):$I(t)}function sc(t){return t!=null&&typeof t=="object"}var UI="[object Symbol]";function p1(t){return typeof t=="symbol"||sc(t)&&oc(t)==UI}function VI(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var GI=Array.isArray;const xu=GI;var jI=1/0,Kb=Xo?Xo.prototype:void 0,Qb=Kb?Kb.toString:void 0;function gA(t){if(typeof t=="string")return t;if(xu(t))return VI(t,gA)+"";if(p1(t))return Qb?Qb.call(t):"";var e=t+"";return e=="0"&&1/t==-jI?"-0":e}function lu(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var WI="[object AsyncFunction]",YI="[object Function]",XI="[object GeneratorFunction]",qI="[object Proxy]";function mA(t){if(!lu(t))return!1;var e=oc(t);return e==YI||e==XI||e==WI||e==qI}var ZI=Ta["__core-js_shared__"];const kg=ZI;var Jb=function(){var t=/[^.]+$/.exec(kg&&kg.keys&&kg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function KI(t){return!!Jb&&Jb in t}var QI=Function.prototype,JI=QI.toString;function Su(t){if(t!=null){try{return JI.call(t)}catch{}try{return t+""}catch{}}return""}var e3=/[\\^$.*+?()[\]{}|]/g,t3=/^\[object .+?Constructor\]$/,r3=Function.prototype,n3=Object.prototype,i3=r3.toString,a3=n3.hasOwnProperty,o3=RegExp("^"+i3.call(a3).replace(e3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function s3(t){if(!lu(t)||KI(t))return!1;var e=mA(t)?o3:t3;return e.test(Su(t))}function u3(t,e){return t==null?void 0:t[e]}function wu(t,e){var r=u3(t,e);return s3(r)?r:void 0}var l3=wu(Ta,"WeakMap");const yy=l3;var ex=Object.create,c3=function(){function t(){}return function(e){if(!lu(e))return{};if(ex)return ex(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const f3=c3;function h3(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var d3=function(){try{var t=wu(Object,"defineProperty");return t({},"",{}),t}catch{}}();const tx=d3;function v3(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var p3=9007199254740991,g3=/^(?:0|[1-9]\d*)$/;function yA(t,e){var r=typeof t;return e=e??p3,!!e&&(r=="number"||r!="symbol"&&g3.test(t))&&t>-1&&t%1==0&&t<e}function _A(t,e,r){e=="__proto__"&&tx?tx(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function bA(t,e){return t===e||t!==t&&e!==e}var m3=Object.prototype,y3=m3.hasOwnProperty;function g1(t,e,r){var n=t[e];(!(y3.call(t,e)&&bA(n,r))||r===void 0&&!(e in t))&&_A(t,e,r)}function Ap(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],u=n?n(r[s],t[s],s,r,t):void 0;u===void 0&&(u=t[s]),i?_A(r,s,u):g1(r,s,u)}return r}var _3=9007199254740991;function xA(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=_3}function SA(t){return t!=null&&xA(t.length)&&!mA(t)}var b3=Object.prototype;function m1(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||b3;return t===r}function x3(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var S3="[object Arguments]";function rx(t){return sc(t)&&oc(t)==S3}var wA=Object.prototype,w3=wA.hasOwnProperty,T3=wA.propertyIsEnumerable,C3=rx(function(){return arguments}())?rx:function(t){return sc(t)&&w3.call(t,"callee")&&!T3.call(t,"callee")};const A3=C3;function k3(){return!1}var TA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nx=TA&&typeof module=="object"&&module&&!module.nodeType&&module,P3=nx&&nx.exports===TA,ix=P3?Ta.Buffer:void 0,E3=ix?ix.isBuffer:void 0,M3=E3||k3;const CA=M3;var D3="[object Arguments]",L3="[object Array]",R3="[object Boolean]",O3="[object Date]",I3="[object Error]",B3="[object Function]",N3="[object Map]",F3="[object Number]",$3="[object Object]",H3="[object RegExp]",z3="[object Set]",U3="[object String]",V3="[object WeakMap]",G3="[object ArrayBuffer]",j3="[object DataView]",W3="[object Float32Array]",Y3="[object Float64Array]",X3="[object Int8Array]",q3="[object Int16Array]",Z3="[object Int32Array]",K3="[object Uint8Array]",Q3="[object Uint8ClampedArray]",J3="[object Uint16Array]",eB="[object Uint32Array]",dr={};dr[W3]=dr[Y3]=dr[X3]=dr[q3]=dr[Z3]=dr[K3]=dr[Q3]=dr[J3]=dr[eB]=!0;dr[D3]=dr[L3]=dr[G3]=dr[R3]=dr[j3]=dr[O3]=dr[I3]=dr[B3]=dr[N3]=dr[F3]=dr[$3]=dr[H3]=dr[z3]=dr[U3]=dr[V3]=!1;function tB(t){return sc(t)&&xA(t.length)&&!!dr[oc(t)]}function y1(t){return function(e){return t(e)}}var AA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Sf=AA&&typeof module=="object"&&module&&!module.nodeType&&module,rB=Sf&&Sf.exports===AA,Pg=rB&&vA.process,nB=function(){try{var t=Sf&&Sf.require&&Sf.require("util").types;return t||Pg&&Pg.binding&&Pg.binding("util")}catch{}}();const $l=nB;var ax=$l&&$l.isTypedArray,iB=ax?y1(ax):tB;const aB=iB;var oB=Object.prototype,sB=oB.hasOwnProperty;function kA(t,e){var r=xu(t),n=!r&&A3(t),i=!r&&!n&&CA(t),a=!r&&!n&&!i&&aB(t),o=r||n||i||a,s=o?x3(t.length,String):[],u=s.length;for(var l in t)(e||sB.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||yA(l,u)))&&s.push(l);return s}function PA(t,e){return function(r){return t(e(r))}}var uB=PA(Object.keys,Object);const lB=uB;var cB=Object.prototype,fB=cB.hasOwnProperty;function hB(t){if(!m1(t))return lB(t);var e=[];for(var r in Object(t))fB.call(t,r)&&r!="constructor"&&e.push(r);return e}function _1(t){return SA(t)?kA(t):hB(t)}function dB(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var vB=Object.prototype,pB=vB.hasOwnProperty;function gB(t){if(!lu(t))return dB(t);var e=m1(t),r=[];for(var n in t)n=="constructor"&&(e||!pB.call(t,n))||r.push(n);return r}function b1(t){return SA(t)?kA(t,!0):gB(t)}var mB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yB=/^\w*$/;function _B(t,e){if(xu(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||p1(t)?!0:yB.test(t)||!mB.test(t)||e!=null&&t in Object(e)}var bB=wu(Object,"create");const jf=bB;function xB(){this.__data__=jf?jf(null):{},this.size=0}function SB(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var wB="__lodash_hash_undefined__",TB=Object.prototype,CB=TB.hasOwnProperty;function AB(t){var e=this.__data__;if(jf){var r=e[t];return r===wB?void 0:r}return CB.call(e,t)?e[t]:void 0}var kB=Object.prototype,PB=kB.hasOwnProperty;function EB(t){var e=this.__data__;return jf?e[t]!==void 0:PB.call(e,t)}var MB="__lodash_hash_undefined__";function DB(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=jf&&e===void 0?MB:e,this}function cu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}cu.prototype.clear=xB;cu.prototype.delete=SB;cu.prototype.get=AB;cu.prototype.has=EB;cu.prototype.set=DB;function LB(){this.__data__=[],this.size=0}function kp(t,e){for(var r=t.length;r--;)if(bA(t[r][0],e))return r;return-1}var RB=Array.prototype,OB=RB.splice;function IB(t){var e=this.__data__,r=kp(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():OB.call(e,r,1),--this.size,!0}function BB(t){var e=this.__data__,r=kp(e,t);return r<0?void 0:e[r][1]}function NB(t){return kp(this.__data__,t)>-1}function FB(t,e){var r=this.__data__,n=kp(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function oo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}oo.prototype.clear=LB;oo.prototype.delete=IB;oo.prototype.get=BB;oo.prototype.has=NB;oo.prototype.set=FB;var $B=wu(Ta,"Map");const Wf=$B;function HB(){this.size=0,this.__data__={hash:new cu,map:new(Wf||oo),string:new cu}}function zB(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Pp(t,e){var r=t.__data__;return zB(e)?r[typeof e=="string"?"string":"hash"]:r.map}function UB(t){var e=Pp(this,t).delete(t);return this.size-=e?1:0,e}function VB(t){return Pp(this,t).get(t)}function GB(t){return Pp(this,t).has(t)}function jB(t,e){var r=Pp(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function ns(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ns.prototype.clear=HB;ns.prototype.delete=UB;ns.prototype.get=VB;ns.prototype.has=GB;ns.prototype.set=jB;var WB="Expected a function";function x1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(WB);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(x1.Cache||ns),r}x1.Cache=ns;var YB=500;function XB(t){var e=x1(t,function(n){return r.size===YB&&r.clear(),n}),r=e.cache;return e}var qB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZB=/\\(\\)?/g,KB=XB(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(qB,function(r,n,i,a){e.push(i?a.replace(ZB,"$1"):n||r)}),e});const QB=KB;function JB(t){return t==null?"":gA(t)}function EA(t,e){return xu(t)?t:_B(t,e)?[t]:QB(JB(t))}var e5=1/0;function MA(t){if(typeof t=="string"||p1(t))return t;var e=t+"";return e=="0"&&1/t==-e5?"-0":e}function t5(t,e){e=EA(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[MA(e[r++])];return r&&r==n?t:void 0}function DA(t,e,r){var n=t==null?void 0:t5(t,e);return n===void 0?r:n}function LA(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var r5=PA(Object.getPrototypeOf,Object);const RA=r5;function _y(){if(!arguments.length)return[];var t=arguments[0];return xu(t)?t:[t]}function n5(){this.__data__=new oo,this.size=0}function i5(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function a5(t){return this.__data__.get(t)}function o5(t){return this.__data__.has(t)}var s5=200;function u5(t,e){var r=this.__data__;if(r instanceof oo){var n=r.__data__;if(!Wf||n.length<s5-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ns(n)}return r.set(t,e),this.size=r.size,this}function uc(t){var e=this.__data__=new oo(t);this.size=e.size}uc.prototype.clear=n5;uc.prototype.delete=i5;uc.prototype.get=a5;uc.prototype.has=o5;uc.prototype.set=u5;function l5(t,e){return t&&Ap(e,_1(e),t)}function c5(t,e){return t&&Ap(e,b1(e),t)}var OA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ox=OA&&typeof module=="object"&&module&&!module.nodeType&&module,f5=ox&&ox.exports===OA,sx=f5?Ta.Buffer:void 0,ux=sx?sx.allocUnsafe:void 0;function h5(t,e){if(e)return t.slice();var r=t.length,n=ux?ux(r):new t.constructor(r);return t.copy(n),n}function d5(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}function IA(){return[]}var v5=Object.prototype,p5=v5.propertyIsEnumerable,lx=Object.getOwnPropertySymbols,g5=lx?function(t){return t==null?[]:(t=Object(t),d5(lx(t),function(e){return p5.call(t,e)}))}:IA;const S1=g5;function m5(t,e){return Ap(t,S1(t),e)}var y5=Object.getOwnPropertySymbols,_5=y5?function(t){for(var e=[];t;)LA(e,S1(t)),t=RA(t);return e}:IA;const BA=_5;function b5(t,e){return Ap(t,BA(t),e)}function NA(t,e,r){var n=e(t);return xu(t)?n:LA(n,r(t))}function x5(t){return NA(t,_1,S1)}function S5(t){return NA(t,b1,BA)}var w5=wu(Ta,"DataView");const by=w5;var T5=wu(Ta,"Promise");const xy=T5;var C5=wu(Ta,"Set");const Sy=C5;var cx="[object Map]",A5="[object Object]",fx="[object Promise]",hx="[object Set]",dx="[object WeakMap]",vx="[object DataView]",k5=Su(by),P5=Su(Wf),E5=Su(xy),M5=Su(Sy),D5=Su(yy),Ws=oc;(by&&Ws(new by(new ArrayBuffer(1)))!=vx||Wf&&Ws(new Wf)!=cx||xy&&Ws(xy.resolve())!=fx||Sy&&Ws(new Sy)!=hx||yy&&Ws(new yy)!=dx)&&(Ws=function(t){var e=oc(t),r=e==A5?t.constructor:void 0,n=r?Su(r):"";if(n)switch(n){case k5:return vx;case P5:return cx;case E5:return fx;case M5:return hx;case D5:return dx}return e});const w1=Ws;var L5=Object.prototype,R5=L5.hasOwnProperty;function O5(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&R5.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var I5=Ta.Uint8Array;const px=I5;function T1(t){var e=new t.constructor(t.byteLength);return new px(e).set(new px(t)),e}function B5(t,e){var r=e?T1(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var N5=/\w*$/;function F5(t){var e=new t.constructor(t.source,N5.exec(t));return e.lastIndex=t.lastIndex,e}var gx=Xo?Xo.prototype:void 0,mx=gx?gx.valueOf:void 0;function $5(t){return mx?Object(mx.call(t)):{}}function H5(t,e){var r=e?T1(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var z5="[object Boolean]",U5="[object Date]",V5="[object Map]",G5="[object Number]",j5="[object RegExp]",W5="[object Set]",Y5="[object String]",X5="[object Symbol]",q5="[object ArrayBuffer]",Z5="[object DataView]",K5="[object Float32Array]",Q5="[object Float64Array]",J5="[object Int8Array]",e4="[object Int16Array]",t4="[object Int32Array]",r4="[object Uint8Array]",n4="[object Uint8ClampedArray]",i4="[object Uint16Array]",a4="[object Uint32Array]";function o4(t,e,r){var n=t.constructor;switch(e){case q5:return T1(t);case z5:case U5:return new n(+t);case Z5:return B5(t,r);case K5:case Q5:case J5:case e4:case t4:case r4:case n4:case i4:case a4:return H5(t,r);case V5:return new n;case G5:case Y5:return new n(t);case j5:return F5(t);case W5:return new n;case X5:return $5(t)}}function s4(t){return typeof t.constructor=="function"&&!m1(t)?f3(RA(t)):{}}var u4="[object Map]";function l4(t){return sc(t)&&w1(t)==u4}var yx=$l&&$l.isMap,c4=yx?y1(yx):l4;const f4=c4;var h4="[object Set]";function d4(t){return sc(t)&&w1(t)==h4}var _x=$l&&$l.isSet,v4=_x?y1(_x):d4;const p4=v4;var g4=1,m4=2,y4=4,FA="[object Arguments]",_4="[object Array]",b4="[object Boolean]",x4="[object Date]",S4="[object Error]",$A="[object Function]",w4="[object GeneratorFunction]",T4="[object Map]",C4="[object Number]",HA="[object Object]",A4="[object RegExp]",k4="[object Set]",P4="[object String]",E4="[object Symbol]",M4="[object WeakMap]",D4="[object ArrayBuffer]",L4="[object DataView]",R4="[object Float32Array]",O4="[object Float64Array]",I4="[object Int8Array]",B4="[object Int16Array]",N4="[object Int32Array]",F4="[object Uint8Array]",$4="[object Uint8ClampedArray]",H4="[object Uint16Array]",z4="[object Uint32Array]",or={};or[FA]=or[_4]=or[D4]=or[L4]=or[b4]=or[x4]=or[R4]=or[O4]=or[I4]=or[B4]=or[N4]=or[T4]=or[C4]=or[HA]=or[A4]=or[k4]=or[P4]=or[E4]=or[F4]=or[$4]=or[H4]=or[z4]=!0;or[S4]=or[$A]=or[M4]=!1;function nv(t,e,r,n,i,a){var o,s=e&g4,u=e&m4,l=e&y4;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!lu(t))return t;var c=xu(t);if(c){if(o=O5(t),!s)return h3(t,o)}else{var h=w1(t),f=h==$A||h==w4;if(CA(t))return h5(t,s);if(h==HA||h==FA||f&&!i){if(o=u||f?{}:s4(t),!s)return u?b5(t,c5(o,t)):m5(t,l5(o,t))}else{if(!or[h])return i?t:{};o=o4(t,h,s)}}a||(a=new uc);var v=a.get(t);if(v)return v;a.set(t,o),p4(t)?t.forEach(function(m){o.add(nv(m,e,r,m,t,a))}):f4(t)&&t.forEach(function(m,_){o.set(_,nv(m,e,r,_,t,a))});var p=l?u?S5:x5:u?b1:_1,g=c?void 0:p(t);return v3(g||t,function(m,_){g&&(_=m,m=t[_]),g1(o,_,nv(m,e,r,_,t,a))}),o}var U4=4;function bx(t){return nv(t,U4)}function Ov(t){for(var e=-1,r=t==null?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n}function Hl(t){return t==null}function V4(t){return t===void 0}function G4(t,e,r,n){if(!lu(t))return t;e=EA(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var u=MA(e[i]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(i!=o){var c=s[u];l=n?n(c,u,s):void 0,l===void 0&&(l=lu(c)?c:yA(e[i+1])?[]:{})}g1(s,u,l),s=s[u]}return t}function j4(t,e,r){return t==null?t:G4(t,e,r)}const W4=t=>t===void 0,lc=t=>typeof t=="boolean",xa=t=>typeof t=="number",Yf=t=>typeof Element>"u"?!1:t instanceof Element,Y4=t=>Tr(t)?!Number.isNaN(Number(t)):!1,xx=t=>Object.keys(t),Eg=(t,e,r)=>({get value(){return DA(t,e,r)},set value(n){j4(t,e,n)}});class X4 extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function zl(t,e){throw new X4(`[${t}] ${e}`)}const zA=(t="")=>t.split(" ").filter(e=>!!e.trim()),wy=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},Zs=(t,e)=>{!t||!e.trim()||t.classList.add(...zA(e))},Go=(t,e)=>{!t||!e.trim()||t.classList.remove(...zA(e))},cl=(t,e)=>{var r;if(!Br||!t||!e)return"";let n=YR(e);n==="float"&&(n="cssFloat");try{const i=t.style[n];if(i)return i;const a=(r=document.defaultView)==null?void 0:r.getComputedStyle(t,"");return a?a[n]:""}catch{return t.style[n]}};function Ul(t,e="px"){if(!t)return"";if(xa(t)||Y4(t))return`${t}${e}`;if(Tr(t))return t}let Kh;const q4=t=>{var e;if(!Br)return 0;if(Kh!==void 0)return Kh;const r=document.createElement("div");r.className=`${t}-scrollbar__wrap`,r.style.visibility="hidden",r.style.width="100px",r.style.position="absolute",r.style.top="-9999px",document.body.appendChild(r);const n=r.offsetWidth;r.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",r.appendChild(i);const a=i.offsetWidth;return(e=r.parentNode)==null||e.removeChild(r),Kh=n-a,Kh};/*! Element Plus Icons Vue v2.1.0 */var Hr=(t,e)=>{let r=t.__vccOpts||t;for(let[n,i]of e)r[n]=i;return r},Z4={name:"ArrowDown"},K4={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Q4=lt("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),J4=[Q4];function e6(t,e,r,n,i,a){return Se(),Fe("svg",K4,J4)}var t6=Hr(Z4,[["render",e6],["__file","arrow-down.vue"]]),r6={name:"ArrowRight"},n6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},i6=lt("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),a6=[i6];function o6(t,e,r,n,i,a){return Se(),Fe("svg",n6,a6)}var s6=Hr(r6,[["render",o6],["__file","arrow-right.vue"]]),u6={name:"Check"},l6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},c6=lt("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),f6=[c6];function h6(t,e,r,n,i,a){return Se(),Fe("svg",l6,f6)}var d6=Hr(u6,[["render",h6],["__file","check.vue"]]),v6={name:"CircleCheck"},p6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},g6=lt("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),m6=lt("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),y6=[g6,m6];function _6(t,e,r,n,i,a){return Se(),Fe("svg",p6,y6)}var UA=Hr(v6,[["render",_6],["__file","circle-check.vue"]]),b6={name:"CircleCloseFilled"},x6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},S6=lt("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),w6=[S6];function T6(t,e,r,n,i,a){return Se(),Fe("svg",x6,w6)}var VA=Hr(b6,[["render",T6],["__file","circle-close-filled.vue"]]),C6={name:"CircleClose"},A6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},k6=lt("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),P6=lt("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),E6=[k6,P6];function M6(t,e,r,n,i,a){return Se(),Fe("svg",A6,E6)}var C1=Hr(C6,[["render",M6],["__file","circle-close.vue"]]),D6={name:"Close"},L6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},R6=lt("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),O6=[R6];function I6(t,e,r,n,i,a){return Se(),Fe("svg",L6,O6)}var A1=Hr(D6,[["render",I6],["__file","close.vue"]]),B6={name:"Hide"},N6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},F6=lt("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),$6=lt("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),H6=[F6,$6];function z6(t,e,r,n,i,a){return Se(),Fe("svg",N6,H6)}var U6=Hr(B6,[["render",z6],["__file","hide.vue"]]),V6={name:"InfoFilled"},G6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},j6=lt("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),W6=[j6];function Y6(t,e,r,n,i,a){return Se(),Fe("svg",G6,W6)}var GA=Hr(V6,[["render",Y6],["__file","info-filled.vue"]]),X6={name:"Loading"},q6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Z6=lt("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),K6=[Z6];function Q6(t,e,r,n,i,a){return Se(),Fe("svg",q6,K6)}var jA=Hr(X6,[["render",Q6],["__file","loading.vue"]]),J6={name:"Microphone"},e8={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},t8=lt("path",{fill:"currentColor",d:"M512 128a128 128 0 0 0-128 128v256a128 128 0 1 0 256 0V256a128 128 0 0 0-128-128zm0-64a192 192 0 0 1 192 192v256a192 192 0 1 1-384 0V256A192 192 0 0 1 512 64zm-32 832v-64a288 288 0 0 1-288-288v-32a32 32 0 0 1 64 0v32a224 224 0 0 0 224 224h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64h64z"},null,-1),r8=[t8];function n8(t,e,r,n,i,a){return Se(),Fe("svg",e8,r8)}var die=Hr(J6,[["render",n8],["__file","microphone.vue"]]),i8={name:"More"},a8={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},o8=lt("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),s8=[o8];function u8(t,e,r,n,i,a){return Se(),Fe("svg",a8,s8)}var l8=Hr(i8,[["render",u8],["__file","more.vue"]]),c8={name:"Mute"},f8={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},h8=lt("path",{fill:"currentColor",d:"m412.16 592.128-45.44 45.44A191.232 191.232 0 0 1 320 512V256a192 192 0 1 1 384 0v44.352l-64 64V256a128 128 0 1 0-256 0v256c0 30.336 10.56 58.24 28.16 80.128zm51.968 38.592A128 128 0 0 0 640 512v-57.152l64-64V512a192 192 0 0 1-287.68 166.528l47.808-47.808zM314.88 779.968l46.144-46.08A222.976 222.976 0 0 0 480 768h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64h64v-64c-61.44 0-118.4-19.2-165.12-52.032zM266.752 737.6A286.976 286.976 0 0 1 192 544v-32a32 32 0 0 1 64 0v32c0 56.832 21.184 108.8 56.064 148.288L266.752 737.6z"},null,-1),d8=lt("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"},null,-1),v8=[h8,d8];function p8(t,e,r,n,i,a){return Se(),Fe("svg",f8,v8)}var vie=Hr(c8,[["render",p8],["__file","mute.vue"]]),g8={name:"PictureFilled"},m8={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},y8=lt("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32H96zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112zM256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384z"},null,-1),_8=[y8];function b8(t,e,r,n,i,a){return Se(),Fe("svg",m8,_8)}var x8=Hr(g8,[["render",b8],["__file","picture-filled.vue"]]),S8={name:"SuccessFilled"},w8={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},T8=lt("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),C8=[T8];function A8(t,e,r,n,i,a){return Se(),Fe("svg",w8,C8)}var WA=Hr(S8,[["render",A8],["__file","success-filled.vue"]]),k8={name:"VideoPause"},P8={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},E8=lt("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm-96-544q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32zm192 0q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32z"},null,-1),M8=[E8];function D8(t,e,r,n,i,a){return Se(),Fe("svg",P8,M8)}var pie=Hr(k8,[["render",D8],["__file","video-pause.vue"]]),L8={name:"VideoPlay"},R8={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},O8=lt("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm-48-247.616L668.608 512 464 375.616v272.768zm10.624-342.656 249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z"},null,-1),I8=[O8];function B8(t,e,r,n,i,a){return Se(),Fe("svg",R8,I8)}var gie=Hr(L8,[["render",B8],["__file","video-play.vue"]]),N8={name:"View"},F8={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$8=lt("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),H8=[$8];function z8(t,e,r,n,i,a){return Se(),Fe("svg",F8,H8)}var U8=Hr(N8,[["render",z8],["__file","view.vue"]]),V8={name:"WarningFilled"},G8={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},j8=lt("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),W8=[j8];function Y8(t,e,r,n,i,a){return Se(),Fe("svg",G8,W8)}var k1=Hr(V8,[["render",Y8],["__file","warning-filled.vue"]]);const YA="__epPropKey",rt=t=>t,X8=t=>ba(t)&&!!t[YA],Ep=(t,e)=>{if(!ba(t)||X8(t))return t;const{values:r,required:n,default:i,type:a,validator:o}=t,u={type:a,required:!!n,validator:r||o?l=>{let c=!1,h=[];if(r&&(h=Array.from(r),wb(t,"default")&&h.push(i),c||(c=h.includes(l))),o&&(c||(c=o(l))),!c&&h.length>0){const f=[...new Set(h)].map(v=>JSON.stringify(v)).join(", ");XR(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(l)}.`)}return c}:void 0,[YA]:!0};return wb(t,"default")&&(u.default=i),u},Mt=t=>Ov(Object.entries(t).map(([e,r])=>[e,Ep(r,e)])),Oi=rt([String,Object,Function]),q8={Close:A1,SuccessFilled:WA,InfoFilled:GA,WarningFilled:k1,CircleCloseFilled:VA},Sx={success:WA,warning:k1,error:VA,info:GA},Z8={validating:jA,success:UA,error:C1},Wr=(t,e)=>{if(t.install=r=>{for(const n of[t,...Object.values(e??{})])r.component(n.name,n)},e)for(const[r,n]of Object.entries(e))t[r]=n;return t},K8=(t,e)=>(t.install=r=>{t._context=r._context,r.config.globalProperties[e]=t},t),Q8=(t,e)=>(t.install=r=>{r.directive(e,t)},t),Ca=t=>(t.install=Vo,t),bn={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},Mg=["sun","mon","tue","wed","thu","fri","sat"],fu="update:modelValue",XA="input",Mp=["","default","small","large"];var iv=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(iv||{});const av=t=>{const e=Cl(t)?t:[t],r=[];return e.forEach(n=>{var i;Cl(n)?r.push(...av(n)):Dv(n)&&Cl(n.children)?r.push(...av(n.children)):(r.push(n),Dv(n)&&((i=n.component)!=null&&i.subTree)&&r.push(...av(n.component.subTree)))}),r},J8=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),Bo=t=>t,eN=["class","style"],tN=/^on[A-Z]/,rN=(t={})=>{const{excludeListeners:e=!1,excludeKeys:r}=t,n=ce(()=>((r==null?void 0:r.value)||[]).concat(eN)),i=Hi();return i?ce(()=>{var a;return Ov(Object.entries((a=i.proxy)==null?void 0:a.$attrs).filter(([o])=>!n.value.includes(o)&&!(e&&tN.test(o))))}):ce(()=>({}))},Xf=({from:t,replacement:e,scope:r,version:n,ref:i,type:a="API"},o)=>{xt(()=>X(o),s=>{},{immediate:!0})};var nN={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const iN=t=>(e,r)=>aN(e,r,X(t)),aN=(t,e,r)=>DA(r,t,t).replace(/\{(\w+)\}/g,(n,i)=>{var a;return`${(a=e==null?void 0:e[i])!=null?a:`{${i}}`}`}),oN=t=>{const e=ce(()=>X(t).name),r=c1(t)?t:je(t);return{lang:e,locale:r,t:iN(t)}},qA=Symbol("localeContextKey"),bh=t=>{const e=t||Ft(qA,je());return oN(ce(()=>e.value||nN))},Iv="el",sN="is-",xs=(t,e,r,n,i)=>{let a=`${t}-${e}`;return r&&(a+=`-${r}`),n&&(a+=`__${n}`),i&&(a+=`--${i}`),a},ZA=Symbol("namespaceContextKey"),P1=t=>{const e=t||Ft(ZA,je(Iv));return ce(()=>X(e)||Iv)},gt=(t,e)=>{const r=P1(e);return{namespace:r,b:(g="")=>xs(r.value,t,g,"",""),e:g=>g?xs(r.value,t,"",g,""):"",m:g=>g?xs(r.value,t,"","",g):"",be:(g,m)=>g&&m?xs(r.value,t,g,m,""):"",em:(g,m)=>g&&m?xs(r.value,t,"",g,m):"",bm:(g,m)=>g&&m?xs(r.value,t,g,"",m):"",bem:(g,m,_)=>g&&m&&_?xs(r.value,t,g,m,_):"",is:(g,...m)=>{const _=m.length>=1?m[0]:!0;return g&&_?`${sN}${g}`:""},cssVar:g=>{const m={};for(const _ in g)g[_]&&(m[`--${r.value}-${_}`]=g[_]);return m},cssVarName:g=>`--${r.value}-${g}`,cssVarBlock:g=>{const m={};for(const _ in g)g[_]&&(m[`--${r.value}-${t}-${_}`]=g[_]);return m},cssVarBlockName:g=>`--${r.value}-${t}-${g}`}},uN=(t,e={})=>{c1(t)||zl("[useLockscreen]","You need to pass a ref param to this function");const r=e.ns||gt("popup"),n=qR(()=>r.bm("parent","hidden"));if(!Br||wy(document.body,n.value))return;let i=0,a=!1,o="0";const s=()=>{setTimeout(()=>{Go(document==null?void 0:document.body,n.value),a&&document&&(document.body.style.width=o)},200)};xt(t,u=>{if(!u){s();return}a=!wy(document.body,n.value),a&&(o=document.body.style.width),i=q4(r.namespace.value);const l=document.documentElement.clientHeight<document.body.scrollHeight,c=cl(document.body,"overflowY");i>0&&(l||c==="scroll")&&a&&(document.body.style.width=`calc(100% - ${i}px)`),Zs(document.body,n.value)}),QC(()=>s())},lN=Ep({type:rt(Boolean),default:null}),cN=Ep({type:rt(Function)}),KA=t=>{const e=`update:${t}`,r=`onUpdate:${t}`,n=[e],i={[t]:lN,[r]:cN};return{useModelToggle:({indicator:o,toggleReason:s,shouldHideWhenRouteChanges:u,shouldProceed:l,onShow:c,onHide:h})=>{const f=Hi(),{emit:v}=f,p=f.props,g=ce(()=>ha(p[r])),m=ce(()=>p[t]===null),_=M=>{o.value!==!0&&(o.value=!0,s&&(s.value=M),ha(c)&&c(M))},b=M=>{o.value!==!1&&(o.value=!1,s&&(s.value=M),ha(h)&&h(M))},w=M=>{if(p.disabled===!0||ha(l)&&!l())return;const O=g.value&&Br;O&&v(e,!0),(m.value||!O)&&_(M)},T=M=>{if(p.disabled===!0||!Br)return;const O=g.value&&Br;O&&v(e,!1),(m.value||!O)&&b(M)},k=M=>{lc(M)&&(p.disabled&&M?g.value&&v(e,!1):o.value!==M&&(M?_():b()))},A=()=>{o.value?T():w()};return xt(()=>p[t],k),u&&f.appContext.config.globalProperties.$route!==void 0&&xt(()=>({...f.proxy.$route}),()=>{u.value&&o.value&&T()}),$r(()=>{k(p[t])}),{hide:T,show:w,toggle:A,hasUpdateHandler:g}},useModelToggleProps:i,useModelToggleEmits:n}};KA("modelValue");const QA=t=>{const e=Hi();return ce(()=>{var r,n;return(n=(r=e==null?void 0:e.proxy)==null?void 0:r.$props)==null?void 0:n[t]})};var Rn="top",mi="bottom",yi="right",On="left",E1="auto",xh=[Rn,mi,yi,On],Vl="start",qf="end",fN="clippingParents",JA="viewport",Ic="popper",hN="reference",Tx=xh.reduce(function(t,e){return t.concat([e+"-"+Vl,e+"-"+qf])},[]),M1=[].concat(xh,[E1]).reduce(function(t,e){return t.concat([e,e+"-"+Vl,e+"-"+qf])},[]),dN="beforeRead",vN="read",pN="afterRead",gN="beforeMain",mN="main",yN="afterMain",_N="beforeWrite",bN="write",xN="afterWrite",SN=[dN,vN,pN,gN,mN,yN,_N,bN,xN];function Sa(t){return t?(t.nodeName||"").toLowerCase():null}function zi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Gl(t){var e=zi(t).Element;return t instanceof e||t instanceof Element}function vi(t){var e=zi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function D1(t){if(typeof ShadowRoot>"u")return!1;var e=zi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function wN(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},a=e.elements[r];!vi(a)||!Sa(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(o){var s=i[o];s===!1?a.removeAttribute(o):a.setAttribute(o,s===!0?"":s)}))})}function TN(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],a=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),s=o.reduce(function(u,l){return u[l]="",u},{});!vi(i)||!Sa(i)||(Object.assign(i.style,s),Object.keys(a).forEach(function(u){i.removeAttribute(u)}))})}}var ek={name:"applyStyles",enabled:!0,phase:"write",fn:wN,effect:TN,requires:["computeStyles"]};function ga(t){return t.split("-")[0]}var iu=Math.max,Bv=Math.min,jl=Math.round;function Wl(t,e){e===void 0&&(e=!1);var r=t.getBoundingClientRect(),n=1,i=1;if(vi(t)&&e){var a=t.offsetHeight,o=t.offsetWidth;o>0&&(n=jl(r.width)/o||1),a>0&&(i=jl(r.height)/a||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function L1(t){var e=Wl(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function tk(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&D1(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ja(t){return zi(t).getComputedStyle(t)}function CN(t){return["table","td","th"].indexOf(Sa(t))>=0}function is(t){return((Gl(t)?t.ownerDocument:t.document)||window.document).documentElement}function Dp(t){return Sa(t)==="html"?t:t.assignedSlot||t.parentNode||(D1(t)?t.host:null)||is(t)}function Cx(t){return!vi(t)||Ja(t).position==="fixed"?null:t.offsetParent}function AN(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&vi(t)){var n=Ja(t);if(n.position==="fixed")return null}var i=Dp(t);for(D1(i)&&(i=i.host);vi(i)&&["html","body"].indexOf(Sa(i))<0;){var a=Ja(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Sh(t){for(var e=zi(t),r=Cx(t);r&&CN(r)&&Ja(r).position==="static";)r=Cx(r);return r&&(Sa(r)==="html"||Sa(r)==="body"&&Ja(r).position==="static")?e:r||AN(t)||e}function R1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function wf(t,e,r){return iu(t,Bv(e,r))}function kN(t,e,r){var n=wf(t,e,r);return n>r?r:n}function rk(){return{top:0,right:0,bottom:0,left:0}}function nk(t){return Object.assign({},rk(),t)}function ik(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var PN=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,nk(typeof t!="number"?t:ik(t,xh))};function EN(t){var e,r=t.state,n=t.name,i=t.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,s=ga(r.placement),u=R1(s),l=[On,yi].indexOf(s)>=0,c=l?"height":"width";if(!(!a||!o)){var h=PN(i.padding,r),f=L1(a),v=u==="y"?Rn:On,p=u==="y"?mi:yi,g=r.rects.reference[c]+r.rects.reference[u]-o[u]-r.rects.popper[c],m=o[u]-r.rects.reference[u],_=Sh(a),b=_?u==="y"?_.clientHeight||0:_.clientWidth||0:0,w=g/2-m/2,T=h[v],k=b-f[c]-h[p],A=b/2-f[c]/2+w,M=wf(T,A,k),O=u;r.modifiersData[n]=(e={},e[O]=M,e.centerOffset=M-A,e)}}function MN(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!tk(e.elements.popper,i)||(e.elements.arrow=i))}var DN={name:"arrow",enabled:!0,phase:"main",fn:EN,effect:MN,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yl(t){return t.split("-")[1]}var LN={top:"auto",right:"auto",bottom:"auto",left:"auto"};function RN(t){var e=t.x,r=t.y,n=window,i=n.devicePixelRatio||1;return{x:jl(e*i)/i||0,y:jl(r*i)/i||0}}function Ax(t){var e,r=t.popper,n=t.popperRect,i=t.placement,a=t.variation,o=t.offsets,s=t.position,u=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,h=t.isFixed,f=o.x,v=f===void 0?0:f,p=o.y,g=p===void 0?0:p,m=typeof c=="function"?c({x:v,y:g}):{x:v,y:g};v=m.x,g=m.y;var _=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),w=On,T=Rn,k=window;if(l){var A=Sh(r),M="clientHeight",O="clientWidth";if(A===zi(r)&&(A=is(r),Ja(A).position!=="static"&&s==="absolute"&&(M="scrollHeight",O="scrollWidth")),A=A,i===Rn||(i===On||i===yi)&&a===qf){T=mi;var F=h&&A===k&&k.visualViewport?k.visualViewport.height:A[M];g-=F-n.height,g*=u?1:-1}if(i===On||(i===Rn||i===mi)&&a===qf){w=yi;var $=h&&A===k&&k.visualViewport?k.visualViewport.width:A[O];v-=$-n.width,v*=u?1:-1}}var B=Object.assign({position:s},l&&LN),U=c===!0?RN({x:v,y:g}):{x:v,y:g};if(v=U.x,g=U.y,u){var H;return Object.assign({},B,(H={},H[T]=b?"0":"",H[w]=_?"0":"",H.transform=(k.devicePixelRatio||1)<=1?"translate("+v+"px, "+g+"px)":"translate3d("+v+"px, "+g+"px, 0)",H))}return Object.assign({},B,(e={},e[T]=b?g+"px":"",e[w]=_?v+"px":"",e.transform="",e))}function ON(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,s=r.roundOffsets,u=s===void 0?!0:s,l={placement:ga(e.placement),variation:Yl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ax(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ax(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var ak={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ON,data:{}},Qh={passive:!0};function IN(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,a=i===void 0?!0:i,o=n.resize,s=o===void 0?!0:o,u=zi(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&l.forEach(function(c){c.addEventListener("scroll",r.update,Qh)}),s&&u.addEventListener("resize",r.update,Qh),function(){a&&l.forEach(function(c){c.removeEventListener("scroll",r.update,Qh)}),s&&u.removeEventListener("resize",r.update,Qh)}}var ok={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:IN,data:{}},BN={left:"right",right:"left",bottom:"top",top:"bottom"};function ov(t){return t.replace(/left|right|bottom|top/g,function(e){return BN[e]})}var NN={start:"end",end:"start"};function kx(t){return t.replace(/start|end/g,function(e){return NN[e]})}function O1(t){var e=zi(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function I1(t){return Wl(is(t)).left+O1(t).scrollLeft}function FN(t){var e=zi(t),r=is(t),n=e.visualViewport,i=r.clientWidth,a=r.clientHeight,o=0,s=0;return n&&(i=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,s=n.offsetTop)),{width:i,height:a,x:o+I1(t),y:s}}function $N(t){var e,r=is(t),n=O1(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=iu(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=iu(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+I1(t),u=-n.scrollTop;return Ja(i||r).direction==="rtl"&&(s+=iu(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}function B1(t){var e=Ja(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function sk(t){return["html","body","#document"].indexOf(Sa(t))>=0?t.ownerDocument.body:vi(t)&&B1(t)?t:sk(Dp(t))}function Tf(t,e){var r;e===void 0&&(e=[]);var n=sk(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),a=zi(n),o=i?[a].concat(a.visualViewport||[],B1(n)?n:[]):n,s=e.concat(o);return i?s:s.concat(Tf(Dp(o)))}function Ty(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function HN(t){var e=Wl(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Px(t,e){return e===JA?Ty(FN(t)):Gl(e)?HN(e):Ty($N(is(t)))}function zN(t){var e=Tf(Dp(t)),r=["absolute","fixed"].indexOf(Ja(t).position)>=0,n=r&&vi(t)?Sh(t):t;return Gl(n)?e.filter(function(i){return Gl(i)&&tk(i,n)&&Sa(i)!=="body"}):[]}function UN(t,e,r){var n=e==="clippingParents"?zN(t):[].concat(e),i=[].concat(n,[r]),a=i[0],o=i.reduce(function(s,u){var l=Px(t,u);return s.top=iu(l.top,s.top),s.right=Bv(l.right,s.right),s.bottom=Bv(l.bottom,s.bottom),s.left=iu(l.left,s.left),s},Px(t,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function uk(t){var e=t.reference,r=t.element,n=t.placement,i=n?ga(n):null,a=n?Yl(n):null,o=e.x+e.width/2-r.width/2,s=e.y+e.height/2-r.height/2,u;switch(i){case Rn:u={x:o,y:e.y-r.height};break;case mi:u={x:o,y:e.y+e.height};break;case yi:u={x:e.x+e.width,y:s};break;case On:u={x:e.x-r.width,y:s};break;default:u={x:e.x,y:e.y}}var l=i?R1(i):null;if(l!=null){var c=l==="y"?"height":"width";switch(a){case Vl:u[l]=u[l]-(e[c]/2-r[c]/2);break;case qf:u[l]=u[l]+(e[c]/2-r[c]/2);break}}return u}function Zf(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,a=r.boundary,o=a===void 0?fN:a,s=r.rootBoundary,u=s===void 0?JA:s,l=r.elementContext,c=l===void 0?Ic:l,h=r.altBoundary,f=h===void 0?!1:h,v=r.padding,p=v===void 0?0:v,g=nk(typeof p!="number"?p:ik(p,xh)),m=c===Ic?hN:Ic,_=t.rects.popper,b=t.elements[f?m:c],w=UN(Gl(b)?b:b.contextElement||is(t.elements.popper),o,u),T=Wl(t.elements.reference),k=uk({reference:T,element:_,strategy:"absolute",placement:i}),A=Ty(Object.assign({},_,k)),M=c===Ic?A:T,O={top:w.top-M.top+g.top,bottom:M.bottom-w.bottom+g.bottom,left:w.left-M.left+g.left,right:M.right-w.right+g.right},F=t.modifiersData.offset;if(c===Ic&&F){var $=F[i];Object.keys(O).forEach(function(B){var U=[yi,mi].indexOf(B)>=0?1:-1,H=[Rn,mi].indexOf(B)>=0?"y":"x";O[B]+=$[H]*U})}return O}function VN(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,u=r.allowedAutoPlacements,l=u===void 0?M1:u,c=Yl(n),h=c?s?Tx:Tx.filter(function(p){return Yl(p)===c}):xh,f=h.filter(function(p){return l.indexOf(p)>=0});f.length===0&&(f=h);var v=f.reduce(function(p,g){return p[g]=Zf(t,{placement:g,boundary:i,rootBoundary:a,padding:o})[ga(g)],p},{});return Object.keys(v).sort(function(p,g){return v[p]-v[g]})}function GN(t){if(ga(t)===E1)return[];var e=ov(t);return[kx(t),e,kx(e)]}function jN(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!0:o,u=r.fallbackPlacements,l=r.padding,c=r.boundary,h=r.rootBoundary,f=r.altBoundary,v=r.flipVariations,p=v===void 0?!0:v,g=r.allowedAutoPlacements,m=e.options.placement,_=ga(m),b=_===m,w=u||(b||!p?[ov(m)]:GN(m)),T=[m].concat(w).reduce(function(Te,Le){return Te.concat(ga(Le)===E1?VN(e,{placement:Le,boundary:c,rootBoundary:h,padding:l,flipVariations:p,allowedAutoPlacements:g}):Le)},[]),k=e.rects.reference,A=e.rects.popper,M=new Map,O=!0,F=T[0],$=0;$<T.length;$++){var B=T[$],U=ga(B),H=Yl(B)===Vl,W=[Rn,mi].indexOf(U)>=0,z=W?"width":"height",G=Zf(e,{placement:B,boundary:c,rootBoundary:h,altBoundary:f,padding:l}),Y=W?H?yi:On:H?mi:Rn;k[z]>A[z]&&(Y=ov(Y));var Q=ov(Y),J=[];if(a&&J.push(G[U]<=0),s&&J.push(G[Y]<=0,G[Q]<=0),J.every(function(Te){return Te})){F=B,O=!1;break}M.set(B,J)}if(O)for(var ae=p?3:1,he=function(Te){var Le=T.find(function($e){var se=M.get($e);if(se)return se.slice(0,Te).every(function(pe){return pe})});if(Le)return F=Le,"break"},ve=ae;ve>0;ve--){var we=he(ve);if(we==="break")break}e.placement!==F&&(e.modifiersData[n]._skip=!0,e.placement=F,e.reset=!0)}}var WN={name:"flip",enabled:!0,phase:"main",fn:jN,requiresIfExists:["offset"],data:{_skip:!1}};function Ex(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function Mx(t){return[Rn,yi,mi,On].some(function(e){return t[e]>=0})}function YN(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=Zf(e,{elementContext:"reference"}),s=Zf(e,{altBoundary:!0}),u=Ex(o,n),l=Ex(s,i,a),c=Mx(u),h=Mx(l);e.modifiersData[r]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}var XN={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:YN};function qN(t,e,r){var n=ga(t),i=[On,Rn].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[On,yi].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function ZN(t){var e=t.state,r=t.options,n=t.name,i=r.offset,a=i===void 0?[0,0]:i,o=M1.reduce(function(c,h){return c[h]=qN(h,e.rects,a),c},{}),s=o[e.placement],u=s.x,l=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=l),e.modifiersData[n]=o}var KN={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ZN};function QN(t){var e=t.state,r=t.name;e.modifiersData[r]=uk({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var lk={name:"popperOffsets",enabled:!0,phase:"read",fn:QN,data:{}};function JN(t){return t==="x"?"y":"x"}function eF(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!1:o,u=r.boundary,l=r.rootBoundary,c=r.altBoundary,h=r.padding,f=r.tether,v=f===void 0?!0:f,p=r.tetherOffset,g=p===void 0?0:p,m=Zf(e,{boundary:u,rootBoundary:l,padding:h,altBoundary:c}),_=ga(e.placement),b=Yl(e.placement),w=!b,T=R1(_),k=JN(T),A=e.modifiersData.popperOffsets,M=e.rects.reference,O=e.rects.popper,F=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,$=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(A){if(a){var H,W=T==="y"?Rn:On,z=T==="y"?mi:yi,G=T==="y"?"height":"width",Y=A[T],Q=Y+m[W],J=Y-m[z],ae=v?-O[G]/2:0,he=b===Vl?M[G]:O[G],ve=b===Vl?-O[G]:-M[G],we=e.elements.arrow,Te=v&&we?L1(we):{width:0,height:0},Le=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:rk(),$e=Le[W],se=Le[z],pe=wf(0,M[G],Te[G]),ge=w?M[G]/2-ae-pe-$e-$.mainAxis:he-pe-$e-$.mainAxis,be=w?-M[G]/2+ae+pe+se+$.mainAxis:ve+pe+se+$.mainAxis,Ce=e.elements.arrow&&Sh(e.elements.arrow),He=Ce?T==="y"?Ce.clientTop||0:Ce.clientLeft||0:0,Ie=(H=B==null?void 0:B[T])!=null?H:0,Ne=Y+ge-Ie-He,vt=Y+be-Ie,Yt=wf(v?Bv(Q,Ne):Q,Y,v?iu(J,vt):J);A[T]=Yt,U[T]=Yt-Y}if(s){var It,hn=T==="x"?Rn:On,Yr=T==="x"?mi:yi,de=A[k],Vt=k==="y"?"height":"width",Ar=de+m[hn],yr=de-m[Yr],Ae=[Rn,On].indexOf(_)!==-1,yt=(It=B==null?void 0:B[k])!=null?It:0,pr=Ae?Ar:de-M[Vt]-O[Vt]-yt+$.altAxis,dn=Ae?de+M[Vt]+O[Vt]-yt-$.altAxis:yr,Bn=v&&Ae?kN(pr,de,dn):wf(v?pr:Ar,de,v?dn:yr);A[k]=Bn,U[k]=Bn-de}e.modifiersData[n]=U}}var tF={name:"preventOverflow",enabled:!0,phase:"main",fn:eF,requiresIfExists:["offset"]};function rF(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function nF(t){return t===zi(t)||!vi(t)?O1(t):rF(t)}function iF(t){var e=t.getBoundingClientRect(),r=jl(e.width)/t.offsetWidth||1,n=jl(e.height)/t.offsetHeight||1;return r!==1||n!==1}function aF(t,e,r){r===void 0&&(r=!1);var n=vi(e),i=vi(e)&&iF(e),a=is(e),o=Wl(t,i),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!r)&&((Sa(e)!=="body"||B1(a))&&(s=nF(e)),vi(e)?(u=Wl(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):a&&(u.x=I1(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function oF(t){var e=new Map,r=new Set,n=[];t.forEach(function(a){e.set(a.name,a)});function i(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var u=e.get(s);u&&i(u)}}),n.push(a)}return t.forEach(function(a){r.has(a.name)||i(a)}),n}function sF(t){var e=oF(t);return SN.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function uF(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function lF(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var Dx={placement:"bottom",modifiers:[],strategy:"absolute"};function Lx(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function N1(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,a=i===void 0?Dx:i;return function(o,s,u){u===void 0&&(u=a);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},Dx,a),modifiersData:{},elements:{reference:o,popper:s},attributes:{},styles:{}},c=[],h=!1,f={state:l,setOptions:function(g){var m=typeof g=="function"?g(l.options):g;p(),l.options=Object.assign({},a,l.options,m),l.scrollParents={reference:Gl(o)?Tf(o):o.contextElement?Tf(o.contextElement):[],popper:Tf(s)};var _=sF(lF([].concat(n,l.options.modifiers)));return l.orderedModifiers=_.filter(function(b){return b.enabled}),v(),f.update()},forceUpdate:function(){if(!h){var g=l.elements,m=g.reference,_=g.popper;if(Lx(m,_)){l.rects={reference:aF(m,Sh(_),l.options.strategy==="fixed"),popper:L1(_)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(O){return l.modifiersData[O.name]=Object.assign({},O.data)});for(var b=0;b<l.orderedModifiers.length;b++){if(l.reset===!0){l.reset=!1,b=-1;continue}var w=l.orderedModifiers[b],T=w.fn,k=w.options,A=k===void 0?{}:k,M=w.name;typeof T=="function"&&(l=T({state:l,options:A,name:M,instance:f})||l)}}}},update:uF(function(){return new Promise(function(g){f.forceUpdate(),g(l)})}),destroy:function(){p(),h=!0}};if(!Lx(o,s))return f;f.setOptions(u).then(function(g){!h&&u.onFirstUpdate&&u.onFirstUpdate(g)});function v(){l.orderedModifiers.forEach(function(g){var m=g.name,_=g.options,b=_===void 0?{}:_,w=g.effect;if(typeof w=="function"){var T=w({state:l,name:m,instance:f,options:b}),k=function(){};c.push(T||k)}})}function p(){c.forEach(function(g){return g()}),c=[]}return f}}N1();var cF=[ok,lk,ak,ek];N1({defaultModifiers:cF});var fF=[ok,lk,ak,ek,KN,WN,tF,DN,XN],hF=N1({defaultModifiers:fF});const dF=(t,e,r={})=>{const n={name:"updateState",enabled:!0,phase:"write",fn:({state:u})=>{const l=vF(u);Object.assign(o.value,l)},requires:["computeStyles"]},i=ce(()=>{const{onFirstUpdate:u,placement:l,strategy:c,modifiers:h}=X(r);return{onFirstUpdate:u,placement:l||"bottom",strategy:c||"absolute",modifiers:[...h||[],n,{name:"applyStyles",enabled:!1}]}}),a=_f(),o=je({styles:{popper:{position:X(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return xt(i,u=>{const l=X(a);l&&l.setOptions(u)},{deep:!0}),xt([t,e],([u,l])=>{s(),!(!u||!l)&&(a.value=hF(u,l,X(i)))}),Kn(()=>{s()}),{state:ce(()=>{var u;return{...((u=X(a))==null?void 0:u.state)||{}}}),styles:ce(()=>X(o).styles),attributes:ce(()=>X(o).attributes),update:()=>{var u;return(u=X(a))==null?void 0:u.update()},forceUpdate:()=>{var u;return(u=X(a))==null?void 0:u.forceUpdate()},instanceRef:ce(()=>X(a))}};function vF(t){const e=Object.keys(t.elements),r=Ov(e.map(i=>[i,t.styles[i]||{}])),n=Ov(e.map(i=>[i,t.attributes[i]]));return{styles:r,attributes:n}}const pF=t=>{if(!t)return{onClick:Vo,onMousedown:Vo,onMouseup:Vo};let e=!1,r=!1;return{onClick:o=>{e&&r&&t(o),e=r=!1},onMousedown:o=>{e=o.target===o.currentTarget},onMouseup:o=>{r=o.target===o.currentTarget}}},gF=(t,e=0)=>{if(e===0)return t;const r=je(!1);let n=0;const i=()=>{n&&clearTimeout(n),n=window.setTimeout(()=>{r.value=t.value},e)};return $r(i),xt(()=>t.value,a=>{a?i():r.value=a}),r};function Rx(){let t;const e=(n,i)=>{r(),t=window.setTimeout(n,i)},r=()=>window.clearTimeout(t);return Tp(()=>r()),{registerTimeout:e,cancelTimeout:r}}const Ox={prefix:Math.floor(Math.random()*1e4),current:0},mF=Symbol("elIdInjection"),ck=()=>Hi()?Ft(mF,Ox):Ox,Kf=t=>{const e=ck(),r=P1();return ce(()=>X(t)||`${r.value}-id-${e.prefix}-${e.current++}`)};let fl=[];const Ix=t=>{const e=t;e.key===bn.esc&&fl.forEach(r=>r(e))},yF=t=>{$r(()=>{fl.length===0&&document.addEventListener("keydown",Ix),Br&&fl.push(t)}),Kn(()=>{fl=fl.filter(e=>e!==t),fl.length===0&&Br&&document.removeEventListener("keydown",Ix)})};let Bx;const fk=()=>{const t=P1(),e=ck(),r=ce(()=>`${t.value}-popper-container-${e.prefix}`),n=ce(()=>`#${r.value}`);return{id:r,selector:n}},_F=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},bF=()=>{const{id:t,selector:e}=fk();return ZR(()=>{Br&&!Bx&&!document.body.querySelector(e.value)&&(Bx=_F(t.value))}),{id:t,selector:e}},xF=Mt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),SF=({showAfter:t,hideAfter:e,autoClose:r,open:n,close:i})=>{const{registerTimeout:a}=Rx(),{registerTimeout:o,cancelTimeout:s}=Rx();return{onOpen:c=>{a(()=>{n(c);const h=X(r);xa(h)&&h>0&&o(()=>{i(c)},h)},X(t))},onClose:c=>{s(),a(()=>{i(c)},X(e))}}},hk=Symbol("elForwardRef"),wF=t=>{Ir(hk,{setForwardRef:r=>{t.value=r}})},TF=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),Nx=je(0),dk=2e3,vk=Symbol("zIndexContextKey"),F1=t=>{const e=t||Ft(vk,void 0),r=ce(()=>{const a=X(e);return xa(a)?a:dk}),n=ce(()=>r.value+Nx.value);return{initialZIndex:r,currentZIndex:n,nextZIndex:()=>(Nx.value++,n.value)}};function CF(t){const e=je();function r(){if(t.value==null)return;const{selectionStart:i,selectionEnd:a,value:o}=t.value;if(i==null||a==null)return;const s=o.slice(0,Math.max(0,i)),u=o.slice(Math.max(0,a));e.value={selectionStart:i,selectionEnd:a,value:o,beforeTxt:s,afterTxt:u}}function n(){if(t.value==null||e.value==null)return;const{value:i}=t.value,{beforeTxt:a,afterTxt:o,selectionStart:s}=e.value;if(a==null||o==null||s==null)return;let u=i.length;if(i.endsWith(o))u=i.length-o.length;else if(i.startsWith(a))u=a.length;else{const l=a[s-1],c=i.indexOf(l,s-1);c!==-1&&(u=c+1)}t.value.setSelectionRange(u,u)}return[r,n]}const pk=Ep({type:String,values:Mp,required:!1}),gk=Symbol("size"),AF=()=>{const t=Ft(gk,{});return ce(()=>X(t.size)||"")},mk=Symbol(),Nv=je();function Lp(t,e=void 0){const r=Hi()?Ft(mk,Nv):Nv;return t?ce(()=>{var n,i;return(i=(n=r.value)==null?void 0:n[t])!=null?i:e}):r}function yk(t,e){const r=Lp(),n=gt(t,ce(()=>{var s;return((s=r.value)==null?void 0:s.namespace)||Iv})),i=bh(ce(()=>{var s;return(s=r.value)==null?void 0:s.locale})),a=F1(ce(()=>{var s;return((s=r.value)==null?void 0:s.zIndex)||dk})),o=ce(()=>{var s;return X(e)||((s=r.value)==null?void 0:s.size)||""});return kF(ce(()=>X(r)||{})),{ns:n,locale:i,zIndex:a,size:o}}const kF=(t,e,r=!1)=>{var n;const i=!!Hi(),a=i?Lp():void 0,o=(n=e==null?void 0:e.provide)!=null?n:i?Ir:void 0;if(!o)return;const s=ce(()=>{const u=X(t);return a!=null&&a.value?PF(a.value,u):u});return o(mk,s),o(qA,ce(()=>s.value.locale)),o(ZA,ce(()=>s.value.namespace)),o(vk,ce(()=>s.value.zIndex)),o(gk,{size:ce(()=>s.value.size||"")}),(r||!Nv.value)&&(Nv.value=s.value),s},PF=(t,e)=>{var r;const n=[...new Set([...xx(t),...xx(e)])],i={};for(const a of n)i[a]=(r=e[a])!=null?r:t[a];return i},Fx={};var kt=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r};const EF=Mt({size:{type:rt([Number,String])},color:{type:String}}),MF=We({name:"ElIcon",inheritAttrs:!1}),DF=We({...MF,props:EF,setup(t){const e=t,r=gt("icon"),n=ce(()=>{const{size:i,color:a}=e;return!i&&!a?{}:{fontSize:W4(i)?void 0:Ul(i),"--color":a}});return(i,a)=>(Se(),Fe("i",Ur({class:X(r).b(),style:X(n)},i.$attrs),[Je(i.$slots,"default")],16))}});var LF=kt(DF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const Gn=Wr(LF),cc=Symbol("formContextKey"),hu=Symbol("formItemContextKey"),wh=(t,e={})=>{const r=je(void 0),n=e.prop?r:QA("size"),i=e.global?r:AF(),a=e.form?{size:void 0}:Ft(cc,void 0),o=e.formItem?{size:void 0}:Ft(hu,void 0);return ce(()=>n.value||X(t)||(o==null?void 0:o.size)||(a==null?void 0:a.size)||i.value||"")},$1=t=>{const e=QA("disabled"),r=Ft(cc,void 0);return ce(()=>e.value||X(t)||(r==null?void 0:r.disabled)||!1)},_k=()=>{const t=Ft(cc,void 0),e=Ft(hu,void 0);return{form:t,formItem:e}},RF=(t,{formItemContext:e,disableIdGeneration:r,disableIdManagement:n})=>{r||(r=je(!1)),n||(n=je(!1));const i=je();let a;const o=ce(()=>{var s;return!!(!t.label&&e&&e.inputIds&&((s=e.inputIds)==null?void 0:s.length)<=1)});return $r(()=>{a=xt([Ri(t,"id"),r],([s,u])=>{const l=s??(u?void 0:Kf().value);l!==i.value&&(e!=null&&e.removeInputId&&(i.value&&e.removeInputId(i.value),!(n!=null&&n.value)&&!u&&l&&e.addInputId(l)),i.value=l)},{immediate:!0})}),KR(()=>{a&&a(),e!=null&&e.removeInputId&&i.value&&e.removeInputId(i.value)}),{isLabeledByFormItem:o,inputId:i}},OF=Mt({size:{type:String,values:Mp},disabled:Boolean}),IF=Mt({...OF,model:Object,rules:{type:rt(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),BF={validate:(t,e,r)=>(Cl(t)||Tr(t))&&lc(e)&&Tr(r)};function NF(){const t=je([]),e=ce(()=>{if(!t.value.length)return"0";const a=Math.max(...t.value);return a?`${a}px`:""});function r(a){const o=t.value.indexOf(a);return o===-1&&e.value,o}function n(a,o){if(a&&o){const s=r(o);t.value.splice(s,1,a)}else a&&t.value.push(a)}function i(a){const o=r(a);o>-1&&t.value.splice(o,1)}return{autoLabelWidth:e,registerLabelWidth:n,deregisterLabelWidth:i}}const Jh=(t,e)=>{const r=_y(e);return r.length>0?t.filter(n=>n.prop&&r.includes(n.prop)):t},FF="ElForm",$F=We({name:FF}),HF=We({...$F,props:IF,emits:BF,setup(t,{expose:e,emit:r}){const n=t,i=[],a=wh(),o=gt("form"),s=ce(()=>{const{labelPosition:b,inline:w}=n;return[o.b(),o.m(a.value||"default"),{[o.m(`label-${b}`)]:b,[o.m("inline")]:w}]}),u=b=>{i.push(b)},l=b=>{b.prop&&i.splice(i.indexOf(b),1)},c=(b=[])=>{n.model&&Jh(i,b).forEach(w=>w.resetField())},h=(b=[])=>{Jh(i,b).forEach(w=>w.clearValidate())},f=ce(()=>!!n.model),v=b=>{if(i.length===0)return[];const w=Jh(i,b);return w.length?w:[]},p=async b=>m(void 0,b),g=async(b=[])=>{if(!f.value)return!1;const w=v(b);if(w.length===0)return!0;let T={};for(const k of w)try{await k.validate("")}catch(A){T={...T,...A}}return Object.keys(T).length===0?!0:Promise.reject(T)},m=async(b=[],w)=>{const T=!ha(w);try{const k=await g(b);return k===!0&&(w==null||w(k)),k}catch(k){if(k instanceof Error)throw k;const A=k;return n.scrollToError&&_(Object.keys(A)[0]),w==null||w(!1,A),T&&Promise.reject(A)}},_=b=>{var w;const T=Jh(i,b)[0];T&&((w=T.$el)==null||w.scrollIntoView(n.scrollIntoViewOptions))};return xt(()=>n.rules,()=>{n.validateOnRuleChange&&p().catch(b=>void 0)},{deep:!0}),Ir(cc,ao({...f1(n),emit:r,resetFields:c,clearValidate:h,validateField:m,addField:u,removeField:l,...NF()})),e({validate:p,validateField:m,resetFields:c,clearValidate:h,scrollToField:_}),(b,w)=>(Se(),Fe("form",{class:Ge(X(s))},[Je(b.$slots,"default")],2))}});var zF=kt(HF,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function Ks(){return Ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ks.apply(this,arguments)}function UF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Qf(t,e)}function Cy(t){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cy(t)}function Qf(t,e){return Qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qf(t,e)}function VF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sv(t,e,r){return VF()?sv=Reflect.construct.bind():sv=function(i,a,o){var s=[null];s.push.apply(s,a);var u=Function.bind.apply(i,s),l=new u;return o&&Qf(l,o.prototype),l},sv.apply(null,arguments)}function GF(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Ay(t){var e=typeof Map=="function"?new Map:void 0;return Ay=function(n){if(n===null||!GF(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return sv(n,arguments,Cy(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Qf(i,n)},Ay(t)}var jF=/%[sdj%]/g,WF=function(){};typeof process<"u"&&process.env;function ky(t){if(!t||!t.length)return null;var e={};return t.forEach(function(r){var n=r.field;e[n]=e[n]||[],e[n].push(r)}),e}function Yn(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=0,a=r.length;if(typeof t=="function")return t.apply(null,r);if(typeof t=="string"){var o=t.replace(jF,function(s){if(s==="%%")return"%";if(i>=a)return s;switch(s){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch{return"[Circular]"}break;default:return s}});return o}return t}function YF(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Nr(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||YF(e)&&typeof t=="string"&&!t)}function XF(t,e,r){var n=[],i=0,a=t.length;function o(s){n.push.apply(n,s||[]),i++,i===a&&r(n)}t.forEach(function(s){e(s,o)})}function $x(t,e,r){var n=0,i=t.length;function a(o){if(o&&o.length){r(o);return}var s=n;n=n+1,s<i?e(t[s],a):r([])}a([])}function qF(t){var e=[];return Object.keys(t).forEach(function(r){e.push.apply(e,t[r]||[])}),e}var Hx=function(t){UF(e,t);function e(r,n){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=r,i.fields=n,i}return e}(Ay(Error));function ZF(t,e,r,n,i){if(e.first){var a=new Promise(function(f,v){var p=function(_){return n(_),_.length?v(new Hx(_,ky(_))):f(i)},g=qF(t);$x(g,r,p)});return a.catch(function(f){return f}),a}var o=e.firstFields===!0?Object.keys(t):e.firstFields||[],s=Object.keys(t),u=s.length,l=0,c=[],h=new Promise(function(f,v){var p=function(m){if(c.push.apply(c,m),l++,l===u)return n(c),c.length?v(new Hx(c,ky(c))):f(i)};s.length||(n(c),f(i)),s.forEach(function(g){var m=t[g];o.indexOf(g)!==-1?$x(m,r,p):XF(m,r,p)})});return h.catch(function(f){return f}),h}function KF(t){return!!(t&&t.message!==void 0)}function QF(t,e){for(var r=t,n=0;n<e.length;n++){if(r==null)return r;r=r[e[n]]}return r}function zx(t,e){return function(r){var n;return t.fullFields?n=QF(e,t.fullFields):n=e[r.field||t.fullField],KF(r)?(r.field=r.field||t.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||t.fullField}}}function Ux(t,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];typeof n=="object"&&typeof t[r]=="object"?t[r]=Ks({},t[r],n):t[r]=n}}return t}var bk=function(e,r,n,i,a,o){e.required&&(!n.hasOwnProperty(e.field)||Nr(r,o||e.type))&&i.push(Yn(a.messages.required,e.fullField))},JF=function(e,r,n,i,a){(/^\s+$/.test(r)||r==="")&&i.push(Yn(a.messages.whitespace,e.fullField))},ed,e$=function(){if(ed)return ed;var t="[a-fA-F\\d:]",e=function(T){return T&&T.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+r+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+r+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+r+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+r+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+r+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+r+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+r+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+r+"$)|(?:^"+i+"$)"),o=new RegExp("^"+r+"$"),s=new RegExp("^"+i+"$"),u=function(T){return T&&T.exact?a:new RegExp("(?:"+e(T)+r+e(T)+")|(?:"+e(T)+i+e(T)+")","g")};u.v4=function(w){return w&&w.exact?o:new RegExp(""+e(w)+r+e(w),"g")},u.v6=function(w){return w&&w.exact?s:new RegExp(""+e(w)+i+e(w),"g")};var l="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",h=u.v4().source,f=u.v6().source,v="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",m="(?::\\d{2,5})?",_='(?:[/?#][^\\s"]*)?',b="(?:"+l+"|www\\.)"+c+"(?:localhost|"+h+"|"+f+"|"+v+p+g+")"+m+_;return ed=new RegExp("(?:^"+b+"$)","i"),ed},Vx={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},lf={integer:function(e){return lf.number(e)&&parseInt(e,10)===e},float:function(e){return lf.number(e)&&!lf.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!lf.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Vx.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(e$())},hex:function(e){return typeof e=="string"&&!!e.match(Vx.hex)}},t$=function(e,r,n,i,a){if(e.required&&r===void 0){bk(e,r,n,i,a);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;o.indexOf(s)>-1?lf[s](r)||i.push(Yn(a.messages.types[s],e.fullField,e.type)):s&&typeof r!==e.type&&i.push(Yn(a.messages.types[s],e.fullField,e.type))},r$=function(e,r,n,i,a){var o=typeof e.len=="number",s=typeof e.min=="number",u=typeof e.max=="number",l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=r,h=null,f=typeof r=="number",v=typeof r=="string",p=Array.isArray(r);if(f?h="number":v?h="string":p&&(h="array"),!h)return!1;p&&(c=r.length),v&&(c=r.replace(l,"_").length),o?c!==e.len&&i.push(Yn(a.messages[h].len,e.fullField,e.len)):s&&!u&&c<e.min?i.push(Yn(a.messages[h].min,e.fullField,e.min)):u&&!s&&c>e.max?i.push(Yn(a.messages[h].max,e.fullField,e.max)):s&&u&&(c<e.min||c>e.max)&&i.push(Yn(a.messages[h].range,e.fullField,e.min,e.max))},Gu="enum",n$=function(e,r,n,i,a){e[Gu]=Array.isArray(e[Gu])?e[Gu]:[],e[Gu].indexOf(r)===-1&&i.push(Yn(a.messages[Gu],e.fullField,e[Gu].join(", ")))},i$=function(e,r,n,i,a){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||i.push(Yn(a.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(r)||i.push(Yn(a.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},Dt={required:bk,whitespace:JF,type:t$,range:r$,enum:n$,pattern:i$},a$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Nr(r,"string")&&!e.required)return n();Dt.required(e,r,i,o,a,"string"),Nr(r,"string")||(Dt.type(e,r,i,o,a),Dt.range(e,r,i,o,a),Dt.pattern(e,r,i,o,a),e.whitespace===!0&&Dt.whitespace(e,r,i,o,a))}n(o)},o$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Nr(r)&&!e.required)return n();Dt.required(e,r,i,o,a),r!==void 0&&Dt.type(e,r,i,o,a)}n(o)},s$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(r===""&&(r=void 0),Nr(r)&&!e.required)return n();Dt.required(e,r,i,o,a),r!==void 0&&(Dt.type(e,r,i,o,a),Dt.range(e,r,i,o,a))}n(o)},u$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Nr(r)&&!e.required)return n();Dt.required(e,r,i,o,a),r!==void 0&&Dt.type(e,r,i,o,a)}n(o)},l$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Nr(r)&&!e.required)return n();Dt.required(e,r,i,o,a),Nr(r)||Dt.type(e,r,i,o,a)}n(o)},c$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Nr(r)&&!e.required)return n();Dt.required(e,r,i,o,a),r!==void 0&&(Dt.type(e,r,i,o,a),Dt.range(e,r,i,o,a))}n(o)},f$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Nr(r)&&!e.required)return n();Dt.required(e,r,i,o,a),r!==void 0&&(Dt.type(e,r,i,o,a),Dt.range(e,r,i,o,a))}n(o)},h$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(r==null&&!e.required)return n();Dt.required(e,r,i,o,a,"array"),r!=null&&(Dt.type(e,r,i,o,a),Dt.range(e,r,i,o,a))}n(o)},d$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Nr(r)&&!e.required)return n();Dt.required(e,r,i,o,a),r!==void 0&&Dt.type(e,r,i,o,a)}n(o)},v$="enum",p$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Nr(r)&&!e.required)return n();Dt.required(e,r,i,o,a),r!==void 0&&Dt[v$](e,r,i,o,a)}n(o)},g$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Nr(r,"string")&&!e.required)return n();Dt.required(e,r,i,o,a),Nr(r,"string")||Dt.pattern(e,r,i,o,a)}n(o)},m$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Nr(r,"date")&&!e.required)return n();if(Dt.required(e,r,i,o,a),!Nr(r,"date")){var u;r instanceof Date?u=r:u=new Date(r),Dt.type(e,u,i,o,a),u&&Dt.range(e,u.getTime(),i,o,a)}}n(o)},y$=function(e,r,n,i,a){var o=[],s=Array.isArray(r)?"array":typeof r;Dt.required(e,r,i,o,a,s),n(o)},Dg=function(e,r,n,i,a){var o=e.type,s=[],u=e.required||!e.required&&i.hasOwnProperty(e.field);if(u){if(Nr(r,o)&&!e.required)return n();Dt.required(e,r,i,s,a,o),Nr(r,o)||Dt.type(e,r,i,s,a)}n(s)},_$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Nr(r)&&!e.required)return n();Dt.required(e,r,i,o,a)}n(o)},Cf={string:a$,method:o$,number:s$,boolean:u$,regexp:l$,integer:c$,float:f$,array:h$,object:d$,enum:p$,pattern:g$,date:m$,url:Dg,hex:Dg,email:Dg,required:y$,any:_$};function Py(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Ey=Py(),Th=function(){function t(r){this.rules=null,this._messages=Ey,this.define(r)}var e=t.prototype;return e.define=function(n){var i=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(a){var o=n[a];i.rules[a]=Array.isArray(o)?o:[o]})},e.messages=function(n){return n&&(this._messages=Ux(Py(),n)),this._messages},e.validate=function(n,i,a){var o=this;i===void 0&&(i={}),a===void 0&&(a=function(){});var s=n,u=i,l=a;if(typeof u=="function"&&(l=u,u={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,s),Promise.resolve(s);function c(g){var m=[],_={};function b(T){if(Array.isArray(T)){var k;m=(k=m).concat.apply(k,T)}else m.push(T)}for(var w=0;w<g.length;w++)b(g[w]);m.length?(_=ky(m),l(m,_)):l(null,s)}if(u.messages){var h=this.messages();h===Ey&&(h=Py()),Ux(h,u.messages),u.messages=h}else u.messages=this.messages();var f={},v=u.keys||Object.keys(this.rules);v.forEach(function(g){var m=o.rules[g],_=s[g];m.forEach(function(b){var w=b;typeof w.transform=="function"&&(s===n&&(s=Ks({},s)),_=s[g]=w.transform(_)),typeof w=="function"?w={validator:w}:w=Ks({},w),w.validator=o.getValidationMethod(w),w.validator&&(w.field=g,w.fullField=w.fullField||g,w.type=o.getType(w),f[g]=f[g]||[],f[g].push({rule:w,value:_,source:s,field:g}))})});var p={};return ZF(f,u,function(g,m){var _=g.rule,b=(_.type==="object"||_.type==="array")&&(typeof _.fields=="object"||typeof _.defaultField=="object");b=b&&(_.required||!_.required&&g.value),_.field=g.field;function w(A,M){return Ks({},M,{fullField:_.fullField+"."+A,fullFields:_.fullFields?[].concat(_.fullFields,[A]):[A]})}function T(A){A===void 0&&(A=[]);var M=Array.isArray(A)?A:[A];!u.suppressWarning&&M.length&&t.warning("async-validator:",M),M.length&&_.message!==void 0&&(M=[].concat(_.message));var O=M.map(zx(_,s));if(u.first&&O.length)return p[_.field]=1,m(O);if(!b)m(O);else{if(_.required&&!g.value)return _.message!==void 0?O=[].concat(_.message).map(zx(_,s)):u.error&&(O=[u.error(_,Yn(u.messages.required,_.field))]),m(O);var F={};_.defaultField&&Object.keys(g.value).map(function(U){F[U]=_.defaultField}),F=Ks({},F,g.rule.fields);var $={};Object.keys(F).forEach(function(U){var H=F[U],W=Array.isArray(H)?H:[H];$[U]=W.map(w.bind(null,U))});var B=new t($);B.messages(u.messages),g.rule.options&&(g.rule.options.messages=u.messages,g.rule.options.error=u.error),B.validate(g.value,g.rule.options||u,function(U){var H=[];O&&O.length&&H.push.apply(H,O),U&&U.length&&H.push.apply(H,U),m(H.length?H:null)})}}var k;if(_.asyncValidator)k=_.asyncValidator(_,g.value,T,g.source,u);else if(_.validator){try{k=_.validator(_,g.value,T,g.source,u)}catch(A){console.error==null||console.error(A),u.suppressValidatorError||setTimeout(function(){throw A},0),T(A.message)}k===!0?T():k===!1?T(typeof _.message=="function"?_.message(_.fullField||_.field):_.message||(_.fullField||_.field)+" fails"):k instanceof Array?T(k):k instanceof Error&&T(k.message)}k&&k.then&&k.then(function(){return T()},function(A){return T(A)})},function(g){c(g)},s)},e.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!Cf.hasOwnProperty(n.type))throw new Error(Yn("Unknown rule type %s",n.type));return n.type||"string"},e.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var i=Object.keys(n),a=i.indexOf("message");return a!==-1&&i.splice(a,1),i.length===1&&i[0]==="required"?Cf.required:Cf[this.getType(n)]||void 0},t}();Th.register=function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Cf[e]=r};Th.warning=WF;Th.messages=Ey;Th.validators=Cf;const b$=["","error","validating","success"],x$=Mt({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:rt([String,Array])},required:{type:Boolean,default:void 0},rules:{type:rt([Object,Array])},error:String,validateStatus:{type:String,values:b$},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Mp}}),Gx="ElLabelWrap";var S$=We({name:Gx,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const r=Ft(cc,void 0),n=Ft(hu);n||zl(Gx,"usage: <el-form-item><label-wrap /></el-form-item>");const i=gt("form"),a=je(),o=je(0),s=()=>{var c;if((c=a.value)!=null&&c.firstElementChild){const h=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(h))}else return 0},u=(c="update")=>{cn(()=>{e.default&&t.isAutoWidth&&(c==="update"?o.value=s():c==="remove"&&(r==null||r.deregisterLabelWidth(o.value)))})},l=()=>u("update");return $r(()=>{l()}),Kn(()=>{u("remove")}),QR(()=>l()),xt(o,(c,h)=>{t.updateAll&&(r==null||r.registerLabelWidth(c,h))}),Cp(ce(()=>{var c,h;return(h=(c=a.value)==null?void 0:c.firstElementChild)!=null?h:null}),l),()=>{var c,h;if(!e)return null;const{isAutoWidth:f}=t;if(f){const v=r==null?void 0:r.autoLabelWidth,p=n==null?void 0:n.hasLabel,g={};if(p&&v&&v!=="auto"){const m=Math.max(0,Number.parseInt(v,10)-o.value),_=r.labelPosition==="left"?"marginRight":"marginLeft";m&&(g[_]=`${m}px`)}return sr("div",{ref:a,class:[i.be("item","label-wrap")],style:g},[(c=e.default)==null?void 0:c.call(e)])}else return sr(Jr,{ref:a},[(h=e.default)==null?void 0:h.call(e)])}}});const w$=["role","aria-labelledby"],T$=We({name:"ElFormItem"}),C$=We({...T$,props:x$,setup(t,{expose:e}){const r=t,n=_h(),i=Ft(cc,void 0),a=Ft(hu,void 0),o=wh(void 0,{formItem:!1}),s=gt("form-item"),u=Kf().value,l=je([]),c=je(""),h=mI(c,100),f=je(""),v=je();let p,g=!1;const m=ce(()=>{if((i==null?void 0:i.labelPosition)==="top")return{};const se=Ul(r.labelWidth||(i==null?void 0:i.labelWidth)||"");return se?{width:se}:{}}),_=ce(()=>{if((i==null?void 0:i.labelPosition)==="top"||i!=null&&i.inline)return{};if(!r.label&&!r.labelWidth&&F)return{};const se=Ul(r.labelWidth||(i==null?void 0:i.labelWidth)||"");return!r.label&&!n.label?{marginLeft:se}:{}}),b=ce(()=>[s.b(),s.m(o.value),s.is("error",c.value==="error"),s.is("validating",c.value==="validating"),s.is("success",c.value==="success"),s.is("required",W.value||r.required),s.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[s.m("feedback")]:i==null?void 0:i.statusIcon}]),w=ce(()=>lc(r.inlineMessage)?r.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),T=ce(()=>[s.e("error"),{[s.em("error","inline")]:w.value}]),k=ce(()=>r.prop?Tr(r.prop)?r.prop:r.prop.join("."):""),A=ce(()=>!!(r.label||n.label)),M=ce(()=>r.for||l.value.length===1?l.value[0]:void 0),O=ce(()=>!M.value&&A.value),F=!!a,$=ce(()=>{const se=i==null?void 0:i.model;if(!(!se||!r.prop))return Eg(se,r.prop).value}),B=ce(()=>{const{required:se}=r,pe=[];r.rules&&pe.push(..._y(r.rules));const ge=i==null?void 0:i.rules;if(ge&&r.prop){const be=Eg(ge,r.prop).value;be&&pe.push(..._y(be))}if(se!==void 0){const be=pe.map((Ce,He)=>[Ce,He]).filter(([Ce])=>Object.keys(Ce).includes("required"));if(be.length>0)for(const[Ce,He]of be)Ce.required!==se&&(pe[He]={...Ce,required:se});else pe.push({required:se})}return pe}),U=ce(()=>B.value.length>0),H=se=>B.value.filter(ge=>!ge.trigger||!se?!0:Array.isArray(ge.trigger)?ge.trigger.includes(se):ge.trigger===se).map(({trigger:ge,...be})=>be),W=ce(()=>B.value.some(se=>se.required)),z=ce(()=>{var se;return h.value==="error"&&r.showMessage&&((se=i==null?void 0:i.showMessage)!=null?se:!0)}),G=ce(()=>`${r.label||""}${(i==null?void 0:i.labelSuffix)||""}`),Y=se=>{c.value=se},Q=se=>{var pe,ge;const{errors:be,fields:Ce}=se;(!be||!Ce)&&console.error(se),Y("error"),f.value=be?(ge=(pe=be==null?void 0:be[0])==null?void 0:pe.message)!=null?ge:`${r.prop} is required`:"",i==null||i.emit("validate",r.prop,!1,f.value)},J=()=>{Y("success"),i==null||i.emit("validate",r.prop,!0,"")},ae=async se=>{const pe=k.value;return new Th({[pe]:se}).validate({[pe]:$.value},{firstFields:!0}).then(()=>(J(),!0)).catch(be=>(Q(be),Promise.reject(be)))},he=async(se,pe)=>{if(g||!r.prop)return!1;const ge=ha(pe);if(!U.value)return pe==null||pe(!1),!1;const be=H(se);return be.length===0?(pe==null||pe(!0),!0):(Y("validating"),ae(be).then(()=>(pe==null||pe(!0),!0)).catch(Ce=>{const{fields:He}=Ce;return pe==null||pe(!1,He),ge?!1:Promise.reject(He)}))},ve=()=>{Y(""),f.value="",g=!1},we=async()=>{const se=i==null?void 0:i.model;if(!se||!r.prop)return;const pe=Eg(se,r.prop);g=!0,pe.value=bx(p),await cn(),ve(),g=!1},Te=se=>{l.value.includes(se)||l.value.push(se)},Le=se=>{l.value=l.value.filter(pe=>pe!==se)};xt(()=>r.error,se=>{f.value=se||"",Y(se?"error":"")},{immediate:!0}),xt(()=>r.validateStatus,se=>Y(se||""));const $e=ao({...f1(r),$el:v,size:o,validateState:c,labelId:u,inputIds:l,isGroup:O,hasLabel:A,addInputId:Te,removeInputId:Le,resetField:we,clearValidate:ve,validate:he});return Ir(hu,$e),$r(()=>{r.prop&&(i==null||i.addField($e),p=bx($.value))}),Kn(()=>{i==null||i.removeField($e)}),e({size:o,validateMessage:f,validateState:c,validate:he,clearValidate:ve,resetField:we}),(se,pe)=>{var ge;return Se(),Fe("div",{ref_key:"formItemRef",ref:v,class:Ge(X(b)),role:X(O)?"group":void 0,"aria-labelledby":X(O)?X(u):void 0},[sr(X(S$),{"is-auto-width":X(m).width==="auto","update-all":((ge=X(i))==null?void 0:ge.labelWidth)==="auto"},{default:mt(()=>[X(A)?(Se(),wt(Wn(X(M)?"label":"div"),{key:0,id:X(u),for:X(M),class:Ge(X(s).e("label")),style:Kr(X(m))},{default:mt(()=>[Je(se.$slots,"label",{label:X(G)},()=>[nu(xr(X(G)),1)])]),_:3},8,["id","for","class","style"])):dt("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),lt("div",{class:Ge(X(s).e("content")),style:Kr(X(_))},[Je(se.$slots,"default"),sr(JR,{name:`${X(s).namespace.value}-zoom-in-top`},{default:mt(()=>[X(z)?Je(se.$slots,"error",{key:0,error:f.value},()=>[lt("div",{class:Ge(X(T))},xr(f.value),3)]):dt("v-if",!0)]),_:3},8,["name"])],6)],10,w$)}}});var xk=kt(C$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const mie=Wr(zF,{FormItem:xk}),yie=Ca(xk);let Ti;const A$=`
  height:0 !important;
  visibility:hidden !important;
  ${EI()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,k$=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function P$(t){const e=window.getComputedStyle(t),r=e.getPropertyValue("box-sizing"),n=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),i=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:k$.map(o=>`${o}:${e.getPropertyValue(o)}`).join(";"),paddingSize:n,borderSize:i,boxSizing:r}}function jx(t,e=1,r){var n;Ti||(Ti=document.createElement("textarea"),document.body.appendChild(Ti));const{paddingSize:i,borderSize:a,boxSizing:o,contextStyle:s}=P$(t);Ti.setAttribute("style",`${s};${A$}`),Ti.value=t.value||t.placeholder||"";let u=Ti.scrollHeight;const l={};o==="border-box"?u=u+a:o==="content-box"&&(u=u-i),Ti.value="";const c=Ti.scrollHeight-i;if(xa(e)){let h=c*e;o==="border-box"&&(h=h+i+a),u=Math.max(h,u),l.minHeight=`${h}px`}if(xa(r)){let h=c*r;o==="border-box"&&(h=h+i+a),u=Math.min(h,u)}return l.height=`${u}px`,(n=Ti.parentNode)==null||n.removeChild(Ti),Ti=void 0,l}const E$=Mt({id:{type:String,default:void 0},size:pk,disabled:Boolean,modelValue:{type:rt([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:rt([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Oi},prefixIcon:{type:Oi},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:rt([Object,Array,String]),default:()=>Bo({})}}),M$={[fu]:t=>Tr(t),input:t=>Tr(t),change:t=>Tr(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},D$=["role"],L$=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],R$=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],O$=We({name:"ElInput",inheritAttrs:!1}),I$=We({...O$,props:E$,emits:M$,setup(t,{expose:e,emit:r}){const n=t,i=eO(),a=_h(),o=ce(()=>{const Ae={};return n.containerRole==="combobox"&&(Ae["aria-haspopup"]=i["aria-haspopup"],Ae["aria-owns"]=i["aria-owns"],Ae["aria-expanded"]=i["aria-expanded"]),Ae}),s=ce(()=>[n.type==="textarea"?m.b():g.b(),g.m(v.value),g.is("disabled",p.value),g.is("exceed",he.value),{[g.b("group")]:a.prepend||a.append,[g.bm("group","append")]:a.append,[g.bm("group","prepend")]:a.prepend,[g.m("prefix")]:a.prefix||n.prefixIcon,[g.m("suffix")]:a.suffix||n.suffixIcon||n.clearable||n.showPassword,[g.bm("suffix","password-clear")]:Y.value&&Q.value},i.class]),u=ce(()=>[g.e("wrapper"),g.is("focus",w.value)]),l=rN({excludeKeys:ce(()=>Object.keys(o.value))}),{form:c,formItem:h}=_k(),{inputId:f}=RF(n,{formItemContext:h}),v=wh(),p=$1(),g=gt("input"),m=gt("textarea"),_=_f(),b=_f(),w=je(!1),T=je(!1),k=je(!1),A=je(!1),M=je(),O=_f(n.inputStyle),F=ce(()=>_.value||b.value),$=ce(()=>{var Ae;return(Ae=c==null?void 0:c.statusIcon)!=null?Ae:!1}),B=ce(()=>(h==null?void 0:h.validateState)||""),U=ce(()=>B.value&&Z8[B.value]),H=ce(()=>A.value?U8:U6),W=ce(()=>[i.style,n.inputStyle]),z=ce(()=>[n.inputStyle,O.value,{resize:n.resize}]),G=ce(()=>Hl(n.modelValue)?"":String(n.modelValue)),Y=ce(()=>n.clearable&&!p.value&&!n.readonly&&!!G.value&&(w.value||T.value)),Q=ce(()=>n.showPassword&&!p.value&&!n.readonly&&!!G.value&&(!!G.value||w.value)),J=ce(()=>n.showWordLimit&&!!l.value.maxlength&&(n.type==="text"||n.type==="textarea")&&!p.value&&!n.readonly&&!n.showPassword),ae=ce(()=>G.value.length),he=ce(()=>!!J.value&&ae.value>Number(l.value.maxlength)),ve=ce(()=>!!a.suffix||!!n.suffixIcon||Y.value||n.showPassword||J.value||!!B.value&&$.value),[we,Te]=CF(_);Cp(b,Ae=>{if(se(),!J.value||n.resize!=="both")return;const yt=Ae[0],{width:pr}=yt.contentRect;M.value={right:`calc(100% - ${pr+15+6}px)`}});const Le=()=>{const{type:Ae,autosize:yt}=n;if(!(!Br||Ae!=="textarea"||!b.value))if(yt){const pr=ba(yt)?yt.minRows:void 0,dn=ba(yt)?yt.maxRows:void 0,Bn=jx(b.value,pr,dn);O.value={overflowY:"hidden",...Bn},cn(()=>{b.value.offsetHeight,O.value=Bn})}else O.value={minHeight:jx(b.value).minHeight}},se=(Ae=>{let yt=!1;return()=>{var pr;if(yt||!n.autosize)return;((pr=b.value)==null?void 0:pr.offsetParent)===null||(Ae(),yt=!0)}})(Le),pe=()=>{const Ae=F.value;!Ae||Ae.value===G.value||(Ae.value=G.value)},ge=async Ae=>{we();let{value:yt}=Ae.target;if(n.formatter&&(yt=n.parser?n.parser(yt):yt,yt=n.formatter(yt)),!k.value){if(yt===G.value){pe();return}r(fu,yt),r("input",yt),await cn(),pe(),Te()}},be=Ae=>{r("change",Ae.target.value)},Ce=Ae=>{r("compositionstart",Ae),k.value=!0},He=Ae=>{var yt;r("compositionupdate",Ae);const pr=(yt=Ae.target)==null?void 0:yt.value,dn=pr[pr.length-1]||"";k.value=!J8(dn)},Ie=Ae=>{r("compositionend",Ae),k.value&&(k.value=!1,ge(Ae))},Ne=()=>{A.value=!A.value,vt()},vt=async()=>{var Ae;await cn(),(Ae=F.value)==null||Ae.focus()},Yt=()=>{var Ae;return(Ae=F.value)==null?void 0:Ae.blur()},It=Ae=>{w.value=!0,r("focus",Ae)},hn=Ae=>{var yt;w.value=!1,r("blur",Ae),n.validateEvent&&((yt=h==null?void 0:h.validate)==null||yt.call(h,"blur").catch(pr=>void 0))},Yr=Ae=>{T.value=!1,r("mouseleave",Ae)},de=Ae=>{T.value=!0,r("mouseenter",Ae)},Vt=Ae=>{r("keydown",Ae)},Ar=()=>{var Ae;(Ae=F.value)==null||Ae.select()},yr=()=>{r(fu,""),r("change",""),r("clear"),r("input","")};return xt(()=>n.modelValue,()=>{var Ae;cn(()=>Le()),n.validateEvent&&((Ae=h==null?void 0:h.validate)==null||Ae.call(h,"change").catch(yt=>void 0))}),xt(G,()=>pe()),xt(()=>n.type,async()=>{await cn(),pe(),Le()}),$r(()=>{!n.formatter&&n.parser,pe(),cn(Le)}),e({input:_,textarea:b,ref:F,textareaStyle:z,autosize:Ri(n,"autosize"),focus:vt,blur:Yt,select:Ar,clear:yr,resizeTextarea:Le}),(Ae,yt)=>rs((Se(),Fe("div",Ur(X(o),{class:X(s),style:X(W),role:Ae.containerRole,onMouseenter:de,onMouseleave:Yr}),[dt(" input "),Ae.type!=="textarea"?(Se(),Fe(Jr,{key:0},[dt(" prepend slot "),Ae.$slots.prepend?(Se(),Fe("div",{key:0,class:Ge(X(g).be("group","prepend"))},[Je(Ae.$slots,"prepend")],2)):dt("v-if",!0),lt("div",{class:Ge(X(u))},[dt(" prefix slot "),Ae.$slots.prefix||Ae.prefixIcon?(Se(),Fe("span",{key:0,class:Ge(X(g).e("prefix"))},[lt("span",{class:Ge(X(g).e("prefix-inner")),onClick:vt},[Je(Ae.$slots,"prefix"),Ae.prefixIcon?(Se(),wt(X(Gn),{key:0,class:Ge(X(g).e("icon"))},{default:mt(()=>[(Se(),wt(Wn(Ae.prefixIcon)))]),_:1},8,["class"])):dt("v-if",!0)],2)],2)):dt("v-if",!0),lt("input",Ur({id:X(f),ref_key:"input",ref:_,class:X(g).e("inner")},X(l),{type:Ae.showPassword?A.value?"text":"password":Ae.type,disabled:X(p),formatter:Ae.formatter,parser:Ae.parser,readonly:Ae.readonly,autocomplete:Ae.autocomplete,tabindex:Ae.tabindex,"aria-label":Ae.label,placeholder:Ae.placeholder,style:Ae.inputStyle,form:n.form,onCompositionstart:Ce,onCompositionupdate:He,onCompositionend:Ie,onInput:ge,onFocus:It,onBlur:hn,onChange:be,onKeydown:Vt}),null,16,L$),dt(" suffix slot "),X(ve)?(Se(),Fe("span",{key:1,class:Ge(X(g).e("suffix"))},[lt("span",{class:Ge(X(g).e("suffix-inner")),onClick:vt},[!X(Y)||!X(Q)||!X(J)?(Se(),Fe(Jr,{key:0},[Je(Ae.$slots,"suffix"),Ae.suffixIcon?(Se(),wt(X(Gn),{key:0,class:Ge(X(g).e("icon"))},{default:mt(()=>[(Se(),wt(Wn(Ae.suffixIcon)))]),_:1},8,["class"])):dt("v-if",!0)],64)):dt("v-if",!0),X(Y)?(Se(),wt(X(Gn),{key:1,class:Ge([X(g).e("icon"),X(g).e("clear")]),onMousedown:h1(X(Vo),["prevent"]),onClick:yr},{default:mt(()=>[sr(X(C1))]),_:1},8,["class","onMousedown"])):dt("v-if",!0),X(Q)?(Se(),wt(X(Gn),{key:2,class:Ge([X(g).e("icon"),X(g).e("password")]),onClick:Ne},{default:mt(()=>[(Se(),wt(Wn(X(H))))]),_:1},8,["class"])):dt("v-if",!0),X(J)?(Se(),Fe("span",{key:3,class:Ge(X(g).e("count"))},[lt("span",{class:Ge(X(g).e("count-inner"))},xr(X(ae))+" / "+xr(X(l).maxlength),3)],2)):dt("v-if",!0),X(B)&&X(U)&&X($)?(Se(),wt(X(Gn),{key:4,class:Ge([X(g).e("icon"),X(g).e("validateIcon"),X(g).is("loading",X(B)==="validating")])},{default:mt(()=>[(Se(),wt(Wn(X(U))))]),_:1},8,["class"])):dt("v-if",!0)],2)],2)):dt("v-if",!0)],2),dt(" append slot "),Ae.$slots.append?(Se(),Fe("div",{key:1,class:Ge(X(g).be("group","append"))},[Je(Ae.$slots,"append")],2)):dt("v-if",!0)],64)):(Se(),Fe(Jr,{key:1},[dt(" textarea "),lt("textarea",Ur({id:X(f),ref_key:"textarea",ref:b,class:X(m).e("inner")},X(l),{tabindex:Ae.tabindex,disabled:X(p),readonly:Ae.readonly,autocomplete:Ae.autocomplete,style:X(z),"aria-label":Ae.label,placeholder:Ae.placeholder,form:n.form,onCompositionstart:Ce,onCompositionupdate:He,onCompositionend:Ie,onInput:ge,onFocus:It,onBlur:hn,onChange:be,onKeydown:Vt}),null,16,R$),X(J)?(Se(),Fe("span",{key:0,style:Kr(M.value),class:Ge(X(g).e("count"))},xr(X(ae))+" / "+xr(X(l).maxlength),7)):dt("v-if",!0)],64))],16,D$)),[[_u,Ae.type!=="hidden"]])}});var B$=kt(I$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const _ie=Wr(B$),H1=Symbol("popper"),Sk=Symbol("popperContent"),N$=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],wk=Mt({role:{type:String,values:N$,default:"tooltip"}}),F$=We({name:"ElPopper",inheritAttrs:!1}),$$=We({...F$,props:wk,setup(t,{expose:e}){const r=t,n=je(),i=je(),a=je(),o=je(),s=ce(()=>r.role),u={triggerRef:n,popperInstanceRef:i,contentRef:a,referenceRef:o,role:s};return e(u),Ir(H1,u),(l,c)=>Je(l.$slots,"default")}});var H$=kt($$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const Tk=Mt({arrowOffset:{type:Number,default:5}}),z$=We({name:"ElPopperArrow",inheritAttrs:!1}),U$=We({...z$,props:Tk,setup(t,{expose:e}){const r=t,n=gt("popper"),{arrowOffset:i,arrowRef:a,arrowStyle:o}=Ft(Sk,void 0);return xt(()=>r.arrowOffset,s=>{i.value=s}),Kn(()=>{a.value=void 0}),e({arrowRef:a}),(s,u)=>(Se(),Fe("span",{ref_key:"arrowRef",ref:a,class:Ge(X(n).e("arrow")),style:Kr(X(o)),"data-popper-arrow":""},null,6))}});var V$=kt(U$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const G$="ElOnlyChild",j$=We({name:G$,setup(t,{slots:e,attrs:r}){var n;const i=Ft(hk),a=TF((n=i==null?void 0:i.setForwardRef)!=null?n:Vo);return()=>{var o;const s=(o=e.default)==null?void 0:o.call(e,r);if(!s||s.length>1)return null;const u=Ck(s);return u?rs(tO(u,r),[[a]]):null}}});function Ck(t){if(!t)return null;const e=t;for(const r of e){if(ba(r))switch(r.type){case rO:continue;case eA:case"svg":return Wx(r);case Jr:return Ck(r.children);default:return r}return Wx(r)}return null}function Wx(t){const e=gt("only-child");return sr("span",{class:e.e("content")},[t])}const Ak=Mt({virtualRef:{type:rt(Object)},virtualTriggering:Boolean,onMouseenter:{type:rt(Function)},onMouseleave:{type:rt(Function)},onClick:{type:rt(Function)},onKeydown:{type:rt(Function)},onFocus:{type:rt(Function)},onBlur:{type:rt(Function)},onContextmenu:{type:rt(Function)},id:String,open:Boolean}),W$=We({name:"ElPopperTrigger",inheritAttrs:!1}),Y$=We({...W$,props:Ak,setup(t,{expose:e}){const r=t,{role:n,triggerRef:i}=Ft(H1,void 0);wF(i);const a=ce(()=>s.value?r.id:void 0),o=ce(()=>{if(n&&n.value==="tooltip")return r.open&&r.id?r.id:void 0}),s=ce(()=>{if(n&&n.value!=="tooltip")return n.value}),u=ce(()=>s.value?`${r.open}`:void 0);let l;return $r(()=>{xt(()=>r.virtualRef,c=>{c&&(i.value=Fo(c))},{immediate:!0}),xt(i,(c,h)=>{l==null||l(),l=void 0,Yf(c)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(f=>{var v;const p=r[f];p&&(c.addEventListener(f.slice(2).toLowerCase(),p),(v=h==null?void 0:h.removeEventListener)==null||v.call(h,f.slice(2).toLowerCase(),p))}),l=xt([a,o,s,u],f=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((v,p)=>{Hl(f[p])?c.removeAttribute(v):c.setAttribute(v,f[p])})},{immediate:!0})),Yf(h)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(f=>h.removeAttribute(f))},{immediate:!0})}),Kn(()=>{l==null||l(),l=void 0}),e({triggerRef:i}),(c,h)=>c.virtualTriggering?dt("v-if",!0):(Se(),wt(X(j$),Ur({key:0},c.$attrs,{"aria-controls":X(a),"aria-describedby":X(o),"aria-expanded":X(u),"aria-haspopup":X(s)}),{default:mt(()=>[Je(c.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var X$=kt(Y$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const Lg="focus-trap.focus-after-trapped",Rg="focus-trap.focus-after-released",q$="focus-trap.focusout-prevented",Yx={cancelable:!0,bubbles:!1},Z$={cancelable:!0,bubbles:!1},Xx="focusAfterTrapped",qx="focusAfterReleased",K$=Symbol("elFocusTrap"),z1=je(),Rp=je(0),U1=je(0);let td=0;const kk=t=>{const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0||n===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e},Zx=(t,e)=>{for(const r of t)if(!Q$(r,e))return r},Q$=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},J$=t=>{const e=kk(t),r=Zx(e,t),n=Zx(e.reverse(),t);return[r,n]},e9=t=>t instanceof HTMLInputElement&&"select"in t,Do=(t,e)=>{if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),U1.value=window.performance.now(),t!==r&&e9(t)&&e&&t.select()}};function Kx(t,e){const r=[...t],n=t.indexOf(e);return n!==-1&&r.splice(n,1),r}const t9=()=>{let t=[];return{push:n=>{const i=t[0];i&&n!==i&&i.pause(),t=Kx(t,n),t.unshift(n)},remove:n=>{var i,a;t=Kx(t,n),(a=(i=t[0])==null?void 0:i.resume)==null||a.call(i)}}},r9=(t,e=!1)=>{const r=document.activeElement;for(const n of t)if(Do(n,e),document.activeElement!==r)return},Qx=t9(),n9=()=>Rp.value>U1.value,rd=()=>{z1.value="pointer",Rp.value=window.performance.now()},Jx=()=>{z1.value="keyboard",Rp.value=window.performance.now()},i9=()=>($r(()=>{td===0&&(document.addEventListener("mousedown",rd),document.addEventListener("touchstart",rd),document.addEventListener("keydown",Jx)),td++}),Kn(()=>{td--,td<=0&&(document.removeEventListener("mousedown",rd),document.removeEventListener("touchstart",rd),document.removeEventListener("keydown",Jx))}),{focusReason:z1,lastUserFocusTimestamp:Rp,lastAutomatedFocusTimestamp:U1}),nd=t=>new CustomEvent(q$,{...Z$,detail:t}),a9=We({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Xx,qx,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const r=je();let n,i;const{focusReason:a}=i9();yF(p=>{t.trapped&&!o.paused&&e("release-requested",p)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},s=p=>{if(!t.loop&&!t.trapped||o.paused)return;const{key:g,altKey:m,ctrlKey:_,metaKey:b,currentTarget:w,shiftKey:T}=p,{loop:k}=t,A=g===bn.tab&&!m&&!_&&!b,M=document.activeElement;if(A&&M){const O=w,[F,$]=J$(O);if(F&&$){if(!T&&M===$){const U=nd({focusReason:a.value});e("focusout-prevented",U),U.defaultPrevented||(p.preventDefault(),k&&Do(F,!0))}else if(T&&[F,O].includes(M)){const U=nd({focusReason:a.value});e("focusout-prevented",U),U.defaultPrevented||(p.preventDefault(),k&&Do($,!0))}}else if(M===O){const U=nd({focusReason:a.value});e("focusout-prevented",U),U.defaultPrevented||p.preventDefault()}}};Ir(K$,{focusTrapRef:r,onKeydown:s}),xt(()=>t.focusTrapEl,p=>{p&&(r.value=p)},{immediate:!0}),xt([r],([p],[g])=>{p&&(p.addEventListener("keydown",s),p.addEventListener("focusin",c),p.addEventListener("focusout",h)),g&&(g.removeEventListener("keydown",s),g.removeEventListener("focusin",c),g.removeEventListener("focusout",h))});const u=p=>{e(Xx,p)},l=p=>e(qx,p),c=p=>{const g=X(r);if(!g)return;const m=p.target,_=p.relatedTarget,b=m&&g.contains(m);t.trapped||_&&g.contains(_)||(n=_),b&&e("focusin",p),!o.paused&&t.trapped&&(b?i=m:Do(i,!0))},h=p=>{const g=X(r);if(!(o.paused||!g))if(t.trapped){const m=p.relatedTarget;!Hl(m)&&!g.contains(m)&&setTimeout(()=>{if(!o.paused&&t.trapped){const _=nd({focusReason:a.value});e("focusout-prevented",_),_.defaultPrevented||Do(i,!0)}},0)}else{const m=p.target;m&&g.contains(m)||e("focusout",p)}};async function f(){await cn();const p=X(r);if(p){Qx.push(o);const g=p.contains(document.activeElement)?n:document.activeElement;if(n=g,!p.contains(g)){const _=new Event(Lg,Yx);p.addEventListener(Lg,u),p.dispatchEvent(_),_.defaultPrevented||cn(()=>{let b=t.focusStartEl;Tr(b)||(Do(b),document.activeElement!==b&&(b="first")),b==="first"&&r9(kk(p),!0),(document.activeElement===g||b==="container")&&Do(p)})}}}function v(){const p=X(r);if(p){p.removeEventListener(Lg,u);const g=new CustomEvent(Rg,{...Yx,detail:{focusReason:a.value}});p.addEventListener(Rg,l),p.dispatchEvent(g),!g.defaultPrevented&&(a.value=="keyboard"||!n9()||p.contains(document.activeElement))&&Do(n??document.body),p.removeEventListener(Rg,u),Qx.remove(o)}}return $r(()=>{t.trapped&&f(),xt(()=>t.trapped,p=>{p?f():v()})}),Kn(()=>{t.trapped&&v()}),{onKeydown:s}}});function o9(t,e,r,n,i,a){return Je(t.$slots,"default",{handleKeydown:t.onKeydown})}var Pk=kt(a9,[["render",o9],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const s9=["fixed","absolute"],u9=Mt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:rt(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:M1,default:"bottom"},popperOptions:{type:rt(Object),default:()=>({})},strategy:{type:String,values:s9,default:"absolute"}}),Ek=Mt({...u9,id:String,style:{type:rt([String,Array,Object])},className:{type:rt([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:rt([String,Array,Object])},popperStyle:{type:rt([String,Array,Object])},referenceEl:{type:rt(Object)},triggerTargetEl:{type:rt(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),l9={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},c9=(t,e=[])=>{const{placement:r,strategy:n,popperOptions:i}=t,a={placement:r,strategy:n,...i,modifiers:[...h9(t),...e]};return d9(a,i==null?void 0:i.modifiers),a},f9=t=>{if(Br)return Fo(t)};function h9(t){const{offset:e,gpuAcceleration:r,fallbackPlacements:n}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function d9(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const v9=0,p9=t=>{const{popperInstanceRef:e,contentRef:r,triggerRef:n,role:i}=Ft(H1,void 0),a=je(),o=je(),s=ce(()=>({name:"eventListeners",enabled:!!t.visible})),u=ce(()=>{var _;const b=X(a),w=(_=X(o))!=null?_:v9;return{name:"arrow",enabled:!V4(b),options:{element:b,padding:w}}}),l=ce(()=>({onFirstUpdate:()=>{p()},...c9(t,[X(u),X(s)])})),c=ce(()=>f9(t.referenceEl)||X(n)),{attributes:h,state:f,styles:v,update:p,forceUpdate:g,instanceRef:m}=dF(c,r,l);return xt(m,_=>e.value=_),$r(()=>{xt(()=>{var _;return(_=X(c))==null?void 0:_.getBoundingClientRect()},()=>{p()})}),{attributes:h,arrowRef:a,contentRef:r,instanceRef:m,state:f,styles:v,role:i,forceUpdate:g,update:p}},g9=(t,{attributes:e,styles:r,role:n})=>{const{nextZIndex:i}=F1(),a=gt("popper"),o=ce(()=>X(e).popper),s=je(t.zIndex||i()),u=ce(()=>[a.b(),a.is("pure",t.pure),a.is(t.effect),t.popperClass]),l=ce(()=>[{zIndex:X(s)},t.popperStyle||{},X(r).popper]),c=ce(()=>n.value==="dialog"?"false":void 0),h=ce(()=>X(r).arrow||{});return{ariaModal:c,arrowStyle:h,contentAttrs:o,contentClass:u,contentStyle:l,contentZIndex:s,updateZIndex:()=>{s.value=t.zIndex||i()}}},m9=(t,e)=>{const r=je(!1),n=je();return{focusStartRef:n,trapped:r,onFocusAfterReleased:l=>{var c;((c=l.detail)==null?void 0:c.focusReason)!=="pointer"&&(n.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:l=>{t.visible&&!r.value&&(l.target&&(n.value=l.target),r.value=!0)},onFocusoutPrevented:l=>{t.trapping||(l.detail.focusReason==="pointer"&&l.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,e("close")}}},y9=We({name:"ElPopperContent"}),_9=We({...y9,props:Ek,emits:l9,setup(t,{expose:e,emit:r}){const n=t,{focusStartRef:i,trapped:a,onFocusAfterReleased:o,onFocusAfterTrapped:s,onFocusInTrap:u,onFocusoutPrevented:l,onReleaseRequested:c}=m9(n,r),{attributes:h,arrowRef:f,contentRef:v,styles:p,instanceRef:g,role:m,update:_}=p9(n),{ariaModal:b,arrowStyle:w,contentAttrs:T,contentClass:k,contentStyle:A,updateZIndex:M}=g9(n,{styles:p,attributes:h,role:m}),O=Ft(hu,void 0),F=je();Ir(Sk,{arrowStyle:w,arrowRef:f,arrowOffset:F}),O&&(O.addInputId||O.removeInputId)&&Ir(hu,{...O,addInputId:Vo,removeInputId:Vo});let $;const B=(H=!0)=>{_(),H&&M()},U=()=>{B(!1),n.visible&&n.focusOnShow?a.value=!0:n.visible===!1&&(a.value=!1)};return $r(()=>{xt(()=>n.triggerTargetEl,(H,W)=>{$==null||$(),$=void 0;const z=X(H||v.value),G=X(W||v.value);Yf(z)&&($=xt([m,()=>n.ariaLabel,b,()=>n.id],Y=>{["role","aria-label","aria-modal","id"].forEach((Q,J)=>{Hl(Y[J])?z.removeAttribute(Q):z.setAttribute(Q,Y[J])})},{immediate:!0})),G!==z&&Yf(G)&&["role","aria-label","aria-modal","id"].forEach(Y=>{G.removeAttribute(Y)})},{immediate:!0}),xt(()=>n.visible,U,{immediate:!0})}),Kn(()=>{$==null||$(),$=void 0}),e({popperContentRef:v,popperInstanceRef:g,updatePopper:B,contentStyle:A}),(H,W)=>(Se(),Fe("div",Ur({ref_key:"contentRef",ref:v},X(T),{style:X(A),class:X(k),tabindex:"-1",onMouseenter:W[0]||(W[0]=z=>H.$emit("mouseenter",z)),onMouseleave:W[1]||(W[1]=z=>H.$emit("mouseleave",z))}),[sr(X(Pk),{trapped:X(a),"trap-on-focus-in":!0,"focus-trap-el":X(v),"focus-start-el":X(i),onFocusAfterTrapped:X(s),onFocusAfterReleased:X(o),onFocusin:X(u),onFocusoutPrevented:X(l),onReleaseRequested:X(c)},{default:mt(()=>[Je(H.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var b9=kt(_9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const x9=Wr(H$),V1=Symbol("elTooltip"),oi=Mt({...xF,...Ek,appendTo:{type:rt([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:rt(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),Jf=Mt({...Ak,disabled:Boolean,trigger:{type:rt([String,Array]),default:"hover"},triggerKeys:{type:rt(Array),default:()=>[bn.enter,bn.space]}}),{useModelToggleProps:S9,useModelToggleEmits:w9,useModelToggle:T9}=KA("visible"),C9=Mt({...wk,...S9,...oi,...Jf,...Tk,showArrow:{type:Boolean,default:!0}}),A9=[...w9,"before-show","before-hide","show","hide","open","close"],k9=(t,e)=>Cl(t)?t.includes(e):t===e,ju=(t,e,r)=>n=>{k9(X(t),e)&&r(n)},P9=We({name:"ElTooltipTrigger"}),E9=We({...P9,props:Jf,setup(t,{expose:e}){const r=t,n=gt("tooltip"),{controlled:i,id:a,open:o,onOpen:s,onClose:u,onToggle:l}=Ft(V1,void 0),c=je(null),h=()=>{if(X(i)||r.disabled)return!0},f=Ri(r,"trigger"),v=Wa(h,ju(f,"hover",s)),p=Wa(h,ju(f,"hover",u)),g=Wa(h,ju(f,"click",T=>{T.button===0&&l(T)})),m=Wa(h,ju(f,"focus",s)),_=Wa(h,ju(f,"focus",u)),b=Wa(h,ju(f,"contextmenu",T=>{T.preventDefault(),l(T)})),w=Wa(h,T=>{const{code:k}=T;r.triggerKeys.includes(k)&&(T.preventDefault(),l(T))});return e({triggerRef:c}),(T,k)=>(Se(),wt(X(X$),{id:X(a),"virtual-ref":T.virtualRef,open:X(o),"virtual-triggering":T.virtualTriggering,class:Ge(X(n).e("trigger")),onBlur:X(_),onClick:X(g),onContextmenu:X(b),onFocus:X(m),onMouseenter:X(v),onMouseleave:X(p),onKeydown:X(w)},{default:mt(()=>[Je(T.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var M9=kt(E9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const D9=We({name:"ElTooltipContent",inheritAttrs:!1}),L9=We({...D9,props:oi,setup(t,{expose:e}){const r=t,{selector:n}=fk(),i=gt("tooltip"),a=je(null),o=je(!1),{controlled:s,id:u,open:l,trigger:c,onClose:h,onOpen:f,onShow:v,onHide:p,onBeforeShow:g,onBeforeHide:m}=Ft(V1,void 0),_=ce(()=>r.transition||`${i.namespace.value}-fade-in-linear`),b=ce(()=>r.persistent);Kn(()=>{o.value=!0});const w=ce(()=>X(b)?!0:X(l)),T=ce(()=>r.disabled?!1:X(l)),k=ce(()=>r.appendTo||n.value),A=ce(()=>{var Y;return(Y=r.style)!=null?Y:{}}),M=ce(()=>!X(l)),O=()=>{p()},F=()=>{if(X(s))return!0},$=Wa(F,()=>{r.enterable&&X(c)==="hover"&&f()}),B=Wa(F,()=>{X(c)==="hover"&&h()}),U=()=>{var Y,Q;(Q=(Y=a.value)==null?void 0:Y.updatePopper)==null||Q.call(Y),g==null||g()},H=()=>{m==null||m()},W=()=>{v(),G=_I(ce(()=>{var Y;return(Y=a.value)==null?void 0:Y.popperContentRef}),()=>{if(X(s))return;X(c)!=="hover"&&h()})},z=()=>{r.virtualTriggering||h()};let G;return xt(()=>X(l),Y=>{Y||G==null||G()},{flush:"post"}),xt(()=>r.content,()=>{var Y,Q;(Q=(Y=a.value)==null?void 0:Y.updatePopper)==null||Q.call(Y)}),e({contentRef:a}),(Y,Q)=>(Se(),wt(tA,{disabled:!Y.teleported,to:X(k)},[sr(bu,{name:X(_),onAfterLeave:O,onBeforeEnter:U,onAfterEnter:W,onBeforeLeave:H},{default:mt(()=>[X(w)?rs((Se(),wt(X(b9),Ur({key:0,id:X(u),ref_key:"contentRef",ref:a},Y.$attrs,{"aria-label":Y.ariaLabel,"aria-hidden":X(M),"boundaries-padding":Y.boundariesPadding,"fallback-placements":Y.fallbackPlacements,"gpu-acceleration":Y.gpuAcceleration,offset:Y.offset,placement:Y.placement,"popper-options":Y.popperOptions,strategy:Y.strategy,effect:Y.effect,enterable:Y.enterable,pure:Y.pure,"popper-class":Y.popperClass,"popper-style":[Y.popperStyle,X(A)],"reference-el":Y.referenceEl,"trigger-target-el":Y.triggerTargetEl,visible:X(T),"z-index":Y.zIndex,onMouseenter:X($),onMouseleave:X(B),onBlur:z,onClose:X(h)}),{default:mt(()=>[o.value?dt("v-if",!0):Je(Y.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[_u,X(T)]]):dt("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var R9=kt(L9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const O9=["innerHTML"],I9={key:1},B9=We({name:"ElTooltip"}),N9=We({...B9,props:C9,emits:A9,setup(t,{expose:e,emit:r}){const n=t;bF();const i=Kf(),a=je(),o=je(),s=()=>{var _;const b=X(a);b&&((_=b.popperInstanceRef)==null||_.update())},u=je(!1),l=je(),{show:c,hide:h,hasUpdateHandler:f}=T9({indicator:u,toggleReason:l}),{onOpen:v,onClose:p}=SF({showAfter:Ri(n,"showAfter"),hideAfter:Ri(n,"hideAfter"),autoClose:Ri(n,"autoClose"),open:c,close:h}),g=ce(()=>lc(n.visible)&&!f.value);Ir(V1,{controlled:g,id:i,open:JC(u),trigger:Ri(n,"trigger"),onOpen:_=>{v(_)},onClose:_=>{p(_)},onToggle:_=>{X(u)?p(_):v(_)},onShow:()=>{r("show",l.value)},onHide:()=>{r("hide",l.value)},onBeforeShow:()=>{r("before-show",l.value)},onBeforeHide:()=>{r("before-hide",l.value)},updatePopper:s}),xt(()=>n.disabled,_=>{_&&u.value&&(u.value=!1)});const m=()=>{var _,b;const w=(b=(_=o.value)==null?void 0:_.contentRef)==null?void 0:b.popperContentRef;return w&&w.contains(document.activeElement)};return nO(()=>u.value&&h()),e({popperRef:a,contentRef:o,isFocusInsideContent:m,updatePopper:s,onOpen:v,onClose:p,hide:h}),(_,b)=>(Se(),wt(X(x9),{ref_key:"popperRef",ref:a,role:_.role},{default:mt(()=>[sr(M9,{disabled:_.disabled,trigger:_.trigger,"trigger-keys":_.triggerKeys,"virtual-ref":_.virtualRef,"virtual-triggering":_.virtualTriggering},{default:mt(()=>[_.$slots.default?Je(_.$slots,"default",{key:0}):dt("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),sr(R9,{ref_key:"contentRef",ref:o,"aria-label":_.ariaLabel,"boundaries-padding":_.boundariesPadding,content:_.content,disabled:_.disabled,effect:_.effect,enterable:_.enterable,"fallback-placements":_.fallbackPlacements,"hide-after":_.hideAfter,"gpu-acceleration":_.gpuAcceleration,offset:_.offset,persistent:_.persistent,"popper-class":_.popperClass,"popper-style":_.popperStyle,placement:_.placement,"popper-options":_.popperOptions,pure:_.pure,"raw-content":_.rawContent,"reference-el":_.referenceEl,"trigger-target-el":_.triggerTargetEl,"show-after":_.showAfter,strategy:_.strategy,teleported:_.teleported,transition:_.transition,"virtual-triggering":_.virtualTriggering,"z-index":_.zIndex,"append-to":_.appendTo},{default:mt(()=>[Je(_.$slots,"content",{},()=>[_.rawContent?(Se(),Fe("span",{key:0,innerHTML:_.content},null,8,O9)):(Se(),Fe("span",I9,xr(_.content),1))]),_.showArrow?(Se(),wt(X(V$),{key:0,"arrow-offset":_.arrowOffset},null,8,["arrow-offset"])):dt("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var F9=kt(N9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const G1=Wr(F9),$9=Mt({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),H9=["textContent"],z9=We({name:"ElBadge"}),U9=We({...z9,props:$9,setup(t,{expose:e}){const r=t,n=gt("badge"),i=ce(()=>r.isDot?"":xa(r.value)&&xa(r.max)?r.max<r.value?`${r.max}+`:`${r.value}`:`${r.value}`);return e({content:i}),(a,o)=>(Se(),Fe("div",{class:Ge(X(n).b())},[Je(a.$slots,"default"),sr(bu,{name:`${X(n).namespace.value}-zoom-in-center`,persisted:""},{default:mt(()=>[rs(lt("sup",{class:Ge([X(n).e("content"),X(n).em("content",a.type),X(n).is("fixed",!!a.$slots.default),X(n).is("dot",a.isDot)]),textContent:xr(X(i))},null,10,H9),[[_u,!a.hidden&&(X(i)||a.isDot)]])]),_:1},8,["name"])],2))}});var V9=kt(U9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const G9=Wr(V9),Mk=Symbol("buttonGroupContextKey"),j9=(t,e)=>{Xf({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},ce(()=>t.type==="text"));const r=Ft(Mk,void 0),n=Lp("button"),{form:i}=_k(),a=wh(ce(()=>r==null?void 0:r.size)),o=$1(),s=je(),u=_h(),l=ce(()=>t.type||(r==null?void 0:r.type)||""),c=ce(()=>{var p,g,m;return(m=(g=t.autoInsertSpace)!=null?g:(p=n.value)==null?void 0:p.autoInsertSpace)!=null?m:!1}),h=ce(()=>t.tag==="button"?{ariaDisabled:o.value||t.loading,disabled:o.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),f=ce(()=>{var p;const g=(p=u.default)==null?void 0:p.call(u);if(c.value&&(g==null?void 0:g.length)===1){const m=g[0];if((m==null?void 0:m.type)===eA){const _=m.children;return/^\p{Unified_Ideograph}{2}$/u.test(_.trim())}}return!1});return{_disabled:o,_size:a,_type:l,_ref:s,_props:h,shouldAddSpace:f,handleClick:p=>{t.nativeType==="reset"&&(i==null||i.resetFields()),e("click",p)}}},W9=["default","primary","success","warning","info","danger","text",""],Y9=["button","submit","reset"],My=Mt({size:pk,disabled:Boolean,type:{type:String,values:W9,default:""},icon:{type:Oi},nativeType:{type:String,values:Y9,default:"button"},loading:Boolean,loadingIcon:{type:Oi,default:()=>jA},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:rt([String,Object]),default:"button"}}),X9={click:t=>t instanceof MouseEvent};function en(t,e){q9(t)&&(t="100%");var r=Z9(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function id(t){return Math.min(1,Math.max(0,t))}function q9(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function Z9(t){return typeof t=="string"&&t.indexOf("%")!==-1}function Dk(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function ad(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Qs(t){return t.length===1?"0"+t:String(t)}function K9(t,e,r){return{r:en(t,255)*255,g:en(e,255)*255,b:en(r,255)*255}}function eS(t,e,r){t=en(t,255),e=en(e,255),r=en(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),a=0,o=0,s=(n+i)/2;if(n===i)o=0,a=0;else{var u=n-i;switch(o=s>.5?u/(2-n-i):u/(n+i),n){case t:a=(e-r)/u+(e<r?6:0);break;case e:a=(r-t)/u+2;break;case r:a=(t-e)/u+4;break}a/=6}return{h:a,s:o,l:s}}function Og(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*(6*r):r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Q9(t,e,r){var n,i,a;if(t=en(t,360),e=en(e,100),r=en(r,100),e===0)i=r,a=r,n=r;else{var o=r<.5?r*(1+e):r+e-r*e,s=2*r-o;n=Og(s,o,t+1/3),i=Og(s,o,t),a=Og(s,o,t-1/3)}return{r:n*255,g:i*255,b:a*255}}function tS(t,e,r){t=en(t,255),e=en(e,255),r=en(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),a=0,o=n,s=n-i,u=n===0?0:s/n;if(n===i)a=0;else{switch(n){case t:a=(e-r)/s+(e<r?6:0);break;case e:a=(r-t)/s+2;break;case r:a=(t-e)/s+4;break}a/=6}return{h:a,s:u,v:o}}function J9(t,e,r){t=en(t,360)*6,e=en(e,100),r=en(r,100);var n=Math.floor(t),i=t-n,a=r*(1-e),o=r*(1-i*e),s=r*(1-(1-i)*e),u=n%6,l=[r,o,a,a,s,r][u],c=[s,r,r,o,a,a][u],h=[a,a,s,r,r,o][u];return{r:l*255,g:c*255,b:h*255}}function rS(t,e,r,n){var i=[Qs(Math.round(t).toString(16)),Qs(Math.round(e).toString(16)),Qs(Math.round(r).toString(16))];return n&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function e7(t,e,r,n,i){var a=[Qs(Math.round(t).toString(16)),Qs(Math.round(e).toString(16)),Qs(Math.round(r).toString(16)),Qs(t7(n))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function t7(t){return Math.round(parseFloat(t)*255).toString(16)}function nS(t){return Vn(t)/255}function Vn(t){return parseInt(t,16)}function r7(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var Dy={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function n7(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,a=null,o=!1,s=!1;return typeof t=="string"&&(t=o7(t)),typeof t=="object"&&(Ua(t.r)&&Ua(t.g)&&Ua(t.b)?(e=K9(t.r,t.g,t.b),o=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Ua(t.h)&&Ua(t.s)&&Ua(t.v)?(n=ad(t.s),i=ad(t.v),e=J9(t.h,n,i),o=!0,s="hsv"):Ua(t.h)&&Ua(t.s)&&Ua(t.l)&&(n=ad(t.s),a=ad(t.l),e=Q9(t.h,n,a),o=!0,s="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=Dk(r),{ok:o,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}var i7="[-\\+]?\\d+%?",a7="[-\\+]?\\d*\\.\\d+%?",$o="(?:".concat(a7,")|(?:").concat(i7,")"),Ig="[\\s|\\(]+(".concat($o,")[,|\\s]+(").concat($o,")[,|\\s]+(").concat($o,")\\s*\\)?"),Bg="[\\s|\\(]+(".concat($o,")[,|\\s]+(").concat($o,")[,|\\s]+(").concat($o,")[,|\\s]+(").concat($o,")\\s*\\)?"),ki={CSS_UNIT:new RegExp($o),rgb:new RegExp("rgb"+Ig),rgba:new RegExp("rgba"+Bg),hsl:new RegExp("hsl"+Ig),hsla:new RegExp("hsla"+Bg),hsv:new RegExp("hsv"+Ig),hsva:new RegExp("hsva"+Bg),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function o7(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(Dy[t])t=Dy[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=ki.rgb.exec(t);return r?{r:r[1],g:r[2],b:r[3]}:(r=ki.rgba.exec(t),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=ki.hsl.exec(t),r?{h:r[1],s:r[2],l:r[3]}:(r=ki.hsla.exec(t),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=ki.hsv.exec(t),r?{h:r[1],s:r[2],v:r[3]}:(r=ki.hsva.exec(t),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=ki.hex8.exec(t),r?{r:Vn(r[1]),g:Vn(r[2]),b:Vn(r[3]),a:nS(r[4]),format:e?"name":"hex8"}:(r=ki.hex6.exec(t),r?{r:Vn(r[1]),g:Vn(r[2]),b:Vn(r[3]),format:e?"name":"hex"}:(r=ki.hex4.exec(t),r?{r:Vn(r[1]+r[1]),g:Vn(r[2]+r[2]),b:Vn(r[3]+r[3]),a:nS(r[4]+r[4]),format:e?"name":"hex8"}:(r=ki.hex3.exec(t),r?{r:Vn(r[1]+r[1]),g:Vn(r[2]+r[2]),b:Vn(r[3]+r[3]),format:e?"name":"hex"}:!1)))))))))}function Ua(t){return!!ki.CSS_UNIT.exec(String(t))}var Lk=function(){function t(e,r){e===void 0&&(e=""),r===void 0&&(r={});var n;if(e instanceof t)return e;typeof e=="number"&&(e=r7(e)),this.originalInput=e;var i=n7(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=r.format)!==null&&n!==void 0?n:i.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),r,n,i,a=e.r/255,o=e.g/255,s=e.b/255;return a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),.2126*r+.7152*n+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=Dk(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=tS(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=tS(this.r,this.g,this.b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=eS(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=eS(this.r,this.g,this.b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),rS(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),e7(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),r=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(r,", ").concat(n,")"):"rgba(".concat(e,", ").concat(r,", ").concat(n,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(r){return"".concat(Math.round(en(r,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(r){return Math.round(en(r,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+rS(this.r,this.g,this.b,!1),r=0,n=Object.entries(Dy);r<n.length;r++){var i=n[r],a=i[0],o=i[1];if(e===o)return a}return!1},t.prototype.toString=function(e){var r=!!e;e=e??this.format;var n=!1,i=this.a<1&&this.a>=0,a=!r&&i&&(e.startsWith("hex")||e==="name");return a?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l+=e/100,r.l=id(r.l),new t(r)},t.prototype.brighten=function(e){e===void 0&&(e=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new t(r)},t.prototype.darken=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l-=e/100,r.l=id(r.l),new t(r)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s-=e/100,r.s=id(r.s),new t(r)},t.prototype.saturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s+=e/100,r.s=id(r.s),new t(r)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var r=this.toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,new t(r)},t.prototype.mix=function(e,r){r===void 0&&(r=50);var n=this.toRgb(),i=new t(e).toRgb(),a=r/100,o={r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a};return new t(o)},t.prototype.analogous=function(e,r){e===void 0&&(e=6),r===void 0&&(r=30);var n=this.toHsl(),i=360/r,a=[this];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,a.push(new t(n));return a},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var r=this.toHsv(),n=r.h,i=r.s,a=r.v,o=[],s=1/e;e--;)o.push(new t({h:n,s:i,v:a})),a=(a+s)%1;return o},t.prototype.splitcomplement=function(){var e=this.toHsl(),r=e.h;return[this,new t({h:(r+72)%360,s:e.s,l:e.l}),new t({h:(r+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var r=this.toRgb(),n=new t(e).toRgb(),i=r.a+n.a*(1-r.a);return new t({r:(r.r*r.a+n.r*n.a*(1-r.a))/i,g:(r.g*r.a+n.g*n.a*(1-r.a))/i,b:(r.b*r.a+n.b*n.a*(1-r.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var r=this.toHsl(),n=r.h,i=[this],a=360/e,o=1;o<e;o++)i.push(new t({h:(n+o*a)%360,s:r.s,l:r.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function So(t,e=20){return t.mix("#141414",e).toString()}function s7(t){const e=$1(),r=gt("button");return ce(()=>{let n={};const i=t.color;if(i){const a=new Lk(i),o=t.dark?a.tint(20).toString():So(a,20);if(t.plain)n=r.cssVarBlock({"bg-color":t.dark?So(a,90):a.tint(90).toString(),"text-color":i,"border-color":t.dark?So(a,50):a.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":o,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":o}),e.value&&(n[r.cssVarBlockName("disabled-bg-color")]=t.dark?So(a,90):a.tint(90).toString(),n[r.cssVarBlockName("disabled-text-color")]=t.dark?So(a,50):a.tint(50).toString(),n[r.cssVarBlockName("disabled-border-color")]=t.dark?So(a,80):a.tint(80).toString());else{const s=t.dark?So(a,30):a.tint(30).toString(),u=a.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(n=r.cssVarBlock({"bg-color":i,"text-color":u,"border-color":i,"hover-bg-color":s,"hover-text-color":u,"hover-border-color":s,"active-bg-color":o,"active-border-color":o}),e.value){const l=t.dark?So(a,50):a.tint(50).toString();n[r.cssVarBlockName("disabled-bg-color")]=l,n[r.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,n[r.cssVarBlockName("disabled-border-color")]=l}}}return n})}const u7=We({name:"ElButton"}),l7=We({...u7,props:My,emits:X9,setup(t,{expose:e,emit:r}){const n=t,i=s7(n),a=gt("button"),{_ref:o,_size:s,_type:u,_disabled:l,_props:c,shouldAddSpace:h,handleClick:f}=j9(n,r);return e({ref:o,size:s,type:u,disabled:l,shouldAddSpace:h}),(v,p)=>(Se(),wt(Wn(v.tag),Ur({ref_key:"_ref",ref:o},X(c),{class:[X(a).b(),X(a).m(X(u)),X(a).m(X(s)),X(a).is("disabled",X(l)),X(a).is("loading",v.loading),X(a).is("plain",v.plain),X(a).is("round",v.round),X(a).is("circle",v.circle),X(a).is("text",v.text),X(a).is("link",v.link),X(a).is("has-bg",v.bg)],style:X(i),onClick:X(f)}),{default:mt(()=>[v.loading?(Se(),Fe(Jr,{key:0},[v.$slots.loading?Je(v.$slots,"loading",{key:0}):(Se(),wt(X(Gn),{key:1,class:Ge(X(a).is("loading"))},{default:mt(()=>[(Se(),wt(Wn(v.loadingIcon)))]),_:1},8,["class"]))],64)):v.icon||v.$slots.icon?(Se(),wt(X(Gn),{key:1},{default:mt(()=>[v.icon?(Se(),wt(Wn(v.icon),{key:0})):Je(v.$slots,"icon",{key:1})]),_:3})):dt("v-if",!0),v.$slots.default?(Se(),Fe("span",{key:2,class:Ge({[X(a).em("text","expand")]:X(h)})},[Je(v.$slots,"default")],2)):dt("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var c7=kt(l7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const f7={size:My.size,type:My.type},h7=We({name:"ElButtonGroup"}),d7=We({...h7,props:f7,setup(t){const e=t;Ir(Mk,ao({size:Ri(e,"size"),type:Ri(e,"type")}));const r=gt("button");return(n,i)=>(Se(),Fe("div",{class:Ge(`${X(r).b("group")}`)},[Je(n.$slots,"default")],2))}});var Rk=kt(d7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const Ng=Wr(c7,{ButtonGroup:Rk}),v7=Ca(Rk);var pi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ch(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function p7(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(e,i);return new a}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Ok={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(pi,function(){var r=1e3,n=6e4,i=36e5,a="millisecond",o="second",s="minute",u="hour",l="day",c="week",h="month",f="quarter",v="year",p="date",g="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(H){var W=["th","st","nd","rd"],z=H%100;return"["+H+(W[(z-20)%10]||W[z]||W[0])+"]"}},w=function(H,W,z){var G=String(H);return!G||G.length>=W?H:""+Array(W+1-G.length).join(z)+H},T={s:w,z:function(H){var W=-H.utcOffset(),z=Math.abs(W),G=Math.floor(z/60),Y=z%60;return(W<=0?"+":"-")+w(G,2,"0")+":"+w(Y,2,"0")},m:function H(W,z){if(W.date()<z.date())return-H(z,W);var G=12*(z.year()-W.year())+(z.month()-W.month()),Y=W.clone().add(G,h),Q=z-Y<0,J=W.clone().add(G+(Q?-1:1),h);return+(-(G+(z-Y)/(Q?Y-J:J-Y))||0)},a:function(H){return H<0?Math.ceil(H)||0:Math.floor(H)},p:function(H){return{M:h,y:v,w:c,d:l,D:p,h:u,m:s,s:o,ms:a,Q:f}[H]||String(H||"").toLowerCase().replace(/s$/,"")},u:function(H){return H===void 0}},k="en",A={};A[k]=b;var M=function(H){return H instanceof B},O=function H(W,z,G){var Y;if(!W)return k;if(typeof W=="string"){var Q=W.toLowerCase();A[Q]&&(Y=Q),z&&(A[Q]=z,Y=Q);var J=W.split("-");if(!Y&&J.length>1)return H(J[0])}else{var ae=W.name;A[ae]=W,Y=ae}return!G&&Y&&(k=Y),Y||!G&&k},F=function(H,W){if(M(H))return H.clone();var z=typeof W=="object"?W:{};return z.date=H,z.args=arguments,new B(z)},$=T;$.l=O,$.i=M,$.w=function(H,W){return F(H,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var B=function(){function H(z){this.$L=O(z.locale,null,!0),this.parse(z)}var W=H.prototype;return W.parse=function(z){this.$d=function(G){var Y=G.date,Q=G.utc;if(Y===null)return new Date(NaN);if($.u(Y))return new Date;if(Y instanceof Date)return new Date(Y);if(typeof Y=="string"&&!/Z$/i.test(Y)){var J=Y.match(m);if(J){var ae=J[2]-1||0,he=(J[7]||"0").substring(0,3);return Q?new Date(Date.UTC(J[1],ae,J[3]||1,J[4]||0,J[5]||0,J[6]||0,he)):new Date(J[1],ae,J[3]||1,J[4]||0,J[5]||0,J[6]||0,he)}}return new Date(Y)}(z),this.$x=z.x||{},this.init()},W.init=function(){var z=this.$d;this.$y=z.getFullYear(),this.$M=z.getMonth(),this.$D=z.getDate(),this.$W=z.getDay(),this.$H=z.getHours(),this.$m=z.getMinutes(),this.$s=z.getSeconds(),this.$ms=z.getMilliseconds()},W.$utils=function(){return $},W.isValid=function(){return this.$d.toString()!==g},W.isSame=function(z,G){var Y=F(z);return this.startOf(G)<=Y&&Y<=this.endOf(G)},W.isAfter=function(z,G){return F(z)<this.startOf(G)},W.isBefore=function(z,G){return this.endOf(G)<F(z)},W.$g=function(z,G,Y){return $.u(z)?this[G]:this.set(Y,z)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(z,G){var Y=this,Q=!!$.u(G)||G,J=$.p(z),ae=function(pe,ge){var be=$.w(Y.$u?Date.UTC(Y.$y,ge,pe):new Date(Y.$y,ge,pe),Y);return Q?be:be.endOf(l)},he=function(pe,ge){return $.w(Y.toDate()[pe].apply(Y.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(ge)),Y)},ve=this.$W,we=this.$M,Te=this.$D,Le="set"+(this.$u?"UTC":"");switch(J){case v:return Q?ae(1,0):ae(31,11);case h:return Q?ae(1,we):ae(0,we+1);case c:var $e=this.$locale().weekStart||0,se=(ve<$e?ve+7:ve)-$e;return ae(Q?Te-se:Te+(6-se),we);case l:case p:return he(Le+"Hours",0);case u:return he(Le+"Minutes",1);case s:return he(Le+"Seconds",2);case o:return he(Le+"Milliseconds",3);default:return this.clone()}},W.endOf=function(z){return this.startOf(z,!1)},W.$set=function(z,G){var Y,Q=$.p(z),J="set"+(this.$u?"UTC":""),ae=(Y={},Y[l]=J+"Date",Y[p]=J+"Date",Y[h]=J+"Month",Y[v]=J+"FullYear",Y[u]=J+"Hours",Y[s]=J+"Minutes",Y[o]=J+"Seconds",Y[a]=J+"Milliseconds",Y)[Q],he=Q===l?this.$D+(G-this.$W):G;if(Q===h||Q===v){var ve=this.clone().set(p,1);ve.$d[ae](he),ve.init(),this.$d=ve.set(p,Math.min(this.$D,ve.daysInMonth())).$d}else ae&&this.$d[ae](he);return this.init(),this},W.set=function(z,G){return this.clone().$set(z,G)},W.get=function(z){return this[$.p(z)]()},W.add=function(z,G){var Y,Q=this;z=Number(z);var J=$.p(G),ae=function(we){var Te=F(Q);return $.w(Te.date(Te.date()+Math.round(we*z)),Q)};if(J===h)return this.set(h,this.$M+z);if(J===v)return this.set(v,this.$y+z);if(J===l)return ae(1);if(J===c)return ae(7);var he=(Y={},Y[s]=n,Y[u]=i,Y[o]=r,Y)[J]||1,ve=this.$d.getTime()+z*he;return $.w(ve,this)},W.subtract=function(z,G){return this.add(-1*z,G)},W.format=function(z){var G=this,Y=this.$locale();if(!this.isValid())return Y.invalidDate||g;var Q=z||"YYYY-MM-DDTHH:mm:ssZ",J=$.z(this),ae=this.$H,he=this.$m,ve=this.$M,we=Y.weekdays,Te=Y.months,Le=function(ge,be,Ce,He){return ge&&(ge[be]||ge(G,Q))||Ce[be].slice(0,He)},$e=function(ge){return $.s(ae%12||12,ge,"0")},se=Y.meridiem||function(ge,be,Ce){var He=ge<12?"AM":"PM";return Ce?He.toLowerCase():He},pe={YY:String(this.$y).slice(-2),YYYY:this.$y,M:ve+1,MM:$.s(ve+1,2,"0"),MMM:Le(Y.monthsShort,ve,Te,3),MMMM:Le(Te,ve),D:this.$D,DD:$.s(this.$D,2,"0"),d:String(this.$W),dd:Le(Y.weekdaysMin,this.$W,we,2),ddd:Le(Y.weekdaysShort,this.$W,we,3),dddd:we[this.$W],H:String(ae),HH:$.s(ae,2,"0"),h:$e(1),hh:$e(2),a:se(ae,he,!0),A:se(ae,he,!1),m:String(he),mm:$.s(he,2,"0"),s:String(this.$s),ss:$.s(this.$s,2,"0"),SSS:$.s(this.$ms,3,"0"),Z:J};return Q.replace(_,function(ge,be){return be||pe[ge]||J.replace(":","")})},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(z,G,Y){var Q,J=$.p(G),ae=F(z),he=(ae.utcOffset()-this.utcOffset())*n,ve=this-ae,we=$.m(this,ae);return we=(Q={},Q[v]=we/12,Q[h]=we,Q[f]=we/3,Q[c]=(ve-he)/6048e5,Q[l]=(ve-he)/864e5,Q[u]=ve/i,Q[s]=ve/n,Q[o]=ve/r,Q)[J]||ve,Y?we:$.a(we)},W.daysInMonth=function(){return this.endOf(h).$D},W.$locale=function(){return A[this.$L]},W.locale=function(z,G){if(!z)return this.$L;var Y=this.clone(),Q=O(z,G,!0);return Q&&(Y.$L=Q),Y},W.clone=function(){return $.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},H}(),U=B.prototype;return F.prototype=U,[["$ms",a],["$s",o],["$m",s],["$H",u],["$W",l],["$M",h],["$y",v],["$D",p]].forEach(function(H){U[H[1]]=function(W){return this.$g(W,H[0],H[1])}}),F.extend=function(H,W){return H.$i||(H(W,B,F),H.$i=!0),F},F.locale=O,F.isDayjs=M,F.unix=function(H){return F(1e3*H)},F.en=A[k],F.Ls=A,F.p={},F})})(Ok);var g7=Ok.exports;const kl=Ch(g7),Pl=t=>Array.from(Array.from({length:t}).keys()),m7=(t,e)=>{const r=t.subtract(1,"month").endOf("month").date();return Pl(e).map((n,i)=>r-(e-i-1))},y7=t=>{const e=t.daysInMonth();return Pl(e).map((r,n)=>n+1)},_7=t=>Pl(t.length/7).map(e=>{const r=e*7;return t.slice(r,r+7)}),b7=Mt({selectedDay:{type:rt(Object)},range:{type:rt(Array)},date:{type:rt(Object),required:!0},hideHeader:{type:Boolean}}),x7={pick:t=>ba(t)};var Ik={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(pi,function(){return function(r,n,i){var a=n.prototype,o=function(h){return h&&(h.indexOf?h:h.s)},s=function(h,f,v,p,g){var m=h.name?h:h.$locale(),_=o(m[f]),b=o(m[v]),w=_||b.map(function(k){return k.slice(0,p)});if(!g)return w;var T=m.weekStart;return w.map(function(k,A){return w[(A+(T||0))%7]})},u=function(){return i.Ls[i.locale()]},l=function(h,f){return h.formats[f]||function(v){return v.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,g,m){return g||m.slice(1)})}(h.formats[f.toUpperCase()])},c=function(){var h=this;return{months:function(f){return f?f.format("MMMM"):s(h,"months")},monthsShort:function(f){return f?f.format("MMM"):s(h,"monthsShort","months",3)},firstDayOfWeek:function(){return h.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):s(h,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):s(h,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):s(h,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return l(h.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return c.bind(this)()},i.localeData=function(){var h=u();return{firstDayOfWeek:function(){return h.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(f){return l(h,f)},meridiem:h.meridiem,ordinal:h.ordinal}},i.months=function(){return s(u(),"months")},i.monthsShort=function(){return s(u(),"monthsShort","months",3)},i.weekdays=function(h){return s(u(),"weekdays",null,null,h)},i.weekdaysShort=function(h){return s(u(),"weekdaysShort","weekdays",3,h)},i.weekdaysMin=function(h){return s(u(),"weekdaysMin","weekdays",2,h)}}})})(Ik);var S7=Ik.exports;const w7=Ch(S7),T7=(t,e)=>{kl.extend(w7);const r=kl.localeData().firstDayOfWeek(),{t:n,lang:i}=bh(),a=kl().locale(i.value),o=ce(()=>!!t.range&&!!t.range.length),s=ce(()=>{let f=[];if(o.value){const[v,p]=t.range,g=Pl(p.date()-v.date()+1).map(b=>({text:v.date()+b,type:"current"}));let m=g.length%7;m=m===0?0:7-m;const _=Pl(m).map((b,w)=>({text:w+1,type:"next"}));f=g.concat(_)}else{const v=t.date.startOf("month").day(),p=m7(t.date,(v-r+7)%7).map(b=>({text:b,type:"prev"})),g=y7(t.date).map(b=>({text:b,type:"current"}));f=[...p,...g];const m=7-(f.length%7||7),_=Pl(m).map((b,w)=>({text:w+1,type:"next"}));f=f.concat(_)}return _7(f)}),u=ce(()=>{const f=r;return f===0?Mg.map(v=>n(`el.datepicker.weeks.${v}`)):Mg.slice(f).concat(Mg.slice(0,f)).map(v=>n(`el.datepicker.weeks.${v}`))}),l=(f,v)=>{switch(v){case"prev":return t.date.startOf("month").subtract(1,"month").date(f);case"next":return t.date.startOf("month").add(1,"month").date(f);case"current":return t.date.date(f)}};return{now:a,isInRange:o,rows:s,weekDays:u,getFormattedDate:l,handlePickDay:({text:f,type:v})=>{const p=l(f,v);e("pick",p)},getSlotData:({text:f,type:v})=>{const p=l(f,v);return{isSelected:p.isSame(t.selectedDay),type:`${v}-month`,day:p.format("YYYY-MM-DD"),date:p.toDate()}}}},C7={key:0},A7=["onClick"],k7=We({name:"DateTable"}),P7=We({...k7,props:b7,emits:x7,setup(t,{expose:e,emit:r}){const n=t,{isInRange:i,now:a,rows:o,weekDays:s,getFormattedDate:u,handlePickDay:l,getSlotData:c}=T7(n,r),h=gt("calendar-table"),f=gt("calendar-day"),v=({text:p,type:g})=>{const m=[g];if(g==="current"){const _=u(p,g);_.isSame(n.selectedDay,"day")&&m.push(f.is("selected")),_.isSame(a,"day")&&m.push(f.is("today"))}return m};return e({getFormattedDate:u}),(p,g)=>(Se(),Fe("table",{class:Ge([X(h).b(),X(h).is("range",X(i))]),cellspacing:"0",cellpadding:"0"},[p.hideHeader?dt("v-if",!0):(Se(),Fe("thead",C7,[(Se(!0),Fe(Jr,null,Al(X(s),m=>(Se(),Fe("th",{key:m},xr(m),1))),128))])),lt("tbody",null,[(Se(!0),Fe(Jr,null,Al(X(o),(m,_)=>(Se(),Fe("tr",{key:_,class:Ge({[X(h).e("row")]:!0,[X(h).em("row","hide-border")]:_===0&&p.hideHeader})},[(Se(!0),Fe(Jr,null,Al(m,(b,w)=>(Se(),Fe("td",{key:w,class:Ge(v(b)),onClick:T=>X(l)(b)},[lt("div",{class:Ge(X(f).b())},[Je(p.$slots,"date-cell",{data:X(c)(b)},()=>[lt("span",null,xr(b.text),1)])],2)],10,A7))),128))],2))),128))])],2))}});var iS=kt(P7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const E7=(t,e)=>{const r=t.endOf("month"),n=e.startOf("month"),a=r.isSame(n,"week")?n.add(1,"week"):n;return[[t,r],[a.startOf("week"),e]]},M7=(t,e)=>{const r=t.endOf("month"),n=t.add(1,"month").startOf("month"),i=r.isSame(n,"week")?n.add(1,"week"):n,a=i.endOf("month"),o=e.startOf("month"),s=a.isSame(o,"week")?o.add(1,"week"):o;return[[t,r],[i.startOf("week"),a],[s.startOf("week"),e]]},D7=(t,e,r)=>{const n=_h(),{lang:i}=bh(),a=je(),o=kl().locale(i.value),s=ce({get(){return t.modelValue?l.value:a.value},set(_){if(!_)return;a.value=_;const b=_.toDate();e(XA,b),e(fu,b)}}),u=ce(()=>{if(!t.range)return[];const _=t.range.map(T=>kl(T).locale(i.value)),[b,w]=_;return b.isAfter(w)?[]:b.isSame(w,"month")?p(b,w):b.add(1,"month").month()!==w.month()?[]:p(b,w)}),l=ce(()=>t.modelValue?kl(t.modelValue).locale(i.value):s.value||(u.value.length?u.value[0][0]:o)),c=ce(()=>l.value.subtract(1,"month").date(1)),h=ce(()=>l.value.add(1,"month").date(1)),f=ce(()=>l.value.subtract(1,"year").date(1)),v=ce(()=>l.value.add(1,"year").date(1)),p=(_,b)=>{const w=_.startOf("week"),T=b.endOf("week"),k=w.get("month"),A=T.get("month");return k===A?[[w,T]]:(k+1)%12===A?E7(w,T):k+2===A||(k+1)%11===A?M7(w,T):[]},g=_=>{s.value=_},m=_=>{const w={"prev-month":c.value,"next-month":h.value,"prev-year":f.value,"next-year":v.value,today:o}[_];w.isSame(l.value,"day")||g(w)};return Xf({from:'"dateCell"',replacement:'"date-cell"',scope:"ElCalendar",version:"2.3.0",ref:"https://element-plus.org/en-US/component/calendar.html#slots",type:"Slot"},ce(()=>!!n.dateCell)),{calculateValidatedDateRange:p,date:l,realSelectedDay:s,pickDay:g,selectDate:m,validatedRange:u}},L7=t=>Cl(t)&&t.length===2&&t.every(e=>vy(e)),R7=Mt({modelValue:{type:Date},range:{type:rt(Array),validator:L7}}),O7={[fu]:t=>vy(t),[XA]:t=>vy(t)},I7="ElCalendar",B7=We({name:I7}),N7=We({...B7,props:R7,emits:O7,setup(t,{expose:e,emit:r}){const n=t,i=gt("calendar"),{calculateValidatedDateRange:a,date:o,pickDay:s,realSelectedDay:u,selectDate:l,validatedRange:c}=D7(n,r),{t:h}=bh(),f=ce(()=>{const v=`el.datepicker.month${o.value.format("M")}`;return`${o.value.year()} ${h("el.datepicker.year")} ${h(v)}`});return e({selectedDay:u,pickDay:s,selectDate:l,calculateValidatedDateRange:a}),(v,p)=>(Se(),Fe("div",{class:Ge(X(i).b())},[lt("div",{class:Ge(X(i).e("header"))},[Je(v.$slots,"header",{date:X(f)},()=>[lt("div",{class:Ge(X(i).e("title"))},xr(X(f)),3),X(c).length===0?(Se(),Fe("div",{key:0,class:Ge(X(i).e("button-group"))},[sr(X(v7),null,{default:mt(()=>[sr(X(Ng),{size:"small",onClick:p[0]||(p[0]=g=>X(l)("prev-month"))},{default:mt(()=>[nu(xr(X(h)("el.datepicker.prevMonth")),1)]),_:1}),sr(X(Ng),{size:"small",onClick:p[1]||(p[1]=g=>X(l)("today"))},{default:mt(()=>[nu(xr(X(h)("el.datepicker.today")),1)]),_:1}),sr(X(Ng),{size:"small",onClick:p[2]||(p[2]=g=>X(l)("next-month"))},{default:mt(()=>[nu(xr(X(h)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):dt("v-if",!0)])],2),X(c).length===0?(Se(),Fe("div",{key:0,class:Ge(X(i).e("body"))},[sr(iS,{date:X(o),"selected-day":X(u),onPick:X(s)},Tb({_:2},[v.$slots["date-cell"]||v.$slots.dateCell?{name:"date-cell",fn:mt(g=>[v.$slots["date-cell"]?Je(v.$slots,"date-cell",sf(Ur({key:0},g))):Je(v.$slots,"dateCell",sf(Ur({key:1},g)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(Se(),Fe("div",{key:1,class:Ge(X(i).e("body"))},[(Se(!0),Fe(Jr,null,Al(X(c),(g,m)=>(Se(),wt(iS,{key:m,date:g[0],"selected-day":X(u),range:g,"hide-header":m!==0,onPick:X(s)},Tb({_:2},[v.$slots["date-cell"]||v.$slots.dateCell?{name:"date-cell",fn:mt(_=>[v.$slots["date-cell"]?Je(v.$slots,"date-cell",sf(Ur({key:0},_))):Je(v.$slots,"dateCell",sf(Ur({key:1},_)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var F7=kt(N7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const bie=Wr(F7),$7=Mt({header:{type:String,default:""},bodyStyle:{type:rt([String,Object,Array]),default:""},shadow:{type:String,values:["always","hover","never"],default:"always"}}),H7=We({name:"ElCard"}),z7=We({...H7,props:$7,setup(t){const e=gt("card");return(r,n)=>(Se(),Fe("div",{class:Ge([X(e).b(),X(e).is(`${r.shadow}-shadow`)])},[r.$slots.header||r.header?(Se(),Fe("div",{key:0,class:Ge(X(e).e("header"))},[Je(r.$slots,"header",{},()=>[nu(xr(r.header),1)])],2)):dt("v-if",!0),lt("div",{class:Ge(X(e).e("body")),style:Kr(r.bodyStyle)},[Je(r.$slots,"default")],6)],2))}});var U7=kt(z7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const xie=Wr(U7),Bk=Symbol("rowContextKey"),V7=["start","center","end","space-around","space-between","space-evenly"],G7=["top","middle","bottom"],j7=Mt({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:V7,default:"start"},align:{type:String,values:G7,default:"top"}}),W7=We({name:"ElRow"}),Y7=We({...W7,props:j7,setup(t){const e=t,r=gt("row"),n=ce(()=>e.gutter);Ir(Bk,{gutter:n});const i=ce(()=>{const o={};return e.gutter&&(o.marginRight=o.marginLeft=`-${e.gutter/2}px`),o}),a=ce(()=>[r.b(),r.is(`justify-${e.justify}`,e.justify!=="start"),r.is(`align-${e.align}`,e.align!=="top")]);return(o,s)=>(Se(),wt(Wn(o.tag),{class:Ge(X(a)),style:Kr(X(i))},{default:mt(()=>[Je(o.$slots,"default")]),_:3},8,["class","style"]))}});var X7=kt(Y7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const Sie=Wr(X7),q7=Mt({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:rt([Number,Object]),default:()=>Bo({})},sm:{type:rt([Number,Object]),default:()=>Bo({})},md:{type:rt([Number,Object]),default:()=>Bo({})},lg:{type:rt([Number,Object]),default:()=>Bo({})},xl:{type:rt([Number,Object]),default:()=>Bo({})}}),Z7=We({name:"ElCol"}),K7=We({...Z7,props:q7,setup(t){const e=t,{gutter:r}=Ft(Bk,{gutter:ce(()=>0)}),n=gt("col"),i=ce(()=>{const o={};return r.value&&(o.paddingLeft=o.paddingRight=`${r.value/2}px`),o}),a=ce(()=>{const o=[];return["span","offset","pull","push"].forEach(l=>{const c=e[l];xa(c)&&(l==="span"?o.push(n.b(`${e[l]}`)):c>0&&o.push(n.b(`${l}-${e[l]}`)))}),["xs","sm","md","lg","xl"].forEach(l=>{xa(e[l])?o.push(n.b(`${l}-${e[l]}`)):ba(e[l])&&Object.entries(e[l]).forEach(([c,h])=>{o.push(c!=="span"?n.b(`${l}-${c}-${h}`):n.b(`${l}-${h}`))})}),r.value&&o.push(n.is("guttered")),[n.b(),o]});return(o,s)=>(Se(),wt(Wn(o.tag),{class:Ge(X(a)),style:Kr(X(i))},{default:mt(()=>[Je(o.$slots,"default")]),_:3},8,["class","style"]))}});var Q7=kt(K7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const wie=Wr(Q7),J7=We({name:"ElCollapseTransition"}),eH=We({...J7,setup(t){const e=gt("collapse-transition"),r={beforeEnter(n){n.dataset||(n.dataset={}),n.dataset.oldPaddingTop=n.style.paddingTop,n.dataset.oldPaddingBottom=n.style.paddingBottom,n.style.maxHeight=0,n.style.paddingTop=0,n.style.paddingBottom=0},enter(n){n.dataset.oldOverflow=n.style.overflow,n.scrollHeight!==0?(n.style.maxHeight=`${n.scrollHeight}px`,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom):(n.style.maxHeight=0,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom),n.style.overflow="hidden"},afterEnter(n){n.style.maxHeight="",n.style.overflow=n.dataset.oldOverflow},beforeLeave(n){n.dataset||(n.dataset={}),n.dataset.oldPaddingTop=n.style.paddingTop,n.dataset.oldPaddingBottom=n.style.paddingBottom,n.dataset.oldOverflow=n.style.overflow,n.style.maxHeight=`${n.scrollHeight}px`,n.style.overflow="hidden"},leave(n){n.scrollHeight!==0&&(n.style.maxHeight=0,n.style.paddingTop=0,n.style.paddingBottom=0)},afterLeave(n){n.style.maxHeight="",n.style.overflow=n.dataset.oldOverflow,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom}};return(n,i)=>(Se(),wt(bu,Ur({name:X(e).b()},iO(r)),{default:mt(()=>[Je(n.$slots,"default")]),_:3},16,["name"]))}});var uv=kt(eH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);uv.install=t=>{t.component(uv.name,uv)};const tH=uv,rH=We({name:"ElContainer"}),nH=We({...rH,props:{direction:{type:String}},setup(t){const e=t,r=_h(),n=gt("container"),i=ce(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:r&&r.default?r.default().some(o=>{const s=o.type.name;return s==="ElHeader"||s==="ElFooter"}):!1);return(a,o)=>(Se(),Fe("section",{class:Ge([X(n).b(),X(n).is("vertical",X(i))])},[Je(a.$slots,"default")],2))}});var iH=kt(nH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const aH=We({name:"ElAside"}),oH=We({...aH,props:{width:{type:String,default:null}},setup(t){const e=t,r=gt("aside"),n=ce(()=>e.width?r.cssVarBlock({width:e.width}):{});return(i,a)=>(Se(),Fe("aside",{class:Ge(X(r).b()),style:Kr(X(n))},[Je(i.$slots,"default")],6))}});var Nk=kt(oH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const sH=We({name:"ElFooter"}),uH=We({...sH,props:{height:{type:String,default:null}},setup(t){const e=t,r=gt("footer"),n=ce(()=>e.height?r.cssVarBlock({height:e.height}):{});return(i,a)=>(Se(),Fe("footer",{class:Ge(X(r).b()),style:Kr(X(n))},[Je(i.$slots,"default")],6))}});var Fk=kt(uH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const lH=We({name:"ElHeader"}),cH=We({...lH,props:{height:{type:String,default:null}},setup(t){const e=t,r=gt("header"),n=ce(()=>e.height?r.cssVarBlock({height:e.height}):{});return(i,a)=>(Se(),Fe("header",{class:Ge(X(r).b()),style:Kr(X(n))},[Je(i.$slots,"default")],6))}});var $k=kt(cH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const fH=We({name:"ElMain"}),hH=We({...fH,setup(t){const e=gt("main");return(r,n)=>(Se(),Fe("main",{class:Ge(X(e).b())},[Je(r.$slots,"default")],2))}});var Hk=kt(hH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const Tie=Wr(iH,{Aside:Nk,Footer:Fk,Header:$k,Main:Hk});Ca(Nk);const Cie=Ca(Fk),Aie=Ca($k),kie=Ca(Hk),dH=Mt({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:rt([String,Array,Object])},zIndex:{type:rt([String,Number])}}),vH={click:t=>t instanceof MouseEvent},pH="overlay";var gH=We({name:"ElOverlay",props:dH,emits:vH,setup(t,{slots:e,emit:r}){const n=gt(pH),i=u=>{r("click",u)},{onClick:a,onMousedown:o,onMouseup:s}=pF(t.customMaskEvent?void 0:i);return()=>t.mask?sr("div",{class:[n.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:a,onMousedown:o,onMouseup:s},[Je(e,"default")],iv.STYLE|iv.CLASS|iv.PROPS,["onClick","onMouseup","onMousedown"]):vr("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Je(e,"default")])}});const mH=gH,yH=Mt({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:Oi},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),_H=Mt({...yH,appendToBody:{type:Boolean,default:!1},beforeClose:{type:rt(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),bH={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[fu]:t=>lc(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},xH=(t,e)=>{const n=Hi().emit,{nextZIndex:i}=F1();let a="";const o=Kf(),s=Kf(),u=je(!1),l=je(!1),c=je(!1),h=je(t.zIndex||i());let f,v;const p=Lp("namespace",Iv),g=ce(()=>{const W={},z=`--${p.value}-dialog`;return t.fullscreen||(t.top&&(W[`${z}-margin-top`]=t.top),t.width&&(W[`${z}-width`]=Ul(t.width))),W}),m=ce(()=>t.alignCenter?{display:"flex"}:{});function _(){n("opened")}function b(){n("closed"),n(fu,!1),t.destroyOnClose&&(c.value=!1)}function w(){n("close")}function T(){v==null||v(),f==null||f(),t.openDelay&&t.openDelay>0?{stop:f}=Gf(()=>O(),t.openDelay):O()}function k(){f==null||f(),v==null||v(),t.closeDelay&&t.closeDelay>0?{stop:v}=Gf(()=>F(),t.closeDelay):F()}function A(){function W(z){z||(l.value=!0,u.value=!1)}t.beforeClose?t.beforeClose(W):k()}function M(){t.closeOnClickModal&&A()}function O(){Br&&(u.value=!0)}function F(){u.value=!1}function $(){n("openAutoFocus")}function B(){n("closeAutoFocus")}function U(W){var z;((z=W.detail)==null?void 0:z.focusReason)==="pointer"&&W.preventDefault()}t.lockScroll&&uN(u);function H(){t.closeOnPressEscape&&A()}return xt(()=>t.modelValue,W=>{W?(l.value=!1,T(),c.value=!0,h.value=t.zIndex?h.value++:i(),cn(()=>{n("open"),e.value&&(e.value.scrollTop=0)})):u.value&&k()}),xt(()=>t.fullscreen,W=>{e.value&&(W?(a=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=a)}),$r(()=>{t.modelValue&&(u.value=!0,c.value=!0,T())}),{afterEnter:_,afterLeave:b,beforeLeave:w,handleClose:A,onModalClick:M,close:k,doClose:F,onOpenAutoFocus:$,onCloseAutoFocus:B,onCloseRequested:H,onFocusoutPrevented:U,titleId:o,bodyId:s,closed:l,style:g,overlayDialogStyle:m,rendered:c,visible:u,zIndex:h}},SH=Mt({..._H,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),wH=bH,TH=We({name:"ElDrawer",components:{ElOverlay:mH,ElFocusTrap:Pk,ElIcon:Gn,Close:A1},inheritAttrs:!1,props:SH,emits:wH,setup(t,{slots:e}){Xf({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},ce(()=>!!e.title)),Xf({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},ce(()=>!!t.customClass));const r=je(),n=je(),i=gt("drawer"),{t:a}=bh(),o=ce(()=>t.direction==="rtl"||t.direction==="ltr"),s=ce(()=>Ul(t.size));return{...xH(t,r),drawerRef:r,focusStartRef:n,isHorizontal:o,drawerSize:s,ns:i,t:a}}}),CH=["aria-label","aria-labelledby","aria-describedby"],AH=["id"],kH=["aria-label"],PH=["id"];function EH(t,e,r,n,i,a){const o=uf("close"),s=uf("el-icon"),u=uf("el-focus-trap"),l=uf("el-overlay");return Se(),wt(tA,{to:"body",disabled:!t.appendToBody},[sr(bu,{name:t.ns.b("fade"),onAfterEnter:t.afterEnter,onAfterLeave:t.afterLeave,onBeforeLeave:t.beforeLeave,persisted:""},{default:mt(()=>[rs(sr(l,{mask:t.modal,"overlay-class":t.modalClass,"z-index":t.zIndex,onClick:t.onModalClick},{default:mt(()=>[sr(u,{loop:"",trapped:t.visible,"focus-trap-el":t.drawerRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:mt(()=>[lt("div",Ur({ref:"drawerRef","aria-modal":"true","aria-label":t.title||void 0,"aria-labelledby":t.title?void 0:t.titleId,"aria-describedby":t.bodyId},t.$attrs,{class:[t.ns.b(),t.direction,t.visible&&"open",t.customClass],style:t.isHorizontal?"width: "+t.drawerSize:"height: "+t.drawerSize,role:"dialog",onClick:e[1]||(e[1]=h1(()=>{},["stop"]))}),[lt("span",{ref:"focusStartRef",class:Ge(t.ns.e("sr-focus")),tabindex:"-1"},null,2),t.withHeader?(Se(),Fe("header",{key:0,class:Ge(t.ns.e("header"))},[t.$slots.title?Je(t.$slots,"title",{key:1},()=>[dt(" DEPRECATED SLOT ")]):Je(t.$slots,"header",{key:0,close:t.handleClose,titleId:t.titleId,titleClass:t.ns.e("title")},()=>[t.$slots.title?dt("v-if",!0):(Se(),Fe("span",{key:0,id:t.titleId,role:"heading",class:Ge(t.ns.e("title"))},xr(t.title),11,AH))]),t.showClose?(Se(),Fe("button",{key:2,"aria-label":t.t("el.drawer.close"),class:Ge(t.ns.e("close-btn")),type:"button",onClick:e[0]||(e[0]=(...c)=>t.handleClose&&t.handleClose(...c))},[sr(s,{class:Ge(t.ns.e("close"))},{default:mt(()=>[sr(o)]),_:1},8,["class"])],10,kH)):dt("v-if",!0)],2)):dt("v-if",!0),t.rendered?(Se(),Fe("div",{key:1,id:t.bodyId,class:Ge(t.ns.e("body"))},[Je(t.$slots,"default")],10,PH)):dt("v-if",!0),t.$slots.footer?(Se(),Fe("div",{key:2,class:Ge(t.ns.e("footer"))},[Je(t.$slots,"footer")],2)):dt("v-if",!0)],16,CH)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[_u,t.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var MH=kt(TH,[["render",EH],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const Pie=Wr(MH),DH=We({inheritAttrs:!1});function LH(t,e,r,n,i,a){return Je(t.$slots,"default")}var RH=kt(DH,[["render",LH],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const OH=We({name:"ElCollectionItem",inheritAttrs:!1});function IH(t,e,r,n,i,a){return Je(t.$slots,"default")}var BH=kt(OH,[["render",IH],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const NH="data-el-collection-item",FH=t=>{const e=`El${t}Collection`,r=`${e}Item`,n=Symbol(e),i=Symbol(r),a={...RH,name:e,setup(){const s=je(null),u=new Map;Ir(n,{itemMap:u,getItems:()=>{const c=X(s);if(!c)return[];const h=Array.from(c.querySelectorAll(`[${NH}]`));return[...u.values()].sort((v,p)=>h.indexOf(v.ref)-h.indexOf(p.ref))},collectionRef:s})}},o={...BH,name:r,setup(s,{attrs:u}){const l=je(null),c=Ft(n,void 0);Ir(i,{collectionItemRef:l}),$r(()=>{const h=X(l);h&&c.itemMap.set(h,{ref:h,...u})}),Kn(()=>{const h=X(l);c.itemMap.delete(h)})}};return{COLLECTION_INJECTION_KEY:n,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:a,ElCollectionItem:o}},Fg=Mt({trigger:Jf.trigger,effect:{...oi.effect,default:"light"},type:{type:rt(String)},placement:{type:rt(String),default:"bottom"},popperOptions:{type:rt(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:rt([Number,String]),default:0},maxHeight:{type:rt([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:rt(Object)},teleported:oi.teleported});Mt({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Oi}});Mt({onKeydown:{type:rt(Function)}});FH("Dropdown");let $H=class{constructor(e,r){this.parent=e,this.domNode=r,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,r=>{r.addEventListener("keydown",n=>{let i=!1;switch(n.code){case bn.down:{this.gotoSubIndex(this.subIndex+1),i=!0;break}case bn.up:{this.gotoSubIndex(this.subIndex-1),i=!0;break}case bn.tab:{tv(e,"mouseleave");break}case bn.enter:case bn.space:{i=!0,n.currentTarget.click();break}}return i&&(n.preventDefault(),n.stopPropagation()),!1})})}},HH=class{constructor(e,r){this.domNode=e,this.submenu=null,this.submenu=null,this.init(r)}init(e){this.domNode.setAttribute("tabindex","0");const r=this.domNode.querySelector(`.${e}-menu`);r&&(this.submenu=new $H(this,r)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let r=!1;switch(e.code){case bn.down:{tv(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),r=!0;break}case bn.up:{tv(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),r=!0;break}case bn.tab:{tv(e.currentTarget,"mouseleave");break}case bn.enter:case bn.space:{r=!0,e.currentTarget.click();break}}r&&e.preventDefault()})}},zH=class{constructor(e,r){this.domNode=e,this.init(r)}init(e){const r=this.domNode.childNodes;Array.from(r).forEach(n=>{n.nodeType===1&&new HH(n,e)})}};const UH=We({name:"ElMenuCollapseTransition",setup(){const t=gt("menu");return{listeners:{onBeforeEnter:r=>r.style.opacity="0.2",onEnter(r,n){Zs(r,`${t.namespace.value}-opacity-transition`),r.style.opacity="1",n()},onAfterEnter(r){Go(r,`${t.namespace.value}-opacity-transition`),r.style.opacity=""},onBeforeLeave(r){r.dataset||(r.dataset={}),wy(r,t.m("collapse"))?(Go(r,t.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),Zs(r,t.m("collapse"))):(Zs(r,t.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),Go(r,t.m("collapse"))),r.style.width=`${r.scrollWidth}px`,r.style.overflow="hidden"},onLeave(r){Zs(r,"horizontal-collapse-transition"),r.style.width=`${r.dataset.scrollWidth}px`}}}}});function VH(t,e,r,n,i,a){return Se(),wt(bu,Ur({mode:"out-in"},t.listeners),{default:mt(()=>[Je(t.$slots,"default")]),_:3},16)}var GH=kt(UH,[["render",VH],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function zk(t,e){const r=ce(()=>{let i=t.parent;const a=[e.value];for(;i.type.name!=="ElMenu";)i.props.index&&a.unshift(i.props.index),i=i.parent;return a});return{parentMenu:ce(()=>{let i=t.parent;for(;i&&!["ElMenu","ElSubMenu"].includes(i.type.name);)i=i.parent;return i}),indexPath:r}}function jH(t){return ce(()=>{const r=t.backgroundColor;return r?new Lk(r).shade(20).toString():""})}const Uk=(t,e)=>{const r=gt("menu");return ce(()=>r.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":jH(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},WH=Mt({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:Oi},expandOpenIcon:{type:Oi},collapseCloseIcon:{type:Oi},collapseOpenIcon:{type:Oi}}),od="ElSubMenu";var j1=We({name:od,props:WH,setup(t,{slots:e,expose:r}){Xf({from:"popper-append-to-body",replacement:"teleported",scope:od,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},ce(()=>t.popperAppendToBody!==void 0));const n=Hi(),{indexPath:i,parentMenu:a}=zk(n,ce(()=>t.index)),o=gt("menu"),s=gt("sub-menu"),u=Ft("rootMenu");u||zl(od,"can not inject root menu");const l=Ft(`subMenu:${a.value.uid}`);l||zl(od,"can not inject sub menu");const c=je({}),h=je({});let f;const v=je(!1),p=je(),g=je(null),m=ce(()=>B.value==="horizontal"&&b.value?"bottom-start":"right-start"),_=ce(()=>B.value==="horizontal"&&b.value||B.value==="vertical"&&!u.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?A.value?t.expandOpenIcon:t.expandCloseIcon:t6:t.collapseCloseIcon&&t.collapseOpenIcon?A.value?t.collapseOpenIcon:t.collapseCloseIcon:s6),b=ce(()=>l.level===0),w=ce(()=>{var ae;const he=(ae=t.teleported)!=null?ae:t.popperAppendToBody;return he===void 0?b.value:he}),T=ce(()=>u.props.collapse?`${o.namespace.value}-zoom-in-left`:`${o.namespace.value}-zoom-in-top`),k=ce(()=>B.value==="horizontal"&&b.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),A=ce(()=>u.openedMenus.includes(t.index)),M=ce(()=>{let ae=!1;return Object.values(c.value).forEach(he=>{he.active&&(ae=!0)}),Object.values(h.value).forEach(he=>{he.active&&(ae=!0)}),ae}),O=ce(()=>u.props.backgroundColor||""),F=ce(()=>u.props.activeTextColor||""),$=ce(()=>u.props.textColor||""),B=ce(()=>u.props.mode),U=ao({index:t.index,indexPath:i,active:M}),H=Uk(u.props,l.level+1),W=ce(()=>B.value!=="horizontal"?{color:$.value}:{borderBottomColor:M.value?u.props.activeTextColor?F.value:"":"transparent",color:M.value?F.value:$.value}),z=()=>{var ae,he,ve;return(ve=(he=(ae=g.value)==null?void 0:ae.popperRef)==null?void 0:he.popperInstanceRef)==null?void 0:ve.destroy()},G=ae=>{ae||z()},Y=()=>{u.props.menuTrigger==="hover"&&u.props.mode==="horizontal"||u.props.collapse&&u.props.mode==="vertical"||t.disabled||u.handleSubMenuClick({index:t.index,indexPath:i.value,active:M.value})},Q=(ae,he=t.showTimeout)=>{var ve;ae.type!=="focus"&&(u.props.menuTrigger==="click"&&u.props.mode==="horizontal"||!u.props.collapse&&u.props.mode==="vertical"||t.disabled||(l.mouseInChild.value=!0,f==null||f(),{stop:f}=Gf(()=>{u.openMenu(t.index,i.value)},he),w.value&&((ve=a.value.vnode.el)==null||ve.dispatchEvent(new MouseEvent("mouseenter")))))},J=(ae=!1)=>{var he,ve;u.props.menuTrigger==="click"&&u.props.mode==="horizontal"||!u.props.collapse&&u.props.mode==="vertical"||(f==null||f(),l.mouseInChild.value=!1,{stop:f}=Gf(()=>!v.value&&u.closeMenu(t.index,i.value),t.hideTimeout),w.value&&ae&&((he=n.parent)==null?void 0:he.type.name)==="ElSubMenu"&&((ve=l.handleMouseleave)==null||ve.call(l,!0)))};xt(()=>u.props.collapse,ae=>G(!!ae));{const ae=ve=>{h.value[ve.index]=ve},he=ve=>{delete h.value[ve.index]};Ir(`subMenu:${n.uid}`,{addSubMenu:ae,removeSubMenu:he,handleMouseleave:J,mouseInChild:v,level:l.level+1})}return r({opened:A}),$r(()=>{u.addSubMenu(U),l.addSubMenu(U)}),Kn(()=>{l.removeSubMenu(U),u.removeSubMenu(U)}),()=>{var ae;const he=[(ae=e.title)==null?void 0:ae.call(e),vr(Gn,{class:s.e("icon-arrow"),style:{transform:A.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&u.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Tr(_.value)?vr(n.appContext.components[_.value]):vr(_.value)})],ve=u.isMenuPopup?vr(G1,{ref:g,visible:A.value,effect:"light",pure:!0,offset:t.popperOffset,showArrow:!1,persistent:!0,popperClass:t.popperClass,placement:m.value,teleported:w.value,fallbackPlacements:k.value,transition:T.value,gpuAcceleration:!1},{content:()=>{var we;return vr("div",{class:[o.m(B.value),o.m("popup-container"),t.popperClass],onMouseenter:Te=>Q(Te,100),onMouseleave:()=>J(!0),onFocus:Te=>Q(Te,100)},[vr("ul",{class:[o.b(),o.m("popup"),o.m(`popup-${m.value}`)],style:H.value},[(we=e.default)==null?void 0:we.call(e)])])},default:()=>vr("div",{class:s.e("title"),style:[W.value,{backgroundColor:O.value}],onClick:Y},he)}):vr(Jr,{},[vr("div",{class:s.e("title"),style:[W.value,{backgroundColor:O.value}],ref:p,onClick:Y},he),vr(tH,{},{default:()=>{var we;return rs(vr("ul",{role:"menu",class:[o.b(),o.m("inline")],style:H.value},[(we=e.default)==null?void 0:we.call(e)]),[[_u,A.value]])}})]);return vr("li",{class:[s.b(),s.is("active",M.value),s.is("opened",A.value),s.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:A.value,onMouseenter:Q,onMouseleave:()=>J(!0),onFocus:Q},[ve])}}});const YH=Mt({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:rt(Array),default:()=>Bo([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),$g=t=>Array.isArray(t)&&t.every(e=>Tr(e)),XH={close:(t,e)=>Tr(t)&&$g(e),open:(t,e)=>Tr(t)&&$g(e),select:(t,e,r,n)=>Tr(t)&&$g(e)&&ba(r)&&(n===void 0||n instanceof Promise)};var qH=We({name:"ElMenu",props:YH,emits:XH,setup(t,{emit:e,slots:r,expose:n}){const i=Hi(),a=i.appContext.config.globalProperties.$router,o=je(),s=gt("menu"),u=gt("sub-menu"),l=je(-1),c=je(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),h=je(t.defaultActive),f=je({}),v=je({}),p=ce(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),g=()=>{const B=h.value&&f.value[h.value];if(!B||t.mode==="horizontal"||t.collapse)return;B.indexPath.forEach(H=>{const W=v.value[H];W&&m(H,W.indexPath)})},m=(B,U)=>{c.value.includes(B)||(t.uniqueOpened&&(c.value=c.value.filter(H=>U.includes(H))),c.value.push(B),e("open",B,U))},_=B=>{const U=c.value.indexOf(B);U!==-1&&c.value.splice(U,1)},b=(B,U)=>{_(B),e("close",B,U)},w=({index:B,indexPath:U})=>{c.value.includes(B)?b(B,U):m(B,U)},T=B=>{(t.mode==="horizontal"||t.collapse)&&(c.value=[]);const{index:U,indexPath:H}=B;if(!(Hl(U)||Hl(H)))if(t.router&&a){const W=B.route||U,z=a.push(W).then(G=>(G||(h.value=U),G));e("select",U,H,{index:U,indexPath:H,route:W},z)}else h.value=U,e("select",U,H,{index:U,indexPath:H})},k=B=>{const U=f.value,H=U[B]||h.value&&U[h.value]||U[t.defaultActive];H?h.value=H.index:h.value=B},A=()=>{var B,U;if(!o.value)return-1;const H=Array.from((U=(B=o.value)==null?void 0:B.childNodes)!=null?U:[]).filter(ae=>ae.nodeName!=="#comment"&&(ae.nodeName!=="#text"||ae.nodeValue)),W=64,z=Number.parseInt(getComputedStyle(o.value).paddingLeft,10),G=Number.parseInt(getComputedStyle(o.value).paddingRight,10),Y=o.value.clientWidth-z-G;let Q=0,J=0;return H.forEach((ae,he)=>{Q+=ae.offsetWidth||0,Q<=Y-W&&(J=he+1)}),J===H.length?-1:J},M=(B,U=33.34)=>{let H;return()=>{H&&clearTimeout(H),H=setTimeout(()=>{B()},U)}};let O=!0;const F=()=>{const B=()=>{l.value=-1,cn(()=>{l.value=A()})};O?B():M(B)(),O=!1};xt(()=>t.defaultActive,B=>{f.value[B]||(h.value=""),k(B)}),xt(()=>t.collapse,B=>{B&&(c.value=[])}),xt(f.value,g);let $;aO(()=>{t.mode==="horizontal"&&t.ellipsis?$=Cp(o,F).stop:$==null||$()});{const B=z=>{v.value[z.index]=z},U=z=>{delete v.value[z.index]};Ir("rootMenu",ao({props:t,openedMenus:c,items:f,subMenus:v,activeIndex:h,isMenuPopup:p,addMenuItem:z=>{f.value[z.index]=z},removeMenuItem:z=>{delete f.value[z.index]},addSubMenu:B,removeSubMenu:U,openMenu:m,closeMenu:b,handleMenuItemClick:T,handleSubMenuClick:w})),Ir(`subMenu:${i.uid}`,{addSubMenu:B,removeSubMenu:U,mouseInChild:je(!1),level:0})}return $r(()=>{t.mode==="horizontal"&&new zH(i.vnode.el,s.namespace.value)}),n({open:U=>{const{indexPath:H}=v.value[U];H.forEach(W=>m(W,H))},close:_,handleResize:F}),()=>{var B,U;let H=(U=(B=r.default)==null?void 0:B.call(r))!=null?U:[];const W=[];if(t.mode==="horizontal"&&o.value){const Y=av(H),Q=l.value===-1?Y:Y.slice(0,l.value),J=l.value===-1?[]:Y.slice(l.value);J!=null&&J.length&&t.ellipsis&&(H=Q,W.push(vr(j1,{index:"sub-menu-more",class:u.e("hide-arrow")},{title:()=>vr(Gn,{class:u.e("icon-more")},{default:()=>vr(l8)}),default:()=>J})))}const z=Uk(t,0),G=vr("ul",{key:String(t.collapse),role:"menubar",ref:o,style:z.value,class:{[s.b()]:!0,[s.m(t.mode)]:!0,[s.m("collapse")]:t.collapse}},[...H,...W]);return t.collapseTransition&&t.mode==="vertical"?vr(GH,()=>G):G}}});const ZH=Mt({index:{type:rt([String,null]),default:null},route:{type:rt([String,Object])},disabled:Boolean}),KH={click:t=>Tr(t.index)&&Array.isArray(t.indexPath)},Hg="ElMenuItem",QH=We({name:Hg,components:{ElTooltip:G1},props:ZH,emits:KH,setup(t,{emit:e}){const r=Hi(),n=Ft("rootMenu"),i=gt("menu"),a=gt("menu-item");n||zl(Hg,"can not inject root menu");const{parentMenu:o,indexPath:s}=zk(r,Ri(t,"index")),u=Ft(`subMenu:${o.value.uid}`);u||zl(Hg,"can not inject sub menu");const l=ce(()=>t.index===n.activeIndex),c=ao({index:t.index,indexPath:s,active:l}),h=()=>{t.disabled||(n.handleMenuItemClick({index:t.index,indexPath:s.value,route:t.route}),e("click",c))};return $r(()=>{u.addSubMenu(c),n.addMenuItem(c)}),Kn(()=>{u.removeSubMenu(c),n.removeMenuItem(c)}),{parentMenu:o,rootMenu:n,active:l,nsMenu:i,nsMenuItem:a,handleClick:h}}});function JH(t,e,r,n,i,a){const o=uf("el-tooltip");return Se(),Fe("li",{class:Ge([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:e[0]||(e[0]=(...s)=>t.handleClick&&t.handleClick(...s))},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(Se(),wt(o,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:mt(()=>[Je(t.$slots,"title")]),default:mt(()=>[lt("div",{class:Ge(t.nsMenu.be("tooltip","trigger"))},[Je(t.$slots,"default")],2)]),_:3},8,["effect"])):(Se(),Fe(Jr,{key:1},[Je(t.$slots,"default"),Je(t.$slots,"title")],64))],2)}var Vk=kt(QH,[["render",JH],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const ez={title:String},tz="ElMenuItemGroup",rz=We({name:tz,props:ez,setup(){return{ns:gt("menu-item-group")}}});function nz(t,e,r,n,i,a){return Se(),Fe("li",{class:Ge(t.ns.b())},[lt("div",{class:Ge(t.ns.e("title"))},[t.$slots.title?Je(t.$slots,"title",{key:1}):(Se(),Fe(Jr,{key:0},[nu(xr(t.title),1)],64))],2),lt("ul",null,[Je(t.$slots,"default")])],2)}var Gk=kt(rz,[["render",nz],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const Lie=Wr(qH,{MenuItem:Vk,MenuItemGroup:Gk,SubMenu:j1}),Rie=Ca(Vk);Ca(Gk);const Oie=Ca(j1),iz=Mt({trigger:Jf.trigger,placement:Fg.placement,disabled:Jf.disabled,visible:oi.visible,transition:oi.transition,popperOptions:Fg.popperOptions,tabindex:Fg.tabindex,content:oi.content,popperStyle:oi.popperStyle,popperClass:oi.popperClass,enterable:{...oi.enterable,default:!0},effect:{...oi.effect,default:"light"},teleported:oi.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),az={"update:visible":t=>lc(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},oz="onUpdate:visible",sz=We({name:"ElPopover"}),uz=We({...sz,props:iz,emits:az,setup(t,{expose:e,emit:r}){const n=t,i=ce(()=>n[oz]),a=gt("popover"),o=je(),s=ce(()=>{var m;return(m=X(o))==null?void 0:m.popperRef}),u=ce(()=>[{width:Ul(n.width)},n.popperStyle]),l=ce(()=>[a.b(),n.popperClass,{[a.m("plain")]:!!n.content}]),c=ce(()=>n.transition===`${a.namespace.value}-fade-in-linear`),h=()=>{var m;(m=o.value)==null||m.hide()},f=()=>{r("before-enter")},v=()=>{r("before-leave")},p=()=>{r("after-enter")},g=()=>{r("update:visible",!1),r("after-leave")};return e({popperRef:s,hide:h}),(m,_)=>(Se(),wt(X(G1),Ur({ref_key:"tooltipRef",ref:o},m.$attrs,{trigger:m.trigger,placement:m.placement,disabled:m.disabled,visible:m.visible,transition:m.transition,"popper-options":m.popperOptions,tabindex:m.tabindex,content:m.content,offset:m.offset,"show-after":m.showAfter,"hide-after":m.hideAfter,"auto-close":m.autoClose,"show-arrow":m.showArrow,"aria-label":m.title,effect:m.effect,enterable:m.enterable,"popper-class":X(l),"popper-style":X(u),teleported:m.teleported,persistent:m.persistent,"gpu-acceleration":X(c),"onUpdate:visible":X(i),onBeforeShow:f,onBeforeHide:v,onShow:p,onHide:g}),{content:mt(()=>[m.title?(Se(),Fe("div",{key:0,class:Ge(X(a).e("title")),role:"title"},xr(m.title),3)):dt("v-if",!0),Je(m.$slots,"default",{},()=>[nu(xr(m.content),1)])]),default:mt(()=>[m.$slots.reference?Je(m.$slots,"reference",{key:0}):dt("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var lz=kt(uz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const aS=(t,e)=>{const r=e.arg||e.value,n=r==null?void 0:r.popperRef;n&&(n.triggerRef=t)};var cz={mounted(t,e){aS(t,e)},updated(t,e){aS(t,e)}};const fz="popover",hz=Q8(cz,fz),Iie=Wr(lz,{directive:hz}),dz=Mt({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:rt(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:rt([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:rt(Function),default:t=>`${t}%`}}),vz=["aria-valuenow"],pz={viewBox:"0 0 100 100"},gz=["d","stroke","stroke-width"],mz=["d","stroke","opacity","stroke-linecap","stroke-width"],yz={key:0},_z=We({name:"ElProgress"}),bz=We({..._z,props:dz,setup(t){const e=t,r={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=gt("progress"),i=ce(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,backgroundColor:b(e.percentage)})),a=ce(()=>(e.strokeWidth/e.width*100).toFixed(1)),o=ce(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),s=ce(()=>{const w=o.value,T=e.type==="dashboard";return`
          M 50 50
          m 0 ${T?"":"-"}${w}
          a ${w} ${w} 0 1 1 0 ${T?"-":""}${w*2}
          a ${w} ${w} 0 1 1 0 ${T?"":"-"}${w*2}
          `}),u=ce(()=>2*Math.PI*o.value),l=ce(()=>e.type==="dashboard"?.75:1),c=ce(()=>`${-1*u.value*(1-l.value)/2}px`),h=ce(()=>({strokeDasharray:`${u.value*l.value}px, ${u.value}px`,strokeDashoffset:c.value})),f=ce(()=>({strokeDasharray:`${u.value*l.value*(e.percentage/100)}px, ${u.value}px`,strokeDashoffset:c.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),v=ce(()=>{let w;return e.color?w=b(e.percentage):w=r[e.status]||r.default,w}),p=ce(()=>e.status==="warning"?k1:e.type==="line"?e.status==="success"?UA:C1:e.status==="success"?d6:A1),g=ce(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),m=ce(()=>e.format(e.percentage));function _(w){const T=100/w.length;return w.map((A,M)=>Tr(A)?{color:A,percentage:(M+1)*T}:A).sort((A,M)=>A.percentage-M.percentage)}const b=w=>{var T;const{color:k}=e;if(ha(k))return k(w);if(Tr(k))return k;{const A=_(k);for(const M of A)if(M.percentage>w)return M.color;return(T=A[A.length-1])==null?void 0:T.color}};return(w,T)=>(Se(),Fe("div",{class:Ge([X(n).b(),X(n).m(w.type),X(n).is(w.status),{[X(n).m("without-text")]:!w.showText,[X(n).m("text-inside")]:w.textInside}]),role:"progressbar","aria-valuenow":w.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[w.type==="line"?(Se(),Fe("div",{key:0,class:Ge(X(n).b("bar"))},[lt("div",{class:Ge(X(n).be("bar","outer")),style:Kr({height:`${w.strokeWidth}px`})},[lt("div",{class:Ge([X(n).be("bar","inner"),{[X(n).bem("bar","inner","indeterminate")]:w.indeterminate},{[X(n).bem("bar","inner","striped")]:w.striped},{[X(n).bem("bar","inner","striped-flow")]:w.stripedFlow}]),style:Kr(X(i))},[(w.showText||w.$slots.default)&&w.textInside?(Se(),Fe("div",{key:0,class:Ge(X(n).be("bar","innerText"))},[Je(w.$slots,"default",{percentage:w.percentage},()=>[lt("span",null,xr(X(m)),1)])],2)):dt("v-if",!0)],6)],6)],2)):(Se(),Fe("div",{key:1,class:Ge(X(n).b("circle")),style:Kr({height:`${w.width}px`,width:`${w.width}px`})},[(Se(),Fe("svg",pz,[lt("path",{class:Ge(X(n).be("circle","track")),d:X(s),stroke:`var(${X(n).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":X(a),fill:"none",style:Kr(X(h))},null,14,gz),lt("path",{class:Ge(X(n).be("circle","path")),d:X(s),stroke:X(v),fill:"none",opacity:w.percentage?1:0,"stroke-linecap":w.strokeLinecap,"stroke-width":X(a),style:Kr(X(f))},null,14,mz)]))],6)),(w.showText||w.$slots.default)&&!w.textInside?(Se(),Fe("div",{key:2,class:Ge(X(n).e("text")),style:Kr({fontSize:`${X(g)}px`})},[Je(w.$slots,"default",{percentage:w.percentage},()=>[w.status?(Se(),wt(X(Gn),{key:1},{default:mt(()=>[(Se(),wt(Wn(X(p))))]),_:1})):(Se(),Fe("span",yz,xr(X(m)),1))])],6)):dt("v-if",!0)],10,vz))}});var xz=kt(bz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const Bie=Wr(xz),Sz=Mt({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),wz=Mt({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),Tz=We({name:"ElSkeletonItem"}),Cz=We({...Tz,props:wz,setup(t){const e=gt("skeleton");return(r,n)=>(Se(),Fe("div",{class:Ge([X(e).e("item"),X(e).e(r.variant)])},[r.variant==="image"?(Se(),wt(X(x8),{key:0})):dt("v-if",!0)],2))}});var Fv=kt(Cz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const Az=We({name:"ElSkeleton"}),kz=We({...Az,props:Sz,setup(t,{expose:e}){const r=t,n=gt("skeleton"),i=gF(Ri(r,"loading"),r.throttle);return e({uiLoading:i}),(a,o)=>X(i)?(Se(),Fe("div",Ur({key:0,class:[X(n).b(),X(n).is("animated",a.animated)]},a.$attrs),[(Se(!0),Fe(Jr,null,Al(a.count,s=>(Se(),Fe(Jr,{key:s},[a.loading?Je(a.$slots,"template",{key:s},()=>[sr(Fv,{class:Ge(X(n).is("first")),variant:"p"},null,8,["class"]),(Se(!0),Fe(Jr,null,Al(a.rows,u=>(Se(),wt(Fv,{key:u,class:Ge([X(n).e("paragraph"),X(n).is("last",u===a.rows&&a.rows>1)]),variant:"p"},null,8,["class"]))),128))]):dt("v-if",!0)],64))),128))],16)):Je(a.$slots,"default",sf(Ur({key:1},a.$attrs)))}});var Pz=kt(kz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const Nie=Wr(Pz,{SkeletonItem:Fv}),Fie=Ca(Fv),Ez=Mt({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Mp,default:""},truncated:{type:Boolean},tag:{type:String,default:"span"}}),Mz=We({name:"ElText"}),Dz=We({...Mz,props:Ez,setup(t){const e=t,r=wh(),n=gt("text"),i=ce(()=>[n.b(),n.m(e.type),n.m(r.value),n.is("truncated",e.truncated)]);return(a,o)=>(Se(),wt(Wn(a.tag),{class:Ge(X(i))},{default:mt(()=>[Je(a.$slots,"default")]),_:3},8,["class"]))}});var Lz=kt(Dz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue"]]);const $ie=Wr(Lz);function Rz(t){let e;const r=je(!1),n=ao({...t,originalPosition:"",originalOverflow:"",visible:!1});function i(f){n.text=f}function a(){const f=n.parent,v=h.ns;if(!f.vLoadingAddClassList){let p=f.getAttribute("loading-number");p=Number.parseInt(p)-1,p?f.setAttribute("loading-number",p.toString()):(Go(f,v.bm("parent","relative")),f.removeAttribute("loading-number")),Go(f,v.bm("parent","hidden"))}o(),c.unmount()}function o(){var f,v;(v=(f=h.$el)==null?void 0:f.parentNode)==null||v.removeChild(h.$el)}function s(){var f;t.beforeClose&&!t.beforeClose()||(r.value=!0,clearTimeout(e),e=window.setTimeout(u,400),n.visible=!1,(f=t.closed)==null||f.call(t))}function u(){if(!r.value)return;const f=n.parent;r.value=!1,f.vLoadingAddClassList=void 0,a()}const l=We({name:"ElLoading",setup(f,{expose:v}){const{ns:p,zIndex:g}=yk("loading");return v({ns:p,zIndex:g}),()=>{const m=n.spinner||n.svg,_=vr("svg",{class:"circular",viewBox:n.svgViewBox?n.svgViewBox:"0 0 50 50",...m?{innerHTML:m}:{}},[vr("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),b=n.text?vr("p",{class:p.b("text")},[n.text]):void 0;return vr(bu,{name:p.b("fade"),onAfterLeave:u},{default:mt(()=>[rs(sr("div",{style:{backgroundColor:n.background||""},class:[p.b("mask"),n.customClass,n.fullscreen?"is-fullscreen":""]},[vr("div",{class:p.b("spinner")},[_,b])]),[[_u,n.visible]])])})}}}),c=oO(l),h=c.mount(document.createElement("div"));return{...f1(n),setText:i,removeElLoadingChild:o,close:s,handleAfterLeave:u,vm:h,get $el(){return h.$el}}}let sd;const Oz=function(t={}){if(!Br)return;const e=Iz(t);if(e.fullscreen&&sd)return sd;const r=Rz({...e,closed:()=>{var i;(i=e.closed)==null||i.call(e),e.fullscreen&&(sd=void 0)}});Bz(e,e.parent,r),oS(e,e.parent,r),e.parent.vLoadingAddClassList=()=>oS(e,e.parent,r);let n=e.parent.getAttribute("loading-number");return n?n=`${Number.parseInt(n)+1}`:n="1",e.parent.setAttribute("loading-number",n),e.parent.appendChild(r.$el),cn(()=>r.visible.value=e.visible),e.fullscreen&&(sd=r),r},Iz=t=>{var e,r,n,i;let a;return Tr(t.target)?a=(e=document.querySelector(t.target))!=null?e:document.body:a=t.target||document.body,{parent:a===document.body||t.body?document.body:a,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:a===document.body&&((r=t.fullscreen)!=null?r:!0),lock:(n=t.lock)!=null?n:!1,customClass:t.customClass||"",visible:(i=t.visible)!=null?i:!0,target:a}},Bz=async(t,e,r)=>{const{nextZIndex:n}=r.vm.zIndex||r.vm._.exposed.zIndex,i={};if(t.fullscreen)r.originalPosition.value=cl(document.body,"position"),r.originalOverflow.value=cl(document.body,"overflow"),i.zIndex=n();else if(t.parent===document.body){r.originalPosition.value=cl(document.body,"position"),await cn();for(const a of["top","left"]){const o=a==="top"?"scrollTop":"scrollLeft";i[a]=`${t.target.getBoundingClientRect()[a]+document.body[o]+document.documentElement[o]-Number.parseInt(cl(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])i[a]=`${t.target.getBoundingClientRect()[a]}px`}else r.originalPosition.value=cl(e,"position");for(const[a,o]of Object.entries(i))r.$el.style[a]=o},oS=(t,e,r)=>{const n=r.vm.ns||r.vm._.exposed.ns;["absolute","fixed","sticky"].includes(r.originalPosition.value)?Go(e,n.bm("parent","relative")):Zs(e,n.bm("parent","relative")),t.fullscreen&&t.lock?Zs(e,n.bm("parent","hidden")):Go(e,n.bm("parent","hidden"))},Ly=Symbol("ElLoading"),sS=(t,e)=>{var r,n,i,a;const o=e.instance,s=f=>ba(e.value)?e.value[f]:void 0,u=f=>{const v=Tr(f)&&(o==null?void 0:o[f])||f;return v&&je(v)},l=f=>u(s(f)||t.getAttribute(`element-loading-${sO(f)}`)),c=(r=s("fullscreen"))!=null?r:e.modifiers.fullscreen,h={text:l("text"),svg:l("svg"),svgViewBox:l("svgViewBox"),spinner:l("spinner"),background:l("background"),customClass:l("customClass"),fullscreen:c,target:(n=s("target"))!=null?n:c?void 0:t,body:(i=s("body"))!=null?i:e.modifiers.body,lock:(a=s("lock"))!=null?a:e.modifiers.lock};t[Ly]={options:h,instance:Oz(h)}},Nz=(t,e)=>{for(const r of Object.keys(e))c1(e[r])&&(e[r].value=t[r])},Hie={mounted(t,e){e.value&&sS(t,e)},updated(t,e){const r=t[Ly];e.oldValue!==e.value&&(e.value&&!e.oldValue?sS(t,e):e.value&&e.oldValue?ba(e.value)&&Nz(e.value,r.options):r==null||r.instance.close())},unmounted(t){var e;(e=t[Ly])==null||e.instance.close()}},jk=["success","info","warning","error"],Pn=Bo({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Br?document.body:void 0}),Fz=Mt({customClass:{type:String,default:Pn.customClass},center:{type:Boolean,default:Pn.center},dangerouslyUseHTMLString:{type:Boolean,default:Pn.dangerouslyUseHTMLString},duration:{type:Number,default:Pn.duration},icon:{type:Oi,default:Pn.icon},id:{type:String,default:Pn.id},message:{type:rt([String,Object,Function]),default:Pn.message},onClose:{type:rt(Function),required:!1},showClose:{type:Boolean,default:Pn.showClose},type:{type:String,values:jk,default:Pn.type},offset:{type:Number,default:Pn.offset},zIndex:{type:Number,default:Pn.zIndex},grouping:{type:Boolean,default:Pn.grouping},repeatNum:{type:Number,default:Pn.repeatNum}}),$z={destroy:()=>!0},Ii=uO([]),Hz=t=>{const e=Ii.findIndex(i=>i.id===t),r=Ii[e];let n;return e>0&&(n=Ii[e-1]),{current:r,prev:n}},zz=t=>{const{prev:e}=Hz(t);return e?e.vm.exposed.bottom.value:0},Uz=(t,e)=>Ii.findIndex(n=>n.id===t)>0?20:e,Vz=["id"],Gz=["innerHTML"],jz=We({name:"ElMessage"}),Wz=We({...jz,props:Fz,emits:$z,setup(t,{expose:e}){const r=t,{Close:n}=q8,{ns:i,zIndex:a}=yk("message"),{currentZIndex:o,nextZIndex:s}=a,u=je(),l=je(!1),c=je(0);let h;const f=ce(()=>r.type?r.type==="error"?"danger":r.type:"info"),v=ce(()=>{const M=r.type;return{[i.bm("icon",M)]:M&&Sx[M]}}),p=ce(()=>r.icon||Sx[r.type]||""),g=ce(()=>zz(r.id)),m=ce(()=>Uz(r.id,r.offset)+g.value),_=ce(()=>c.value+m.value),b=ce(()=>({top:`${m.value}px`,zIndex:o.value}));function w(){r.duration!==0&&({stop:h}=Gf(()=>{k()},r.duration))}function T(){h==null||h()}function k(){l.value=!1}function A({code:M}){M===bn.esc&&k()}return $r(()=>{w(),s(),l.value=!0}),xt(()=>r.repeatNum,()=>{T(),w()}),rv(document,"keydown",A),Cp(u,()=>{c.value=u.value.getBoundingClientRect().height}),e({visible:l,bottom:_,close:k}),(M,O)=>(Se(),wt(bu,{name:X(i).b("fade"),onBeforeLeave:M.onClose,onAfterLeave:O[0]||(O[0]=F=>M.$emit("destroy")),persisted:""},{default:mt(()=>[rs(lt("div",{id:M.id,ref_key:"messageRef",ref:u,class:Ge([X(i).b(),{[X(i).m(M.type)]:M.type&&!M.icon},X(i).is("center",M.center),X(i).is("closable",M.showClose),M.customClass]),style:Kr(X(b)),role:"alert",onMouseenter:T,onMouseleave:w},[M.repeatNum>1?(Se(),wt(X(G9),{key:0,value:M.repeatNum,type:X(f),class:Ge(X(i).e("badge"))},null,8,["value","type","class"])):dt("v-if",!0),X(p)?(Se(),wt(X(Gn),{key:1,class:Ge([X(i).e("icon"),X(v)])},{default:mt(()=>[(Se(),wt(Wn(X(p))))]),_:1},8,["class"])):dt("v-if",!0),Je(M.$slots,"default",{},()=>[M.dangerouslyUseHTMLString?(Se(),Fe(Jr,{key:1},[dt(" Caution here, message could've been compromised, never use user's input as message "),lt("p",{class:Ge(X(i).e("content")),innerHTML:M.message},null,10,Gz)],2112)):(Se(),Fe("p",{key:0,class:Ge(X(i).e("content"))},xr(M.message),3))]),M.showClose?(Se(),wt(X(Gn),{key:2,class:Ge(X(i).e("closeBtn")),onClick:h1(k,["stop"])},{default:mt(()=>[sr(X(n))]),_:1},8,["class","onClick"])):dt("v-if",!0)],46,Vz),[[_u,l.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Yz=kt(Wz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let Xz=1;const Wk=t=>{const e=!t||Tr(t)||Dv(t)||ha(t)?{message:t}:t,r={...Pn,...e};if(!r.appendTo)r.appendTo=document.body;else if(Tr(r.appendTo)){let n=document.querySelector(r.appendTo);Yf(n)||(n=document.body),r.appendTo=n}return r},qz=t=>{const e=Ii.indexOf(t);if(e===-1)return;Ii.splice(e,1);const{handler:r}=t;r.close()},Zz=({appendTo:t,...e},r)=>{const n=`message_${Xz++}`,i=e.onClose,a=document.createElement("div"),o={...e,id:n,onClose:()=>{i==null||i(),qz(c)},onDestroy:()=>{Cb(null,a)}},s=sr(Yz,o,ha(o.message)||Dv(o.message)?{default:ha(o.message)?o.message:()=>o.message}:null);s.appContext=r||Xl._context,Cb(s,a),t.appendChild(a.firstElementChild);const u=s.component,c={id:n,vnode:s,vm:u,handler:{close:()=>{u.exposed.visible.value=!1}},props:s.component.props};return c},Xl=(t={},e)=>{if(!Br)return{close:()=>{}};if(xa(Fx.max)&&Ii.length>=Fx.max)return{close:()=>{}};const r=Wk(t);if(r.grouping&&Ii.length){const i=Ii.find(({vnode:a})=>{var o;return((o=a.props)==null?void 0:o.message)===r.message});if(i)return i.props.repeatNum+=1,i.props.type=r.type,i.handler}const n=Zz(r,e);return Ii.push(n),n.handler};jk.forEach(t=>{Xl[t]=(e={},r)=>{const n=Wk(e);return Xl({...n,type:t},r)}});function Kz(t){for(const e of Ii)(!t||t===e.props.type)&&e.handler.close()}Xl.closeAll=Kz;Xl._context=null;const zie=K8(Xl,"$message");let Yk=!0,Xk=!0;function lv(t,e,r){const n=t.match(e);return n&&n.length>=r&&parseInt(n[r],10)}function Tu(t,e,r){if(!t.RTCPeerConnection)return;const n=t.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(o,s){if(o!==e)return i.apply(this,arguments);const u=l=>{const c=r(l);c&&(s.handleEvent?s.handleEvent(c):s(c))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(s,u),i.apply(this,[o,u])};const a=n.removeEventListener;n.removeEventListener=function(o,s){if(o!==e||!this._eventMap||!this._eventMap[e])return a.apply(this,arguments);if(!this._eventMap[e].has(s))return a.apply(this,arguments);const u=this._eventMap[e].get(s);return this._eventMap[e].delete(s),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,a.apply(this,[o,u])},Object.defineProperty(n,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function Qz(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(Yk=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function Jz(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(Xk=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function qk(){if(typeof window=="object"){if(Yk)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function W1(t,e){Xk&&console.warn(t+" is deprecated, please use "+e+" instead.")}function eU(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator)return e.browser="Not a browser.",e;const{navigator:r}=t;if(r.mozGetUserMedia)e.browser="firefox",e.version=lv(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=lv(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.RTCPeerConnection&&r.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=lv(r.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function uS(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zk(t){return uS(t)?Object.keys(t).reduce(function(e,r){const n=uS(t[r]),i=n?Zk(t[r]):t[r],a=n&&!Object.keys(i).length;return i===void 0||a?e:Object.assign(e,{[r]:i})},{}):t}function Ry(t,e,r){!e||r.has(e.id)||(r.set(e.id,e),Object.keys(e).forEach(n=>{n.endsWith("Id")?Ry(t,t.get(e[n]),r):n.endsWith("Ids")&&e[n].forEach(i=>{Ry(t,t.get(i),r)})}))}function lS(t,e,r){const n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const a=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&a.push(o)}),a.forEach(o=>{t.forEach(s=>{s.type===n&&s.trackId===o.id&&Ry(t,s,i)})}),i}const cS=qk;function Kk(t,e){const r=t&&t.navigator;if(!r.mediaDevices)return;const n=function(s){if(typeof s!="object"||s.mandatory||s.optional)return s;const u={};return Object.keys(s).forEach(l=>{if(l==="require"||l==="advanced"||l==="mediaSource")return;const c=typeof s[l]=="object"?s[l]:{ideal:s[l]};c.exact!==void 0&&typeof c.exact=="number"&&(c.min=c.max=c.exact);const h=function(f,v){return f?f+v.charAt(0).toUpperCase()+v.slice(1):v==="deviceId"?"sourceId":v};if(c.ideal!==void 0){u.optional=u.optional||[];let f={};typeof c.ideal=="number"?(f[h("min",l)]=c.ideal,u.optional.push(f),f={},f[h("max",l)]=c.ideal,u.optional.push(f)):(f[h("",l)]=c.ideal,u.optional.push(f))}c.exact!==void 0&&typeof c.exact!="number"?(u.mandatory=u.mandatory||{},u.mandatory[h("",l)]=c.exact):["min","max"].forEach(f=>{c[f]!==void 0&&(u.mandatory=u.mandatory||{},u.mandatory[h(f,l)]=c[f])})}),s.advanced&&(u.optional=(u.optional||[]).concat(s.advanced)),u},i=function(s,u){if(e.version>=61)return u(s);if(s=JSON.parse(JSON.stringify(s)),s&&typeof s.audio=="object"){const l=function(c,h,f){h in c&&!(f in c)&&(c[f]=c[h],delete c[h])};s=JSON.parse(JSON.stringify(s)),l(s.audio,"autoGainControl","googAutoGainControl"),l(s.audio,"noiseSuppression","googNoiseSuppression"),s.audio=n(s.audio)}if(s&&typeof s.video=="object"){let l=s.video.facingMode;l=l&&(typeof l=="object"?l:{ideal:l});const c=e.version<66;if(l&&(l.exact==="user"||l.exact==="environment"||l.ideal==="user"||l.ideal==="environment")&&!(r.mediaDevices.getSupportedConstraints&&r.mediaDevices.getSupportedConstraints().facingMode&&!c)){delete s.video.facingMode;let h;if(l.exact==="environment"||l.ideal==="environment"?h=["back","rear"]:(l.exact==="user"||l.ideal==="user")&&(h=["front"]),h)return r.mediaDevices.enumerateDevices().then(f=>{f=f.filter(p=>p.kind==="videoinput");let v=f.find(p=>h.some(g=>p.label.toLowerCase().includes(g)));return!v&&f.length&&h.includes("back")&&(v=f[f.length-1]),v&&(s.video.deviceId=l.exact?{exact:v.deviceId}:{ideal:v.deviceId}),s.video=n(s.video),cS("chrome: "+JSON.stringify(s)),u(s)})}s.video=n(s.video)}return cS("chrome: "+JSON.stringify(s)),u(s)},a=function(s){return e.version>=64?s:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[s.name]||s.name,message:s.message,constraint:s.constraint||s.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(s,u,l){i(s,c=>{r.webkitGetUserMedia(c,u,h=>{l&&l(a(h))})})};if(r.getUserMedia=o.bind(r),r.mediaDevices.getUserMedia){const s=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(u){return i(u,l=>s(l).then(c=>{if(l.audio&&!c.getAudioTracks().length||l.video&&!c.getVideoTracks().length)throw c.getTracks().forEach(h=>{h.stop()}),new DOMException("","NotFoundError");return c},c=>Promise.reject(a(c))))}}}function tU(t,e){if(!(t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices)&&t.navigator.mediaDevices){if(typeof e!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}t.navigator.mediaDevices.getDisplayMedia=function(n){return e(n).then(i=>{const a=n.video&&n.video.width,o=n.video&&n.video.height,s=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:s||3}},a&&(n.video.mandatory.maxWidth=a),o&&(n.video.mandatory.maxHeight=o),t.navigator.mediaDevices.getUserMedia(n)})}}}function Qk(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function Jk(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(r){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=r)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",i=>{let a;t.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(s=>s.track&&s.track.id===i.track.id):a={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=a,o.transceiver={receiver:a},o.streams=[n.stream],this.dispatchEvent(o)}),n.stream.getTracks().forEach(i=>{let a;t.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(s=>s.track&&s.track.id===i.id):a={track:i};const o=new Event("track");o.track=i,o.receiver=a,o.transceiver={receiver:a},o.streams=[n.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Tu(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function eP(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,a){return{track:a,get dtmf(){return this._dtmf===void 0&&(a.kind==="audio"?this._dtmf=i.createDTMFSender(a):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(s,u){let l=i.apply(this,arguments);return l||(l=e(this,s),this._senders.push(l)),l};const a=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(s){a.apply(this,arguments);const u=this._senders.indexOf(s);u!==-1&&this._senders.splice(u,1)}}const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(a){this._senders=this._senders||[],r.apply(this,[a]),a.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const n=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(a){this._senders=this._senders||[],n.apply(this,[a]),a.getTracks().forEach(o=>{const s=this._senders.find(u=>u.track===o);s&&this._senders.splice(this._senders.indexOf(s),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function tP(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[n,i,a]=arguments;if(arguments.length>0&&typeof n=="function")return e.apply(this,arguments);if(e.length===0&&(arguments.length===0||typeof n!="function"))return e.apply(this,[]);const o=function(u){const l={};return u.result().forEach(h=>{const f={id:h.id,timestamp:h.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[h.type]||h.type};h.names().forEach(v=>{f[v]=h.stat(v)}),l[f.id]=f}),l},s=function(u){return new Map(Object.keys(u).map(l=>[l,u[l]]))};if(arguments.length>=2){const u=function(l){i(s(o(l)))};return e.apply(this,[u,n])}return new Promise((u,l)=>{e.apply(this,[function(c){u(s(o(c)))},l])}).then(i,a)}}function rP(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const r=t.RTCPeerConnection.prototype.getSenders;r&&(t.RTCPeerConnection.prototype.getSenders=function(){const a=r.apply(this,[]);return a.forEach(o=>o._pc=this),a});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const a=n.apply(this,arguments);return a._pc=this,a}),t.RTCRtpSender.prototype.getStats=function(){const a=this;return this._pc.getStats().then(o=>lS(o,a.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const r=t.RTCPeerConnection.prototype.getReceivers;r&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=r.apply(this,[]);return i.forEach(a=>a._pc=this),i}),Tu(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(a=>lS(a,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const n=arguments[0];let i,a,o;return this.getSenders().forEach(s=>{s.track===n&&(i?o=!0:i=s)}),this.getReceivers().forEach(s=>(s.track===n&&(a?o=!0:a=s),s.track===n)),o||i&&a?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():a?a.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function nP(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,s){if(!s)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const u=e.apply(this,arguments);return this._shimmedLocalStreams[s.id]?this._shimmedLocalStreams[s.id].indexOf(u)===-1&&this._shimmedLocalStreams[s.id].push(u):this._shimmedLocalStreams[s.id]=[s,u],u};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(l=>{if(this.getSenders().find(h=>h.track===l))throw new DOMException("Track already exists.","InvalidAccessError")});const s=this.getSenders();r.apply(this,arguments);const u=this.getSenders().filter(l=>s.indexOf(l)===-1);this._shimmedLocalStreams[o.id]=[o].concat(u)};const n=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],n.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(s=>{const u=this._shimmedLocalStreams[s].indexOf(o);u!==-1&&this._shimmedLocalStreams[s].splice(u,1),this._shimmedLocalStreams[s].length===1&&delete this._shimmedLocalStreams[s]}),i.apply(this,arguments)}}function iP(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return nP(t);const r=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const c=r.apply(this);return this._reverseStreams=this._reverseStreams||{},c.map(h=>this._reverseStreams[h.id])};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(c){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},c.getTracks().forEach(h=>{if(this.getSenders().find(v=>v.track===h))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[c.id]){const h=new t.MediaStream(c.getTracks());this._streams[c.id]=h,this._reverseStreams[h.id]=c,c=h}n.apply(this,[c])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(c){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[c.id]||c]),delete this._reverseStreams[this._streams[c.id]?this._streams[c.id].id:c.id],delete this._streams[c.id]},t.RTCPeerConnection.prototype.addTrack=function(c,h){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const f=[].slice.call(arguments,1);if(f.length!==1||!f[0].getTracks().find(g=>g===c))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(g=>g.track===c))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const p=this._streams[h.id];if(p)p.addTrack(c),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const g=new t.MediaStream([c]);this._streams[h.id]=g,this._reverseStreams[g.id]=h,this.addStream(g)}return this.getSenders().find(g=>g.track===c)};function a(l,c){let h=c.sdp;return Object.keys(l._reverseStreams||[]).forEach(f=>{const v=l._reverseStreams[f],p=l._streams[v.id];h=h.replace(new RegExp(p.id,"g"),v.id)}),new RTCSessionDescription({type:c.type,sdp:h})}function o(l,c){let h=c.sdp;return Object.keys(l._reverseStreams||[]).forEach(f=>{const v=l._reverseStreams[f],p=l._streams[v.id];h=h.replace(new RegExp(v.id,"g"),p.id)}),new RTCSessionDescription({type:c.type,sdp:h})}["createOffer","createAnswer"].forEach(function(l){const c=t.RTCPeerConnection.prototype[l],h={[l](){const f=arguments;return arguments.length&&typeof arguments[0]=="function"?c.apply(this,[p=>{const g=a(this,p);f[0].apply(null,[g])},p=>{f[1]&&f[1].apply(null,p)},arguments[2]]):c.apply(this,arguments).then(p=>a(this,p))}};t.RTCPeerConnection.prototype[l]=h[l]});const s=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?s.apply(this,arguments):(arguments[0]=o(this,arguments[0]),s.apply(this,arguments))};const u=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const l=u.get.apply(this);return l.type===""?l:a(this,l)}}),t.RTCPeerConnection.prototype.removeTrack=function(c){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!c._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(c._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let f;Object.keys(this._streams).forEach(v=>{this._streams[v].getTracks().find(g=>c.track===g)&&(f=this._streams[v])}),f&&(f.getTracks().length===1?this.removeStream(this._reverseStreams[f.id]):f.removeTrack(c.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Oy(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const n=t.RTCPeerConnection.prototype[r],i={[r](){return arguments[0]=new(r==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};t.RTCPeerConnection.prototype[r]=i[r]})}function aP(t,e){Tu(t,"negotiationneeded",r=>{const n=r.target;if(!((e.version<72||n.getConfiguration&&n.getConfiguration().sdpSemantics==="plan-b")&&n.signalingState!=="stable"))return r})}const fS=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:aP,shimAddTrackRemoveTrack:iP,shimAddTrackRemoveTrackWithNative:nP,shimGetDisplayMedia:tU,shimGetSendersWithDtmf:eP,shimGetStats:tP,shimGetUserMedia:Kk,shimMediaStream:Qk,shimOnTrack:Jk,shimPeerConnection:Oy,shimSenderReceiverGetStats:rP},Symbol.toStringTag,{value:"Module"}));function oP(t,e){const r=t&&t.navigator,n=t&&t.MediaStreamTrack;if(r.getUserMedia=function(i,a,o){W1("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(i).then(a,o)},!(e.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const i=function(o,s,u){s in o&&!(u in o)&&(o[u]=o[s],delete o[s])},a=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),a(o)},n&&n.prototype.getSettings){const o=n.prototype.getSettings;n.prototype.getSettings=function(){const s=o.apply(this,arguments);return i(s,"mozAutoGainControl","autoGainControl"),i(s,"mozNoiseSuppression","noiseSuppression"),s}}if(n&&n.prototype.applyConstraints){const o=n.prototype.applyConstraints;n.prototype.applyConstraints=function(s){return this.kind==="audio"&&typeof s=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s,"autoGainControl","mozAutoGainControl"),i(s,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[s])}}}}function rU(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return n.video===!0?n.video={mediaSource:e}:n.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(n)})}function sP(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Iy(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const a=t.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),a.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=o[i]});const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[a,o,s]=arguments;return n.apply(this,[a||null]).then(u=>{if(e.version<53&&!o)try{u.forEach(l=>{l.type=r[l.type]||l.type})}catch(l){if(l.name!=="TypeError")throw l;u.forEach((c,h)=>{u.set(h,Object.assign({},c,{type:r[c.type]||c.type}))})}return u}).then(o,s)}}function uP(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(a=>a._pc=this),i});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function lP(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n}),Tu(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function cP(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(r){W1("removeStream","removeTrack"),this.getSenders().forEach(n=>{n.track&&r.getTracks().includes(n.track)&&this.removeTrack(n)})})}function fP(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function hP(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let n=arguments[1]&&arguments[1].sendEncodings;n===void 0&&(n=[]),n=[...n];const i=n.length>0;i&&n.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const a=e.apply(this,arguments);if(i){const{sender:o}=a,s=o.getParameters();(!("encodings"in s)||s.encodings.length===1&&Object.keys(s.encodings[0]).length===0)&&(s.encodings=n,o.sendEncodings=n,this.setParametersPromises.push(o.setParameters(s).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return a})}function dP(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const n=e.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function vP(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function pP(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const hS=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:hP,shimCreateAnswer:pP,shimCreateOffer:vP,shimGetDisplayMedia:rU,shimGetParameters:dP,shimGetUserMedia:oP,shimOnTrack:sP,shimPeerConnection:Iy,shimRTCDataChannel:fP,shimReceiverGetStats:lP,shimRemoveStream:cP,shimSenderGetStats:uP},Symbol.toStringTag,{value:"Module"}));function gP(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(n){this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(i=>e.call(this,i,n)),n.getVideoTracks().forEach(i=>e.call(this,i,n))},t.RTCPeerConnection.prototype.addTrack=function(n,...i){return i&&i.forEach(a=>{this._localStreams?this._localStreams.includes(a)||this._localStreams.push(a):this._localStreams=[a]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(r){this._localStreams||(this._localStreams=[]);const n=this._localStreams.indexOf(r);if(n===-1)return;this._localStreams.splice(n,1);const i=r.getTracks();this.getSenders().forEach(a=>{i.includes(a.track)&&this.removeTrack(a)})})}}function mP(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(r){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=r),this.addEventListener("track",this._onaddstreampoly=n=>{n.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const a=new Event("addstream");a.stream=i,this.dispatchEvent(a)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(a=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(a)>=0)return;n._remoteStreams.push(a);const o=new Event("addstream");o.stream=a,n.dispatchEvent(o)})}),e.apply(n,arguments)}}}function yP(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,r=e.createOffer,n=e.createAnswer,i=e.setLocalDescription,a=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(l,c){const h=arguments.length>=2?arguments[2]:arguments[0],f=r.apply(this,[h]);return c?(f.then(l,c),Promise.resolve()):f},e.createAnswer=function(l,c){const h=arguments.length>=2?arguments[2]:arguments[0],f=n.apply(this,[h]);return c?(f.then(l,c),Promise.resolve()):f};let s=function(u,l,c){const h=i.apply(this,[u]);return c?(h.then(l,c),Promise.resolve()):h};e.setLocalDescription=s,s=function(u,l,c){const h=a.apply(this,[u]);return c?(h.then(l,c),Promise.resolve()):h},e.setRemoteDescription=s,s=function(u,l,c){const h=o.apply(this,[u]);return c?(h.then(l,c),Promise.resolve()):h},e.addIceCandidate=s}function _P(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const r=e.mediaDevices,n=r.getUserMedia.bind(r);e.mediaDevices.getUserMedia=i=>n(bP(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=function(n,i,a){e.mediaDevices.getUserMedia(n).then(i,a)}.bind(e))}function bP(t){return t&&t.video!==void 0?Object.assign({},t,{video:Zk(t.video)}):t}function xP(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(n,i){if(n&&n.iceServers){const a=[];for(let o=0;o<n.iceServers.length;o++){let s=n.iceServers[o];s.urls===void 0&&s.url?(W1("RTCIceServer.url","RTCIceServer.urls"),s=JSON.parse(JSON.stringify(s)),s.urls=s.url,delete s.url,a.push(s)):a.push(n.iceServers[o])}n.iceServers=a}return new e(n,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function SP(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function wP(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):n.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);const a=this.getTransceivers().find(o=>o.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):n.offerToReceiveVideo===!0&&!a&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function TP(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const dS=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:TP,shimCallbacksAPI:yP,shimConstraints:bP,shimCreateOfferLegacy:wP,shimGetUserMedia:_P,shimLocalStreamsAPI:gP,shimRTCIceServerUrls:xP,shimRemoteStreamsAPI:mP,shimTrackEventTransceiver:SP},Symbol.toStringTag,{value:"Module"}));var CP={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(r){return r.trim().split(`
`).map(n=>n.trim())},e.splitSections=function(r){return r.split(`
m=`).map((i,a)=>(a>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(r){const n=e.splitSections(r);return n&&n[0]},e.getMediaSections=function(r){const n=e.splitSections(r);return n.shift(),n},e.matchPrefix=function(r,n){return e.splitLines(r).filter(i=>i.indexOf(n)===0)},e.parseCandidate=function(r){let n;r.indexOf("a=candidate:")===0?n=r.substring(12).split(" "):n=r.substring(10).split(" ");const i={foundation:n[0],component:{1:"rtp",2:"rtcp"}[n[1]]||n[1],protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]};for(let a=8;a<n.length;a+=2)switch(n[a]){case"raddr":i.relatedAddress=n[a+1];break;case"rport":i.relatedPort=parseInt(n[a+1],10);break;case"tcptype":i.tcpType=n[a+1];break;case"ufrag":i.ufrag=n[a+1],i.usernameFragment=n[a+1];break;default:i[n[a]]===void 0&&(i[n[a]]=n[a+1]);break}return i},e.writeCandidate=function(r){const n=[];n.push(r.foundation);const i=r.component;i==="rtp"?n.push(1):i==="rtcp"?n.push(2):n.push(i),n.push(r.protocol.toUpperCase()),n.push(r.priority),n.push(r.address||r.ip),n.push(r.port);const a=r.type;return n.push("typ"),n.push(a),a!=="host"&&r.relatedAddress&&r.relatedPort&&(n.push("raddr"),n.push(r.relatedAddress),n.push("rport"),n.push(r.relatedPort)),r.tcpType&&r.protocol.toLowerCase()==="tcp"&&(n.push("tcptype"),n.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(n.push("ufrag"),n.push(r.usernameFragment||r.ufrag)),"candidate:"+n.join(" ")},e.parseIceOptions=function(r){return r.substring(14).split(" ")},e.parseRtpMap=function(r){let n=r.substring(9).split(" ");const i={payloadType:parseInt(n.shift(),10)};return n=n[0].split("/"),i.name=n[0],i.clockRate=parseInt(n[1],10),i.channels=n.length===3?parseInt(n[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(r){let n=r.payloadType;r.preferredPayloadType!==void 0&&(n=r.preferredPayloadType);const i=r.channels||r.numChannels||1;return"a=rtpmap:"+n+" "+r.name+"/"+r.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(r){const n=r.substring(9).split(" ");return{id:parseInt(n[0],10),direction:n[0].indexOf("/")>0?n[0].split("/")[1]:"sendrecv",uri:n[1],attributes:n.slice(2).join(" ")}},e.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&r.direction!=="sendrecv"?"/"+r.direction:"")+" "+r.uri+(r.attributes?" "+r.attributes:"")+`\r
`},e.parseFmtp=function(r){const n={};let i;const a=r.substring(r.indexOf(" ")+1).split(";");for(let o=0;o<a.length;o++)i=a[o].trim().split("="),n[i[0].trim()]=i[1];return n},e.writeFmtp=function(r){let n="",i=r.payloadType;if(r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){const a=[];Object.keys(r.parameters).forEach(o=>{r.parameters[o]!==void 0?a.push(o+"="+r.parameters[o]):a.push(o)}),n+="a=fmtp:"+i+" "+a.join(";")+`\r
`}return n},e.parseRtcpFb=function(r){const n=r.substring(r.indexOf(" ")+1).split(" ");return{type:n.shift(),parameter:n.join(" ")}},e.writeRtcpFb=function(r){let n="",i=r.payloadType;return r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(a=>{n+="a=rtcp-fb:"+i+" "+a.type+(a.parameter&&a.parameter.length?" "+a.parameter:"")+`\r
`}),n},e.parseSsrcMedia=function(r){const n=r.indexOf(" "),i={ssrc:parseInt(r.substring(7,n),10)},a=r.indexOf(":",n);return a>-1?(i.attribute=r.substring(n+1,a),i.value=r.substring(a+1)):i.attribute=r.substring(n+1),i},e.parseSsrcGroup=function(r){const n=r.substring(13).split(" ");return{semantics:n.shift(),ssrcs:n.map(i=>parseInt(i,10))}},e.getMid=function(r){const n=e.matchPrefix(r,"a=mid:")[0];if(n)return n.substring(6)},e.parseFingerprint=function(r){const n=r.substring(14).split(" ");return{algorithm:n[0].toLowerCase(),value:n[1].toUpperCase()}},e.getDtlsParameters=function(r,n){return{role:"auto",fingerprints:e.matchPrefix(r+n,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(r,n){let i="a=setup:"+n+`\r
`;return r.fingerprints.forEach(a=>{i+="a=fingerprint:"+a.algorithm+" "+a.value+`\r
`}),i},e.parseCryptoLine=function(r){const n=r.substring(9).split(" ");return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}},e.writeCryptoLine=function(r){return"a=crypto:"+r.tag+" "+r.cryptoSuite+" "+(typeof r.keyParams=="object"?e.writeCryptoKeyParams(r.keyParams):r.keyParams)+(r.sessionParams?" "+r.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(r){if(r.indexOf("inline:")!==0)return null;const n=r.substring(7).split("|");return{keyMethod:"inline",keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(":")[0]:void 0,mkiLength:n[2]?n[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(r){return r.keyMethod+":"+r.keySalt+(r.lifeTime?"|"+r.lifeTime:"")+(r.mkiValue&&r.mkiLength?"|"+r.mkiValue+":"+r.mkiLength:"")},e.getCryptoParameters=function(r,n){return e.matchPrefix(r+n,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(r,n){const i=e.matchPrefix(r+n,"a=ice-ufrag:")[0],a=e.matchPrefix(r+n,"a=ice-pwd:")[0];return i&&a?{usernameFragment:i.substring(12),password:a.substring(10)}:null},e.writeIceParameters=function(r){let n="a=ice-ufrag:"+r.usernameFragment+`\r
a=ice-pwd:`+r.password+`\r
`;return r.iceLite&&(n+=`a=ice-lite\r
`),n},e.parseRtpParameters=function(r){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},a=e.splitLines(r)[0].split(" ");n.profile=a[2];for(let s=3;s<a.length;s++){const u=a[s],l=e.matchPrefix(r,"a=rtpmap:"+u+" ")[0];if(l){const c=e.parseRtpMap(l),h=e.matchPrefix(r,"a=fmtp:"+u+" ");switch(c.parameters=h.length?e.parseFmtp(h[0]):{},c.rtcpFeedback=e.matchPrefix(r,"a=rtcp-fb:"+u+" ").map(e.parseRtcpFb),n.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(c.name.toUpperCase());break}}}e.matchPrefix(r,"a=extmap:").forEach(s=>{n.headerExtensions.push(e.parseExtmap(s))});const o=e.matchPrefix(r,"a=rtcp-fb:* ").map(e.parseRtcpFb);return n.codecs.forEach(s=>{o.forEach(u=>{s.rtcpFeedback.find(c=>c.type===u.type&&c.parameter===u.parameter)||s.rtcpFeedback.push(u)})}),n},e.writeRtpDescription=function(r,n){let i="";i+="m="+r+" ",i+=n.codecs.length>0?"9":"0",i+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=n.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,n.codecs.forEach(o=>{i+=e.writeRtpMap(o),i+=e.writeFmtp(o),i+=e.writeRtcpFb(o)});let a=0;return n.codecs.forEach(o=>{o.maxptime>a&&(a=o.maxptime)}),a>0&&(i+="a=maxptime:"+a+`\r
`),n.headerExtensions&&n.headerExtensions.forEach(o=>{i+=e.writeExtmap(o)}),i},e.parseRtpEncodingParameters=function(r){const n=[],i=e.parseRtpParameters(r),a=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,s=e.matchPrefix(r,"a=ssrc:").map(f=>e.parseSsrcMedia(f)).filter(f=>f.attribute==="cname"),u=s.length>0&&s[0].ssrc;let l;const c=e.matchPrefix(r,"a=ssrc-group:FID").map(f=>f.substring(17).split(" ").map(p=>parseInt(p,10)));c.length>0&&c[0].length>1&&c[0][0]===u&&(l=c[0][1]),i.codecs.forEach(f=>{if(f.name.toUpperCase()==="RTX"&&f.parameters.apt){let v={ssrc:u,codecPayloadType:parseInt(f.parameters.apt,10)};u&&l&&(v.rtx={ssrc:l}),n.push(v),a&&(v=JSON.parse(JSON.stringify(v)),v.fec={ssrc:u,mechanism:o?"red+ulpfec":"red"},n.push(v))}}),n.length===0&&u&&n.push({ssrc:u});let h=e.matchPrefix(r,"b=");return h.length&&(h[0].indexOf("b=TIAS:")===0?h=parseInt(h[0].substring(7),10):h[0].indexOf("b=AS:")===0?h=parseInt(h[0].substring(5),10)*1e3*.95-50*40*8:h=void 0,n.forEach(f=>{f.maxBitrate=h})),n},e.parseRtcpParameters=function(r){const n={},i=e.matchPrefix(r,"a=ssrc:").map(s=>e.parseSsrcMedia(s)).filter(s=>s.attribute==="cname")[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);const a=e.matchPrefix(r,"a=rtcp-rsize");n.reducedSize=a.length>0,n.compound=a.length===0;const o=e.matchPrefix(r,"a=rtcp-mux");return n.mux=o.length>0,n},e.writeRtcpParameters=function(r){let n="";return r.reducedSize&&(n+=`a=rtcp-rsize\r
`),r.mux&&(n+=`a=rtcp-mux\r
`),r.ssrc!==void 0&&r.cname&&(n+="a=ssrc:"+r.ssrc+" cname:"+r.cname+`\r
`),n},e.parseMsid=function(r){let n;const i=e.matchPrefix(r,"a=msid:");if(i.length===1)return n=i[0].substring(7).split(" "),{stream:n[0],track:n[1]};const a=e.matchPrefix(r,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(a.length>0)return n=a[0].value.split(" "),{stream:n[0],track:n[1]}},e.parseSctpDescription=function(r){const n=e.parseMLine(r),i=e.matchPrefix(r,"a=max-message-size:");let a;i.length>0&&(a=parseInt(i[0].substring(19),10)),isNaN(a)&&(a=65536);const o=e.matchPrefix(r,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:n.fmt,maxMessageSize:a};const s=e.matchPrefix(r,"a=sctpmap:");if(s.length>0){const u=s[0].substring(10).split(" ");return{port:parseInt(u[0],10),protocol:u[1],maxMessageSize:a}}},e.writeSctpDescription=function(r,n){let i=[];return r.protocol!=="DTLS/SCTP"?i=["m="+r.kind+" 9 "+r.protocol+" "+n.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+n.port+`\r
`]:i=["m="+r.kind+" 9 "+r.protocol+" "+n.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+n.port+" "+n.protocol+` 65535\r
`],n.maxMessageSize!==void 0&&i.push("a=max-message-size:"+n.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(r,n,i){let a;const o=n!==void 0?n:2;return r?a=r:a=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+a+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(r,n){const i=e.splitLines(r);for(let a=0;a<i.length;a++)switch(i[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[a].substring(2)}return n?e.getDirection(n):"sendrecv"},e.getKind=function(r){return e.splitLines(r)[0].split(" ")[0].substring(2)},e.isRejected=function(r){return r.split(" ",2)[1]==="0"},e.parseMLine=function(r){const i=e.splitLines(r)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(r){const i=e.matchPrefix(r,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(r){if(typeof r!="string"||r.length===0)return!1;const n=e.splitLines(r);for(let i=0;i<n.length;i++)if(n[i].length<2||n[i].charAt(1)!=="=")return!1;return!0},t.exports=e})(CP);var AP=CP.exports;const El=Ch(AP),nU=rA({__proto__:null,default:El},[AP]);function cv(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&(n=JSON.parse(JSON.stringify(n)),n.candidate=n.candidate.substring(2)),n.candidate&&n.candidate.length){const i=new e(n),a=El.parseCandidate(n.candidate);for(const o in a)o in i||Object.defineProperty(i,o,{value:a[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(n)},t.RTCIceCandidate.prototype=e.prototype,Tu(t,"icecandidate",r=>(r.candidate&&Object.defineProperty(r,"candidate",{value:new t.RTCIceCandidate(r.candidate),writable:"false"}),r))}function By(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||Tu(t,"icecandidate",e=>{if(e.candidate){const r=El.parseCandidate(e.candidate.candidate);r.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[r.priority>>24])}return e})}function fv(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const r=function(s){if(!s||!s.sdp)return!1;const u=El.splitSections(s.sdp);return u.shift(),u.some(l=>{const c=El.parseMLine(l);return c&&c.kind==="application"&&c.protocol.indexOf("SCTP")!==-1})},n=function(s){const u=s.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(u===null||u.length<2)return-1;const l=parseInt(u[1],10);return l!==l?-1:l},i=function(s){let u=65536;return e.browser==="firefox"&&(e.version<57?s===-1?u=16384:u=2147483637:e.version<60?u=e.version===57?65535:65536:u=2147483637),u},a=function(s,u){let l=65536;e.browser==="firefox"&&e.version===57&&(l=65535);const c=El.matchPrefix(s.sdp,"a=max-message-size:");return c.length>0?l=parseInt(c[0].substring(19),10):e.browser==="firefox"&&u!==-1&&(l=2147483637),l},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:u}=this.getConfiguration();u==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(r(arguments[0])){const u=n(arguments[0]),l=i(u),c=a(arguments[0],u);let h;l===0&&c===0?h=Number.POSITIVE_INFINITY:l===0||c===0?h=Math.max(l,c):h=Math.min(l,c);const f={};Object.defineProperty(f,"maxMessageSize",{get(){return h}}),this._sctp=f}return o.apply(this,arguments)}}function hv(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(n,i){const a=n.send;n.send=function(){const s=arguments[0],u=s.length||s.size||s.byteLength;if(n.readyState==="open"&&i.sctp&&u>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return a.apply(n,arguments)}}const r=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=r.apply(this,arguments);return e(i,this),i},Tu(t,"datachannel",n=>(e(n.channel,n.target),n))}function Ny(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(r){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),r&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=r)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(r=>{const n=e[r];e[r]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const a=i.target;if(a._lastConnectionState!==a.connectionState){a._lastConnectionState=a.connectionState;const o=new Event("connectionstatechange",i);a.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function Fy(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const r=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const a=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:a}):i.sdp=a}return r.apply(this,arguments)}}function dv(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const r=t.RTCPeerConnection.prototype.addIceCandidate;!r||r.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function vv(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const r=t.RTCPeerConnection.prototype.setLocalDescription;!r||r.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return r.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?r.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>r.apply(this,[o]))})}const iU=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Fy,shimAddIceCandidateNullOrEmpty:dv,shimConnectionState:Ny,shimMaxMessageSize:fv,shimParameterlessSetLocalDescription:vv,shimRTCIceCandidate:cv,shimRTCIceCandidateRelayProtocol:By,shimSendThrowTypeError:hv},Symbol.toStringTag,{value:"Module"}));function aU({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const r=qk,n=eU(t),i={browserDetails:n,commonShim:iU,extractVersion:lv,disableLog:Qz,disableWarnings:Jz,sdp:nU};switch(n.browser){case"chrome":if(!fS||!Oy||!e.shimChrome)return r("Chrome shim is not included in this adapter release."),i;if(n.version===null)return r("Chrome shim can not determine version, not shimming."),i;r("adapter.js shimming chrome."),i.browserShim=fS,dv(t,n),vv(t),Kk(t,n),Qk(t),Oy(t,n),Jk(t),iP(t,n),eP(t),tP(t),rP(t),aP(t,n),cv(t),By(t),Ny(t),fv(t,n),hv(t),Fy(t,n);break;case"firefox":if(!hS||!Iy||!e.shimFirefox)return r("Firefox shim is not included in this adapter release."),i;r("adapter.js shimming firefox."),i.browserShim=hS,dv(t,n),vv(t),oP(t,n),Iy(t,n),sP(t),cP(t),uP(t),lP(t),fP(t),hP(t),dP(t),vP(t),pP(t),cv(t),Ny(t),fv(t,n),hv(t);break;case"safari":if(!dS||!e.shimSafari)return r("Safari shim is not included in this adapter release."),i;r("adapter.js shimming safari."),i.browserShim=dS,dv(t,n),vv(t),xP(t),wP(t),yP(t),gP(t),mP(t),SP(t),_P(t),TP(t),cv(t),By(t),fv(t,n),hv(t),Fy(t,n);break;default:r("Unsupported browser!");break}return i}aU({window:typeof window>"u"?void 0:window});function oU(t){if(t&&!(typeof window>"u")){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}}function ml(t,e){var r=t.__state.conversionName.toString(),n=Math.round(t.r),i=Math.round(t.g),a=Math.round(t.b),o=t.a,s=Math.round(t.h),u=t.s.toFixed(1),l=t.v.toFixed(1);if(e||r==="THREE_CHAR_HEX"||r==="SIX_CHAR_HEX"){for(var c=t.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}else{if(r==="CSS_RGB")return"rgb("+n+","+i+","+a+")";if(r==="CSS_RGBA")return"rgba("+n+","+i+","+a+","+o+")";if(r==="HEX")return"0x"+t.hex.toString(16);if(r==="RGB_ARRAY")return"["+n+","+i+","+a+"]";if(r==="RGBA_ARRAY")return"["+n+","+i+","+a+","+o+"]";if(r==="RGB_OBJ")return"{r:"+n+",g:"+i+",b:"+a+"}";if(r==="RGBA_OBJ")return"{r:"+n+",g:"+i+",b:"+a+",a:"+o+"}";if(r==="HSV_OBJ")return"{h:"+s+",s:"+u+",v:"+l+"}";if(r==="HSVA_OBJ")return"{h:"+s+",s:"+u+",v:"+l+",a:"+o+"}"}return"unknown format"}var vS=Array.prototype.forEach,Bc=Array.prototype.slice,Ee={BREAK:{},extend:function(e){return this.each(Bc.call(arguments,1),function(r){var n=this.isObject(r)?Object.keys(r):[];n.forEach(function(i){this.isUndefined(r[i])||(e[i]=r[i])}.bind(this))},this),e},defaults:function(e){return this.each(Bc.call(arguments,1),function(r){var n=this.isObject(r)?Object.keys(r):[];n.forEach(function(i){this.isUndefined(e[i])&&(e[i]=r[i])}.bind(this))},this),e},compose:function(){var e=Bc.call(arguments);return function(){for(var r=Bc.call(arguments),n=e.length-1;n>=0;n--)r=[e[n].apply(this,r)];return r[0]}},each:function(e,r,n){if(e){if(vS&&e.forEach&&e.forEach===vS)e.forEach(r,n);else if(e.length===e.length+0){var i=void 0,a=void 0;for(i=0,a=e.length;i<a;i++)if(i in e&&r.call(n,e[i],i)===this.BREAK)return}else for(var o in e)if(r.call(n,e[o],o)===this.BREAK)return}},defer:function(e){setTimeout(e,0)},debounce:function(e,r,n){var i=void 0;return function(){var a=this,o=arguments;function s(){i=null,n||e.apply(a,o)}var u=n||!i;clearTimeout(i),i=setTimeout(s,r),u&&e.apply(a,o)}},toArray:function(e){return e.toArray?e.toArray():Bc.call(e)},isUndefined:function(e){return e===void 0},isNull:function(e){return e===null},isNaN:function(t){function e(r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return isNaN(t)}),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return e instanceof Function}},sU=[{litmus:Ee.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var r=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return r===null?!1:{space:"HEX",hex:parseInt("0x"+r[1].toString()+r[1].toString()+r[2].toString()+r[2].toString()+r[3].toString()+r[3].toString(),0)}},write:ml},SIX_CHAR_HEX:{read:function(e){var r=e.match(/^#([A-F0-9]{6})$/i);return r===null?!1:{space:"HEX",hex:parseInt("0x"+r[1].toString(),0)}},write:ml},CSS_RGB:{read:function(e){var r=e.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return r===null?!1:{space:"RGB",r:parseFloat(r[1]),g:parseFloat(r[2]),b:parseFloat(r[3])}},write:ml},CSS_RGBA:{read:function(e){var r=e.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return r===null?!1:{space:"RGB",r:parseFloat(r[1]),g:parseFloat(r[2]),b:parseFloat(r[3]),a:parseFloat(r[4])}},write:ml}}},{litmus:Ee.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:Ee.isArray,conversions:{RGB_ARRAY:{read:function(e){return e.length!==3?!1:{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return e.length!==4?!1:{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:Ee.isObject,conversions:{RGBA_OBJ:{read:function(e){return Ee.isNumber(e.r)&&Ee.isNumber(e.g)&&Ee.isNumber(e.b)&&Ee.isNumber(e.a)?{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return Ee.isNumber(e.r)&&Ee.isNumber(e.g)&&Ee.isNumber(e.b)?{space:"RGB",r:e.r,g:e.g,b:e.b}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return Ee.isNumber(e.h)&&Ee.isNumber(e.s)&&Ee.isNumber(e.v)&&Ee.isNumber(e.a)?{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return Ee.isNumber(e.h)&&Ee.isNumber(e.s)&&Ee.isNumber(e.v)?{space:"HSV",h:e.h,s:e.s,v:e.v}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],Nc=void 0,ud=void 0,$y=function(){ud=!1;var e=arguments.length>1?Ee.toArray(arguments):arguments[0];return Ee.each(sU,function(r){if(r.litmus(e))return Ee.each(r.conversions,function(n,i){if(Nc=n.read(e),ud===!1&&Nc!==!1)return ud=Nc,Nc.conversionName=i,Nc.conversion=n,Ee.BREAK}),Ee.BREAK}),ud},pS=void 0,$v={hsv_to_rgb:function(e,r,n){var i=Math.floor(e/60)%6,a=e/60-Math.floor(e/60),o=n*(1-r),s=n*(1-a*r),u=n*(1-(1-a)*r),l=[[n,u,o],[s,n,o],[o,n,u],[o,s,n],[u,o,n],[n,o,s]][i];return{r:l[0]*255,g:l[1]*255,b:l[2]*255}},rgb_to_hsv:function(e,r,n){var i=Math.min(e,r,n),a=Math.max(e,r,n),o=a-i,s=void 0,u=void 0;if(a!==0)u=o/a;else return{h:NaN,s:0,v:0};return e===a?s=(r-n)/o:r===a?s=2+(n-e)/o:s=4+(e-r)/o,s/=6,s<0&&(s+=1),{h:s*360,s:u,v:a/255}},rgb_to_hex:function(e,r,n){var i=this.hex_with_component(0,2,e);return i=this.hex_with_component(i,1,r),i=this.hex_with_component(i,0,n),i},component_from_hex:function(e,r){return e>>r*8&255},hex_with_component:function(e,r,n){return n<<(pS=r*8)|e&~(255<<pS)}},uU=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Vi=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),qo=function t(e,r,n){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(i===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,r,n)}else{if("value"in i)return i.value;var o=i.get;return o===void 0?void 0:o.call(n)}},as=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},os=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Gr=function(){function t(){if(Ui(this,t),this.__state=$y.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return Vi(t,[{key:"toString",value:function(){return ml(this)}},{key:"toHexString",value:function(){return ml(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function Y1(t,e,r){Object.defineProperty(t,e,{get:function(){return this.__state.space==="RGB"?this.__state[e]:(Gr.recalculateRGB(this,e,r),this.__state[e])},set:function(i){this.__state.space!=="RGB"&&(Gr.recalculateRGB(this,e,r),this.__state.space="RGB"),this.__state[e]=i}})}function X1(t,e){Object.defineProperty(t,e,{get:function(){return this.__state.space==="HSV"?this.__state[e]:(Gr.recalculateHSV(this),this.__state[e])},set:function(n){this.__state.space!=="HSV"&&(Gr.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=n}})}Gr.recalculateRGB=function(t,e,r){if(t.__state.space==="HEX")t.__state[e]=$v.component_from_hex(t.__state.hex,r);else if(t.__state.space==="HSV")Ee.extend(t.__state,$v.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v));else throw new Error("Corrupted color state")};Gr.recalculateHSV=function(t){var e=$v.rgb_to_hsv(t.r,t.g,t.b);Ee.extend(t.__state,{s:e.s,v:e.v}),Ee.isNaN(e.h)?Ee.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h};Gr.COMPONENTS=["r","g","b","h","s","v","hex","a"];Y1(Gr.prototype,"r",2);Y1(Gr.prototype,"g",1);Y1(Gr.prototype,"b",0);X1(Gr.prototype,"h");X1(Gr.prototype,"s");X1(Gr.prototype,"v");Object.defineProperty(Gr.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}});Object.defineProperty(Gr.prototype,"hex",{get:function(){return this.__state.space!=="HEX"&&(this.__state.hex=$v.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var Cu=function(){function t(e,r){Ui(this,t),this.initialValue=e[r],this.domElement=document.createElement("div"),this.object=e,this.property=r,this.__onChange=void 0,this.__onFinishChange=void 0}return Vi(t,[{key:"onChange",value:function(r){return this.__onChange=r,this}},{key:"onFinishChange",value:function(r){return this.__onFinishChange=r,this}},{key:"setValue",value:function(r){return this.object[this.property]=r,this.__onChange&&this.__onChange.call(this,r),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),lU={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},kP={};Ee.each(lU,function(t,e){Ee.each(t,function(r){kP[r]=e})});var cU=/(\d+(\.\d+)?)px/;function ia(t){if(t==="0"||Ee.isUndefined(t))return 0;var e=t.match(cU);return Ee.isNull(e)?0:parseFloat(e[1])}var _e={makeSelectable:function(e,r){e===void 0||e.style===void 0||(e.onselectstart=r?function(){return!1}:function(){},e.style.MozUserSelect=r?"auto":"none",e.style.KhtmlUserSelect=r?"auto":"none",e.unselectable=r?"on":"off")},makeFullscreen:function(e,r,n){var i=n,a=r;Ee.isUndefined(a)&&(a=!0),Ee.isUndefined(i)&&(i=!0),e.style.position="absolute",a&&(e.style.left=0,e.style.right=0),i&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,r,n,i){var a=n||{},o=kP[r];if(!o)throw new Error("Event type "+r+" not supported.");var s=document.createEvent(o);switch(o){case"MouseEvents":{var u=a.x||a.clientX||0,l=a.y||a.clientY||0;s.initMouseEvent(r,a.bubbles||!1,a.cancelable||!0,window,a.clickCount||1,0,0,u,l,!1,!1,!1,!1,0,null);break}case"KeyboardEvents":{var c=s.initKeyboardEvent||s.initKeyEvent;Ee.defaults(a,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(r,a.bubbles||!1,a.cancelable,window,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.keyCode,a.charCode);break}default:{s.initEvent(r,a.bubbles||!1,a.cancelable||!0);break}}Ee.defaults(s,i),e.dispatchEvent(s)},bind:function(e,r,n,i){var a=i||!1;return e.addEventListener?e.addEventListener(r,n,a):e.attachEvent&&e.attachEvent("on"+r,n),_e},unbind:function(e,r,n,i){var a=i||!1;return e.removeEventListener?e.removeEventListener(r,n,a):e.detachEvent&&e.detachEvent("on"+r,n),_e},addClass:function(e,r){if(e.className===void 0)e.className=r;else if(e.className!==r){var n=e.className.split(/ +/);n.indexOf(r)===-1&&(n.push(r),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return _e},removeClass:function(e,r){if(r)if(e.className===r)e.removeAttribute("class");else{var n=e.className.split(/ +/),i=n.indexOf(r);i!==-1&&(n.splice(i,1),e.className=n.join(" "))}else e.className=void 0;return _e},hasClass:function(e,r){return new RegExp("(?:^|\\s+)"+r+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var r=getComputedStyle(e);return ia(r["border-left-width"])+ia(r["border-right-width"])+ia(r["padding-left"])+ia(r["padding-right"])+ia(r.width)},getHeight:function(e){var r=getComputedStyle(e);return ia(r["border-top-width"])+ia(r["border-bottom-width"])+ia(r["padding-top"])+ia(r["padding-bottom"])+ia(r.height)},getOffset:function(e){var r=e,n={left:0,top:0};if(r.offsetParent)do n.left+=r.offsetLeft,n.top+=r.offsetTop,r=r.offsetParent;while(r);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},PP=function(t){as(e,t);function e(r,n){Ui(this,e);var i=os(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n)),a=i;i.__prev=i.getValue(),i.__checkbox=document.createElement("input"),i.__checkbox.setAttribute("type","checkbox");function o(){a.setValue(!a.__prev)}return _e.bind(i.__checkbox,"change",o,!1),i.domElement.appendChild(i.__checkbox),i.updateDisplay(),i}return Vi(e,[{key:"setValue",value:function(n){var i=qo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),i}},{key:"updateDisplay",value:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),qo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Cu),fU=function(t){as(e,t);function e(r,n,i){Ui(this,e);var a=os(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n)),o=i,s=a;if(a.__select=document.createElement("select"),Ee.isArray(o)){var u={};Ee.each(o,function(l){u[l]=l}),o=u}return Ee.each(o,function(l,c){var h=document.createElement("option");h.innerHTML=c,h.setAttribute("value",l),s.__select.appendChild(h)}),a.updateDisplay(),_e.bind(a.__select,"change",function(){var l=this.options[this.selectedIndex].value;s.setValue(l)}),a.domElement.appendChild(a.__select),a}return Vi(e,[{key:"setValue",value:function(n){var i=qo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),i}},{key:"updateDisplay",value:function(){return _e.isActive(this.__select)?this:(this.__select.value=this.getValue(),qo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(Cu),hU=function(t){as(e,t);function e(r,n){Ui(this,e);var i=os(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n)),a=i;function o(){a.setValue(a.__input.value)}function s(){a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),_e.bind(i.__input,"keyup",o),_e.bind(i.__input,"change",o),_e.bind(i.__input,"blur",s),_e.bind(i.__input,"keydown",function(u){u.keyCode===13&&this.blur()}),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return Vi(e,[{key:"updateDisplay",value:function(){return _e.isActive(this.__input)||(this.__input.value=this.getValue()),qo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Cu);function gS(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var EP=function(t){as(e,t);function e(r,n,i){Ui(this,e);var a=os(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n)),o=i||{};return a.__min=o.min,a.__max=o.max,a.__step=o.step,Ee.isUndefined(a.__step)?a.initialValue===0?a.__impliedStep=1:a.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(a.initialValue))/Math.LN10))/10:a.__impliedStep=a.__step,a.__precision=gS(a.__impliedStep),a}return Vi(e,[{key:"setValue",value:function(n){var i=n;return this.__min!==void 0&&i<this.__min?i=this.__min:this.__max!==void 0&&i>this.__max&&(i=this.__max),this.__step!==void 0&&i%this.__step!==0&&(i=Math.round(i/this.__step)*this.__step),qo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,i)}},{key:"min",value:function(n){return this.__min=n,this}},{key:"max",value:function(n){return this.__max=n,this}},{key:"step",value:function(n){return this.__step=n,this.__impliedStep=n,this.__precision=gS(n),this}}]),e}(Cu);function dU(t,e){var r=Math.pow(10,e);return Math.round(t*r)/r}var Hv=function(t){as(e,t);function e(r,n,i){Ui(this,e);var a=os(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n,i));a.__truncationSuspended=!1;var o=a,s=void 0;function u(){var p=parseFloat(o.__input.value);Ee.isNaN(p)||o.setValue(p)}function l(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function c(){l()}function h(p){var g=s-p.clientY;o.setValue(o.getValue()+g*o.__impliedStep),s=p.clientY}function f(){_e.unbind(window,"mousemove",h),_e.unbind(window,"mouseup",f),l()}function v(p){_e.bind(window,"mousemove",h),_e.bind(window,"mouseup",f),s=p.clientY}return a.__input=document.createElement("input"),a.__input.setAttribute("type","text"),_e.bind(a.__input,"change",u),_e.bind(a.__input,"blur",c),_e.bind(a.__input,"mousedown",v),_e.bind(a.__input,"keydown",function(p){p.keyCode===13&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,l())}),a.updateDisplay(),a.domElement.appendChild(a.__input),a}return Vi(e,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():dU(this.getValue(),this.__precision),qo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(EP);function mS(t,e,r,n,i){return n+(i-n)*((t-e)/(r-e))}var Hy=function(t){as(e,t);function e(r,n,i,a,o){Ui(this,e);var s=os(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n,{min:i,max:a,step:o})),u=s;s.__background=document.createElement("div"),s.__foreground=document.createElement("div"),_e.bind(s.__background,"mousedown",l),_e.bind(s.__background,"touchstart",f),_e.addClass(s.__background,"slider"),_e.addClass(s.__foreground,"slider-fg");function l(g){document.activeElement.blur(),_e.bind(window,"mousemove",c),_e.bind(window,"mouseup",h),c(g)}function c(g){g.preventDefault();var m=u.__background.getBoundingClientRect();return u.setValue(mS(g.clientX,m.left,m.right,u.__min,u.__max)),!1}function h(){_e.unbind(window,"mousemove",c),_e.unbind(window,"mouseup",h),u.__onFinishChange&&u.__onFinishChange.call(u,u.getValue())}function f(g){g.touches.length===1&&(_e.bind(window,"touchmove",v),_e.bind(window,"touchend",p),v(g))}function v(g){var m=g.touches[0].clientX,_=u.__background.getBoundingClientRect();u.setValue(mS(m,_.left,_.right,u.__min,u.__max))}function p(){_e.unbind(window,"touchmove",v),_e.unbind(window,"touchend",p),u.__onFinishChange&&u.__onFinishChange.call(u,u.getValue())}return s.updateDisplay(),s.__background.appendChild(s.__foreground),s.domElement.appendChild(s.__background),s}return Vi(e,[{key:"updateDisplay",value:function(){var n=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=n*100+"%",qo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(EP),MP=function(t){as(e,t);function e(r,n,i){Ui(this,e);var a=os(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n)),o=a;return a.__button=document.createElement("div"),a.__button.innerHTML=i===void 0?"Fire":i,_e.bind(a.__button,"click",function(s){return s.preventDefault(),o.fire(),!1}),_e.addClass(a.__button,"button"),a.domElement.appendChild(a.__button),a}return Vi(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(Cu),zy=function(t){as(e,t);function e(r,n){Ui(this,e);var i=os(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));i.__color=new Gr(i.getValue()),i.__temp=new Gr(0);var a=i;i.domElement=document.createElement("div"),_e.makeSelectable(i.domElement,!1),i.__selector=document.createElement("div"),i.__selector.className="selector",i.__saturation_field=document.createElement("div"),i.__saturation_field.className="saturation-field",i.__field_knob=document.createElement("div"),i.__field_knob.className="field-knob",i.__field_knob_border="2px solid ",i.__hue_knob=document.createElement("div"),i.__hue_knob.className="hue-knob",i.__hue_field=document.createElement("div"),i.__hue_field.className="hue-field",i.__input=document.createElement("input"),i.__input.type="text",i.__input_textShadow="0 1px 1px ",_e.bind(i.__input,"keydown",function(g){g.keyCode===13&&h.call(this)}),_e.bind(i.__input,"blur",h),_e.bind(i.__selector,"mousedown",function(){_e.addClass(this,"drag").bind(window,"mouseup",function(){_e.removeClass(a.__selector,"drag")})}),_e.bind(i.__selector,"touchstart",function(){_e.addClass(this,"drag").bind(window,"touchend",function(){_e.removeClass(a.__selector,"drag")})});var o=document.createElement("div");Ee.extend(i.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),Ee.extend(i.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:i.__field_knob_border+(i.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),Ee.extend(i.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),Ee.extend(i.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),Ee.extend(o.style,{width:"100%",height:"100%",background:"none"}),yS(o,"top","rgba(0,0,0,0)","#000"),Ee.extend(i.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),pU(i.__hue_field),Ee.extend(i.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:i.__input_textShadow+"rgba(0,0,0,0.7)"}),_e.bind(i.__saturation_field,"mousedown",s),_e.bind(i.__saturation_field,"touchstart",s),_e.bind(i.__field_knob,"mousedown",s),_e.bind(i.__field_knob,"touchstart",s),_e.bind(i.__hue_field,"mousedown",u),_e.bind(i.__hue_field,"touchstart",u);function s(g){v(g),_e.bind(window,"mousemove",v),_e.bind(window,"touchmove",v),_e.bind(window,"mouseup",l),_e.bind(window,"touchend",l)}function u(g){p(g),_e.bind(window,"mousemove",p),_e.bind(window,"touchmove",p),_e.bind(window,"mouseup",c),_e.bind(window,"touchend",c)}function l(){_e.unbind(window,"mousemove",v),_e.unbind(window,"touchmove",v),_e.unbind(window,"mouseup",l),_e.unbind(window,"touchend",l),f()}function c(){_e.unbind(window,"mousemove",p),_e.unbind(window,"touchmove",p),_e.unbind(window,"mouseup",c),_e.unbind(window,"touchend",c),f()}function h(){var g=$y(this.value);g!==!1?(a.__color.__state=g,a.setValue(a.__color.toOriginal())):this.value=a.__color.toString()}function f(){a.__onFinishChange&&a.__onFinishChange.call(a,a.__color.toOriginal())}i.__saturation_field.appendChild(o),i.__selector.appendChild(i.__field_knob),i.__selector.appendChild(i.__saturation_field),i.__selector.appendChild(i.__hue_field),i.__hue_field.appendChild(i.__hue_knob),i.domElement.appendChild(i.__input),i.domElement.appendChild(i.__selector),i.updateDisplay();function v(g){g.type.indexOf("touch")===-1&&g.preventDefault();var m=a.__saturation_field.getBoundingClientRect(),_=g.touches&&g.touches[0]||g,b=_.clientX,w=_.clientY,T=(b-m.left)/(m.right-m.left),k=1-(w-m.top)/(m.bottom-m.top);return k>1?k=1:k<0&&(k=0),T>1?T=1:T<0&&(T=0),a.__color.v=k,a.__color.s=T,a.setValue(a.__color.toOriginal()),!1}function p(g){g.type.indexOf("touch")===-1&&g.preventDefault();var m=a.__hue_field.getBoundingClientRect(),_=g.touches&&g.touches[0]||g,b=_.clientY,w=1-(b-m.top)/(m.bottom-m.top);return w>1?w=1:w<0&&(w=0),a.__color.h=w*360,a.setValue(a.__color.toOriginal()),!1}return i}return Vi(e,[{key:"updateDisplay",value:function(){var n=$y(this.getValue());if(n!==!1){var i=!1;Ee.each(Gr.COMPONENTS,function(s){if(!Ee.isUndefined(n[s])&&!Ee.isUndefined(this.__color.__state[s])&&n[s]!==this.__color.__state[s])return i=!0,{}},this),i&&Ee.extend(this.__color.__state,n)}Ee.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var a=this.__color.v<.5||this.__color.s>.5?255:0,o=255-a;Ee.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+a+","+a+","+a+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,yS(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),Ee.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+a+","+a+","+a+")",textShadow:this.__input_textShadow+"rgba("+o+","+o+","+o+",.7)"})}}]),e}(Cu),vU=["-moz-","-o-","-webkit-","-ms-",""];function yS(t,e,r,n){t.style.background="",Ee.each(vU,function(i){t.style.cssText+="background: "+i+"linear-gradient("+e+", "+r+" 0%, "+n+" 100%); "})}function pU(t){t.style.background="",t.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",t.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var gU={load:function(e,r){var n=r||document,i=n.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=e,n.getElementsByTagName("head")[0].appendChild(i)},inject:function(e,r){var n=r||document,i=document.createElement("style");i.type="text/css",i.innerHTML=e;var a=n.getElementsByTagName("head")[0];try{a.appendChild(i)}catch{}}},mU=`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.

    </div>

  </div>

</div>`,yU=function(e,r){var n=e[r];return Ee.isArray(arguments[2])||Ee.isObject(arguments[2])?new fU(e,r,arguments[2]):Ee.isNumber(n)?Ee.isNumber(arguments[2])&&Ee.isNumber(arguments[3])?Ee.isNumber(arguments[4])?new Hy(e,r,arguments[2],arguments[3],arguments[4]):new Hy(e,r,arguments[2],arguments[3]):Ee.isNumber(arguments[4])?new Hv(e,r,{min:arguments[2],max:arguments[3],step:arguments[4]}):new Hv(e,r,{min:arguments[2],max:arguments[3]}):Ee.isString(n)?new hU(e,r):Ee.isFunction(n)?new MP(e,r,""):Ee.isBoolean(n)?new PP(e,r):null};function _U(t){setTimeout(t,1e3/60)}var bU=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||_U,xU=function(){function t(){Ui(this,t),this.backgroundElement=document.createElement("div"),Ee.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),_e.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),Ee.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;_e.bind(this.backgroundElement,"click",function(){e.hide()})}return Vi(t,[{key:"show",value:function(){var r=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),Ee.defer(function(){r.backgroundElement.style.opacity=1,r.domElement.style.opacity=1,r.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var r=this,n=function i(){r.domElement.style.display="none",r.backgroundElement.style.display="none",_e.unbind(r.domElement,"webkitTransitionEnd",i),_e.unbind(r.domElement,"transitionend",i),_e.unbind(r.domElement,"oTransitionEnd",i)};_e.bind(this.domElement,"webkitTransitionEnd",n),_e.bind(this.domElement,"transitionend",n),_e.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-_e.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-_e.getHeight(this.domElement)/2+"px"}}]),t}(),SU=oU(`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`);gU.inject(SU);var _S="dg",bS=72,xS=20,eh="Default",cf=function(){try{return!!window.localStorage}catch{return!1}}(),Af=void 0,SS=!0,hl=void 0,zg=!1,DP=[],ur=function t(e){var r=this,n=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),_e.addClass(this.domElement,_S),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],n=Ee.defaults(n,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),n=Ee.defaults(n,{resizable:n.autoPlace,hideable:n.autoPlace}),Ee.isUndefined(n.load)?n.load={preset:eh}:n.preset&&(n.load.preset=n.preset),Ee.isUndefined(n.parent)&&n.hideable&&DP.push(this),n.resizable=Ee.isUndefined(n.parent)&&n.resizable,n.autoPlace&&Ee.isUndefined(n.scrollable)&&(n.scrollable=!0);var i=cf&&localStorage.getItem(dl(this,"isLocal"))==="true",a=void 0,o=void 0;if(Object.defineProperties(this,{parent:{get:function(){return n.parent}},scrollable:{get:function(){return n.scrollable}},autoPlace:{get:function(){return n.autoPlace}},closeOnTop:{get:function(){return n.closeOnTop}},preset:{get:function(){return r.parent?r.getRoot().preset:n.load.preset},set:function(f){r.parent?r.getRoot().preset=f:n.load.preset=f,AU(this),r.revert()}},width:{get:function(){return n.width},set:function(f){n.width=f,Gy(r,f)}},name:{get:function(){return n.name},set:function(f){n.name=f,o&&(o.innerHTML=n.name)}},closed:{get:function(){return n.closed},set:function(f){n.closed=f,n.closed?_e.addClass(r.__ul,t.CLASS_CLOSED):_e.removeClass(r.__ul,t.CLASS_CLOSED),this.onResize(),r.__closeButton&&(r.__closeButton.innerHTML=f?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return n.load}},useLocalStorage:{get:function(){return i},set:function(f){cf&&(i=f,f?_e.bind(window,"unload",a):_e.unbind(window,"unload",a),localStorage.setItem(dl(r,"isLocal"),f))}}}),Ee.isUndefined(n.parent)){if(this.closed=n.closed||!1,_e.addClass(this.domElement,t.CLASS_MAIN),_e.makeSelectable(this.domElement,!1),cf&&i){r.useLocalStorage=!0;var s=localStorage.getItem(dl(this,"gui"));s&&(n.load=JSON.parse(s))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,_e.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),n.closeOnTop?(_e.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(_e.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),_e.bind(this.__closeButton,"click",function(){r.closed=!r.closed})}else{n.closed===void 0&&(n.closed=!0);var u=document.createTextNode(n.name);_e.addClass(u,"controller-name"),o=q1(r,u);var l=function(f){return f.preventDefault(),r.closed=!r.closed,!1};_e.addClass(this.__ul,t.CLASS_CLOSED),_e.addClass(o,"title"),_e.bind(o,"click",l),n.closed||(this.closed=!1)}n.autoPlace&&(Ee.isUndefined(n.parent)&&(SS&&(hl=document.createElement("div"),_e.addClass(hl,_S),_e.addClass(hl,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(hl),SS=!1),hl.appendChild(this.domElement),_e.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||Gy(r,n.width)),this.__resizeHandler=function(){r.onResizeDebounced()},_e.bind(window,"resize",this.__resizeHandler),_e.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),_e.bind(this.__ul,"transitionend",this.__resizeHandler),_e.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),n.resizable&&CU(this),a=function(){cf&&localStorage.getItem(dl(r,"isLocal"))==="true"&&localStorage.setItem(dl(r,"gui"),JSON.stringify(r.getSaveObject()))},this.saveToLocalStorageIfPossible=a;function c(){var h=r.getRoot();h.width+=1,Ee.defer(function(){h.width-=1})}n.parent||c()};ur.toggleHide=function(){zg=!zg,Ee.each(DP,function(t){t.domElement.style.display=zg?"none":""})};ur.CLASS_AUTO_PLACE="a";ur.CLASS_AUTO_PLACE_CONTAINER="ac";ur.CLASS_MAIN="main";ur.CLASS_CONTROLLER_ROW="cr";ur.CLASS_TOO_TALL="taller-than-window";ur.CLASS_CLOSED="closed";ur.CLASS_CLOSE_BUTTON="close-button";ur.CLASS_CLOSE_TOP="close-top";ur.CLASS_CLOSE_BOTTOM="close-bottom";ur.CLASS_DRAG="drag";ur.DEFAULT_WIDTH=245;ur.TEXT_CLOSED="Close Controls";ur.TEXT_OPEN="Open Controls";ur._keydownHandler=function(t){document.activeElement.type!=="text"&&(t.which===bS||t.keyCode===bS)&&ur.toggleHide()};_e.bind(window,"keydown",ur._keydownHandler,!1);Ee.extend(ur.prototype,{add:function(e,r){return kf(this,e,r,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,r){return kf(this,e,r,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var r=this;Ee.defer(function(){r.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&hl.removeChild(this.domElement);var e=this;Ee.each(this.__folders,function(r){e.removeFolder(r)}),_e.unbind(window,"keydown",ur._keydownHandler,!1),wS(this)},addFolder:function(e){if(this.__folders[e]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+e+'"');var r={name:e,parent:this};r.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(r.closed=this.load.folders[e].closed,r.load=this.load.folders[e]);var n=new ur(r);this.__folders[e]=n;var i=q1(this,n.domElement);return _e.addClass(i,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],wS(e);var r=this;Ee.each(e.__folders,function(n){e.removeFolder(n)}),Ee.defer(function(){r.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var r=_e.getOffset(e.__ul).top,n=0;Ee.each(e.__ul.childNodes,function(i){e.autoPlace&&i===e.__save_row||(n+=_e.getHeight(i))}),window.innerHeight-r-xS<n?(_e.addClass(e.domElement,ur.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-r-xS+"px"):(_e.removeClass(e.domElement,ur.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&Ee.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:Ee.debounce(function(){this.onResize()},50),remember:function(){if(Ee.isUndefined(Af)&&(Af=new xU,Af.domElement.innerHTML=mU),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;Ee.each(Array.prototype.slice.call(arguments),function(r){e.__rememberedObjects.length===0&&TU(e),e.__rememberedObjects.indexOf(r)===-1&&e.__rememberedObjects.push(r)}),this.autoPlace&&Gy(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=ld(this)),e.folders={},Ee.each(this.__folders,function(r,n){e.folders[n]=r.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=ld(this),Uy(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[eh]=ld(this,!0)),this.load.remembered[e]=ld(this),this.preset=e,Vy(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){Ee.each(this.__controllers,function(r){this.getRoot().load.remembered?LP(e||this.getRoot(),r):r.setValue(r.initialValue),r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())},this),Ee.each(this.__folders,function(r){r.revert(r)}),e||Uy(this.getRoot(),!1)},listen:function(e){var r=this.__listening.length===0;this.__listening.push(e),r&&RP(this.__listening)},updateDisplay:function(){Ee.each(this.__controllers,function(e){e.updateDisplay()}),Ee.each(this.__folders,function(e){e.updateDisplay()})}});function q1(t,e,r){var n=document.createElement("li");return e&&n.appendChild(e),r?t.__ul.insertBefore(n,r):t.__ul.appendChild(n),t.onResize(),n}function wS(t){_e.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&_e.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function Uy(t,e){var r=t.__preset_select[t.__preset_select.selectedIndex];e?r.innerHTML=r.value+"*":r.innerHTML=r.value}function wU(t,e,r){if(r.__li=e,r.__gui=t,Ee.extend(r,{options:function(o){if(arguments.length>1){var s=r.__li.nextElementSibling;return r.remove(),kf(t,r.object,r.property,{before:s,factoryArgs:[Ee.toArray(arguments)]})}if(Ee.isArray(o)||Ee.isObject(o)){var u=r.__li.nextElementSibling;return r.remove(),kf(t,r.object,r.property,{before:u,factoryArgs:[o]})}},name:function(o){return r.__li.firstElementChild.firstElementChild.innerHTML=o,r},listen:function(){return r.__gui.listen(r),r},remove:function(){return r.__gui.remove(r),r}}),r instanceof Hy){var n=new Hv(r.object,r.property,{min:r.__min,max:r.__max,step:r.__step});Ee.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(a){var o=r[a],s=n[a];r[a]=n[a]=function(){var u=Array.prototype.slice.call(arguments);return s.apply(n,u),o.apply(r,u)}}),_e.addClass(e,"has-slider"),r.domElement.insertBefore(n.domElement,r.domElement.firstElementChild)}else if(r instanceof Hv){var i=function(o){if(Ee.isNumber(r.__min)&&Ee.isNumber(r.__max)){var s=r.__li.firstElementChild.firstElementChild.innerHTML,u=r.__gui.__listening.indexOf(r)>-1;r.remove();var l=kf(t,r.object,r.property,{before:r.__li.nextElementSibling,factoryArgs:[r.__min,r.__max,r.__step]});return l.name(s),u&&l.listen(),l}return o};r.min=Ee.compose(i,r.min),r.max=Ee.compose(i,r.max)}else r instanceof PP?(_e.bind(e,"click",function(){_e.fakeEvent(r.__checkbox,"click")}),_e.bind(r.__checkbox,"click",function(a){a.stopPropagation()})):r instanceof MP?(_e.bind(e,"click",function(){_e.fakeEvent(r.__button,"click")}),_e.bind(e,"mouseover",function(){_e.addClass(r.__button,"hover")}),_e.bind(e,"mouseout",function(){_e.removeClass(r.__button,"hover")})):r instanceof zy&&(_e.addClass(e,"color"),r.updateDisplay=Ee.compose(function(a){return e.style.borderLeftColor=r.__color.toString(),a},r.updateDisplay),r.updateDisplay());r.setValue=Ee.compose(function(a){return t.getRoot().__preset_select&&r.isModified()&&Uy(t.getRoot(),!0),a},r.setValue)}function LP(t,e){var r=t.getRoot(),n=r.__rememberedObjects.indexOf(e.object);if(n!==-1){var i=r.__rememberedObjectIndecesToControllers[n];if(i===void 0&&(i={},r.__rememberedObjectIndecesToControllers[n]=i),i[e.property]=e,r.load&&r.load.remembered){var a=r.load.remembered,o=void 0;if(a[t.preset])o=a[t.preset];else if(a[eh])o=a[eh];else return;if(o[n]&&o[n][e.property]!==void 0){var s=o[n][e.property];e.initialValue=s,e.setValue(s)}}}}function kf(t,e,r,n){if(e[r]===void 0)throw new Error('Object "'+e+'" has no property "'+r+'"');var i=void 0;if(n.color)i=new zy(e,r);else{var a=[e,r].concat(n.factoryArgs);i=yU.apply(t,a)}n.before instanceof Cu&&(n.before=n.before.__li),LP(t,i),_e.addClass(i.domElement,"c");var o=document.createElement("span");_e.addClass(o,"property-name"),o.innerHTML=i.property;var s=document.createElement("div");s.appendChild(o),s.appendChild(i.domElement);var u=q1(t,s,n.before);return _e.addClass(u,ur.CLASS_CONTROLLER_ROW),i instanceof zy?_e.addClass(u,"color"):_e.addClass(u,uU(i.getValue())),wU(t,u,i),t.__controllers.push(i),i}function dl(t,e){return document.location.href+"."+e}function Vy(t,e,r){var n=document.createElement("option");n.innerHTML=e,n.value=e,t.__preset_select.appendChild(n),r&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function TS(t,e){e.style.display=t.useLocalStorage?"block":"none"}function TU(t){var e=t.__save_row=document.createElement("li");_e.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),_e.addClass(e,"save-row");var r=document.createElement("span");r.innerHTML="&nbsp;",_e.addClass(r,"button gears");var n=document.createElement("span");n.innerHTML="Save",_e.addClass(n,"button"),_e.addClass(n,"save");var i=document.createElement("span");i.innerHTML="New",_e.addClass(i,"button"),_e.addClass(i,"save-as");var a=document.createElement("span");a.innerHTML="Revert",_e.addClass(a,"button"),_e.addClass(a,"revert");var o=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?Ee.each(t.load.remembered,function(h,f){Vy(t,f,f===t.preset)}):Vy(t,eh,!1),_e.bind(o,"change",function(){for(var h=0;h<t.__preset_select.length;h++)t.__preset_select[h].innerHTML=t.__preset_select[h].value;t.preset=this.value}),e.appendChild(o),e.appendChild(r),e.appendChild(n),e.appendChild(i),e.appendChild(a),cf){var s=document.getElementById("dg-local-explain"),u=document.getElementById("dg-local-storage"),l=document.getElementById("dg-save-locally");l.style.display="block",localStorage.getItem(dl(t,"isLocal"))==="true"&&u.setAttribute("checked","checked"),TS(t,s),_e.bind(u,"change",function(){t.useLocalStorage=!t.useLocalStorage,TS(t,s)})}var c=document.getElementById("dg-new-constructor");_e.bind(c,"keydown",function(h){h.metaKey&&(h.which===67||h.keyCode===67)&&Af.hide()}),_e.bind(r,"click",function(){c.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),Af.show(),c.focus(),c.select()}),_e.bind(n,"click",function(){t.save()}),_e.bind(i,"click",function(){var h=prompt("Enter a new preset name.");h&&t.saveAs(h)}),_e.bind(a,"click",function(){t.revert()})}function CU(t){var e=void 0;t.__resize_handle=document.createElement("div"),Ee.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});function r(a){return a.preventDefault(),t.width+=e-a.clientX,t.onResize(),e=a.clientX,!1}function n(){_e.removeClass(t.__closeButton,ur.CLASS_DRAG),_e.unbind(window,"mousemove",r),_e.unbind(window,"mouseup",n)}function i(a){return a.preventDefault(),e=a.clientX,_e.addClass(t.__closeButton,ur.CLASS_DRAG),_e.bind(window,"mousemove",r),_e.bind(window,"mouseup",n),!1}_e.bind(t.__resize_handle,"mousedown",i),_e.bind(t.__closeButton,"mousedown",i),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function Gy(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function ld(t,e){var r={};return Ee.each(t.__rememberedObjects,function(n,i){var a={},o=t.__rememberedObjectIndecesToControllers[i];Ee.each(o,function(s,u){a[u]=e?s.initialValue:s.getValue()}),r[i]=a}),r}function AU(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}function RP(t){t.length!==0&&bU.call(window,function(){RP(t)}),Ee.each(t,function(e){e.updateDisplay()})}var Uie=ur;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jy=function(t,e){return jy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},jy(t,e)};function De(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var kU=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),PU=function(){function t(){this.browser=new kU,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t}(),Ys=new PU;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Ys.wxa=!0,Ys.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Ys.worker=!0:typeof navigator>"u"?(Ys.node=!0,Ys.svgSupported=!0):EU(navigator.userAgent,Ys);function EU(t,e){var r=e.browser,n=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),a=t.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(t);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),a&&(r.edge=!0,r.version=a[1],r.newEdge=+a[1].split(".")[0]>18),o&&(r.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,e.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(r.ie&&"transition"in s||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||r.ie&&+r.version>=9}const Tt=Ys;var Z1=12,MU="sans-serif",du=Z1+"px "+MU,DU=20,LU=100,RU="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function OU(t){var e={};if(typeof JSON>"u")return e;for(var r=0;r<t.length;r++){var n=String.fromCharCode(r+32),i=(t.charCodeAt(r)-DU)/LU;e[n]=i}return e}var IU=OU(RU),fc={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var t,e;return function(r,n){if(!t){var i=fc.createCanvas();t=i&&i.getContext("2d")}if(t)return e!==n&&(e=t.font=n||du),t.measureText(r);r=r||"",n=n||du;var a=/(\d+)px/.exec(n),o=a&&+a[1]||Z1,s=0;if(n.indexOf("mono")>=0)s=o*r.length;else for(var u=0;u<r.length;u++){var l=IU[r[u]];s+=l==null?o:l*o}return{width:s}}}(),loadImage:function(t,e,r){var n=new Image;return n.onload=e,n.onerror=r,n.src=t,n}},OP=Zo(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),IP=Zo(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),hc=Object.prototype.toString,Op=Array.prototype,BU=Op.forEach,NU=Op.filter,K1=Op.slice,FU=Op.map,CS=function(){}.constructor,cd=CS?CS.prototype:null,Q1="__proto__",$U=2311;function BP(){return $U++}function J1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console<"u"&&console.error.apply(console,t)}function _t(t){if(t==null||typeof t!="object")return t;var e=t,r=hc.call(t);if(r==="[object Array]"){if(!Ef(t)){e=[];for(var n=0,i=t.length;n<i;n++)e[n]=_t(t[n])}}else if(IP[r]){if(!Ef(t)){var a=t.constructor;if(a.from)e=a.from(t);else{e=new a(t.length);for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}}}else if(!OP[r]&&!Ef(t)&&!th(t)){e={};for(var o in t)t.hasOwnProperty(o)&&o!==Q1&&(e[o]=_t(t[o]))}return e}function Ct(t,e,r){if(!it(e)||!it(t))return r?_t(e):t;for(var n in e)if(e.hasOwnProperty(n)&&n!==Q1){var i=t[n],a=e[n];it(a)&&it(i)&&!Ye(a)&&!Ye(i)&&!th(a)&&!th(i)&&!AS(a)&&!AS(i)&&!Ef(a)&&!Ef(i)?Ct(i,a,r):(r||!(n in t))&&(t[n]=_t(e[n]))}return t}function Oe(t,e){if(Object.assign)Object.assign(t,e);else for(var r in e)e.hasOwnProperty(r)&&r!==Q1&&(t[r]=e[r]);return t}function ct(t,e,r){for(var n=lr(e),i=0;i<n.length;i++){var a=n[i];(r?e[a]!=null:t[a]==null)&&(t[a]=e[a])}return t}function Lt(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r}return-1}function HU(t,e){var r=t.prototype;function n(){}n.prototype=e.prototype,t.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(t.prototype[i]=r[i]);t.prototype.constructor=t,t.superClass=e}function Gi(t,e,r){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&(r?e[a]!=null:t[a]==null)&&(t[a]=e[a])}else ct(t,e,r)}function Sn(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function K(t,e,r){if(t&&e)if(t.forEach&&t.forEach===BU)t.forEach(e,r);else if(t.length===+t.length)for(var n=0,i=t.length;n<i;n++)e.call(r,t[n],n,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(r,t[a],a,t)}function qe(t,e,r){if(!t)return[];if(!e)return e_(t);if(t.map&&t.map===FU)return t.map(e,r);for(var n=[],i=0,a=t.length;i<a;i++)n.push(e.call(r,t[i],i,t));return n}function Zo(t,e,r,n){if(t&&e){for(var i=0,a=t.length;i<a;i++)r=e.call(n,r,t[i],i,t);return r}}function br(t,e,r){if(!t)return[];if(!e)return e_(t);if(t.filter&&t.filter===NU)return t.filter(e,r);for(var n=[],i=0,a=t.length;i<a;i++)e.call(r,t[i],i,t)&&n.push(t[i]);return n}function lr(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}function zU(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return t.apply(e,r.concat(K1.call(arguments)))}}var rr=cd&&ht(cd.bind)?cd.call.bind(cd.bind):zU;function zt(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return function(){return t.apply(this,e.concat(K1.call(arguments)))}}function Ye(t){return Array.isArray?Array.isArray(t):hc.call(t)==="[object Array]"}function ht(t){return typeof t=="function"}function et(t){return typeof t=="string"}function Wy(t){return hc.call(t)==="[object String]"}function Wt(t){return typeof t=="number"}function it(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function AS(t){return!!OP[hc.call(t)]}function qn(t){return!!IP[hc.call(t)]}function th(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function Ip(t){return t.colorStops!=null}function UU(t){return t.image!=null}function VU(t){return hc.call(t)==="[object RegExp]"}function zv(t){return t!==t}function rh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,n=t.length;r<n;r++)if(t[r]!=null)return t[r]}function Rt(t,e){return t??e}function Pf(t,e,r){return t??e??r}function e_(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return K1.apply(t,e)}function NP(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function wa(t,e){if(!t)throw new Error(e)}function da(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var FP="__ec_primitive__";function Uv(t){t[FP]=!0}function Ef(t){return t[FP]}var GU=function(){function t(){this.data={}}return t.prototype.delete=function(e){var r=this.has(e);return r&&delete this.data[e],r},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,r){return this.data[e]=r,this},t.prototype.keys=function(){return lr(this.data)},t.prototype.forEach=function(e){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&e(r[n],n)},t}(),$P=typeof Map=="function";function jU(){return $P?new Map:new GU}var WU=function(){function t(e){var r=Ye(e);this.data=jU();var n=this;e instanceof t?e.each(i):e&&K(e,i);function i(a,o){r?n.set(a,o):n.set(o,a)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,r){return this.data.set(e,r),r},t.prototype.each=function(e,r){this.data.forEach(function(n,i){e.call(r,n,i)})},t.prototype.keys=function(){var e=this.data.keys();return $P?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t}();function ft(t){return new WU(t)}function YU(t,e){for(var r=new t.constructor(t.length+e.length),n=0;n<t.length;n++)r[n]=t[n];for(var i=t.length,n=0;n<e.length;n++)r[n+i]=e[n];return r}function Bp(t,e){var r;if(Object.create)r=Object.create(t);else{var n=function(){};n.prototype=t,r=new n}return e&&Oe(r,e),r}function HP(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function eo(t,e){return t.hasOwnProperty(e)}function xn(){}var XU=180/Math.PI;function dc(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function qU(t){return[t[0],t[1]]}function kS(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function ZU(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function KU(t){return Math.sqrt(QU(t))}function QU(t){return t[0]*t[0]+t[1]*t[1]}function Ug(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function JU(t,e){var r=KU(e);return r===0?(t[0]=0,t[1]=0):(t[0]=e[0]/r,t[1]=e[1]/r),t}function Yy(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Xy=Yy;function eV(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var Ml=eV;function pv(t,e,r,n){return t[0]=e[0]+n*(r[0]-e[0]),t[1]=e[1]+n*(r[1]-e[1]),t}function gi(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function yl(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function _l(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}var Wu=function(){function t(e,r){this.target=e,this.topTarget=r&&r.topTarget}return t}(),tV=function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var r=e.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Wu(r,e),"dragstart",e.event))},t.prototype._drag=function(e){var r=this._draggingTarget;if(r){var n=e.offsetX,i=e.offsetY,a=n-this._x,o=i-this._y;this._x=n,this._y=i,r.drift(a,o,e),this.handler.dispatchToElement(new Wu(r,e),"drag",e.event);var s=this.handler.findHover(n,i,r).target,u=this._dropTarget;this._dropTarget=s,r!==s&&(u&&s!==u&&this.handler.dispatchToElement(new Wu(u,e),"dragleave",e.event),s&&s!==u&&this.handler.dispatchToElement(new Wu(s,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Wu(r,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Wu(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t}();const rV=tV;var nV=function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,r,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof r=="function"&&(i=n,n=r,r=null),!n||!e)return this;var o=this._$eventProcessor;r!=null&&o&&o.normalizeQuery&&(r=o.normalizeQuery(r)),a[e]||(a[e]=[]);for(var s=0;s<a[e].length;s++)if(a[e][s].h===n)return this;var u={h:n,query:r,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},l=a[e].length-1,c=a[e][l];return c&&c.callAtLast?a[e].splice(l,0,u):a[e].push(u),this},t.prototype.isSilent=function(e){var r=this._$handlers;return!r||!r[e]||!r[e].length},t.prototype.off=function(e,r){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(r){if(n[e]){for(var i=[],a=0,o=n[e].length;a<o;a++)n[e][a].h!==r&&i.push(n[e][a]);n[e]=i}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},t.prototype.trigger=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=r.length,s=i.length,u=0;u<s;u++){var l=i[u];if(!(a&&a.filter&&l.query!=null&&!a.filter(e,l.query)))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,r[0]);break;case 2:l.h.call(l.ctx,r[0],r[1]);break;default:l.h.apply(l.ctx,r);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=r.length,s=r[o-1],u=i.length,l=0;l<u;l++){var c=i[l];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,r[0]);break;case 2:c.h.call(s,r[0],r[1]);break;default:c.h.apply(s,r.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t}();const ji=nV;var iV=Math.log(2);function qy(t,e,r,n,i,a){var o=n+"-"+i,s=t.length;if(a.hasOwnProperty(o))return a[o];if(e===1){var u=Math.round(Math.log((1<<s)-1&~i)/iV);return t[r][u]}for(var l=n|1<<r,c=r+1;n&1<<c;)c++;for(var h=0,f=0,v=0;f<s;f++){var p=1<<f;p&i||(h+=(v%2?-1:1)*t[r][f]*qy(t,e-1,c,l,i|p,a),v++)}return a[o]=h,h}function PS(t,e){var r=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},i=qy(r,8,0,0,0,n);if(i!==0){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)a[s]==null&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*qy(r,7,o===0?1:0,1<<o,1<<s,n)/i*e[o];return function(u,l,c){var h=l*a[6]+c*a[7]+1;u[0]=(l*a[0]+c*a[1]+a[2])/h,u[1]=(l*a[3]+c*a[4]+a[5])/h}}}var ES="___zrEVENTSAVED",Vg=[];function aV(t,e,r,n,i){return Zy(Vg,e,n,i,!0)&&Zy(t,r,Vg[0],Vg[1])}function Zy(t,e,r,n,i){if(e.getBoundingClientRect&&Tt.domSupported&&!zP(e)){var a=e[ES]||(e[ES]={}),o=oV(e,a),s=sV(o,a,i);if(s)return s(t,r,n),!0}return!1}function oV(t,e){var r=e.markers;if(r)return r;r=e.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,u=a%2,l=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[u]+":0",i[l]+":0",n[1-u]+":auto",i[1-l]+":auto",""].join("!important;"),t.appendChild(o),r.push(o)}return r}function sV(t,e,r){for(var n=r?"invTrans":"trans",i=e[n],a=e.srcCoords,o=[],s=[],u=!0,l=0;l<4;l++){var c=t[l].getBoundingClientRect(),h=2*l,f=c.left,v=c.top;o.push(f,v),u=u&&a&&f===a[h]&&v===a[h+1],s.push(t[l].offsetLeft,t[l].offsetTop)}return u&&i?i:(e.srcCoords=o,e[n]=r?PS(s,o):PS(o,s))}function zP(t){return t.nodeName.toUpperCase()==="CANVAS"}var uV=/([&<>"'])/g,lV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ui(t){return t==null?"":(t+"").replace(uV,function(e,r){return lV[r]})}var cV=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Gg=[],fV=Tt.browser.firefox&&+Tt.browser.version.split(".")[0]<39;function Ky(t,e,r,n){return r=r||{},n?MS(t,e,r):fV&&e.layerX!=null&&e.layerX!==e.offsetX?(r.zrX=e.layerX,r.zrY=e.layerY):e.offsetX!=null?(r.zrX=e.offsetX,r.zrY=e.offsetY):MS(t,e,r),r}function MS(t,e,r){if(Tt.domSupported&&t.getBoundingClientRect){var n=e.clientX,i=e.clientY;if(zP(t)){var a=t.getBoundingClientRect();r.zrX=n-a.left,r.zrY=i-a.top;return}else if(Zy(Gg,t,n,i)){r.zrX=Gg[0],r.zrY=Gg[1];return}}r.zrX=r.zrY=0}function t_(t){return t||window.event}function ii(t,e,r){if(e=t_(e),e.zrX!=null)return e;var n=e.type,i=n&&n.indexOf("touch")>=0;if(i){var o=n!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&Ky(t,o,e,r)}else{Ky(t,e,e,r);var a=hV(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&cV.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function hV(t){var e=t.wheelDelta;if(e)return e;var r=t.deltaX,n=t.deltaY;if(r==null||n==null)return e;var i=Math.abs(n!==0?n:r),a=n>0?-1:n<0?1:r>0?-1:1;return 3*i*a}function Qy(t,e,r,n){t.addEventListener(e,r,n)}function dV(t,e,r,n){t.removeEventListener(e,r,n)}var UP=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0},vV=function(){function t(){this._track=[]}return t.prototype.recognize=function(e,r,n){return this._doTrack(e,r,n),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,r,n){var i=e.touches;if(i){for(var a={points:[],touches:[],target:r,event:e},o=0,s=i.length;o<s;o++){var u=i[o],l=Ky(n,u,{});a.points.push([l.zrX,l.zrY]),a.touches.push(u)}this._track.push(a)}},t.prototype._recognize=function(e){for(var r in jg)if(jg.hasOwnProperty(r)){var n=jg[r](this._track,e);if(n)return n}},t}();function DS(t){var e=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}function pV(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var jg={pinch:function(t,e){var r=t.length;if(r){var n=(t[r-1]||{}).points,i=(t[r-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=DS(n)/DS(i);!isFinite(a)&&(a=1),e.pinchScale=a;var o=pV(n);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}};function ql(){return[1,0,0,1,0,0]}function r_(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function gV(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Dl(t,e,r){var n=e[0]*r[0]+e[2]*r[1],i=e[1]*r[0]+e[3]*r[1],a=e[0]*r[2]+e[2]*r[3],o=e[1]*r[2]+e[3]*r[3],s=e[0]*r[4]+e[2]*r[5]+e[4],u=e[1]*r[4]+e[3]*r[5]+e[5];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t}function Vv(t,e,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+r[0],t[5]=e[5]+r[1],t}function Np(t,e,r){var n=e[0],i=e[2],a=e[4],o=e[1],s=e[3],u=e[5],l=Math.sin(r),c=Math.cos(r);return t[0]=n*c+o*l,t[1]=-n*l+o*c,t[2]=i*c+s*l,t[3]=-i*l+c*s,t[4]=c*a+l*u,t[5]=c*u-l*a,t}function mV(t,e,r){var n=r[0],i=r[1];return t[0]=e[0]*n,t[1]=e[1]*i,t[2]=e[2]*n,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*i,t}function Fp(t,e){var r=e[0],n=e[2],i=e[4],a=e[1],o=e[3],s=e[5],u=r*o-a*n;return u?(u=1/u,t[0]=o*u,t[1]=-a*u,t[2]=-n*u,t[3]=r*u,t[4]=(n*s-o*i)*u,t[5]=(a*i-r*s)*u,t):null}var yV=function(){function t(e,r){this.x=e||0,this.y=r||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,r){this.x+=e.x*r,this.y+=e.y*r},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)},t.prototype.distanceSquare=function(e){var r=this.x-e.x,n=this.y-e.y;return r*r+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var r=this.x,n=this.y;return this.x=e[0]*r+e[2]*n+e[4],this.y=e[1]*r+e[3]*n+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,r,n){e.x=r,e.y=n},t.copy=function(e,r){e.x=r.x,e.y=r.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,r){return e.x*r.x+e.y*r.y},t.add=function(e,r,n){e.x=r.x+n.x,e.y=r.y+n.y},t.sub=function(e,r,n){e.x=r.x-n.x,e.y=r.y-n.y},t.scale=function(e,r,n){e.x=r.x*n,e.y=r.y*n},t.scaleAndAdd=function(e,r,n,i){e.x=r.x+n.x*i,e.y=r.y+n.y*i},t.lerp=function(e,r,n,i){var a=1-i;e.x=a*r.x+i*n.x,e.y=a*r.y+i*n.y},t}();const ot=yV;var fd=Math.min,hd=Math.max,Ss=new ot,ws=new ot,Ts=new ot,Cs=new ot,Fc=new ot,$c=new ot,_V=function(){function t(e,r,n,i){n<0&&(e=e+n,n=-n),i<0&&(r=r+i,i=-i),this.x=e,this.y=r,this.width=n,this.height=i}return t.prototype.union=function(e){var r=fd(e.x,this.x),n=fd(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=hd(e.x+e.width,this.x+this.width)-r:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=hd(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=r,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var r=this,n=e.width/r.width,i=e.height/r.height,a=ql();return Vv(a,a,[-r.x,-r.y]),mV(a,a,[n,i]),Vv(a,a,[e.x,e.y]),a},t.prototype.intersect=function(e,r){if(!e)return!1;e instanceof t||(e=t.create(e));var n=this,i=n.x,a=n.x+n.width,o=n.y,s=n.y+n.height,u=e.x,l=e.x+e.width,c=e.y,h=e.y+e.height,f=!(a<u||l<i||s<c||h<o);if(r){var v=1/0,p=0,g=Math.abs(a-u),m=Math.abs(l-i),_=Math.abs(s-c),b=Math.abs(h-o),w=Math.min(g,m),T=Math.min(_,b);a<u||l<i?w>p&&(p=w,g<m?ot.set($c,-g,0):ot.set($c,m,0)):w<v&&(v=w,g<m?ot.set(Fc,g,0):ot.set(Fc,-m,0)),s<c||h<o?T>p&&(p=T,_<b?ot.set($c,0,-_):ot.set($c,0,b)):w<v&&(v=w,_<b?ot.set(Fc,0,_):ot.set(Fc,0,-b))}return r&&ot.copy(r,f?Fc:$c),f},t.prototype.contain=function(e,r){var n=this;return e>=n.x&&e<=n.x+n.width&&r>=n.y&&r<=n.y+n.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,r){e.x=r.x,e.y=r.y,e.width=r.width,e.height=r.height},t.applyTransform=function(e,r,n){if(!n){e!==r&&t.copy(e,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],o=n[4],s=n[5];e.x=r.x*i+o,e.y=r.y*a+s,e.width=r.width*i,e.height=r.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}Ss.x=Ts.x=r.x,Ss.y=Cs.y=r.y,ws.x=Cs.x=r.x+r.width,ws.y=Ts.y=r.y+r.height,Ss.transform(n),Cs.transform(n),ws.transform(n),Ts.transform(n),e.x=fd(Ss.x,ws.x,Ts.x,Cs.x),e.y=fd(Ss.y,ws.y,Ts.y,Cs.y);var u=hd(Ss.x,ws.x,Ts.x,Cs.x),l=hd(Ss.y,ws.y,Ts.y,Cs.y);e.width=u-e.x,e.height=l-e.y},t}();const Nt=_V;var VP="silent";function bV(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:xV}}function xV(){UP(this.event)}var SV=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handler=null,r}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(ji),Hc=function(){function t(e,r){this.x=e,this.y=r}return t}(),wV=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Wg=new Nt(0,0,0,0),GP=function(t){De(e,t);function e(r,n,i,a,o){var s=t.call(this)||this;return s._hovered=new Hc(0,0),s.storage=r,s.painter=n,s.painterRoot=a,s._pointerSize=o,i=i||new SV,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new rV(s),s}return e.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(K(wV,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},e.prototype.mousemove=function(r){var n=r.zrX,i=r.zrY,a=jP(this,n,i),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var u=this._hovered=a?new Hc(n,i):this.findHover(n,i),l=u.target,c=this.proxy;c.setCursor&&c.setCursor(l?l.cursor:"default"),s&&l!==s&&this.dispatchToElement(o,"mouseout",r),this.dispatchToElement(u,"mousemove",r),l&&l!==s&&this.dispatchToElement(u,"mouseover",r)},e.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},e.prototype.resize=function(){this._hovered=new Hc(0,0)},e.prototype.dispatch=function(r,n){var i=this[r];i&&i.call(this,n)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},e.prototype.dispatchToElement=function(r,n,i){r=r||{};var a=r.target;if(!(a&&a.silent)){for(var o="on"+n,s=bV(n,r,i);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(n,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){typeof u[o]=="function"&&u[o].call(u,s),u.trigger&&u.trigger(n,s)}))}},e.prototype.findHover=function(r,n,i){var a=this.storage.getDisplayList(),o=new Hc(r,n);if(LS(a,o,r,n,i),this._pointerSize&&!o.target){for(var s=[],u=this._pointerSize,l=u/2,c=new Nt(r-l,n-l,u,u),h=a.length-1;h>=0;h--){var f=a[h];f!==i&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(Wg.copy(f.getBoundingRect()),f.transform&&Wg.applyTransform(f.transform),Wg.intersect(c)&&s.push(f))}if(s.length)for(var v=4,p=Math.PI/12,g=Math.PI*2,m=0;m<l;m+=v)for(var _=0;_<g;_+=p){var b=r+m*Math.cos(_),w=n+m*Math.sin(_);if(LS(s,o,b,w,i),o.target)return o}}return o},e.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new vV);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var o=a.type;r.gestureEvent=o;var s=new Hc;s.target=a.target,this.dispatchToElement(s,o,a.event)}},e}(ji);K(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){GP.prototype[t]=function(e){var r=e.zrX,n=e.zrY,i=jP(this,r,n),a,o;if((t!=="mouseup"||!i)&&(a=this.findHover(r,n),o=a.target),t==="mousedown")this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if(t==="mouseup")this._upEl=o;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||Xy(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,t,e)}});function TV(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){for(var n=t,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var o=n.getClipPath();if(o&&!o.contain(e,r))return!1;n.silent&&(i=!0)}var s=n.__hostTarget;n=s||n.parent}return i?VP:!0}return!1}function LS(t,e,r,n,i){for(var a=t.length-1;a>=0;a--){var o=t[a],s=void 0;if(o!==i&&!o.ignore&&(s=TV(o,r,n))&&(!e.topTarget&&(e.topTarget=o),s!==VP)){e.target=o;break}}}function jP(t,e,r){var n=t.painter;return e<0||e>n.getWidth()||r<0||r>n.getHeight()}const CV=GP;var WP=32,zc=7;function AV(t){for(var e=0;t>=WP;)e|=t&1,t>>=1;return t+e}function RS(t,e,r,n){var i=e+1;if(i===r)return 1;if(n(t[i++],t[e])<0){for(;i<r&&n(t[i],t[i-1])<0;)i++;kV(t,e,i)}else for(;i<r&&n(t[i],t[i-1])>=0;)i++;return i-e}function kV(t,e,r){for(r--;e<r;){var n=t[e];t[e++]=t[r],t[r--]=n}}function OS(t,e,r,n,i){for(n===e&&n++;n<r;n++){for(var a=t[n],o=e,s=n,u;o<s;)u=o+s>>>1,i(a,t[u])<0?s=u:o=u+1;var l=n-o;switch(l){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:for(;l>0;)t[o+l]=t[o+l-1],l--}t[o]=a}}function Yg(t,e,r,n,i,a){var o=0,s=0,u=1;if(a(t,e[r+i])>0){for(s=n-i;u<s&&a(t,e[r+i+u])>0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}else{for(s=i+1;u<s&&a(t,e[r+i-u])<=0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}for(o++;o<u;){var c=o+(u-o>>>1);a(t,e[r+c])>0?o=c+1:u=c}return u}function Xg(t,e,r,n,i,a){var o=0,s=0,u=1;if(a(t,e[r+i])<0){for(s=i+1;u<s&&a(t,e[r+i-u])<0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}else{for(s=n-i;u<s&&a(t,e[r+i+u])>=0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}for(o++;o<u;){var c=o+(u-o>>>1);a(t,e[r+c])<0?u=c:o=c+1}return u}function PV(t,e){var r=zc,n,i,a=0;t.length;var o=[];n=[],i=[];function s(v,p){n[a]=v,i[a]=p,a+=1}function u(){for(;a>1;){var v=a-2;if(v>=1&&i[v-1]<=i[v]+i[v+1]||v>=2&&i[v-2]<=i[v]+i[v-1])i[v-1]<i[v+1]&&v--;else if(i[v]>i[v+1])break;c(v)}}function l(){for(;a>1;){var v=a-2;v>0&&i[v-1]<i[v+1]&&v--,c(v)}}function c(v){var p=n[v],g=i[v],m=n[v+1],_=i[v+1];i[v]=g+_,v===a-3&&(n[v+1]=n[v+2],i[v+1]=i[v+2]),a--;var b=Xg(t[m],t,p,g,0,e);p+=b,g-=b,g!==0&&(_=Yg(t[p+g-1],t,m,_,_-1,e),_!==0&&(g<=_?h(p,g,m,_):f(p,g,m,_)))}function h(v,p,g,m){var _=0;for(_=0;_<p;_++)o[_]=t[v+_];var b=0,w=g,T=v;if(t[T++]=t[w++],--m===0){for(_=0;_<p;_++)t[T+_]=o[b+_];return}if(p===1){for(_=0;_<m;_++)t[T+_]=t[w+_];t[T+m]=o[b];return}for(var k=r,A,M,O;;){A=0,M=0,O=!1;do if(e(t[w],o[b])<0){if(t[T++]=t[w++],M++,A=0,--m===0){O=!0;break}}else if(t[T++]=o[b++],A++,M=0,--p===1){O=!0;break}while((A|M)<k);if(O)break;do{if(A=Xg(t[w],o,b,p,0,e),A!==0){for(_=0;_<A;_++)t[T+_]=o[b+_];if(T+=A,b+=A,p-=A,p<=1){O=!0;break}}if(t[T++]=t[w++],--m===0){O=!0;break}if(M=Yg(o[b],t,w,m,0,e),M!==0){for(_=0;_<M;_++)t[T+_]=t[w+_];if(T+=M,w+=M,m-=M,m===0){O=!0;break}}if(t[T++]=o[b++],--p===1){O=!0;break}k--}while(A>=zc||M>=zc);if(O)break;k<0&&(k=0),k+=2}if(r=k,r<1&&(r=1),p===1){for(_=0;_<m;_++)t[T+_]=t[w+_];t[T+m]=o[b]}else{if(p===0)throw new Error;for(_=0;_<p;_++)t[T+_]=o[b+_]}}function f(v,p,g,m){var _=0;for(_=0;_<m;_++)o[_]=t[g+_];var b=v+p-1,w=m-1,T=g+m-1,k=0,A=0;if(t[T--]=t[b--],--p===0){for(k=T-(m-1),_=0;_<m;_++)t[k+_]=o[_];return}if(m===1){for(T-=p,b-=p,A=T+1,k=b+1,_=p-1;_>=0;_--)t[A+_]=t[k+_];t[T]=o[w];return}for(var M=r;;){var O=0,F=0,$=!1;do if(e(o[w],t[b])<0){if(t[T--]=t[b--],O++,F=0,--p===0){$=!0;break}}else if(t[T--]=o[w--],F++,O=0,--m===1){$=!0;break}while((O|F)<M);if($)break;do{if(O=p-Xg(o[w],t,v,p,p-1,e),O!==0){for(T-=O,b-=O,p-=O,A=T+1,k=b+1,_=O-1;_>=0;_--)t[A+_]=t[k+_];if(p===0){$=!0;break}}if(t[T--]=o[w--],--m===1){$=!0;break}if(F=m-Yg(t[b],o,0,m,m-1,e),F!==0){for(T-=F,w-=F,m-=F,A=T+1,k=w+1,_=0;_<F;_++)t[A+_]=o[k+_];if(m<=1){$=!0;break}}if(t[T--]=t[b--],--p===0){$=!0;break}M--}while(O>=zc||F>=zc);if($)break;M<0&&(M=0),M+=2}if(r=M,r<1&&(r=1),m===1){for(T-=p,b-=p,A=T+1,k=b+1,_=p-1;_>=0;_--)t[A+_]=t[k+_];t[T]=o[w]}else{if(m===0)throw new Error;for(k=T-(m-1),_=0;_<m;_++)t[k+_]=o[_]}}return{mergeRuns:u,forceMergeRuns:l,pushRun:s}}function gv(t,e,r,n){r||(r=0),n||(n=t.length);var i=n-r;if(!(i<2)){var a=0;if(i<WP){a=RS(t,r,n,e),OS(t,r,n,r+a,e);return}var o=PV(t,e),s=AV(i);do{if(a=RS(t,r,n,e),a<s){var u=i;u>s&&(u=s),OS(t,r,r+u,r+a,e),a=u}o.pushRun(r,a),o.mergeRuns(),i-=a,r+=a}while(i!==0);o.forceMergeRuns()}}var jn=1,ff=2,vl=4,IS=!1;function qg(){IS||(IS=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function BS(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var EV=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=BS}return t.prototype.traverse=function(e,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,r)},t.prototype.getDisplayList=function(e,r){r=r||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(r),n},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var r=this._roots,n=this._displayList,i=0,a=r.length;i<a;i++)this._updateAndAddDisplayable(r[i],null,e);n.length=this._displayListLen,gv(n,BS)},t.prototype._updateAndAddDisplayable=function(e,r,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)r=null;else if(i){r?r=r.slice():r=[];for(var a=i,o=e;a;)a.parent=o,a.updateTransform(),r.push(a),o=a,a=a.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),u=0;u<s.length;u++){var l=s[u];e.__dirty&&(l.__dirty|=jn),this._updateAndAddDisplayable(l,r,n)}e.__dirty=0}else{var c=e;r&&r.length?c.__clipPaths=r:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(qg(),c.z=0),isNaN(c.z2)&&(qg(),c.z2=0),isNaN(c.zlevel)&&(qg(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var h=e.getDecalElement&&e.getDecalElement();h&&this._updateAndAddDisplayable(h,r,n);var f=e.getTextGuideLine();f&&this._updateAndAddDisplayable(f,r,n);var v=e.getTextContent();v&&this._updateAndAddDisplayable(v,r,n)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var r=0,n=e.length;r<n;r++)this.delRoot(e[r]);return}var i=Lt(this._roots,e);i>=0&&this._roots.splice(i,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}();const MV=EV;var YP;YP=Tt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};const Jy=YP;var mv={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},elasticOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-mv.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?mv.bounceIn(t*2)*.5:mv.bounceOut(t*2-1)*.5+.5}};const XP=mv;var dd=Math.pow,jo=Math.sqrt,Gv=1e-8,qP=1e-4,NS=jo(3),vd=1/3,ca=dc(),li=dc(),Ll=dc();function Ho(t){return t>-Gv&&t<Gv}function ZP(t){return t>Gv||t<-Gv}function Or(t,e,r,n,i){var a=1-i;return a*a*(a*t+3*i*e)+i*i*(i*n+3*a*r)}function FS(t,e,r,n,i){var a=1-i;return 3*(((e-t)*a+2*(r-e)*i)*a+(n-r)*i*i)}function jv(t,e,r,n,i,a){var o=n+3*(e-r)-t,s=3*(r-e*2+t),u=3*(e-t),l=t-i,c=s*s-3*o*u,h=s*u-9*o*l,f=u*u-3*s*l,v=0;if(Ho(c)&&Ho(h))if(Ho(s))a[0]=0;else{var p=-u/s;p>=0&&p<=1&&(a[v++]=p)}else{var g=h*h-4*c*f;if(Ho(g)){var m=h/c,p=-s/o+m,_=-m/2;p>=0&&p<=1&&(a[v++]=p),_>=0&&_<=1&&(a[v++]=_)}else if(g>0){var b=jo(g),w=c*s+1.5*o*(-h+b),T=c*s+1.5*o*(-h-b);w<0?w=-dd(-w,vd):w=dd(w,vd),T<0?T=-dd(-T,vd):T=dd(T,vd);var p=(-s-(w+T))/(3*o);p>=0&&p<=1&&(a[v++]=p)}else{var k=(2*c*s-3*o*h)/(2*jo(c*c*c)),A=Math.acos(k)/3,M=jo(c),O=Math.cos(A),p=(-s-2*M*O)/(3*o),_=(-s+M*(O+NS*Math.sin(A)))/(3*o),F=(-s+M*(O-NS*Math.sin(A)))/(3*o);p>=0&&p<=1&&(a[v++]=p),_>=0&&_<=1&&(a[v++]=_),F>=0&&F<=1&&(a[v++]=F)}}return v}function KP(t,e,r,n,i){var a=6*r-12*e+6*t,o=9*e+3*n-3*t-9*r,s=3*e-3*t,u=0;if(Ho(o)){if(ZP(a)){var l=-s/a;l>=0&&l<=1&&(i[u++]=l)}}else{var c=a*a-4*o*s;if(Ho(c))i[0]=-a/(2*o);else if(c>0){var h=jo(c),l=(-a+h)/(2*o),f=(-a-h)/(2*o);l>=0&&l<=1&&(i[u++]=l),f>=0&&f<=1&&(i[u++]=f)}}return u}function Ko(t,e,r,n,i,a){var o=(e-t)*i+t,s=(r-e)*i+e,u=(n-r)*i+r,l=(s-o)*i+o,c=(u-s)*i+s,h=(c-l)*i+l;a[0]=t,a[1]=o,a[2]=l,a[3]=h,a[4]=h,a[5]=c,a[6]=u,a[7]=n}function QP(t,e,r,n,i,a,o,s,u,l,c){var h,f=.005,v=1/0,p,g,m,_;ca[0]=u,ca[1]=l;for(var b=0;b<1;b+=.05)li[0]=Or(t,r,i,o,b),li[1]=Or(e,n,a,s,b),m=Ml(ca,li),m<v&&(h=b,v=m);v=1/0;for(var w=0;w<32&&!(f<qP);w++)p=h-f,g=h+f,li[0]=Or(t,r,i,o,p),li[1]=Or(e,n,a,s,p),m=Ml(li,ca),p>=0&&m<v?(h=p,v=m):(Ll[0]=Or(t,r,i,o,g),Ll[1]=Or(e,n,a,s,g),_=Ml(Ll,ca),g<=1&&_<v?(h=g,v=_):f*=.5);return c&&(c[0]=Or(t,r,i,o,h),c[1]=Or(e,n,a,s,h)),jo(v)}function DV(t,e,r,n,i,a,o,s,u){for(var l=t,c=e,h=0,f=1/u,v=1;v<=u;v++){var p=v*f,g=Or(t,r,i,o,p),m=Or(e,n,a,s,p),_=g-l,b=m-c;h+=Math.sqrt(_*_+b*b),l=g,c=m}return h}function un(t,e,r,n){var i=1-n;return i*(i*t+2*n*e)+n*n*r}function $S(t,e,r,n){return 2*((1-n)*(e-t)+n*(r-e))}function LV(t,e,r,n,i){var a=t-2*e+r,o=2*(e-t),s=t-n,u=0;if(Ho(a)){if(ZP(o)){var l=-s/o;l>=0&&l<=1&&(i[u++]=l)}}else{var c=o*o-4*a*s;if(Ho(c)){var l=-o/(2*a);l>=0&&l<=1&&(i[u++]=l)}else if(c>0){var h=jo(c),l=(-o+h)/(2*a),f=(-o-h)/(2*a);l>=0&&l<=1&&(i[u++]=l),f>=0&&f<=1&&(i[u++]=f)}}return u}function JP(t,e,r){var n=t+r-2*e;return n===0?.5:(t-e)/n}function Wv(t,e,r,n,i){var a=(e-t)*n+t,o=(r-e)*n+e,s=(o-a)*n+a;i[0]=t,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=r}function eE(t,e,r,n,i,a,o,s,u){var l,c=.005,h=1/0;ca[0]=o,ca[1]=s;for(var f=0;f<1;f+=.05){li[0]=un(t,r,i,f),li[1]=un(e,n,a,f);var v=Ml(ca,li);v<h&&(l=f,h=v)}h=1/0;for(var p=0;p<32&&!(c<qP);p++){var g=l-c,m=l+c;li[0]=un(t,r,i,g),li[1]=un(e,n,a,g);var v=Ml(li,ca);if(g>=0&&v<h)l=g,h=v;else{Ll[0]=un(t,r,i,m),Ll[1]=un(e,n,a,m);var _=Ml(Ll,ca);m<=1&&_<h?(l=m,h=_):c*=.5}}return u&&(u[0]=un(t,r,i,l),u[1]=un(e,n,a,l)),jo(h)}function RV(t,e,r,n,i,a,o){for(var s=t,u=e,l=0,c=1/o,h=1;h<=o;h++){var f=h*c,v=un(t,r,i,f),p=un(e,n,a,f),g=v-s,m=p-u;l+=Math.sqrt(g*g+m*m),s=v,u=p}return l}var OV=/cubic-bezier\(([0-9,\.e ]+)\)/;function tE(t){var e=t&&OV.exec(t);if(e){var r=e[1].split(","),n=+da(r[0]),i=+da(r[1]),a=+da(r[2]),o=+da(r[3]);if(isNaN(n+i+a+o))return;var s=[];return function(u){return u<=0?0:u>=1?1:jv(0,n,a,1,u,s)&&Or(0,i,o,1,s[0])}}}var IV=function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||xn,this.ondestroy=e.ondestroy||xn,this.onrestart=e.onrestart||xn,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,r){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,i=e-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var u=i%n;this._startTime=e-u,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=ht(e)?e:XP[e]||tE(e)},t}();const BV=IV;var rE=function(){function t(e){this.value=e}return t}(),NV=function(){function t(){this._len=0}return t.prototype.insert=function(e){var r=new rE(e);return this.insertEntry(r),r},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var r=e.prev,n=e.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),FV=function(){function t(e){this._list=new NV,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,r){var n=this._list,i=this._map,a=null;if(i[e]==null){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var u=n.head;n.remove(u),delete i[u.key],a=u.value,this._lastRemovedEntry=u}s?s.value=r:s=new rE(r),s.key=e,n.insertEntry(s),i[e]=s}return a},t.prototype.get=function(e){var r=this._map[e],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}();const Ah=FV;var HS={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Wo(t){return t=Math.round(t),t<0?0:t>255?255:t}function e0(t){return t<0?0:t>1?1:t}function Zg(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?Wo(parseFloat(e)/100*255):Wo(parseInt(e,10))}function Mf(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?e0(parseFloat(e)/100):e0(parseFloat(e))}function Kg(t,e,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?t+(e-t)*r*6:r*2<1?e:r*3<2?t+(e-t)*(2/3-r)*6:t}function pd(t,e,r){return t+(e-t)*r}function ni(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function t0(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var nE=new Ah(20),gd=null;function Yu(t,e){gd&&t0(gd,e),gd=nE.put(t,gd||e.slice())}function Qa(t,e){if(t){e=e||[];var r=nE.get(t);if(r)return t0(e,r);t=t+"";var n=t.replace(/ /g,"").toLowerCase();if(n in HS)return t0(e,HS[n]),Yu(t,e),e;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){ni(e,0,0,0,1);return}return ni(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),Yu(t,e),e}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){ni(e,0,0,0,1);return}return ni(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),Yu(t,e),e}return}var o=n.indexOf("("),s=n.indexOf(")");if(o!==-1&&s+1===i){var u=n.substr(0,o),l=n.substr(o+1,s-(o+1)).split(","),c=1;switch(u){case"rgba":if(l.length!==4)return l.length===3?ni(e,+l[0],+l[1],+l[2],1):ni(e,0,0,0,1);c=Mf(l.pop());case"rgb":if(l.length>=3)return ni(e,Zg(l[0]),Zg(l[1]),Zg(l[2]),l.length===3?c:Mf(l[3])),Yu(t,e),e;ni(e,0,0,0,1);return;case"hsla":if(l.length!==4){ni(e,0,0,0,1);return}return l[3]=Mf(l[3]),zS(l,e),Yu(t,e),e;case"hsl":if(l.length!==3){ni(e,0,0,0,1);return}return zS(l,e),Yu(t,e),e;default:return}}ni(e,0,0,0,1)}}function zS(t,e){var r=(parseFloat(t[0])%360+360)%360/360,n=Mf(t[1]),i=Mf(t[2]),a=i<=.5?i*(n+1):i+n-i*n,o=i*2-a;return e=e||[],ni(e,Wo(Kg(o,a,r+1/3)*255),Wo(Kg(o,a,r)*255),Wo(Kg(o,a,r-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function US(t,e){var r=Qa(t);if(r){for(var n=0;n<3;n++)e<0?r[n]=r[n]*(1-e)|0:r[n]=(255-r[n])*e+r[n]|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return $p(r,r.length===4?"rgba":"rgb")}}function $V(t,e,r){if(!(!(e&&e.length)||!(t>=0&&t<=1))){var n=t*(e.length-1),i=Math.floor(n),a=Math.ceil(n),o=Qa(e[i]),s=Qa(e[a]),u=n-i,l=$p([Wo(pd(o[0],s[0],u)),Wo(pd(o[1],s[1],u)),Wo(pd(o[2],s[2],u)),e0(pd(o[3],s[3],u))],"rgba");return r?{color:l,leftIndex:i,rightIndex:a,value:n}:l}}function $p(t,e){if(!(!t||!t.length)){var r=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(r+=","+t[3]),e+"("+r+")"}}function Yv(t,e){var r=Qa(t);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*e:0}function HV(t){return t.type==="linear"}function zV(t){return t.type==="radial"}(function(){return Tt.hasGlobalWindow&&ht(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}})();var r0=Array.prototype.slice;function Ya(t,e,r){return(e-t)*r+t}function Qg(t,e,r,n){for(var i=e.length,a=0;a<i;a++)t[a]=Ya(e[a],r[a],n);return t}function UV(t,e,r,n){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){t[o]||(t[o]=[]);for(var s=0;s<a;s++)t[o][s]=Ya(e[o][s],r[o][s],n)}return t}function md(t,e,r,n){for(var i=e.length,a=0;a<i;a++)t[a]=e[a]+r[a]*n;return t}function VS(t,e,r,n){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){t[o]||(t[o]=[]);for(var s=0;s<a;s++)t[o][s]=e[o][s]+r[o][s]*n}return t}function VV(t,e){for(var r=t.length,n=e.length,i=r>n?e:t,a=Math.min(r,n),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(r,n);s++)i.push({offset:o.offset,color:o.color.slice()})}function GV(t,e,r){var n=t,i=e;if(!(!n.push||!i.push)){var a=n.length,o=i.length;if(a!==o){var s=a>o;if(s)n.length=o;else for(var u=a;u<o;u++)n.push(r===1?i[u]:r0.call(i[u]))}for(var l=n[0]&&n[0].length,u=0;u<n.length;u++)if(r===1)isNaN(n[u])&&(n[u]=i[u]);else for(var c=0;c<l;c++)isNaN(n[u][c])&&(n[u][c]=i[u][c])}}function yv(t){if(Sn(t)){var e=t.length;if(Sn(t[0])){for(var r=[],n=0;n<e;n++)r.push(r0.call(t[n]));return r}return r0.call(t)}return t}function _v(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function jV(t){return Sn(t&&t[0])?2:1}var yd=0,bv=1,iE=2,hf=3,n0=4,i0=5,GS=6;function jS(t){return t===n0||t===i0}function _d(t){return t===bv||t===iE}var Uc=[0,0,0,0],WV=function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,r,n){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=GS,u=r;if(Sn(r)){var l=jV(r);s=l,(l===1&&!Wt(r[0])||l===2&&!Wt(r[0][0]))&&(o=!0)}else if(Wt(r)&&!zv(r))s=yd;else if(et(r))if(!isNaN(+r))s=yd;else{var c=Qa(r);c&&(u=c,s=hf)}else if(Ip(r)){var h=Oe({},u);h.colorStops=qe(r.colorStops,function(v){return{offset:v.offset,color:Qa(v.color)}}),HV(r)?s=n0:zV(r)&&(s=i0),u=h}a===0?this.valType=s:(s!==this.valType||s===GS)&&(o=!0),this.discrete=this.discrete||o;var f={time:e,value:u,rawValue:r,percent:0};return n&&(f.easing=n,f.easingFunc=ht(n)?n:XP[n]||tE(n)),i.push(f),f},t.prototype.prepare=function(e,r){var n=this.keyframes;this._needsSort&&n.sort(function(g,m){return g.time-m.time});for(var i=this.valType,a=n.length,o=n[a-1],s=this.discrete,u=_d(i),l=jS(i),c=0;c<a;c++){var h=n[c],f=h.value,v=o.value;h.percent=h.time/e,s||(u&&c!==a-1?GV(f,v,i):l&&VV(f.colorStops,v.colorStops))}if(!s&&i!==i0&&r&&this.needsAnimate()&&r.needsAnimate()&&i===r.valType&&!r._finished){this._additiveTrack=r;for(var p=n[0].value,c=0;c<a;c++)i===yd?n[c].additiveValue=n[c].value-p:i===hf?n[c].additiveValue=md([],n[c].value,p,-1):_d(i)&&(n[c].additiveValue=i===bv?md([],n[c].value,p,-1):VS([],n[c].value,p,-1))}},t.prototype.step=function(e,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,u=this.propName,l=a===hf,c,h=this._lastFr,f=Math.min,v,p;if(s===1)v=p=o[0];else{if(r<0)c=0;else if(r<this._lastFrP){var g=f(h+1,s-1);for(c=g;c>=0&&!(o[c].percent<=r);c--);c=f(c,s-2)}else{for(c=h;c<s&&!(o[c].percent>r);c++);c=f(c-1,s-2)}p=o[c+1],v=o[c]}if(v&&p){this._lastFr=c,this._lastFrP=r;var m=p.percent-v.percent,_=m===0?1:f((r-v.percent)/m,1);p.easingFunc&&(_=p.easingFunc(_));var b=n?this._additiveValue:l?Uc:e[u];if((_d(a)||l)&&!b&&(b=this._additiveValue=[]),this.discrete)e[u]=_<1?v.rawValue:p.rawValue;else if(_d(a))a===bv?Qg(b,v[i],p[i],_):UV(b,v[i],p[i],_);else if(jS(a)){var w=v[i],T=p[i],k=a===n0;e[u]={type:k?"linear":"radial",x:Ya(w.x,T.x,_),y:Ya(w.y,T.y,_),colorStops:qe(w.colorStops,function(M,O){var F=T.colorStops[O];return{offset:Ya(M.offset,F.offset,_),color:_v(Qg([],M.color,F.color,_))}}),global:T.global},k?(e[u].x2=Ya(w.x2,T.x2,_),e[u].y2=Ya(w.y2,T.y2,_)):e[u].r=Ya(w.r,T.r,_)}else if(l)Qg(b,v[i],p[i],_),n||(e[u]=_v(b));else{var A=Ya(v[i],p[i],_);n?this._additiveValue=A:e[u]=A}n&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var r=this.valType,n=this.propName,i=this._additiveValue;r===yd?e[n]=e[n]+i:r===hf?(Qa(e[n],Uc),md(Uc,Uc,i,1),e[n]=_v(Uc)):r===bv?md(e[n],e[n],i,1):r===iE&&VS(e[n],e[n],i,1)},t}(),YV=function(){function t(e,r,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=r,r&&i){J1("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,r,n){return this.whenWithKeys(e,r,lr(r),n)},t.prototype.whenWithKeys=function(e,r,n,i){for(var a=this._tracks,o=0;o<n.length;o++){var s=n[o],u=a[s];if(!u){u=a[s]=new WV(s);var l=void 0,c=this._getAdditiveTrack(s);if(c){var h=c.keyframes,f=h[h.length-1];l=f&&f.value,c.valType===hf&&l&&(l=_v(l))}else l=this._target[s];if(l==null)continue;e>0&&u.addKeyframe(0,yv(l),i),this._trackKeys.push(s)}u.addKeyframe(e,yv(r[s]),i)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var r=e.length,n=0;n<r;n++)e[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,r=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)e[r[n]].setFinished()},t.prototype._getAdditiveTrack=function(e){var r,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(e);a&&(r=a)}return r},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],u=this._getAdditiveTrack(o),l=s.keyframes,c=l.length;if(s.prepare(i,u),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var h=l[c-1];h&&(r._target[s.propName]=h.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var f=new BV({life:i,loop:this._loop,delay:this._delay||0,onframe:function(v){r._started=2;var p=r._additiveAnimators;if(p){for(var g=!1,m=0;m<p.length;m++)if(p[m]._clip){g=!0;break}g||(r._additiveAnimators=null)}for(var m=0;m<n.length;m++)n[m].step(r._target,v);var _=r._onframeCbs;if(_)for(var m=0;m<_.length;m++)_[m](r._target,v)},ondestroy:function(){r._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),e&&f.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var r=this._clip;e&&r.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return qe(this._trackKeys,function(r){return e._tracks[r]})},t.prototype.stopTracks=function(e,r){if(!e.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var o=n[e[a]];o&&!o.isFinished()&&(r?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},t.prototype.saveTo=function(e,r,n){if(e){r=r||this._trackKeys;for(var i=0;i<r.length;i++){var a=r[i],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,u=s[n?0:s.length-1];u&&(e[a]=yv(u.rawValue))}}}},t.prototype.__changeFinalValue=function(e,r){r=r||lr(e);for(var n=0;n<r.length;n++){var i=r[n],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},t}();const n_=YV;function bl(){return new Date().getTime()}var XV=function(t){De(e,t);function e(r){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return e.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},e.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},e.prototype.removeClip=function(r){if(r.animation){var n=r.prev,i=r.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},e.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},e.prototype.update=function(r){for(var n=bl()-this._pausedTime,i=n-this._time,a=this._head;a;){var o=a.next,s=a.step(n,i);s&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=n,r||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(Jy(n),!r._paused&&r.update())}Jy(n)},e.prototype.start=function(){this._running||(this._time=bl(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=bl(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=bl()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(r,n){n=n||{},this.start();var i=new n_(r,n.loop);return this.addAnimator(i),i},e}(ji);const qV=XV;var ZV=300,Jg=Tt.domSupported,em=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=qe(t,function(i){var a=i.replace("mouse","pointer");return r.hasOwnProperty(a)?a:i});return{mouse:t,touch:e,pointer:n}}(),WS={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},YS=!1;function a0(t){var e=t.pointerType;return e==="pen"||e==="touch"}function KV(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function tm(t){t&&(t.zrByTouch=!0)}function QV(t,e){return ii(t.dom,new JV(t,e),!0)}function aE(t,e){for(var r=e,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==e&&r===t.painterRoot);)r=r.parentNode;return n}var JV=function(){function t(e,r){this.stopPropagation=xn,this.stopImmediatePropagation=xn,this.preventDefault=xn,this.type=r.type,this.target=this.currentTarget=e.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return t}(),Ei={mousedown:function(t){t=ii(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=ii(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=ii(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=ii(this.dom,t);var e=t.toElement||t.relatedTarget;aE(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){YS=!0,t=ii(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){YS||(t=ii(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=ii(this.dom,t),tm(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Ei.mousemove.call(this,t),Ei.mousedown.call(this,t)},touchmove:function(t){t=ii(this.dom,t),tm(t),this.handler.processGesture(t,"change"),Ei.mousemove.call(this,t)},touchend:function(t){t=ii(this.dom,t),tm(t),this.handler.processGesture(t,"end"),Ei.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<ZV&&Ei.click.call(this,t)},pointerdown:function(t){Ei.mousedown.call(this,t)},pointermove:function(t){a0(t)||Ei.mousemove.call(this,t)},pointerup:function(t){Ei.mouseup.call(this,t)},pointerout:function(t){a0(t)||Ei.mouseout.call(this,t)}};K(["click","dblclick","contextmenu"],function(t){Ei[t]=function(e){e=ii(this.dom,e),this.trigger(t,e)}});var o0={pointermove:function(t){a0(t)||o0.mousemove.call(this,t)},pointerup:function(t){o0.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function eG(t,e){var r=e.domHandlers;Tt.pointerEventsSupported?K(em.pointer,function(n){xv(e,n,function(i){r[n].call(t,i)})}):(Tt.touchEventsSupported&&K(em.touch,function(n){xv(e,n,function(i){r[n].call(t,i),KV(e)})}),K(em.mouse,function(n){xv(e,n,function(i){i=t_(i),e.touching||r[n].call(t,i)})}))}function tG(t,e){Tt.pointerEventsSupported?K(WS.pointer,r):Tt.touchEventsSupported||K(WS.mouse,r);function r(n){function i(a){a=t_(a),aE(t,a.target)||(a=QV(t,a),e.domHandlers[n].call(t,a))}xv(e,n,i,{capture:!0})}}function xv(t,e,r,n){t.mounted[e]=r,t.listenerOpts[e]=n,Qy(t.domTarget,e,r,n)}function rm(t){var e=t.mounted;for(var r in e)e.hasOwnProperty(r)&&dV(t.domTarget,r,e[r],t.listenerOpts[r]);t.mounted={}}var XS=function(){function t(e,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=r}return t}(),rG=function(t){De(e,t);function e(r,n){var i=t.call(this)||this;return i.__pointerCapturing=!1,i.dom=r,i.painterRoot=n,i._localHandlerScope=new XS(r,Ei),Jg&&(i._globalHandlerScope=new XS(document,o0)),eG(i,i._localHandlerScope),i}return e.prototype.dispose=function(){rm(this._localHandlerScope),Jg&&rm(this._globalHandlerScope)},e.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},e.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,Jg&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?tG(this,n):rm(n)}},e}(ji);const nG=rG;var oE=1;Tt.hasGlobalWindow&&(oE=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Xv=oE,s0=.4,u0="#333",l0="#ccc",iG="#eee",qS=r_,ZS=5e-5;function As(t){return t>ZS||t<-ZS}var ks=[],Xu=[],nm=ql(),im=Math.abs,aG=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return As(this.rotation)||As(this.x)||As(this.y)||As(this.scaleX-1)||As(this.scaleY-1)||As(this.skewX)||As(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||e)){n&&qS(n);return}n=n||ql(),r?this.getLocalTransform(n):qS(n),e&&(r?Dl(n,e,n):gV(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)},t.prototype._resolveGlobalScaleRatio=function(e){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(ks);var n=ks[0]<0?-1:1,i=ks[1]<0?-1:1,a=((ks[0]-n)*r+n)/ks[0]||0,o=((ks[1]-i)*r+i)/ks[1]||0;e[0]*=a,e[1]*=a,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||ql(),Fp(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,r=[];e;)r.push(e),e=e.parent;for(;e=r.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var r=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(a),r=Math.sqrt(r),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,r=this.transform;e&&e.transform&&(Dl(Xu,e.invTransform,r),r=Xu);var n=this.originX,i=this.originY;(n||i)&&(nm[4]=n,nm[5]=i,Dl(Xu,r,nm),Xu[4]-=n,Xu[5]-=i,r=Xu),this.setLocalTransform(r)}},t.prototype.getGlobalScale=function(e){var r=this.transform;return e=e||[],r?(e[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),e[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(e[0]=-e[0]),r[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,r){var n=[e,r],i=this.invTransform;return i&&gi(n,n,i),n},t.prototype.transformCoordToGlobal=function(e,r){var n=[e,r],i=this.transform;return i&&gi(n,n,i),n},t.prototype.getLineScale=function(){var e=this.transform;return e&&im(e[0]-1)>1e-10&&im(e[3]-1)>1e-10?Math.sqrt(im(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){oG(this,e)},t.getLocalTransform=function(e,r){r=r||[];var n=e.originX||0,i=e.originY||0,a=e.scaleX,o=e.scaleY,s=e.anchorX,u=e.anchorY,l=e.rotation||0,c=e.x,h=e.y,f=e.skewX?Math.tan(e.skewX):0,v=e.skewY?Math.tan(-e.skewY):0;if(n||i||s||u){var p=n+s,g=i+u;r[4]=-p*a-f*g*o,r[5]=-g*o-v*p*a}else r[4]=r[5]=0;return r[0]=a,r[3]=o,r[1]=v*a,r[2]=f*o,l&&Np(r,r,l),r[4]+=n+c,r[5]+=i+h,r},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),nh=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function oG(t,e){for(var r=0;r<nh.length;r++){var n=nh[r];t[n]=e[n]}}const kh=aG;var KS={};function Xn(t,e){e=e||du;var r=KS[e];r||(r=KS[e]=new Ah(500));var n=r.get(t);return n==null&&(n=fc.measureText(t,e).width,r.put(t,n)),n}function QS(t,e,r,n){var i=Xn(t,e),a=i_(e),o=df(0,i,r),s=pl(0,a,n),u=new Nt(o,s,i,a);return u}function Ph(t,e,r,n){var i=((t||"")+"").split(`
`),a=i.length;if(a===1)return QS(i[0],e,r,n);for(var o=new Nt(0,0,0,0),s=0;s<i.length;s++){var u=QS(i[s],e,r,n);s===0?o.copy(u):o.union(u)}return o}function df(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function pl(t,e,r){return r==="middle"?t-=e/2:r==="bottom"&&(t-=e),t}function i_(t){return Xn("",t)}function Qo(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function qv(t,e,r){var n=e.position||"inside",i=e.distance!=null?e.distance:5,a=r.height,o=r.width,s=a/2,u=r.x,l=r.y,c="left",h="top";if(n instanceof Array)u+=Qo(n[0],r.width),l+=Qo(n[1],r.height),c=null,h=null;else switch(n){case"left":u-=i,l+=s,c="right",h="middle";break;case"right":u+=i+o,l+=s,h="middle";break;case"top":u+=o/2,l-=i,c="center",h="bottom";break;case"bottom":u+=o/2,l+=a+i,c="center";break;case"inside":u+=o/2,l+=s,c="center",h="middle";break;case"insideLeft":u+=i,l+=s,h="middle";break;case"insideRight":u+=o-i,l+=s,c="right",h="middle";break;case"insideTop":u+=o/2,l+=i,c="center";break;case"insideBottom":u+=o/2,l+=a-i,c="center",h="bottom";break;case"insideTopLeft":u+=i,l+=i;break;case"insideTopRight":u+=o-i,l+=i,c="right";break;case"insideBottomLeft":u+=i,l+=a-i,h="bottom";break;case"insideBottomRight":u+=o-i,l+=a-i,c="right",h="bottom";break}return t=t||{},t.x=u,t.y=l,t.align=c,t.verticalAlign=h,t}var am="__zr_normal__",om=nh.concat(["ignore"]),sG=Zo(nh,function(t,e){return t[e]=!0,t},{ignore:!1}),qu={},uG=new Nt(0,0,0,0),a_=function(){function t(e){this.id=BP(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=r,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var r=this._textContent;if(r&&(!r.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=r.innerTransformable,o=void 0,s=void 0,u=!1;a.parent=i?this:null;var l=!1;if(a.copyTransform(r),n.position!=null){var c=uG;n.layoutRect?c.copy(n.layoutRect):c.copy(this.getBoundingRect()),i||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(qu,n,c):qv(qu,n,c),a.x=qu.x,a.y=qu.y,o=qu.align,s=qu.verticalAlign;var h=n.origin;if(h&&n.rotation!=null){var f=void 0,v=void 0;h==="center"?(f=c.width*.5,v=c.height*.5):(f=Qo(h[0],c.width),v=Qo(h[1],c.height)),l=!0,a.originX=-a.x+f+(i?0:c.x),a.originY=-a.y+v+(i?0:c.y)}}n.rotation!=null&&(a.rotation=n.rotation);var p=n.offset;p&&(a.x+=p[0],a.y+=p[1],l||(a.originX=-p[0],a.originY=-p[1]));var g=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),_=void 0,b=void 0,w=void 0;g&&this.canBeInsideText()?(_=n.insideFill,b=n.insideStroke,(_==null||_==="auto")&&(_=this.getInsideTextFill()),(b==null||b==="auto")&&(b=this.getInsideTextStroke(_),w=!0)):(_=n.outsideFill,b=n.outsideStroke,(_==null||_==="auto")&&(_=this.getOutsideFill()),(b==null||b==="auto")&&(b=this.getOutsideStroke(_),w=!0)),_=_||"#000",(_!==m.fill||b!==m.stroke||w!==m.autoStroke||o!==m.align||s!==m.verticalAlign)&&(u=!0,m.fill=_,m.stroke=b,m.autoStroke=w,m.align=o,m.verticalAlign=s,r.setDefaultTextStyle(m)),r.__dirty|=jn,u&&r.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?l0:u0},t.prototype.getOutsideStroke=function(e){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&Qa(r);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(a?0:255)*(1-i);return n[3]=1,$p(n,"rgba")},t.prototype.traverse=function(e,r){},t.prototype.attrKV=function(e,r){e==="textConfig"?this.setTextConfig(r):e==="textContent"?this.setTextContent(r):e==="clipPath"?this.setClipPath(r):e==="extra"?(this.extra=this.extra||{},Oe(this.extra,r)):this[e]=r},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,r){if(typeof e=="string")this.attrKV(e,r);else if(it(e))for(var n=e,i=lr(n),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,e[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var r=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==am)){var o=i.targetName,s=o?r[o]:r;i.saveTo(s)}}},t.prototype._innerSaveToNormal=function(e){var r=this._normalState;r||(r=this._normalState={}),e.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(e,r,om)},t.prototype._savePrimaryToNormal=function(e,r,n){for(var i=0;i<n.length;i++){var a=n[i];e[a]!=null&&!(a in r)&&(r[a]=this[a])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var r=this.states;return r[e]||(r[e]={}),r[e]},t.prototype.clearStates=function(e){this.useState(am,!1,e)},t.prototype.useState=function(e,r,n,i){var a=e===am,o=this.hasState();if(!(!o&&a)){var s=this.currentStates,u=this.stateTransition;if(!(Lt(s,e)>=0&&(r||s.length===1))){var l;if(this.stateProxy&&!a&&(l=this.stateProxy(e)),l||(l=this.states&&this.states[e]),!l&&!a){J1("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(l);var c=!!(l&&l.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,l,this._normalState,r,!n&&!this.__inHover&&u&&u.duration>0,u);var h=this._textContent,f=this._textGuide;return h&&h.useState(e,r,n,c),f&&f.useState(e,r,n,c),a?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~jn),l}}},t.prototype.useStates=function(e,r,n){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,o=e.length,s=o===a.length;if(s){for(var u=0;u<o;u++)if(e[u]!==a[u]){s=!1;break}}if(s)return;for(var u=0;u<o;u++){var l=e[u],c=void 0;this.stateProxy&&(c=this.stateProxy(l,e)),c||(c=this.states[l]),c&&i.push(c)}var h=i[o-1],f=!!(h&&h.hoverLayer||n);f&&this._toggleHoverLayerFlag(!0);var v=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(v),this._applyStateObj(e.join(","),v,this._normalState,!1,!r&&!this.__inHover&&p&&p.duration>0,p);var g=this._textContent,m=this._textGuide;g&&g.useStates(e,r,f),m&&m.useStates(e,r,f),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~jn)}},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var r=this.animators[e];r.targetName&&r.changeTarget(this[r.targetName])}},t.prototype.removeState=function(e){var r=Lt(this.currentStates,e);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},t.prototype.replaceState=function(e,r,n){var i=this.currentStates.slice(),a=Lt(i,e),o=Lt(i,r)>=0;a>=0?o?i.splice(a,1):i[a]=r:n&&!o&&i.push(r),this.useStates(i)},t.prototype.toggleState=function(e,r){r?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var r={},n,i=0;i<e.length;i++){var a=e[i];Oe(r,a),a.textConfig&&(n=n||{},Oe(n,a.textConfig))}return n&&(r.textConfig=n),r},t.prototype._applyStateObj=function(e,r,n,i,a,o){var s=!(r&&i);r&&r.textConfig?(this.textConfig=Oe({},i?this.textConfig:n.textConfig),Oe(this.textConfig,r.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var u={},l=!1,c=0;c<om.length;c++){var h=om[c],f=a&&sG[h];r&&r[h]!=null?f?(l=!0,u[h]=r[h]):this[h]=r[h]:s&&n[h]!=null&&(f?(l=!0,u[h]=n[h]):this[h]=n[h])}if(!a)for(var c=0;c<this.animators.length;c++){var v=this.animators[c],p=v.targetName;v.getLoop()||v.__changeFinalValue(p?(r||n)[p]:r||n)}l&&this._transitionState(e,u,o)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var r=this.__zr;r&&e.addSelfToZr(r),e.__zr=r,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var r=this._textContent;r!==e&&(r&&r!==e&&this.removeTextContent(),e.innerTransformable=new kh,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Oe(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=jn;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=e),n&&(n.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,r,n){var i=e?this[e]:this,a=new n_(i,r,n);return e&&(a.targetName=e),this.addAnimator(a,e),a},t.prototype.addAnimator=function(e,r){var n=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(r)}).done(function(){var a=i.animators,o=Lt(a,e);o>=0&&a.splice(o,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,r){for(var n=this.animators,i=n.length,a=[],o=0;o<i;o++){var s=n[o];!e||e===s.scope?s.stop(r):a.push(s)}return this.animators=a,this},t.prototype.animateTo=function(e,r,n){sm(this,e,r,n)},t.prototype.animateFrom=function(e,r,n){sm(this,e,r,n,!0)},t.prototype._transitionState=function(e,r,n,i){for(var a=sm(this,r,n,i),o=0;o<a.length;o++)a[o].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=jn;function r(n,i,a,o){Object.defineProperty(e,n,{get:function(){if(!this[i]){var u=this[i]=[];s(this,u)}return this[i]},set:function(u){this[a]=u[0],this[o]=u[1],this[i]=u,s(this,u)}});function s(u,l){Object.defineProperty(l,0,{get:function(){return u[a]},set:function(c){u[a]=c}}),Object.defineProperty(l,1,{get:function(){return u[o]},set:function(c){u[o]=c}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),t}();Gi(a_,ji);Gi(a_,kh);function sm(t,e,r,n,i){r=r||{};var a=[];sE(t,"",t,e,r,n,a,i);var o=a.length,s=!1,u=r.done,l=r.aborted,c=function(){s=!0,o--,o<=0&&(s?u&&u():l&&l())},h=function(){o--,o<=0&&(s?u&&u():l&&l())};o||u&&u(),a.length>0&&r.during&&a[0].during(function(p,g){r.during(g)});for(var f=0;f<a.length;f++){var v=a[f];c&&v.done(c),h&&v.aborted(h),r.force&&v.duration(r.duration),v.start(r.easing)}return a}function um(t,e,r){for(var n=0;n<r;n++)t[n]=e[n]}function lG(t){return Sn(t[0])}function cG(t,e,r){if(Sn(e[r]))if(Sn(t[r])||(t[r]=[]),qn(e[r])){var n=e[r].length;t[r].length!==n&&(t[r]=new e[r].constructor(n),um(t[r],e[r],n))}else{var i=e[r],a=t[r],o=i.length;if(lG(i))for(var s=i[0].length,u=0;u<o;u++)a[u]?um(a[u],i[u],s):a[u]=Array.prototype.slice.call(i[u]);else um(a,i,o);a.length=i.length}else t[r]=e[r]}function fG(t,e){return t===e||Sn(t)&&Sn(e)&&hG(t,e)}function hG(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function sE(t,e,r,n,i,a,o,s){for(var u=lr(n),l=i.duration,c=i.delay,h=i.additive,f=i.setToFinal,v=!it(a),p=t.animators,g=[],m=0;m<u.length;m++){var _=u[m],b=n[_];if(b!=null&&r[_]!=null&&(v||a[_]))if(it(b)&&!Sn(b)&&!Ip(b)){if(e){s||(r[_]=b,t.updateDuringAnimation(e));continue}sE(t,_,r[_],b,i,a&&a[_],o,s)}else g.push(_);else s||(r[_]=b,t.updateDuringAnimation(e),g.push(_))}var w=g.length;if(!h&&w)for(var T=0;T<p.length;T++){var k=p[T];if(k.targetName===e){var A=k.stopTracks(g);if(A){var M=Lt(p,k);p.splice(M,1)}}}if(i.force||(g=br(g,function(B){return!fG(n[B],r[B])}),w=g.length),w>0||i.force&&!o.length){var O=void 0,F=void 0,$=void 0;if(s){F={},f&&(O={});for(var T=0;T<w;T++){var _=g[T];F[_]=r[_],f?O[_]=n[_]:r[_]=n[_]}}else if(f){$={};for(var T=0;T<w;T++){var _=g[T];$[_]=yv(r[_]),cG(r,n,_)}}var k=new n_(r,!1,!1,h?br(p,function(U){return U.targetName===e}):null);k.targetName=e,i.scope&&(k.scope=i.scope),f&&O&&k.whenWithKeys(0,O,g),$&&k.whenWithKeys(0,$,g),k.whenWithKeys(l??500,s?F:n,g).delay(c||0),t.addAnimator(k,e),o.push(k)}}const uE=a_;var lE=function(t){De(e,t);function e(r){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(r){return this._children[r]},e.prototype.childOfName=function(r){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===r)return n[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},e.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,r),this._doAdd(r))}return this},e.prototype.replace=function(r,n){var i=Lt(this._children,r);return i>=0&&this.replaceAt(n,i),this},e.prototype.replaceAt=function(r,n){var i=this._children,a=i[n];if(r&&r!==this&&r.parent!==this&&r!==a){i[n]=r,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(r)}return this},e.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},e.prototype.remove=function(r){var n=this.__zr,i=this._children,a=Lt(i,r);return a<0?this:(i.splice(a,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},e.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,i=0;i<r.length;i++){var a=r[i];n&&a.removeSelfFromZr(n),a.parent=null}return r.length=0,this},e.prototype.eachChild=function(r,n){for(var i=this._children,a=0;a<i.length;a++){var o=i[a];r.call(n,o,a)}return this},e.prototype.traverse=function(r,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=r.call(n,a);a.isGroup&&!o&&a.traverse(r,n)}return this},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(r)}},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(r)}},e.prototype.getBoundingRect=function(r){for(var n=new Nt(0,0,0,0),i=r||this._children,a=[],o=null,s=0;s<i.length;s++){var u=i[s];if(!(u.ignore||u.invisible)){var l=u.getBoundingRect(),c=u.getLocalTransform(a);c?(Nt.applyTransform(n,l,c),o=o||n.clone(),o.union(n)):(o=o||l.clone(),o.union(l))}}return o||n},e}(uE);lE.prototype.type="group";const Er=lE;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var Sv={},cE={};function dG(t){delete cE[t]}function vG(t){if(!t)return!1;if(typeof t=="string")return Yv(t,1)<s0;if(t.colorStops){for(var e=t.colorStops,r=0,n=e.length,i=0;i<n;i++)r+=Yv(e[i].color,1);return r/=n,r<s0}return!1}var pG=function(){function t(e,r,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=e;var a=new MV,o=n.renderer||"canvas";Sv[o]||(o=lr(Sv)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var s=new Sv[o](r,a,n,e),u=n.ssr||s.ssrOnly;this.storage=a,this.painter=s;var l=!Tt.node&&!Tt.worker&&!u?new nG(s.getViewportRoot(),s.root):null,c=n.useCoarsePointer,h=c==null||c==="auto"?Tt.touchEventsSupported:!!c,f=44,v;h&&(v=Rt(n.pointerSize,f)),this.handler=new CV(a,s,l,s.root,v),this.animation=new qV({stage:{update:u?null:function(){return i._flush(!0)}}}),u||this.animation.start()}return t.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,r){this.painter.configLayer&&this.painter.configLayer(e,r),this.refresh()},t.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=vG(e)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(e){var r,n=bl();this._needsRefresh&&(r=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var i=bl();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},t.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,r){return this.handler.findHover(e,r)},t.prototype.on=function(e,r,n){return this.handler.on(e,r,n),this},t.prototype.off=function(e,r){this.handler.off(e,r)},t.prototype.trigger=function(e,r){this.handler.trigger(e,r)},t.prototype.clear=function(){for(var e=this.storage.getRoots(),r=0;r<e.length;r++)e[r]instanceof Er&&e[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,dG(this.id)},t}();function JS(t,e){var r=new pG(BP(),t,e);return cE[r.id]=r,r}function gG(t,e){Sv[t]=e}var ew=1e-4,fE=20;function mG(t){return t.replace(/^\s+|\s+$/g,"")}function No(t,e,r,n){var i=e[0],a=e[1],o=r[0],s=r[1],u=a-i,l=s-o;if(u===0)return l===0?o:(o+s)/2;if(n)if(u>0){if(t<=i)return o;if(t>=a)return s}else{if(t>=i)return o;if(t<=a)return s}else{if(t===i)return o;if(t===a)return s}return(t-i)/u*l+o}function Ht(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return et(t)?mG(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):t==null?NaN:+t}function Pr(t,e,r){return e==null&&(e=10),e=Math.min(Math.max(0,e),fE),t=(+t).toFixed(e),r?t:+t}function yG(t){return t.sort(function(e,r){return e-r}),t}function qa(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var e=1,r=0;r<15;r++,e*=10)if(Math.round(t*e)/e===t)return r}return _G(t)}function _G(t){var e=t.toString().toLowerCase(),r=e.indexOf("e"),n=r>0?+e.slice(r+1):0,i=r>0?r:e.length,a=e.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-n)}function hE(t,e){var r=Math.log,n=Math.LN10,i=Math.floor(r(t[1]-t[0])/n),a=Math.round(r(Math.abs(e[1]-e[0]))/n),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function bG(t,e){var r=Zo(t,function(v,p){return v+(isNaN(p)?0:p)},0);if(r===0)return[];for(var n=Math.pow(10,e),i=qe(t,function(v){return(isNaN(v)?0:v)/r*n*100}),a=n*100,o=qe(i,function(v){return Math.floor(v)}),s=Zo(o,function(v,p){return v+p},0),u=qe(i,function(v,p){return v-o[p]});s<a;){for(var l=Number.NEGATIVE_INFINITY,c=null,h=0,f=u.length;h<f;++h)u[h]>l&&(l=u[h],c=h);++o[c],u[c]=0,++s}return qe(o,function(v){return v/n})}function xG(t,e){var r=Math.max(qa(t),qa(e)),n=t+e;return r>fE?n:Pr(n,r)}function dE(t){var e=Math.PI*2;return(t%e+e)%e}function Zv(t){return t>-ew&&t<ew}var SG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function to(t){if(t instanceof Date)return t;if(et(t)){var e=SG.exec(t);if(!e)return new Date(NaN);if(e[8]){var r=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(r-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,r,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function wG(t){return Math.pow(10,o_(t))}function o_(t){if(t===0)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function vE(t,e){var r=o_(t),n=Math.pow(10,r),i=t/n,a;return e?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,t=a*n,r>=-20?+t.toFixed(r<0?-r:0):t}function Jo(t){var e=parseFloat(t);return e==t&&(e!==0||!et(t)||t.indexOf("x")<=0)?e:NaN}function TG(t){return!isNaN(Jo(t))}function pE(){return Math.round(Math.random()*9)}function gE(t,e){return e===0?t:gE(e,t%e)}function tw(t,e){return t==null?e:e==null?t:t*e/gE(t,e)}function $t(t){throw new Error(t)}function rw(t,e,r){return(e-t)*r+t}var mE="series\0",yE="\0_ec_\0";function Cr(t){return t instanceof Array?t:t==null?[]:[t]}function c0(t,e,r){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,i=r.length;n<i;n++){var a=r[n];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}var nw=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Eh(t){return it(t)&&!Ye(t)&&!(t instanceof Date)?t.value:t}function CG(t){return it(t)&&!(t instanceof Array)}function AG(t,e,r){var n=r==="normalMerge",i=r==="replaceMerge",a=r==="replaceAll";t=t||[],e=(e||[]).slice();var o=ft();K(e,function(u,l){if(!it(u)){e[l]=null;return}});var s=kG(t,o,r);return(n||i)&&PG(s,t,o,e),n&&EG(s,e),n||i?MG(s,e,i):a&&DG(s,e),LG(s),s}function kG(t,e,r){var n=[];if(r==="replaceAll")return n;for(var i=0;i<t.length;i++){var a=t[i];a&&a.id!=null&&e.set(a.id,i),n.push({existing:r==="replaceMerge"||ih(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function PG(t,e,r,n){K(n,function(i,a){if(!(!i||i.id==null)){var o=Df(i.id),s=r.get(o);if(s!=null){var u=t[s];wa(!u.newOption,'Duplicated option on id "'+o+'".'),u.newOption=i,u.existing=e[s],n[a]=null}}})}function EG(t,e){K(e,function(r,n){if(!(!r||r.name==null))for(var i=0;i<t.length;i++){var a=t[i].existing;if(!t[i].newOption&&a&&(a.id==null||r.id==null)&&!ih(r)&&!ih(a)&&_E("name",a,r)){t[i].newOption=r,e[n]=null;return}}})}function MG(t,e,r){K(e,function(n){if(n){for(var i,a=0;(i=t[a])&&(i.newOption||ih(i.existing)||i.existing&&n.id!=null&&!_E("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=r):t.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),a++}})}function DG(t,e){K(e,function(r){t.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function LG(t){var e=ft();K(t,function(r){var n=r.existing;n&&e.set(n.id,r)}),K(t,function(r){var n=r.newOption;wa(!n||n.id==null||!e.get(n.id)||e.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&e.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),K(t,function(r,n){var i=r.existing,a=r.newOption,o=r.keyInfo;if(it(a)){if(o.name=a.name!=null?Df(a.name):i?i.name:mE+n,i)o.id=Df(i.id);else if(a.id!=null)o.id=Df(a.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(e.get(o.id))}e.set(o.id,r)}})}function _E(t,e,r){var n=ma(e[t],null),i=ma(r[t],null);return n!=null&&i!=null&&n===i}function Df(t){return ma(t,"")}function ma(t,e){return t==null?e:et(t)?t:Wt(t)||Wy(t)?t+"":e}function s_(t){var e=t.name;return!!(e&&e.indexOf(mE))}function ih(t){return t&&t.id!=null&&Df(t.id).indexOf(yE)===0}function RG(t){return yE+t}function OG(t,e,r){K(t,function(n){var i=n.newOption;it(i)&&(n.keyInfo.mainType=e,n.keyInfo.subType=IG(e,i,n.existing,r))})}function IG(t,e,r,n){var i=e.type?e.type:r?r.subType:n.determineSubType(t,e);return i}function vu(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return Ye(e.dataIndex)?qe(e.dataIndex,function(r){return t.indexOfRawIndex(r)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return Ye(e.name)?qe(e.name,function(r){return t.indexOfName(r)}):t.indexOfName(e.name)}function hr(){var t="__ec_inner_"+BG++;return function(e){return e[t]||(e[t]={})}}var BG=pE();function Lf(t,e,r){var n=u_(e,r),i=n.mainTypeSpecified,a=n.queryOptionMap,o=n.others,s=o,u=r?r.defaultMainType:null;return!i&&u&&a.set(u,{}),a.each(function(l,c){var h=Mh(t,c,l,{useDefault:u===c,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});s[c+"Models"]=h.models,s[c+"Model"]=h.models[0]}),s}function u_(t,e){var r;if(et(t)){var n={};n[t+"Index"]=0,r=n}else r=t;var i=ft(),a={},o=!1;return K(r,function(s,u){if(u==="dataIndex"||u==="dataIndexInside"){a[u]=s;return}var l=u.match(/^(\w+)(Index|Id|Name)$/)||[],c=l[1],h=(l[2]||"").toLowerCase();if(!(!c||!h||e&&e.includeMainTypes&&Lt(e.includeMainTypes,c)<0)){o=o||!!c;var f=i.get(c)||i.set(c,{});f[h]=s}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var Qr={useDefault:!0,enableAll:!1,enableNone:!1},NG={useDefault:!1,enableAll:!0,enableNone:!0};function Mh(t,e,r,n){n=n||Qr;var i=r.index,a=r.id,o=r.name,s={models:null,specified:i!=null||a!=null||o!=null};if(!s.specified){var u=void 0;return s.models=n.useDefault&&(u=t.getComponent(e))?[u]:[],s}return i==="none"||i===!1?(wa(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(i==="all"&&(wa(n.enableAll,'`"all"` is not a valid value on index option.'),i=a=o=null),s.models=t.queryComponents({mainType:e,index:i,id:a,name:o}),s)}function bE(t,e,r){t.setAttribute?t.setAttribute(e,r):t[e]=r}function FG(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function $G(t){return t==="auto"?Tt.domSupported?"html":"richText":t||"html"}function xE(t,e,r,n,i){var a=e==null||e==="auto";if(n==null)return n;if(Wt(n)){var o=rw(r||0,n,i);return Pr(o,a?Math.max(qa(r||0),qa(n)):e)}else{if(et(n))return i<1?r:n;for(var s=[],u=r,l=n,c=Math.max(u?u.length:0,l.length),h=0;h<c;++h){var f=t.getDimensionInfo(h);if(f&&f.type==="ordinal")s[h]=(i<1&&u?u:l)[h];else{var v=u&&u[h]?u[h]:0,p=l[h],o=rw(v,p,i);s[h]=Pr(o,a?Math.max(qa(v),qa(p)):e)}}return s}}var HG=".",Ps="___EC__COMPONENT__CONTAINER___",SE="___EC__EXTENDED_CLASS___";function va(t){var e={main:"",sub:""};if(t){var r=t.split(HG);e.main=r[0]||"",e.sub=r[1]||""}return e}function zG(t){wa(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function UG(t){return!!(t&&t[SE])}function l_(t,e){t.$constructor=t,t.extend=function(r){var n=this,i;return VG(n)?i=function(a){De(o,a);function o(){return a.apply(this,arguments)||this}return o}(n):(i=function(){(r.$constructor||n).apply(this,arguments)},HU(i,this)),Oe(i.prototype,r),i[SE]=!0,i.extend=this.extend,i.superCall=WG,i.superApply=YG,i.superClass=n,i}}function VG(t){return ht(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function wE(t,e){t.extend=e.extend}var GG=Math.round(Math.random()*10);function jG(t){var e=["__\0is_clz",GG++].join("_");t.prototype[e]=!0,t.isInstance=function(r){return!!(r&&r[e])}}function WG(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[e].apply(t,r)}function YG(t,e,r){return this.superClass.prototype[e].apply(t,r)}function Hp(t){var e={};t.registerClass=function(n){var i=n.type||n.prototype.type;if(i){zG(i),n.prototype.type=i;var a=va(i);if(!a.sub)e[a.main]=n;else if(a.sub!==Ps){var o=r(a);o[a.sub]=n}}return n},t.getClass=function(n,i,a){var o=e[n];if(o&&o[Ps]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return o},t.getClassesByMainType=function(n){var i=va(n),a=[],o=e[i.main];return o&&o[Ps]?K(o,function(s,u){u!==Ps&&a.push(s)}):a.push(o),a},t.hasClass=function(n){var i=va(n);return!!e[i.main]},t.getAllClassMainTypes=function(){var n=[];return K(e,function(i,a){n.push(a)}),n},t.hasSubTypes=function(n){var i=va(n),a=e[i.main];return a&&a[Ps]};function r(n){var i=e[n.main];return(!i||!i[Ps])&&(i=e[n.main]={},i[Ps]=!0),i}}function ah(t,e){for(var r=0;r<t.length;r++)t[r][1]||(t[r][1]=t[r][0]);return e=e||!1,function(n,i,a){for(var o={},s=0;s<t.length;s++){var u=t[s][1];if(!(i&&Lt(i,u)>=0||a&&Lt(a,u)<0)){var l=n.getShallow(u,e);l!=null&&(o[t[s][0]]=l)}}return o}}var XG=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],qG=ah(XG),ZG=function(){function t(){}return t.prototype.getAreaStyle=function(e,r){return qG(this,e,r)},t}(),f0=new Ah(50);function KG(t){if(typeof t=="string"){var e=f0.get(t);return e&&e.image}else return t}function TE(t,e,r,n,i){if(t)if(typeof t=="string"){if(e&&e.__zrImageSrc===t||!r)return e;var a=f0.get(t),o={hostEl:r,cb:n,cbPayload:i};return a?(e=a.image,!zp(e)&&a.pending.push(o)):(e=fc.loadImage(t,iw,iw),e.__zrImageSrc=t,f0.put(t,e.__cachedImgObj={image:e,pending:[o]})),e}else return t;else return e}function iw(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}t.pending.length=0}function zp(t){return t&&t.width&&t.height}var lm=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function QG(t,e,r,n,i){if(!e)return"";var a=(t+"").split(`
`);i=CE(e,r,n,i);for(var o=0,s=a.length;o<s;o++)a[o]=AE(a[o],i);return a.join(`
`)}function CE(t,e,r,n){n=n||{};var i=Oe({},n);i.font=e,r=Rt(r,"..."),i.maxIterations=Rt(n.maxIterations,2);var a=i.minChar=Rt(n.minChar,0);i.cnCharWidth=Xn("",e);var o=i.ascCharWidth=Xn("a",e);i.placeholder=Rt(n.placeholder,"");for(var s=t=Math.max(0,t-1),u=0;u<a&&s>=o;u++)s-=o;var l=Xn(r,e);return l>s&&(r="",l=0),s=t-l,i.ellipsis=r,i.ellipsisWidth=l,i.contentWidth=s,i.containerWidth=t,i}function AE(t,e){var r=e.containerWidth,n=e.font,i=e.contentWidth;if(!r)return"";var a=Xn(t,n);if(a<=r)return t;for(var o=0;;o++){if(a<=i||o>=e.maxIterations){t+=e.ellipsis;break}var s=o===0?JG(t,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*i/a):0;t=t.substr(0,s),a=Xn(t,n)}return t===""&&(t=e.placeholder),t}function JG(t,e,r,n){for(var i=0,a=0,o=t.length;a<o&&i<e;a++){var s=t.charCodeAt(a);i+=0<=s&&s<=127?r:n}return a}function ej(t,e){t!=null&&(t+="");var r=e.overflow,n=e.padding,i=e.font,a=r==="truncate",o=i_(i),s=Rt(e.lineHeight,o),u=!!e.backgroundColor,l=e.lineOverflow==="truncate",c=e.width,h;c!=null&&(r==="break"||r==="breakAll")?h=t?kE(t,e.font,c,r==="breakAll",0).lines:[]:h=t?t.split(`
`):[];var f=h.length*s,v=Rt(e.height,f);if(f>v&&l){var p=Math.floor(v/s);h=h.slice(0,p)}if(t&&a&&c!=null)for(var g=CE(c,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),m=0;m<h.length;m++)h[m]=AE(h[m],g);for(var _=v,b=0,m=0;m<h.length;m++)b=Math.max(Xn(h[m],i),b);c==null&&(c=b);var w=b;return n&&(_+=n[0]+n[2],w+=n[1]+n[3],c+=n[1]+n[3]),u&&(w=c),{lines:h,height:v,outerWidth:w,outerHeight:_,lineHeight:s,calculatedLineHeight:o,contentWidth:b,contentHeight:f,width:c}}var tj=function(){function t(){}return t}(),aw=function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t}(),rj=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return t}();function nj(t,e){var r=new rj;if(t!=null&&(t+=""),!t)return r;for(var n=e.width,i=e.height,a=e.overflow,o=(a==="break"||a==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:a==="breakAll"}:null,s=lm.lastIndex=0,u;(u=lm.exec(t))!=null;){var l=u.index;l>s&&cm(r,t.substring(s,l),e,o),cm(r,u[2],e,o,u[1]),s=lm.lastIndex}s<t.length&&cm(r,t.substring(s,t.length),e,o);var c=[],h=0,f=0,v=e.padding,p=a==="truncate",g=e.lineOverflow==="truncate";function m(Q,J,ae){Q.width=J,Q.lineHeight=ae,h+=ae,f=Math.max(f,J)}e:for(var _=0;_<r.lines.length;_++){for(var b=r.lines[_],w=0,T=0,k=0;k<b.tokens.length;k++){var A=b.tokens[k],M=A.styleName&&e.rich[A.styleName]||{},O=A.textPadding=M.padding,F=O?O[1]+O[3]:0,$=A.font=M.font||e.font;A.contentHeight=i_($);var B=Rt(M.height,A.contentHeight);if(A.innerHeight=B,O&&(B+=O[0]+O[2]),A.height=B,A.lineHeight=Pf(M.lineHeight,e.lineHeight,B),A.align=M&&M.align||e.align,A.verticalAlign=M&&M.verticalAlign||"middle",g&&i!=null&&h+A.lineHeight>i){k>0?(b.tokens=b.tokens.slice(0,k),m(b,T,w),r.lines=r.lines.slice(0,_+1)):r.lines=r.lines.slice(0,_);break e}var U=M.width,H=U==null||U==="auto";if(typeof U=="string"&&U.charAt(U.length-1)==="%")A.percentWidth=U,c.push(A),A.contentWidth=Xn(A.text,$);else{if(H){var W=M.backgroundColor,z=W&&W.image;z&&(z=KG(z),zp(z)&&(A.width=Math.max(A.width,z.width*B/z.height)))}var G=p&&n!=null?n-T:null;G!=null&&G<A.width?!H||G<F?(A.text="",A.width=A.contentWidth=0):(A.text=QG(A.text,G-F,$,e.ellipsis,{minChar:e.truncateMinChar}),A.width=A.contentWidth=Xn(A.text,$)):A.contentWidth=Xn(A.text,$)}A.width+=F,T+=A.width,M&&(w=Math.max(w,A.lineHeight))}m(b,T,w)}r.outerWidth=r.width=Rt(n,f),r.outerHeight=r.height=Rt(i,h),r.contentHeight=h,r.contentWidth=f,v&&(r.outerWidth+=v[1]+v[3],r.outerHeight+=v[0]+v[2]);for(var _=0;_<c.length;_++){var A=c[_],Y=A.percentWidth;A.width=parseInt(Y,10)/100*r.width}return r}function cm(t,e,r,n,i){var a=e==="",o=i&&r.rich[i]||{},s=t.lines,u=o.font||r.font,l=!1,c,h;if(n){var f=o.padding,v=f?f[1]+f[3]:0;if(o.width!=null&&o.width!=="auto"){var p=Qo(o.width,n.width)+v;s.length>0&&p+n.accumWidth>n.width&&(c=e.split(`
`),l=!0),n.accumWidth=p}else{var g=kE(e,u,n.width,n.breakAll,n.accumWidth);n.accumWidth=g.accumWidth+v,h=g.linesWidths,c=g.lines}}else c=e.split(`
`);for(var m=0;m<c.length;m++){var _=c[m],b=new tj;if(b.styleName=i,b.text=_,b.isLineHolder=!_&&!a,typeof o.width=="number"?b.width=o.width:b.width=h?h[m]:Xn(_,u),!m&&!l){var w=(s[s.length-1]||(s[0]=new aw)).tokens,T=w.length;T===1&&w[0].isLineHolder?w[0]=b:(_||!T||a)&&w.push(b)}else s.push(new aw([b]))}}function ij(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var aj=Zo(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function oj(t){return ij(t)?!!aj[t]:!0}function kE(t,e,r,n,i){for(var a=[],o=[],s="",u="",l=0,c=0,h=0;h<t.length;h++){var f=t.charAt(h);if(f===`
`){u&&(s+=u,c+=l),a.push(s),o.push(c),s="",u="",l=0,c=0;continue}var v=Xn(f,e),p=n?!1:!oj(f);if(a.length?c+v>r:i+c+v>r){c?(s||u)&&(p?(s||(s=u,u="",l=0,c=l),a.push(s),o.push(c-l),u+=f,l+=v,s="",c=l):(u&&(s+=u,u="",l=0),a.push(s),o.push(c),s=f,c=v)):p?(a.push(u),o.push(l),u=f,l=v):(a.push(f),o.push(v));continue}c+=v,p?(u+=f,l+=v):(u&&(s+=u,u="",l=0),s+=f)}return!a.length&&!s&&(s=t,u="",l=0),u&&(s+=u),s&&(a.push(s),o.push(c)),a.length===1&&(c+=i),{accumWidth:c,lines:a,linesWidths:o}}var h0="__zr_style_"+Math.round(Math.random()*10),au={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Up={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};au[h0]=!0;var ow=["z","z2","invisible"],sj=["invisible"],uj=function(t){De(e,t);function e(r){return t.call(this,r)||this}return e.prototype._init=function(r){for(var n=lr(r),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(r[a]):t.prototype.attrKV.call(this,a,r[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(r,n,i,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&lj(this,r,n)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},e.prototype.contain=function(r,n){return this.rectContain(r,n)},e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.rectContain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,u=a.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new Nt(0,0,0,0)),n?Nt.applyTransform(r,i,n):r.copy(i),(o||s||u)&&(r.width+=o*2+Math.abs(s),r.height+=o*2+Math.abs(u),r.x=Math.min(r.x,r.x+s-o),r.y=Math.min(r.y,r.y+u-o));var l=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-l),r.y=Math.floor(r.y-l),r.width=Math.ceil(r.width+1+l*2),r.height=Math.ceil(r.height+1+l*2))}return r},e.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new Nt(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(r){return this.animate("style",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(r,n){r!=="style"?t.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:Oe(this.style,r),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=ff,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&ff)},e.prototype.styleUpdated=function(){this.__dirty&=~ff},e.prototype.createStyle=function(r){return Bp(au,r)},e.prototype.useStyle=function(r){r[h0]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},e.prototype.isStyleObject=function(r){return r[h0]},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,ow)},e.prototype._applyStateObj=function(r,n,i,a,o,s){t.prototype._applyStateObj.call(this,r,n,i,a,o,s);var u=!(n&&a),l;if(n&&n.style?o?a?l=n.style:(l=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(l,n.style)):(l=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(l,n.style)):u&&(l=i.style),l)if(o){var c=this.style;if(this.style=this.createStyle(u?{}:c),u)for(var h=lr(c),f=0;f<h.length;f++){var v=h[f];v in l&&(l[v]=l[v],this.style[v]=c[v])}for(var p=lr(l),f=0;f<p.length;f++){var v=p[f];this.style[v]=this.style[v]}this._transitionState(r,{style:l},s,this.getAnimationStyleProps())}else this.useStyle(l);for(var g=this.__inHover?sj:ow,f=0;f<g.length;f++){var v=g[f];n&&n[v]!=null?this[v]=n[v]:u&&i[v]!=null&&(this[v]=i[v])}},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var o=r[a];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(n.style=i),n},e.prototype._mergeStyle=function(r,n){return Oe(r,n),r},e.prototype.getAnimationStyleProps=function(){return Up},e.initDefaultProps=function(){var r=e.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=jn|ff}(),e}(uE),fm=new Nt(0,0,0,0),hm=new Nt(0,0,0,0);function lj(t,e,r){return fm.copy(t.getBoundingRect()),t.transform&&fm.applyTransform(t.transform),hm.width=e,hm.height=r,!fm.intersect(hm)}const vc=uj;var En=Math.min,Mn=Math.max,dm=Math.sin,vm=Math.cos,Es=Math.PI*2,bd=dc(),xd=dc(),Sd=dc();function PE(t,e,r){if(t.length!==0){for(var n=t[0],i=n[0],a=n[0],o=n[1],s=n[1],u=1;u<t.length;u++)n=t[u],i=En(i,n[0]),a=Mn(a,n[0]),o=En(o,n[1]),s=Mn(s,n[1]);e[0]=i,e[1]=o,r[0]=a,r[1]=s}}function sw(t,e,r,n,i,a){i[0]=En(t,r),i[1]=En(e,n),a[0]=Mn(t,r),a[1]=Mn(e,n)}var uw=[],lw=[];function cj(t,e,r,n,i,a,o,s,u,l){var c=KP,h=Or,f=c(t,r,i,o,uw);u[0]=1/0,u[1]=1/0,l[0]=-1/0,l[1]=-1/0;for(var v=0;v<f;v++){var p=h(t,r,i,o,uw[v]);u[0]=En(p,u[0]),l[0]=Mn(p,l[0])}f=c(e,n,a,s,lw);for(var v=0;v<f;v++){var g=h(e,n,a,s,lw[v]);u[1]=En(g,u[1]),l[1]=Mn(g,l[1])}u[0]=En(t,u[0]),l[0]=Mn(t,l[0]),u[0]=En(o,u[0]),l[0]=Mn(o,l[0]),u[1]=En(e,u[1]),l[1]=Mn(e,l[1]),u[1]=En(s,u[1]),l[1]=Mn(s,l[1])}function fj(t,e,r,n,i,a,o,s){var u=JP,l=un,c=Mn(En(u(t,r,i),1),0),h=Mn(En(u(e,n,a),1),0),f=l(t,r,i,c),v=l(e,n,a,h);o[0]=En(t,i,f),o[1]=En(e,a,v),s[0]=Mn(t,i,f),s[1]=Mn(e,a,v)}function hj(t,e,r,n,i,a,o,s,u){var l=yl,c=_l,h=Math.abs(i-a);if(h%Es<1e-4&&h>1e-4){s[0]=t-r,s[1]=e-n,u[0]=t+r,u[1]=e+n;return}if(bd[0]=vm(i)*r+t,bd[1]=dm(i)*n+e,xd[0]=vm(a)*r+t,xd[1]=dm(a)*n+e,l(s,bd,xd),c(u,bd,xd),i=i%Es,i<0&&(i=i+Es),a=a%Es,a<0&&(a=a+Es),i>a&&!o?a+=Es:i<a&&o&&(i+=Es),o){var f=a;a=i,i=f}for(var v=0;v<a;v+=Math.PI/2)v>i&&(Sd[0]=vm(v)*r+t,Sd[1]=dm(v)*n+e,l(s,Sd,s),c(u,Sd,u))}var jt={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ms=[],Ds=[],aa=[],wo=[],oa=[],sa=[],pm=Math.min,gm=Math.max,Ls=Math.cos,Rs=Math.sin,Va=Math.abs,d0=Math.PI,Lo=d0*2,mm=typeof Float32Array<"u",Vc=[];function ym(t){var e=Math.round(t/d0*1e8)/1e8;return e%2*d0}function dj(t,e){var r=ym(t[0]);r<0&&(r+=Lo);var n=r-t[0],i=t[1];i+=n,!e&&i-r>=Lo?i=r+Lo:e&&r-i>=Lo?i=r-Lo:!e&&r>i?i=r+(Lo-ym(r-i)):e&&r<i&&(i=r-(Lo-ym(i-r))),t[0]=r,t[1]=i}var vj=function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,r,n){n=n||0,n>0&&(this._ux=Va(n/Xv/e)||0,this._uy=Va(n/Xv/r)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,r){return this._drawPendingPt(),this.addData(jt.M,e,r),this._ctx&&this._ctx.moveTo(e,r),this._x0=e,this._y0=r,this._xi=e,this._yi=r,this},t.prototype.lineTo=function(e,r){var n=Va(e-this._xi),i=Va(r-this._yi),a=n>this._ux||i>this._uy;if(this.addData(jt.L,e,r),this._ctx&&a&&this._ctx.lineTo(e,r),a)this._xi=e,this._yi=r,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=r,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(e,r,n,i,a,o){return this._drawPendingPt(),this.addData(jt.C,e,r,n,i,a,o),this._ctx&&this._ctx.bezierCurveTo(e,r,n,i,a,o),this._xi=a,this._yi=o,this},t.prototype.quadraticCurveTo=function(e,r,n,i){return this._drawPendingPt(),this.addData(jt.Q,e,r,n,i),this._ctx&&this._ctx.quadraticCurveTo(e,r,n,i),this._xi=n,this._yi=i,this},t.prototype.arc=function(e,r,n,i,a,o){this._drawPendingPt(),Vc[0]=i,Vc[1]=a,dj(Vc,o),i=Vc[0],a=Vc[1];var s=a-i;return this.addData(jt.A,e,r,n,n,i,s,0,o?0:1),this._ctx&&this._ctx.arc(e,r,n,i,a,o),this._xi=Ls(a)*n+e,this._yi=Rs(a)*n+r,this},t.prototype.arcTo=function(e,r,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,r,n,i,a),this},t.prototype.rect=function(e,r,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,r,n,i),this.addData(jt.R,e,r,n,i),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(jt.Z);var e=this._ctx,r=this._x0,n=this._y0;return e&&e.closePath(),this._xi=r,this._yi=n,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){var r=e.length;!(this.data&&this.data.length===r)&&mm&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=e[n];this._len=r},t.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var r=e.length,n=0,i=this._len,a=0;a<r;a++)n+=e[a].len();mm&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var a=0;a<r;a++)for(var o=e[a].data,s=0;s<o.length;s++)this.data[i++]=o[s];this._len=i},t.prototype.addData=function(e,r,n,i,a,o,s,u,l){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var h=0;h<arguments.length;h++)c[this._len++]=arguments[h]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],r=0;r<this._len;r++)e[r]=this.data[r];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,mm&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){aa[0]=aa[1]=oa[0]=oa[1]=Number.MAX_VALUE,wo[0]=wo[1]=sa[0]=sa[1]=-Number.MAX_VALUE;var e=this.data,r=0,n=0,i=0,a=0,o;for(o=0;o<this._len;){var s=e[o++],u=o===1;switch(u&&(r=e[o],n=e[o+1],i=r,a=n),s){case jt.M:r=i=e[o++],n=a=e[o++],oa[0]=i,oa[1]=a,sa[0]=i,sa[1]=a;break;case jt.L:sw(r,n,e[o],e[o+1],oa,sa),r=e[o++],n=e[o++];break;case jt.C:cj(r,n,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],oa,sa),r=e[o++],n=e[o++];break;case jt.Q:fj(r,n,e[o++],e[o++],e[o],e[o+1],oa,sa),r=e[o++],n=e[o++];break;case jt.A:var l=e[o++],c=e[o++],h=e[o++],f=e[o++],v=e[o++],p=e[o++]+v;o+=1;var g=!e[o++];u&&(i=Ls(v)*h+l,a=Rs(v)*f+c),hj(l,c,h,f,v,p,g,oa,sa),r=Ls(p)*h+l,n=Rs(p)*f+c;break;case jt.R:i=r=e[o++],a=n=e[o++];var m=e[o++],_=e[o++];sw(i,a,i+m,a+_,oa,sa);break;case jt.Z:r=i,n=a;break}yl(aa,aa,oa),_l(wo,wo,sa)}return o===0&&(aa[0]=aa[1]=wo[0]=wo[1]=0),new Nt(aa[0],aa[1],wo[0]-aa[0],wo[1]-aa[1])},t.prototype._calculateLength=function(){var e=this.data,r=this._len,n=this._ux,i=this._uy,a=0,o=0,s=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,c=0,h=0,f=0;f<r;){var v=e[f++],p=f===1;p&&(a=e[f],o=e[f+1],s=a,u=o);var g=-1;switch(v){case jt.M:a=s=e[f++],o=u=e[f++];break;case jt.L:{var m=e[f++],_=e[f++],b=m-a,w=_-o;(Va(b)>n||Va(w)>i||f===r-1)&&(g=Math.sqrt(b*b+w*w),a=m,o=_);break}case jt.C:{var T=e[f++],k=e[f++],m=e[f++],_=e[f++],A=e[f++],M=e[f++];g=DV(a,o,T,k,m,_,A,M,10),a=A,o=M;break}case jt.Q:{var T=e[f++],k=e[f++],m=e[f++],_=e[f++];g=RV(a,o,T,k,m,_,10),a=m,o=_;break}case jt.A:var O=e[f++],F=e[f++],$=e[f++],B=e[f++],U=e[f++],H=e[f++],W=H+U;f+=1,e[f++],p&&(s=Ls(U)*$+O,u=Rs(U)*B+F),g=gm($,B)*pm(Lo,Math.abs(H)),a=Ls(W)*$+O,o=Rs(W)*B+F;break;case jt.R:{s=a=e[f++],u=o=e[f++];var z=e[f++],G=e[f++];g=z*2+G*2;break}case jt.Z:{var b=s-a,w=u-o;g=Math.sqrt(b*b+w*w),a=s,o=u;break}}g>=0&&(l[h++]=g,c+=g)}return this._pathLen=c,c},t.prototype.rebuildPath=function(e,r){var n=this.data,i=this._ux,a=this._uy,o=this._len,s,u,l,c,h,f,v=r<1,p,g,m=0,_=0,b,w=0,T,k;if(!(v&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,g=this._pathLen,b=r*g,!b)))e:for(var A=0;A<o;){var M=n[A++],O=A===1;switch(O&&(l=n[A],c=n[A+1],s=l,u=c),M!==jt.L&&w>0&&(e.lineTo(T,k),w=0),M){case jt.M:s=l=n[A++],u=c=n[A++],e.moveTo(l,c);break;case jt.L:{h=n[A++],f=n[A++];var F=Va(h-l),$=Va(f-c);if(F>i||$>a){if(v){var B=p[_++];if(m+B>b){var U=(b-m)/B;e.lineTo(l*(1-U)+h*U,c*(1-U)+f*U);break e}m+=B}e.lineTo(h,f),l=h,c=f,w=0}else{var H=F*F+$*$;H>w&&(T=h,k=f,w=H)}break}case jt.C:{var W=n[A++],z=n[A++],G=n[A++],Y=n[A++],Q=n[A++],J=n[A++];if(v){var B=p[_++];if(m+B>b){var U=(b-m)/B;Ko(l,W,G,Q,U,Ms),Ko(c,z,Y,J,U,Ds),e.bezierCurveTo(Ms[1],Ds[1],Ms[2],Ds[2],Ms[3],Ds[3]);break e}m+=B}e.bezierCurveTo(W,z,G,Y,Q,J),l=Q,c=J;break}case jt.Q:{var W=n[A++],z=n[A++],G=n[A++],Y=n[A++];if(v){var B=p[_++];if(m+B>b){var U=(b-m)/B;Wv(l,W,G,U,Ms),Wv(c,z,Y,U,Ds),e.quadraticCurveTo(Ms[1],Ds[1],Ms[2],Ds[2]);break e}m+=B}e.quadraticCurveTo(W,z,G,Y),l=G,c=Y;break}case jt.A:var ae=n[A++],he=n[A++],ve=n[A++],we=n[A++],Te=n[A++],Le=n[A++],$e=n[A++],se=!n[A++],pe=ve>we?ve:we,ge=Va(ve-we)>.001,be=Te+Le,Ce=!1;if(v){var B=p[_++];m+B>b&&(be=Te+Le*(b-m)/B,Ce=!0),m+=B}if(ge&&e.ellipse?e.ellipse(ae,he,ve,we,$e,Te,be,se):e.arc(ae,he,pe,Te,be,se),Ce)break e;O&&(s=Ls(Te)*ve+ae,u=Rs(Te)*we+he),l=Ls(be)*ve+ae,c=Rs(be)*we+he;break;case jt.R:s=l=n[A],u=c=n[A+1],h=n[A++],f=n[A++];var He=n[A++],Ie=n[A++];if(v){var B=p[_++];if(m+B>b){var Ne=b-m;e.moveTo(h,f),e.lineTo(h+pm(Ne,He),f),Ne-=He,Ne>0&&e.lineTo(h+He,f+pm(Ne,Ie)),Ne-=Ie,Ne>0&&e.lineTo(h+gm(He-Ne,0),f+Ie),Ne-=He,Ne>0&&e.lineTo(h,f+gm(Ie-Ne,0));break e}m+=B}e.rect(h,f,He,Ie);break;case jt.Z:if(v){var B=p[_++];if(m+B>b){var U=(b-m)/B;e.lineTo(l*(1-U)+s*U,c*(1-U)+u*U);break e}m+=B}e.closePath(),l=s,c=u}}},t.prototype.clone=function(){var e=new t,r=this.data;return e.data=r.slice?r.slice():Array.prototype.slice.call(r),e._len=this._len,e},t.CMD=jt,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();const ro=vj;function Zu(t,e,r,n,i,a,o){if(i===0)return!1;var s=i,u=0,l=t;if(o>e+s&&o>n+s||o<e-s&&o<n-s||a>t+s&&a>r+s||a<t-s&&a<r-s)return!1;if(t!==r)u=(e-n)/(t-r),l=(t*n-r*e)/(t-r);else return Math.abs(a-t)<=s/2;var c=u*a-o+l,h=c*c/(u*u+1);return h<=s/2*s/2}function pj(t,e,r,n,i,a,o,s,u,l,c){if(u===0)return!1;var h=u;if(c>e+h&&c>n+h&&c>a+h&&c>s+h||c<e-h&&c<n-h&&c<a-h&&c<s-h||l>t+h&&l>r+h&&l>i+h&&l>o+h||l<t-h&&l<r-h&&l<i-h&&l<o-h)return!1;var f=QP(t,e,r,n,i,a,o,s,l,c,null);return f<=h/2}function gj(t,e,r,n,i,a,o,s,u){if(o===0)return!1;var l=o;if(u>e+l&&u>n+l&&u>a+l||u<e-l&&u<n-l&&u<a-l||s>t+l&&s>r+l&&s>i+l||s<t-l&&s<r-l&&s<i-l)return!1;var c=eE(t,e,r,n,i,a,s,u,null);return c<=l/2}var cw=Math.PI*2;function zo(t){return t%=cw,t<0&&(t+=cw),t}var Gc=Math.PI*2;function mj(t,e,r,n,i,a,o,s,u){if(o===0)return!1;var l=o;s-=t,u-=e;var c=Math.sqrt(s*s+u*u);if(c-l>r||c+l<r)return!1;if(Math.abs(n-i)%Gc<1e-4)return!0;if(a){var h=n;n=zo(i),i=zo(h)}else n=zo(n),i=zo(i);n>i&&(i+=Gc);var f=Math.atan2(u,s);return f<0&&(f+=Gc),f>=n&&f<=i||f+Gc>=n&&f+Gc<=i}function Os(t,e,r,n,i,a){if(a>e&&a>n||a<e&&a<n||n===e)return 0;var o=(a-e)/(n-e),s=n<e?1:-1;(o===1||o===0)&&(s=n<e?.5:-.5);var u=o*(r-t)+t;return u===i?1/0:u>i?s:0}var To=ro.CMD,Is=Math.PI*2,yj=1e-4;function _j(t,e){return Math.abs(t-e)<yj}var yn=[-1,-1,-1],si=[-1,-1];function bj(){var t=si[0];si[0]=si[1],si[1]=t}function xj(t,e,r,n,i,a,o,s,u,l){if(l>e&&l>n&&l>a&&l>s||l<e&&l<n&&l<a&&l<s)return 0;var c=jv(e,n,a,s,l,yn);if(c===0)return 0;for(var h=0,f=-1,v=void 0,p=void 0,g=0;g<c;g++){var m=yn[g],_=m===0||m===1?.5:1,b=Or(t,r,i,o,m);b<u||(f<0&&(f=KP(e,n,a,s,si),si[1]<si[0]&&f>1&&bj(),v=Or(e,n,a,s,si[0]),f>1&&(p=Or(e,n,a,s,si[1]))),f===2?m<si[0]?h+=v<e?_:-_:m<si[1]?h+=p<v?_:-_:h+=s<p?_:-_:m<si[0]?h+=v<e?_:-_:h+=s<v?_:-_)}return h}function Sj(t,e,r,n,i,a,o,s){if(s>e&&s>n&&s>a||s<e&&s<n&&s<a)return 0;var u=LV(e,n,a,s,yn);if(u===0)return 0;var l=JP(e,n,a);if(l>=0&&l<=1){for(var c=0,h=un(e,n,a,l),f=0;f<u;f++){var v=yn[f]===0||yn[f]===1?.5:1,p=un(t,r,i,yn[f]);p<o||(yn[f]<l?c+=h<e?v:-v:c+=a<h?v:-v)}return c}else{var v=yn[0]===0||yn[0]===1?.5:1,p=un(t,r,i,yn[0]);return p<o?0:a<e?v:-v}}function wj(t,e,r,n,i,a,o,s){if(s-=e,s>r||s<-r)return 0;var u=Math.sqrt(r*r-s*s);yn[0]=-u,yn[1]=u;var l=Math.abs(n-i);if(l<1e-4)return 0;if(l>=Is-1e-4){n=0,i=Is;var c=a?1:-1;return o>=yn[0]+t&&o<=yn[1]+t?c:0}if(n>i){var h=n;n=i,i=h}n<0&&(n+=Is,i+=Is);for(var f=0,v=0;v<2;v++){var p=yn[v];if(p+t>o){var g=Math.atan2(s,p),c=a?1:-1;g<0&&(g=Is+g),(g>=n&&g<=i||g+Is>=n&&g+Is<=i)&&(g>Math.PI/2&&g<Math.PI*1.5&&(c=-c),f+=c)}}return f}function EE(t,e,r,n,i){for(var a=t.data,o=t.len(),s=0,u=0,l=0,c=0,h=0,f,v,p=0;p<o;){var g=a[p++],m=p===1;switch(g===To.M&&p>1&&(r||(s+=Os(u,l,c,h,n,i))),m&&(u=a[p],l=a[p+1],c=u,h=l),g){case To.M:c=a[p++],h=a[p++],u=c,l=h;break;case To.L:if(r){if(Zu(u,l,a[p],a[p+1],e,n,i))return!0}else s+=Os(u,l,a[p],a[p+1],n,i)||0;u=a[p++],l=a[p++];break;case To.C:if(r){if(pj(u,l,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],e,n,i))return!0}else s+=xj(u,l,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],n,i)||0;u=a[p++],l=a[p++];break;case To.Q:if(r){if(gj(u,l,a[p++],a[p++],a[p],a[p+1],e,n,i))return!0}else s+=Sj(u,l,a[p++],a[p++],a[p],a[p+1],n,i)||0;u=a[p++],l=a[p++];break;case To.A:var _=a[p++],b=a[p++],w=a[p++],T=a[p++],k=a[p++],A=a[p++];p+=1;var M=!!(1-a[p++]);f=Math.cos(k)*w+_,v=Math.sin(k)*T+b,m?(c=f,h=v):s+=Os(u,l,f,v,n,i);var O=(n-_)*T/w+_;if(r){if(mj(_,b,T,k,k+A,M,e,O,i))return!0}else s+=wj(_,b,T,k,k+A,M,O,i);u=Math.cos(k+A)*w+_,l=Math.sin(k+A)*T+b;break;case To.R:c=u=a[p++],h=l=a[p++];var F=a[p++],$=a[p++];if(f=c+F,v=h+$,r){if(Zu(c,h,f,h,e,n,i)||Zu(f,h,f,v,e,n,i)||Zu(f,v,c,v,e,n,i)||Zu(c,v,c,h,e,n,i))return!0}else s+=Os(f,h,f,v,n,i),s+=Os(c,v,c,h,n,i);break;case To.Z:if(r){if(Zu(u,l,c,h,e,n,i))return!0}else s+=Os(u,l,c,h,n,i);u=c,l=h;break}}return!r&&!_j(l,h)&&(s+=Os(u,l,c,h,n,i)||0),s!==0}function Tj(t,e,r){return EE(t,0,!1,e,r)}function Cj(t,e,r,n){return EE(t,e,!0,r,n)}var ME=ct({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},au),Aj={style:ct({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Up.style)},_m=nh.concat(["invisible","culling","z","z2","zlevel","parent"]),kj=function(t){De(e,t);function e(r){return t.call(this,r)||this}return e.prototype.update=function(){var r=this;t.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(u){r.buildPath(u,r.shape)}),i.silent=!0;var a=i.style;for(var o in n)a[o]!==n[o]&&(a[o]=n[o]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var s=0;s<_m.length;++s)i[_m[s]]=this[_m[s]];i.__dirty|=jn}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(r){var n=lr(r);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var o=n[a],s=r[o];o==="style"?this.style?Oe(this.style,s):this.useStyle(s):o==="shape"?Oe(this.shape,s):t.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(et(r)){var n=Yv(r,0);return n>.5?u0:n>.2?iG:l0}else if(r)return l0}return u0},e.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(et(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),o=Yv(r,0)<s0;if(a===o)return n}},e.prototype.buildPath=function(r,n,i){},e.prototype.pathUpdated=function(){this.__dirty&=~vl},e.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},e.prototype.createPathProxy=function(){this.path=new ro(!1)},e.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,i=!r;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&vl)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),r=o.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||i){s.copy(r);var u=n.strokeNoScale?this.getLineScale():1,l=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;l=Math.max(l,c??4)}u>1e-10&&(s.width+=l/u,s.height+=l/u,s.x-=l/u/2,s.y-=l/u/2)}return s}return r},e.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect(),o=this.style;if(r=i[0],n=i[1],a.contain(r,n)){var s=this.path;if(this.hasStroke()){var u=o.lineWidth,l=o.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),Cj(s,u/l,r,n)))return!0}if(this.hasFill())return Tj(s,r,n)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=vl,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(r){return this.animate("shape",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):t.prototype.attrKV.call(this,r,n)},e.prototype.setShape=function(r,n){var i=this.shape;return i||(i=this.shape={}),typeof r=="string"?i[r]=n:Oe(i,r),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&vl)},e.prototype.createStyle=function(r){return Bp(ME,r)},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=Oe({},this.shape))},e.prototype._applyStateObj=function(r,n,i,a,o,s){t.prototype._applyStateObj.call(this,r,n,i,a,o,s);var u=!(n&&a),l;if(n&&n.shape?o?a?l=n.shape:(l=Oe({},i.shape),Oe(l,n.shape)):(l=Oe({},a?this.shape:i.shape),Oe(l,n.shape)):u&&(l=i.shape),l)if(o){this.shape=Oe({},this.shape);for(var c={},h=lr(l),f=0;f<h.length;f++){var v=h[f];typeof l[v]=="object"?this.shape[v]=l[v]:c[v]=l[v]}this._transitionState(r,{shape:c},s)}else this.shape=l,this.dirtyShape()},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var o=r[a];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(n.shape=i),n},e.prototype.getAnimationStyleProps=function(){return Aj},e.prototype.isZeroArea=function(){return!1},e.extend=function(r){var n=function(a){De(o,a);function o(s){var u=a.call(this,s)||this;return r.init&&r.init.call(u,s),u}return o.prototype.getDefaultStyle=function(){return _t(r.style)},o.prototype.getDefaultShape=function(){return _t(r.shape)},o}(e);for(var i in r)typeof r[i]=="function"&&(n.prototype[i]=r[i]);return n},e.initDefaultProps=function(){var r=e.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=jn|ff|vl}(),e}(vc);const Ot=kj;var Pj=ct({strokeFirst:!0,font:du,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},ME),DE=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return n!=null&&n!=="none"&&r.lineWidth>0},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.createStyle=function(r){return Bp(Pj,r)},e.prototype.setBoundingRect=function(r){this._rect=r},e.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var n=r.text;n!=null?n+="":n="";var i=Ph(n,r.font,r.textAlign,r.textBaseline);if(i.x+=r.x||0,i.y+=r.y||0,this.hasStroke()){var a=r.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},e.initDefaultProps=function(){var r=e.prototype;r.dirtyRectTolerance=10}(),e}(vc);DE.prototype.type="tspan";const v0=DE;var Ej=ct({x:0,y:0},au),Mj={style:ct({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Up.style)};function Dj(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var LE=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(r){return Bp(Ej,r)},e.prototype._getSize=function(r){var n=this.style,i=n[r];if(i!=null)return i;var a=Dj(n.image)?n.image:this.__image;if(!a)return 0;var o=r==="width"?"height":"width",s=n[o];return s==null?a[r]:a[r]/a[o]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return Mj},e.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new Nt(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},e}(vc);LE.prototype.type="image";const Au=LE;function Lj(t,e){var r=e.x,n=e.y,i=e.width,a=e.height,o=e.r,s,u,l,c;i<0&&(r=r+i,i=-i),a<0&&(n=n+a,a=-a),typeof o=="number"?s=u=l=c=o:o instanceof Array?o.length===1?s=u=l=c=o[0]:o.length===2?(s=l=o[0],u=c=o[1]):o.length===3?(s=o[0],u=c=o[1],l=o[2]):(s=o[0],u=o[1],l=o[2],c=o[3]):s=u=l=c=0;var h;s+u>i&&(h=s+u,s*=i/h,u*=i/h),l+c>i&&(h=l+c,l*=i/h,c*=i/h),u+l>a&&(h=u+l,u*=a/h,l*=a/h),s+c>a&&(h=s+c,s*=a/h,c*=a/h),t.moveTo(r+s,n),t.lineTo(r+i-u,n),u!==0&&t.arc(r+i-u,n+u,u,-Math.PI/2,0),t.lineTo(r+i,n+a-l),l!==0&&t.arc(r+i-l,n+a-l,l,0,Math.PI/2),t.lineTo(r+c,n+a),c!==0&&t.arc(r+c,n+a-c,c,Math.PI/2,Math.PI),t.lineTo(r,n+s),s!==0&&t.arc(r+s,n+s,s,Math.PI,Math.PI*1.5)}var xl=Math.round;function RE(t,e,r){if(e){var n=e.x1,i=e.x2,a=e.y1,o=e.y2;t.x1=n,t.x2=i,t.y1=a,t.y2=o;var s=r&&r.lineWidth;return s&&(xl(n*2)===xl(i*2)&&(t.x1=t.x2=Js(n,s,!0)),xl(a*2)===xl(o*2)&&(t.y1=t.y2=Js(a,s,!0))),t}}function OE(t,e,r){if(e){var n=e.x,i=e.y,a=e.width,o=e.height;t.x=n,t.y=i,t.width=a,t.height=o;var s=r&&r.lineWidth;return s&&(t.x=Js(n,s,!0),t.y=Js(i,s,!0),t.width=Math.max(Js(n+a,s,!1)-t.x,a===0?0:1),t.height=Math.max(Js(i+o,s,!1)-t.y,o===0?0:1)),t}}function Js(t,e,r){if(!e)return t;var n=xl(t*2);return(n+xl(e))%2===0?n/2:(n+(r?1:-1))/2}var Rj=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),Oj={},IE=function(t){De(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new Rj},e.prototype.buildPath=function(r,n){var i,a,o,s;if(this.subPixelOptimize){var u=OE(Oj,n,this.style);i=u.x,a=u.y,o=u.width,s=u.height,u.r=n.r,n=u}else i=n.x,a=n.y,o=n.width,s=n.height;n.r?Lj(r,n):r.rect(i,a,o,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Ot);IE.prototype.type="rect";const Sr=IE;var fw={fill:"#000"},hw=2,Ij={style:ct({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Up.style)},BE=function(t){De(e,t);function e(r){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=fw,n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):t.prototype.getLocalTransform.call(this,r)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,Hj(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new Nt(0,0,0,0),n=this._children,i=[],a=null,o=0;o<n.length;o++){var s=n[o],u=s.getBoundingRect(),l=s.getLocalTransform(i);l?(r.copy(u),r.applyTransform(l),a=a||r.clone(),a.union(r)):(a=a||u.clone(),a.union(u))}this._rect=a||r}return this._rect},e.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||fw},e.prototype.setTextContent=function(r){},e.prototype._mergeStyle=function(r,n){if(!n)return r;var i=n.rich,a=r.rich||i&&{};return Oe(r,n),i&&a?(this._mergeRich(a,i),r.rich=a):a&&(r.rich=a),r},e.prototype._mergeRich=function(r,n){for(var i=lr(n),a=0;a<i.length;a++){var o=i[a];r[o]=r[o]||{},Oe(r[o],n[o])}},e.prototype.getAnimationStyleProps=function(){return Ij},e.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},e.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||du,i=r.padding,a=_w(r),o=ej(a,r),s=bm(r),u=!!r.backgroundColor,l=o.outerHeight,c=o.outerWidth,h=o.contentWidth,f=o.lines,v=o.lineHeight,p=this._defaultStyle,g=r.x||0,m=r.y||0,_=r.align||p.align||"left",b=r.verticalAlign||p.verticalAlign||"top",w=g,T=pl(m,o.contentHeight,b);if(s||i){var k=df(g,c,_),A=pl(m,l,b);s&&this._renderBackground(r,r,k,A,c,l)}T+=v/2,i&&(w=yw(g,_,i),b==="top"?T+=i[0]:b==="bottom"&&(T-=i[2]));for(var M=0,O=!1,F=mw("fill"in r?r.fill:(O=!0,p.fill)),$=gw("stroke"in r?r.stroke:!u&&(!p.autoStroke||O)?(M=hw,p.stroke):null),B=r.textShadowBlur>0,U=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),H=o.calculatedLineHeight,W=0;W<f.length;W++){var z=this._getOrCreateChild(v0),G=z.createStyle();z.useStyle(G),G.text=f[W],G.x=w,G.y=T,_&&(G.textAlign=_),G.textBaseline="middle",G.opacity=r.opacity,G.strokeFirst=!0,B&&(G.shadowBlur=r.textShadowBlur||0,G.shadowColor=r.textShadowColor||"transparent",G.shadowOffsetX=r.textShadowOffsetX||0,G.shadowOffsetY=r.textShadowOffsetY||0),G.stroke=$,G.fill=F,$&&(G.lineWidth=r.lineWidth||M,G.lineDash=r.lineDash,G.lineDashOffset=r.lineDashOffset||0),G.font=n,vw(G,r),T+=v,U&&z.setBoundingRect(new Nt(df(G.x,r.width,G.textAlign),pl(G.y,H,G.textBaseline),h,H))}},e.prototype._updateRichTexts=function(){var r=this.style,n=_w(r),i=nj(n,r),a=i.width,o=i.outerWidth,s=i.outerHeight,u=r.padding,l=r.x||0,c=r.y||0,h=this._defaultStyle,f=r.align||h.align,v=r.verticalAlign||h.verticalAlign,p=df(l,o,f),g=pl(c,s,v),m=p,_=g;u&&(m+=u[3],_+=u[0]);var b=m+a;bm(r)&&this._renderBackground(r,r,p,g,o,s);for(var w=!!r.backgroundColor,T=0;T<i.lines.length;T++){for(var k=i.lines[T],A=k.tokens,M=A.length,O=k.lineHeight,F=k.width,$=0,B=m,U=b,H=M-1,W=void 0;$<M&&(W=A[$],!W.align||W.align==="left");)this._placeToken(W,r,O,_,B,"left",w),F-=W.width,B+=W.width,$++;for(;H>=0&&(W=A[H],W.align==="right");)this._placeToken(W,r,O,_,U,"right",w),F-=W.width,U-=W.width,H--;for(B+=(a-(B-m)-(b-U)-F)/2;$<=H;)W=A[$],this._placeToken(W,r,O,_,B+W.width/2,"center",w),B+=W.width,$++;_+=O}},e.prototype._placeToken=function(r,n,i,a,o,s,u){var l=n.rich[r.styleName]||{};l.text=r.text;var c=r.verticalAlign,h=a+i/2;c==="top"?h=a+r.height/2:c==="bottom"&&(h=a+i-r.height/2);var f=!r.isLineHolder&&bm(l);f&&this._renderBackground(l,n,s==="right"?o-r.width:s==="center"?o-r.width/2:o,h-r.height/2,r.width,r.height);var v=!!l.backgroundColor,p=r.textPadding;p&&(o=yw(o,s,p),h-=r.height/2-p[0]-r.innerHeight/2);var g=this._getOrCreateChild(v0),m=g.createStyle();g.useStyle(m);var _=this._defaultStyle,b=!1,w=0,T=mw("fill"in l?l.fill:"fill"in n?n.fill:(b=!0,_.fill)),k=gw("stroke"in l?l.stroke:"stroke"in n?n.stroke:!v&&!u&&(!_.autoStroke||b)?(w=hw,_.stroke):null),A=l.textShadowBlur>0||n.textShadowBlur>0;m.text=r.text,m.x=o,m.y=h,A&&(m.shadowBlur=l.textShadowBlur||n.textShadowBlur||0,m.shadowColor=l.textShadowColor||n.textShadowColor||"transparent",m.shadowOffsetX=l.textShadowOffsetX||n.textShadowOffsetX||0,m.shadowOffsetY=l.textShadowOffsetY||n.textShadowOffsetY||0),m.textAlign=s,m.textBaseline="middle",m.font=r.font||du,m.opacity=Pf(l.opacity,n.opacity,1),vw(m,l),k&&(m.lineWidth=Pf(l.lineWidth,n.lineWidth,w),m.lineDash=Rt(l.lineDash,n.lineDash),m.lineDashOffset=n.lineDashOffset||0,m.stroke=k),T&&(m.fill=T);var M=r.contentWidth,O=r.contentHeight;g.setBoundingRect(new Nt(df(m.x,M,m.textAlign),pl(m.y,O,m.textBaseline),M,O))},e.prototype._renderBackground=function(r,n,i,a,o,s){var u=r.backgroundColor,l=r.borderWidth,c=r.borderColor,h=u&&u.image,f=u&&!h,v=r.borderRadius,p=this,g,m;if(f||r.lineHeight||l&&c){g=this._getOrCreateChild(Sr),g.useStyle(g.createStyle()),g.style.fill=null;var _=g.shape;_.x=i,_.y=a,_.width=o,_.height=s,_.r=v,g.dirtyShape()}if(f){var b=g.style;b.fill=u||null,b.fillOpacity=Rt(r.fillOpacity,1)}else if(h){m=this._getOrCreateChild(Au),m.onload=function(){p.dirtyStyle()};var w=m.style;w.image=u.image,w.x=i,w.y=a,w.width=o,w.height=s}if(l&&c){var b=g.style;b.lineWidth=l,b.stroke=c,b.strokeOpacity=Rt(r.strokeOpacity,1),b.lineDash=r.borderDash,b.lineDashOffset=r.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(b.strokeFirst=!0,b.lineWidth*=2)}var T=(g||m).style;T.shadowBlur=r.shadowBlur||0,T.shadowColor=r.shadowColor||"transparent",T.shadowOffsetX=r.shadowOffsetX||0,T.shadowOffsetY=r.shadowOffsetY||0,T.opacity=Pf(r.opacity,n.opacity,1)},e.makeFont=function(r){var n="";return $j(r)&&(n=[r.fontStyle,r.fontWeight,Fj(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&da(n)||r.textFont||r.font},e}(vc),Bj={left:!0,right:1,center:1},Nj={top:1,bottom:1,middle:1},dw=["fontStyle","fontWeight","fontSize","fontFamily"];function Fj(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?Z1+"px":t+"px"}function vw(t,e){for(var r=0;r<dw.length;r++){var n=dw[r],i=e[n];i!=null&&(t[n]=i)}}function $j(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function Hj(t){return pw(t),K(t.rich,pw),t}function pw(t){if(t){t.font=BE.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||Bj[e]?e:"left";var r=t.verticalAlign;r==="center"&&(r="middle"),t.verticalAlign=r==null||Nj[r]?r:"top";var n=t.padding;n&&(t.padding=NP(t.padding))}}function gw(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function mw(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function yw(t,e,r){return e==="right"?t-r[1]:e==="center"?t+r[3]/2-r[1]/2:t+r[3]}function _w(t){var e=t.text;return e!=null&&(e+=""),e}function bm(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}const Fr=BE;var Ut=hr(),zj=function(t,e,r,n){if(n){var i=Ut(n);i.dataIndex=r,i.dataType=e,i.seriesIndex=t,n.type==="group"&&n.traverse(function(a){var o=Ut(a);o.seriesIndex=t,o.dataIndex=r,o.dataType=e})}},bw=1,xw={},NE=hr(),c_=hr(),f_=0,Vp=1,Gp=2,_i=["emphasis","blur","select"],Kv=["normal","emphasis","blur","select"],Uj=10,Vj=9,ou="highlight",wv="downplay",Rf="select",Tv="unselect",Of="toggleSelect";function Ku(t){return t!=null&&t!=="none"}var Sw=new Ah(100);function ww(t){if(et(t)){var e=Sw.get(t);return e||(e=US(t,-.1),Sw.put(t,e)),e}else if(Ip(t)){var r=Oe({},t);return r.colorStops=qe(t.colorStops,function(n){return{offset:n.offset,color:US(n.color,-.1)}}),r}return t}function jp(t,e,r){t.onHoverStateChange&&(t.hoverState||0)!==r&&t.onHoverStateChange(e),t.hoverState=r}function FE(t){jp(t,"emphasis",Gp)}function $E(t){t.hoverState===Gp&&jp(t,"normal",f_)}function h_(t){jp(t,"blur",Vp)}function HE(t){t.hoverState===Vp&&jp(t,"normal",f_)}function Gj(t){t.selected=!0}function jj(t){t.selected=!1}function Tw(t,e,r){e(t,r)}function so(t,e,r){Tw(t,e,r),t.isGroup&&t.traverse(function(n){Tw(n,e,r)})}function Cw(t,e){switch(e){case"emphasis":t.hoverState=Gp;break;case"normal":t.hoverState=f_;break;case"blur":t.hoverState=Vp;break;case"select":t.selected=!0}}function Wj(t,e,r,n){for(var i=t.style,a={},o=0;o<e.length;o++){var s=e[o],u=i[s];a[s]=u??(n&&n[s])}for(var o=0;o<t.animators.length;o++){var l=t.animators[o];l.__fromStateTransition&&l.__fromStateTransition.indexOf(r)<0&&l.targetName==="style"&&l.saveTo(a,e)}return a}function Yj(t,e,r,n){var i=r&&Lt(r,"select")>=0,a=!1;if(t instanceof Ot){var o=NE(t),s=i&&o.selectFill||o.normalFill,u=i&&o.selectStroke||o.normalStroke;if(Ku(s)||Ku(u)){n=n||{};var l=n.style||{};l.fill==="inherit"?(a=!0,n=Oe({},n),l=Oe({},l),l.fill=s):!Ku(l.fill)&&Ku(s)?(a=!0,n=Oe({},n),l=Oe({},l),l.fill=ww(s)):!Ku(l.stroke)&&Ku(u)&&(a||(n=Oe({},n),l=Oe({},l)),l.stroke=ww(u)),n.style=l}}if(n&&n.z2==null){a||(n=Oe({},n));var c=t.z2EmphasisLift;n.z2=t.z2+(c??Uj)}return n}function Xj(t,e,r){if(r&&r.z2==null){r=Oe({},r);var n=t.z2SelectLift;r.z2=t.z2+(n??Vj)}return r}function qj(t,e,r){var n=Lt(t.currentStates,e)>=0,i=t.style.opacity,a=n?null:Wj(t,["opacity"],e,{opacity:1});r=r||{};var o=r.style||{};return o.opacity==null&&(r=Oe({},r),o=Oe({opacity:n?i:a.opacity*.1},o),r.style=o),r}function xm(t,e){var r=this.states[t];if(this.style){if(t==="emphasis")return Yj(this,t,e,r);if(t==="blur")return qj(this,t,r);if(t==="select")return Xj(this,t,r)}return r}function Zj(t){t.stateProxy=xm;var e=t.getTextContent(),r=t.getTextGuideLine();e&&(e.stateProxy=xm),r&&(r.stateProxy=xm)}function Aw(t,e){!GE(t,e)&&!t.__highByOuter&&so(t,FE)}function kw(t,e){!GE(t,e)&&!t.__highByOuter&&so(t,$E)}function Zl(t,e){t.__highByOuter|=1<<(e||0),so(t,FE)}function Kl(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&so(t,$E)}function Kj(t){so(t,h_)}function zE(t){so(t,HE)}function UE(t){so(t,Gj)}function VE(t){so(t,jj)}function GE(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function jE(t){var e=t.getModel(),r=[],n=[];e.eachComponent(function(i,a){var o=c_(a),s=i==="series",u=s?t.getViewOfSeriesModel(a):t.getViewOfComponentModel(a);!s&&n.push(u),o.isBlured&&(u.group.traverse(function(l){HE(l)}),s&&r.push(a)),o.isBlured=!1}),K(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(r,!1,e)})}function p0(t,e,r,n){var i=n.getModel();r=r||"coordinateSystem";function a(l,c){for(var h=0;h<c.length;h++){var f=l.getItemGraphicEl(c[h]);f&&zE(f)}}if(t!=null&&!(!e||e==="none")){var o=i.getSeriesByIndex(t),s=o.coordinateSystem;s&&s.master&&(s=s.master);var u=[];i.eachSeries(function(l){var c=o===l,h=l.coordinateSystem;h&&h.master&&(h=h.master);var f=h&&s?h===s:c;if(!(r==="series"&&!c||r==="coordinateSystem"&&!f||e==="series"&&c)){var v=n.getViewOfSeriesModel(l);if(v.group.traverse(function(m){h_(m)}),Sn(e))a(l.getData(),e);else if(it(e))for(var p=lr(e),g=0;g<p.length;g++)a(l.getData(p[g]),e[p[g]]);u.push(l),c_(l).isBlured=!0}}),i.eachComponent(function(l,c){if(l!=="series"){var h=n.getViewOfComponentModel(c);h&&h.toggleBlurSeries&&h.toggleBlurSeries(u,!0,i)}})}}function g0(t,e,r){if(!(t==null||e==null)){var n=r.getModel().getComponent(t,e);if(n){c_(n).isBlured=!0;var i=r.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){h_(a)})}}}function Qj(t,e,r){var n=t.seriesIndex,i=t.getData(e.dataType);if(i){var a=vu(i,e);a=(Ye(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),u=0;!o&&u<s;)o=i.getItemGraphicEl(u++);if(o){var l=Ut(o);p0(n,l.focus,l.blurScope,r)}else{var c=t.get(["emphasis","focus"]),h=t.get(["emphasis","blurScope"]);c!=null&&p0(n,c,h,r)}}}function d_(t,e,r,n){var i={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||e==null||r==null)return i;var a=n.getModel().getComponent(t,e);if(!a)return i;var o=n.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var s=o.findHighDownDispatchers(r),u,l=0;l<s.length;l++)if(Ut(s[l]).focus==="self"){u=!0;break}return{focusSelf:u,dispatchers:s}}function Jj(t,e,r){var n=Ut(t),i=d_(n.componentMainType,n.componentIndex,n.componentHighDownName,r),a=i.dispatchers,o=i.focusSelf;a?(o&&g0(n.componentMainType,n.componentIndex,r),K(a,function(s){return Aw(s,e)})):(p0(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&g0(n.componentMainType,n.componentIndex,r),Aw(t,e))}function eW(t,e,r){jE(r);var n=Ut(t),i=d_(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;i?K(i,function(a){return kw(a,e)}):kw(t,e)}function tW(t,e,r){if(_0(e)){var n=e.dataType,i=t.getData(n),a=vu(i,e);Ye(a)||(a=[a]),t[e.type===Of?"toggleSelect":e.type===Rf?"select":"unselect"](a,n)}}function Pw(t){var e=t.getAllData();K(e,function(r){var n=r.data,i=r.type;n.eachItemGraphicEl(function(a,o){t.isSelected(o,i)?UE(a):VE(a)})})}function rW(t){var e=[];return t.eachSeries(function(r){var n=r.getAllData();K(n,function(i){i.data;var a=i.type,o=r.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:r.seriesIndex};a!=null&&(s.dataType=a),e.push(s)}})}),e}function m0(t,e,r){WE(t,!0),so(t,Zj),iW(t,e,r)}function nW(t){WE(t,!1)}function oh(t,e,r,n){n?nW(t):m0(t,e,r)}function iW(t,e,r){var n=Ut(t);e!=null?(n.focus=e,n.blurScope=r):n.focus&&(n.focus=null)}var Ew=["emphasis","blur","select"],aW={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Qv(t,e,r,n){r=r||"itemStyle";for(var i=0;i<Ew.length;i++){var a=Ew[i],o=e.getModel([a,r]),s=t.ensureState(a);s.style=n?n(o):o[aW[r]]()}}function WE(t,e){var r=e===!1,n=t;t.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function y0(t){return!!(t&&t.__highDownDispatcher)}function oW(t){var e=xw[t];return e==null&&bw<=32&&(e=xw[t]=bw++),e}function _0(t){var e=t.type;return e===Rf||e===Tv||e===Of}function Mw(t){var e=t.type;return e===ou||e===wv}function sW(t){var e=NE(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var r=t.states.select||{};e.selectFill=r.style&&r.style.fill||null,e.selectStroke=r.style&&r.style.stroke||null}var Qu=ro.CMD,uW=[[],[],[]],Dw=Math.sqrt,lW=Math.atan2;function YE(t,e){if(e){var r=t.data,n=t.len(),i,a,o,s,u,l,c=Qu.M,h=Qu.C,f=Qu.L,v=Qu.R,p=Qu.A,g=Qu.Q;for(o=0,s=0;o<n;){switch(i=r[o++],s=o,a=0,i){case c:a=1;break;case f:a=1;break;case h:a=3;break;case g:a=2;break;case p:var m=e[4],_=e[5],b=Dw(e[0]*e[0]+e[1]*e[1]),w=Dw(e[2]*e[2]+e[3]*e[3]),T=lW(-e[1]/w,e[0]/b);r[o]*=b,r[o++]+=m,r[o]*=w,r[o++]+=_,r[o++]*=b,r[o++]*=w,r[o++]+=T,r[o++]+=T,o+=2,s=o;break;case v:l[0]=r[o++],l[1]=r[o++],gi(l,l,e),r[s++]=l[0],r[s++]=l[1],l[0]+=r[o++],l[1]+=r[o++],gi(l,l,e),r[s++]=l[0],r[s++]=l[1]}for(u=0;u<a;u++){var k=uW[u];k[0]=r[o++],k[1]=r[o++],gi(k,k,e),r[s++]=k[0],r[s++]=k[1]}}t.increaseVersion()}}var Sm=Math.sqrt,wd=Math.sin,Td=Math.cos,jc=Math.PI;function Lw(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function b0(t,e){return(t[0]*e[0]+t[1]*e[1])/(Lw(t)*Lw(e))}function Rw(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(b0(t,e))}function Ow(t,e,r,n,i,a,o,s,u,l,c){var h=u*(jc/180),f=Td(h)*(t-r)/2+wd(h)*(e-n)/2,v=-1*wd(h)*(t-r)/2+Td(h)*(e-n)/2,p=f*f/(o*o)+v*v/(s*s);p>1&&(o*=Sm(p),s*=Sm(p));var g=(i===a?-1:1)*Sm((o*o*(s*s)-o*o*(v*v)-s*s*(f*f))/(o*o*(v*v)+s*s*(f*f)))||0,m=g*o*v/s,_=g*-s*f/o,b=(t+r)/2+Td(h)*m-wd(h)*_,w=(e+n)/2+wd(h)*m+Td(h)*_,T=Rw([1,0],[(f-m)/o,(v-_)/s]),k=[(f-m)/o,(v-_)/s],A=[(-1*f-m)/o,(-1*v-_)/s],M=Rw(k,A);if(b0(k,A)<=-1&&(M=jc),b0(k,A)>=1&&(M=0),M<0){var O=Math.round(M/jc*1e6)/1e6;M=jc*2+O%2*jc}c.addData(l,b,w,o,s,T,M,h,a)}var cW=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,fW=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function hW(t){var e=new ro;if(!t)return e;var r=0,n=0,i=r,a=n,o,s=ro.CMD,u=t.match(cW);if(!u)return e;for(var l=0;l<u.length;l++){for(var c=u[l],h=c.charAt(0),f=void 0,v=c.match(fW)||[],p=v.length,g=0;g<p;g++)v[g]=parseFloat(v[g]);for(var m=0;m<p;){var _=void 0,b=void 0,w=void 0,T=void 0,k=void 0,A=void 0,M=void 0,O=r,F=n,$=void 0,B=void 0;switch(h){case"l":r+=v[m++],n+=v[m++],f=s.L,e.addData(f,r,n);break;case"L":r=v[m++],n=v[m++],f=s.L,e.addData(f,r,n);break;case"m":r+=v[m++],n+=v[m++],f=s.M,e.addData(f,r,n),i=r,a=n,h="l";break;case"M":r=v[m++],n=v[m++],f=s.M,e.addData(f,r,n),i=r,a=n,h="L";break;case"h":r+=v[m++],f=s.L,e.addData(f,r,n);break;case"H":r=v[m++],f=s.L,e.addData(f,r,n);break;case"v":n+=v[m++],f=s.L,e.addData(f,r,n);break;case"V":n=v[m++],f=s.L,e.addData(f,r,n);break;case"C":f=s.C,e.addData(f,v[m++],v[m++],v[m++],v[m++],v[m++],v[m++]),r=v[m-2],n=v[m-1];break;case"c":f=s.C,e.addData(f,v[m++]+r,v[m++]+n,v[m++]+r,v[m++]+n,v[m++]+r,v[m++]+n),r+=v[m-2],n+=v[m-1];break;case"S":_=r,b=n,$=e.len(),B=e.data,o===s.C&&(_+=r-B[$-4],b+=n-B[$-3]),f=s.C,O=v[m++],F=v[m++],r=v[m++],n=v[m++],e.addData(f,_,b,O,F,r,n);break;case"s":_=r,b=n,$=e.len(),B=e.data,o===s.C&&(_+=r-B[$-4],b+=n-B[$-3]),f=s.C,O=r+v[m++],F=n+v[m++],r+=v[m++],n+=v[m++],e.addData(f,_,b,O,F,r,n);break;case"Q":O=v[m++],F=v[m++],r=v[m++],n=v[m++],f=s.Q,e.addData(f,O,F,r,n);break;case"q":O=v[m++]+r,F=v[m++]+n,r+=v[m++],n+=v[m++],f=s.Q,e.addData(f,O,F,r,n);break;case"T":_=r,b=n,$=e.len(),B=e.data,o===s.Q&&(_+=r-B[$-4],b+=n-B[$-3]),r=v[m++],n=v[m++],f=s.Q,e.addData(f,_,b,r,n);break;case"t":_=r,b=n,$=e.len(),B=e.data,o===s.Q&&(_+=r-B[$-4],b+=n-B[$-3]),r+=v[m++],n+=v[m++],f=s.Q,e.addData(f,_,b,r,n);break;case"A":w=v[m++],T=v[m++],k=v[m++],A=v[m++],M=v[m++],O=r,F=n,r=v[m++],n=v[m++],f=s.A,Ow(O,F,r,n,A,M,w,T,k,f,e);break;case"a":w=v[m++],T=v[m++],k=v[m++],A=v[m++],M=v[m++],O=r,F=n,r+=v[m++],n+=v[m++],f=s.A,Ow(O,F,r,n,A,M,w,T,k,f,e);break}}(h==="z"||h==="Z")&&(f=s.Z,e.addData(f),r=i,n=a),o=f}return e.toStatic(),e}var XE=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(r){},e}(Ot);function qE(t){return t.setData!=null}function ZE(t,e){var r=hW(t),n=Oe({},e);return n.buildPath=function(i){if(qE(i)){i.setData(r.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;r.rebuildPath(a,1)}},n.applyTransform=function(i){YE(r,i),this.dirtyShape()},n}function dW(t,e){return new XE(ZE(t,e))}function vW(t,e){var r=ZE(t,e),n=function(i){De(a,i);function a(o){var s=i.call(this,o)||this;return s.applyTransform=r.applyTransform,s.buildPath=r.buildPath,s}return a}(XE);return n}function pW(t,e){for(var r=[],n=t.length,i=0;i<n;i++){var a=t[i];r.push(a.getUpdatedPathProxy(!0))}var o=new Ot(e);return o.createPathProxy(),o.buildPath=function(s){if(qE(s)){s.appendPath(r);var u=s.getContext();u&&s.rebuildPath(u,1)}},o}function v_(t,e){e=e||{};var r=new Ot;return t.shape&&r.setShape(t.shape),r.setStyle(t.style),e.bakeTransform?YE(r.path,t.getComputedTransform()):e.toLocal?r.setLocalTransform(t.getComputedTransform()):r.copyTransform(t),r.buildPath=t.buildPath,r.applyTransform=r.applyTransform,r.z=t.z,r.z2=t.z2,r.zlevel=t.zlevel,r}var gW=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),KE=function(t){De(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new gW},e.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},e}(Ot);KE.prototype.type="circle";const Ql=KE;var mW=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),QE=function(t){De(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new mW},e.prototype.buildPath=function(r,n){var i=.5522848,a=n.cx,o=n.cy,s=n.rx,u=n.ry,l=s*i,c=u*i;r.moveTo(a-s,o),r.bezierCurveTo(a-s,o-c,a-l,o-u,a,o-u),r.bezierCurveTo(a+l,o-u,a+s,o-c,a+s,o),r.bezierCurveTo(a+s,o+c,a+l,o+u,a,o+u),r.bezierCurveTo(a-l,o+u,a-s,o+c,a-s,o),r.closePath()},e}(Ot);QE.prototype.type="ellipse";const JE=QE;var eM=Math.PI,wm=eM*2,Bs=Math.sin,Ju=Math.cos,yW=Math.acos,on=Math.atan2,Iw=Math.abs,If=Math.sqrt,vf=Math.max,ua=Math.min,Pi=1e-4;function _W(t,e,r,n,i,a,o,s){var u=r-t,l=n-e,c=o-i,h=s-a,f=h*u-c*l;if(!(f*f<Pi))return f=(c*(e-a)-h*(t-i))/f,[t+f*u,e+f*l]}function Cd(t,e,r,n,i,a,o){var s=t-r,u=e-n,l=(o?a:-a)/If(s*s+u*u),c=l*u,h=-l*s,f=t+c,v=e+h,p=r+c,g=n+h,m=(f+p)/2,_=(v+g)/2,b=p-f,w=g-v,T=b*b+w*w,k=i-a,A=f*g-p*v,M=(w<0?-1:1)*If(vf(0,k*k*T-A*A)),O=(A*w-b*M)/T,F=(-A*b-w*M)/T,$=(A*w+b*M)/T,B=(-A*b+w*M)/T,U=O-m,H=F-_,W=$-m,z=B-_;return U*U+H*H>W*W+z*z&&(O=$,F=B),{cx:O,cy:F,x0:-c,y0:-h,x1:O*(i/k-1),y1:F*(i/k-1)}}function bW(t){var e;if(Ye(t)){var r=t.length;if(!r)return t;r===1?e=[t[0],t[0],0,0]:r===2?e=[t[0],t[0],t[1],t[1]]:r===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function xW(t,e){var r,n=vf(e.r,0),i=vf(e.r0||0,0),a=n>0,o=i>0;if(!(!a&&!o)){if(a||(n=i,i=0),i>n){var s=n;n=i,i=s}var u=e.startAngle,l=e.endAngle;if(!(isNaN(u)||isNaN(l))){var c=e.cx,h=e.cy,f=!!e.clockwise,v=Iw(l-u),p=v>wm&&v%wm;if(p>Pi&&(v=p),!(n>Pi))t.moveTo(c,h);else if(v>wm-Pi)t.moveTo(c+n*Ju(u),h+n*Bs(u)),t.arc(c,h,n,u,l,!f),i>Pi&&(t.moveTo(c+i*Ju(l),h+i*Bs(l)),t.arc(c,h,i,l,u,f));else{var g=void 0,m=void 0,_=void 0,b=void 0,w=void 0,T=void 0,k=void 0,A=void 0,M=void 0,O=void 0,F=void 0,$=void 0,B=void 0,U=void 0,H=void 0,W=void 0,z=n*Ju(u),G=n*Bs(u),Y=i*Ju(l),Q=i*Bs(l),J=v>Pi;if(J){var ae=e.cornerRadius;ae&&(r=bW(ae),g=r[0],m=r[1],_=r[2],b=r[3]);var he=Iw(n-i)/2;if(w=ua(he,_),T=ua(he,b),k=ua(he,g),A=ua(he,m),F=M=vf(w,T),$=O=vf(k,A),(M>Pi||O>Pi)&&(B=n*Ju(l),U=n*Bs(l),H=i*Ju(u),W=i*Bs(u),v<eM)){var ve=_W(z,G,H,W,B,U,Y,Q);if(ve){var we=z-ve[0],Te=G-ve[1],Le=B-ve[0],$e=U-ve[1],se=1/Bs(yW((we*Le+Te*$e)/(If(we*we+Te*Te)*If(Le*Le+$e*$e)))/2),pe=If(ve[0]*ve[0]+ve[1]*ve[1]);F=ua(M,(n-pe)/(se+1)),$=ua(O,(i-pe)/(se-1))}}}if(!J)t.moveTo(c+z,h+G);else if(F>Pi){var ge=ua(_,F),be=ua(b,F),Ce=Cd(H,W,z,G,n,ge,f),He=Cd(B,U,Y,Q,n,be,f);t.moveTo(c+Ce.cx+Ce.x0,h+Ce.cy+Ce.y0),F<M&&ge===be?t.arc(c+Ce.cx,h+Ce.cy,F,on(Ce.y0,Ce.x0),on(He.y0,He.x0),!f):(ge>0&&t.arc(c+Ce.cx,h+Ce.cy,ge,on(Ce.y0,Ce.x0),on(Ce.y1,Ce.x1),!f),t.arc(c,h,n,on(Ce.cy+Ce.y1,Ce.cx+Ce.x1),on(He.cy+He.y1,He.cx+He.x1),!f),be>0&&t.arc(c+He.cx,h+He.cy,be,on(He.y1,He.x1),on(He.y0,He.x0),!f))}else t.moveTo(c+z,h+G),t.arc(c,h,n,u,l,!f);if(!(i>Pi)||!J)t.lineTo(c+Y,h+Q);else if($>Pi){var ge=ua(g,$),be=ua(m,$),Ce=Cd(Y,Q,B,U,i,-be,f),He=Cd(z,G,H,W,i,-ge,f);t.lineTo(c+Ce.cx+Ce.x0,h+Ce.cy+Ce.y0),$<O&&ge===be?t.arc(c+Ce.cx,h+Ce.cy,$,on(Ce.y0,Ce.x0),on(He.y0,He.x0),!f):(be>0&&t.arc(c+Ce.cx,h+Ce.cy,be,on(Ce.y0,Ce.x0),on(Ce.y1,Ce.x1),!f),t.arc(c,h,i,on(Ce.cy+Ce.y1,Ce.cx+Ce.x1),on(He.cy+He.y1,He.cx+He.x1),f),ge>0&&t.arc(c+He.cx,h+He.cy,ge,on(He.y1,He.x1),on(He.y0,He.x0),!f))}else t.lineTo(c+Y,h+Q),t.arc(c,h,i,l,u,f)}t.closePath()}}}var SW=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t}(),tM=function(t){De(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new SW},e.prototype.buildPath=function(r,n){xW(r,n)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Ot);tM.prototype.type="sector";const $i=tM;var wW=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),rM=function(t){De(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new wW},e.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.PI*2;r.moveTo(i+n.r,a),r.arc(i,a,n.r,0,o,!1),r.moveTo(i+n.r0,a),r.arc(i,a,n.r0,0,o,!0)},e}(Ot);rM.prototype.type="ring";const p_=rM;function TW(t,e,r,n){var i=[],a=[],o=[],s=[],u,l,c,h;if(n){c=[1/0,1/0],h=[-1/0,-1/0];for(var f=0,v=t.length;f<v;f++)yl(c,c,t[f]),_l(h,h,t[f]);yl(c,c,n[0]),_l(h,h,n[1])}for(var f=0,v=t.length;f<v;f++){var p=t[f];if(r)u=t[f?f-1:v-1],l=t[(f+1)%v];else if(f===0||f===v-1){i.push(qU(t[f]));continue}else u=t[f-1],l=t[f+1];ZU(a,l,u),Ug(a,a,e);var g=Yy(p,u),m=Yy(p,l),_=g+m;_!==0&&(g/=_,m/=_),Ug(o,a,-g),Ug(s,a,m);var b=kS([],p,o),w=kS([],p,s);n&&(_l(b,b,c),yl(b,b,h),_l(w,w,c),yl(w,w,h)),i.push(b),i.push(w)}return r&&i.push(i.shift()),i}function nM(t,e,r){var n=e.smooth,i=e.points;if(i&&i.length>=2){if(n){var a=TW(i,n,r,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(r?o:o-1);s++){var u=a[s*2],l=a[s*2+1],c=i[(s+1)%o];t.bezierCurveTo(u[0],u[1],l[0],l[1],c[0],c[1])}}else{t.moveTo(i[0][0],i[0][1]);for(var s=1,h=i.length;s<h;s++)t.lineTo(i[s][0],i[s][1])}r&&t.closePath()}}var CW=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),iM=function(t){De(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new CW},e.prototype.buildPath=function(r,n){nM(r,n,!0)},e}(Ot);iM.prototype.type="polygon";const Wp=iM;var AW=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),aM=function(t){De(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new AW},e.prototype.buildPath=function(r,n){nM(r,n,!1)},e}(Ot);aM.prototype.type="polyline";const Dh=aM;var kW={},PW=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),oM=function(t){De(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new PW},e.prototype.buildPath=function(r,n){var i,a,o,s;if(this.subPixelOptimize){var u=RE(kW,n,this.style);i=u.x1,a=u.y1,o=u.x2,s=u.y2}else i=n.x1,a=n.y1,o=n.x2,s=n.y2;var l=n.percent;l!==0&&(r.moveTo(i,a),l<1&&(o=i*(1-l)+o*l,s=a*(1-l)+s*l),r.lineTo(o,s))},e.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},e}(Ot);oM.prototype.type="line";const Bi=oM;var An=[],EW=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function Bw(t,e,r){var n=t.cpx2,i=t.cpy2;return n!=null||i!=null?[(r?FS:Or)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?FS:Or)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(r?$S:un)(t.x1,t.cpx1,t.x2,e),(r?$S:un)(t.y1,t.cpy1,t.y2,e)]}var sM=function(t){De(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new EW},e.prototype.buildPath=function(r,n){var i=n.x1,a=n.y1,o=n.x2,s=n.y2,u=n.cpx1,l=n.cpy1,c=n.cpx2,h=n.cpy2,f=n.percent;f!==0&&(r.moveTo(i,a),c==null||h==null?(f<1&&(Wv(i,u,o,f,An),u=An[1],o=An[2],Wv(a,l,s,f,An),l=An[1],s=An[2]),r.quadraticCurveTo(u,l,o,s)):(f<1&&(Ko(i,u,c,o,f,An),u=An[1],c=An[2],o=An[3],Ko(a,l,h,s,f,An),l=An[1],h=An[2],s=An[3]),r.bezierCurveTo(u,l,c,h,o,s)))},e.prototype.pointAt=function(r){return Bw(this.shape,r,!1)},e.prototype.tangentAt=function(r){var n=Bw(this.shape,r,!0);return JU(n,n)},e}(Ot);sM.prototype.type="bezier-curve";const uM=sM;var MW=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),lM=function(t){De(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new MW},e.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.max(n.r,0),s=n.startAngle,u=n.endAngle,l=n.clockwise,c=Math.cos(s),h=Math.sin(s);r.moveTo(c*o+i,h*o+a),r.arc(i,a,o,s,u,!l)},e}(Ot);lM.prototype.type="arc";const g_=lM;var DW=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="compound",r}return e.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),i=0;i<r.length;i++)n=n||r[i].shapeChanged();n&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<r.length;i++)r[i].path||r[i].createPathProxy(),r[i].path.setScale(n[0],n[1],r[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(r,n){for(var i=n.paths||[],a=0;a<i.length;a++)i[a].buildPath(r,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Ot.prototype.getBoundingRect.call(this)},e}(Ot);const LW=DW;var RW=function(){function t(e){this.colorStops=e||[]}return t.prototype.addColorStop=function(e,r){this.colorStops.push({offset:e,color:r})},t}();const cM=RW;var OW=function(t){De(e,t);function e(r,n,i,a,o,s){var u=t.call(this,o)||this;return u.x=r??0,u.y=n??0,u.x2=i??1,u.y2=a??0,u.type="linear",u.global=s||!1,u}return e}(cM);const fM=OW;var IW=function(t){De(e,t);function e(r,n,i,a,o){var s=t.call(this,a)||this;return s.x=r??.5,s.y=n??.5,s.r=i??.5,s.type="radial",s.global=o||!1,s}return e}(cM);const BW=IW;var Ns=[0,0],Fs=[0,0],Ad=new ot,kd=new ot,NW=function(){function t(e,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new ot;for(var n=0;n<2;n++)this._axes[n]=new ot;e&&this.fromBoundingRect(e,r)}return t.prototype.fromBoundingRect=function(e,r){var n=this._corners,i=this._axes,a=e.x,o=e.y,s=a+e.width,u=o+e.height;if(n[0].set(a,o),n[1].set(s,o),n[2].set(s,u),n[3].set(a,u),r)for(var l=0;l<4;l++)n[l].transform(r);ot.sub(i[0],n[1],n[0]),ot.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var l=0;l<2;l++)this._origin[l]=i[l].dot(n[0])},t.prototype.intersect=function(e,r){var n=!0,i=!r;return Ad.set(1/0,1/0),kd.set(0,0),!this._intersectCheckOneSide(this,e,Ad,kd,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(e,this,Ad,kd,i,-1)&&(n=!1,i)||i||ot.copy(r,n?Ad:kd),n},t.prototype._intersectCheckOneSide=function(e,r,n,i,a,o){for(var s=!0,u=0;u<2;u++){var l=this._axes[u];if(this._getProjMinMaxOnAxis(u,e._corners,Ns),this._getProjMinMaxOnAxis(u,r._corners,Fs),Ns[1]<Fs[0]||Ns[0]>Fs[1]){if(s=!1,a)return s;var c=Math.abs(Fs[0]-Ns[1]),h=Math.abs(Ns[0]-Fs[1]);Math.min(c,h)>i.len()&&(c<h?ot.scale(i,l,-c*o):ot.scale(i,l,h*o))}else if(n){var c=Math.abs(Fs[0]-Ns[1]),h=Math.abs(Ns[0]-Fs[1]);Math.min(c,h)<n.len()&&(c<h?ot.scale(n,l,c*o):ot.scale(n,l,-h*o))}}return s},t.prototype._getProjMinMaxOnAxis=function(e,r,n){for(var i=this._axes[e],a=this._origin,o=r[0].dot(i)+a[e],s=o,u=o,l=1;l<r.length;l++){var c=r[l].dot(i)+a[e];s=Math.min(c,s),u=Math.max(c,u)}n[0]=s,n[1]=u},t}();const Jv=NW;var FW=[],$W=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},e.prototype.addDisplayables=function(r,n){n=n||!1;for(var i=0;i<r.length;i++)this.addDisplayable(r[i],n)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},e.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new Nt(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(FW)),r.union(a)}this._rect=r}return this._rect},e.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(r,n))return!0}return!1},e}(vc);const HW=$W;var hM=hr();function Yp(t,e,r,n,i){var a;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();a=o&&o.animation}var s=e&&e.isAnimationEnabled(),u=t==="update";if(s){var l=void 0,c=void 0,h=void 0;n?(l=Rt(n.duration,200),c=Rt(n.easing,"cubicOut"),h=0):(l=e.getShallow(u?"animationDurationUpdate":"animationDuration"),c=e.getShallow(u?"animationEasingUpdate":"animationEasing"),h=e.getShallow(u?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(l=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(h=a.delay)),ht(h)&&(h=h(r,i)),ht(l)&&(l=l(r));var f={duration:l||0,delay:h,easing:c};return f}else return null}function m_(t,e,r,n,i,a,o){var s=!1,u;ht(i)?(o=a,a=i,i=null):it(i)&&(a=i.cb,o=i.during,s=i.isFrom,u=i.removeOpt,i=i.dataIndex);var l=t==="leave";l||e.stopAnimation("leave");var c=Yp(t,n,i,l?u||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(e,i):null);if(c&&c.duration>0){var h=c.duration,f=c.delay,v=c.easing,p={duration:h,delay:f||0,easing:v,done:a,force:!!a||!!o,setToFinal:!l,scope:t,during:o};s?e.animateFrom(r,p):e.animateTo(r,p)}else e.stopAnimation(),!s&&e.attr(r),o&&o(1),a&&a()}function jr(t,e,r,n,i,a){m_("update",t,e,r,n,i,a)}function fn(t,e,r,n,i,a){m_("enter",t,e,r,n,i,a)}function Rl(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var r=t.animators[e];if(r.scope==="leave")return!0}return!1}function ep(t,e,r,n,i,a){Rl(t)||m_("leave",t,e,r,n,i,a)}function Nw(t,e,r,n){t.removeTextContent(),t.removeTextGuideLine(),ep(t,{style:{opacity:0}},e,r,n)}function tp(t,e,r){function n(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(i){i.isGroup||Nw(i,e,r,n)}):Nw(t,e,r,n)}function y_(t){hM(t).oldStyle=t.style}function zW(t){return hM(t).oldStyle}var rp=Math.max,np=Math.min,x0={};function UW(t){return Ot.extend(t)}var VW=vW;function GW(t,e){return VW(t,e)}function Wi(t,e){x0[t]=e}function jW(t){if(x0.hasOwnProperty(t))return x0[t]}function __(t,e,r,n){var i=dW(t,e);return r&&(n==="center"&&(r=vM(r,i.getBoundingRect())),pM(i,r)),i}function dM(t,e,r){var n=new Au({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(r==="center"){var a={width:i.width,height:i.height};n.setStyle(vM(e,a))}}});return n}function vM(t,e){var r=e.width/e.height,n=t.height*r,i;n<=t.width?i=t.height:(n=t.width,i=n/r);var a=t.x+t.width/2,o=t.y+t.height/2;return{x:a-n/2,y:o-i/2,width:n,height:i}}var Xa=pW;function pM(t,e){if(t.applyTransform){var r=t.getBoundingRect(),n=r.calculateTransform(e);t.applyTransform(n)}}function sh(t,e){return RE(t,t,{lineWidth:e}),t}function WW(t){return OE(t.shape,t.shape,t.style),t}var YW=Js;function b_(t,e){for(var r=r_([]);t&&t!==e;)Dl(r,t.getLocalTransform(),r),t=t.parent;return r}function Xp(t,e,r){return e&&!Sn(e)&&(e=kh.getLocalTransform(e)),r&&(e=Fp([],e)),gi([],t,e)}function gM(t,e,r){var n=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),a=[t==="left"?-n:t==="right"?n:0,t==="top"?-i:t==="bottom"?i:0];return a=Xp(a,e,r),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Fw(t){return!t.isGroup}function XW(t){return t.shape!=null}function x_(t,e,r){if(!t||!e)return;function n(o){var s={};return o.traverse(function(u){Fw(u)&&u.anid&&(s[u.anid]=u)}),s}function i(o){var s={x:o.x,y:o.y,rotation:o.rotation};return XW(o)&&(s.shape=Oe({},o.shape)),s}var a=n(t);e.traverse(function(o){if(Fw(o)&&o.anid){var s=a[o.anid];if(s){var u=i(o);o.attr(i(s)),jr(o,u,r,Ut(o).dataIndex)}}})}function mM(t,e){return qe(t,function(r){var n=r[0];n=rp(n,e.x),n=np(n,e.x+e.width);var i=r[1];return i=rp(i,e.y),i=np(i,e.y+e.height),[n,i]})}function qW(t,e){var r=rp(t.x,e.x),n=np(t.x+t.width,e.x+e.width),i=rp(t.y,e.y),a=np(t.y+t.height,e.y+e.height);if(n>=r&&a>=i)return{x:r,y:i,width:n-r,height:a-i}}function qp(t,e,r){var n=Oe({rectHover:!0},e),i=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(i.image=t.slice(8),ct(i,r),new Au(n)):__(t.replace("path://",""),n,r,"center")}function ZW(t,e,r,n,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(yM(t,e,r,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function yM(t,e,r,n,i,a,o,s){var u=r-t,l=n-e,c=o-i,h=s-a,f=Tm(c,h,u,l);if(KW(f))return!1;var v=t-i,p=e-a,g=Tm(v,p,u,l)/f;if(g<0||g>1)return!1;var m=Tm(v,p,c,h)/f;return!(m<0||m>1)}function Tm(t,e,r,n){return t*n-r*e}function KW(t){return t<=1e-6&&t>=-1e-6}function Zp(t){var e=t.itemTooltipOption,r=t.componentModel,n=t.itemName,i=et(e)?{formatter:e}:e,a=r.mainType,o=r.componentIndex,s={componentType:a,name:n,$vars:["name"]};s[a+"Index"]=o;var u=t.formatterParamsExtra;u&&K(lr(u),function(c){eo(s,c)||(s[c]=u[c],s.$vars.push(c))});var l=Ut(t.el);l.componentMainType=a,l.componentIndex=o,l.tooltipConfig={name:n,option:ct({content:n,formatterParams:s},i)}}function $w(t,e){var r;t.isGroup&&(r=e(t)),r||t.traverse(e)}function Kp(t,e){if(t)if(Ye(t))for(var r=0;r<t.length;r++)$w(t[r],e);else $w(t,e)}Wi("circle",Ql);Wi("ellipse",JE);Wi("sector",$i);Wi("ring",p_);Wi("polygon",Wp);Wi("polyline",Dh);Wi("rect",Sr);Wi("line",Bi);Wi("bezierCurve",uM);Wi("arc",g_);const QW=Object.freeze(Object.defineProperty({__proto__:null,Arc:g_,BezierCurve:uM,BoundingRect:Nt,Circle:Ql,CompoundPath:LW,Ellipse:JE,Group:Er,Image:Au,IncrementalDisplayable:HW,Line:Bi,LinearGradient:fM,OrientedBoundingRect:Jv,Path:Ot,Point:ot,Polygon:Wp,Polyline:Dh,RadialGradient:BW,Rect:Sr,Ring:p_,Sector:$i,Text:Fr,applyTransform:Xp,clipPointsByRect:mM,clipRectByRect:qW,createIcon:qp,extendPath:GW,extendShape:UW,getShapeClass:jW,getTransform:b_,groupTransition:x_,initProps:fn,isElementRemoved:Rl,lineLineIntersect:yM,linePolygonIntersect:ZW,makeImage:dM,makePath:__,mergePath:Xa,registerShape:Wi,removeElement:ep,removeElementWithFadeOut:tp,resizePath:pM,setTooltipConfig:Zp,subPixelOptimize:YW,subPixelOptimizeLine:sh,subPixelOptimizeRect:WW,transformDirection:gM,traverseElements:Kp,updateProps:jr},Symbol.toStringTag,{value:"Module"}));var Qp={};function _M(t,e){for(var r=0;r<_i.length;r++){var n=_i[r],i=e[n],a=t.ensureState(n);a.style=a.style||{},a.style.text=i}var o=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(o,!0)}function S0(t,e,r){var n=t.labelFetcher,i=t.labelDataIndex,a=t.labelDimIndex,o=e.normal,s;n&&(s=n.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),r!=null?{interpolatedValue:r}:null)),s==null&&(s=ht(t.defaultText)?t.defaultText(i,t,r):t.defaultText);for(var u={normal:s},l=0;l<_i.length;l++){var c=_i[l],h=e[c];u[c]=Rt(n?n.getFormattedLabel(i,c,null,a,h&&h.get("formatter")):null,s)}return u}function Lh(t,e,r,n){r=r||Qp;for(var i=t instanceof Fr,a=!1,o=0;o<Kv.length;o++){var s=e[Kv[o]];if(s&&s.getShallow("show")){a=!0;break}}var u=i?t:t.getTextContent();if(a){i||(u||(u=new Fr,t.setTextContent(u)),t.stateProxy&&(u.stateProxy=t.stateProxy));var l=S0(r,e),c=e.normal,h=!!c.getShallow("show"),f=no(c,n&&n.normal,r,!1,!i);f.text=l.normal,i||t.setTextConfig(Hw(c,r,!1));for(var o=0;o<_i.length;o++){var v=_i[o],s=e[v];if(s){var p=u.ensureState(v),g=!!Rt(s.getShallow("show"),h);if(g!==h&&(p.ignore=!g),p.style=no(s,n&&n[v],r,!0,!i),p.style.text=l[v],!i){var m=t.ensureState(v);m.textConfig=Hw(s,r,!0)}}}u.silent=!!c.getShallow("silent"),u.style.x!=null&&(f.x=u.style.x),u.style.y!=null&&(f.y=u.style.y),u.ignore=!h,u.useStyle(f),u.dirty(),r.enableTextSetter&&(pc(u).setLabelText=function(_){var b=S0(r,e,_);_M(u,b)})}else u&&(u.ignore=!0);t.dirty()}function Rh(t,e){e=e||"label";for(var r={normal:t.getModel(e)},n=0;n<_i.length;n++){var i=_i[n];r[i]=t.getModel([i,e])}return r}function no(t,e,r,n,i){var a={};return JW(a,t,r,n,i),e&&Oe(a,e),a}function Hw(t,e,r){e=e||{};var n={},i,a=t.getShallow("rotate"),o=Rt(t.getShallow("distance"),r?null:5),s=t.getShallow("offset");return i=t.getShallow("position")||(r?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(n.position=i),s!=null&&(n.offset=s),a!=null&&(a*=Math.PI/180,n.rotation=a),o!=null&&(n.distance=o),n.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto",n}function JW(t,e,r,n,i){r=r||Qp;var a=e.ecModel,o=a&&a.option.textStyle,s=eY(e),u;if(s){u={};for(var l in s)if(s.hasOwnProperty(l)){var c=e.getModel(["rich",l]);Gw(u[l]={},c,o,r,n,i,!1,!0)}}u&&(t.rich=u);var h=e.get("overflow");h&&(t.overflow=h);var f=e.get("minMargin");f!=null&&(t.margin=f),Gw(t,e,o,r,n,i,!0,!1)}function eY(t){for(var e;t&&t!==t.ecModel;){var r=(t.option||Qp).rich;if(r){e=e||{};for(var n=lr(r),i=0;i<n.length;i++){var a=n[i];e[a]=1}}t=t.parentModel}return e}var zw=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Uw=["align","lineHeight","width","height","tag","verticalAlign"],Vw=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Gw(t,e,r,n,i,a,o,s){r=!i&&r||Qp;var u=n&&n.inheritColor,l=e.getShallow("color"),c=e.getShallow("textBorderColor"),h=Rt(e.getShallow("opacity"),r.opacity);(l==="inherit"||l==="auto")&&(u?l=u:l=null),(c==="inherit"||c==="auto")&&(u?c=u:c=null),a||(l=l||r.color,c=c||r.textBorderColor),l!=null&&(t.fill=l),c!=null&&(t.stroke=c);var f=Rt(e.getShallow("textBorderWidth"),r.textBorderWidth);f!=null&&(t.lineWidth=f);var v=Rt(e.getShallow("textBorderType"),r.textBorderType);v!=null&&(t.lineDash=v);var p=Rt(e.getShallow("textBorderDashOffset"),r.textBorderDashOffset);p!=null&&(t.lineDashOffset=p),!i&&h==null&&!s&&(h=n&&n.defaultOpacity),h!=null&&(t.opacity=h),!i&&!a&&t.fill==null&&n.inheritColor&&(t.fill=n.inheritColor);for(var g=0;g<zw.length;g++){var m=zw[g],_=Rt(e.getShallow(m),r[m]);_!=null&&(t[m]=_)}for(var g=0;g<Uw.length;g++){var m=Uw[g],_=e.getShallow(m);_!=null&&(t[m]=_)}if(t.verticalAlign==null){var b=e.getShallow("baseline");b!=null&&(t.verticalAlign=b)}if(!o||!n.disableBox){for(var g=0;g<Vw.length;g++){var m=Vw[g],_=e.getShallow(m);_!=null&&(t[m]=_)}var w=e.getShallow("borderType");w!=null&&(t.borderDash=w),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&u&&(t.backgroundColor=u),(t.borderColor==="auto"||t.borderColor==="inherit")&&u&&(t.borderColor=u)}}function tY(t,e){var r=e&&e.getModel("textStyle");return da([t.fontStyle||r&&r.getShallow("fontStyle")||"",t.fontWeight||r&&r.getShallow("fontWeight")||"",(t.fontSize||r&&r.getShallow("fontSize")||12)+"px",t.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var pc=hr();function rY(t,e,r,n){if(t){var i=pc(t);i.prevValue=i.value,i.value=r;var a=e.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=n,i.statesModels=e)}}function nY(t,e,r,n,i){var a=pc(t);if(!a.valueAnimation||a.prevValue===a.value)return;var o=a.defaultInterpolatedText,s=Rt(a.interpolatedValue,a.prevValue),u=a.value;function l(c){var h=xE(r,a.precision,s,u,c);a.interpolatedValue=c===1?null:h;var f=S0({labelDataIndex:e,labelFetcher:i,defaultText:o?o(h):h+""},a.statesModels,h);_M(t,f)}t.percent=0,(a.prevValue==null?fn:jr)(t,{percent:1},n,e,null,l)}var iY=["textStyle","color"],Cm=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Am=new Fr,aY=function(){function t(){}return t.prototype.getTextColor=function(e){var r=this.ecModel;return this.getShallow("color")||(!e&&r?r.get(iY):null)},t.prototype.getFont=function(){return tY({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(e){for(var r={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<Cm.length;n++)r[Cm[n]]=this.getShallow(Cm[n]);return Am.useStyle(r),Am.update(),Am.getBoundingRect()},t}();const oY=aY;var bM=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],sY=ah(bM),uY=function(){function t(){}return t.prototype.getLineStyle=function(e){return sY(this,e)},t}(),xM=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],lY=ah(xM),cY=function(){function t(){}return t.prototype.getItemStyle=function(e,r){return lY(this,e,r)},t}(),ku=function(){function t(e,r,n){this.parentModel=r,this.ecModel=n,this.option=e}return t.prototype.init=function(e,r,n){},t.prototype.mergeOption=function(e,r){Ct(this.option,e,!0)},t.prototype.get=function(e,r){return e==null?this.option:this._doGet(this.parsePath(e),!r&&this.parentModel)},t.prototype.getShallow=function(e,r){var n=this.option,i=n==null?n:n[e];if(i==null&&!r){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},t.prototype.getModel=function(e,r){var n=e!=null,i=n?this.parsePath(e):null,a=n?this._doGet(i):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new t(a,r,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var e=this.constructor;return new e(_t(this.option))},t.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},t.prototype.resolveParentPath=function(e){return e},t.prototype.isAnimationEnabled=function(){if(!Tt.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(e,r){var n=this.option;if(!e)return n;for(var i=0;i<e.length&&!(e[i]&&(n=n&&typeof n=="object"?n[e[i]]:null,n==null));i++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(e),r.parentModel)),n},t}();l_(ku);jG(ku);Gi(ku,uY);Gi(ku,cY);Gi(ku,ZG);Gi(ku,oY);const Vr=ku;var fY=Math.round(Math.random()*10);function Oh(t){return[t||"",fY++].join("_")}function hY(t){var e={};t.registerSubTypeDefaulter=function(r,n){var i=va(r);e[i.main]=n},t.determineSubType=function(r,n){var i=n.type;if(!i){var a=va(r).main;t.hasSubTypes(r)&&e[a]&&(i=e[a](n))}return i}}function dY(t,e){t.topologicalTravel=function(a,o,s,u){if(!a.length)return;var l=r(o),c=l.graph,h=l.noEntryList,f={};for(K(a,function(b){f[b]=!0});h.length;){var v=h.pop(),p=c[v],g=!!f[v];g&&(s.call(u,v,p.originalDeps.slice()),delete f[v]),K(p.successor,g?_:m)}K(f,function(){var b="";throw new Error(b)});function m(b){c[b].entryCount--,c[b].entryCount===0&&h.push(b)}function _(b){f[b]=!0,m(b)}};function r(a){var o={},s=[];return K(a,function(u){var l=n(o,u),c=l.originalDeps=e(u),h=i(c,a);l.entryCount=h.length,l.entryCount===0&&s.push(u),K(h,function(f){Lt(l.predecessor,f)<0&&l.predecessor.push(f);var v=n(o,f);Lt(v.successor,f)<0&&v.successor.push(u)})}),{graph:o,noEntryList:s}}function n(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function i(a,o){var s=[];return K(a,function(u){Lt(o,u)>=0&&s.push(u)}),s}}function SM(t,e){return Ct(Ct({},t,!0),e,!0)}const vY={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},pY={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var ip="ZH",S_="EN",uh=S_,Cv={},w_={},wM=Tt.domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return t.indexOf(ip)>-1?ip:uh}():uh;function TM(t,e){t=t.toUpperCase(),w_[t]=new Vr(e),Cv[t]=e}function gY(t){if(et(t)){var e=Cv[t.toUpperCase()]||{};return t===ip||t===S_?_t(e):Ct(_t(e),_t(Cv[uh]),!1)}else return Ct(_t(t),_t(Cv[uh]),!1)}function mY(t){return w_[t]}function yY(){return w_[uh]}TM(S_,vY);TM(ip,pY);var T_=1e3,C_=T_*60,Bf=C_*60,ci=Bf*24,jw=ci*365,pf={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Pd="{yyyy}-{MM}-{dd}",Ww={year:"{yyyy}",month:"{yyyy}-{MM}",day:Pd,hour:Pd+" "+pf.hour,minute:Pd+" "+pf.minute,second:Pd+" "+pf.second,millisecond:pf.none},km=["year","month","day","hour","minute","second","millisecond"],CM=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function $s(t,e){return t+="","0000".substr(0,e-t.length)+t}function Ol(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function _Y(t){return t===Ol(t)}function bY(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Jp(t,e,r,n){var i=to(t),a=i[A_(r)](),o=i[Il(r)]()+1,s=Math.floor((o-1)/3)+1,u=i[eg(r)](),l=i["get"+(r?"UTC":"")+"Day"](),c=i[lh(r)](),h=(c-1)%12+1,f=i[tg(r)](),v=i[rg(r)](),p=i[ng(r)](),g=n instanceof Vr?n:mY(n||wM)||yY(),m=g.getModel("time"),_=m.get("month"),b=m.get("monthAbbr"),w=m.get("dayOfWeek"),T=m.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,a%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,_[o-1]).replace(/{MMM}/g,b[o-1]).replace(/{MM}/g,$s(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,$s(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,w[l]).replace(/{ee}/g,T[l]).replace(/{e}/g,l+"").replace(/{HH}/g,$s(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,$s(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,$s(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,$s(v,2)).replace(/{s}/g,v+"").replace(/{SSS}/g,$s(p,3)).replace(/{S}/g,p+"")}function xY(t,e,r,n,i){var a=null;if(et(r))a=r;else if(ht(r))a=r(t.value,e,{level:t.level});else{var o=Oe({},pf);if(t.level>0)for(var s=0;s<km.length;++s)o[km[s]]="{primary|"+o[km[s]]+"}";var u=r?r.inherit===!1?r:ct(r,o):o,l=AM(t.value,i);if(u[l])a=u[l];else if(u.inherit){for(var c=CM.indexOf(l),s=c-1;s>=0;--s)if(u[l]){a=u[l];break}a=a||o.none}if(Ye(a)){var h=t.level==null?0:t.level>=0?t.level:a.length+t.level;h=Math.min(h,a.length-1),a=a[h]}}return Jp(new Date(t.value),a,i,n)}function AM(t,e){var r=to(t),n=r[Il(e)]()+1,i=r[eg(e)](),a=r[lh(e)](),o=r[tg(e)](),s=r[rg(e)](),u=r[ng(e)](),l=u===0,c=l&&s===0,h=c&&o===0,f=h&&a===0,v=f&&i===1,p=v&&n===1;return p?"year":v?"month":f?"day":h?"hour":c?"minute":l?"second":"millisecond"}function Yw(t,e,r){var n=Wt(t)?to(t):t;switch(e=e||AM(t,r),e){case"year":return n[A_(r)]();case"half-year":return n[Il(r)]()>=6?1:0;case"quarter":return Math.floor((n[Il(r)]()+1)/4);case"month":return n[Il(r)]();case"day":return n[eg(r)]();case"half-day":return n[lh(r)]()/24;case"hour":return n[lh(r)]();case"minute":return n[tg(r)]();case"second":return n[rg(r)]();case"millisecond":return n[ng(r)]()}}function A_(t){return t?"getUTCFullYear":"getFullYear"}function Il(t){return t?"getUTCMonth":"getMonth"}function eg(t){return t?"getUTCDate":"getDate"}function lh(t){return t?"getUTCHours":"getHours"}function tg(t){return t?"getUTCMinutes":"getMinutes"}function rg(t){return t?"getUTCSeconds":"getSeconds"}function ng(t){return t?"getUTCMilliseconds":"getMilliseconds"}function SY(t){return t?"setUTCFullYear":"setFullYear"}function kM(t){return t?"setUTCMonth":"setMonth"}function PM(t){return t?"setUTCDate":"setDate"}function EM(t){return t?"setUTCHours":"setHours"}function MM(t){return t?"setUTCMinutes":"setMinutes"}function DM(t){return t?"setUTCSeconds":"setSeconds"}function LM(t){return t?"setUTCMilliseconds":"setMilliseconds"}function RM(t){if(!TG(t))return et(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function OM(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var ig=NP;function w0(t,e,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&da(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=e==="time",s=t instanceof Date;if(o||s){var u=o?to(t):t;if(isNaN(+u)){if(s)return"-"}else return Jp(u,n,r)}if(e==="ordinal")return Wy(t)?i(t):Wt(t)&&a(t)?t+"":"-";var l=Jo(t);return a(l)?RM(l):Wy(t)?i(t):typeof t=="boolean"?t+"":"-"}var Xw=["a","b","c","d","e","f","g"],Pm=function(t,e){return"{"+t+(e??"")+"}"};function IM(t,e,r){Ye(e)||(e=[e]);var n=e.length;if(!n)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var o=Xw[a];t=t.replace(Pm(o),Pm(o,0))}for(var s=0;s<n;s++)for(var u=0;u<i.length;u++){var l=e[s][i[u]];t=t.replace(Pm(Xw[u],s),r?ui(l):l)}return t}function wY(t,e){var r=et(t)?{color:t,extraCssText:e}:t||{},n=r.color,i=r.type;e=r.extraCssText;var a=r.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+ui(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+ui(n)+";"+(e||"")+'"></span>';var o=r.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function pu(t,e){return e=e||"transparent",et(t)?t:it(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function qw(t,e){if(e==="_blank"||e==="blank"){var r=window.open();r.opener=null,r.location.href=t}else window.open(t,e)}var Av=K,TY=["left","right","top","bottom","width","height"],Ed=[["width","left","right"],["height","top","bottom"]];function k_(t,e,r,n,i){var a=0,o=0;n==null&&(n=1/0),i==null&&(i=1/0);var s=0;e.eachChild(function(u,l){var c=u.getBoundingRect(),h=e.childAt(l+1),f=h&&h.getBoundingRect(),v,p;if(t==="horizontal"){var g=c.width+(f?-f.x+c.x:0);v=a+g,v>n||u.newline?(a=0,v=g,o+=s+r,s=c.height):s=Math.max(s,c.height)}else{var m=c.height+(f?-f.y+c.y:0);p=o+m,p>i||u.newline?(a+=s+r,o=0,p=m,s=c.width):s=Math.max(s,c.width)}u.newline||(u.x=a,u.y=o,u.markRedraw(),t==="horizontal"?a=v+r:o=p+r)})}var Bl=k_;zt(k_,"vertical");zt(k_,"horizontal");function es(t,e,r){r=ig(r||0);var n=e.width,i=e.height,a=Ht(t.left,n),o=Ht(t.top,i),s=Ht(t.right,n),u=Ht(t.bottom,i),l=Ht(t.width,n),c=Ht(t.height,i),h=r[2]+r[0],f=r[1]+r[3],v=t.aspect;switch(isNaN(l)&&(l=n-s-f-a),isNaN(c)&&(c=i-u-h-o),v!=null&&(isNaN(l)&&isNaN(c)&&(v>n/i?l=n*.8:c=i*.8),isNaN(l)&&(l=v*c),isNaN(c)&&(c=l/v)),isNaN(a)&&(a=n-s-l-f),isNaN(o)&&(o=i-u-c-h),t.left||t.right){case"center":a=n/2-l/2-r[3];break;case"right":a=n-l-f;break}switch(t.top||t.bottom){case"middle":case"center":o=i/2-c/2-r[0];break;case"bottom":o=i-c-h;break}a=a||0,o=o||0,isNaN(l)&&(l=n-f-a-(s||0)),isNaN(c)&&(c=i-h-o-(u||0));var p=new Nt(a+r[3],o+r[0],l,c);return p.margin=r,p}function CY(t,e,r,n,i,a){var o=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],u=i&&i.boundingMode||"all";if(a=a||t,a.x=t.x,a.y=t.y,!o&&!s)return!1;var l;if(u==="raw")l=t.type==="group"?new Nt(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(l=t.getBoundingRect(),t.needLocalTransform()){var c=t.getLocalTransform();l=l.clone(),l.applyTransform(c)}var h=es(ct({width:l.width,height:l.height},e),r,n),f=o?h.x-l.x:0,v=s?h.y-l.y:0;return u==="raw"?(a.x=f,a.y=v):(a.x+=f,a.y+=v),a===t&&t.markRedraw(),!0}function ch(t){var e=t.layoutMode||t.constructor.layoutMode;return it(e)?e:e?{type:e}:null}function Jl(t,e,r){var n=r&&r.ignoreSize;!Ye(n)&&(n=[n,n]);var i=o(Ed[0],0),a=o(Ed[1],1);l(Ed[0],t,i),l(Ed[1],t,a);function o(c,h){var f={},v=0,p={},g=0,m=2;if(Av(c,function(w){p[w]=t[w]}),Av(c,function(w){s(e,w)&&(f[w]=p[w]=e[w]),u(f,w)&&v++,u(p,w)&&g++}),n[h])return u(e,c[1])?p[c[2]]=null:u(e,c[2])&&(p[c[1]]=null),p;if(g===m||!v)return p;if(v>=m)return f;for(var _=0;_<c.length;_++){var b=c[_];if(!s(f,b)&&s(t,b)){f[b]=t[b];break}}return f}function s(c,h){return c.hasOwnProperty(h)}function u(c,h){return c[h]!=null&&c[h]!=="auto"}function l(c,h,f){Av(c,function(v){h[v]=f[v]})}}function ag(t){return AY({},t)}function AY(t,e){return e&&t&&Av(TY,function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t}var kY=hr(),gc=function(t){De(e,t);function e(r,n,i){var a=t.call(this,r,n,i)||this;return a.uid=Oh("ec_cpt_model"),a}return e.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},e.prototype.mergeDefaultAndTheme=function(r,n){var i=ch(this),a=i?ag(r):{},o=n.getTheme();Ct(r,o.get(this.mainType)),Ct(r,this.getDefaultOption()),i&&Jl(r,a,i)},e.prototype.mergeOption=function(r,n){Ct(this.option,r,!0);var i=ch(this);i&&Jl(this.option,r,i)},e.prototype.optionUpdated=function(r,n){},e.prototype.getDefaultOption=function(){var r=this.constructor;if(!UG(r))return r.defaultOption;var n=kY(this);if(!n.defaultOption){for(var i=[],a=r;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var s={},u=i.length-1;u>=0;u--)s=Ct(s,i[u],!0);n.defaultOption=s}return n.defaultOption},e.prototype.getReferringComponents=function(r,n){var i=r+"Index",a=r+"Id";return Mh(this.ecModel,r,{index:this.get(i,!0),id:this.get(a,!0)},n)},e.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(r){this.option.zlevel=r},e.protoInitialize=function(){var r=e.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),e}(Vr);wE(gc,Vr);Hp(gc);hY(gc);dY(gc,PY);function PY(t){var e=[];return K(gc.getClassesByMainType(t),function(r){e=e.concat(r.dependencies||r.prototype.dependencies||[])}),e=qe(e,function(r){return va(r).main}),t!=="dataset"&&Lt(e,"dataset")<=0&&e.unshift("dataset"),e}const Kt=gc;var BM="";typeof navigator<"u"&&(BM=navigator.platform||"");var el="rgba(0, 0, 0, 0.2)";const EY={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:el,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:el,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:el,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:el,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:el,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:el,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:BM.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var NM=ft(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),bi="original",wn="arrayRows",xi="objectRows",Aa="keyedColumns",Yo="typedArray",FM="unknown",ya="column",mc="row",Zr={Must:1,Might:2,Not:3},$M=hr();function MY(t){$M(t).datasetMap=ft()}function DY(t,e,r){var n={},i=P_(e);if(!i||!t)return n;var a=[],o=[],s=e.ecModel,u=$M(s).datasetMap,l=i.uid+"_"+r.seriesLayoutBy,c,h;t=t.slice(),K(t,function(g,m){var _=it(g)?g:t[m]={name:g};_.type==="ordinal"&&c==null&&(c=m,h=p(_)),n[_.name]=[]});var f=u.get(l)||u.set(l,{categoryWayDim:h,valueWayDim:0});K(t,function(g,m){var _=g.name,b=p(g);if(c==null){var w=f.valueWayDim;v(n[_],w,b),v(o,w,b),f.valueWayDim+=b}else if(c===m)v(n[_],0,b),v(a,0,b);else{var w=f.categoryWayDim;v(n[_],w,b),v(o,w,b),f.categoryWayDim+=b}});function v(g,m,_){for(var b=0;b<_;b++)g.push(m+b)}function p(g){var m=g.dimsDef;return m?m.length:1}return a.length&&(n.itemName=a),o.length&&(n.seriesName=o),n}function LY(t,e,r){var n={},i=P_(t);if(!i)return n;var a=e.sourceFormat,o=e.dimensionsDefine,s;(a===xi||a===Aa)&&K(o,function(c,h){(it(c)?c.name:c)==="name"&&(s=h)});var u=function(){for(var c={},h={},f=[],v=0,p=Math.min(5,r);v<p;v++){var g=zM(e.data,a,e.seriesLayoutBy,o,e.startIndex,v);f.push(g);var m=g===Zr.Not;if(m&&c.v==null&&v!==s&&(c.v=v),(c.n==null||c.n===c.v||!m&&f[c.n]===Zr.Not)&&(c.n=v),_(c)&&f[c.n]!==Zr.Not)return c;m||(g===Zr.Might&&h.v==null&&v!==s&&(h.v=v),(h.n==null||h.n===h.v)&&(h.n=v))}function _(b){return b.v!=null&&b.n!=null}return _(c)?c:_(h)?h:null}();if(u){n.value=[u.v];var l=s??u.n;n.itemName=[l],n.seriesName=[l]}return n}function P_(t){var e=t.get("data",!0);if(!e)return Mh(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},Qr).models[0]}function RY(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:Mh(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},Qr).models}function HM(t,e){return zM(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function zM(t,e,r,n,i,a){var o,s=5;if(qn(t))return Zr.Not;var u,l;if(n){var c=n[a];it(c)?(u=c.name,l=c.type):et(c)&&(u=c)}if(l!=null)return l==="ordinal"?Zr.Must:Zr.Not;if(e===wn){var h=t;if(r===mc){for(var f=h[a],v=0;v<(f||[]).length&&v<s;v++)if((o=T(f[i+v]))!=null)return o}else for(var v=0;v<h.length&&v<s;v++){var p=h[i+v];if(p&&(o=T(p[a]))!=null)return o}}else if(e===xi){var g=t;if(!u)return Zr.Not;for(var v=0;v<g.length&&v<s;v++){var m=g[v];if(m&&(o=T(m[u]))!=null)return o}}else if(e===Aa){var _=t;if(!u)return Zr.Not;var f=_[u];if(!f||qn(f))return Zr.Not;for(var v=0;v<f.length&&v<s;v++)if((o=T(f[v]))!=null)return o}else if(e===bi)for(var b=t,v=0;v<b.length&&v<s;v++){var m=b[v],w=Eh(m);if(!Ye(w))return Zr.Not;if((o=T(w[a]))!=null)return o}function T(k){var A=et(k);if(k!=null&&isFinite(k)&&k!=="")return A?Zr.Might:Zr.Not;if(A&&k!=="-")return Zr.Must}return Zr.Not}var T0=ft();function OY(t,e){wa(T0.get(t)==null&&e),T0.set(t,e)}function IY(t,e,r){var n=T0.get(e);if(!n)return r;var i=n(t);return i?r.concat(i):r}var Zw=hr();hr();var E_=function(){function t(){}return t.prototype.getColorFromPalette=function(e,r,n){var i=Cr(this.get("color",!0)),a=this.get("colorLayer",!0);return NY(this,Zw,i,a,e,r,n)},t.prototype.clearColorPalette=function(){FY(this,Zw)},t}();function BY(t,e){for(var r=t.length,n=0;n<r;n++)if(t[n].length>e)return t[n];return t[r-1]}function NY(t,e,r,n,i,a,o){a=a||t;var s=e(a),u=s.paletteIdx||0,l=s.paletteNameMap=s.paletteNameMap||{};if(l.hasOwnProperty(i))return l[i];var c=o==null||!n?r:BY(n,o);if(c=c||r,!(!c||!c.length)){var h=c[u];return i&&(l[i]=h),s.paletteIdx=(u+1)%c.length,h}}function FY(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var Md,Wc,Kw,Qw="\0_ec_inner",$Y=1,UM=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r,n,i,a,o,s){a=a||{},this.option=null,this._theme=new Vr(a),this._locale=new Vr(o),this._optionManager=s},e.prototype.setOption=function(r,n,i){var a=t2(n);this._optionManager.setOption(r,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(r,n){return this._resetOption(r,t2(n))},e.prototype._resetOption=function(r,n){var i=!1,a=this._optionManager;if(!r||r==="recreate"){var o=a.mountOption(r==="recreate");!this.option||r==="recreate"?Kw(this,o):(this.restoreData(),this._mergeOption(o,n)),i=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var s=a.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,n))}if(!r||r==="recreate"||r==="media"){var u=a.getMediaOption(this);u.length&&K(u,function(l){i=!0,this._mergeOption(l,n)},this)}return i},e.prototype.mergeOption=function(r){this._mergeOption(r,null)},e.prototype._mergeOption=function(r,n){var i=this.option,a=this._componentsMap,o=this._componentsCount,s=[],u=ft(),l=n&&n.replaceMergeMainTypeMap;MY(this),K(r,function(h,f){h!=null&&(Kt.hasClass(f)?f&&(s.push(f),u.set(f,!0)):i[f]=i[f]==null?_t(h):Ct(i[f],h,!0))}),l&&l.each(function(h,f){Kt.hasClass(f)&&!u.get(f)&&(s.push(f),u.set(f,!0))}),Kt.topologicalTravel(s,Kt.getAllClassMainTypes(),c,this);function c(h){var f=IY(this,h,Cr(r[h])),v=a.get(h),p=v?l&&l.get(h)?"replaceMerge":"normalMerge":"replaceAll",g=AG(v,f,p);OG(g,h,Kt),i[h]=null,a.set(h,null),o.set(h,0);var m=[],_=[],b=0,w;K(g,function(T,k){var A=T.existing,M=T.newOption;if(!M)A&&(A.mergeOption({},this),A.optionUpdated({},!1));else{var O=h==="series",F=Kt.getClass(h,T.keyInfo.subType,!O);if(!F)return;if(h==="tooltip"){if(w)return;w=!0}if(A&&A.constructor===F)A.name=T.keyInfo.name,A.mergeOption(M,this),A.optionUpdated(M,!1);else{var $=Oe({componentIndex:k},T.keyInfo);A=new F(M,this,this,$),Oe(A,$),T.brandNew&&(A.__requireNewView=!0),A.init(M,this,this),A.optionUpdated(null,!0)}}A?(m.push(A.option),_.push(A),b++):(m.push(void 0),_.push(void 0))},this),i[h]=m,a.set(h,_),o.set(h,b),h==="series"&&Md(this)}this._seriesIndices||Md(this)},e.prototype.getOption=function(){var r=_t(this.option);return K(r,function(n,i){if(Kt.hasClass(i)){for(var a=Cr(n),o=a.length,s=!1,u=o-1;u>=0;u--)a[u]&&!ih(a[u])?s=!0:(a[u]=null,!s&&o--);a.length=o,r[i]=a}}),delete r[Qw],r},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(r){this._payload=r},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(r,n){var i=this._componentsMap.get(r);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var o=0;o<i.length;o++)if(i[o])return i[o]}}},e.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var i=r.index,a=r.id,o=r.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var u;return i!=null?(u=[],K(Cr(i),function(l){s[l]&&u.push(s[l])})):a!=null?u=Jw("id",a,s):o!=null?u=Jw("name",o,s):u=br(s,function(l){return!!l}),e2(u,r)},e.prototype.findComponents=function(r){var n=r.query,i=r.mainType,a=s(n),o=a?this.queryComponents(a):br(this._componentsMap.get(i),function(l){return!!l});return u(e2(o,r));function s(l){var c=i+"Index",h=i+"Id",f=i+"Name";return l&&(l[c]!=null||l[h]!=null||l[f]!=null)?{mainType:i,index:l[c],id:l[h],name:l[f]}:null}function u(l){return r.filter?br(l,r.filter):l}},e.prototype.eachComponent=function(r,n,i){var a=this._componentsMap;if(ht(r)){var o=n,s=r;a.each(function(h,f){for(var v=0;h&&v<h.length;v++){var p=h[v];p&&s.call(o,f,p,p.componentIndex)}})}else for(var u=et(r)?a.get(r):it(r)?this.findComponents(r):null,l=0;u&&l<u.length;l++){var c=u[l];c&&n.call(i,c,c.componentIndex)}},e.prototype.getSeriesByName=function(r){var n=ma(r,null);return br(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},e.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},e.prototype.getSeriesByType=function(r){return br(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},e.prototype.getSeries=function(){return br(this._componentsMap.get("series"),function(r){return!!r})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(r,n){Wc(this),K(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];r.call(n,a,i)},this)},e.prototype.eachRawSeries=function(r,n){K(this._componentsMap.get("series"),function(i){i&&r.call(n,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(r,n,i){Wc(this),K(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===r&&n.call(i,o,a)},this)},e.prototype.eachRawSeriesByType=function(r,n,i){return K(this.getSeriesByType(r),n,i)},e.prototype.isSeriesFiltered=function(r){return Wc(this),this._seriesIndicesMap.get(r.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(r,n){Wc(this);var i=[];K(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];r.call(n,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=ft(i)},e.prototype.restoreData=function(r){Md(this);var n=this._componentsMap,i=[];n.each(function(a,o){Kt.hasClass(o)&&i.push(o)}),Kt.topologicalTravel(i,Kt.getAllClassMainTypes(),function(a){K(n.get(a),function(o){o&&(a!=="series"||!HY(o,r))&&o.restoreData()})})},e.internalField=function(){Md=function(r){var n=r._seriesIndices=[];K(r._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),r._seriesIndicesMap=ft(n)},Wc=function(r){},Kw=function(r,n){r.option={},r.option[Qw]=$Y,r._componentsMap=ft({series:[]}),r._componentsCount=ft();var i=n.aria;it(i)&&i.enabled==null&&(i.enabled=!0),zY(n,r._theme.option),Ct(n,EY,!1),r._mergeOption(n,null)}}(),e}(Vr);function HY(t,e){if(e){var r=e.seriesIndex,n=e.seriesId,i=e.seriesName;return r!=null&&t.componentIndex!==r||n!=null&&t.id!==n||i!=null&&t.name!==i}}function zY(t,e){var r=t.color&&!t.colorLayer;K(e,function(n,i){i==="colorLayer"&&r||Kt.hasClass(i)||(typeof n=="object"?t[i]=t[i]?Ct(t[i],n,!1):_t(n):t[i]==null&&(t[i]=n))})}function Jw(t,e,r){if(Ye(e)){var n=ft();return K(e,function(a){if(a!=null){var o=ma(a,null);o!=null&&n.set(a,!0)}}),br(r,function(a){return a&&n.get(a[t])})}else{var i=ma(e,null);return br(r,function(a){return a&&i!=null&&a[t]===i})}}function e2(t,e){return e.hasOwnProperty("subType")?br(t,function(r){return r&&r.subType===e.subType}):t}function t2(t){var e=ft();return t&&K(Cr(t.replaceMerge),function(r){e.set(r,!0)}),{replaceMergeMainTypeMap:e}}Gi(UM,E_);const VM=UM;var UY=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],VY=function(){function t(e){K(UY,function(r){this[r]=rr(e[r],e)},this)}return t}();const GM=VY;var Em={},GY=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(e,r){var n=[];K(Em,function(i,a){var o=i.create(e,r);n=n.concat(o||[])}),this._coordinateSystems=n},t.prototype.update=function(e,r){K(this._coordinateSystems,function(n){n.update&&n.update(e,r)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(e,r){Em[e]=r},t.get=function(e){return Em[e]},t}();const M_=GY;var jY=/^(min|max)?(.+)$/,WY=function(){function t(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return t.prototype.setOption=function(e,r,n){e&&(K(Cr(e.series),function(o){o&&o.data&&qn(o.data)&&Uv(o.data)}),K(Cr(e.dataset),function(o){o&&o.source&&qn(o.source)&&Uv(o.source)})),e=_t(e);var i=this._optionBackup,a=YY(e,r,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},t.prototype.mountOption=function(e){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],_t(e?r.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(e){var r,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(r=_t(n[i.getCurrentIndex()]))}return r},t.prototype.getMediaOption=function(e){var r=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!i.length&&!a)return s;for(var u=0,l=i.length;u<l;u++)XY(i[u].query,r,n)&&o.push(u);return!o.length&&a&&(o=[-1]),o.length&&!ZY(o,this._currentMediaIndices)&&(s=qe(o,function(c){return _t(c===-1?a.option:i[c].option)})),this._currentMediaIndices=o,s},t}();function YY(t,e,r){var n=[],i,a,o=t.baseOption,s=t.timeline,u=t.options,l=t.media,c=!!t.media,h=!!(u||s||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=s)):((h||c)&&(t.options=t.media=null),a=t),c&&Ye(l)&&K(l,function(v){v&&v.option&&(v.query?n.push(v):i||(i=v))}),f(a),K(u,function(v){return f(v)}),K(n,function(v){return f(v.option)});function f(v){K(e,function(p){p(v,r)})}return{baseOption:a,timelineOptions:u||[],mediaDefault:i,mediaList:n}}function XY(t,e,r){var n={width:e,height:r,aspectratio:e/r},i=!0;return K(t,function(a,o){var s=o.match(jY);if(!(!s||!s[1]||!s[2])){var u=s[1],l=s[2].toLowerCase();qY(n[l],a,u)||(i=!1)}}),i}function qY(t,e,r){return r==="min"?t>=e:r==="max"?t<=e:t===e}function ZY(t,e){return t.join(",")===e.join(",")}const KY=WY;var Ci=K,fh=it,r2=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Mm(t){var e=t&&t.itemStyle;if(e)for(var r=0,n=r2.length;r<n;r++){var i=r2[r],a=e.normal,o=e.emphasis;a&&a[i]&&(t[i]=t[i]||{},t[i].normal?Ct(t[i].normal,a[i]):t[i].normal=a[i],a[i]=null),o&&o[i]&&(t[i]=t[i]||{},t[i].emphasis?Ct(t[i].emphasis,o[i]):t[i].emphasis=o[i],o[i]=null)}}function ln(t,e,r){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,i=t[e].emphasis;n&&(r?(t[e].normal=t[e].emphasis=null,ct(t[e],n)):t[e]=n),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i,i.focus&&(t.emphasis.focus=i.focus),i.blurScope&&(t.emphasis.blurScope=i.blurScope))}}function gf(t){ln(t,"itemStyle"),ln(t,"lineStyle"),ln(t,"areaStyle"),ln(t,"label"),ln(t,"labelLine"),ln(t,"upperLabel"),ln(t,"edgeLabel")}function wr(t,e){var r=fh(t)&&t[e],n=fh(r)&&r.textStyle;if(n)for(var i=0,a=nw.length;i<a;i++){var o=nw[i];n.hasOwnProperty(o)&&(r[o]=n[o])}}function ai(t){t&&(gf(t),wr(t,"label"),t.emphasis&&wr(t.emphasis,"label"))}function QY(t){if(fh(t)){Mm(t),gf(t),wr(t,"label"),wr(t,"upperLabel"),wr(t,"edgeLabel"),t.emphasis&&(wr(t.emphasis,"label"),wr(t.emphasis,"upperLabel"),wr(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(Mm(e),ai(e));var r=t.markLine;r&&(Mm(r),ai(r));var n=t.markArea;n&&ai(n);var i=t.data;if(t.type==="graph"){i=i||t.nodes;var a=t.links||t.edges;if(a&&!qn(a))for(var o=0;o<a.length;o++)ai(a[o]);K(t.categories,function(l){gf(l)})}if(i&&!qn(i))for(var o=0;o<i.length;o++)ai(i[o]);if(e=t.markPoint,e&&e.data)for(var s=e.data,o=0;o<s.length;o++)ai(s[o]);if(r=t.markLine,r&&r.data)for(var u=r.data,o=0;o<u.length;o++)Ye(u[o])?(ai(u[o][0]),ai(u[o][1])):ai(u[o]);t.type==="gauge"?(wr(t,"axisLabel"),wr(t,"title"),wr(t,"detail")):t.type==="treemap"?(ln(t.breadcrumb,"itemStyle"),K(t.levels,function(l){gf(l)})):t.type==="tree"&&gf(t.leaves)}}function Ga(t){return Ye(t)?t:t?[t]:[]}function n2(t){return(Ye(t)?t[0]:t)||{}}function JY(t,e){Ci(Ga(t.series),function(n){fh(n)&&QY(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Ci(r,function(n){Ci(Ga(t[n]),function(i){i&&(wr(i,"axisLabel"),wr(i.axisPointer,"label"))})}),Ci(Ga(t.parallel),function(n){var i=n&&n.parallelAxisDefault;wr(i,"axisLabel"),wr(i&&i.axisPointer,"label")}),Ci(Ga(t.calendar),function(n){ln(n,"itemStyle"),wr(n,"dayLabel"),wr(n,"monthLabel"),wr(n,"yearLabel")}),Ci(Ga(t.radar),function(n){wr(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),Ci(Ga(t.geo),function(n){fh(n)&&(ai(n),Ci(Ga(n.regions),function(i){ai(i)}))}),Ci(Ga(t.timeline),function(n){ai(n),ln(n,"label"),ln(n,"itemStyle"),ln(n,"controlStyle",!0);var i=n.data;Ye(i)&&K(i,function(a){it(a)&&(ln(a,"label"),ln(a,"itemStyle"))})}),Ci(Ga(t.toolbox),function(n){ln(n,"iconStyle"),Ci(n.feature,function(i){ln(i,"iconStyle")})}),wr(n2(t.axisPointer),"label"),wr(n2(t.tooltip).axisPointer,"label")}function eX(t,e){for(var r=e.split(","),n=t,i=0;i<r.length&&(n=n&&n[r[i]],n!=null);i++);return n}function tX(t,e,r,n){for(var i=e.split(","),a=t,o,s=0;s<i.length-1;s++)o=i[s],a[o]==null&&(a[o]={}),a=a[o];(n||a[i[s]]==null)&&(a[i[s]]=r)}function i2(t){t&&K(rX,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var rX=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],nX=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Dm=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Yc(t){var e=t&&t.itemStyle;if(e)for(var r=0;r<Dm.length;r++){var n=Dm[r][1],i=Dm[r][0];e[n]!=null&&(e[i]=e[n])}}function a2(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function o2(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function iX(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function jM(t,e){if(t)for(var r=0;r<t.length;r++)e(t[r]),t[r]&&jM(t[r].children,e)}function WM(t,e){JY(t,e),t.series=Cr(t.series),K(t.series,function(r){if(it(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),a2(r.label);var i=r.data;if(i&&!qn(i))for(var a=0;a<i.length;a++)a2(i[a]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var o=eX(r,"pointer.color");o!=null&&tX(r,"itemStyle.color",o)}else if(n==="bar"){Yc(r),Yc(r.backgroundStyle),Yc(r.emphasis);var i=r.data;if(i&&!qn(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(Yc(i[a]),Yc(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var s=r.highlightPolicy;s&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=s)),o2(r),jM(r.data,o2)}else n==="graph"||n==="sankey"?iX(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&ct(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),i2(r)}}),t.dataRange&&(t.visualMap=t.dataRange),K(nX,function(r){var n=t[r];n&&(Ye(n)||(n=[n]),K(n,function(i){i2(i)}))})}function aX(t){var e=ft();t.eachSeries(function(r){var n=r.get("stack");if(n){var i=e.get(n)||e.set(n,[]),a=r.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:r};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}}),e.each(oX)}function oX(t){K(t,function(e,r){var n=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,u=e.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(l,c,h){var f=o.get(e.stackedDimension,h);if(isNaN(f))return i;var v,p;s?p=o.getRawIndex(h):v=o.get(e.stackedByDimension,h);for(var g=NaN,m=r-1;m>=0;m--){var _=t[m];if(s||(p=_.data.rawIndexOf(_.stackedByDimension,v)),p>=0){var b=_.data.getByRawIndex(_.stackResultDimension,p);if(u==="all"||u==="positive"&&b>0||u==="negative"&&b<0||u==="samesign"&&f>=0&&b>0||u==="samesign"&&f<=0&&b<0){f=xG(f,b),g=b;break}}}return n[0]=f,n[1]=g,n})})}var og=function(){function t(e){this.data=e.data||(e.sourceFormat===Aa?{}:[]),this.sourceFormat=e.sourceFormat||FM,this.seriesLayoutBy=e.seriesLayoutBy||ya,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var r=this.dimensionsDefine=e.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var i=r[n];i.type==null&&HM(this,n)===Zr.Must&&(i.type="ordinal")}}return t}();function D_(t){return t instanceof og}function C0(t,e,r){r=r||YM(t);var n=e.seriesLayoutBy,i=uX(t,r,n,e.sourceHeader,e.dimensions),a=new og({data:t,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:_t(e)});return a}function L_(t){return new og({data:t,sourceFormat:qn(t)?Yo:bi})}function sX(t){return new og({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:_t(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function YM(t){var e=FM;if(qn(t))e=Yo;else if(Ye(t)){t.length===0&&(e=wn);for(var r=0,n=t.length;r<n;r++){var i=t[r];if(i!=null){if(Ye(i)){e=wn;break}else if(it(i)){e=xi;break}}}}else if(it(t)){for(var a in t)if(eo(t,a)&&Sn(t[a])){e=Aa;break}}return e}function uX(t,e,r,n,i){var a,o;if(!t)return{dimensionsDefine:s2(i),startIndex:o,dimensionsDetectedCount:a};if(e===wn){var s=t;n==="auto"||n==null?u2(function(l){l!=null&&l!=="-"&&(et(l)?o==null&&(o=1):o=0)},r,s,10):o=Wt(n)?n:n?1:0,!i&&o===1&&(i=[],u2(function(l,c){i[c]=l!=null?l+"":""},r,s,1/0)),a=i?i.length:r===mc?s.length:s[0]?s[0].length:null}else if(e===xi)i||(i=lX(t));else if(e===Aa)i||(i=[],K(t,function(l,c){i.push(c)}));else if(e===bi){var u=Eh(t[0]);a=Ye(u)&&u.length||1}return{startIndex:o,dimensionsDefine:s2(i),dimensionsDetectedCount:a}}function lX(t){for(var e=0,r;e<t.length&&!(r=t[e++]););if(r)return lr(r)}function s2(t){if(t){var e=ft();return qe(t,function(r,n){r=it(r)?r:{name:r};var i={name:r.name,displayName:r.displayName,type:r.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function u2(t,e,r,n){if(e===mc)for(var i=0;i<r.length&&i<n;i++)t(r[i]?r[i][0]:null,i);else for(var a=r[0]||[],i=0;i<a.length&&i<n;i++)t(a[i],i)}function XM(t){var e=t.sourceFormat;return e===xi||e===Aa}var Hs,zs,Us,l2,c2,qM=function(){function t(e,r){var n=D_(e)?e:L_(e);this._source=n;var i=this._data=n.data;n.sourceFormat===Yo&&(this._offset=0,this._dimSize=r,this._data=i),c2(this,i,n)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,r){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var e;c2=function(o,s,u){var l=u.sourceFormat,c=u.seriesLayoutBy,h=u.startIndex,f=u.dimensionsDefine,v=l2[R_(l,c)];if(Oe(o,v),l===Yo)o.getItem=r,o.count=i,o.fillStorage=n;else{var p=ZM(l,c);o.getItem=rr(p,null,s,h,f);var g=KM(l,c);o.count=rr(g,null,s,h,f)}};var r=function(o,s){o=o-this._offset,s=s||[];for(var u=this._data,l=this._dimSize,c=l*o,h=0;h<l;h++)s[h]=u[c+h];return s},n=function(o,s,u,l){for(var c=this._data,h=this._dimSize,f=0;f<h;f++){for(var v=l[f],p=v[0]==null?1/0:v[0],g=v[1]==null?-1/0:v[1],m=s-o,_=u[f],b=0;b<m;b++){var w=c[b*h+f];_[o+b]=w,w<p&&(p=w),w>g&&(g=w)}v[0]=p,v[1]=g}},i=function(){return this._data?this._data.length/this._dimSize:0};l2=(e={},e[wn+"_"+ya]={pure:!0,appendData:a},e[wn+"_"+mc]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[xi]={pure:!0,appendData:a},e[Aa]={pure:!0,appendData:function(o){var s=this._data;K(o,function(u,l){for(var c=s[l]||(s[l]=[]),h=0;h<(u||[]).length;h++)c.push(u[h])})}},e[bi]={appendData:a},e[Yo]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),t}(),f2=function(t,e,r,n){return t[n]},cX=(Hs={},Hs[wn+"_"+ya]=function(t,e,r,n){return t[n+e]},Hs[wn+"_"+mc]=function(t,e,r,n,i){n+=e;for(var a=i||[],o=t,s=0;s<o.length;s++){var u=o[s];a[s]=u?u[n]:null}return a},Hs[xi]=f2,Hs[Aa]=function(t,e,r,n,i){for(var a=i||[],o=0;o<r.length;o++){var s=r[o].name,u=t[s];a[o]=u?u[n]:null}return a},Hs[bi]=f2,Hs);function ZM(t,e){var r=cX[R_(t,e)];return r}var h2=function(t,e,r){return t.length},fX=(zs={},zs[wn+"_"+ya]=function(t,e,r){return Math.max(0,t.length-e)},zs[wn+"_"+mc]=function(t,e,r){var n=t[0];return n?Math.max(0,n.length-e):0},zs[xi]=h2,zs[Aa]=function(t,e,r){var n=r[0].name,i=t[n];return i?i.length:0},zs[bi]=h2,zs);function KM(t,e){var r=fX[R_(t,e)];return r}var Lm=function(t,e,r){return t[e]},hX=(Us={},Us[wn]=Lm,Us[xi]=function(t,e,r){return t[r]},Us[Aa]=Lm,Us[bi]=function(t,e,r){var n=Eh(t);return n instanceof Array?n[e]:n},Us[Yo]=Lm,Us);function QM(t){var e=hX[t];return e}function R_(t,e){return t===wn?t+"_"+e:t}function ec(t,e,r){if(t){var n=t.getRawDataItem(e);if(n!=null){var i=t.getStore(),a=i.getSource().sourceFormat;if(r!=null){var o=t.getDimensionIndex(r),s=i.getDimensionProperty(o);return QM(a)(n,o,s)}else{var u=n;return a===bi&&(u=Eh(n)),u}}}}var dX=/\{@(.+?)\}/g,vX=function(){function t(){}return t.prototype.getDataParams=function(e,r){var n=this.getData(r),i=this.getRawValue(e,r),a=n.getRawIndex(e),o=n.getName(e),s=n.getRawDataItem(e),u=n.getItemVisual(e,"style"),l=u&&u[n.getItemVisual(e,"drawType")||"fill"],c=u&&u.stroke,h=this.mainType,f=h==="series",v=n.userOutput&&n.userOutput.get();return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:o,dataIndex:a,data:s,dataType:r,value:i,color:l,borderColor:c,dimensionNames:v?v.fullDimensions:null,encode:v?v.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,r,n,i,a,o){r=r||"normal";var s=this.getData(n),u=this.getDataParams(e,n);if(o&&(u.value=o.interpolatedValue),i!=null&&Ye(u.value)&&(u.value=u.value[i]),!a){var l=s.getItemModel(e);a=l.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(ht(a))return u.status=r,u.dimensionIndex=i,a(u);if(et(a)){var c=IM(a,u);return c.replace(dX,function(h,f){var v=f.length,p=f;p.charAt(0)==="["&&p.charAt(v-1)==="]"&&(p=+p.slice(1,v-1));var g=ec(s,e,p);if(o&&Ye(o.interpolatedValue)){var m=s.getDimensionIndex(p);m>=0&&(g=o.interpolatedValue[m])}return g!=null?g+"":""})}},t.prototype.getRawValue=function(e,r){return ec(this.getData(r),e)},t.prototype.formatTooltip=function(e,r,n){},t}();function d2(t){var e,r;return it(t)?t.type&&(r=t):e=t,{text:e,frag:r}}function Nf(t){return new pX(t)}var pX=function(){function t(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return t.prototype.perform=function(e){var r=this._upstream,n=e&&e.skip;if(this._dirty&&r){var i=this.context;i.data=i.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,u=c(e&&e.modBy),l=e&&e.modDataCount||0;(o!==u||s!==l)&&(a="reset");function c(b){return!(b>=1)&&(b=1),b}var h;(this._dirty||a==="reset")&&(this._dirty=!1,h=this._doReset(n)),this._modBy=u,this._modDataCount=l;var f=e&&e.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var v=this._dueIndex,p=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd);if(!n&&(h||v<p)){var g=this._progress;if(Ye(g))for(var m=0;m<g.length;m++)this._doProgress(g[m],v,p,u,l);else this._doProgress(g,v,p,u,l)}this._dueIndex=p;var _=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=_}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(e,r,n,i,a){v2.reset(r,n,i,a),this._callingProgress=e,this._callingProgress({start:r,end:n,count:n-r,next:v2.next},this.context)},t.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!e&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),Ye(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t}(),v2=function(){var t,e,r,n,i,a={reset:function(u,l,c,h){e=u,t=l,r=c,n=h,i=Math.ceil(n/r),a.next=r>1&&n>0?s:o}};return a;function o(){return e<t?e++:null}function s(){var u=e%i*r+Math.ceil(e/i),l=e>=t?null:u<n?u:e;return e++,l}}();function kv(t,e){var r=e&&e.type;return r==="ordinal"?t:(r==="time"&&!Wt(t)&&t!=null&&t!=="-"&&(t=+to(t)),t==null||t===""?NaN:+t)}var gX=ft({number:function(t){return parseFloat(t)},time:function(t){return+to(t)},trim:function(t){return et(t)?da(t):t}});function JM(t){return gX.get(t)}var eD={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},mX=function(){function t(e,r){if(!Wt(r)){var n="";$t(n)}this._opFn=eD[e],this._rvalFloat=Jo(r)}return t.prototype.evaluate=function(e){return Wt(e)?this._opFn(e,this._rvalFloat):this._opFn(Jo(e),this._rvalFloat)},t}(),tD=function(){function t(e,r){var n=e==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return t.prototype.evaluate=function(e,r){var n=Wt(e)?e:Jo(e),i=Wt(r)?r:Jo(r),a=isNaN(n),o=isNaN(i);if(a&&(n=this._incomparable),o&&(i=this._incomparable),a&&o){var s=et(e),u=et(r);s&&(n=u?e:0),u&&(i=s?r:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},t}(),yX=function(){function t(e,r){this._rval=r,this._isEQ=e,this._rvalTypeof=typeof r,this._rvalFloat=Jo(r)}return t.prototype.evaluate=function(e){var r=e===this._rval;if(!r){var n=typeof e;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(r=Jo(e)===this._rvalFloat)}return this._isEQ?r:!r},t}();function _X(t,e){return t==="eq"||t==="ne"?new yX(t==="eq",e):eo(eD,t)?new mX(t,e):null}var bX=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(e){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(e){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(e,r){},t.prototype.retrieveValueFromItem=function(e,r){},t.prototype.convertValue=function(e,r){return kv(e,r)},t}();function xX(t,e){var r=new bX,n=t.data,i=r.sourceFormat=t.sourceFormat,a=t.startIndex,o="";t.seriesLayoutBy!==ya&&$t(o);var s=[],u={},l=t.dimensionsDefine;if(l)K(l,function(g,m){var _=g.name,b={index:m,name:_,displayName:g.displayName};if(s.push(b),_!=null){var w="";eo(u,_)&&$t(w),u[_]=b}});else for(var c=0;c<t.dimensionsDetectedCount;c++)s.push({index:c});var h=ZM(i,ya);e.__isBuiltIn&&(r.getRawDataItem=function(g){return h(n,a,s,g)},r.getRawData=rr(SX,null,t)),r.cloneRawData=rr(wX,null,t);var f=KM(i,ya);r.count=rr(f,null,n,a,s);var v=QM(i);r.retrieveValue=function(g,m){var _=h(n,a,s,g);return p(_,m)};var p=r.retrieveValueFromItem=function(g,m){if(g!=null){var _=s[m];if(_)return v(g,m,_.name)}};return r.getDimensionInfo=rr(TX,null,s,u),r.cloneAllDimensionInfo=rr(CX,null,s),r}function SX(t){var e=t.sourceFormat;if(!O_(e)){var r="";$t(r)}return t.data}function wX(t){var e=t.sourceFormat,r=t.data;if(!O_(e)){var n="";$t(n)}if(e===wn){for(var i=[],a=0,o=r.length;a<o;a++)i.push(r[a].slice());return i}else if(e===xi){for(var i=[],a=0,o=r.length;a<o;a++)i.push(Oe({},r[a]));return i}}function TX(t,e,r){if(r!=null){if(Wt(r)||!isNaN(r)&&!eo(e,r))return t[r];if(eo(e,r))return e[r]}}function CX(t){return _t(t)}var rD=ft();function AX(t){t=_t(t);var e=t.type,r="";e||$t(r);var n=e.split(":");n.length!==2&&$t(r);var i=!1;n[0]==="echarts"&&(e=n[1],i=!0),t.__isBuiltIn=i,rD.set(e,t)}function kX(t,e,r){var n=Cr(t),i=n.length,a="";i||$t(a);for(var o=0,s=i;o<s;o++){var u=n[o];e=PX(u,e),o!==s-1&&(e.length=Math.max(e.length,1))}return e}function PX(t,e,r,n){var i="";e.length||$t(i),it(t)||$t(i);var a=t.type,o=rD.get(a);o||$t(i);var s=qe(e,function(l){return xX(l,o)}),u=Cr(o.transform({upstream:s[0],upstreamList:s,config:_t(t.config)}));return qe(u,function(l,c){var h="";it(l)||$t(h),l.data||$t(h);var f=YM(l.data);O_(f)||$t(h);var v,p=e[0];if(p&&c===0&&!l.dimensions){var g=p.startIndex;g&&(l.data=p.data.slice(0,g).concat(l.data)),v={seriesLayoutBy:ya,sourceHeader:g,dimensions:p.metaRawOption.dimensions}}else v={seriesLayoutBy:ya,sourceHeader:0,dimensions:l.dimensions};return C0(l.data,v,null)})}function O_(t){return t===wn||t===xi}var sg="undefined",EX=typeof Uint32Array===sg?Array:Uint32Array,MX=typeof Uint16Array===sg?Array:Uint16Array,nD=typeof Int32Array===sg?Array:Int32Array,p2=typeof Float64Array===sg?Array:Float64Array,iD={float:p2,int:nD,ordinal:Array,number:Array,time:p2},Rm;function Xc(t){return t>65535?EX:MX}function tl(){return[1/0,-1/0]}function DX(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function g2(t,e,r,n,i){var a=iD[r||"float"];if(i){var o=t[e],s=o&&o.length;if(s!==n){for(var u=new a(n),l=0;l<s;l++)u[l]=o[l];t[e]=u}}else t[e]=new a(n)}var A0=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=ft()}return t.prototype.initData=function(e,r,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=Rm[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],XM(i),this._dimensions=qe(r,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,e.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(e,r){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(e);if(a!=null){if(i[a].type===r)return a}else a=i.length;return i[a]={type:r},n.set(e,a),this._chunks[a]=new iD[r||"float"](this._rawCount),this._rawExtent[a]=tl(),a},t.prototype.collectOrdinalMeta=function(e,r){var n=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,o=i.ordinalOffset||0,s=n.length;o===0&&(a[e]=tl());for(var u=a[e],l=o;l<s;l++){var c=n[l]=r.parseAndCollect(n[l]);isNaN(c)||(u[0]=Math.min(c,u[0]),u[1]=Math.max(c,u[1]))}i.ordinalMeta=r,i.ordinalOffset=s,i.type="ordinal"},t.prototype.getOrdinalMeta=function(e){var r=this._dimensions[e],n=r.ordinalMeta;return n},t.prototype.getDimensionProperty=function(e){var r=this._dimensions[e];return r&&r.property},t.prototype.appendData=function(e){var r=this._provider,n=this.count();r.appendData(e);var i=r.count();return r.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},t.prototype.appendValues=function(e,r){for(var n=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),u=s+Math.max(e.length,r||0),l=0;l<a;l++){var c=i[l];g2(n,l,c.type,u,!0)}for(var h=[],f=s;f<u;f++)for(var v=f-s,p=0;p<a;p++){var c=i[p],g=Rm.arrayRows.call(this,e[v]||h,c.property,v,p);n[p][f]=g;var m=o[p];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}return this._rawCount=this._count=u,{start:s,end:u}},t.prototype._initDataFromProvider=function(e,r,n){for(var i=this._provider,a=this._chunks,o=this._dimensions,s=o.length,u=this._rawExtent,l=qe(o,function(b){return b.property}),c=0;c<s;c++){var h=o[c];u[c]||(u[c]=tl()),g2(a,c,h.type,r,n)}if(i.fillStorage)i.fillStorage(e,r,a,u);else for(var f=[],v=e;v<r;v++){f=i.getItem(v,f);for(var p=0;p<s;p++){var g=a[p],m=this._dimValueGetter(f,l[p],v,p);g[v]=m;var _=u[p];m<_[0]&&(_[0]=m),m>_[1]&&(_[1]=m)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=r,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(e,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(r)]:NaN},t.prototype.getValues=function(e,r){var n=[],i=[];if(r==null){r=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,o=i.length;a<o;a++)n.push(this.get(i[a],r));return n},t.prototype.getByRawIndex=function(e,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[e];return n?n[r]:NaN},t.prototype.getSum=function(e){var r=this._chunks[e],n=0;if(r)for(var i=0,a=this.count();i<a;i++){var o=this.get(e,i);isNaN(o)||(n+=o)}return n},t.prototype.getMedian=function(e){var r=[];this.each([e],function(a){isNaN(a)||r.push(a)});var n=r.sort(function(a,o){return a-o}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},t.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var r=this._indices,n=r[e];if(n!=null&&n<this._count&&n===e)return e;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(r[o]<e)i=o+1;else if(r[o]>e)a=o-1;else return o}return-1},t.prototype.indicesOfNearest=function(e,r,n){var i=this._chunks,a=i[e],o=[];if(!a)return o;n==null&&(n=1/0);for(var s=1/0,u=-1,l=0,c=0,h=this.count();c<h;c++){var f=this.getRawIndex(c),v=r-a[f],p=Math.abs(v);p<=n&&((p<s||p===s&&v>=0&&u<0)&&(s=p,u=v,l=0),v===u&&(o[l++]=c))}return o.length=l,o},t.prototype.getIndices=function(){var e,r=this._indices;if(r){var n=r.constructor,i=this._count;if(n===Array){e=new n(i);for(var a=0;a<i;a++)e[a]=r[a]}else e=new n(r.buffer,0,i)}else{var n=Xc(this._rawCount);e=new n(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},t.prototype.filter=function(e,r){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=Xc(n._rawCount),o=new a(i),s=[],u=e.length,l=0,c=e[0],h=n._chunks,f=0;f<i;f++){var v=void 0,p=n.getRawIndex(f);if(u===0)v=r(f);else if(u===1){var g=h[c][p];v=r(g,f)}else{for(var m=0;m<u;m++)s[m]=h[e[m]][p];s[m]=f,v=r.apply(null,s)}v&&(o[l++]=p)}return l<i&&(n._indices=o),n._count=l,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(e){var r=this.clone(),n=r._count;if(!n)return this;var i=lr(e),a=i.length;if(!a)return this;var o=r.count(),s=Xc(r._rawCount),u=new s(o),l=0,c=i[0],h=e[c][0],f=e[c][1],v=r._chunks,p=!1;if(!r._indices){var g=0;if(a===1){for(var m=v[i[0]],_=0;_<n;_++){var b=m[_];(b>=h&&b<=f||isNaN(b))&&(u[l++]=g),g++}p=!0}else if(a===2){for(var m=v[i[0]],w=v[i[1]],T=e[i[1]][0],k=e[i[1]][1],_=0;_<n;_++){var b=m[_],A=w[_];(b>=h&&b<=f||isNaN(b))&&(A>=T&&A<=k||isNaN(A))&&(u[l++]=g),g++}p=!0}}if(!p)if(a===1)for(var _=0;_<o;_++){var M=r.getRawIndex(_),b=v[i[0]][M];(b>=h&&b<=f||isNaN(b))&&(u[l++]=M)}else for(var _=0;_<o;_++){for(var O=!0,M=r.getRawIndex(_),F=0;F<a;F++){var $=i[F],b=v[$][M];(b<e[$][0]||b>e[$][1])&&(O=!1)}O&&(u[l++]=r.getRawIndex(_))}return l<o&&(r._indices=u),r._count=l,r._extent=[],r._updateGetRawIdx(),r},t.prototype.map=function(e,r){var n=this.clone(e);return this._updateDims(n,e,r),n},t.prototype.modify=function(e,r){this._updateDims(this,e,r)},t.prototype._updateDims=function(e,r,n){for(var i=e._chunks,a=[],o=r.length,s=e.count(),u=[],l=e._rawExtent,c=0;c<r.length;c++)l[r[c]]=tl();for(var h=0;h<s;h++){for(var f=e.getRawIndex(h),v=0;v<o;v++)u[v]=i[r[v]][f];u[o]=h;var p=n&&n.apply(null,u);if(p!=null){typeof p!="object"&&(a[0]=p,p=a);for(var c=0;c<p.length;c++){var g=r[c],m=p[c],_=l[g],b=i[g];b&&(b[f]=m),m<_[0]&&(_[0]=m),m>_[1]&&(_[1]=m)}}}},t.prototype.lttbDownSample=function(e,r){var n=this.clone([e],!0),i=n._chunks,a=i[e],o=this.count(),s=0,u=Math.floor(1/r),l=this.getRawIndex(0),c,h,f,v=new(Xc(this._rawCount))(Math.min((Math.ceil(o/u)+2)*2,o));v[s++]=l;for(var p=1;p<o-1;p+=u){for(var g=Math.min(p+u,o-1),m=Math.min(p+u*2,o),_=(m+g)/2,b=0,w=g;w<m;w++){var T=this.getRawIndex(w),k=a[T];isNaN(k)||(b+=k)}b/=m-g;var A=p,M=Math.min(p+u,o),O=p-1,F=a[l];c=-1,f=A;for(var $=-1,B=0,w=A;w<M;w++){var T=this.getRawIndex(w),k=a[T];if(isNaN(k)){B++,$<0&&($=T);continue}h=Math.abs((O-_)*(k-F)-(O-w)*(b-F)),h>c&&(c=h,f=T)}B>0&&B<M-A&&(v[s++]=Math.min($,f),f=Math.max($,f)),v[s++]=f,l=f}return v[s++]=this.getRawIndex(o-1),n._count=s,n._indices=v,n.getRawIndex=this._getRawIdx,n},t.prototype.downSample=function(e,r,n,i){for(var a=this.clone([e],!0),o=a._chunks,s=[],u=Math.floor(1/r),l=o[e],c=this.count(),h=a._rawExtent[e]=tl(),f=new(Xc(this._rawCount))(Math.ceil(c/u)),v=0,p=0;p<c;p+=u){u>c-p&&(u=c-p,s.length=u);for(var g=0;g<u;g++){var m=this.getRawIndex(p+g);s[g]=l[m]}var _=n(s),b=this.getRawIndex(Math.min(p+i(s,_)||0,c-1));l[b]=_,_<h[0]&&(h[0]=_),_>h[1]&&(h[1]=_),f[v++]=b}return a._count=v,a._indices=f,a._updateGetRawIdx(),a},t.prototype.each=function(e,r){if(this._count)for(var n=e.length,i=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(n){case 0:r(a);break;case 1:r(i[e[0]][s],a);break;case 2:r(i[e[0]][s],i[e[1]][s],a);break;default:for(var u=0,l=[];u<n;u++)l[u]=i[e[u]][s];l[u]=a,r.apply(null,l)}}},t.prototype.getDataExtent=function(e){var r=this._chunks[e],n=tl();if(!r)return n;var i=this.count(),a=!this._indices,o;if(a)return this._rawExtent[e].slice();if(o=this._extent[e],o)return o.slice();o=n;for(var s=o[0],u=o[1],l=0;l<i;l++){var c=this.getRawIndex(l),h=r[c];h<s&&(s=h),h>u&&(u=h)}return o=[s,u],this._extent[e]=o,o},t.prototype.getRawDataItem=function(e){var r=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][r]);return n},t.prototype.clone=function(e,r){var n=new t,i=this._chunks,a=e&&Zo(e,function(s,u){return s[u]=!0,s},{});if(a)for(var o=0;o<i.length;o++)n._chunks[o]=a[o]?DX(i[o]):i[o];else n._chunks=i;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},t.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=_t(this._extent),e._rawExtent=_t(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,r=void 0;if(e===Array){var n=this._indices.length;r=new e(n);for(var i=0;i<n;i++)r[i]=this._indices[i]}else r=new e(this._indices);return r}return null},t.prototype._getRawIdxIdentity=function(e){return e},t.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function e(r,n,i,a){return kv(r[a],this._dimensions[a])}Rm={arrayRows:e,objectRows:function(r,n,i,a){return kv(r[n],this._dimensions[a])},keyedColumns:e,original:function(r,n,i,a){var o=r&&(r.value==null?r:r.value);return kv(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(r,n,i,a){return r[a]}}}(),t}(),aD=function(){function t(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(e,r){this._sourceList=e,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,i,a;if(Dd(e)){var o=e,s=void 0,u=void 0,l=void 0;if(n){var c=r[0];c.prepareSource(),l=c.getSource(),s=l.data,u=l.sourceFormat,a=[c._getVersionSign()]}else s=o.get("data",!0),u=qn(s)?Yo:bi,a=[];var h=this._getSourceMetaRawOption()||{},f=l&&l.metaRawOption||{},v=Rt(h.seriesLayoutBy,f.seriesLayoutBy)||null,p=Rt(h.sourceHeader,f.sourceHeader),g=Rt(h.dimensions,f.dimensions),m=v!==f.seriesLayoutBy||!!p!=!!f.sourceHeader||g;i=m?[C0(s,{seriesLayoutBy:v,sourceHeader:p,dimensions:g},u)]:[]}else{var _=e;if(n){var b=this._applyTransform(r);i=b.sourceList,a=b.upstreamSignList}else{var w=_.get("source",!0);i=[C0(w,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},t.prototype._applyTransform=function(e){var r=this._sourceHost,n=r.get("transform",!0),i=r.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&y2(a)}var o,s=[],u=[];return K(e,function(l){l.prepareSource();var c=l.getSource(i||0),h="";i!=null&&!c&&y2(h),s.push(c),u.push(l._getVersionSign())}),n?o=kX(n,s,{datasetIndex:r.componentIndex}):i!=null&&(o=[sX(s[0])]),{sourceList:o,upstreamSignList:u}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),r=0;r<e.length;r++){var n=e[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},t.prototype.getSource=function(e){e=e||0;var r=this._sourceList[e];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return r},t.prototype.getSharedDataStore=function(e){var r=e.makeStoreSchema();return this._innerGetDataStore(r.dimensions,e.source,r.hash)},t.prototype._innerGetDataStore=function(e,r,n){var i=0,a=this._storeList,o=a[i];o||(o=a[i]={});var s=o[n];if(!s){var u=this._getUpstreamSourceManagers()[0];Dd(this._sourceHost)&&u?s=u._innerGetDataStore(e,r,n):(s=new A0,s.initData(new qM(r,e.length),e)),o[n]=s}return s},t.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Dd(e)){var r=P_(e);return r?[r.getSourceManager()]:[]}else return qe(RY(e),function(n){return n.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,r,n,i;if(Dd(e))r=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;r=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:i}},t}();function m2(t){var e=t.option.transform;e&&Uv(t.option.transform)}function Dd(t){return t.mainType==="series"}function y2(t){throw new Error(t)}var oD="line-height:1";function sD(t,e){var r=t.color||"#6e7079",n=t.fontSize||12,i=t.fontWeight||"400",a=t.color||"#464646",o=t.fontSize||14,s=t.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+ui(n+"")+"px;color:"+ui(r)+";font-weight:"+ui(i+""),valueStyle:"font-size:"+ui(o+"")+"px;color:"+ui(a)+";font-weight:"+ui(s+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var LX=[0,10,20,30],RX=["",`
`,`

`,`


`];function hh(t,e){return e.type=t,e}function k0(t){return t.type==="section"}function uD(t){return k0(t)?OX:IX}function lD(t){if(k0(t)){var e=0,r=t.blocks.length,n=r>1||r>0&&!t.noHeader;return K(t.blocks,function(i){var a=lD(i);a>=e&&(e=a+ +(n&&(!a||k0(i)&&!i.noHeader)))}),e}return 0}function OX(t,e,r,n){var i=e.noHeader,a=BX(lD(e)),o=[],s=e.blocks||[];wa(!s||Ye(s)),s=s||[];var u=t.orderMode;if(e.sortBlocks&&u){s=s.slice();var l={valueAsc:"asc",valueDesc:"desc"};if(eo(l,u)){var c=new tD(l[u],null);s.sort(function(p,g){return c.evaluate(p.sortParam,g.sortParam)})}else u==="seriesDesc"&&s.reverse()}K(s,function(p,g){var m=e.valueFormatter,_=uD(p)(m?Oe(Oe({},t),{valueFormatter:m}):t,p,g>0?a.html:0,n);_!=null&&o.push(_)});var h=t.renderMode==="richText"?o.join(a.richText):P0(o.join(""),i?r:a.html);if(i)return h;var f=w0(e.header,"ordinal",t.useUTC),v=sD(n,t.renderMode).nameStyle;return t.renderMode==="richText"?cD(t,f,v)+a.richText+h:P0('<div style="'+v+";"+oD+';">'+ui(f)+"</div>"+h,r)}function IX(t,e,r,n){var i=t.renderMode,a=e.noName,o=e.noValue,s=!e.markerType,u=e.name,l=t.useUTC,c=e.valueFormatter||t.valueFormatter||function(T){return T=Ye(T)?T:[T],qe(T,function(k,A){return w0(k,Ye(v)?v[A]:v,l)})};if(!(a&&o)){var h=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),f=a?"":w0(u,"ordinal",l),v=e.valueType,p=o?[]:c(e.value),g=!s||!a,m=!s&&a,_=sD(n,i),b=_.nameStyle,w=_.valueStyle;return i==="richText"?(s?"":h)+(a?"":cD(t,f,b))+(o?"":$X(t,p,g,m,w)):P0((s?"":h)+(a?"":NX(f,!s,b))+(o?"":FX(p,g,m,w)),r)}}function _2(t,e,r,n,i,a){if(t){var o=uD(t),s={useUTC:i,renderMode:r,orderMode:n,markupStyleCreator:e,valueFormatter:t.valueFormatter};return o(s,t,0,a)}}function BX(t){return{html:LX[t],richText:RX[t]}}function P0(t,e){var r='<div style="clear:both"></div>',n="margin: "+e+"px 0 0";return'<div style="'+n+";"+oD+';">'+t+r+"</div>"}function NX(t,e,r){var n=e?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+ui(t)+"</span>"}function FX(t,e,r,n){var i=r?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return t=Ye(t)?t:[t],'<span style="'+a+";"+n+'">'+qe(t,function(o){return ui(o)}).join("&nbsp;&nbsp;")+"</span>"}function cD(t,e,r){return t.markupStyleCreator.wrapRichTextStyle(e,r)}function $X(t,e,r,n,i){var a=[i],o=n?10:20;return r&&a.push({padding:[0,0,0,o],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(Ye(e)?e.join("  "):e,a)}function HX(t,e){var r=t.getData().getItemVisual(e,"style"),n=r[t.visualDrawType];return pu(n)}function fD(t,e){var r=t.get("padding");return r??(e==="richText"?[8,10]:10)}var Om=function(){function t(){this.richTextStyles={},this._nextStyleNameId=pE()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(e,r,n){var i=n==="richText"?this._generateStyleName():null,a=wY({color:r,type:e,renderMode:n,markerId:i});return et(a)?a:(this.richTextStyles[i]=a.style,a.content)},t.prototype.wrapRichTextStyle=function(e,r){var n={};Ye(r)?K(r,function(a){return Oe(n,a)}):Oe(n,r);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+e+"}"},t}();function zX(t){var e=t.series,r=t.dataIndex,n=t.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,s=e.getRawValue(r),u=Ye(s),l=HX(e,r),c,h,f,v;if(o>1||u&&!o){var p=UX(s,e,r,a,l);c=p.inlineValues,h=p.inlineValueTypes,f=p.blocks,v=p.inlineValues[0]}else if(o){var g=i.getDimensionInfo(a[0]);v=c=ec(i,r,a[0]),h=g.type}else v=c=u?s[0]:s;var m=s_(e),_=m&&e.name||"",b=i.getName(r),w=n?_:b;return hh("section",{header:_,noHeader:n||!m,sortParam:v,blocks:[hh("nameValue",{markerType:"item",markerColor:l,name:w,noName:!da(w),value:c,valueType:h})].concat(f||[])})}function UX(t,e,r,n,i){var a=e.getData(),o=Zo(t,function(h,f,v){var p=a.getDimensionInfo(v);return h=h||p&&p.tooltip!==!1&&p.displayName!=null},!1),s=[],u=[],l=[];n.length?K(n,function(h){c(ec(a,r,h),h)}):K(t,c);function c(h,f){var v=a.getDimensionInfo(f);!v||v.otherDims.tooltip===!1||(o?l.push(hh("nameValue",{markerType:"subItem",markerColor:i,name:v.displayName,value:h,valueType:v.type})):(s.push(h),u.push(v.type)))}return{inlineValues:s,inlineValueTypes:u,blocks:l}}var Co=hr();function Ld(t,e){return t.getName(e)||t.getId(e)}var Pv="__universalTransitionEnabled",ug=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return e.prototype.init=function(r,n,i){this.seriesIndex=this.componentIndex,this.dataTask=Nf({count:GX,reset:jX}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,i);var a=Co(this).sourceManager=new aD(this);a.prepareSource();var o=this.getInitialData(r,i);x2(o,this),this.dataTask.context.data=o,Co(this).dataBeforeProcessed=o,b2(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(r,n){var i=ch(this),a=i?ag(r):{},o=this.subType;Kt.hasClass(o)&&(o+="Series"),Ct(r,n.getTheme().get(this.subType)),Ct(r,this.getDefaultOption()),c0(r,"label",["show"]),this.fillDataTextStyle(r.data),i&&Jl(r,a,i)},e.prototype.mergeOption=function(r,n){r=Ct(this.option,r,!0),this.fillDataTextStyle(r.data);var i=ch(this);i&&Jl(this.option,r,i);var a=Co(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(r,n);x2(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Co(this).dataBeforeProcessed=o,b2(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(r){if(r&&!qn(r))for(var n=["show"],i=0;i<r.length;i++)r[i]&&r[i].label&&c0(r[i],"label",n)},e.prototype.getInitialData=function(r,n){},e.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},e.prototype.getData=function(r){var n=E0(this);if(n){var i=n.context.data;return r==null?i:i.getLinkedData(r)}else return Co(this).data},e.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},e.prototype.setData=function(r){var n=E0(this);if(n){var i=n.context;i.outputData=r,n!==this.dataTask&&(i.data=r)}Co(this).data=r},e.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return ft(r)},e.prototype.getSourceManager=function(){return Co(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Co(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},e.prototype.formatTooltip=function(r,n,i){return zX({series:this,dataIndex:r,multipleSeries:n})},e.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(Tt.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(r,n,i){var a=this.ecModel,o=E_.prototype.getColorFromPalette.call(this,r,n,i);return o||(o=a.getColorFromPalette(r,n,i)),o},e.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},e.prototype.unselect=function(r,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<r.length;s++){var u=r[s],l=Ld(o,u);i[l]=!1,this._selectedDataIndicesMap[l]=-1}}},e.prototype.toggleSelect=function(r,n){for(var i=[],a=0;a<r.length;a++)i[0]=r[a],this.isSelected(r[a],n)?this.unselect(i,n):this.select(i,n)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=lr(r),i=[],a=0;a<n.length;a++){var o=r[n[a]];o>=0&&i.push(o)}return i},e.prototype.isSelected=function(r,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[Ld(a,r)])&&!a.getItemModel(r).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[Pv])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},e.prototype._innerSelect=function(r,n){var i,a,o=this.option,s=o.selectedMode,u=n.length;if(!(!s||!u)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){it(o.selectedMap)||(o.selectedMap={});for(var l=o.selectedMap,c=0;c<u;c++){var h=n[c],f=Ld(r,h);l[f]=!0,this._selectedDataIndicesMap[f]=r.getRawIndex(h)}}else if(s==="single"||s===!0){var v=n[u-1],f=Ld(r,v);o.selectedMap=(i={},i[f]=!0,i),this._selectedDataIndicesMap=(a={},a[f]=r.getRawIndex(v),a)}}},e.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(i){var a=r.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(r,n)}},e.registerClass=function(r){return Kt.registerClass(r)},e.protoInitialize=function(){var r=e.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),e}(Kt);Gi(ug,vX);Gi(ug,E_);wE(ug,Kt);function b2(t){var e=t.name;s_(t)||(t.name=VX(t)||e)}function VX(t){var e=t.getRawData(),r=e.mapDimensionsAll("seriesName"),n=[];return K(r,function(i){var a=e.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function GX(t){return t.model.getRawData().count()}function jX(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),WX}function WX(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function x2(t,e){K(YU(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(r){t.wrapMethod(r,zt(YX,e))})}function YX(t,e){var r=E0(t);return r&&r.setOutputEnd((e||this).count()),e}function E0(t){var e=(t.ecModel||{}).scheduler,r=e&&e.getPipeline(t.uid);if(r){var n=r.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(t.uid))}return n}}const ts=ug;var I_=function(){function t(){this.group=new Er,this.uid=Oh("viewComponent")}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,n,i){},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,n,i){},t.prototype.updateLayout=function(e,r,n,i){},t.prototype.updateVisual=function(e,r,n,i){},t.prototype.toggleBlurSeries=function(e,r,n){},t.prototype.eachRendered=function(e){var r=this.group;r&&r.traverse(e)},t}();l_(I_);Hp(I_);const Zn=I_;function B_(){var t=hr();return function(e){var r=t(e),n=e.pipelineContext,i=!!r.large,a=!!r.progressiveRender,o=r.large=!!(n&&n.large),s=r.progressiveRender=!!(n&&n.progressiveRender);return(i!==o||a!==s)&&"reset"}}var hD=hr(),XX=B_(),N_=function(){function t(){this.group=new Er,this.uid=Oh("viewChart"),this.renderTask=Nf({plan:qX,reset:ZX}),this.renderTask.context={view:this}}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,n,i){},t.prototype.highlight=function(e,r,n,i){var a=e.getData(i&&i.dataType);a&&w2(a,i,"emphasis")},t.prototype.downplay=function(e,r,n,i){var a=e.getData(i&&i.dataType);a&&w2(a,i,"normal")},t.prototype.remove=function(e,r){this.group.removeAll()},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.updateLayout=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.updateVisual=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.eachRendered=function(e){Kp(this.group,e)},t.markUpdateMethod=function(e,r){hD(e).updateMethod=r},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function S2(t,e,r){t&&y0(t)&&(e==="emphasis"?Zl:Kl)(t,r)}function w2(t,e,r){var n=vu(t,e),i=e&&e.highlightKey!=null?oW(e.highlightKey):null;n!=null?K(Cr(n),function(a){S2(t.getItemGraphicEl(a),r,i)}):t.eachItemGraphicEl(function(a){S2(a,r,i)})}l_(N_);Hp(N_);function qX(t){return XX(t.model)}function ZX(t){var e=t.model,r=t.ecModel,n=t.api,i=t.payload,a=e.pipelineContext.progressiveRender,o=t.view,s=i&&hD(i).updateMethod,u=a?"incrementalPrepareRender":s&&o[s]?s:"render";return u!=="render"&&o[u](e,r,n,i),KX[u]}var KX={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const _a=N_;var ap="\0__throttleOriginMethod",T2="\0__throttleRate",C2="\0__throttleType";function F_(t,e,r){var n,i=0,a=0,o=null,s,u,l,c;e=e||0;function h(){a=new Date().getTime(),o=null,t.apply(u,l||[])}var f=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];n=new Date().getTime(),u=this,l=v;var g=c||e,m=c||r;c=null,s=n-(m?i:a)-g,clearTimeout(o),m?o=setTimeout(h,g):s>=0?h():o=setTimeout(h,-s),i=n};return f.clear=function(){o&&(clearTimeout(o),o=null)},f.debounceNextCall=function(v){c=v},f}function dD(t,e,r,n){var i=t[e];if(i){var a=i[ap]||i,o=i[C2],s=i[T2];if(s!==r||o!==n){if(r==null||!n)return t[e]=a;i=t[e]=F_(a,r,n==="debounce"),i[ap]=a,i[C2]=n,i[T2]=r}return i}}function M0(t,e){var r=t[e];r&&r[ap]&&(r.clear&&r.clear(),t[e]=r[ap])}var A2=hr(),k2={itemStyle:ah(xM,!0),lineStyle:ah(bM,!0)},QX={lineStyle:"stroke",itemStyle:"fill"};function vD(t,e){var r=t.visualStyleMapper||k2[e];return r||(console.warn("Unknown style type '"+e+"'."),k2.itemStyle)}function pD(t,e){var r=t.visualDrawType||QX[e];return r||(console.warn("Unknown style type '"+e+"'."),"fill")}var JX={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData(),n=t.visualStyleAccessPath||"itemStyle",i=t.getModel(n),a=vD(t,n),o=a(i),s=i.getShallow("decal");s&&(r.setVisual("decal",s),s.dirty=!0);var u=pD(t,n),l=o[u],c=ht(l)?l:null,h=o.fill==="auto"||o.stroke==="auto";if(!o[u]||c||h){var f=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[u]||(o[u]=f,r.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||ht(o.fill)?f:o.fill,o.stroke=o.stroke==="auto"||ht(o.stroke)?f:o.stroke}if(r.setVisual("style",o),r.setVisual("drawType",u),!e.isSeriesFiltered(t)&&c)return r.setVisual("colorFromPalette",!1),{dataEach:function(v,p){var g=t.getDataParams(p),m=Oe({},o);m[u]=c(g),v.setItemVisual(p,"style",m)}}}},qc=new Vr,eq={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!(t.ignoreStyleOnData||e.isSeriesFiltered(t))){var r=t.getData(),n=t.visualStyleAccessPath||"itemStyle",i=vD(t,n),a=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(o,s){var u=o.getRawDataItem(s);if(u&&u[n]){qc.option=u[n];var l=i(qc),c=o.ensureUniqueItemVisual(s,"style");Oe(c,l),qc.option.decal&&(o.setItemVisual(s,"decal",qc.option.decal),qc.option.decal.dirty=!0),a in l&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},tq={performRawSeries:!0,overallReset:function(t){var e=ft();t.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var i=r.type+"-"+n,a=e.get(i);a||(a={},e.set(i,a)),A2(r).scope=a}}),t.eachSeries(function(r){if(!(r.isColorBySeries()||t.isSeriesFiltered(r))){var n=r.getRawData(),i={},a=r.getData(),o=A2(r).scope,s=r.visualStyleAccessPath||"itemStyle",u=pD(r,s);a.each(function(l){var c=a.getRawIndex(l);i[c]=l}),n.each(function(l){var c=i[l],h=a.getItemVisual(c,"colorFromPalette");if(h){var f=a.ensureUniqueItemVisual(c,"style"),v=n.getName(l)||l+"",p=n.count();f[u]=r.getColorFromPalette(v,o,p)}})}})}},Rd=Math.PI;function rq(t,e){e=e||{},ct(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Er,n=new Sr({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});r.add(n);var i=new Fr({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new Sr({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});r.add(a);var o;return e.showSpinner&&(o=new g_({shape:{startAngle:-Rd/2,endAngle:-Rd/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:Rd*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:Rd*3/2}).delay(300).start("circularInOut"),r.add(o)),r.resize=function(){var s=i.getBoundingRect().width,u=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-u*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:u),c=t.getHeight()/2;e.showSpinner&&o.setShape({cx:l,cy:c}),a.setShape({x:l-u,y:c-u,width:u*2,height:u*2}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},r.resize(),r}var nq=function(){function t(e,r,n,i){this._stageTaskMap=ft(),this.ecInstance=e,this.api=r,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return t.prototype.restoreData=function(e,r){e.restoreData(r),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},t.prototype.getPerformArgs=function(e,r){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,a=!r&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex,o=a?n.step:null,s=i&&i.modDataCount,u=s!=null?Math.ceil(s/o):null;return{step:o,modBy:u,modDataCount:s}}},t.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},t.prototype.updateStreamModes=function(e,r){var n=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),o=n.progressiveEnabled&&r.incrementalPrepareRender&&a>=n.threshold,s=e.get("large")&&a>=e.get("largeThreshold"),u=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=n.context={progressiveRender:o,modDataCount:u,large:s}},t.prototype.restorePipelines=function(e){var r=this,n=r._pipelineMap=ft();e.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;n.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),r._pipe(i,i.dataTask)})},t.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,r=this.api.getModel(),n=this.api;K(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),o="";wa(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,a,r,n),i.overallReset&&this._createOverallStageTask(i,a,r,n)},this)},t.prototype.prepareView=function(e,r,n,i){var a=e.renderTask,o=a.context;o.model=r,o.ecModel=n,o.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(r,a)},t.prototype.performDataProcessorTasks=function(e,r){this._performStageTasks(this._dataProcessorHandlers,e,r,{block:!0})},t.prototype.performVisualTasks=function(e,r,n){this._performStageTasks(this._visualHandlers,e,r,n)},t.prototype._performStageTasks=function(e,r,n,i){i=i||{};var a=!1,o=this;K(e,function(u,l){if(!(i.visualType&&i.visualType!==u.visualType)){var c=o._stageTaskMap.get(u.uid),h=c.seriesTaskMap,f=c.overallTask;if(f){var v,p=f.agentStubMap;p.each(function(m){s(i,m)&&(m.dirty(),v=!0)}),v&&f.dirty(),o.updatePayload(f,n);var g=o.getPerformArgs(f,i.block);p.each(function(m){m.perform(g)}),f.perform(g)&&(a=!0)}else h&&h.each(function(m,_){s(i,m)&&m.dirty();var b=o.getPerformArgs(m,i.block);b.skip=!u.performRawSeries&&r.isSeriesFiltered(m.context.model),o.updatePayload(m,n),m.perform(b)&&(a=!0)})}});function s(u,l){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(l.__pipeline.id))}this.unfinished=a||this.unfinished},t.prototype.performSeriesTasks=function(e){var r;e.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(e){var r=e.tail;do{if(r.__block){e.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},t.prototype.updatePayload=function(e,r){r!=="remain"&&(e.context.payload=r)},t.prototype._createSeriesStageTask=function(e,r,n,i){var a=this,o=r.seriesTaskMap,s=r.seriesTaskMap=ft(),u=e.seriesType,l=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(c):u?n.eachRawSeriesByType(u,c):l&&l(n,i).each(c);function c(h){var f=h.uid,v=s.set(f,o&&o.get(f)||Nf({plan:uq,reset:lq,count:fq}));v.context={model:h,ecModel:n,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(h,v)}},t.prototype._createOverallStageTask=function(e,r,n,i){var a=this,o=r.overallTask=r.overallTask||Nf({reset:iq});o.context={ecModel:n,api:i,overallReset:e.overallReset,scheduler:a};var s=o.agentStubMap,u=o.agentStubMap=ft(),l=e.seriesType,c=e.getTargetSeries,h=!0,f=!1,v="";wa(!e.createOnAllSeries,v),l?n.eachRawSeriesByType(l,p):c?c(n,i).each(p):(h=!1,K(n.getSeries(),p));function p(g){var m=g.uid,_=u.set(m,s&&s.get(m)||(f=!0,Nf({reset:aq,onDirty:sq})));_.context={model:g,overallProgress:h},_.agent=o,_.__block=h,a._pipe(g,_)}f&&o.dirty()},t.prototype._pipe=function(e,r){var n=e.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i},t.wrapStageHandler=function(e,r){return ht(e)&&(e={overallReset:e,seriesType:hq(e)}),e.uid=Oh("stageHandler"),r&&(e.visualType=r),e},t}();function iq(t){t.overallReset(t.ecModel,t.api,t.payload)}function aq(t){return t.overallProgress&&oq}function oq(){this.agent.dirty(),this.getDownstream().dirty()}function sq(){this.agent&&this.agent.dirty()}function uq(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function lq(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Cr(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?qe(e,function(r,n){return gD(n)}):cq}var cq=gD(0);function gD(t){return function(e,r){var n=r.data,i=r.resetDefines[t];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(e,n)}}function fq(t){return t.data.count()}function hq(t){op=null;try{t(dh,mD)}catch{}return op}var dh={},mD={},op;yD(dh,VM);yD(mD,GM);dh.eachSeriesByType=dh.eachRawSeriesByType=function(t){op=t};dh.eachComponent=function(t){t.mainType==="series"&&t.subType&&(op=t.subType)};function yD(t,e){for(var r in e.prototype)t[r]=xn}const _D=nq;var P2=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const dq={color:P2,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],P2]};var mn="#B9B8CE",E2="#100C2A",Od=function(){return{axisLine:{lineStyle:{color:mn}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},M2=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],bD={darkMode:!0,color:M2,backgroundColor:E2,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:mn}},textStyle:{color:mn},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:mn}},dataZoom:{borderColor:"#71708A",textStyle:{color:mn},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:mn}},timeline:{lineStyle:{color:mn},label:{color:mn},controlStyle:{color:mn,borderColor:mn}},calendar:{itemStyle:{color:E2},dayLabel:{color:mn},monthLabel:{color:mn},yearLabel:{color:mn}},timeAxis:Od(),logAxis:Od(),valueAxis:Od(),categoryAxis:Od(),line:{symbol:"circle"},graph:{color:M2},gauge:{title:{color:mn},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:mn},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};bD.categoryAxis.splitLine.show=!1;const vq=bD;var pq=function(){function t(){}return t.prototype.normalizeQuery=function(e){var r={},n={},i={};if(et(e)){var a=va(e);r.mainType=a.main||null,r.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};K(e,function(u,l){for(var c=!1,h=0;h<o.length;h++){var f=o[h],v=l.lastIndexOf(f);if(v>0&&v===l.length-f.length){var p=l.slice(0,v);p!=="data"&&(r.mainType=p,r[f.toLowerCase()]=u,c=!0)}}s.hasOwnProperty(l)&&(n[l]=u,c=!0),c||(i[l]=u)})}return{cptQuery:r,dataQuery:n,otherQuery:i}},t.prototype.filter=function(e,r){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var u=r.cptQuery,l=r.dataQuery;return c(u,o,"mainType")&&c(u,o,"subType")&&c(u,o,"index","componentIndex")&&c(u,o,"name")&&c(u,o,"id")&&c(l,a,"name")&&c(l,a,"dataIndex")&&c(l,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,r.otherQuery,i,a));function c(h,f,v,p){return h[v]==null||f[p||v]===h[v]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),D0=["symbol","symbolSize","symbolRotate","symbolOffset"],D2=D0.concat(["symbolKeepAspect"]),gq={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData();if(t.legendIcon&&r.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var n={},i={},a=!1,o=0;o<D0.length;o++){var s=D0[o],u=t.get(s);ht(u)?(a=!0,i[s]=u):n[s]=u}if(n.symbol=n.symbol||t.defaultSymbol,r.setVisual(Oe({legendIcon:t.legendIcon||n.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},n)),e.isSeriesFiltered(t))return;var l=lr(i);function c(h,f){for(var v=t.getRawValue(f),p=t.getDataParams(f),g=0;g<l.length;g++){var m=l[g];h.setItemVisual(f,m,i[m](v,p))}}return{dataEach:a?c:null}}},mq={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.hasSymbolVisual||e.isSeriesFiltered(t))return;var r=t.getData();function n(i,a){for(var o=i.getItemModel(a),s=0;s<D2.length;s++){var u=D2[s],l=o.getShallow(u,!0);l!=null&&i.setItemVisual(a,u,l)}}return{dataEach:r.hasItemOption?n:null}}};function yq(t,e,r){switch(r){case"color":var n=t.getItemVisual(e,"style");return n[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,r)}}function _q(t,e){switch(e){case"color":var r=t.getVisual("style");return r[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function bq(t,e){function r(n,i){var a=[];return n.eachComponent({mainType:"series",subType:t,query:i},function(o){a.push(o.seriesIndex)}),a}K([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(n){e(n[0],function(i,a,o){i=Oe({},i),o.dispatchAction(Oe(i,{type:n[1],seriesIndex:r(a,i)}))})})}function rl(t,e,r,n,i){var a=t+e;r.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,u=o.option.selectedMap,l=i.selected,c=0;c<l.length;c++)if(l[c].seriesIndex===s){var h=o.getData(),f=vu(h,i.fromActionPayload);r.trigger(a,{type:a,seriesId:o.id,name:Ye(f)?h.getName(f[0]):h.getName(f),selected:et(u)?u:Oe({},u)})}})}function xq(t,e,r){t.on("selectchanged",function(n){var i=r.getModel();n.isFromClick?(rl("map","selectchanged",e,i,n),rl("pie","selectchanged",e,i,n)):n.fromAction==="select"?(rl("map","selected",e,i,n),rl("pie","selected",e,i,n)):n.fromAction==="unselect"&&(rl("map","unselected",e,i,n),rl("pie","unselected",e,i,n))})}function mf(t,e,r){for(var n;t&&!(e(t)&&(n=t,r));)t=t.__hostTarget||t.parent;return n}var Sq=Math.round(Math.random()*9),wq=typeof Object.defineProperty=="function",Tq=function(){function t(){this._id="__ec_inner_"+Sq++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,r){var n=this._guard(e);return wq?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t}();const Cq=Tq;var Aq=Ot.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=e.width/2,a=e.height/2;t.moveTo(r,n-a),t.lineTo(r+i,n+a),t.lineTo(r-i,n+a),t.closePath()}}),kq=Ot.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=e.width/2,a=e.height/2;t.moveTo(r,n-a),t.lineTo(r+i,n),t.lineTo(r,n+a),t.lineTo(r-i,n),t.closePath()}}),Pq=Ot.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.x,n=e.y,i=e.width/5*3,a=Math.max(i,e.height),o=i/2,s=o*o/(a-o),u=n-a+o+s,l=Math.asin(s/o),c=Math.cos(l)*o,h=Math.sin(l),f=Math.cos(l),v=o*.6,p=o*.7;t.moveTo(r-c,u+s),t.arc(r,u,o,Math.PI-l,Math.PI*2+l),t.bezierCurveTo(r+c-h*v,u+s+f*v,r,n-p,r,n),t.bezierCurveTo(r,n-p,r-c+h*v,u+s+f*v,r-c,u+s),t.closePath()}}),Eq=Ot.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.height,n=e.width,i=e.x,a=e.y,o=n/3*2;t.moveTo(i,a),t.lineTo(i+o,a+r),t.lineTo(i,a+r/4*3),t.lineTo(i-o,a+r),t.lineTo(i,a),t.closePath()}}),Mq={line:Bi,rect:Sr,roundRect:Sr,square:Sr,circle:Ql,diamond:kq,pin:Pq,arrow:Eq,triangle:Aq},Dq={line:function(t,e,r,n,i){i.x1=t,i.y1=e+n/2,i.x2=t+r,i.y2=e+n/2},rect:function(t,e,r,n,i){i.x=t,i.y=e,i.width=r,i.height=n},roundRect:function(t,e,r,n,i){i.x=t,i.y=e,i.width=r,i.height=n,i.r=Math.min(r,n)/4},square:function(t,e,r,n,i){var a=Math.min(r,n);i.x=t,i.y=e,i.width=a,i.height=a},circle:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.r=Math.min(r,n)/2},diamond:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.width=r,i.height=n},pin:function(t,e,r,n,i){i.x=t+r/2,i.y=e+n/2,i.width=r,i.height=n},arrow:function(t,e,r,n,i){i.x=t+r/2,i.y=e+n/2,i.width=r,i.height=n},triangle:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.width=r,i.height=n}},L0={};K(Mq,function(t,e){L0[e]=new t});var Lq=Ot.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,r){var n=qv(t,e,r),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(t,e,r){var n=e.symbolType;if(n!=="none"){var i=L0[n];i||(n="rect",i=L0[n]),Dq[n](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,r)}}});function Rq(t,e){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=t,r.fill=e||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=t:r.fill=t,this.markRedraw()}}function tc(t,e,r,n,i,a,o){var s=t.indexOf("empty")===0;s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var u;return t.indexOf("image://")===0?u=dM(t.slice(8),new Nt(e,r,n,i),o?"center":"cover"):t.indexOf("path://")===0?u=__(t.slice(7),{},new Nt(e,r,n,i),o?"center":"cover"):u=new Lq({shape:{symbolType:t,x:e,y:r,width:n,height:i}}),u.__isEmptyBrush=s,u.setColor=Rq,a&&u.setColor(a),u}function Oq(t){return Ye(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function xD(t,e){if(t!=null)return Ye(t)||(t=[t,t]),[Ht(t[0],e[0])||0,Ht(Rt(t[1],t[0]),e[1])||0]}function eu(t){return isFinite(t)}function Iq(t,e,r){var n=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,o=e.y2==null?0:e.y2;e.global||(n=n*r.width+r.x,i=i*r.width+r.x,a=a*r.height+r.y,o=o*r.height+r.y),n=eu(n)?n:0,i=eu(i)?i:1,a=eu(a)?a:0,o=eu(o)?o:0;var s=t.createLinearGradient(n,a,i,o);return s}function Bq(t,e,r){var n=r.width,i=r.height,a=Math.min(n,i),o=e.x==null?.5:e.x,s=e.y==null?.5:e.y,u=e.r==null?.5:e.r;e.global||(o=o*n+r.x,s=s*i+r.y,u=u*a),o=eu(o)?o:.5,s=eu(s)?s:.5,u=u>=0&&eu(u)?u:.5;var l=t.createRadialGradient(o,s,0,o,s,u);return l}function R0(t,e,r){for(var n=e.type==="radial"?Bq(t,e,r):Iq(t,e,r),i=e.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function Nq(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!0;return!1}function Id(t){return parseInt(t,10)}function Bd(t,e,r){var n=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var s=document.defaultView.getComputedStyle(t);return(t[i]||Id(s[n])||Id(t.style[n]))-(Id(s[a])||0)-(Id(s[o])||0)|0}function Fq(t,e){return!t||t==="solid"||!(e>0)?null:t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:Wt(t)?[t]:Ye(t)?t:null}function SD(t){var e=t.style,r=e.lineDash&&e.lineWidth>0&&Fq(e.lineDash,e.lineWidth),n=e.lineDashOffset;if(r){var i=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;i&&i!==1&&(r=qe(r,function(a){return a/i}),n/=i)}return[r,n]}var $q=new ro(!0);function sp(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function L2(t){return typeof t=="string"&&t!=="none"}function up(t){var e=t.fill;return e!=null&&e!=="none"}function R2(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=r}else t.fill()}function O2(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=r}else t.stroke()}function O0(t,e,r){var n=TE(e.image,e.__image,r);if(zp(n)){var i=t.createPattern(n,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*XU),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function Hq(t,e,r,n){var i,a=sp(r),o=up(r),s=r.strokePercent,u=s<1,l=!e.path;(!e.silent||u)&&l&&e.createPathProxy();var c=e.path||$q,h=e.__dirty;if(!n){var f=r.fill,v=r.stroke,p=o&&!!f.colorStops,g=a&&!!v.colorStops,m=o&&!!f.image,_=a&&!!v.image,b=void 0,w=void 0,T=void 0,k=void 0,A=void 0;(p||g)&&(A=e.getBoundingRect()),p&&(b=h?R0(t,f,A):e.__canvasFillGradient,e.__canvasFillGradient=b),g&&(w=h?R0(t,v,A):e.__canvasStrokeGradient,e.__canvasStrokeGradient=w),m&&(T=h||!e.__canvasFillPattern?O0(t,f,e):e.__canvasFillPattern,e.__canvasFillPattern=T),_&&(k=h||!e.__canvasStrokePattern?O0(t,v,e):e.__canvasStrokePattern,e.__canvasStrokePattern=T),p?t.fillStyle=b:m&&(T?t.fillStyle=T:o=!1),g?t.strokeStyle=w:_&&(k?t.strokeStyle=k:a=!1)}var M=e.getGlobalScale();c.setScale(M[0],M[1],e.segmentIgnoreThreshold);var O,F;t.setLineDash&&r.lineDash&&(i=SD(e),O=i[0],F=i[1]);var $=!0;(l||h&vl)&&(c.setDPR(t.dpr),u?c.setContext(null):(c.setContext(t),$=!1),c.reset(),e.buildPath(c,e.shape,n),c.toStatic(),e.pathUpdated()),$&&c.rebuildPath(t,u?s:1),O&&(t.setLineDash(O),t.lineDashOffset=F),n||(r.strokeFirst?(a&&O2(t,r),o&&R2(t,r)):(o&&R2(t,r),a&&O2(t,r))),O&&t.setLineDash([])}function zq(t,e,r){var n=e.__image=TE(r.image,e.__image,e,e.onload);if(!(!n||!zp(n))){var i=r.x||0,a=r.y||0,o=e.getWidth(),s=e.getHeight(),u=n.width/n.height;if(o==null&&s!=null?o=s*u:s==null&&o!=null?s=o/u:o==null&&s==null&&(o=n.width,s=n.height),r.sWidth&&r.sHeight){var l=r.sx||0,c=r.sy||0;t.drawImage(n,l,c,r.sWidth,r.sHeight,i,a,o,s)}else if(r.sx&&r.sy){var l=r.sx,c=r.sy,h=o-l,f=s-c;t.drawImage(n,l,c,h,f,i,a,o,s)}else t.drawImage(n,i,a,o,s)}}function Uq(t,e,r){var n,i=r.text;if(i!=null&&(i+=""),i){t.font=r.font||du,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline;var a=void 0,o=void 0;t.setLineDash&&r.lineDash&&(n=SD(e),a=n[0],o=n[1]),a&&(t.setLineDash(a),t.lineDashOffset=o),r.strokeFirst?(sp(r)&&t.strokeText(i,r.x,r.y),up(r)&&t.fillText(i,r.x,r.y)):(up(r)&&t.fillText(i,r.x,r.y),sp(r)&&t.strokeText(i,r.x,r.y)),a&&t.setLineDash([])}}var I2=["shadowBlur","shadowOffsetX","shadowOffsetY"],B2=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function wD(t,e,r,n,i){var a=!1;if(!n&&(r=r||{},e===r))return!1;if(n||e.opacity!==r.opacity){Dn(t,i),a=!0;var o=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(o)?au.opacity:o}(n||e.blend!==r.blend)&&(a||(Dn(t,i),a=!0),t.globalCompositeOperation=e.blend||au.blend);for(var s=0;s<I2.length;s++){var u=I2[s];(n||e[u]!==r[u])&&(a||(Dn(t,i),a=!0),t[u]=t.dpr*(e[u]||0))}return(n||e.shadowColor!==r.shadowColor)&&(a||(Dn(t,i),a=!0),t.shadowColor=e.shadowColor||au.shadowColor),a}function N2(t,e,r,n,i){var a=vh(e,i.inHover),o=n?null:r&&vh(r,i.inHover)||{};if(a===o)return!1;var s=wD(t,a,o,n,i);if((n||a.fill!==o.fill)&&(s||(Dn(t,i),s=!0),L2(a.fill)&&(t.fillStyle=a.fill)),(n||a.stroke!==o.stroke)&&(s||(Dn(t,i),s=!0),L2(a.stroke)&&(t.strokeStyle=a.stroke)),(n||a.opacity!==o.opacity)&&(s||(Dn(t,i),s=!0),t.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var u=a.lineWidth,l=u/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==l&&(s||(Dn(t,i),s=!0),t.lineWidth=l)}for(var c=0;c<B2.length;c++){var h=B2[c],f=h[0];(n||a[f]!==o[f])&&(s||(Dn(t,i),s=!0),t[f]=a[f]||h[1])}return s}function Vq(t,e,r,n,i){return wD(t,vh(e,i.inHover),r&&vh(r,i.inHover),n,i)}function TD(t,e){var r=e.transform,n=t.dpr||1;r?t.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):t.setTransform(n,0,0,n,0,0)}function Gq(t,e,r){for(var n=!1,i=0;i<t.length;i++){var a=t[i];n=n||a.isZeroArea(),TD(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}r.allClipped=n}function jq(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var F2=1,$2=2,H2=3,z2=4;function Wq(t){var e=up(t),r=sp(t);return!(t.lineDash||!(+e^+r)||e&&typeof t.fill!="string"||r&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function Dn(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function vh(t,e){return e&&t.__hoverStyle||t.style}function CD(t,e){tu(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function tu(t,e,r,n){var i=e.transform;if(!e.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){e.__dirty&=~jn,e.__isRendered=!1;return}var a=e.__clipPaths,o=r.prevElClipPaths,s=!1,u=!1;if((!o||Nq(a,o))&&(o&&o.length&&(Dn(t,r),t.restore(),u=s=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),a&&a.length&&(Dn(t,r),t.save(),Gq(a,t,r),s=!0),r.prevElClipPaths=a),r.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var l=r.prevEl;l||(u=s=!0);var c=e instanceof Ot&&e.autoBatch&&Wq(e.style);s||jq(i,l.transform)?(Dn(t,r),TD(t,e)):c||Dn(t,r);var h=vh(e,r.inHover);e instanceof Ot?(r.lastDrawType!==F2&&(u=!0,r.lastDrawType=F2),N2(t,e,l,u,r),(!c||!r.batchFill&&!r.batchStroke)&&t.beginPath(),Hq(t,e,h,c),c&&(r.batchFill=h.fill||"",r.batchStroke=h.stroke||"")):e instanceof v0?(r.lastDrawType!==H2&&(u=!0,r.lastDrawType=H2),N2(t,e,l,u,r),Uq(t,e,h)):e instanceof Au?(r.lastDrawType!==$2&&(u=!0,r.lastDrawType=$2),Vq(t,e,l,u,r),zq(t,e,h)):e.getTemporalDisplayables&&(r.lastDrawType!==z2&&(u=!0,r.lastDrawType=z2),Yq(t,e,r)),c&&n&&Dn(t,r),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),r.prevEl=e,e.__dirty=0,e.__isRendered=!0}function Yq(t,e,r){var n=e.getDisplayables(),i=e.getTemporalDisplayables();t.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},o,s;for(o=e.getCursor(),s=n.length;o<s;o++){var u=n[o];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),tu(t,u,a,o===s-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}for(var l=0,c=i.length;l<c;l++){var u=i[l];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),tu(t,u,a,l===c-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var Im=new Cq,U2=new Ah(100),V2=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function I0(t,e){if(t==="none")return null;var r=e.getDevicePixelRatio(),n=e.getZr(),i=n.painter.type==="svg";t.dirty&&Im.delete(t);var a=Im.get(t);if(a)return a;var o=ct(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return u(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/r,Im.set(t,s),t.dirty=!1,s;function u(l){for(var c=[r],h=!0,f=0;f<V2.length;++f){var v=o[V2[f]];if(v!=null&&!Ye(v)&&!et(v)&&!Wt(v)&&typeof v!="boolean"){h=!1;break}c.push(v)}var p;if(h){p=c.join(",")+(i?"-svg":"");var g=U2.get(p);g&&(i?l.svgElement=g:l.image=g)}var m=kD(o.dashArrayX),_=Xq(o.dashArrayY),b=AD(o.symbol),w=qq(m),T=PD(_),k=!i&&fc.createCanvas(),A=i&&{tag:"g",attrs:{},key:"dcl",children:[]},M=F(),O;k&&(k.width=M.width*r,k.height=M.height*r,O=k.getContext("2d")),$(),h&&U2.put(p,k||A),l.image=k,l.svgElement=A,l.svgWidth=M.width,l.svgHeight=M.height;function F(){for(var B=1,U=0,H=w.length;U<H;++U)B=tw(B,w[U]);for(var W=1,U=0,H=b.length;U<H;++U)W=tw(W,b[U].length);B*=W;var z=T*w.length*b.length;return{width:Math.max(1,Math.min(B,o.maxTileWidth)),height:Math.max(1,Math.min(z,o.maxTileHeight))}}function $(){O&&(O.clearRect(0,0,k.width,k.height),o.backgroundColor&&(O.fillStyle=o.backgroundColor,O.fillRect(0,0,k.width,k.height)));for(var B=0,U=0;U<_.length;++U)B+=_[U];if(B<=0)return;for(var H=-T,W=0,z=0,G=0;H<M.height;){if(W%2===0){for(var Y=z/2%b.length,Q=0,J=0,ae=0;Q<M.width*2;){for(var he=0,U=0;U<m[G].length;++U)he+=m[G][U];if(he<=0)break;if(J%2===0){var ve=(1-o.symbolSize)*.5,we=Q+m[G][J]*ve,Te=H+_[W]*ve,Le=m[G][J]*o.symbolSize,$e=_[W]*o.symbolSize,se=ae/2%b[Y].length;pe(we,Te,Le,$e,b[Y][se])}Q+=m[G][J],++ae,++J,J===m[G].length&&(J=0)}++G,G===m.length&&(G=0)}H+=_[W],++z,++W,W===_.length&&(W=0)}function pe(ge,be,Ce,He,Ie){var Ne=i?1:r,vt=tc(Ie,ge*Ne,be*Ne,Ce*Ne,He*Ne,o.color,o.symbolKeepAspect);if(i){var Yt=n.painter.renderOneToVNode(vt);Yt&&A.children.push(Yt)}else CD(O,vt)}}}}function AD(t){if(!t||t.length===0)return[["rect"]];if(et(t))return[[t]];for(var e=!0,r=0;r<t.length;++r)if(!et(t[r])){e=!1;break}if(e)return AD([t]);for(var n=[],r=0;r<t.length;++r)et(t[r])?n.push([t[r]]):n.push(t[r]);return n}function kD(t){if(!t||t.length===0)return[[0,0]];if(Wt(t)){var e=Math.ceil(t);return[[e,e]]}for(var r=!0,n=0;n<t.length;++n)if(!Wt(t[n])){r=!1;break}if(r)return kD([t]);for(var i=[],n=0;n<t.length;++n)if(Wt(t[n])){var e=Math.ceil(t[n]);i.push([e,e])}else{var e=qe(t[n],function(s){return Math.ceil(s)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function Xq(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(Wt(t)){var e=Math.ceil(t);return[e,e]}var r=qe(t,function(n){return Math.ceil(n)});return t.length%2?r.concat(r):r}function qq(t){return qe(t,function(e){return PD(e)})}function PD(t){for(var e=0,r=0;r<t.length;++r)e+=t[r];return t.length%2===1?e*2:e}function Zq(t,e){t.eachRawSeries(function(r){if(!t.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");if(s){var u=n.ensureUniqueItemVisual(o,"style");u.decal=I0(s,e)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=I0(i,e)}}})}var Kq=new ji;const Mi=Kq;var ED={};function Qq(t,e){ED[t]=e}function Jq(t){return ED[t]}var eZ=1,tZ=800,rZ=900,nZ=1e3,iZ=2e3,aZ=5e3,MD=1e3,oZ=1100,$_=2e3,DD=3e3,sZ=4e3,lg=4500,uZ=4600,lZ=5e3,cZ=6e3,LD=7e3,fZ={PROCESSOR:{FILTER:nZ,SERIES_FILTER:tZ,STATISTIC:aZ},VISUAL:{LAYOUT:MD,PROGRESSIVE_LAYOUT:oZ,GLOBAL:$_,CHART:DD,POST_CHART_LAYOUT:uZ,COMPONENT:sZ,BRUSH:lZ,CHART_ITEM:lg,ARIA:cZ,DECAL:LD}},sn="__flagInMainProcess",kn="__pendingUpdate",Bm="__needsUpdateStatus",G2=/^[a-zA-Z0-9_]+$/,Nm="__connectUpdateStatus",j2=0,hZ=1,dZ=2;function RD(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(this.isDisposed()){this.id;return}return ID(this,t,e)}}function OD(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ID(this,t,e)}}function ID(t,e,r){return r[0]=r[0]&&r[0].toLowerCase(),ji.prototype[e].apply(t,r)}var BD=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ji),ND=BD.prototype;ND.on=OD("on");ND.off=OD("off");var nl,Fm,Nd,Ao,$m,Hm,zm,Zc,Kc,W2,Y2,Um,X2,Fd,q2,FD,ti,Z2,$D=function(t){De(e,t);function e(r,n,i){var a=t.call(this,new pq)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},et(n)&&(n=HD[n]),a._dom=r;var o="canvas",s="auto",u=!1,l=a._zr=JS(r,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Rt(i.useDirtyRect,u),useCoarsePointer:Rt(i.useCoarsePointer,s),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=F_(rr(l.flush,l),17),n=_t(n),n&&WM(n,!0),a._theme=n,a._locale=gY(i.locale||wM),a._coordSysMgr=new M_;var c=a._api=q2(a);function h(f,v){return f.__prio-v.__prio}return gv(cp,h),gv(B0,h),a._scheduler=new _D(a,c,B0,cp),a._messageCenter=new BD,a._initEvents(),a.resize=rr(a.resize,a),l.animation.on("frame",a._onframe,a),W2(l,a),Y2(l,a),Uv(a),a}return e.prototype._onframe=function(){if(!this._disposed){Z2(this);var r=this._scheduler;if(this[kn]){var n=this[kn].silent;this[sn]=!0;try{nl(this),Ao.update.call(this,null,this[kn].updateParams)}catch(u){throw this[sn]=!1,this[kn]=null,u}this._zr.flush(),this[sn]=!1,this[kn]=null,Zc.call(this,n),Kc.call(this,n)}else if(r.unfinished){var i=eZ,a=this._model,o=this._api;r.unfinished=!1;do{var s=+new Date;r.performSeriesTasks(a),r.performDataProcessorTasks(a),Hm(this,a),r.performVisualTasks(a),Fd(this,this._model,o,"remain",{}),i-=+new Date-s}while(i>0&&r.unfinished);r.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(r,n,i){if(!this[sn]){if(this._disposed){this.id;return}var a,o,s;if(it(n)&&(i=n.lazyUpdate,a=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[sn]=!0,!this._model||n){var u=new KY(this._api),l=this._theme,c=this._model=new VM;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,l,this._locale,u)}this._model.setOption(r,{replaceMerge:o},N0);var h={seriesTransition:s,optionChanged:!0};if(i)this[kn]={silent:a,updateParams:h},this[sn]=!1,this.getZr().wakeUp();else{try{nl(this),Ao.update.call(this,null,h)}catch(f){throw this[kn]=null,this[sn]=!1,f}this._ssr||this._zr.flush(),this[kn]=null,this[sn]=!1,Zc.call(this,a),Kc.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Tt.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},e.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},e.prototype.getSvgDataURL=function(){if(Tt.svgSupported){var r=this._zr,n=r.storage.getDisplayList();return K(n,function(i){i.stopAnimation(null,!0)}),r.painter.toDataURL()}},e.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,i=this._model,a=[],o=this;K(n,function(u){i.eachComponent({mainType:u},function(l){var c=o._componentsMap[l.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return K(a,function(u){u.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",i=this.group,a=Math.min,o=Math.max,s=1/0;if(K2[i]){var u=s,l=s,c=-s,h=-s,f=[],v=r&&r.pixelRatio||this.getDevicePixelRatio();K($f,function(w,T){if(w.group===i){var k=n?w.getZr().painter.getSvgDom().innerHTML:w.renderToCanvas(_t(r)),A=w.getDom().getBoundingClientRect();u=a(A.left,u),l=a(A.top,l),c=o(A.right,c),h=o(A.bottom,h),f.push({dom:k,left:A.left,top:A.top})}}),u*=v,l*=v,c*=v,h*=v;var p=c-u,g=h-l,m=fc.createCanvas(),_=JS(m,{renderer:n?"svg":"canvas"});if(_.resize({width:p,height:g}),n){var b="";return K(f,function(w){var T=w.left-u,k=w.top-l;b+='<g transform="translate('+T+","+k+')">'+w.dom+"</g>"}),_.painter.getSvgRoot().innerHTML=b,r.connectedBackgroundColor&&_.painter.setBackgroundColor(r.connectedBackgroundColor),_.refreshImmediately(),_.painter.toDataURL()}else return r.connectedBackgroundColor&&_.add(new Sr({shape:{x:0,y:0,width:p,height:g},style:{fill:r.connectedBackgroundColor}})),K(f,function(w){var T=new Au({style:{x:w.left*v-u,y:w.top*v-l,image:w.dom}});_.add(T)}),_.refreshImmediately(),m.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},e.prototype.convertToPixel=function(r,n){return $m(this,"convertToPixel",r,n)},e.prototype.convertFromPixel=function(r,n){return $m(this,"convertFromPixel",r,n)},e.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var i=this._model,a,o=Lf(i,r);return K(o,function(s,u){u.indexOf("Models")>=0&&K(s,function(l){var c=l.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(n);else if(u==="seriesModels"){var h=this._chartsMap[l.__viewId];h&&h.containPoint&&(a=a||h.containPoint(n,l))}},this)},this),!!a},e.prototype.getVisual=function(r,n){var i=this._model,a=Lf(i,r,{defaultMainType:"series"}),o=a.seriesModel,s=o.getData(),u=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return u!=null?yq(s,u,n):_q(s,n)},e.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},e.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},e.prototype._initEvents=function(){var r=this;K(vZ,function(n){var i=function(a){var o=r.getModel(),s=a.target,u,l=n==="globalout";if(l?u={}:s&&mf(s,function(p){var g=Ut(p);if(g&&g.dataIndex!=null){var m=g.dataModel||o.getSeriesByIndex(g.seriesIndex);return u=m&&m.getDataParams(g.dataIndex,g.dataType)||{},!0}else if(g.eventData)return u=Oe({},g.eventData),!0},!0),u){var c=u.componentType,h=u.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",h=u.seriesIndex);var f=c&&h!=null&&o.getComponent(c,h),v=f&&r[f.mainType==="series"?"_chartsMap":"_componentsMap"][f.__viewId];u.event=a,u.type=n,r._$eventProcessor.eventInfo={targetEl:s,packedEvent:u,model:f,view:v},r.trigger(n,u)}};i.zrEventfulCallAtLast=!0,r._zr.on(n,i,r)}),K(Ff,function(n,i){r._messageCenter.on(i,function(a){this.trigger(i,a)},r)}),K(["selectchanged"],function(n){r._messageCenter.on(n,function(i){this.trigger(n,i)},r)}),xq(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&bE(this.getDom(),z_,"");var n=this,i=n._api,a=n._model;K(n._componentsViews,function(o){o.dispose(a,i)}),K(n._chartsViews,function(o){o.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete $f[n.id]},e.prototype.resize=function(r){if(!this[sn]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=r&&r.silent;this[kn]&&(a==null&&(a=this[kn].silent),i=!0,this[kn]=null),this[sn]=!0;try{i&&nl(this),Ao.update.call(this,{type:"resize",animation:Oe({duration:0},r&&r.animation)})}catch(o){throw this[sn]=!1,o}this[sn]=!1,Zc.call(this,a),Kc.call(this,a)}}},e.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(it(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!F0[r]){var i=F0[r](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(r){var n=Oe({},r);return n.type=Ff[r.type],n},e.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(it(n)||(n={silent:!!n}),!!lp[r.type]&&this._model){if(this[sn]){this._pendingActions.push(r);return}var i=n.silent;zm.call(this,r,i);var a=n.flush;a?this._zr.flush():a!==!1&&Tt.browser.weChat&&this._throttledZrFlush(),Zc.call(this,i),Kc.call(this,i)}},e.prototype.updateLabelLayout=function(){Mi.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){nl=function(h){var f=h._scheduler;f.restorePipelines(h._model),f.prepareStageTasks(),Fm(h,!0),Fm(h,!1),f.plan()},Fm=function(h,f){for(var v=h._model,p=h._scheduler,g=f?h._componentsViews:h._chartsViews,m=f?h._componentsMap:h._chartsMap,_=h._zr,b=h._api,w=0;w<g.length;w++)g[w].__alive=!1;f?v.eachComponent(function(A,M){A!=="series"&&T(M)}):v.eachSeries(T);function T(A){var M=A.__requireNewView;A.__requireNewView=!1;var O="_ec_"+A.id+"_"+A.type,F=!M&&m[O];if(!F){var $=va(A.type),B=f?Zn.getClass($.main,$.sub):_a.getClass($.sub);F=new B,F.init(v,b),m[O]=F,g.push(F),_.add(F.group)}A.__viewId=F.__id=O,F.__alive=!0,F.__model=A,F.group.__ecComponentInfo={mainType:A.mainType,index:A.componentIndex},!f&&p.prepareView(F,A,v,b)}for(var w=0;w<g.length;){var k=g[w];k.__alive?w++:(!f&&k.renderTask.dispose(),_.remove(k.group),k.dispose(v,b),g.splice(w,1),m[k.__id]===k&&delete m[k.__id],k.__id=k.group.__ecComponentInfo=null)}},Nd=function(h,f,v,p,g){var m=h._model;if(m.setUpdatePayload(v),!p){K([].concat(h._componentsViews).concat(h._chartsViews),k);return}var _={};_[p+"Id"]=v[p+"Id"],_[p+"Index"]=v[p+"Index"],_[p+"Name"]=v[p+"Name"];var b={mainType:p,query:_};g&&(b.subType=g);var w=v.excludeSeriesId,T;w!=null&&(T=ft(),K(Cr(w),function(A){var M=ma(A,null);M!=null&&T.set(M,!0)})),m&&m.eachComponent(b,function(A){var M=T&&T.get(A.id)!=null;if(!M)if(Mw(v))if(A instanceof ts)v.type===ou&&!v.notBlur&&!A.get(["emphasis","disabled"])&&Qj(A,v,h._api);else{var O=d_(A.mainType,A.componentIndex,v.name,h._api),F=O.focusSelf,$=O.dispatchers;v.type===ou&&F&&!v.notBlur&&g0(A.mainType,A.componentIndex,h._api),$&&K($,function(B){v.type===ou?Zl(B):Kl(B)})}else _0(v)&&A instanceof ts&&(tW(A,v,h._api),Pw(A),ti(h))},h),m&&m.eachComponent(b,function(A){var M=T&&T.get(A.id)!=null;M||k(h[p==="series"?"_chartsMap":"_componentsMap"][A.__viewId])},h);function k(A){A&&A.__alive&&A[f]&&A[f](A.__model,m,h._api,v)}},Ao={prepareAndUpdate:function(h){nl(this),Ao.update.call(this,h,{optionChanged:h.newOption!=null})},update:function(h,f){var v=this._model,p=this._api,g=this._zr,m=this._coordSysMgr,_=this._scheduler;if(v){v.setUpdatePayload(h),_.restoreData(v,h),_.performSeriesTasks(v),m.create(v,p),_.performDataProcessorTasks(v,h),Hm(this,v),m.update(v,p),r(v),_.performVisualTasks(v,h),Um(this,v,p,h,f);var b=v.get("backgroundColor")||"transparent",w=v.get("darkMode");g.setBackgroundColor(b),w!=null&&w!=="auto"&&g.setDarkMode(w),Mi.trigger("afterupdate",v,p)}},updateTransform:function(h){var f=this,v=this._model,p=this._api;if(v){v.setUpdatePayload(h);var g=[];v.eachComponent(function(_,b){if(_!=="series"){var w=f.getViewOfComponentModel(b);if(w&&w.__alive)if(w.updateTransform){var T=w.updateTransform(b,v,p,h);T&&T.update&&g.push(w)}else g.push(w)}});var m=ft();v.eachSeries(function(_){var b=f._chartsMap[_.__viewId];if(b.updateTransform){var w=b.updateTransform(_,v,p,h);w&&w.update&&m.set(_.uid,1)}else m.set(_.uid,1)}),r(v),this._scheduler.performVisualTasks(v,h,{setDirty:!0,dirtyMap:m}),Fd(this,v,p,h,{},m),Mi.trigger("afterupdate",v,p)}},updateView:function(h){var f=this._model;f&&(f.setUpdatePayload(h),_a.markUpdateMethod(h,"updateView"),r(f),this._scheduler.performVisualTasks(f,h,{setDirty:!0}),Um(this,f,this._api,h,{}),Mi.trigger("afterupdate",f,this._api))},updateVisual:function(h){var f=this,v=this._model;v&&(v.setUpdatePayload(h),v.eachSeries(function(p){p.getData().clearAllVisual()}),_a.markUpdateMethod(h,"updateVisual"),r(v),this._scheduler.performVisualTasks(v,h,{visualType:"visual",setDirty:!0}),v.eachComponent(function(p,g){if(p!=="series"){var m=f.getViewOfComponentModel(g);m&&m.__alive&&m.updateVisual(g,v,f._api,h)}}),v.eachSeries(function(p){var g=f._chartsMap[p.__viewId];g.updateVisual(p,v,f._api,h)}),Mi.trigger("afterupdate",v,this._api))},updateLayout:function(h){Ao.update.call(this,h)}},$m=function(h,f,v,p){if(h._disposed){h.id;return}for(var g=h._model,m=h._coordSysMgr.getCoordinateSystems(),_,b=Lf(g,v),w=0;w<m.length;w++){var T=m[w];if(T[f]&&(_=T[f](g,b,p))!=null)return _}},Hm=function(h,f){var v=h._chartsMap,p=h._scheduler;f.eachSeries(function(g){p.updateStreamModes(g,v[g.__viewId])})},zm=function(h,f){var v=this,p=this.getModel(),g=h.type,m=h.escapeConnect,_=lp[g],b=_.actionInfo,w=(b.update||"update").split(":"),T=w.pop(),k=w[0]!=null&&va(w[0]);this[sn]=!0;var A=[h],M=!1;h.batch&&(M=!0,A=qe(h.batch,function(W){return W=ct(Oe({},W),h),W.batch=null,W}));var O=[],F,$=_0(h),B=Mw(h);if(B&&jE(this._api),K(A,function(W){if(F=_.action(W,v._model,v._api),F=F||Oe({},W),F.type=b.event||F.type,O.push(F),B){var z=u_(h),G=z.queryOptionMap,Y=z.mainTypeSpecified,Q=Y?G.keys()[0]:"series";Nd(v,T,W,Q),ti(v)}else $?(Nd(v,T,W,"series"),ti(v)):k&&Nd(v,T,W,k.main,k.sub)}),T!=="none"&&!B&&!$&&!k)try{this[kn]?(nl(this),Ao.update.call(this,h),this[kn]=null):Ao[T].call(this,h)}catch(W){throw this[sn]=!1,W}if(M?F={type:b.event||g,escapeConnect:m,batch:O}:F=O[0],this[sn]=!1,!f){var U=this._messageCenter;if(U.trigger(F.type,F),$){var H={type:"selectchanged",escapeConnect:m,selected:rW(p),isFromClick:h.isFromClick||!1,fromAction:h.type,fromActionPayload:h};U.trigger(H.type,H)}}},Zc=function(h){for(var f=this._pendingActions;f.length;){var v=f.shift();zm.call(this,v,h)}},Kc=function(h){!h&&this.trigger("updated")},W2=function(h,f){h.on("rendered",function(v){f.trigger("rendered",v),h.animation.isFinished()&&!f[kn]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},Y2=function(h,f){h.on("mouseover",function(v){var p=v.target,g=mf(p,y0);g&&(Jj(g,v,f._api),ti(f))}).on("mouseout",function(v){var p=v.target,g=mf(p,y0);g&&(eW(g,v,f._api),ti(f))}).on("click",function(v){var p=v.target,g=mf(p,function(b){return Ut(b).dataIndex!=null},!0);if(g){var m=g.selected?"unselect":"select",_=Ut(g);f._api.dispatchAction({type:m,dataType:_.dataType,dataIndexInside:_.dataIndex,seriesIndex:_.seriesIndex,isFromClick:!0})}})};function r(h){h.clearColorPalette(),h.eachSeries(function(f){f.clearColorPalette()})}function n(h){var f=[],v=[],p=!1;if(h.eachComponent(function(b,w){var T=w.get("zlevel")||0,k=w.get("z")||0,A=w.getZLevelKey();p=p||!!A,(b==="series"?v:f).push({zlevel:T,z:k,idx:w.componentIndex,type:b,key:A})}),p){var g=f.concat(v),m,_;gv(g,function(b,w){return b.zlevel===w.zlevel?b.z-w.z:b.zlevel-w.zlevel}),K(g,function(b){var w=h.getComponent(b.type,b.idx),T=b.zlevel,k=b.key;m!=null&&(T=Math.max(m,T)),k?(T===m&&k!==_&&T++,_=k):_&&(T===m&&T++,_=""),m=T,w.setZLevel(T)})}}Um=function(h,f,v,p,g){n(f),X2(h,f,v,p,g),K(h._chartsViews,function(m){m.__alive=!1}),Fd(h,f,v,p,g),K(h._chartsViews,function(m){m.__alive||m.remove(f,v)})},X2=function(h,f,v,p,g,m){K(m||h._componentsViews,function(_){var b=_.__model;l(b,_),_.render(b,f,v,p),s(b,_),c(b,_)})},Fd=function(h,f,v,p,g,m){var _=h._scheduler;g=Oe(g||{},{updatedSeries:f.getSeries()}),Mi.trigger("series:beforeupdate",f,v,g);var b=!1;f.eachSeries(function(w){var T=h._chartsMap[w.__viewId];T.__alive=!0;var k=T.renderTask;_.updatePayload(k,p),l(w,T),m&&m.get(w.uid)&&k.dirty(),k.perform(_.getPerformArgs(k))&&(b=!0),T.group.silent=!!w.get("silent"),o(w,T),Pw(w)}),_.unfinished=b||_.unfinished,Mi.trigger("series:layoutlabels",f,v,g),Mi.trigger("series:transition",f,v,g),f.eachSeries(function(w){var T=h._chartsMap[w.__viewId];s(w,T),c(w,T)}),a(h,f),Mi.trigger("series:afterupdate",f,v,g)},ti=function(h){h[Bm]=!0,h.getZr().wakeUp()},Z2=function(h){h[Bm]&&(h.getZr().storage.traverse(function(f){Rl(f)||i(f)}),h[Bm]=!1)};function i(h){for(var f=[],v=h.currentStates,p=0;p<v.length;p++){var g=v[p];g==="emphasis"||g==="blur"||g==="select"||f.push(g)}h.selected&&h.states.select&&f.push("select"),h.hoverState===Gp&&h.states.emphasis?f.push("emphasis"):h.hoverState===Vp&&h.states.blur&&f.push("blur"),h.useStates(f)}function a(h,f){var v=h._zr,p=v.storage,g=0;p.traverse(function(m){m.isGroup||g++}),g>f.get("hoverLayerThreshold")&&!Tt.node&&!Tt.worker&&f.eachSeries(function(m){if(!m.preventUsingHoverLayer){var _=h._chartsMap[m.__viewId];_.__alive&&_.eachRendered(function(b){b.states.emphasis&&(b.states.emphasis.hoverLayer=!0)})}})}function o(h,f){var v=h.get("blendMode")||null;f.eachRendered(function(p){p.isGroup||(p.style.blend=v)})}function s(h,f){if(!h.preventAutoZ){var v=h.get("z")||0,p=h.get("zlevel")||0;f.eachRendered(function(g){return u(g,v,p,-1/0),!0})}}function u(h,f,v,p){var g=h.getTextContent(),m=h.getTextGuideLine(),_=h.isGroup;if(_)for(var b=h.childrenRef(),w=0;w<b.length;w++)p=Math.max(u(b[w],f,v,p),p);else h.z=f,h.zlevel=v,p=Math.max(h.z2,p);if(g&&(g.z=f,g.zlevel=v,isFinite(p)&&(g.z2=p+2)),m){var T=h.textGuideLineConfig;m.z=f,m.zlevel=v,isFinite(p)&&(m.z2=p+(T&&T.showAbove?1:-1))}return p}function l(h,f){f.eachRendered(function(v){if(!Rl(v)){var p=v.getTextContent(),g=v.getTextGuideLine();v.stateTransition&&(v.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),v.hasState()?(v.prevStates=v.currentStates,v.clearStates()):v.prevStates&&(v.prevStates=null)}})}function c(h,f){var v=h.getModel("stateAnimation"),p=h.isAnimationEnabled(),g=v.get("duration"),m=g>0?{duration:g,delay:v.get("delay"),easing:v.get("easing")}:null;f.eachRendered(function(_){if(_.states&&_.states.emphasis){if(Rl(_))return;if(_ instanceof Ot&&sW(_),_.__dirty){var b=_.prevStates;b&&_.useStates(b)}if(p){_.stateTransition=m;var w=_.getTextContent(),T=_.getTextGuideLine();w&&(w.stateTransition=m),T&&(T.stateTransition=m)}_.__dirty&&i(_)}})}q2=function(h){return new(function(f){De(v,f);function v(){return f!==null&&f.apply(this,arguments)||this}return v.prototype.getCoordinateSystems=function(){return h._coordSysMgr.getCoordinateSystems()},v.prototype.getComponentByElement=function(p){for(;p;){var g=p.__ecComponentInfo;if(g!=null)return h._model.getComponent(g.mainType,g.index);p=p.parent}},v.prototype.enterEmphasis=function(p,g){Zl(p,g),ti(h)},v.prototype.leaveEmphasis=function(p,g){Kl(p,g),ti(h)},v.prototype.enterBlur=function(p){Kj(p),ti(h)},v.prototype.leaveBlur=function(p){zE(p),ti(h)},v.prototype.enterSelect=function(p){UE(p),ti(h)},v.prototype.leaveSelect=function(p){VE(p),ti(h)},v.prototype.getModel=function(){return h.getModel()},v.prototype.getViewOfComponentModel=function(p){return h.getViewOfComponentModel(p)},v.prototype.getViewOfSeriesModel=function(p){return h.getViewOfSeriesModel(p)},v}(GM))(h)},FD=function(h){function f(v,p){for(var g=0;g<v.length;g++){var m=v[g];m[Nm]=p}}K(Ff,function(v,p){h._messageCenter.on(p,function(g){if(K2[h.group]&&h[Nm]!==j2){if(g&&g.escapeConnect)return;var m=h.makeActionFromEvent(g),_=[];K($f,function(b){b!==h&&b.group===h.group&&_.push(b)}),f(_,j2),K(_,function(b){b[Nm]!==hZ&&b.dispatchAction(m)}),f(_,dZ)}})})}}(),e}(ji),H_=$D.prototype;H_.on=RD("on");H_.off=RD("off");H_.one=function(t,e,r){var n=this;function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];e&&e.apply&&e.apply(this,a),n.off(t,i)}this.on.call(this,t,i,r)};var vZ=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var lp={},Ff={},B0=[],N0=[],cp=[],HD={},F0={},$f={},K2={},pZ=+new Date-0,z_="_echarts_instance_";function Vie(t,e,r){var n=!(r&&r.ssr);if(n){var i=gZ(t);if(i)return i}var a=new $D(t,e,r);return a.id="ec_"+pZ++,$f[a.id]=a,n&&bE(t,z_,a.id),FD(a),Mi.trigger("afterinit",a),a}function gZ(t){return $f[FG(t,z_)]}function zD(t,e){HD[t]=e}function UD(t){Lt(N0,t)<0&&N0.push(t)}function VD(t,e){V_(B0,t,e,iZ)}function mZ(t){U_("afterinit",t)}function yZ(t){U_("afterupdate",t)}function U_(t,e){Mi.on(t,e)}function ka(t,e,r){ht(e)&&(r=e,e="");var n=it(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,!Ff[e]&&(wa(G2.test(n)&&G2.test(e)),lp[n]||(lp[n]={action:r,actionInfo:t}),Ff[e]=n)}function _Z(t,e){M_.register(t,e)}function bZ(t,e){V_(cp,t,e,MD,"layout")}function Pu(t,e){V_(cp,t,e,DD,"visual")}var Q2=[];function V_(t,e,r,n,i){if((ht(e)||it(e))&&(r=e,e=n),!(Lt(Q2,r)>=0)){Q2.push(r);var a=_D.wrapStageHandler(r,i);a.__prio=e,a.__raw=r,t.push(a)}}function GD(t,e){F0[t]=e}function xZ(t,e,r){var n=Jq("registerMap");n&&n(t,e,r)}var SZ=AX;Pu($_,JX);Pu(lg,eq);Pu(lg,tq);Pu($_,gq);Pu(lg,mq);Pu(LD,Zq);UD(WM);VD(rZ,aX);GD("default",rq);ka({type:ou,event:ou,update:ou},xn);ka({type:wv,event:wv,update:wv},xn);ka({type:Rf,event:Rf,update:Rf},xn);ka({type:Tv,event:Tv,update:Tv},xn);ka({type:Of,event:Of,update:Of},xn);zD("light",dq);zD("dark",vq);function Qc(t){return t==null?0:t.length||1}function J2(t){return t}var wZ=function(){function t(e,r,n,i,a,o){this._old=e,this._new=r,this._oldKeyGetter=n||J2,this._newKeyGetter=i||J2,this.context=a,this._diffModeMultiple=o==="multiple"}return t.prototype.add=function(e){return this._add=e,this},t.prototype.update=function(e){return this._update=e,this},t.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},t.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},t.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},t.prototype.remove=function(e){return this._remove=e,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var e=this._old,r=this._new,n={},i=new Array(e.length),a=new Array(r.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(r,n,a,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=i[o],u=n[s],l=Qc(u);if(l>1){var c=u.shift();u.length===1&&(n[s]=u[0]),this._update&&this._update(c,o)}else l===1?(n[s]=null,this._update&&this._update(u,o)):this._remove&&this._remove(o)}this._performRestAdd(a,n)},t.prototype._executeMultiple=function(){var e=this._old,r=this._new,n={},i={},a=[],o=[];this._initIndexMap(e,n,a,"_oldKeyGetter"),this._initIndexMap(r,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var u=a[s],l=n[u],c=i[u],h=Qc(l),f=Qc(c);if(h>1&&f===1)this._updateManyToOne&&this._updateManyToOne(c,l),i[u]=null;else if(h===1&&f>1)this._updateOneToMany&&this._updateOneToMany(c,l),i[u]=null;else if(h===1&&f===1)this._update&&this._update(c,l),i[u]=null;else if(h>1&&f>1)this._updateManyToMany&&this._updateManyToMany(c,l),i[u]=null;else if(h>1)for(var v=0;v<h;v++)this._remove&&this._remove(l[v]);else this._remove&&this._remove(l)}this._performRestAdd(o,i)},t.prototype._performRestAdd=function(e,r){for(var n=0;n<e.length;n++){var i=e[n],a=r[i],o=Qc(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else o===1&&this._add&&this._add(a);r[i]=null}},t.prototype._initIndexMap=function(e,r,n,i){for(var a=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[i](e[o],o);if(a||(n[o]=s),!!r){var u=r[s],l=Qc(u);l===0?(r[s]=o,a&&n.push(s)):l===1?r[s]=[u,o]:u.push(o)}}},t}();const ph=wZ;var TZ=function(){function t(e,r){this._encode=e,this._schema=r}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function CZ(t,e){var r={},n=r.encode={},i=ft(),a=[],o=[],s={};K(t.dimensions,function(f){var v=t.getDimensionInfo(f),p=v.coordDim;if(p){var g=v.coordDimIndex;Vm(n,p)[g]=f,v.isExtraCoord||(i.set(p,1),kZ(v.type)&&(a[0]=f),Vm(s,p)[g]=t.getDimensionIndex(v.name)),v.defaultTooltip&&o.push(f)}NM.each(function(m,_){var b=Vm(n,_),w=v.otherDims[_];w!=null&&w!==!1&&(b[w]=v.name)})});var u=[],l={};i.each(function(f,v){var p=n[v];l[v]=p[0],u=u.concat(p)}),r.dataDimsOnCoord=u,r.dataDimIndicesOnCoord=qe(u,function(f){return t.getDimensionInfo(f).storeDimIndex}),r.encodeFirstDimNotExtra=l;var c=n.label;c&&c.length&&(a=c.slice());var h=n.tooltip;return h&&h.length?o=h.slice():o.length||(o=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=o,r.userOutput=new TZ(s,e),r}function Vm(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function AZ(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function kZ(t){return!(t==="ordinal"||t==="time")}var PZ=function(){function t(e){this.otherDims={},e!=null&&Oe(this,e)}return t}();const Ev=PZ;var EZ=hr(),MZ={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},jD=function(){function t(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=XD(this.source)))},t.prototype.getSourceDimensionIndex=function(e){return Rt(this._dimNameMap.get(e),-1)},t.prototype.getSourceDimension=function(e){var r=this.source.dimensionsDefine;if(r)return r[e]},t.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,r=XM(this.source),n=!qD(e),i="",a=[],o=0,s=0;o<e;o++){var u=void 0,l=void 0,c=void 0,h=this.dimensions[s];if(h&&h.storeDimIndex===o)u=r?h.name:null,l=h.type,c=h.ordinalMeta,s++;else{var f=this.getSourceDimension(o);f&&(u=r?f.name:null,l=f.type)}a.push({property:u,type:l,ordinalMeta:c}),r&&u!=null&&(!h||!h.isCalculationCoord)&&(i+=n?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),i+="$",i+=MZ[l]||"f",c&&(i+=c.uid),i+="$"}var v=this.source,p=[v.seriesLayoutBy,v.startIndex,i].join("$$");return{dimensions:a,hash:p}},t.prototype.makeOutputDimensionNames=function(){for(var e=[],r=0,n=0;r<this._fullDimCount;r++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===r)a.isCalculationCoord||(i=a.name),n++;else{var o=this.getSourceDimension(r);o&&(i=o.name)}e.push(i)}return e},t.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function WD(t){return t instanceof jD}function YD(t){for(var e=ft(),r=0;r<(t||[]).length;r++){var n=t[r],i=it(n)?n.name:n;i!=null&&e.get(i)==null&&e.set(i,r)}return e}function XD(t){var e=EZ(t);return e.dimNameMap||(e.dimNameMap=YD(t.dimensionsDefine))}function qD(t){return t>30}var Jc=it,ko=qe,DZ=typeof Int32Array>"u"?Array:Int32Array,LZ="e\0\0",eT=-1,RZ=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],OZ=["_approximateExtent"],tT,$d,ef,tf,Gm,Hd,jm,IZ=function(){function t(e,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var n,i=!1;WD(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,n=e),n=n||["x","y"];for(var a={},o=[],s={},u=!1,l={},c=0;c<n.length;c++){var h=n[c],f=et(h)?new Ev({name:h}):h instanceof Ev?h:new Ev(h),v=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=v,f.coordDimIndex=0);var p=f.otherDims=f.otherDims||{};o.push(v),a[v]=f,l[v]!=null&&(u=!0),f.createInvertedIndices&&(s[v]=[]),p.itemName===0&&(this._nameDimIdx=c),p.itemId===0&&(this._idDimIdx=c),i&&(f.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(u),this.hostModel=r,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=ft();K(o,function(m){g.set(a[m].storeDimIndex,m)})}}return t.prototype.getDimension=function(e){var r=this._recognizeDimIndex(e);if(r==null)return e;if(r=e,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var i=this._schema.getSourceDimension(r);if(i)return i.name},t.prototype.getDimensionIndex=function(e){var r=this._recognizeDimIndex(e);if(r!=null)return r;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},t.prototype._recognizeDimIndex=function(e){if(Wt(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},t.prototype._getStoreDimIndex=function(e){var r=this.getDimensionIndex(e);return r},t.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},t.prototype._initGetDimensionInfo=function(e){var r=this._dimInfos;this._getDimInfo=e?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(e,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return i?i[r]:null},t.prototype.mapDimensionsAll=function(e){var r=this._dimSummary,n=r.encode[e];return(n||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(e,r,n){var i=this,a;if(e instanceof A0&&(a=e),!a){var o=this.dimensions,s=D_(e)||Sn(e)?new qM(e,o.length):e;a=new A0;var u=ko(o,function(l){return{type:i._dimInfos[l].type,property:l}});a.initData(s,u,n)}this._store=a,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=CZ(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(e){var r=this._store.appendData(e);this._doInit(r[0],r[1])},t.prototype.appendValues=function(e,r){var n=this._store.appendValues(e,r.length),i=n.start,a=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var s=i;s<a;s++){var u=s-i;this._nameList[s]=r[u],o&&jm(this,s)}},t.prototype._updateOrdinalMeta=function(){for(var e=this._store,r=this.dimensions,n=0;n<r.length;n++){var i=this._dimInfos[r[n]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Yo&&!e.fillStorage},t.prototype._doInit=function(e,r){if(!(e>=r)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,s=i.getSource().sourceFormat,u=s===bi;if(u&&!i.pure)for(var l=[],c=e;c<r;c++){var h=i.getItem(c,l);if(!this.hasItemOption&&CG(h)&&(this.hasItemOption=!0),h){var f=h.name;a[c]==null&&f!=null&&(a[c]=ma(f,null));var v=h.id;o[c]==null&&v!=null&&(o[c]=ma(v,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<r;c++)jm(this,c);tT(this)}},t.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.setApproximateExtent=function(e,r){r=this.getDimension(r),this._approximateExtent[r]=e.slice()},t.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},t.prototype.setCalculationInfo=function(e,r){Jc(e)?Oe(this._calculationInfo,e):this._calculationInfo[e]=r},t.prototype.getName=function(e){var r=this.getRawIndex(e),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=ef(this,this._nameDimIdx,r)),n==null&&(n=""),n},t.prototype._getCategory=function(e,r){var n=this._store.get(e,r),i=this._store.getOrdinalMeta(e);return i?i.categories[n]:n},t.prototype.getId=function(e){return $d(this,this.getRawIndex(e))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(e,r){var n=this._store,i=this._dimInfos[e];if(i)return n.get(i.storeDimIndex,r)},t.prototype.getByRawIndex=function(e,r){var n=this._store,i=this._dimInfos[e];if(i)return n.getByRawIndex(i.storeDimIndex,r)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},t.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},t.prototype.getValues=function(e,r){var n=this,i=this._store;return Ye(e)?i.getValues(ko(e,function(a){return n._getStoreDimIndex(a)}),r):i.getValues(e)},t.prototype.hasValue=function(e){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,i=r.length;n<i;n++)if(isNaN(this._store.get(r[n],e)))return!1;return!0},t.prototype.indexOfName=function(e){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===e)return r;return-1},t.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},t.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},t.prototype.rawIndexOf=function(e,r){var n=e&&this._invertedIndicesMap[e],i=n[r];return i==null||isNaN(i)?eT:i},t.prototype.indicesOfNearest=function(e,r,n){return this._store.indicesOfNearest(this._getStoreDimIndex(e),r,n)},t.prototype.each=function(e,r,n){ht(e)&&(n=r,r=e,e=[]);var i=n||this,a=ko(tf(e),this._getStoreDimIndex,this);this._store.each(a,i?rr(r,i):r)},t.prototype.filterSelf=function(e,r,n){ht(e)&&(n=r,r=e,e=[]);var i=n||this,a=ko(tf(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?rr(r,i):r),this},t.prototype.selectRange=function(e){var r=this,n={},i=lr(e);return K(i,function(a){var o=r._getStoreDimIndex(a);n[o]=e[a]}),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(e,r,n){ht(e)&&(n=r,r=e,e=[]),n=n||this;var i=[];return this.each(e,function(){i.push(r&&r.apply(this,arguments))},n),i},t.prototype.map=function(e,r,n,i){var a=n||i||this,o=ko(tf(e),this._getStoreDimIndex,this),s=Hd(this);return s._store=this._store.map(o,a?rr(r,a):r),s},t.prototype.modify=function(e,r,n,i){var a=n||i||this,o=ko(tf(e),this._getStoreDimIndex,this);this._store.modify(o,a?rr(r,a):r)},t.prototype.downSample=function(e,r,n,i){var a=Hd(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),r,n,i),a},t.prototype.lttbDownSample=function(e,r){var n=Hd(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),r),n},t.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},t.prototype.getItemModel=function(e){var r=this.hostModel,n=this.getRawDataItem(e);return new Vr(n,r,r&&r.ecModel)},t.prototype.diff=function(e){var r=this;return new ph(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(n){return $d(e,n)},function(n){return $d(r,n)})},t.prototype.getVisual=function(e){var r=this._visual;return r&&r[e]},t.prototype.setVisual=function(e,r){this._visual=this._visual||{},Jc(e)?Oe(this._visual,e):this._visual[e]=r},t.prototype.getItemVisual=function(e,r){var n=this._itemVisuals[e],i=n&&n[r];return i??this.getVisual(r)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(e,r){var n=this._itemVisuals,i=n[e];i||(i=n[e]={});var a=i[r];return a==null&&(a=this.getVisual(r),Ye(a)?a=a.slice():Jc(a)&&(a=Oe({},a)),i[r]=a),a},t.prototype.setItemVisual=function(e,r,n){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,Jc(r)?Oe(i,r):i[r]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(e,r){Jc(e)?Oe(this._layout,e):this._layout[e]=r},t.prototype.getLayout=function(e){return this._layout[e]},t.prototype.getItemLayout=function(e){return this._itemLayouts[e]},t.prototype.setItemLayout=function(e,r,n){this._itemLayouts[e]=n?Oe(this._itemLayouts[e]||{},r):r},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(e,r){var n=this.hostModel&&this.hostModel.seriesIndex;zj(n,this.dataType,e,r),this._graphicEls[e]=r},t.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},t.prototype.eachItemGraphicEl=function(e,r){K(this._graphicEls,function(n,i){n&&e&&e.call(r,n,i)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:ko(this.dimensions,this._getDimInfo,this),this.hostModel)),Gm(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(e,r){var n=this[e];ht(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=n.apply(this,arguments);return r.apply(this,[i].concat(e_(arguments)))})},t.internalField=function(){tT=function(e){var r=e._invertedIndicesMap;K(r,function(n,i){var a=e._dimInfos[i],o=a.ordinalMeta,s=e._store;if(o){n=r[i]=new DZ(o.categories.length);for(var u=0;u<n.length;u++)n[u]=eT;for(var u=0;u<s.count();u++)n[s.get(a.storeDimIndex,u)]=u}})},ef=function(e,r,n){return ma(e._getCategory(r,n),null)},$d=function(e,r){var n=e._idList[r];return n==null&&e._idDimIdx!=null&&(n=ef(e,e._idDimIdx,r)),n==null&&(n=LZ+r),n},tf=function(e){return Ye(e)||(e=e!=null?[e]:[]),e},Hd=function(e){var r=new t(e._schema?e._schema:ko(e.dimensions,e._getDimInfo,e),e.hostModel);return Gm(r,e),r},Gm=function(e,r){K(RZ.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(e[n]=r[n])}),e.__wrappedMethods=r.__wrappedMethods,K(OZ,function(n){e[n]=_t(r[n])}),e._calculationInfo=Oe({},r._calculationInfo)},jm=function(e,r){var n=e._nameList,i=e._idList,a=e._nameDimIdx,o=e._idDimIdx,s=n[r],u=i[r];if(s==null&&a!=null&&(n[r]=s=ef(e,a,r)),u==null&&o!=null&&(i[r]=u=ef(e,o,r)),u==null&&s!=null){var l=e._nameRepeatCount,c=l[s]=(l[s]||0)+1;u=s,c>1&&(u+="__ec__"+c),i[r]=u}}}(),t}();const ZD=IZ;function KD(t,e){D_(t)||(t=L_(t)),e=e||{};var r=e.coordDimensions||[],n=e.dimensionsDefine||t.dimensionsDefine||[],i=ft(),a=[],o=NZ(t,r,n,e.dimensionsCount),s=e.canOmitUnusedDimensions&&qD(o),u=n===t.dimensionsDefine,l=u?XD(t):YD(n),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(t,o));for(var h=ft(c),f=new nD(o),v=0;v<f.length;v++)f[v]=-1;function p(F){var $=f[F];if($<0){var B=n[F],U=it(B)?B:{name:B},H=new Ev,W=U.name;W!=null&&l.get(W)!=null&&(H.name=H.displayName=W),U.type!=null&&(H.type=U.type),U.displayName!=null&&(H.displayName=U.displayName);var z=a.length;return f[F]=z,H.storeDimIndex=F,a.push(H),H}return a[$]}if(!s)for(var v=0;v<o;v++)p(v);h.each(function(F,$){var B=Cr(F).slice();if(B.length===1&&!et(B[0])&&B[0]<0){h.set($,!1);return}var U=h.set($,[]);K(B,function(H,W){var z=et(H)?l.get(H):H;z!=null&&z<o&&(U[W]=z,m(p(z),$,W))})});var g=0;K(r,function(F){var $,B,U,H;if(et(F))$=F,H={};else{H=F,$=H.name;var W=H.ordinalMeta;H.ordinalMeta=null,H=Oe({},H),H.ordinalMeta=W,B=H.dimsDef,U=H.otherDims,H.name=H.coordDim=H.coordDimIndex=H.dimsDef=H.otherDims=null}var z=h.get($);if(z!==!1){if(z=Cr(z),!z.length)for(var G=0;G<(B&&B.length||1);G++){for(;g<o&&p(g).coordDim!=null;)g++;g<o&&z.push(g++)}K(z,function(Y,Q){var J=p(Y);if(u&&H.type!=null&&(J.type=H.type),m(ct(J,H),$,Q),J.name==null&&B){var ae=B[Q];!it(ae)&&(ae={name:ae}),J.name=J.displayName=ae.name,J.defaultTooltip=ae.defaultTooltip}U&&ct(J.otherDims,U)})}});function m(F,$,B){NM.get($)!=null?F.otherDims[$]=B:(F.coordDim=$,F.coordDimIndex=B,i.set($,!0))}var _=e.generateCoord,b=e.generateCoordCount,w=b!=null;b=_?b||1:0;var T=_||"value";function k(F){F.name==null&&(F.name=F.coordDim)}if(s)K(a,function(F){k(F)}),a.sort(function(F,$){return F.storeDimIndex-$.storeDimIndex});else for(var A=0;A<o;A++){var M=p(A),O=M.coordDim;O==null&&(M.coordDim=FZ(T,i,w),M.coordDimIndex=0,(!_||b<=0)&&(M.isExtraCoord=!0),b--),k(M),M.type==null&&(HM(t,A)===Zr.Must||M.isExtraCoord&&(M.otherDims.itemName!=null||M.otherDims.seriesName!=null))&&(M.type="ordinal")}return BZ(a),new jD({source:t,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function BZ(t){for(var e=ft(),r=0;r<t.length;r++){var n=t[r],i=n.name,a=e.get(i)||0;a>0&&(n.name=i+(a-1)),a++,e.set(i,a)}}function NZ(t,e,r,n){var i=Math.max(t.dimensionsDetectedCount||1,e.length,r.length,n||0);return K(e,function(a){var o;it(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}function FZ(t,e,r){if(r||e.hasKey(t)){for(var n=0;e.hasKey(t+n);)n++;t+=n}return e.set(t,!0),t}var $Z=function(){function t(e){this.coordSysDims=[],this.axisMap=ft(),this.categoryAxisMap=ft(),this.coordSysName=e}return t}();function HZ(t){var e=t.get("coordinateSystem"),r=new $Z(e),n=zZ[e];if(n)return n(t,r,r.axisMap,r.categoryAxisMap),r}var zZ={cartesian2d:function(t,e,r,n){var i=t.getReferringComponents("xAxis",Qr).models[0],a=t.getReferringComponents("yAxis",Qr).models[0];e.coordSysDims=["x","y"],r.set("x",i),r.set("y",a),il(i)&&(n.set("x",i),e.firstCategoryDimIndex=0),il(a)&&(n.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,r,n){var i=t.getReferringComponents("singleAxis",Qr).models[0];e.coordSysDims=["single"],r.set("single",i),il(i)&&(n.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,r,n){var i=t.getReferringComponents("polar",Qr).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],r.set("radius",a),r.set("angle",o),il(a)&&(n.set("radius",a),e.firstCategoryDimIndex=0),il(o)&&(n.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,r,n){e.coordSysDims=["lng","lat"]},parallel:function(t,e,r,n){var i=t.ecModel,a=i.getComponent("parallel",t.get("parallelIndex")),o=e.coordSysDims=a.dimensions.slice();K(a.parallelAxisIndex,function(s,u){var l=i.getComponent("parallelAxis",s),c=o[u];r.set(c,l),il(l)&&(n.set(c,l),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=u))})}};function il(t){return t.get("type")==="category"}function UZ(t,e,r){r=r||{};var n=r.byIndex,i=r.stackedCoordDimension,a,o,s;VZ(e)?a=e:(o=e.schema,a=o.dimensions,s=e.store);var u=!!(t&&t.get("stack")),l,c,h,f;if(K(a,function(b,w){et(b)&&(a[w]=b={name:b}),u&&!b.isExtraCoord&&(!n&&!l&&b.ordinalMeta&&(l=b),!c&&b.type!=="ordinal"&&b.type!=="time"&&(!i||i===b.coordDim)&&(c=b))}),c&&!n&&!l&&(n=!0),c){h="__\0ecstackresult_"+t.id,f="__\0ecstackedover_"+t.id,l&&(l.createInvertedIndices=!0);var v=c.coordDim,p=c.type,g=0;K(a,function(b){b.coordDim===v&&g++});var m={name:h,coordDim:v,coordDimIndex:g,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},_={name:f,coordDim:f,coordDimIndex:g+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(m.storeDimIndex=s.ensureCalculationDimension(f,p),_.storeDimIndex=s.ensureCalculationDimension(h,p)),o.appendCalculationDimension(m),o.appendCalculationDimension(_)):(a.push(m),a.push(_))}return{stackedDimension:c&&c.name,stackedByDimension:l&&l.name,isStackedByIndex:n,stackedOverDimension:f,stackResultDimension:h}}function VZ(t){return!WD(t.schema)}function gu(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function GZ(t,e){return gu(t,e)?t.getCalculationInfo("stackResultDimension"):e}function jZ(t,e){var r=t.get("coordinateSystem"),n=M_.get(r),i;return e&&e.coordSysDims&&(i=qe(e.coordSysDims,function(a){var o={name:a},s=e.axisMap.get(a);if(s){var u=s.get("type");o.type=AZ(u)}return o})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function WZ(t,e,r){var n,i;return r&&K(t,function(a,o){var s=a.coordDim,u=r.categoryAxisMap.get(s);u&&(n==null&&(n=o),a.ordinalMeta=u.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(t[n].otherDims.itemName=0),n}function G_(t,e,r){r=r||{};var n=e.getSourceManager(),i,a=!1;t?(a=!0,i=L_(t)):(i=n.getSource(),a=i.sourceFormat===bi);var o=HZ(e),s=jZ(e,o),u=r.useEncodeDefaulter,l=ht(u)?u:u?zt(DY,s,e):null,c={coordDimensions:s,generateCoord:r.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!a},h=KD(i,c),f=WZ(h.dimensions,r.createInvertedIndices,o),v=a?null:n.getSharedDataStore(h),p=UZ(e,{schema:h,store:v}),g=new ZD(h,e);g.setCalculationInfo(p);var m=f!=null&&YZ(i)?function(_,b,w,T){return T===f?w:this.defaultDimValueGetter(_,b,w,T)}:null;return g.hasItemOption=!1,g.initData(a?i:v,null,m),g}function YZ(t){if(t.sourceFormat===bi){var e=XZ(t.data||[]);return!Ye(Eh(e))}}function XZ(t){for(var e=0;e<t.length&&t[e]==null;)e++;return t[e]}var QD=function(){function t(e){this._setting=e||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(e){return this._setting[e]},t.prototype.unionExtent=function(e){var r=this._extent;e[0]<r[0]&&(r[0]=e[0]),e[1]>r[1]&&(r[1]=e[1])},t.prototype.unionExtentFromData=function(e,r){this.unionExtent(e.getApproximateExtent(r))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(e,r){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(r)||(n[1]=r)},t.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(e){this._isBlank=e},t}();Hp(QD);const uo=QD;var qZ=0,ZZ=function(){function t(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++qZ}return t.createByAxisModel=function(e){var r=e.option,n=r.data,i=n&&qe(n,KZ);return new t({categories:i,needCollect:!i,deduplication:r.dedplication!==!1})},t.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},t.prototype.parseAndCollect=function(e){var r,n=this._needCollect;if(!et(e)&&!n)return e;if(n&&!this._deduplication)return r=this.categories.length,this.categories[r]=e,r;var i=this._getOrCreateMap();return r=i.get(e),r==null&&(n?(r=this.categories.length,this.categories[r]=e,i.set(e,r)):r=NaN),r},t.prototype._getOrCreateMap=function(){return this._map||(this._map=ft(this.categories))},t}();function KZ(t){return it(t)&&t.value!=null?t.value:t+""}const $0=ZZ;function H0(t){return t.type==="interval"||t.type==="log"}function QZ(t,e,r,n){var i={},a=t[1]-t[0],o=i.interval=vE(a/e,!0);r!=null&&o<r&&(o=i.interval=r),n!=null&&o>n&&(o=i.interval=n);var s=i.intervalPrecision=JD(o),u=i.niceTickExtent=[Pr(Math.ceil(t[0]/o)*o,s),Pr(Math.floor(t[1]/o)*o,s)];return JZ(u,t),i}function Wm(t){var e=Math.pow(10,o_(t)),r=t/e;return r?r===2?r=3:r===3?r=5:r*=2:r=1,Pr(r*e)}function JD(t){return qa(t)+2}function rT(t,e,r){t[e]=Math.max(Math.min(t[e],r[1]),r[0])}function JZ(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),rT(t,0,e),rT(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function cg(t,e){return t>=e[0]&&t<=e[1]}function fg(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function hg(t,e){return t*(e[1]-e[0])+e[0]}var eL=function(t){De(e,t);function e(r){var n=t.call(this,r)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new $0({})),Ye(i)&&(i=new $0({categories:qe(i,function(a){return it(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return e.prototype.parse=function(r){return r==null?NaN:et(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},e.prototype.contain=function(r){return r=this.parse(r),cg(r,this._extent)&&this._ordinalMeta.categories[r]!=null},e.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),fg(r,this._extent)},e.prototype.scale=function(r){return r=Math.round(hg(r,this._extent)),this.getRawOrdinalNumber(r)},e.prototype.getTicks=function(){for(var r=[],n=this._extent,i=n[0];i<=n[1];)r.push({value:i}),i++;return r},e.prototype.getMinorTicks=function(r){},e.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=r.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,u=Math.min(s,n.length);o<u;++o){var l=n[o];i[o]=l,a[l]=o}for(var c=0;o<s;++o){for(;a[c]!=null;)c++;i.push(c),a[c]=o}},e.prototype._getTickNumber=function(r){var n=this._ticksByOrdinalNumber;return n&&r>=0&&r<n.length?n[r]:r},e.prototype.getRawOrdinalNumber=function(r){var n=this._ordinalNumbersByTick;return n&&r>=0&&r<n.length?n[r]:r},e.prototype.getLabel=function(r){if(!this.isBlank()){var n=this.getRawOrdinalNumber(r.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},e.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(uo);uo.registerClass(eL);const tL=eL;var Vs=Pr,rL=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return e.prototype.parse=function(r){return r},e.prototype.contain=function(r){return cg(r,this._extent)},e.prototype.normalize=function(r){return fg(r,this._extent)},e.prototype.scale=function(r){return hg(r,this._extent)},e.prototype.setExtent=function(r,n){var i=this._extent;isNaN(r)||(i[0]=parseFloat(r)),isNaN(n)||(i[1]=parseFloat(n))},e.prototype.unionExtent=function(r){var n=this._extent;r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1]),this.setExtent(n[0],n[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=JD(r)},e.prototype.getTicks=function(r){var n=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=[];if(!n)return s;var u=1e4;i[0]<a[0]&&(r?s.push({value:Vs(a[0]-n,o)}):s.push({value:i[0]}));for(var l=a[0];l<=a[1]&&(s.push({value:l}),l=Vs(l+n,o),l!==s[s.length-1].value);)if(s.length>u)return[];var c=s.length?s[s.length-1].value:a[1];return i[1]>c&&(r?s.push({value:Vs(c+n,o)}):s.push({value:i[1]})),s},e.prototype.getMinorTicks=function(r){for(var n=this.getTicks(!0),i=[],a=this.getExtent(),o=1;o<n.length;o++){for(var s=n[o],u=n[o-1],l=0,c=[],h=s.value-u.value,f=h/r;l<r-1;){var v=Vs(u.value+(l+1)*f);v>a[0]&&v<a[1]&&c.push(v),l++}i.push(c)}return i},e.prototype.getLabel=function(r,n){if(r==null)return"";var i=n&&n.precision;i==null?i=qa(r.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=Vs(r.value,i,!0);return RM(a)},e.prototype.calcNiceTicks=function(r,n,i){r=r||5;var a=this._extent,o=a[1]-a[0];if(isFinite(o)){o<0&&(o=-o,a.reverse());var s=QZ(a,r,n,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);r.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var o=this._interval;r.fixMin||(n[0]=Vs(Math.floor(n[0]/o)*o)),r.fixMax||(n[1]=Vs(Math.ceil(n[1]/o)*o))},e.prototype.setNiceExtent=function(r,n){this._niceExtent=[r,n]},e.type="interval",e}(uo);uo.registerClass(rL);const Ih=rL;var nL=typeof Float32Array<"u",eK=nL?Float32Array:Array;function Za(t){return Ye(t)?nL?new Float32Array(t):t:new eK(t)}var tK="__ec_stack_";function j_(t){return t.get("stack")||tK+t.seriesIndex}function W_(t){return t.dim+t.index}function iL(t,e){var r=[];return e.eachSeriesByType(t,function(n){oL(n)&&r.push(n)}),r}function rK(t){var e={};K(t,function(u){var l=u.coordinateSystem,c=l.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var h=u.getData(),f=c.dim+"_"+c.index,v=h.getDimensionIndex(h.mapDimension(c.dim)),p=h.getStore(),g=0,m=p.count();g<m;++g){var _=p.get(v,g);e[f]?e[f].push(_):e[f]=[_]}});var r={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(i){i.sort(function(u,l){return u-l});for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=a===null?s:Math.min(a,s))}r[n]=a}}return r}function aL(t){var e=rK(t),r=[];return K(t,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),o=a.getExtent(),s;if(a.type==="category")s=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var u=a.dim+"_"+a.index,l=e[u],c=Math.abs(o[1]-o[0]),h=a.scale.getExtent(),f=Math.abs(h[1]-h[0]);s=l?c/f*l:c}else{var v=n.getData();s=Math.abs(o[1]-o[0])/v.count()}var p=Ht(n.get("barWidth"),s),g=Ht(n.get("barMaxWidth"),s),m=Ht(n.get("barMinWidth")||(sL(n)?.5:1),s),_=n.get("barGap"),b=n.get("barCategoryGap");r.push({bandWidth:s,barWidth:p,barMaxWidth:g,barMinWidth:m,barGap:_,barCategoryGap:b,axisKey:W_(a),stackId:j_(n)})}),nK(r)}function nK(t){var e={};K(t,function(n,i){var a=n.axisKey,o=n.bandWidth,s=e[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},u=s.stacks;e[a]=s;var l=n.stackId;u[l]||s.autoWidthCount++,u[l]=u[l]||{width:0,maxWidth:0};var c=n.barWidth;c&&!u[l].width&&(u[l].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var h=n.barMaxWidth;h&&(u[l].maxWidth=h);var f=n.barMinWidth;f&&(u[l].minWidth=f);var v=n.barGap;v!=null&&(s.gap=v);var p=n.barCategoryGap;p!=null&&(s.categoryGap=p)});var r={};return K(e,function(n,i){r[i]={};var a=n.stacks,o=n.bandWidth,s=n.categoryGap;if(s==null){var u=lr(a).length;s=Math.max(35-u*4,15)+"%"}var l=Ht(s,o),c=Ht(n.gap,1),h=n.remainedWidth,f=n.autoWidthCount,v=(h-l)/(f+(f-1)*c);v=Math.max(v,0),K(a,function(_){var b=_.maxWidth,w=_.minWidth;if(_.width){var T=_.width;b&&(T=Math.min(T,b)),w&&(T=Math.max(T,w)),_.width=T,h-=T+c*T,f--}else{var T=v;b&&b<T&&(T=Math.min(b,h)),w&&w>T&&(T=w),T!==v&&(_.width=T,h-=T+c*T,f--)}}),v=(h-l)/(f+(f-1)*c),v=Math.max(v,0);var p=0,g;K(a,function(_,b){_.width||(_.width=v),g=_,p+=_.width*(1+c)}),g&&(p-=g.width*c);var m=-p/2;K(a,function(_,b){r[i][b]=r[i][b]||{bandWidth:o,offset:m,width:_.width},m+=_.width*(1+c)})}),r}function iK(t,e,r){if(t&&e){var n=t[W_(e)];return n!=null&&r!=null?n[j_(r)]:n}}function aK(t,e){var r=iL(t,e),n=aL(r);K(r,function(i){var a=i.getData(),o=i.coordinateSystem,s=o.getBaseAxis(),u=j_(i),l=n[W_(s)][u],c=l.offset,h=l.width;a.setLayout({bandWidth:l.bandWidth,offset:c,size:h})})}function oK(t){return{seriesType:t,plan:B_(),reset:function(e){if(oL(e)){var r=e.getData(),n=e.coordinateSystem,i=n.getBaseAxis(),a=n.getOtherAxis(i),o=r.getDimensionIndex(r.mapDimension(a.dim)),s=r.getDimensionIndex(r.mapDimension(i.dim)),u=e.get("showBackground",!0),l=r.mapDimension(a.dim),c=r.getCalculationInfo("stackResultDimension"),h=gu(r,l)&&!!r.getCalculationInfo("stackedOnSeries"),f=a.isHorizontal(),v=sK(i,a),p=sL(e),g=e.get("barMinHeight")||0,m=c&&r.getDimensionIndex(c),_=r.getLayout("size"),b=r.getLayout("offset");return{progress:function(w,T){for(var k=w.count,A=p&&Za(k*3),M=p&&u&&Za(k*3),O=p&&Za(k),F=n.master.getRect(),$=f?F.width:F.height,B,U=T.getStore(),H=0;(B=w.next())!=null;){var W=U.get(h?m:o,B),z=U.get(s,B),G=v,Y=void 0;h&&(Y=+W-U.get(o,B));var Q=void 0,J=void 0,ae=void 0,he=void 0;if(f){var ve=n.dataToPoint([W,z]);if(h){var we=n.dataToPoint([Y,z]);G=we[0]}Q=G,J=ve[1]+b,ae=ve[0]-G,he=_,Math.abs(ae)<g&&(ae=(ae<0?-1:1)*g)}else{var ve=n.dataToPoint([z,W]);if(h){var we=n.dataToPoint([z,Y]);G=we[1]}Q=ve[0]+b,J=G,ae=_,he=ve[1]-G,Math.abs(he)<g&&(he=(he<=0?-1:1)*g)}p?(A[H]=Q,A[H+1]=J,A[H+2]=f?ae:he,M&&(M[H]=f?F.x:Q,M[H+1]=f?J:F.y,M[H+2]=$),O[B]=B):T.setItemLayout(B,{x:Q,y:J,width:ae,height:he}),H+=3}p&&T.setLayout({largePoints:A,largeDataIndices:O,largeBackgroundPoints:M,valueAxisHorizontal:f})}}}}}}function oL(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function sL(t){return t.pipelineContext&&t.pipelineContext.large}function sK(t,e){return e.toGlobalCoord(e.dataToCoord(e.type==="log"?1:0))}var uK=function(t,e,r,n){for(;r<n;){var i=r+n>>>1;t[i][1]<e?r=i+1:n=i}return r},uL=function(t){De(e,t);function e(r){var n=t.call(this,r)||this;return n.type="time",n}return e.prototype.getLabel=function(r){var n=this.getSetting("useUTC");return Jp(r.value,Ww[bY(Ol(this._minLevelUnit))]||Ww.second,n,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(r,n,i){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return xY(r,n,i,o,a)},e.prototype.getTicks=function(){var r=this._interval,n=this._extent,i=[];if(!r)return i;i.push({value:n[0],level:0});var a=this.getSetting("useUTC"),o=pK(this._minLevelUnit,this._approxInterval,a,n);return i=i.concat(o),i.push({value:n[1],level:0}),i},e.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1]&&(n[0]-=ci,n[1]+=ci),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-ci}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},e.prototype.calcNiceTicks=function(r,n,i){r=r||10;var a=this._extent,o=a[1]-a[0];this._approxInterval=o/r,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var s=zd.length,u=Math.min(uK(zd,this._approxInterval,0,s),s-1);this._interval=zd[u][1],this._minLevelUnit=zd[Math.max(u-1,0)][0]},e.prototype.parse=function(r){return Wt(r)?r:+to(r)},e.prototype.contain=function(r){return cg(this.parse(r),this._extent)},e.prototype.normalize=function(r){return fg(this.parse(r),this._extent)},e.prototype.scale=function(r){return hg(r,this._extent)},e.type="time",e}(Ih),zd=[["second",T_],["minute",C_],["hour",Bf],["quarter-day",Bf*6],["half-day",Bf*12],["day",ci*1.2],["half-week",ci*3.5],["week",ci*7],["month",ci*31],["quarter",ci*95],["half-year",jw/2],["year",jw]];function lK(t,e,r,n){var i=to(e),a=to(r),o=function(p){return Yw(i,p,n)===Yw(a,p,n)},s=function(){return o("year")},u=function(){return s()&&o("month")},l=function(){return u()&&o("day")},c=function(){return l()&&o("hour")},h=function(){return c()&&o("minute")},f=function(){return h()&&o("second")},v=function(){return f()&&o("millisecond")};switch(t){case"year":return s();case"month":return u();case"day":return l();case"hour":return c();case"minute":return h();case"second":return f();case"millisecond":return v()}}function cK(t,e){return t/=ci,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function fK(t){var e=30*ci;return t/=e,t>6?6:t>3?3:t>2?2:1}function hK(t){return t/=Bf,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function nT(t,e){return t/=e?C_:T_,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function dK(t){return vE(t,!0)}function vK(t,e,r){var n=new Date(t);switch(Ol(e)){case"year":case"month":n[kM(r)](0);case"day":n[PM(r)](1);case"hour":n[EM(r)](0);case"minute":n[MM(r)](0);case"second":n[DM(r)](0),n[LM(r)](0)}return n.getTime()}function pK(t,e,r,n){var i=1e4,a=CM,o=0;function s($,B,U,H,W,z,G){for(var Y=new Date(B),Q=B,J=Y[H]();Q<U&&Q<=n[1];)G.push({value:Q}),J+=$,Y[W](J),Q=Y.getTime();G.push({value:Q,notAdd:!0})}function u($,B,U){var H=[],W=!B.length;if(!lK(Ol($),n[0],n[1],r)){W&&(B=[{value:vK(new Date(n[0]),$,r)},{value:n[1]}]);for(var z=0;z<B.length-1;z++){var G=B[z].value,Y=B[z+1].value;if(G!==Y){var Q=void 0,J=void 0,ae=void 0,he=!1;switch($){case"year":Q=Math.max(1,Math.round(e/ci/365)),J=A_(r),ae=SY(r);break;case"half-year":case"quarter":case"month":Q=fK(e),J=Il(r),ae=kM(r);break;case"week":case"half-week":case"day":Q=cK(e),J=eg(r),ae=PM(r),he=!0;break;case"half-day":case"quarter-day":case"hour":Q=hK(e),J=lh(r),ae=EM(r);break;case"minute":Q=nT(e,!0),J=tg(r),ae=MM(r);break;case"second":Q=nT(e,!1),J=rg(r),ae=DM(r);break;case"millisecond":Q=dK(e),J=ng(r),ae=LM(r);break}s(Q,G,Y,J,ae,he,H),$==="year"&&U.length>1&&z===0&&U.unshift({value:U[0].value-Q})}}for(var z=0;z<H.length;z++)U.push(H[z]);return H}}for(var l=[],c=[],h=0,f=0,v=0;v<a.length&&o++<i;++v){var p=Ol(a[v]);if(_Y(a[v])){u(a[v],l[l.length-1]||[],c);var g=a[v+1]?Ol(a[v+1]):null;if(p!==g){if(c.length){f=h,c.sort(function($,B){return $.value-B.value});for(var m=[],_=0;_<c.length;++_){var b=c[_].value;(_===0||c[_-1].value!==b)&&(m.push(c[_]),b>=n[0]&&b<=n[1]&&h++)}var w=(n[1]-n[0])/e;if(h>w*1.5&&f>w/1.5||(l.push(m),h>w||t===a[v]))break}c=[]}}}for(var T=br(qe(l,function($){return br($,function(B){return B.value>=n[0]&&B.value<=n[1]&&!B.notAdd})}),function($){return $.length>0}),k=[],A=T.length-1,v=0;v<T.length;++v)for(var M=T[v],O=0;O<M.length;++O)k.push({value:M[O].value,level:A-v});k.sort(function($,B){return $.value-B.value});for(var F=[],v=0;v<k.length;++v)(v===0||k[v].value!==k[v-1].value)&&F.push(k[v]);return F}uo.registerClass(uL);const gK=uL;var iT=uo.prototype,Hf=Ih.prototype,mK=Pr,yK=Math.floor,_K=Math.ceil,Ud=Math.pow,Ai=Math.log,Y_=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new Ih,r._interval=0,r}return e.prototype.getTicks=function(r){var n=this._originalScale,i=this._extent,a=n.getExtent(),o=Hf.getTicks.call(this,r);return qe(o,function(s){var u=s.value,l=Pr(Ud(this.base,u));return l=u===i[0]&&this._fixMin?Vd(l,a[0]):l,l=u===i[1]&&this._fixMax?Vd(l,a[1]):l,{value:l}},this)},e.prototype.setExtent=function(r,n){var i=Ai(this.base);r=Ai(Math.max(0,r))/i,n=Ai(Math.max(0,n))/i,Hf.setExtent.call(this,r,n)},e.prototype.getExtent=function(){var r=this.base,n=iT.getExtent.call(this);n[0]=Ud(r,n[0]),n[1]=Ud(r,n[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(n[0]=Vd(n[0],a[0])),this._fixMax&&(n[1]=Vd(n[1],a[1])),n},e.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var n=this.base;r[0]=Ai(r[0])/Ai(n),r[1]=Ai(r[1])/Ai(n),iT.unionExtent.call(this,r)},e.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},e.prototype.calcNiceTicks=function(r){r=r||10;var n=this._extent,i=n[1]-n[0];if(!(i===1/0||i<=0)){var a=wG(i),o=r/i*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[Pr(_K(n[0]/a)*a),Pr(yK(n[1]/a)*a)];this._interval=a,this._niceExtent=s}},e.prototype.calcNiceExtent=function(r){Hf.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},e.prototype.parse=function(r){return r},e.prototype.contain=function(r){return r=Ai(r)/Ai(this.base),cg(r,this._extent)},e.prototype.normalize=function(r){return r=Ai(r)/Ai(this.base),fg(r,this._extent)},e.prototype.scale=function(r){return r=hg(r,this._extent),Ud(this.base,r)},e.type="log",e}(uo),lL=Y_.prototype;lL.getMinorTicks=Hf.getMinorTicks;lL.getLabel=Hf.getLabel;function Vd(t,e){return mK(t,qa(e))}uo.registerClass(Y_);const bK=Y_;var xK=function(){function t(e,r,n){this._prepareParams(e,r,n)}return t.prototype._prepareParams=function(e,r,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var a=this._modelMinRaw=r.get("min",!0);ht(a)?this._modelMinNum=Gd(e,a({min:n[0],max:n[1]})):a!=="dataMin"&&(this._modelMinNum=Gd(e,a));var o=this._modelMaxRaw=r.get("max",!0);if(ht(o)?this._modelMaxNum=Gd(e,o({min:n[0],max:n[1]})):o!=="dataMax"&&(this._modelMaxNum=Gd(e,o)),i)this._axisDataLen=r.getCategories().length;else{var s=r.get("boundaryGap"),u=Ye(s)?s:[s||0,s||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Qo(u[0],1),Qo(u[1],1)]}},t.prototype.calculate=function(){var e=this._isOrdinal,r=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=e?null:n-r||Math.abs(r),s=this._modelMinRaw==="dataMin"?r:this._modelMinNum,u=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,l=s!=null,c=u!=null;s==null&&(s=e?i?0:NaN:r-a[0]*o),u==null&&(u=e?i?i-1:NaN:n+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(u==null||!isFinite(u))&&(u=NaN);var h=zv(s)||zv(u)||e&&!i;this._needCrossZero&&(s>0&&u>0&&!l&&(s=0),s<0&&u<0&&!c&&(u=0));var f=this._determinedMin,v=this._determinedMax;return f!=null&&(s=f,l=!0),v!=null&&(u=v,c=!0),{min:s,max:u,minFixed:l,maxFixed:c,isBlank:h}},t.prototype.modifyDataMinMax=function(e,r){this[wK[e]]=r},t.prototype.setDeterminedMinMax=function(e,r){var n=SK[e];this[n]=r},t.prototype.freeze=function(){this.frozen=!0},t}(),SK={min:"_determinedMin",max:"_determinedMax"},wK={min:"_dataMin",max:"_dataMax"};function cL(t,e,r){var n=t.rawExtentInfo;return n||(n=new xK(t,e,r),t.rawExtentInfo=n,n)}function Gd(t,e){return e==null?null:zv(e)?NaN:t.parse(e)}function fL(t,e){var r=t.type,n=cL(t,e,t.getExtent()).calculate();t.setBlank(n.isBlank);var i=n.min,a=n.max,o=e.ecModel;if(o&&r==="time"){var s=iL("bar",o),u=!1;if(K(s,function(h){u=u||h.getBaseAxis()===e.axis}),u){var l=aL(s),c=TK(i,a,e,l);i=c.min,a=c.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function TK(t,e,r,n){var i=r.axis.getExtent(),a=i[1]-i[0],o=iK(n,r.axis);if(o===void 0)return{min:t,max:e};var s=1/0;K(o,function(v){s=Math.min(v.offset,s)});var u=-1/0;K(o,function(v){u=Math.max(v.offset+v.width,u)}),s=Math.abs(s),u=Math.abs(u);var l=s+u,c=e-t,h=1-(s+u)/a,f=c/h-c;return e+=f*(u/l),t-=f*(s/l),{min:t,max:e}}function fp(t,e){var r=e,n=fL(t,r),i=n.extent,a=r.get("splitNumber");t instanceof bK&&(t.base=r.get("logBase"));var o=t.type,s=r.get("interval"),u=o==="interval"||o==="time";t.setExtent(i[0],i[1]),t.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:u?r.get("minInterval"):null,maxInterval:u?r.get("maxInterval"):null}),s!=null&&t.setInterval&&t.setInterval(s)}function hL(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new tL({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new gK({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(uo.getClass(e)||Ih)}}function CK(t){var e=t.scale.getExtent(),r=e[0],n=e[1];return!(r>0&&n>0||r<0&&n<0)}function Bh(t){var e=t.getLabelModel().get("formatter"),r=t.type==="category"?t.scale.getExtent()[0]:null;return t.scale.type==="time"?function(n){return function(i,a){return t.scale.getFormattedLabel(i,a,n)}}(e):et(e)?function(n){return function(i){var a=t.scale.getLabel(i),o=n.replace("{value}",a??"");return o}}(e):ht(e)?function(n){return function(i,a){return r!=null&&(a=i.value-r),n(X_(t,i),a,i.level!=null?{level:i.level}:null)}}(e):function(n){return t.scale.getLabel(n)}}function X_(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function AK(t){var e=t.model,r=t.scale;if(!(!e.get(["axisLabel","show"])||r.isBlank())){var n,i,a=r.getExtent();r instanceof tL?i=r.count():(n=r.getTicks(),i=n.length);var o=t.getLabelModel(),s=Bh(t),u,l=1;i>40&&(l=Math.ceil(i/40));for(var c=0;c<i;c+=l){var h=n?n[c]:{value:a[0]+c},f=s(h,c),v=o.getTextRect(f),p=kK(v,o.get("rotate")||0);u?u.union(p):u=p}return u}}function kK(t,e){var r=e*Math.PI/180,n=t.width,i=t.height,a=n*Math.abs(Math.cos(r))+Math.abs(i*Math.sin(r)),o=n*Math.abs(Math.sin(r))+Math.abs(i*Math.cos(r)),s=new Nt(t.x,t.y,a,o);return s}function q_(t){var e=t.get("interval");return e??"auto"}function dL(t){return t.type==="category"&&q_(t.getLabelModel())===0}function hp(t,e){var r={};return K(t.mapDimensionsAll(e),function(n){r[GZ(t,n)]=!0}),lr(r)}function PK(t,e,r){e&&K(hp(e,r),function(n){var i=e.getApproximateExtent(n);i[0]<t[0]&&(t[0]=i[0]),i[1]>t[1]&&(t[1]=i[1])})}var vL=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},t.prototype.getCoordSysModel=function(){},t}(),aT=[],EK={registerPreprocessor:UD,registerProcessor:VD,registerPostInit:mZ,registerPostUpdate:yZ,registerUpdateLifecycle:U_,registerAction:ka,registerCoordinateSystem:_Z,registerLayout:bZ,registerVisual:Pu,registerTransform:SZ,registerLoading:GD,registerMap:xZ,registerImpl:Qq,PRIORITY:fZ,ComponentModel:Kt,ComponentView:Zn,SeriesModel:ts,ChartView:_a,registerComponentModel:function(t){Kt.registerClass(t)},registerComponentView:function(t){Zn.registerClass(t)},registerSeriesModel:function(t){ts.registerClass(t)},registerChartView:function(t){_a.registerClass(t)},registerSubTypeDefaulter:function(t,e){Kt.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){gG(t,e)}};function io(t){if(Ye(t)){K(t,function(e){io(e)});return}Lt(aT,t)>=0||(aT.push(t),ht(t)&&(t={install:t}),t.install(EK))}var gh=hr();function MK(t){return t.type==="category"?LK(t):OK(t)}function DK(t,e){return t.type==="category"?RK(t,e):{ticks:qe(t.scale.getTicks(),function(r){return r.value})}}function LK(t){var e=t.getLabelModel(),r=pL(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function pL(t,e){var r=gL(t,"labels"),n=q_(e),i=mL(r,n);if(i)return i;var a,o;return ht(n)?a=bL(t,n):(o=n==="auto"?IK(t):n,a=_L(t,o)),yL(r,n,{labels:a,labelCategoryInterval:o})}function RK(t,e){var r=gL(t,"ticks"),n=q_(e),i=mL(r,n);if(i)return i;var a,o;if((!e.get("show")||t.scale.isBlank())&&(a=[]),ht(n))a=bL(t,n,!0);else if(n==="auto"){var s=pL(t,t.getLabelModel());o=s.labelCategoryInterval,a=qe(s.labels,function(u){return u.tickValue})}else o=n,a=_L(t,o,!0);return yL(r,n,{ticks:a,tickCategoryInterval:o})}function OK(t){var e=t.scale.getTicks(),r=Bh(t);return{labels:qe(e,function(n,i){return{level:n.level,formattedLabel:r(n,i),rawLabel:t.scale.getLabel(n),tickValue:n.value}})}}function gL(t,e){return gh(t)[e]||(gh(t)[e]=[])}function mL(t,e){for(var r=0;r<t.length;r++)if(t[r].key===e)return t[r].value}function yL(t,e,r){return t.push({key:e,value:r}),r}function IK(t){var e=gh(t).autoInterval;return e??(gh(t).autoInterval=t.calculateCategoryInterval())}function BK(t){var e=NK(t),r=Bh(t),n=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var u=a[0],l=t.dataToCoord(u+1)-t.dataToCoord(u),c=Math.abs(l*Math.cos(n)),h=Math.abs(l*Math.sin(n)),f=0,v=0;u<=a[1];u+=s){var p=0,g=0,m=Ph(r({value:u}),e.font,"center","top");p=m.width*1.3,g=m.height*1.3,f=Math.max(f,p,7),v=Math.max(v,g,7)}var _=f/c,b=v/h;isNaN(_)&&(_=1/0),isNaN(b)&&(b=1/0);var w=Math.max(0,Math.floor(Math.min(_,b))),T=gh(t.model),k=t.getExtent(),A=T.lastAutoInterval,M=T.lastTickCount;return A!=null&&M!=null&&Math.abs(A-w)<=1&&Math.abs(M-o)<=1&&A>w&&T.axisExtent0===k[0]&&T.axisExtent1===k[1]?w=A:(T.lastTickCount=o,T.lastAutoInterval=w,T.axisExtent0=k[0],T.axisExtent1=k[1]),w}function NK(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function _L(t,e,r){var n=Bh(t),i=t.scale,a=i.getExtent(),o=t.getLabelModel(),s=[],u=Math.max((e||0)+1,1),l=a[0],c=i.count();l!==0&&u>1&&c/u>2&&(l=Math.round(Math.ceil(l/u)*u));var h=dL(t),f=o.get("showMinLabel")||h,v=o.get("showMaxLabel")||h;f&&l!==a[0]&&g(a[0]);for(var p=l;p<=a[1];p+=u)g(p);v&&p-u!==a[1]&&g(a[1]);function g(m){var _={value:m};s.push(r?m:{formattedLabel:n(_),rawLabel:i.getLabel(_),tickValue:m})}return s}function bL(t,e,r){var n=t.scale,i=Bh(t),a=[];return K(n.getTicks(),function(o){var s=n.getLabel(o),u=o.value;e(o.value,s)&&a.push(r?u:{formattedLabel:i(o),rawLabel:s,tickValue:u})}),a}var oT=[0,1],FK=function(){function t(e,r,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=r,this._extent=n||[0,0]}return t.prototype.contain=function(e){var r=this._extent,n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return e>=n&&e<=i},t.prototype.containData=function(e){return this.scale.contain(e)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(e){return hE(e||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(e,r){var n=this._extent;n[0]=e,n[1]=r},t.prototype.dataToCoord=function(e,r){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(n=n.slice(),sT(n,i.count())),No(e,oT,n,r)},t.prototype.coordToData=function(e,r){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),sT(n,i.count()));var a=No(e,n,oT,r);return this.scale.scale(a)},t.prototype.pointToData=function(e,r){},t.prototype.getTicksCoords=function(e){e=e||{};var r=e.tickModel||this.getTickModel(),n=DK(this,r),i=n.ticks,a=qe(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=r.get("alignWithLabel");return $K(this,a,o,e.clamp),a},t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),r=e.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),i=qe(n,function(a){return qe(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},t.prototype.getViewLabels=function(){return MK(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var e=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},t.prototype.calculateCategoryInterval=function(){return BK(this)},t}();function sT(t,e){var r=t[1]-t[0],n=e,i=r/n/2;t[0]+=i,t[1]-=i}function $K(t,e,r,n){var i=e.length;if(!t.onBand||r||!i)return;var a=t.getExtent(),o,s;if(i===1)e[0].coord=a[0],o=e[1]={coord:a[0]};else{var u=e[i-1].tickValue-e[0].tickValue,l=(e[i-1].coord-e[0].coord)/u;K(e,function(v){v.coord-=l/2});var c=t.scale.getExtent();s=1+c[1]-e[i-1].tickValue,o={coord:e[i-1].coord+l*s},e.push(o)}var h=a[0]>a[1];f(e[0].coord,a[0])&&(n?e[0].coord=a[0]:e.shift()),n&&f(a[0],e[0].coord)&&e.unshift({coord:a[0]}),f(a[1],o.coord)&&(n?o.coord=a[1]:e.pop()),n&&f(o.coord,a[1])&&e.push({coord:a[1]});function f(v,p){return v=Pr(v),p=Pr(p),h?v>p:v<p}}const Eu=FK;var rf=Math.PI*2,Gs=ro.CMD,HK=["top","right","bottom","left"];function zK(t,e,r,n,i){var a=r.width,o=r.height;switch(t){case"top":n.set(r.x+a/2,r.y-e),i.set(0,-1);break;case"bottom":n.set(r.x+a/2,r.y+o+e),i.set(0,1);break;case"left":n.set(r.x-e,r.y+o/2),i.set(-1,0);break;case"right":n.set(r.x+a+e,r.y+o/2),i.set(1,0);break}}function UK(t,e,r,n,i,a,o,s,u){o-=t,s-=e;var l=Math.sqrt(o*o+s*s);o/=l,s/=l;var c=o*r+t,h=s*r+e;if(Math.abs(n-i)%rf<1e-4)return u[0]=c,u[1]=h,l-r;if(a){var f=n;n=zo(i),i=zo(f)}else n=zo(n),i=zo(i);n>i&&(i+=rf);var v=Math.atan2(s,o);if(v<0&&(v+=rf),v>=n&&v<=i||v+rf>=n&&v+rf<=i)return u[0]=c,u[1]=h,l-r;var p=r*Math.cos(n)+t,g=r*Math.sin(n)+e,m=r*Math.cos(i)+t,_=r*Math.sin(i)+e,b=(p-o)*(p-o)+(g-s)*(g-s),w=(m-o)*(m-o)+(_-s)*(_-s);return b<w?(u[0]=p,u[1]=g,Math.sqrt(b)):(u[0]=m,u[1]=_,Math.sqrt(w))}function dp(t,e,r,n,i,a,o,s){var u=i-t,l=a-e,c=r-t,h=n-e,f=Math.sqrt(c*c+h*h);c/=f,h/=f;var v=u*c+l*h,p=v/f;s&&(p=Math.min(Math.max(p,0),1)),p*=f;var g=o[0]=t+p*c,m=o[1]=e+p*h;return Math.sqrt((g-i)*(g-i)+(m-a)*(m-a))}function xL(t,e,r,n,i,a,o){r<0&&(t=t+r,r=-r),n<0&&(e=e+n,n=-n);var s=t+r,u=e+n,l=o[0]=Math.min(Math.max(i,t),s),c=o[1]=Math.min(Math.max(a,e),u);return Math.sqrt((l-i)*(l-i)+(c-a)*(c-a))}var Di=[];function VK(t,e,r){var n=xL(e.x,e.y,e.width,e.height,t.x,t.y,Di);return r.set(Di[0],Di[1]),n}function GK(t,e,r){for(var n=0,i=0,a=0,o=0,s,u,l=1/0,c=e.data,h=t.x,f=t.y,v=0;v<c.length;){var p=c[v++];v===1&&(n=c[v],i=c[v+1],a=n,o=i);var g=l;switch(p){case Gs.M:a=c[v++],o=c[v++],n=a,i=o;break;case Gs.L:g=dp(n,i,c[v],c[v+1],h,f,Di,!0),n=c[v++],i=c[v++];break;case Gs.C:g=QP(n,i,c[v++],c[v++],c[v++],c[v++],c[v],c[v+1],h,f,Di),n=c[v++],i=c[v++];break;case Gs.Q:g=eE(n,i,c[v++],c[v++],c[v],c[v+1],h,f,Di),n=c[v++],i=c[v++];break;case Gs.A:var m=c[v++],_=c[v++],b=c[v++],w=c[v++],T=c[v++],k=c[v++];v+=1;var A=!!(1-c[v++]);s=Math.cos(T)*b+m,u=Math.sin(T)*w+_,v<=1&&(a=s,o=u);var M=(h-m)*w/b+m;g=UK(m,_,w,T,T+k,A,M,f,Di),n=Math.cos(T+k)*b+m,i=Math.sin(T+k)*w+_;break;case Gs.R:a=n=c[v++],o=i=c[v++];var O=c[v++],F=c[v++];g=xL(a,o,O,F,h,f,Di);break;case Gs.Z:g=dp(n,i,a,o,h,f,Di,!0),n=a,i=o;break}g<l&&(l=g,r.set(Di[0],Di[1]))}return l}var Ni=new ot,Zt=new ot,_r=new ot,pa=new ot,fa=new ot;function uT(t,e){if(t){var r=t.getTextGuideLine(),n=t.getTextContent();if(n&&r){var i=t.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=i.candidates||HK,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var u=1/0,l=i.anchor,c=t.getComputedTransform(),h=c&&Fp([],c),f=e.get("length2")||0;l&&_r.copy(l);for(var v=0;v<o.length;v++){var p=o[v];zK(p,0,s,Ni,pa),ot.scaleAndAdd(Zt,Ni,pa,f),Zt.transform(h);var g=t.getBoundingRect(),m=l?l.distance(Zt):t instanceof Ot?GK(Zt,t.path,_r):VK(Zt,g,_r);m<u&&(u=m,Zt.transform(c),_r.transform(c),_r.toArray(a[0]),Zt.toArray(a[1]),Ni.toArray(a[2]))}SL(a,e.get("minTurnAngle")),r.setShape({points:a})}}}var vp=[],_n=new ot;function SL(t,e){if(e<=180&&e>0){e=e/180*Math.PI,Ni.fromArray(t[0]),Zt.fromArray(t[1]),_r.fromArray(t[2]),ot.sub(pa,Ni,Zt),ot.sub(fa,_r,Zt);var r=pa.len(),n=fa.len();if(!(r<.001||n<.001)){pa.scale(1/r),fa.scale(1/n);var i=pa.dot(fa),a=Math.cos(e);if(a<i){var o=dp(Zt.x,Zt.y,_r.x,_r.y,Ni.x,Ni.y,vp,!1);_n.fromArray(vp),_n.scaleAndAdd(fa,o/Math.tan(Math.PI-e));var s=_r.x!==Zt.x?(_n.x-Zt.x)/(_r.x-Zt.x):(_n.y-Zt.y)/(_r.y-Zt.y);if(isNaN(s))return;s<0?ot.copy(_n,Zt):s>1&&ot.copy(_n,_r),_n.toArray(t[1])}}}}function jK(t,e,r){if(r<=180&&r>0){r=r/180*Math.PI,Ni.fromArray(t[0]),Zt.fromArray(t[1]),_r.fromArray(t[2]),ot.sub(pa,Zt,Ni),ot.sub(fa,_r,Zt);var n=pa.len(),i=fa.len();if(!(n<.001||i<.001)){pa.scale(1/n),fa.scale(1/i);var a=pa.dot(e),o=Math.cos(r);if(a<o){var s=dp(Zt.x,Zt.y,_r.x,_r.y,Ni.x,Ni.y,vp,!1);_n.fromArray(vp);var u=Math.PI/2,l=Math.acos(fa.dot(e)),c=u+l-r;if(c>=u)ot.copy(_n,_r);else{_n.scaleAndAdd(fa,s/Math.tan(Math.PI/2-c));var h=_r.x!==Zt.x?(_n.x-Zt.x)/(_r.x-Zt.x):(_n.y-Zt.y)/(_r.y-Zt.y);if(isNaN(h))return;h<0?ot.copy(_n,Zt):h>1&&ot.copy(_n,_r)}_n.toArray(t[1])}}}}function lT(t,e,r,n){var i=r==="normal",a=i?t:t.ensureState(r);a.ignore=e;var o=n.get("smooth");o&&o===!0&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=n.getModel("lineStyle").getLineStyle();i?t.useStyle(s):a.style=s}function WK(t,e){var r=e.smooth,n=e.points;if(n)if(t.moveTo(n[0][0],n[0][1]),r>0&&n.length>=3){var i=Xy(n[0],n[1]),a=Xy(n[1],n[2]);if(!i||!a){t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]);return}var o=Math.min(i,a)*r,s=pv([],n[1],n[0],o/i),u=pv([],n[1],n[2],o/a),l=pv([],s,u,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],l[0],l[1]),t.bezierCurveTo(u[0],u[1],u[0],u[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)t.lineTo(n[c][0],n[c][1])}function wL(t,e,r){var n=t.getTextGuideLine(),i=t.getTextContent();if(!i){n&&t.removeTextGuideLine();return}for(var a=e.normal,o=a.get("show"),s=i.ignore,u=0;u<Kv.length;u++){var l=Kv[u],c=e[l],h=l==="normal";if(c){var f=c.get("show"),v=h?s:Rt(i.states[l]&&i.states[l].ignore,s);if(v||!Rt(f,o)){var p=h?n:n&&n.states[l];p&&(p.ignore=!0);continue}n||(n=new Dh,t.setTextGuideLine(n),!h&&(s||!o)&&lT(n,!0,"normal",e.normal),t.stateProxy&&(n.stateProxy=t.stateProxy)),lT(n,!1,l,c)}}if(n){ct(n.style,r),n.style.fill=null;var g=a.get("showAbove"),m=t.textGuideLineConfig=t.textGuideLineConfig||{};m.showAbove=g||!1,n.buildPath=WK}}function TL(t,e){e=e||"labelLine";for(var r={normal:t.getModel(e)},n=0;n<_i.length;n++){var i=_i[n];r[i]=t.getModel([i,e])}return r}function CL(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(!n.defaultAttr.ignore){var i=n.label,a=i.getComputedTransform(),o=i.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,u=i.style.margin||0,l=o.clone();l.applyTransform(a),l.x-=u/2,l.y-=u/2,l.width+=u,l.height+=u;var c=s?new Jv(o,a):null;e.push({label:i,labelLine:n.labelLine,rect:l,localRect:o,obb:c,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:s,transform:a})}}return e}function AL(t,e,r,n,i,a){var o=t.length;if(o<2)return;t.sort(function(O,F){return O.rect[e]-F.rect[e]});for(var s=0,u,l=!1,c=0,h=0;h<o;h++){var f=t[h],v=f.rect;u=v[e]-s,u<0&&(v[e]-=u,f.label[e]-=u,l=!0);var p=Math.max(-u,0);c+=p,s=v[e]+v[r]}c>0&&a&&k(-c/o,0,o);var g=t[0],m=t[o-1],_,b;w(),_<0&&A(-_,.8),b<0&&A(b,.8),w(),T(_,b,1),T(b,_,-1),w(),_<0&&M(-_),b<0&&M(b);function w(){_=g.rect[e]-n,b=i-m.rect[e]-m.rect[r]}function T(O,F,$){if(O<0){var B=Math.min(F,-O);if(B>0){k(B*$,0,o);var U=B+O;U<0&&A(-U*$,1)}else A(-O*$,1)}}function k(O,F,$){O!==0&&(l=!0);for(var B=F;B<$;B++){var U=t[B],H=U.rect;H[e]+=O,U.label[e]+=O}}function A(O,F){for(var $=[],B=0,U=1;U<o;U++){var H=t[U-1].rect,W=Math.max(t[U].rect[e]-H[e]-H[r],0);$.push(W),B+=W}if(B){var z=Math.min(Math.abs(O)/B,F);if(O>0)for(var U=0;U<o-1;U++){var G=$[U]*z;k(G,0,U+1)}else for(var U=o-1;U>0;U--){var G=$[U-1]*z;k(-G,U,o)}}}function M(O){var F=O<0?-1:1;O=Math.abs(O);for(var $=Math.ceil(O/(o-1)),B=0;B<o-1;B++)if(F>0?k($,0,B+1):k(-$,o-B-1,o),O-=$,O<=0)return}return l}function YK(t,e,r,n){return AL(t,"x","width",e,r,n)}function kL(t,e,r,n){return AL(t,"y","height",e,r,n)}function PL(t){var e=[];t.sort(function(g,m){return m.priority-g.priority});var r=new Nt(0,0,0,0);function n(g){if(!g.ignore){var m=g.ensureState("emphasis");m.ignore==null&&(m.ignore=!1)}g.ignore=!0}for(var i=0;i<t.length;i++){var a=t[i],o=a.axisAligned,s=a.localRect,u=a.transform,l=a.label,c=a.labelLine;r.copy(a.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var h=a.obb,f=!1,v=0;v<e.length;v++){var p=e[v];if(r.intersect(p.rect)){if(o&&p.axisAligned){f=!0;break}if(p.obb||(p.obb=new Jv(p.localRect,p.transform)),h||(h=new Jv(s,u)),h.intersect(p.obb)){f=!0;break}}}f?(n(l),c&&n(c)):(l.attr("ignore",a.defaultAttr.ignore),c&&c.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}function XK(t){if(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].slice());return e}}function qK(t,e){var r=t.label,n=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:XK(n&&n.shape.points)}}var cT=["align","verticalAlign","width","height","fontSize"],Un=new kh,Ym=hr(),ZK=hr();function jd(t,e,r){for(var n=0;n<r.length;n++){var i=r[n];e[i]!=null&&(t[i]=e[i])}}var Wd=["x","y","rotation"],KK=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(e,r,n,i,a){var o=i.style,s=i.__hostTarget,u=s.textConfig||{},l=i.getComputedTransform(),c=i.getBoundingRect().plain();Nt.applyTransform(c,c,l),l?Un.setLocalTransform(l):(Un.x=Un.y=Un.rotation=Un.originX=Un.originY=0,Un.scaleX=Un.scaleY=1);var h=i.__hostTarget,f;if(h){f=h.getBoundingRect().plain();var v=h.getComputedTransform();Nt.applyTransform(f,f,v)}var p=f&&h.getTextGuideLine();this._labelList.push({label:i,labelLine:p,seriesModel:n,dataIndex:e,dataType:r,layoutOption:a,computedLayoutOption:null,rect:c,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:p&&p.ignore,x:Un.x,y:Un.y,scaleX:Un.scaleX,scaleY:Un.scaleY,rotation:Un.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:u.position,attachedRot:u.rotation}})},t.prototype.addLabelsOfSeries=function(e){var r=this;this._chartViewList.push(e);var n=e.__model,i=n.get("labelLayout");(ht(i)||lr(i).length)&&e.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),s=Ut(a);o&&!o.disableLabelLayout&&r._addLabel(s.dataIndex,s.dataType,n,o,i)})},t.prototype.updateLayoutConfig=function(e){var r=e.getWidth(),n=e.getHeight();function i(w,T){return function(){uT(w,T)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],s=o.label,u=s.__hostTarget,l=o.defaultAttr,c=void 0;ht(o.layoutOption)?c=o.layoutOption(qK(o,u)):c=o.layoutOption,c=c||{},o.computedLayoutOption=c;var h=Math.PI/180;u&&u.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:l.attachedPos,rotation:c.rotate!=null?c.rotate*h:l.attachedRot,offset:[c.dx||0,c.dy||0]});var f=!1;if(c.x!=null?(s.x=Ht(c.x,r),s.setStyle("x",0),f=!0):(s.x=l.x,s.setStyle("x",l.style.x)),c.y!=null?(s.y=Ht(c.y,n),s.setStyle("y",0),f=!0):(s.y=l.y,s.setStyle("y",l.style.y)),c.labelLinePoints){var v=u.getTextGuideLine();v&&(v.setShape({points:c.labelLinePoints}),f=!1)}var p=Ym(s);p.needsUpdateLabelLine=f,s.rotation=c.rotate!=null?c.rotate*h:l.rotation,s.scaleX=l.scaleX,s.scaleY=l.scaleY;for(var g=0;g<cT.length;g++){var m=cT[g];s.setStyle(m,c[m]!=null?c[m]:l.style[m])}if(c.draggable){if(s.draggable=!0,s.cursor="move",u){var _=o.seriesModel;if(o.dataIndex!=null){var b=o.seriesModel.getData(o.dataType);_=b.getItemModel(o.dataIndex)}s.on("drag",i(u,_.getModel("labelLine")))}}else s.off("drag"),s.cursor=l.cursor}},t.prototype.layout=function(e){var r=e.getWidth(),n=e.getHeight(),i=CL(this._labelList),a=br(i,function(u){return u.layoutOption.moveOverlap==="shiftX"}),o=br(i,function(u){return u.layoutOption.moveOverlap==="shiftY"});YK(a,0,r),kL(o,0,n);var s=br(i,function(u){return u.layoutOption.hideOverlap});PL(s)},t.prototype.processLabelsOverall=function(){var e=this;K(this._chartViewList,function(r){var n=r.__model,i=r.ignoreLabelLineUpdate,a=n.isAnimationEnabled();r.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!i,u=o.getTextContent();!s&&u&&(s=Ym(u).needsUpdateLabelLine),s&&e._updateLabelLine(o,n),a&&e._animateLabels(o,n)})})},t.prototype._updateLabelLine=function(e,r){var n=e.getTextContent(),i=Ut(e),a=i.dataIndex;if(n&&a!=null){var o=r.getData(i.dataType),s=o.getItemModel(a),u={},l=o.getItemVisual(a,"style"),c=o.getVisual("drawType");u.stroke=l[c];var h=s.getModel("labelLine");wL(e,TL(s),u),uT(e,h)}},t.prototype._animateLabels=function(e,r){var n=e.getTextContent(),i=e.getTextGuideLine();if(n&&(e.forceLabelAnimation||!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!Rl(e))){var a=Ym(n),o=a.oldLayout,s=Ut(e),u=s.dataIndex,l={x:n.x,y:n.y,rotation:n.rotation},c=r.getData(s.dataType);if(o){n.attr(o);var f=e.prevStates;f&&(Lt(f,"select")>=0&&n.attr(a.oldLayoutSelect),Lt(f,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),jr(n,l,r,u)}else if(n.attr(l),!pc(n).valueAnimation){var h=Rt(n.style.opacity,1);n.style.opacity=0,fn(n,{style:{opacity:h}},r,u)}if(a.oldLayout=l,n.states.select){var v=a.oldLayoutSelect={};jd(v,l,Wd),jd(v,n.states.select,Wd)}if(n.states.emphasis){var p=a.oldLayoutEmphasis={};jd(p,l,Wd),jd(p,n.states.emphasis,Wd)}nY(n,u,c,r,r)}if(i&&!i.ignore&&!i.invisible){var a=ZK(i),o=a.oldLayout,g={points:i.shape.points};o?(i.attr({shape:o}),jr(i,{shape:g},r)):(i.setShape(g),i.style.strokePercent=0,fn(i,{style:{strokePercent:1}},r)),a.oldLayout=g}},t}();const QK=KK;var Xm=hr();function Gie(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,r,n){var i=Xm(r).labelManager;i||(i=Xm(r).labelManager=new QK),i.clearLabels()}),t.registerUpdateLifecycle("series:layoutlabels",function(e,r,n){var i=Xm(r).labelManager;n.updatedSeries.forEach(function(a){i.addLabelsOfSeries(r.getViewOfSeriesModel(a))}),i.updateLayoutConfig(r),i.layout(r),i.processLabelsOverall()})}var JK=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r}return e.prototype.getInitialData=function(r){return G_(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(r){var n=new Er,i=tc("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);n.add(i),i.setStyle(r.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=a==="none"?"circle":a,u=r.itemHeight*.8,l=tc(s,(r.itemWidth-u)/2,(r.itemHeight-u)/2,u,u,r.itemStyle.fill);n.add(l),l.setStyle(r.itemStyle);var c=r.iconRotate==="inherit"?o:r.iconRotate||0;return l.rotation=c*Math.PI/180,l.setOrigin([r.itemWidth/2,r.itemHeight/2]),s.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),n},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(ts);const eQ=JK;function Z_(t,e){var r=t.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var i=ec(t,e,r[0]);return i!=null?i+"":null}else if(n){for(var a=[],o=0;o<r.length;o++)a.push(ec(t,e,r[o]));return a.join(" ")}}function EL(t,e){var r=t.mapDimensionsAll("defaultedLabel");if(!Ye(e))return e+"";for(var n=[],i=0;i<r.length;i++){var a=t.getDimensionIndex(r[i]);a>=0&&n.push(e[a])}return n.join(" ")}var tQ=function(t){De(e,t);function e(r,n,i,a){var o=t.call(this)||this;return o.updateData(r,n,i,a),o}return e.prototype._createSymbol=function(r,n,i,a,o){this.removeAll();var s=tc(r,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),s.drift=rQ,this._symbolType=r,this.add(s)},e.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Zl(this.childAt(0))},e.prototype.downplay=function(){Kl(this.childAt(0))},e.prototype.setZ=function(r,n){var i=this.childAt(0);i.zlevel=r,i.z=n},e.prototype.setDraggable=function(r,n){var i=this.childAt(0);i.draggable=r,i.cursor=!n&&r?"move":i.cursor},e.prototype.updateData=function(r,n,i,a){this.silent=!1;var o=r.getItemVisual(n,"symbol")||"circle",s=r.hostModel,u=e.getSymbolSize(r,n),l=o!==this._symbolType,c=a&&a.disableAnimation;if(l){var h=r.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,r,n,u,h)}else{var f=this.childAt(0);f.silent=!1;var v={scaleX:u[0]/2,scaleY:u[1]/2};c?f.attr(v):jr(f,v,s,n),y_(f)}if(this._updateCommon(r,n,u,i,a),l){var f=this.childAt(0);if(!c){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,fn(f,v,s,n)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(r,n,i,a,o){var s=this.childAt(0),u=r.hostModel,l,c,h,f,v,p,g,m,_;if(a&&(l=a.emphasisItemStyle,c=a.blurItemStyle,h=a.selectItemStyle,f=a.focus,v=a.blurScope,g=a.labelStatesModels,m=a.hoverScale,_=a.cursorStyle,p=a.emphasisDisabled),!a||r.hasItemOption){var b=a&&a.itemModel?a.itemModel:r.getItemModel(n),w=b.getModel("emphasis");l=w.getModel("itemStyle").getItemStyle(),h=b.getModel(["select","itemStyle"]).getItemStyle(),c=b.getModel(["blur","itemStyle"]).getItemStyle(),f=w.get("focus"),v=w.get("blurScope"),p=w.get("disabled"),g=Rh(b),m=w.getShallow("scale"),_=b.getShallow("cursor")}var T=r.getItemVisual(n,"symbolRotate");s.attr("rotation",(T||0)*Math.PI/180||0);var k=xD(r.getItemVisual(n,"symbolOffset"),i);k&&(s.x=k[0],s.y=k[1]),_&&s.attr("cursor",_);var A=r.getItemVisual(n,"style"),M=A.fill;if(s instanceof Au){var O=s.style;s.useStyle(Oe({image:O.image,x:O.x,y:O.y,width:O.width,height:O.height},A))}else s.__isEmptyBrush?s.useStyle(Oe({},A)):s.useStyle(A),s.style.decal=null,s.setColor(M,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var F=r.getItemVisual(n,"liftZ"),$=this._z2;F!=null?$==null&&(this._z2=s.z2,s.z2+=F):$!=null&&(s.z2=$,this._z2=null);var B=o&&o.useNameLabel;Lh(s,g,{labelFetcher:u,labelDataIndex:n,defaultText:U,inheritColor:M,defaultOpacity:A.opacity});function U(z){return B?r.getName(z):Z_(r,z)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var H=s.ensureState("emphasis");H.style=l,s.ensureState("select").style=h,s.ensureState("blur").style=c;var W=m==null||m===!0?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;H.scaleX=this._sizeX*W,H.scaleY=this._sizeY*W,this.setSymbolScale(1),oh(this,f,v,p)},e.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},e.prototype.fadeOut=function(r,n,i){var a=this.childAt(0),o=Ut(this).dataIndex,s=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var u=a.getTextContent();u&&ep(u,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();ep(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:r,removeOpt:s})},e.getSymbolSize=function(r,n){return Oq(r.getItemVisual(n,"symbolSize"))},e}(Er);function rQ(t,e){this.parent.drift(t,e)}const K_=tQ;function qm(t,e,r,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(r))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&t.getItemVisual(r,"symbol")!=="none"}function fT(t){return t!=null&&!it(t)&&(t={isIgnore:t}),t||{}}function hT(t){var e=t.hostModel,r=e.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:Rh(e),cursorStyle:e.get("cursor")}}var nQ=function(){function t(e){this.group=new Er,this._SymbolCtor=e||K_}return t.prototype.updateData=function(e,r){this._progressiveEls=null,r=fT(r);var n=this.group,i=e.hostModel,a=this._data,o=this._SymbolCtor,s=r.disableAnimation,u=hT(e),l={disableAnimation:s},c=r.getSymbolPoint||function(h){return e.getItemLayout(h)};a||n.removeAll(),e.diff(a).add(function(h){var f=c(h);if(qm(e,f,h,r)){var v=new o(e,h,u,l);v.setPosition(f),e.setItemGraphicEl(h,v),n.add(v)}}).update(function(h,f){var v=a.getItemGraphicEl(f),p=c(h);if(!qm(e,p,h,r)){n.remove(v);return}var g=e.getItemVisual(h,"symbol")||"circle",m=v&&v.getSymbolType&&v.getSymbolType();if(!v||m&&m!==g)n.remove(v),v=new o(e,h,u,l),v.setPosition(p);else{v.updateData(e,h,u,l);var _={x:p[0],y:p[1]};s?v.attr(_):jr(v,_,i)}n.add(v),e.setItemGraphicEl(h,v)}).remove(function(h){var f=a.getItemGraphicEl(h);f&&f.fadeOut(function(){n.remove(f)},i)}).execute(),this._getSymbolPoint=c,this._data=e},t.prototype.updateLayout=function(){var e=this,r=this._data;r&&r.eachItemGraphicEl(function(n,i){var a=e._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=hT(e),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,r,n){this._progressiveEls=[],n=fT(n);function i(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var o=r.getItemLayout(a);if(qm(r,o,a,n)){var s=new this._SymbolCtor(r,a,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),r.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},t.prototype.eachRendered=function(e){Kp(this._progressiveEls||this.group,e)},t.prototype.remove=function(e){var r=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(i){i.fadeOut(function(){r.remove(i)},n.hostModel)}):r.removeAll()},t}();const iQ=nQ;function ML(t,e,r){var n=t.getBaseAxis(),i=t.getOtherAxis(n),a=aQ(i,r),o=n.dim,s=i.dim,u=e.mapDimension(s),l=e.mapDimension(o),c=s==="x"||s==="radius"?1:0,h=qe(t.dimensions,function(p){return e.mapDimension(p)}),f=!1,v=e.getCalculationInfo("stackResultDimension");return gu(e,h[0])&&(f=!0,h[0]=v),gu(e,h[1])&&(f=!0,h[1]=v),{dataDimsForPoint:h,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!f,valueDim:u,baseDim:l,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function aQ(t,e){var r=0,n=t.scale.getExtent();return e==="start"?r=n[0]:e==="end"?r=n[1]:Wt(e)&&!isNaN(e)?r=e:n[0]>0?r=n[0]:n[1]<0&&(r=n[1]),r}function DL(t,e,r,n){var i=NaN;t.stacked&&(i=r.get(r.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=t.valueStart);var a=t.baseDataOffset,o=[];return o[a]=r.get(t.baseDim,n),o[1-a]=i,e.dataToPoint(o)}function oQ(t,e){var r=[];return e.diff(t).add(function(n){r.push({cmd:"+",idx:n})}).update(function(n,i){r.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){r.push({cmd:"-",idx:n})}).execute(),r}function sQ(t,e,r,n,i,a,o,s){for(var u=oQ(t,e),l=[],c=[],h=[],f=[],v=[],p=[],g=[],m=ML(i,e,o),_=t.getLayout("points")||[],b=e.getLayout("points")||[],w=0;w<u.length;w++){var T=u[w],k=!0,A=void 0,M=void 0;switch(T.cmd){case"=":A=T.idx*2,M=T.idx1*2;var O=_[A],F=_[A+1],$=b[M],B=b[M+1];(isNaN(O)||isNaN(F))&&(O=$,F=B),l.push(O,F),c.push($,B),h.push(r[A],r[A+1]),f.push(n[M],n[M+1]),g.push(e.getRawIndex(T.idx1));break;case"+":var U=T.idx,H=m.dataDimsForPoint,W=i.dataToPoint([e.get(H[0],U),e.get(H[1],U)]);M=U*2,l.push(W[0],W[1]),c.push(b[M],b[M+1]);var z=DL(m,i,e,U);h.push(z[0],z[1]),f.push(n[M],n[M+1]),g.push(e.getRawIndex(U));break;case"-":k=!1}k&&(v.push(T),p.push(p.length))}p.sort(function(Le,$e){return g[Le]-g[$e]});for(var G=l.length,Y=Za(G),Q=Za(G),J=Za(G),ae=Za(G),he=[],w=0;w<p.length;w++){var ve=p[w],we=w*2,Te=ve*2;Y[we]=l[Te],Y[we+1]=l[Te+1],Q[we]=c[Te],Q[we+1]=c[Te+1],J[we]=h[Te],J[we+1]=h[Te+1],ae[we]=f[Te],ae[we+1]=f[Te+1],he[w]=v[ve]}return{current:Y,next:Q,stackedOnCurrent:J,stackedOnNext:ae,status:he}}var Po=Math.min,Eo=Math.max;function su(t,e){return isNaN(t)||isNaN(e)}function z0(t,e,r,n,i,a,o,s,u){for(var l,c,h,f,v,p,g=r,m=0;m<n;m++){var _=e[g*2],b=e[g*2+1];if(g>=i||g<0)break;if(su(_,b)){if(u){g+=a;continue}break}if(g===r)t[a>0?"moveTo":"lineTo"](_,b),h=_,f=b;else{var w=_-l,T=b-c;if(w*w+T*T<.5){g+=a;continue}if(o>0){for(var k=g+a,A=e[k*2],M=e[k*2+1];A===_&&M===b&&m<n;)m++,k+=a,g+=a,A=e[k*2],M=e[k*2+1],_=e[g*2],b=e[g*2+1],w=_-l,T=b-c;var O=m+1;if(u)for(;su(A,M)&&O<n;)O++,k+=a,A=e[k*2],M=e[k*2+1];var F=.5,$=0,B=0,U=void 0,H=void 0;if(O>=n||su(A,M))v=_,p=b;else{$=A-l,B=M-c;var W=_-l,z=A-_,G=b-c,Y=M-b,Q=void 0,J=void 0;if(s==="x"){Q=Math.abs(W),J=Math.abs(z);var ae=$>0?1:-1;v=_-ae*Q*o,p=b,U=_+ae*J*o,H=b}else if(s==="y"){Q=Math.abs(G),J=Math.abs(Y);var he=B>0?1:-1;v=_,p=b-he*Q*o,U=_,H=b+he*J*o}else Q=Math.sqrt(W*W+G*G),J=Math.sqrt(z*z+Y*Y),F=J/(J+Q),v=_-$*o*(1-F),p=b-B*o*(1-F),U=_+$*o*F,H=b+B*o*F,U=Po(U,Eo(A,_)),H=Po(H,Eo(M,b)),U=Eo(U,Po(A,_)),H=Eo(H,Po(M,b)),$=U-_,B=H-b,v=_-$*Q/J,p=b-B*Q/J,v=Po(v,Eo(l,_)),p=Po(p,Eo(c,b)),v=Eo(v,Po(l,_)),p=Eo(p,Po(c,b)),$=_-v,B=b-p,U=_+$*J/Q,H=b+B*J/Q}t.bezierCurveTo(h,f,v,p,_,b),h=U,f=H}else t.lineTo(_,b)}l=_,c=b,g+=a}return m}var LL=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),uQ=function(t){De(e,t);function e(r){var n=t.call(this,r)||this;return n.type="ec-polyline",n}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new LL},e.prototype.buildPath=function(r,n){var i=n.points,a=0,o=i.length/2;if(n.connectNulls){for(;o>0&&su(i[o*2-2],i[o*2-1]);o--);for(;a<o&&su(i[a*2],i[a*2+1]);a++);}for(;a<o;)a+=z0(r,i,a,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},e.prototype.getPointOn=function(r,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,o=ro.CMD,s,u,l=n==="x",c=[],h=0;h<a.length;){var f=a[h++],v=void 0,p=void 0,g=void 0,m=void 0,_=void 0,b=void 0,w=void 0;switch(f){case o.M:s=a[h++],u=a[h++];break;case o.L:if(v=a[h++],p=a[h++],w=l?(r-s)/(v-s):(r-u)/(p-u),w<=1&&w>=0){var T=l?(p-u)*w+u:(v-s)*w+s;return l?[r,T]:[T,r]}s=v,u=p;break;case o.C:v=a[h++],p=a[h++],g=a[h++],m=a[h++],_=a[h++],b=a[h++];var k=l?jv(s,v,g,_,r,c):jv(u,p,m,b,r,c);if(k>0)for(var A=0;A<k;A++){var M=c[A];if(M<=1&&M>=0){var T=l?Or(u,p,m,b,M):Or(s,v,g,_,M);return l?[r,T]:[T,r]}}s=_,u=b;break}}},e}(Ot),lQ=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(LL),cQ=function(t){De(e,t);function e(r){var n=t.call(this,r)||this;return n.type="ec-polygon",n}return e.prototype.getDefaultShape=function(){return new lQ},e.prototype.buildPath=function(r,n){var i=n.points,a=n.stackedOnPoints,o=0,s=i.length/2,u=n.smoothMonotone;if(n.connectNulls){for(;s>0&&su(i[s*2-2],i[s*2-1]);s--);for(;o<s&&su(i[o*2],i[o*2+1]);o++);}for(;o<s;){var l=z0(r,i,o,s,s,1,n.smooth,u,n.connectNulls);z0(r,a,o+l-1,l,s,-1,n.stackedOnSmooth,u,n.connectNulls),o+=l+1,r.closePath()}},e}(Ot);function RL(t,e,r,n,i){var a=t.getArea(),o=a.x,s=a.y,u=a.width,l=a.height,c=r.get(["lineStyle","width"])||2;o-=c/2,s-=c/2,u+=c,l+=c,o=Math.floor(o),u=Math.round(u);var h=new Sr({shape:{x:o,y:s,width:u,height:l}});if(e){var f=t.getBaseAxis(),v=f.isHorizontal(),p=f.inverse;v?(p&&(h.shape.x+=u),h.shape.width=0):(p||(h.shape.y+=l),h.shape.height=0);var g=ht(i)?function(m){i(m,h)}:null;fn(h,{shape:{width:u,height:l,x:o,y:s}},r,null,n,g)}return h}function OL(t,e,r){var n=t.getArea(),i=Pr(n.r0,1),a=Pr(n.r,1),o=new $i({shape:{cx:Pr(t.cx,1),cy:Pr(t.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var s=t.getBaseAxis().dim==="angle";s?o.shape.endAngle=n.startAngle:o.shape.r=i,fn(o,{shape:{endAngle:n.endAngle,r:a}},r)}return o}function fQ(t,e,r,n,i){if(t){if(t.type==="polar")return OL(t,e,r);if(t.type==="cartesian2d")return RL(t,e,r,n,i)}else return null;return null}function Q_(t,e){return t.type===e}function dT(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return;return!0}}function vT(t){for(var e=1/0,r=1/0,n=-1/0,i=-1/0,a=0;a<t.length;){var o=t[a++],s=t[a++];isNaN(o)||(e=Math.min(o,e),n=Math.max(o,n)),isNaN(s)||(r=Math.min(s,r),i=Math.max(s,i))}return[[e,r],[n,i]]}function pT(t,e){var r=vT(t),n=r[0],i=r[1],a=vT(e),o=a[0],s=a[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function gT(t){return Wt(t)?t:t?.5:0}function hQ(t,e,r){if(!r.valueDim)return[];for(var n=e.count(),i=Za(n*2),a=0;a<n;a++){var o=DL(r,t,e,a);i[a*2]=o[0],i[a*2+1]=o[1]}return i}function Mo(t,e,r,n){var i=e.getBaseAxis(),a=i.dim==="x"||i.dim==="radius"?0:1,o=[],s=0,u=[],l=[],c=[],h=[];if(n){for(s=0;s<t.length;s+=2)!isNaN(t[s])&&!isNaN(t[s+1])&&h.push(t[s],t[s+1]);t=h}for(s=0;s<t.length-2;s+=2)switch(c[0]=t[s+2],c[1]=t[s+3],l[0]=t[s],l[1]=t[s+1],o.push(l[0],l[1]),r){case"end":u[a]=c[a],u[1-a]=l[1-a],o.push(u[0],u[1]);break;case"middle":var f=(l[a]+c[a])/2,v=[];u[a]=v[a]=f,u[1-a]=l[1-a],v[1-a]=c[1-a],o.push(u[0],u[1]),o.push(v[0],v[1]);break;default:u[a]=l[a],u[1-a]=c[1-a],o.push(u[0],u[1])}return o.push(t[s++],t[s++]),o}function dQ(t,e){var r=[],n=t.length,i,a;function o(c,h,f){var v=c.coord,p=(f-v)/(h.coord-v),g=$V(p,[c.color,h.color]);return{coord:f,color:g}}for(var s=0;s<n;s++){var u=t[s],l=u.coord;if(l<0)i=u;else if(l>e){a?r.push(o(a,u,e)):i&&r.push(o(i,u,0),o(i,u,e));break}else i&&(r.push(o(i,u,0)),i=null),r.push(u),a=u}return r}function vQ(t,e,r){var n=t.getVisual("visualMeta");if(!(!n||!n.length||!t.count())&&e.type==="cartesian2d"){for(var i,a,o=n.length-1;o>=0;o--){var s=t.getDimensionInfo(n[o].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){a=n[o];break}}if(a){var u=e.getAxis(i),l=qe(a.stops,function(w){return{coord:u.toGlobalCoord(u.dataToCoord(w.value)),color:w.color}}),c=l.length,h=a.outerColors.slice();c&&l[0].coord>l[c-1].coord&&(l.reverse(),h.reverse());var f=dQ(l,i==="x"?r.getWidth():r.getHeight()),v=f.length;if(!v&&c)return l[0].coord<0?h[1]?h[1]:l[c-1].color:h[0]?h[0]:l[0].color;var p=10,g=f[0].coord-p,m=f[v-1].coord+p,_=m-g;if(_<.001)return"transparent";K(f,function(w){w.offset=(w.coord-g)/_}),f.push({offset:v?f[v-1].offset:.5,color:h[1]||"transparent"}),f.unshift({offset:v?f[0].offset:.5,color:h[0]||"transparent"});var b=new fM(0,0,0,0,f,!0);return b[i]=g,b[i+"2"]=m,b}}}function pQ(t,e,r){var n=t.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var a=r.getAxesByScale("ordinal")[0];if(a&&!(i&&gQ(a,e))){var o=e.mapDimension(a.dim),s={};return K(a.getViewLabels(),function(u){var l=a.scale.getRawOrdinalNumber(u.tickValue);s[l]=1}),function(u){return!s.hasOwnProperty(e.get(o,u))}}}}function gQ(t,e){var r=t.getExtent(),n=Math.abs(r[1]-r[0])/t.scale.count();isNaN(n)&&(n=0);for(var i=e.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(K_.getSymbolSize(e,o)[t.isHorizontal()?1:0]*1.5>n)return!1;return!0}function mQ(t,e){return isNaN(t)||isNaN(e)}function yQ(t){for(var e=t.length/2;e>0&&mQ(t[e*2-2],t[e*2-1]);e--);return e-1}function mT(t,e){return[t[e*2],t[e*2+1]]}function _Q(t,e,r){for(var n=t.length/2,i=r==="x"?0:1,a,o,s=0,u=-1,l=0;l<n;l++)if(o=t[l*2+i],!(isNaN(o)||isNaN(t[l*2+1-i]))){if(l===0){a=o;continue}if(a<=e&&o>=e||a>=e&&o<=e){u=l;break}s=l,a=o}return{range:[s,u],t:(e-a)/(o-a)}}function IL(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<_i.length;e++)if(t.get([_i[e],"endLabel","show"]))return!0;return!1}function Zm(t,e,r,n){if(Q_(e,"cartesian2d")){var i=n.getModel("endLabel"),a=i.get("valueAnimation"),o=n.getData(),s={lastFrameIndex:0},u=IL(n)?function(v,p){t._endLabelOnDuring(v,p,o,s,a,i,e)}:null,l=e.getBaseAxis().isHorizontal(),c=RL(e,r,n,function(){var v=t._endLabel;v&&r&&s.originalX!=null&&v.attr({x:s.originalX,y:s.originalY})},u);if(!n.get("clip",!0)){var h=c.shape,f=Math.max(h.width,h.height);l?(h.y-=f,h.height+=f*2):(h.x-=f,h.width+=f*2)}return u&&u(1,c),c}else return OL(e,r,n)}function bQ(t,e){var r=e.getBaseAxis(),n=r.isHorizontal(),i=r.inverse,a=n?i?"right":"left":"center",o=n?"middle":i?"top":"bottom";return{normal:{align:t.get("align")||a,verticalAlign:t.get("verticalAlign")||o}}}var xQ=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(){var r=new Er,n=new iQ;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=r},e.prototype.render=function(r,n,i){var a=this,o=r.coordinateSystem,s=this.group,u=r.getData(),l=r.getModel("lineStyle"),c=r.getModel("areaStyle"),h=u.getLayout("points")||[],f=o.type==="polar",v=this._coordSys,p=this._symbolDraw,g=this._polyline,m=this._polygon,_=this._lineGroup,b=!n.ssr&&r.isAnimationEnabled(),w=!c.isEmpty(),T=c.get("origin"),k=ML(o,u,T),A=w&&hQ(o,u,k),M=r.get("showSymbol"),O=r.get("connectNulls"),F=M&&!f&&pQ(r,u,o),$=this._data;$&&$.eachItemGraphicEl(function($e,se){$e.__temp&&(s.remove($e),$.setItemGraphicEl(se,null))}),M||p.remove(),s.add(_);var B=f?!1:r.get("step"),U;o&&o.getArea&&r.get("clip",!0)&&(U=o.getArea(),U.width!=null?(U.x-=.1,U.y-=.1,U.width+=.2,U.height+=.2):U.r0&&(U.r0-=.5,U.r+=.5)),this._clipShapeForSymbol=U;var H=vQ(u,o,i)||u.getVisual("style")[u.getVisual("drawType")];if(!(g&&v.type===o.type&&B===this._step))M&&p.updateData(u,{isIgnore:F,clipShape:U,disableAnimation:!0,getSymbolPoint:function($e){return[h[$e*2],h[$e*2+1]]}}),b&&this._initSymbolLabelAnimation(u,o,U),B&&(h=Mo(h,o,B,O),A&&(A=Mo(A,o,B,O))),g=this._newPolyline(h),w?m=this._newPolygon(h,A):m&&(_.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(r,o,pu(H)),_.setClipPath(Zm(this,o,!0,r));else{w&&!m?m=this._newPolygon(h,A):m&&!w&&(_.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(r,o,pu(H));var W=_.getClipPath();if(W){var z=Zm(this,o,!1,r);fn(W,{shape:z.shape},r)}else _.setClipPath(Zm(this,o,!0,r));M&&p.updateData(u,{isIgnore:F,clipShape:U,disableAnimation:!0,getSymbolPoint:function($e){return[h[$e*2],h[$e*2+1]]}}),(!dT(this._stackedOnPoints,A)||!dT(this._points,h))&&(b?this._doUpdateAnimation(u,A,o,i,B,T,O):(B&&(h=Mo(h,o,B,O),A&&(A=Mo(A,o,B,O))),g.setShape({points:h}),m&&m.setShape({points:h,stackedOnPoints:A})))}var G=r.getModel("emphasis"),Y=G.get("focus"),Q=G.get("blurScope"),J=G.get("disabled");if(g.useStyle(ct(l.getLineStyle(),{fill:"none",stroke:H,lineJoin:"bevel"})),Qv(g,r,"lineStyle"),g.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var ae=g.getState("emphasis").style;ae.lineWidth=+g.style.lineWidth+1}Ut(g).seriesIndex=r.seriesIndex,oh(g,Y,Q,J);var he=gT(r.get("smooth")),ve=r.get("smoothMonotone");if(g.setShape({smooth:he,smoothMonotone:ve,connectNulls:O}),m){var we=u.getCalculationInfo("stackedOnSeries"),Te=0;m.useStyle(ct(c.getAreaStyle(),{fill:H,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),we&&(Te=gT(we.get("smooth"))),m.setShape({smooth:he,stackedOnSmooth:Te,smoothMonotone:ve,connectNulls:O}),Qv(m,r,"areaStyle"),Ut(m).seriesIndex=r.seriesIndex,oh(m,Y,Q,J)}var Le=function($e){a._changePolyState($e)};u.eachItemGraphicEl(function($e){$e&&($e.onHoverStateChange=Le)}),this._polyline.onHoverStateChange=Le,this._data=u,this._coordSys=o,this._stackedOnPoints=A,this._points=h,this._step=B,this._valueOrigin=T,r.get("triggerLineEvent")&&(this.packEventData(r,g),m&&this.packEventData(r,m))},e.prototype.packEventData=function(r,n){Ut(n).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},e.prototype.highlight=function(r,n,i,a){var o=r.getData(),s=vu(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var u=o.getLayout("points"),l=o.getItemGraphicEl(s);if(!l){var c=u[s*2],h=u[s*2+1];if(isNaN(c)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,h))return;var f=r.get("zlevel")||0,v=r.get("z")||0;l=new K_(o,s),l.x=c,l.y=h,l.setZ(f,v);var p=l.getSymbolPath().getTextContent();p&&(p.zlevel=f,p.z=v,p.z2=this._polyline.z2+1),l.__temp=!0,o.setItemGraphicEl(s,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else _a.prototype.highlight.call(this,r,n,i,a)},e.prototype.downplay=function(r,n,i,a){var o=r.getData(),s=vu(o,a);if(this._changePolyState("normal"),s!=null&&s>=0){var u=o.getItemGraphicEl(s);u&&(u.__temp?(o.setItemGraphicEl(s,null),this.group.remove(u)):u.downplay())}else _a.prototype.downplay.call(this,r,n,i,a)},e.prototype._changePolyState=function(r){var n=this._polygon;Cw(this._polyline,r),n&&Cw(n,r)},e.prototype._newPolyline=function(r){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new uQ({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},e.prototype._newPolygon=function(r,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new cQ({shape:{points:r,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(r,n,i){var a,o,s=n.getBaseAxis(),u=s.inverse;n.type==="cartesian2d"?(a=s.isHorizontal(),o=!1):n.type==="polar"&&(a=s.dim==="angle",o=!0);var l=r.hostModel,c=l.get("animationDuration");ht(c)&&(c=c(null));var h=l.get("animationDelay")||0,f=ht(h)?h(null):h;r.eachItemGraphicEl(function(v,p){var g=v;if(g){var m=[v.x,v.y],_=void 0,b=void 0,w=void 0;if(i)if(o){var T=i,k=n.pointToCoord(m);a?(_=T.startAngle,b=T.endAngle,w=-k[1]/180*Math.PI):(_=T.r0,b=T.r,w=k[0])}else{var A=i;a?(_=A.x,b=A.x+A.width,w=v.x):(_=A.y+A.height,b=A.y,w=v.y)}var M=b===_?0:(w-_)/(b-_);u&&(M=1-M);var O=ht(h)?h(p):c*M+f,F=g.getSymbolPath(),$=F.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:O}),$&&$.animateFrom({style:{opacity:0}},{duration:300,delay:O}),F.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(r,n,i){var a=r.getModel("endLabel");if(IL(r)){var o=r.getData(),s=this._polyline,u=o.getLayout("points");if(!u){s.removeTextContent(),this._endLabel=null;return}var l=this._endLabel;l||(l=this._endLabel=new Fr({z2:200}),l.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=yQ(u);c>=0&&(Lh(s,Rh(r,"endLabel"),{inheritColor:i,labelFetcher:r,labelDataIndex:c,defaultText:function(h,f,v){return v!=null?EL(o,v):Z_(o,h)},enableTextSetter:!0},bQ(a,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(r,n,i,a,o,s,u){var l=this._endLabel,c=this._polyline;if(l){r<1&&a.originalX==null&&(a.originalX=l.x,a.originalY=l.y);var h=i.getLayout("points"),f=i.hostModel,v=f.get("connectNulls"),p=s.get("precision"),g=s.get("distance")||0,m=u.getBaseAxis(),_=m.isHorizontal(),b=m.inverse,w=n.shape,T=b?_?w.x:w.y+w.height:_?w.x+w.width:w.y,k=(_?g:0)*(b?-1:1),A=(_?0:-g)*(b?-1:1),M=_?"x":"y",O=_Q(h,T,M),F=O.range,$=F[1]-F[0],B=void 0;if($>=1){if($>1&&!v){var U=mT(h,F[0]);l.attr({x:U[0]+k,y:U[1]+A}),o&&(B=f.getRawValue(F[0]))}else{var U=c.getPointOn(T,M);U&&l.attr({x:U[0]+k,y:U[1]+A});var H=f.getRawValue(F[0]),W=f.getRawValue(F[1]);o&&(B=xE(i,p,H,W,O.t))}a.lastFrameIndex=F[0]}else{var z=r===1||a.lastFrameIndex>0?F[0]:0,U=mT(h,z);o&&(B=f.getRawValue(z)),l.attr({x:U[0]+k,y:U[1]+A})}o&&pc(l).setLabelText(B)}},e.prototype._doUpdateAnimation=function(r,n,i,a,o,s,u){var l=this._polyline,c=this._polygon,h=r.hostModel,f=sQ(this._data,r,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),v=f.current,p=f.stackedOnCurrent,g=f.next,m=f.stackedOnNext;if(o&&(v=Mo(f.current,i,o,u),p=Mo(f.stackedOnCurrent,i,o,u),g=Mo(f.next,i,o,u),m=Mo(f.stackedOnNext,i,o,u)),pT(v,g)>3e3||c&&pT(p,m)>3e3){l.stopAnimation(),l.setShape({points:g}),c&&(c.stopAnimation(),c.setShape({points:g,stackedOnPoints:m}));return}l.shape.__points=f.current,l.shape.points=v;var _={shape:{points:g}};f.current!==v&&(_.shape.__points=f.next),l.stopAnimation(),jr(l,_,h),c&&(c.setShape({points:v,stackedOnPoints:p}),c.stopAnimation(),jr(c,{shape:{stackedOnPoints:m}},h),l.shape.points!==c.shape.points&&(c.shape.points=l.shape.points));for(var b=[],w=f.status,T=0;T<w.length;T++){var k=w[T].cmd;if(k==="="){var A=r.getItemGraphicEl(w[T].idx1);A&&b.push({el:A,ptIdx:T})}}l.animators&&l.animators.length&&l.animators[0].during(function(){c&&c.dirtyShape();for(var M=l.shape.__points,O=0;O<b.length;O++){var F=b[O].el,$=b[O].ptIdx*2;F.x=M[$],F.y=M[$+1],F.markRedraw()}})},e.prototype.remove=function(r){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,o){a.__temp&&(n.remove(a),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(_a);const SQ=xQ;function wQ(t,e){return{seriesType:t,plan:B_(),reset:function(r){var n=r.getData(),i=r.coordinateSystem,a=r.pipelineContext,o=e||a.large;if(i){var s=qe(i.dimensions,function(v){return n.mapDimension(v)}).slice(0,2),u=s.length,l=n.getCalculationInfo("stackResultDimension");gu(n,s[0])&&(s[0]=l),gu(n,s[1])&&(s[1]=l);var c=n.getStore(),h=n.getDimensionIndex(s[0]),f=n.getDimensionIndex(s[1]);return u&&{progress:function(v,p){for(var g=v.end-v.start,m=o&&Za(g*u),_=[],b=[],w=v.start,T=0;w<v.end;w++){var k=void 0;if(u===1){var A=c.get(h,w);k=i.dataToPoint(A,null,b)}else _[0]=c.get(h,w),_[1]=c.get(f,w),k=i.dataToPoint(_,null,b);o?(m[T++]=k[0],m[T++]=k[1]):p.setItemLayout(w,k.slice())}o&&p.setLayout("points",m)}}}}}}var TQ={average:function(t){for(var e=0,r=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],r++);return r===0?NaN:e/r},sum:function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r]||0;return e},max:function(t){for(var e=-1/0,r=0;r<t.length;r++)t[r]>e&&(e=t[r]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,r=0;r<t.length;r++)t[r]<e&&(e=t[r]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},CQ=function(t){return Math.round(t.length/2)};function BL(t){return{seriesType:t,reset:function(e,r,n){var i=e.getData(),a=e.get("sampling"),o=e.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&a){var u=o.getBaseAxis(),l=o.getOtherAxis(u),c=u.getExtent(),h=n.getDevicePixelRatio(),f=Math.abs(c[1]-c[0])*(h||1),v=Math.round(s/f);if(isFinite(v)&&v>1){a==="lttb"&&e.setData(i.lttbDownSample(i.mapDimension(l.dim),1/v));var p=void 0;et(a)?p=TQ[a]:ht(a)&&(p=a),p&&e.setData(i.downSample(i.mapDimension(l.dim),1/v,p,CQ))}}}}}function jie(t){t.registerChartView(SQ),t.registerSeriesModel(eQ),t.registerLayout(wQ("line",!0)),t.registerVisual({seriesType:"line",reset:function(e){var r=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",n)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,BL("line"))}var NL=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getInitialData=function(r,n){return G_(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(r,n,i){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(r),s=a.dataToPoint(o);if(i)K(a.getAxes(),function(f,v){if(f.type==="category"&&n!=null){var p=f.getTicksCoords(),g=o[v],m=n[v]==="x1"||n[v]==="y1";if(m&&(g+=1),p.length<2)return;if(p.length===2){s[v]=f.toGlobalCoord(f.getExtent()[m?1:0]);return}for(var _=void 0,b=void 0,w=1,T=0;T<p.length;T++){var k=p[T].coord,A=T===p.length-1?p[T-1].tickValue+w:p[T].tickValue;if(A===g){b=k;break}else if(A<g)_=k;else if(_!=null&&A>g){b=(k+_)/2;break}T===1&&(w=A-p[0].tickValue)}b==null&&(_?_&&(b=p[p.length-1].coord):b=p[0].coord),s[v]=f.toGlobalCoord(b)}});else{var u=this.getData(),l=u.getLayout("offset"),c=u.getLayout("size"),h=a.getBaseAxis().isHorizontal()?0:1;s[h]+=l+c/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(ts);ts.registerClass(NL);const yT=NL;var AQ=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getInitialData=function(){return G_(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>r&&(r=n),r},e.prototype.brushSelector=function(r,n,i){return i.rect(n.getItemLayout(r))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=SM(yT.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(yT);const kQ=AQ;var PQ=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),EQ=function(t){De(e,t);function e(r){var n=t.call(this,r)||this;return n.type="sausage",n}return e.prototype.getDefaultShape=function(){return new PQ},e.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.max(n.r0||0,0),s=Math.max(n.r,0),u=(s-o)*.5,l=o+u,c=n.startAngle,h=n.endAngle,f=n.clockwise,v=Math.PI*2,p=f?h-c<v:c-h<v;p||(c=h-(f?v:-v));var g=Math.cos(c),m=Math.sin(c),_=Math.cos(h),b=Math.sin(h);p?(r.moveTo(g*o+i,m*o+a),r.arc(g*l+i,m*l+a,u,-Math.PI+c,c,!f)):r.moveTo(g*s+i,m*s+a),r.arc(i,a,s,c,h,!f),r.arc(_*l+i,b*l+a,u,h-Math.PI*2,h-Math.PI,!f),o!==0&&r.arc(i,a,o,h,c,f)},e}(Ot);const _T=EQ;function MQ(t,e){e=e||{};var r=e.isRoundCap;return function(n,i,a){var o=i.position;if(!o||o instanceof Array)return qv(n,i,a);var s=t(o),u=i.distance!=null?i.distance:5,l=this.shape,c=l.cx,h=l.cy,f=l.r,v=l.r0,p=(f+v)/2,g=l.startAngle,m=l.endAngle,_=(g+m)/2,b=r?Math.abs(f-v)/2:0,w=Math.cos,T=Math.sin,k=c+f*w(g),A=h+f*T(g),M="left",O="top";switch(s){case"startArc":k=c+(v-u)*w(_),A=h+(v-u)*T(_),M="center",O="top";break;case"insideStartArc":k=c+(v+u)*w(_),A=h+(v+u)*T(_),M="center",O="bottom";break;case"startAngle":k=c+p*w(g)+Yd(g,u+b,!1),A=h+p*T(g)+Xd(g,u+b,!1),M="right",O="middle";break;case"insideStartAngle":k=c+p*w(g)+Yd(g,-u+b,!1),A=h+p*T(g)+Xd(g,-u+b,!1),M="left",O="middle";break;case"middle":k=c+p*w(_),A=h+p*T(_),M="center",O="middle";break;case"endArc":k=c+(f+u)*w(_),A=h+(f+u)*T(_),M="center",O="bottom";break;case"insideEndArc":k=c+(f-u)*w(_),A=h+(f-u)*T(_),M="center",O="top";break;case"endAngle":k=c+p*w(m)+Yd(m,u+b,!0),A=h+p*T(m)+Xd(m,u+b,!0),M="left",O="middle";break;case"insideEndAngle":k=c+p*w(m)+Yd(m,-u+b,!0),A=h+p*T(m)+Xd(m,-u+b,!0),M="right",O="middle";break;default:return qv(n,i,a)}return n=n||{},n.x=k,n.y=A,n.align=M,n.verticalAlign=O,n}}function DQ(t,e,r,n){if(Wt(n)){t.setTextConfig({rotation:n});return}else if(Ye(e)){t.setTextConfig({rotation:0});return}var i=t.shape,a=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(a+o)/2,u,l=r(e);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=s;break;case"startAngle":case"insideStartAngle":u=a;break;case"endAngle":case"insideEndAngle":u=o;break;default:t.setTextConfig({rotation:0});return}var c=Math.PI*1.5-u;l==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),t.setTextConfig({rotation:c})}function Yd(t,e,r){return e*Math.sin(t)*(r?-1:1)}function Xd(t,e,r){return e*Math.cos(t)*(r?1:-1)}function yf(t,e,r){var n=t.get("borderRadius");if(n==null)return r?{cornerRadius:0}:null;Ye(n)||(n=[n,n,n,n]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:qe(n,function(a){return Qo(a,i)})}}var Km=Math.max,Qm=Math.min;function LQ(t,e){var r=t.getArea&&t.getArea();if(Q_(t,"cartesian2d")){var n=t.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=e.getLayout("bandWidth");n.isHorizontal()?(r.x-=i,r.width+=i*2):(r.y-=i,r.height+=i*2)}}return r}var RQ=function(t){De(e,t);function e(){var r=t.call(this)||this;return r.type=e.type,r._isFirstFrame=!0,r}return e.prototype.render=function(r,n,i,a){this._model=r,this._removeOnRenderedListener(i),this._updateDrawMode(r);var o=r.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,n,i):this._renderNormal(r,n,i,a))},e.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},e.prototype.incrementalRender=function(r,n){this._progressiveEls=[],this._incrementalRenderLarge(r,n)},e.prototype.eachRendered=function(r){Kp(this._progressiveEls||this.group,r)},e.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(r,n,i,a){var o=this.group,s=r.getData(),u=this._data,l=r.coordinateSystem,c=l.getBaseAxis(),h;l.type==="cartesian2d"?h=c.isHorizontal():l.type==="polar"&&(h=c.dim==="angle");var f=r.isAnimationEnabled()?r:null,v=OQ(r,l);v&&this._enableRealtimeSort(v,s,i);var p=r.get("clip",!0)||v,g=LQ(l,s);o.removeClipPath();var m=r.get("roundCap",!0),_=r.get("showBackground",!0),b=r.getModel("backgroundStyle"),w=b.get("borderRadius")||0,T=[],k=this._backgroundEls,A=a&&a.isInitSort,M=a&&a.type==="changeAxisOrder";function O(B){var U=qd[l.type](s,B),H=zQ(l,h,U);return H.useStyle(b.getItemStyle()),l.type==="cartesian2d"?H.setShape("r",w):H.setShape("cornerRadius",w),T[B]=H,H}s.diff(u).add(function(B){var U=s.getItemModel(B),H=qd[l.type](s,B,U);if(_&&O(B),!(!s.hasValue(B)||!TT[l.type](H))){var W=!1;p&&(W=bT[l.type](g,H));var z=xT[l.type](r,s,B,H,h,f,c.model,!1,m);v&&(z.forceLabelAnimation=!0),CT(z,s,B,U,H,r,h,l.type==="polar"),A?z.attr({shape:H}):v?ST(v,f,z,H,B,h,!1,!1):fn(z,{shape:H},r,B),s.setItemGraphicEl(B,z),o.add(z),z.ignore=W}}).update(function(B,U){var H=s.getItemModel(B),W=qd[l.type](s,B,H);if(_){var z=void 0;k.length===0?z=O(U):(z=k[U],z.useStyle(b.getItemStyle()),l.type==="cartesian2d"?z.setShape("r",w):z.setShape("cornerRadius",w),T[B]=z);var G=qd[l.type](s,B),Y=$L(h,G,l);jr(z,{shape:Y},f,B)}var Q=u.getItemGraphicEl(U);if(!s.hasValue(B)||!TT[l.type](W)){o.remove(Q);return}var J=!1;if(p&&(J=bT[l.type](g,W),J&&o.remove(Q)),Q?y_(Q):Q=xT[l.type](r,s,B,W,h,f,c.model,!!Q,m),v&&(Q.forceLabelAnimation=!0),M){var ae=Q.getTextContent();if(ae){var he=pc(ae);he.prevValue!=null&&(he.prevValue=he.value)}}else CT(Q,s,B,H,W,r,h,l.type==="polar");A?Q.attr({shape:W}):v?ST(v,f,Q,W,B,h,!0,M):jr(Q,{shape:W},r,B,null),s.setItemGraphicEl(B,Q),Q.ignore=J,o.add(Q)}).remove(function(B){var U=u.getItemGraphicEl(B);U&&tp(U,r,B)}).execute();var F=this._backgroundGroup||(this._backgroundGroup=new Er);F.removeAll();for(var $=0;$<T.length;++$)F.add(T[$]);o.add(F),this._backgroundEls=T,this._data=s},e.prototype._renderLarge=function(r,n,i){this._clear(),kT(r,this.group),this._updateLargeClip(r)},e.prototype._incrementalRenderLarge=function(r,n){this._removeBackground(),kT(n,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(r){var n=r.get("clip",!0)&&fQ(r.coordinateSystem,!1,r),i=this.group;n?i.setClipPath(n):i.removeClipPath()},e.prototype._enableRealtimeSort=function(r,n,i){var a=this;if(n.count()){var o=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,r,i),this._isFirstFrame=!1;else{var s=function(u){var l=n.getItemGraphicEl(u),c=l&&l.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(r,n,i){var a=[];return r.each(r.mapDimension(n.dim),function(o,s){var u=i(s);u=u??NaN,a.push({dataIndex:s,mappedValue:u,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:qe(a,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(r,n,i){for(var a=i.scale,o=r.mapDimension(i.dim),s=Number.MAX_VALUE,u=0,l=a.getOrdinalMeta().categories.length;u<l;++u){var c=r.rawIndexOf(o,a.getRawOrdinalNumber(u)),h=c<0?Number.MIN_VALUE:n(r.indexOfRawIndex(c));if(h>s)return!0;s=h}return!1},e.prototype._isOrderDifferentInView=function(r,n){for(var i=n.scale,a=i.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(r.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(r,n,i,a){if(this._isOrderChangedWithinSameData(r,n,i)){var o=this._dataSort(r,i,n);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(r,n,i){var a=n.baseAxis,o=this._dataSort(r,a,function(s){return r.get(r.mapDimension(n.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},e.prototype.remove=function(r,n){this._clear(this._model),this._removeOnRenderedListener(n)},e.prototype.dispose=function(r,n){this._removeOnRenderedListener(n)},e.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(r){var n=this.group,i=this._data;r&&r.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){tp(a,r,Ut(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(_a),bT={cartesian2d:function(t,e){var r=e.width<0?-1:1,n=e.height<0?-1:1;r<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var i=t.x+t.width,a=t.y+t.height,o=Km(e.x,t.x),s=Qm(e.x+e.width,i),u=Km(e.y,t.y),l=Qm(e.y+e.height,a),c=s<o,h=l<u;return e.x=c&&o>i?s:o,e.y=h&&u>a?l:u,e.width=c?0:s-o,e.height=h?0:l-u,r<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),c||h},polar:function(t,e){var r=e.r0<=e.r?1:-1;if(r<0){var n=e.r;e.r=e.r0,e.r0=n}var i=Qm(e.r,t.r),a=Km(e.r0,t.r0);e.r=i,e.r0=a;var o=i-a<0;if(r<0){var n=e.r;e.r=e.r0,e.r0=n}return o}},xT={cartesian2d:function(t,e,r,n,i,a,o,s,u){var l=new Sr({shape:Oe({},n),z2:1});if(l.__dataIndex=r,l.name="item",a){var c=l.shape,h=i?"height":"width";c[h]=0}return l},polar:function(t,e,r,n,i,a,o,s,u){var l=!i&&u?_T:$i,c=new l({shape:n,z2:1});c.name="item";var h=FL(i);if(c.calculateTextPosition=MQ(h,{isRoundCap:l===_T}),a){var f=c.shape,v=i?"r":"endAngle",p={};f[v]=i?n.r0:n.startAngle,p[v]=n[v],(s?jr:fn)(c,{shape:p},a)}return c}};function OQ(t,e){var r=t.get("realtimeSort",!0),n=e.getBaseAxis();if(r&&n.type==="category"&&e.type==="cartesian2d")return{baseAxis:n,otherAxis:e.getOtherAxis(n)}}function ST(t,e,r,n,i,a,o,s){var u,l;a?(l={x:n.x,width:n.width},u={y:n.y,height:n.height}):(l={y:n.y,height:n.height},u={x:n.x,width:n.width}),s||(o?jr:fn)(r,{shape:u},e,i,null);var c=e?t.baseAxis.model:null;(o?jr:fn)(r,{shape:l},c,i)}function wT(t,e){for(var r=0;r<e.length;r++)if(!isFinite(t[e[r]]))return!0;return!1}var IQ=["x","y","width","height"],BQ=["cx","cy","r","startAngle","endAngle"],TT={cartesian2d:function(t){return!wT(t,IQ)},polar:function(t){return!wT(t,BQ)}},qd={cartesian2d:function(t,e,r){var n=t.getItemLayout(e),i=r?FQ(r,n):0,a=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+a*i/2,y:n.y+o*i/2,width:n.width-a*i,height:n.height-o*i}},polar:function(t,e,r){var n=t.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function NQ(t){return t.startAngle!=null&&t.endAngle!=null&&t.startAngle===t.endAngle}function FL(t){return function(e){var r=e?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+r;default:return n}}}(t)}function CT(t,e,r,n,i,a,o,s){var u=e.getItemVisual(r,"style");if(s){if(!a.get("roundCap")){var c=t.shape,h=yf(n.getModel("itemStyle"),c,!0);Oe(c,h),t.setShape(c)}}else{var l=n.get(["itemStyle","borderRadius"])||0;t.setShape("r",l)}t.useStyle(u);var f=n.getShallow("cursor");f&&t.attr("cursor",f);var v=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",p=Rh(n);Lh(t,p,{labelFetcher:a,labelDataIndex:r,defaultText:Z_(a.getData(),r),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:v});var g=t.getTextContent();if(s&&g){var m=n.get(["label","position"]);t.textConfig.inside=m==="middle"?!0:null,DQ(t,m==="outside"?v:m,FL(o),n.get(["label","rotate"]))}rY(g,p,a.getRawValue(r),function(b){return EL(e,b)});var _=n.getModel(["emphasis"]);oh(t,_.get("focus"),_.get("blurScope"),_.get("disabled")),Qv(t,n),NQ(i)&&(t.style.fill="none",t.style.stroke="none",K(t.states,function(b){b.style&&(b.style.fill=b.style.stroke="none")}))}function FQ(t,e){var r=t.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var n=t.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,i,a)}var $Q=function(){function t(){}return t}(),AT=function(t){De(e,t);function e(r){var n=t.call(this,r)||this;return n.type="largeBar",n}return e.prototype.getDefaultShape=function(){return new $Q},e.prototype.buildPath=function(r,n){for(var i=n.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],u=[],l=this.barWidth,c=0;c<i.length;c+=3)u[a]=l,u[o]=i[c+2],s[a]=i[c+a],s[o]=i[c+o],r.rect(s[0],s[1],u[0],u[1])},e}(Ot);function kT(t,e,r,n){var i=t.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),u=t.getModel("backgroundStyle"),l=i.getLayout("largeBackgroundPoints");if(l){var c=new AT({shape:{points:l},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=o,c.barWidth=s,c.useStyle(u.getItemStyle()),e.add(c),r&&r.push(c)}var h=new AT({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=a,h.largeDataIndices=o,h.barWidth=s,e.add(h),h.useStyle(i.getVisual("style")),Ut(h).seriesIndex=t.seriesIndex,t.get("silent")||(h.on("mousedown",PT),h.on("mousemove",PT)),r&&r.push(h)}var PT=F_(function(t){var e=this,r=HQ(e,t.offsetX,t.offsetY);Ut(e).dataIndex=r>=0?r:null},30,!1);function HQ(t,e,r){for(var n=t.baseDimIdx,i=1-n,a=t.shape.points,o=t.largeDataIndices,s=[],u=[],l=t.barWidth,c=0,h=a.length/3;c<h;c++){var f=c*3;if(u[n]=l,u[i]=a[f+2],s[n]=a[f+n],s[i]=a[f+i],u[i]<0&&(s[i]+=u[i],u[i]=-u[i]),e>=s[0]&&e<=s[0]+u[0]&&r>=s[1]&&r<=s[1]+u[1])return o[c]}return-1}function $L(t,e,r){if(Q_(r,"cartesian2d")){var n=e,i=r.getArea();return{x:t?n.x:i.x,y:t?i.y:n.y,width:t?n.width:i.width,height:t?i.height:n.height}}else{var i=r.getArea(),a=e;return{cx:i.cx,cy:i.cy,r0:t?i.r0:a.r0,r:t?i.r:a.r,startAngle:t?a.startAngle:0,endAngle:t?a.endAngle:Math.PI*2}}}function zQ(t,e,r){var n=t.type==="polar"?$i:Sr;return new n({shape:$L(e,r,t),silent:!0,z2:0})}const UQ=RQ;function Wie(t){t.registerChartView(UQ),t.registerSeriesModel(kQ),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,zt(aK,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,oK("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,BL("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,r){var n=e.componentType||"series";r.eachComponent({mainType:n,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var Zd=Math.PI*2,ET=Math.PI/180;function HL(t,e){return es(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function zL(t,e){var r=HL(t,e),n=t.get("center"),i=t.get("radius");Ye(i)||(i=[0,i]);var a=Ht(r.width,e.getWidth()),o=Ht(r.height,e.getHeight()),s=Math.min(a,o),u=Ht(i[0],s/2),l=Ht(i[1],s/2),c,h,f=t.coordinateSystem;if(f){var v=f.dataToPoint(n);c=v[0]||0,h=v[1]||0}else Ye(n)||(n=[n,n]),c=Ht(n[0],a)+r.x,h=Ht(n[1],o)+r.y;return{cx:c,cy:h,r0:u,r:l}}function VQ(t,e,r){e.eachSeriesByType(t,function(n){var i=n.getData(),a=i.mapDimension("value"),o=HL(n,r),s=zL(n,r),u=s.cx,l=s.cy,c=s.r,h=s.r0,f=-n.get("startAngle")*ET,v=n.get("minAngle")*ET,p=0;i.each(a,function($){!isNaN($)&&p++});var g=i.getSum(a),m=Math.PI/(g||p)*2,_=n.get("clockwise"),b=n.get("roseType"),w=n.get("stillShowZeroSum"),T=i.getDataExtent(a);T[0]=0;var k=Zd,A=0,M=f,O=_?1:-1;if(i.setLayout({viewRect:o,r:c}),i.each(a,function($,B){var U;if(isNaN($)){i.setItemLayout(B,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:_,cx:u,cy:l,r0:h,r:b?NaN:c});return}b!=="area"?U=g===0&&w?m:$*m:U=Zd/p,U<v?(U=v,k-=v):A+=$;var H=M+O*U;i.setItemLayout(B,{angle:U,startAngle:M,endAngle:H,clockwise:_,cx:u,cy:l,r0:h,r:b?No($,T,[h,c]):c}),M=H}),k<Zd&&p)if(k<=.001){var F=Zd/p;i.each(a,function($,B){if(!isNaN($)){var U=i.getItemLayout(B);U.angle=F,U.startAngle=f+O*B*F,U.endAngle=f+O*(B+1)*F}})}else m=k/A,M=f,i.each(a,function($,B){if(!isNaN($)){var U=i.getItemLayout(B),H=U.angle===v?v:$*m;U.startAngle=M,U.endAngle=M+O*H,M+=O*H}})})}function GQ(t){return{seriesType:t,reset:function(e,r){var n=r.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=e.getData();i.filterSelf(function(a){for(var o=i.getName(a),s=0;s<n.length;s++)if(!n[s].isSelected(o))return!1;return!0})}}}}var jQ=Math.PI/180;function MT(t,e,r,n,i,a,o,s,u,l){if(t.length<2)return;function c(g){for(var m=g.rB,_=m*m,b=0;b<g.list.length;b++){var w=g.list[b],T=Math.abs(w.label.y-r),k=n+w.len,A=k*k,M=Math.sqrt((1-Math.abs(T*T/_))*A),O=e+(M+w.len2)*i,F=O-w.label.x,$=w.targetTextWidth-F*i;UL(w,$,!0),w.label.x=O}}function h(g){for(var m={list:[],maxY:0},_={list:[],maxY:0},b=0;b<g.length;b++)if(g[b].labelAlignTo==="none"){var w=g[b],T=w.label.y>r?_:m,k=Math.abs(w.label.y-r);if(k>=T.maxY){var A=w.label.x-e-w.len2*i,M=n+w.len,O=Math.abs(A)<M?Math.sqrt(k*k/(1-A*A/M/M)):M;T.rB=O,T.maxY=k}T.list.push(w)}c(m),c(_)}for(var f=t.length,v=0;v<f;v++)if(t[v].position==="outer"&&t[v].labelAlignTo==="labelLine"){var p=t[v].label.x-l;t[v].linePoints[1][0]+=p,t[v].label.x=l}kL(t,u,u+o)&&h(t)}function WQ(t,e,r,n,i,a,o,s){for(var u=[],l=[],c=Number.MAX_VALUE,h=-Number.MAX_VALUE,f=0;f<t.length;f++){var v=t[f].label;Jm(t[f])||(v.x<e?(c=Math.min(c,v.x),u.push(t[f])):(h=Math.max(h,v.x),l.push(t[f])))}for(var f=0;f<t.length;f++){var p=t[f];if(!Jm(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var v=p.label,g=p.linePoints,m=void 0;p.labelAlignTo==="edge"?v.x<e?m=g[2][0]-p.labelDistance-o-p.edgeDistance:m=o+i-p.edgeDistance-g[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?v.x<e?m=c-o-p.bleedMargin:m=o+i-h-p.bleedMargin:v.x<e?m=v.x-o-p.bleedMargin:m=o+i-v.x-p.bleedMargin,p.targetTextWidth=m,UL(p,m)}}MT(l,e,r,n,1,i,a,o,s,h),MT(u,e,r,n,-1,i,a,o,s,c);for(var f=0;f<t.length;f++){var p=t[f];if(!Jm(p)&&p.linePoints){var v=p.label,g=p.linePoints,_=p.labelAlignTo==="edge",b=v.style.padding,w=b?b[1]+b[3]:0,T=v.style.backgroundColor?0:w,k=p.rect.width+T,A=g[1][0]-g[2][0];_?v.x<e?g[2][0]=o+p.edgeDistance+k+p.labelDistance:g[2][0]=o+i-p.edgeDistance-k-p.labelDistance:(v.x<e?g[2][0]=v.x+p.labelDistance:g[2][0]=v.x-p.labelDistance,g[1][0]=g[2][0]+A),g[1][1]=g[2][1]=v.y}}}function UL(t,e,r){if(r===void 0&&(r=!1),t.labelStyleWidth==null){var n=t.label,i=n.style,a=t.rect,o=i.backgroundColor,s=i.padding,u=s?s[1]+s[3]:0,l=i.overflow,c=a.width+(o?0:u);if(e<c||r){var h=a.height;if(l&&l.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",e-u);var f=n.getBoundingRect();n.setStyle("width",Math.ceil(f.width)),n.setStyle("backgroundColor",o)}else{var v=e-u,p=e<c?v:r?v>t.unconstrainedWidth?null:v:null;n.setStyle("width",p)}var g=n.getBoundingRect();a.width=g.width;var m=(n.style.margin||0)+2.1;a.height=g.height+m,a.y-=(a.height-h)/2}}}function Jm(t){return t.position==="center"}function YQ(t){var e=t.getData(),r=[],n,i,a=!1,o=(t.get("minShowLabelAngle")||0)*jQ,s=e.getLayout("viewRect"),u=e.getLayout("r"),l=s.width,c=s.x,h=s.y,f=s.height;function v(A){A.ignore=!0}function p(A){if(!A.ignore)return!0;for(var M in A.states)if(A.states[M].ignore===!1)return!0;return!1}e.each(function(A){var M=e.getItemGraphicEl(A),O=M.shape,F=M.getTextContent(),$=M.getTextGuideLine(),B=e.getItemModel(A),U=B.getModel("label"),H=U.get("position")||B.get(["emphasis","label","position"]),W=U.get("distanceToLabelLine"),z=U.get("alignTo"),G=Ht(U.get("edgeDistance"),l),Y=U.get("bleedMargin"),Q=B.getModel("labelLine"),J=Q.get("length");J=Ht(J,l);var ae=Q.get("length2");if(ae=Ht(ae,l),Math.abs(O.endAngle-O.startAngle)<o){K(F.states,v),F.ignore=!0,$&&(K($.states,v),$.ignore=!0);return}if(p(F)){var he=(O.startAngle+O.endAngle)/2,ve=Math.cos(he),we=Math.sin(he),Te,Le,$e,se;n=O.cx,i=O.cy;var pe=H==="inside"||H==="inner";if(H==="center")Te=O.cx,Le=O.cy,se="center";else{var ge=(pe?(O.r+O.r0)/2*ve:O.r*ve)+n,be=(pe?(O.r+O.r0)/2*we:O.r*we)+i;if(Te=ge+ve*3,Le=be+we*3,!pe){var Ce=ge+ve*(J+u-O.r),He=be+we*(J+u-O.r),Ie=Ce+(ve<0?-1:1)*ae,Ne=He;z==="edge"?Te=ve<0?c+G:c+l-G:Te=Ie+(ve<0?-W:W),Le=Ne,$e=[[ge,be],[Ce,He],[Ie,Ne]]}se=pe?"center":z==="edge"?ve>0?"right":"left":ve>0?"left":"right"}var vt=Math.PI,Yt=0,It=U.get("rotate");if(Wt(It))Yt=It*(vt/180);else if(H==="center")Yt=0;else if(It==="radial"||It===!0){var hn=ve<0?-he+vt:-he;Yt=hn}else if(It==="tangential"&&H!=="outside"&&H!=="outer"){var Yr=Math.atan2(ve,we);Yr<0&&(Yr=vt*2+Yr);var de=we>0;de&&(Yr=vt+Yr),Yt=Yr-vt}if(a=!!Yt,F.x=Te,F.y=Le,F.rotation=Yt,F.setStyle({verticalAlign:"middle"}),pe){F.setStyle({align:se});var yr=F.states.select;yr&&(yr.x+=F.x,yr.y+=F.y)}else{var Vt=F.getBoundingRect().clone();Vt.applyTransform(F.getComputedTransform());var Ar=(F.style.margin||0)+2.1;Vt.y-=Ar/2,Vt.height+=Ar,r.push({label:F,labelLine:$,position:H,len:J,len2:ae,minTurnAngle:Q.get("minTurnAngle"),maxSurfaceAngle:Q.get("maxSurfaceAngle"),surfaceNormal:new ot(ve,we),linePoints:$e,textAlign:se,labelDistance:W,labelAlignTo:z,edgeDistance:G,bleedMargin:Y,rect:Vt,unconstrainedWidth:Vt.width,labelStyleWidth:F.style.width})}M.setTextConfig({inside:pe})}}),!a&&t.get("avoidLabelOverlap")&&WQ(r,n,i,u,l,f,c,h);for(var g=0;g<r.length;g++){var m=r[g],_=m.label,b=m.labelLine,w=isNaN(_.x)||isNaN(_.y);if(_){_.setStyle({align:m.textAlign}),w&&(K(_.states,v),_.ignore=!0);var T=_.states.select;T&&(T.x+=_.x,T.y+=_.y)}if(b){var k=m.linePoints;w||!k?(K(b.states,v),b.ignore=!0):(SL(k,m.minTurnAngle),jK(k,m.surfaceNormal,m.maxSurfaceAngle),b.setShape({points:k}),_.__hostTarget.textGuideLineConfig={anchor:new ot(k[0][0],k[0][1])})}}}var XQ=function(t){De(e,t);function e(r,n,i){var a=t.call(this)||this;a.z2=2;var o=new Fr;return a.setTextContent(o),a.updateData(r,n,i,!0),a}return e.prototype.updateData=function(r,n,i,a){var o=this,s=r.hostModel,u=r.getItemModel(n),l=u.getModel("emphasis"),c=r.getItemLayout(n),h=Oe(yf(u.getModel("itemStyle"),c,!0),c);if(isNaN(h.startAngle)){o.setShape(h);return}if(a){o.setShape(h);var f=s.getShallow("animationType");s.ecModel.ssr?(fn(o,{scaleX:0,scaleY:0},s,{dataIndex:n,isFrom:!0}),o.originX=h.cx,o.originY=h.cy):f==="scale"?(o.shape.r=c.r0,fn(o,{shape:{r:c.r}},s,n)):i!=null?(o.setShape({startAngle:i,endAngle:i}),fn(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,n)):(o.shape.endAngle=c.startAngle,jr(o,{shape:{endAngle:c.endAngle}},s,n))}else y_(o),jr(o,{shape:h},s,n);o.useStyle(r.getItemVisual(n,"style")),Qv(o,u);var v=(c.startAngle+c.endAngle)/2,p=s.get("selectedOffset"),g=Math.cos(v)*p,m=Math.sin(v)*p,_=u.getShallow("cursor");_&&o.attr("cursor",_),this._updateLabel(s,r,n),o.ensureState("emphasis").shape=Oe({r:c.r+(l.get("scale")&&l.get("scaleSize")||0)},yf(l.getModel("itemStyle"),c)),Oe(o.ensureState("select"),{x:g,y:m,shape:yf(u.getModel(["select","itemStyle"]),c)}),Oe(o.ensureState("blur"),{shape:yf(u.getModel(["blur","itemStyle"]),c)});var b=o.getTextGuideLine(),w=o.getTextContent();b&&Oe(b.ensureState("select"),{x:g,y:m}),Oe(w.ensureState("select"),{x:g,y:m}),oh(this,l.get("focus"),l.get("blurScope"),l.get("disabled"))},e.prototype._updateLabel=function(r,n,i){var a=this,o=n.getItemModel(i),s=o.getModel("labelLine"),u=n.getItemVisual(i,"style"),l=u&&u.fill,c=u&&u.opacity;Lh(a,Rh(o),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:l,defaultOpacity:c,defaultText:r.getFormattedLabel(i,"normal")||n.getName(i)});var h=a.getTextContent();a.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var f=r.get(["label","position"]);if(f!=="outside"&&f!=="outer")a.removeTextGuideLine();else{var v=this.getTextGuideLine();v||(v=new Dh,this.setTextGuideLine(v)),wL(this,TL(o),{stroke:l,opacity:Pf(s.get(["lineStyle","opacity"]),c,1)})}},e}($i),qQ=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return e.prototype.render=function(r,n,i,a){var o=r.getData(),s=this._data,u=this.group,l;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),h=1;isNaN(c&&c.startAngle)&&h<o.count();++h)c=o.getItemLayout(h);c&&(l=c.startAngle)}if(this._emptyCircleSector&&u.remove(this._emptyCircleSector),o.count()===0&&r.get("showEmptyCircle")){var f=new $i({shape:zL(r,i)});f.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=f,u.add(f)}o.diff(s).add(function(v){var p=new XQ(o,v,l);o.setItemGraphicEl(v,p),u.add(p)}).update(function(v,p){var g=s.getItemGraphicEl(p);g.updateData(o,v,l),g.off("click"),u.add(g),o.setItemGraphicEl(v,g)}).remove(function(v){var p=s.getItemGraphicEl(v);tp(p,r,v)}).execute(),YQ(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(r,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var o=r[0]-a.cx,s=r[1]-a.cy,u=Math.sqrt(o*o+s*s);return u<=a.r&&u>=a.r0}},e.type="pie",e}(_a);const ZQ=qQ;function KQ(t,e,r){e=Ye(e)&&{coordDimensions:e}||Oe({encodeDefine:t.getEncode()},e);var n=t.getSource(),i=KD(n,e).dimensions,a=new ZD(i,t);return a.initData(n,r),a}var QQ=function(){function t(e,r){this._getDataWithEncodedVisual=e,this._getRawData=r}return t.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},t.prototype.containName=function(e){var r=this._getRawData();return r.indexOfName(e)>=0},t.prototype.indexOfName=function(e){var r=this._getDataWithEncodedVisual();return r.indexOfName(e)},t.prototype.getItemVisual=function(e,r){var n=this._getDataWithEncodedVisual();return n.getItemVisual(e,r)},t}();const JQ=QQ;var eJ=hr(),tJ=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new JQ(rr(this.getData,this),rr(this.getRawData,this)),this._defaultLabelLine(r)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return KQ(this,{coordDimensions:["value"],encodeDefaulter:zt(LY,this)})},e.prototype.getDataParams=function(r){var n=this.getData(),i=eJ(n),a=i.seats;if(!a){var o=[];n.each(n.mapDimension("value"),function(u){o.push(u)}),a=i.seats=bG(o,n.hostModel.get("percentPrecision"))}var s=t.prototype.getDataParams.call(this,r);return s.percent=a[r]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(r){c0(r,"labelLine",["show"]);var n=r.labelLine,i=r.emphasis.labelLine;n.show=n.show&&r.label.show,i.show=i.show&&r.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(ts);const rJ=tJ;function nJ(t){return{seriesType:t,reset:function(e,r){var n=e.getData();n.filterSelf(function(i){var a=n.mapDimension("value"),o=n.get(a,i);return!(Wt(o)&&!isNaN(o)&&o<0)})}}}function Yie(t){t.registerChartView(ZQ),t.registerSeriesModel(rJ),bq("pie",t.registerAction),t.registerLayout(zt(VQ,"pie")),t.registerProcessor(GQ("pie")),t.registerProcessor(nJ("pie"))}var iJ=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Kt);const aJ=iJ;var U0=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Qr).models[0]},e.type="cartesian2dAxis",e}(Kt);Gi(U0,vL);var VL={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},oJ=Ct({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},VL),J_=Ct({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},VL),sJ=Ct({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},J_),uJ=ct({logBase:10},J_);const lJ={category:oJ,value:J_,time:sJ,log:uJ};var cJ={value:1,category:1,time:1,log:1};function pp(t,e,r,n){K(cJ,function(i,a){var o=Ct(Ct({},lJ[a],!0),n,!0),s=function(u){De(l,u);function l(){var c=u!==null&&u.apply(this,arguments)||this;return c.type=e+"Axis."+a,c}return l.prototype.mergeDefaultAndTheme=function(c,h){var f=ch(this),v=f?ag(c):{},p=h.getTheme();Ct(c,p.get(a+"Axis")),Ct(c,this.getDefaultOption()),c.type=DT(c),f&&Jl(c,v,f)},l.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=$0.createByAxisModel(this))},l.prototype.getCategories=function(c){var h=this.option;if(h.type==="category")return c?h.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=e+"Axis."+a,l.defaultOption=o,l}(r);t.registerComponentModel(s)}),t.registerSubTypeDefaulter(e+"Axis",DT)}function DT(t){return t.type||(t.data?"category":"value")}var fJ=function(){function t(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return t.prototype.getAxis=function(e){return this._axes[e]},t.prototype.getAxes=function(){return qe(this._dimList,function(e){return this._axes[e]},this)},t.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),br(this.getAxes(),function(r){return r.scale.type===e})},t.prototype.addAxis=function(e){var r=e.dim;this._axes[r]=e,this._dimList.push(r)},t}();const hJ=fJ;var V0=["x","y"];function LT(t){return t.type==="interval"||t.type==="time"}var dJ=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=V0,r}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!LT(r)||!LT(n))){var i=r.getExtent(),a=n.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),u=i[1]-i[0],l=a[1]-a[0];if(!(!u||!l)){var c=(s[0]-o[0])/u,h=(s[1]-o[1])/l,f=o[0]-i[0]*c,v=o[1]-a[0]*h,p=this._transform=[c,0,0,h,f,v];this._invTransform=Fp([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(r){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&i.contain(i.toLocalCoord(r[1]))},e.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},e.prototype.containZone=function(r,n){var i=this.dataToPoint(r),a=this.dataToPoint(n),o=this.getArea(),s=new Nt(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(s)},e.prototype.dataToPoint=function(r,n,i){i=i||[];var a=r[0],o=r[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return gi(i,r,this._transform);var s=this.getAxis("x"),u=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,n)),i[1]=u.toGlobalCoord(u.dataToCoord(o,n)),i},e.prototype.clampData=function(r,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),u=i.parse(r[0]),l=a.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n},e.prototype.pointToData=function(r,n){var i=[];if(this._invTransform)return gi(i,r,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(r[0]),n),i[1]=o.coordToData(o.toLocalCoord(r[1]),n),i},e.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},e.prototype.getArea=function(){var r=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),i=Math.min(r[0],r[1]),a=Math.min(n[0],n[1]),o=Math.max(r[0],r[1])-i,s=Math.max(n[0],n[1])-a;return new Nt(i,a,o,s)},e}(hJ),vJ=function(t){De(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},e.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},e.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},e.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},e}(Eu);const pJ=vJ;function G0(t,e,r){r=r||{};var n=t.coordinateSystem,i=e.axis,a={},o=i.getAxesOnZeroOf()[0],s=i.position,u=o?"onZero":s,l=i.dim,c=n.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],f={left:0,right:1,top:0,bottom:1,onZero:2},v=e.get("offset")||0,p=l==="x"?[h[2]-v,h[3]+v]:[h[0]-v,h[1]+v];if(o){var g=o.toGlobalCoord(o.dataToCoord(0));p[f.onZero]=Math.max(Math.min(g,p[1]),p[0])}a.position=[l==="y"?p[f[u]]:h[0],l==="x"?p[f[u]]:h[3]],a.rotation=Math.PI/2*(l==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=m[s],a.labelOffset=o?p[f[s]]-p[f.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),rh(r.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var _=e.get(["axisLabel","rotate"]);return a.labelRotate=u==="top"?-_:_,a.z2=1,a}function RT(t){return t.get("coordinateSystem")==="cartesian2d"}function OT(t){var e={xAxisModel:null,yAxisModel:null};return K(e,function(r,n){var i=n.replace(/Model$/,""),a=t.getReferringComponents(i,Qr).models[0];e[n]=a}),e}var ey=Math.log;function gJ(t,e,r){var n=Ih.prototype,i=n.getTicks.call(r),a=n.getTicks.call(r,!0),o=i.length-1,s=n.getInterval.call(r),u=fL(t,e),l=u.extent,c=u.fixMin,h=u.fixMax;if(t.type==="log"){var f=ey(t.base);l=[ey(l[0])/f,ey(l[1])/f]}t.setExtent(l[0],l[1]),t.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:h});var v=n.getExtent.call(t);c&&(l[0]=v[0]),h&&(l[1]=v[1]);var p=n.getInterval.call(t),g=l[0],m=l[1];if(c&&h)p=(m-g)/o;else if(c)for(m=l[0]+p*o;m<l[1]&&isFinite(m)&&isFinite(l[1]);)p=Wm(p),m=l[0]+p*o;else if(h)for(g=l[1]-p*o;g>l[0]&&isFinite(g)&&isFinite(l[0]);)p=Wm(p),g=l[1]-p*o;else{var _=t.getTicks().length-1;_>o&&(p=Wm(p));var b=p*o;m=Math.ceil(l[1]/p)*p,g=Pr(m-b),g<0&&l[0]>=0?(g=0,m=Pr(b)):m>0&&l[1]<=0&&(m=0,g=-Pr(b))}var w=(i[0].value-a[0].value)/s,T=(i[o].value-a[o].value)/s;n.setExtent.call(t,g+p*w,m+p*T),n.setInterval.call(t,p),(w||T)&&n.setNiceExtent.call(t,g+p,m-p)}var mJ=function(){function t(e,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=V0,this._initCartesian(e,r,n),this.model=e}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(e,r){var n=this._axesMap;this._updateScale(e,this.model);function i(o){var s,u=lr(o),l=u.length;if(l){for(var c=[],h=l-1;h>=0;h--){var f=+u[h],v=o[f],p=v.model,g=v.scale;H0(g)&&p.get("alignTicks")&&p.get("interval")==null?c.push(v):(fp(g,p),H0(g)&&(s=v))}c.length&&(s||(s=c.pop(),fp(s.scale,s.model)),K(c,function(m){gJ(m.scale,m.model,s.scale)}))}}i(n.x),i(n.y);var a={};K(n.x,function(o){IT(n,"y",o,a)}),K(n.y,function(o){IT(n,"x",o,a)}),this.resize(this.model,r)},t.prototype.resize=function(e,r,n){var i=e.getBoxLayoutParams(),a=!n&&e.get("containLabel"),o=es(i,{width:r.getWidth(),height:r.getHeight()});this._rect=o;var s=this._axesList;u(),a&&(K(s,function(l){if(!l.model.get(["axisLabel","inside"])){var c=AK(l);if(c){var h=l.isHorizontal()?"height":"width",f=l.model.get(["axisLabel","margin"]);o[h]-=c[h]+f,l.position==="top"?o.y+=c.height+f:l.position==="left"&&(o.x+=c.width+f)}}}),u()),K(this._coordsList,function(l){l.calcAffineTransform()});function u(){K(s,function(l){var c=l.isHorizontal(),h=c?[0,o.width]:[0,o.height],f=l.inverse?1:0;l.setExtent(h[f],h[1-f]),yJ(l,c?o.x:o.y)})}},t.prototype.getAxis=function(e,r){var n=this._axesMap[e];if(n!=null)return n[r||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(e,r){if(e!=null&&r!=null){var n="x"+e+"y"+r;return this._coordsMap[n]}it(e)&&(r=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===r)return a[i]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(e,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(e,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(e){var r=e.seriesModel,n=e.xAxisModel||r&&r.getReferringComponents("xAxis",Qr).models[0],i=e.yAxisModel||r&&r.getReferringComponents("yAxis",Qr).models[0],a=e.gridModel,o=this._coordsList,s,u;if(r)s=r.coordinateSystem,Lt(o,s)<0&&(s=null);else if(n&&i)s=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)u=this.getAxis("x",n.componentIndex);else if(i)u=this.getAxis("y",i.componentIndex);else if(a){var l=a.coordinateSystem;l===this&&(s=this._coordsList[0])}return{cartesian:s,axis:u}},t.prototype.containPoint=function(e){var r=this._coordsList[0];if(r)return r.containPoint(e)},t.prototype._initCartesian=function(e,r,n){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},u={x:0,y:0};if(r.eachComponent("xAxis",l("x"),this),r.eachComponent("yAxis",l("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,K(s.x,function(c,h){K(s.y,function(f,v){var p="x"+h+"y"+v,g=new dJ(p);g.master=i,g.model=e,i._coordsMap[p]=g,i._coordsList.push(g),g.addAxis(c),g.addAxis(f)})});function l(c){return function(h,f){if(ty(h,e)){var v=h.get("position");c==="x"?v!=="top"&&v!=="bottom"&&(v=o.bottom?"top":"bottom"):v!=="left"&&v!=="right"&&(v=o.left?"right":"left"),o[v]=!0;var p=new pJ(c,hL(h),[0,0],h.get("type"),v),g=p.type==="category";p.onBand=g&&h.get("boundaryGap"),p.inverse=h.get("inverse"),h.axis=p,p.model=h,p.grid=a,p.index=f,a._axesList.push(p),s[c][f]=p,u[c]++}}}},t.prototype._updateScale=function(e,r){K(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(RT(i)){var a=OT(i),o=a.xAxisModel,s=a.yAxisModel;if(!ty(o,r)||!ty(s,r))return;var u=this.getCartesian(o.componentIndex,s.componentIndex),l=i.getData(),c=u.getAxis("x"),h=u.getAxis("y");n(l,c),n(l,h)}},this);function n(i,a){K(hp(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},t.prototype.getTooltipAxes=function(e){var r=[],n=[];return K(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(a);Lt(r,a)<0&&r.push(a),Lt(n,o)<0&&n.push(o)}),{baseAxes:r,otherAxes:n}},t.create=function(e,r){var n=[];return e.eachComponent("grid",function(i,a){var o=new t(i,e,r);o.name="grid_"+a,o.resize(i,r,!0),i.coordinateSystem=o,n.push(o)}),e.eachSeries(function(i){if(RT(i)){var a=OT(i),o=a.xAxisModel,s=a.yAxisModel,u=o.getCoordSysModel(),l=u.coordinateSystem;i.coordinateSystem=l.getCartesian(o.componentIndex,s.componentIndex)}}),n},t.dimensions=V0,t}();function ty(t,e){return t.getCoordSysModel()===e}function IT(t,e,r,n){r.getAxesOnZeroOf=function(){return a?[a]:[]};var i=t[e],a,o=r.model,s=o.get(["axisLine","onZero"]),u=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(u!=null)BT(i[u])&&(a=i[u]);else for(var l in i)if(i.hasOwnProperty(l)&&BT(i[l])&&!n[c(i[l])]){a=i[l];break}a&&(n[c(a)]=!0);function c(h){return h.dim+"_"+h.index}}function BT(t){return t&&t.type!=="category"&&t.type!=="time"&&CK(t)}function yJ(t,e){var r=t.getExtent(),n=r[0]+r[1];t.toGlobalCoord=t.dim==="x"?function(i){return i+e}:function(i){return n-i+e},t.toLocalCoord=t.dim==="x"?function(i){return i-e}:function(i){return n-i+e}}const _J=mJ;var Uo=Math.PI,uu=function(){function t(e,r){this.group=new Er,this.opt=r,this.axisModel=e,ct(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Er({x:r.position[0],y:r.position[1],rotation:r.rotation});n.updateTransform(),this._transformGroup=n}return t.prototype.hasBuilder=function(e){return!!NT[e]},t.prototype.add=function(e){NT[e](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(e,r,n){var i=dE(r-e),a,o;return Zv(i)?(o=n>0?"top":"bottom",a="center"):Zv(i-Uo)?(o=n>0?"bottom":"top",a="center"):(o="middle",i>0&&i<Uo?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},t.makeAxisEventDataBase=function(e){var r={componentType:e.mainType,componentIndex:e.componentIndex};return r[e.mainType+"Index"]=e.componentIndex,r},t.isLabelSilent=function(e){var r=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||r&&r.show)},t}(),NT={axisLine:function(t,e,r,n){var i=e.get(["axisLine","show"]);if(i==="auto"&&t.handleAutoShown&&(i=t.handleAutoShown("axisLine")),!!i){var a=e.axis.getExtent(),o=n.transform,s=[a[0],0],u=[a[1],0],l=s[0]>u[0];o&&(gi(s,s,o),gi(u,u,o));var c=Oe({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new Bi({shape:{x1:s[0],y1:s[1],x2:u[0],y2:u[1]},style:c,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});sh(h.shape,h.style.lineWidth),h.anid="line",r.add(h);var f=e.get(["axisLine","symbol"]);if(f!=null){var v=e.get(["axisLine","symbolSize"]);et(f)&&(f=[f,f]),(et(v)||Wt(v))&&(v=[v,v]);var p=xD(e.get(["axisLine","symbolOffset"])||0,v),g=v[0],m=v[1];K([{rotate:t.rotation+Math.PI/2,offset:p[0],r:0},{rotate:t.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-u[0])*(s[0]-u[0])+(s[1]-u[1])*(s[1]-u[1]))}],function(_,b){if(f[b]!=="none"&&f[b]!=null){var w=tc(f[b],-g/2,-m/2,g,m,c.stroke,!0),T=_.r+_.offset,k=l?u:s;w.attr({rotation:_.rotate,x:k[0]+T*Math.cos(t.rotation),y:k[1]-T*Math.sin(t.rotation),silent:!0,z2:11}),r.add(w)}})}}},axisTickLabel:function(t,e,r,n){var i=SJ(r,n,e,t),a=TJ(r,n,e,t);if(xJ(e,a,i),wJ(r,n,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var o=CL(qe(a,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));PL(o)}},axisName:function(t,e,r,n){var i=rh(t.axisName,e.get("name"));if(i){var a=e.get("nameLocation"),o=t.nameDirection,s=e.getModel("nameTextStyle"),u=e.get("nameGap")||0,l=e.axis.getExtent(),c=l[0]>l[1]?-1:1,h=[a==="start"?l[0]-c*u:a==="end"?l[1]+c*u:(l[0]+l[1])/2,$T(a)?t.labelOffset+o*u:0],f,v=e.get("nameRotate");v!=null&&(v=v*Uo/180);var p;$T(a)?f=uu.innerTextLayout(t.rotation,v??t.rotation,o):(f=bJ(t.rotation,a,v||0,l),p=t.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(f.rotation)),!isFinite(p)&&(p=null)));var g=s.getFont(),m=e.get("nameTruncate",!0)||{},_=m.ellipsis,b=rh(t.nameTruncateMaxWidth,m.maxWidth,p),w=new Fr({x:h[0],y:h[1],rotation:f.rotation,silent:uu.isLabelSilent(e),style:no(s,{text:i,font:g,overflow:"truncate",width:b,ellipsis:_,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||f.textAlign,verticalAlign:s.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(Zp({el:w,componentModel:e,itemName:i}),w.__fullText=i,w.anid="name",e.get("triggerEvent")){var T=uu.makeAxisEventDataBase(e);T.targetType="axisName",T.name=i,Ut(w).eventData=T}n.add(w),w.updateTransform(),r.add(w),w.decomposeTransform()}}};function bJ(t,e,r,n){var i=dE(r-t),a,o,s=n[0]>n[1],u=e==="start"&&!s||e!=="start"&&s;return Zv(i-Uo/2)?(o=u?"bottom":"top",a="center"):Zv(i-Uo*1.5)?(o=u?"top":"bottom",a="center"):(o="middle",i<Uo*1.5&&i>Uo/2?a=u?"left":"right":a=u?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}function xJ(t,e,r){if(!dL(t.axis)){var n=t.get(["axisLabel","showMinLabel"]),i=t.get(["axisLabel","showMaxLabel"]);e=e||[],r=r||[];var a=e[0],o=e[1],s=e[e.length-1],u=e[e.length-2],l=r[0],c=r[1],h=r[r.length-1],f=r[r.length-2];n===!1?(ri(a),ri(l)):FT(a,o)&&(n?(ri(o),ri(c)):(ri(a),ri(l))),i===!1?(ri(s),ri(h)):FT(u,s)&&(i?(ri(u),ri(f)):(ri(s),ri(h)))}}function ri(t){t&&(t.ignore=!0)}function FT(t,e){var r=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(!(!r||!n)){var i=r_([]);return Np(i,i,-t.rotation),r.applyTransform(Dl([],i,t.getLocalTransform())),n.applyTransform(Dl([],i,e.getLocalTransform())),r.intersect(n)}}function $T(t){return t==="middle"||t==="center"}function GL(t,e,r,n,i){for(var a=[],o=[],s=[],u=0;u<t.length;u++){var l=t[u].coord;o[0]=l,o[1]=0,s[0]=l,s[1]=r,e&&(gi(o,o,e),gi(s,s,e));var c=new Bi({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});sh(c.shape,c.style.lineWidth),c.anid=i+"_"+t[u].tickValue,a.push(c)}return a}function SJ(t,e,r,n){var i=r.axis,a=r.getModel("axisTick"),o=a.get("show");if(o==="auto"&&n.handleAutoShown&&(o=n.handleAutoShown("axisTick")),!(!o||i.scale.isBlank())){for(var s=a.getModel("lineStyle"),u=n.tickDirection*a.get("length"),l=i.getTicksCoords(),c=GL(l,e.transform,u,ct(s.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<c.length;h++)t.add(c[h]);return c}}function wJ(t,e,r,n){var i=r.axis,a=r.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(o.length)for(var s=a.getModel("lineStyle"),u=n*a.get("length"),l=ct(s.getLineStyle(),ct(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var h=GL(o[c],e.transform,u,l,"minorticks_"+c),f=0;f<h.length;f++)t.add(h[f])}}function TJ(t,e,r,n){var i=r.axis,a=rh(n.axisLabelShow,r.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var o=r.getModel("axisLabel"),s=o.get("margin"),u=i.getViewLabels(),l=(rh(n.labelRotate,o.get("rotate"))||0)*Uo/180,c=uu.innerTextLayout(n.rotation,l,n.labelDirection),h=r.getCategories&&r.getCategories(!0),f=[],v=uu.isLabelSilent(r),p=r.get("triggerEvent");return K(u,function(g,m){var _=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,b=g.formattedLabel,w=g.rawLabel,T=o;if(h&&h[_]){var k=h[_];it(k)&&k.textStyle&&(T=new Vr(k.textStyle,o,r.ecModel))}var A=T.getTextColor()||r.get(["axisLine","lineStyle","color"]),M=i.dataToCoord(_),O=new Fr({x:M,y:n.labelOffset+n.labelDirection*s,rotation:c.rotation,silent:v,z2:10+(g.level||0),style:no(T,{text:b,align:T.getShallow("align",!0)||c.textAlign,verticalAlign:T.getShallow("verticalAlign",!0)||T.getShallow("baseline",!0)||c.textVerticalAlign,fill:ht(A)?A(i.type==="category"?w:i.type==="value"?_+"":_,m):A})});if(O.anid="label_"+_,p){var F=uu.makeAxisEventDataBase(r);F.targetType="axisLabel",F.value=w,F.tickIndex=m,i.type==="category"&&(F.dataIndex=_),Ut(O).eventData=F}e.add(O),O.updateTransform(),f.push(O),t.add(O),O.decomposeTransform()}),f}}const rc=uu;function CJ(t,e){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return AJ(r,t,e),r.seriesInvolved&&PJ(r,t),r}function AJ(t,e,r){var n=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];K(r.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var u=mh(s.model),l=t.coordSysAxesInfo[u]={};t.coordSysMap[u]=s;var c=s.model,h=c.getModel("tooltip",n);if(K(s.getAxes(),zt(g,!1,null)),s.getTooltipAxes&&n&&h.get("show")){var f=h.get("trigger")==="axis",v=h.get(["axisPointer","type"])==="cross",p=s.getTooltipAxes(h.get(["axisPointer","axis"]));(f||v)&&K(p.baseAxes,zt(g,v?"cross":!0,f)),v&&K(p.otherAxes,zt(g,"cross",!1))}function g(m,_,b){var w=b.model.getModel("axisPointer",i),T=w.get("show");if(!(!T||T==="auto"&&!m&&!j0(w))){_==null&&(_=w.get("triggerTooltip")),w=m?kJ(b,h,i,e,m,_):w;var k=w.get("snap"),A=mh(b.model),M=_||k||b.type==="category",O=t.axesInfo[A]={key:A,axis:b,coordSys:s,axisPointerModel:w,triggerTooltip:_,involveSeries:M,snap:k,useHandle:j0(w),seriesModels:[],linkGroup:null};l[A]=O,t.seriesInvolved=t.seriesInvolved||M;var F=EJ(a,b);if(F!=null){var $=o[F]||(o[F]={axesInfo:{}});$.axesInfo[A]=O,$.mapper=a[F].mapper,O.linkGroup=$}}}})}function kJ(t,e,r,n,i,a){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],u={};K(s,function(f){u[f]=_t(o.get(f))}),u.snap=t.type!=="category"&&!!a,o.get("type")==="cross"&&(u.type="line");var l=u.label||(u.label={});if(l.show==null&&(l.show=!1),i==="cross"){var c=o.get(["label","show"]);if(l.show=c??!0,!a){var h=u.lineStyle=o.get("crossStyle");h&&ct(l,h.textStyle)}}return t.model.getModel("axisPointer",new Vr(u,r,n))}function PJ(t,e){e.eachSeries(function(r){var n=r.coordinateSystem,i=r.get(["tooltip","trigger"],!0),a=r.get(["tooltip","show"],!0);!n||i==="none"||i===!1||i==="item"||a===!1||r.get(["axisPointer","show"],!0)===!1||K(t.coordSysAxesInfo[mh(n.model)],function(o){var s=o.axis;n.getAxis(s.dim)===s&&(o.seriesModels.push(r),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=r.getData().count())})})}function EJ(t,e){for(var r=e.model,n=e.dim,i=0;i<t.length;i++){var a=t[i]||{};if(ry(a[n+"AxisId"],r.id)||ry(a[n+"AxisIndex"],r.componentIndex)||ry(a[n+"AxisName"],r.name))return i}}function ry(t,e){return t==="all"||Ye(t)&&Lt(t,e)>=0||t===e}function MJ(t){var e=eb(t);if(e){var r=e.axisPointerModel,n=e.axis.scale,i=r.option,a=r.get("status"),o=r.get("value");o!=null&&(o=n.parse(o));var s=j0(r);a==null&&(i.status=s?"show":"hide");var u=n.getExtent().slice();u[0]>u[1]&&u.reverse(),(o==null||o>u[1])&&(o=u[1]),o<u[0]&&(o=u[0]),i.value=o,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function eb(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[mh(t)]}function DJ(t){var e=eb(t);return e&&e.axisPointerModel}function j0(t){return!!t.get(["handle","show"])}function mh(t){return t.type+"||"+t.id}var HT={},LJ=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i,a){this.axisPointerClass&&MJ(r),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,i,!0)},e.prototype.updateAxisPointer=function(r,n,i,a){this._doUpdateAxisPointerClass(r,i,!1)},e.prototype.remove=function(r,n){var i=this._axisPointer;i&&i.remove(n)},e.prototype.dispose=function(r,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(r,n,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var o=DJ(r);o?(this._axisPointer||(this._axisPointer=new a)).render(r,o,n,i):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},e.registerAxisPointerClass=function(r,n){HT[r]=n},e.getAxisPointerClass=function(r){return r&&HT[r]},e.type="axis",e}(Zn);const Nh=LJ;var W0=hr();function RJ(t,e,r,n){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),u=n.coordinateSystem.getRect(),l=i.getTicksCoords({tickModel:a,clamp:!0});if(l.length){var c=s.length,h=W0(t).splitAreaColors,f=ft(),v=0;if(h)for(var p=0;p<l.length;p++){var g=h.get(l[p].tickValue);if(g!=null){v=(g+(c-1)*p)%c;break}}var m=i.toGlobalCoord(l[0].coord),_=o.getAreaStyle();s=Ye(s)?s:[s];for(var p=1;p<l.length;p++){var b=i.toGlobalCoord(l[p].coord),w=void 0,T=void 0,k=void 0,A=void 0;i.isHorizontal()?(w=m,T=u.y,k=b-w,A=u.height,m=w+k):(w=u.x,T=m,k=u.width,A=b-T,m=T+A);var M=l[p-1].tickValue;M!=null&&f.set(M,v),e.add(new Sr({anid:M!=null?"area_"+M:null,shape:{x:w,y:T,width:k,height:A},style:ct({fill:s[v]},_),autoBatch:!0,silent:!0})),v=(v+1)%c}W0(t).splitAreaColors=f}}}function OJ(t){W0(t).splitAreaColors=null}var IJ=["axisLine","axisTickLabel","axisName"],BJ=["splitArea","splitLine","minorSplitLine"],jL=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="CartesianAxisPointer",r}return e.prototype.render=function(r,n,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Er,this.group.add(this._axisGroup),!!r.get("show")){var s=r.getCoordSysModel(),u=G0(s,r),l=new rc(r,Oe({handleAutoShown:function(h){for(var f=s.coordinateSystem.getCartesians(),v=0;v<f.length;v++)if(H0(f[v].getOtherAxis(r.axis).scale))return!0;return!1}},u));K(IJ,l.add,l),this._axisGroup.add(l.getGroup()),K(BJ,function(h){r.get([h,"show"])&&NJ[h](this,this._axisGroup,r,s)},this);var c=a&&a.type==="changeAxisOrder"&&a.isInitSort;c||x_(o,this._axisGroup,r),t.prototype.render.call(this,r,n,i,a)}},e.prototype.remove=function(){OJ(this)},e.type="cartesianAxis",e}(Nh),NJ={splitLine:function(t,e,r,n){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=Ye(s)?s:[s];for(var u=n.coordinateSystem.getRect(),l=i.isHorizontal(),c=0,h=i.getTicksCoords({tickModel:a}),f=[],v=[],p=o.getLineStyle(),g=0;g<h.length;g++){var m=i.toGlobalCoord(h[g].coord);l?(f[0]=m,f[1]=u.y,v[0]=m,v[1]=u.y+u.height):(f[0]=u.x,f[1]=m,v[0]=u.x+u.width,v[1]=m);var _=c++%s.length,b=h[g].tickValue,w=new Bi({anid:b!=null?"line_"+h[g].tickValue:null,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:v[0],y2:v[1]},style:ct({stroke:s[_]},p),silent:!0});sh(w.shape,p.lineWidth),e.add(w)}}},minorSplitLine:function(t,e,r,n){var i=r.axis,a=r.getModel("minorSplitLine"),o=a.getModel("lineStyle"),s=n.coordinateSystem.getRect(),u=i.isHorizontal(),l=i.getMinorTicksCoords();if(l.length)for(var c=[],h=[],f=o.getLineStyle(),v=0;v<l.length;v++)for(var p=0;p<l[v].length;p++){var g=i.toGlobalCoord(l[v][p].coord);u?(c[0]=g,c[1]=s.y,h[0]=g,h[1]=s.y+s.height):(c[0]=s.x,c[1]=g,h[0]=s.x+s.width,h[1]=g);var m=new Bi({anid:"minor_line_"+l[v][p].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:f,silent:!0});sh(m.shape,f.lineWidth),e.add(m)}},splitArea:function(t,e,r,n){RJ(t,e,r,n)}},WL=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="xAxis",e}(jL),FJ=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=WL.type,r}return e.type="yAxis",e}(jL),$J=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="grid",r}return e.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new Sr({shape:r.coordinateSystem.getRect(),style:ct({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(Zn),zT={offset:0};function HJ(t){t.registerComponentView($J),t.registerComponentModel(aJ),t.registerCoordinateSystem("cartesian2d",_J),pp(t,"x",U0,zT),pp(t,"y",U0,zT),t.registerComponentView(WL),t.registerComponentView(FJ),t.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var UT="\0_ec_interaction_mutex";function zJ(t,e,r){var n=YL(t);n[e]=r}function UJ(t,e,r){var n=YL(t),i=n[e];i===r&&(n[e]=null)}function YL(t){return t[UT]||(t[UT]={})}ka({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},xn);var VJ={axisPointer:1,tooltip:1,brush:1};function GJ(t,e,r){var n=e.getComponentByElement(t.topTarget),i=n&&n.coordinateSystem;return n&&n!==r&&!VJ.hasOwnProperty(n.mainType)&&i&&i.model!==r}function XL(t,e,r,n,i,a){t=t||0;var o=r[1]-r[0];if(i!=null&&(i=al(i,[0,o])),a!=null&&(a=Math.max(a,i??0)),n==="all"){var s=Math.abs(e[1]-e[0]);s=al(s,[0,o]),i=a=al(s,[i,a]),n=0}e[0]=al(e[0],r),e[1]=al(e[1],r);var u=ny(e,n);e[n]+=t;var l=i||0,c=r.slice();u.sign<0?c[0]+=l:c[1]-=l,e[n]=al(e[n],c);var h;return h=ny(e,n),i!=null&&(h.sign!==u.sign||h.span<i)&&(e[1-n]=e[n]+u.sign*i),h=ny(e,n),a!=null&&h.span>a&&(e[1-n]=e[n]+h.sign*a),e}function ny(t,e){var r=t[e]-t[1-e];return{span:Math.abs(r),sign:r>0?-1:r<0?1:e?-1:1}}function al(t,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,t))}var mu=!0,yh=Math.min,nc=Math.max,jJ=Math.pow,WJ=1e4,YJ=6,XJ=6,VT="globalPan",qJ={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},ZJ={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},GT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},KJ=0,QJ=function(t){De(e,t);function e(r){var n=t.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=r,n.group=new Er,n._uid="brushController_"+KJ++,K(aee,function(i,a){this._handlers[a]=rr(i,this)},n),n}return e.prototype.enableBrush=function(r){return this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},e.prototype._doEnableBrush=function(r){var n=this._zr;this._enableGlobalPan||zJ(n,VT,this._uid),K(this._handlers,function(i,a){n.on(a,i)}),this._brushType=r.brushType,this._brushOption=Ct(_t(GT),r,!0)},e.prototype._doDisableBrush=function(){var r=this._zr;UJ(r,VT,this._uid),K(this._handlers,function(n,i){r.off(i,n)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(r){if(r&&r.length){var n=this._panels={};K(r,function(i){n[i.panelId]=_t(i)})}else this._panels=null;return this},e.prototype.mount=function(r){r=r||{},this._enableGlobalPan=r.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=n.getLocalTransform(),this},e.prototype.updateCovers=function(r){r=qe(r,function(f){return Ct(_t(GT),f,!0)});var n="\0-brush-index-",i=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new ph(i,r,l,u).add(c).update(c).remove(h).execute(),this;function u(f,v){return(f.id!=null?f.id:n+v)+"-"+f.brushType}function l(f,v){return u(f.__brushOption,v)}function c(f,v){var p=r[f];if(v!=null&&i[v]===s)a[f]=i[v];else{var g=a[f]=v!=null?(i[v].__brushOption=p,i[v]):ZL(o,qL(o,p));tb(o,g)}}function h(f){i[f]!==s&&o.group.remove(i[f])}},e.prototype.unmount=function(){return this.enableBrush(!1),Y0(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(ji);function qL(t,e){var r=dg[e.brushType].createCover(t,e);return r.__brushOption=e,QL(r,e),t.group.add(r),r}function ZL(t,e){var r=rb(e);return r.endCreating&&(r.endCreating(t,e),QL(e,e.__brushOption)),e}function KL(t,e){var r=e.__brushOption;rb(e).updateCoverShape(t,e,r.range,r)}function QL(t,e){var r=e.z;r==null&&(r=WJ),t.traverse(function(n){n.z=r,n.z2=r})}function tb(t,e){rb(e).updateCommon(t,e),KL(t,e)}function rb(t){return dg[t.__brushOption.brushType]}function nb(t,e,r){var n=t._panels;if(!n)return mu;var i,a=t._transform;return K(n,function(o){o.isTargetByCursor(e,r,a)&&(i=o)}),i}function JL(t,e){var r=t._panels;if(!r)return mu;var n=e.__brushOption.panelId;return n!=null?r[n]:mu}function Y0(t){var e=t._covers,r=e.length;return K(e,function(n){t.group.remove(n)},t),e.length=0,!!r}function yu(t,e){var r=qe(t._covers,function(n){var i=n.__brushOption,a=_t(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});t.trigger("brush",{areas:r,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function JJ(t){var e=t._track;if(!e.length)return!1;var r=e[e.length-1],n=e[0],i=r[0]-n[0],a=r[1]-n[1],o=jJ(i*i+a*a,.5);return o>YJ}function eR(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function tR(t,e,r,n){var i=new Er;return i.add(new Sr({name:"main",style:ib(r),silent:!0,draggable:!0,cursor:"move",drift:zt(jT,t,e,i,["n","s","w","e"]),ondragend:zt(yu,e,{isEnd:!0})})),K(n,function(a){i.add(new Sr({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:zt(jT,t,e,i,a),ondragend:zt(yu,e,{isEnd:!0})}))}),i}function rR(t,e,r,n){var i=n.brushStyle.lineWidth||0,a=nc(i,XJ),o=r[0][0],s=r[1][0],u=o-i/2,l=s-i/2,c=r[0][1],h=r[1][1],f=c-a+i/2,v=h-a+i/2,p=c-o,g=h-s,m=p+i,_=g+i;ja(t,e,"main",o,s,p,g),n.transformable&&(ja(t,e,"w",u,l,a,_),ja(t,e,"e",f,l,a,_),ja(t,e,"n",u,l,m,a),ja(t,e,"s",u,v,m,a),ja(t,e,"nw",u,l,a,a),ja(t,e,"ne",f,l,a,a),ja(t,e,"sw",u,v,a,a),ja(t,e,"se",f,v,a,a))}function X0(t,e){var r=e.__brushOption,n=r.transformable,i=e.childAt(0);i.useStyle(ib(r)),i.attr({silent:!n,cursor:n?"move":"default"}),K([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=e.childOfName(a.join("")),s=a.length===1?q0(t,a[0]):tee(t,a);o&&o.attr({silent:!n,invisible:!n,cursor:n?ZJ[s]+"-resize":null})})}function ja(t,e,r,n,i,a,o){var s=e.childOfName(r);s&&s.setShape(nee(ab(t,e,[[n,i],[n+a,i+o]])))}function ib(t){return ct({strokeNoScale:!0},t.brushStyle)}function nR(t,e,r,n){var i=[yh(t,r),yh(e,n)],a=[nc(t,r),nc(e,n)];return[[i[0],a[0]],[i[1],a[1]]]}function eee(t){return b_(t.group)}function q0(t,e){var r={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=gM(r[e],eee(t));return n[i]}function tee(t,e){var r=[q0(t,e[0]),q0(t,e[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function jT(t,e,r,n,i,a){var o=r.__brushOption,s=t.toRectRange(o.range),u=iR(e,i,a);K(n,function(l){var c=qJ[l];s[c[0]][c[1]]+=u[c[0]]}),o.range=t.fromRectRange(nR(s[0][0],s[1][0],s[0][1],s[1][1])),tb(e,r),yu(e,{isEnd:!1})}function ree(t,e,r,n){var i=e.__brushOption.range,a=iR(t,r,n);K(i,function(o){o[0]+=a[0],o[1]+=a[1]}),tb(t,e),yu(t,{isEnd:!1})}function iR(t,e,r){var n=t.group,i=n.transformCoordToLocal(e,r),a=n.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function ab(t,e,r){var n=JL(t,e);return n&&n!==mu?n.clipPath(r,t._transform):_t(r)}function nee(t){var e=yh(t[0][0],t[1][0]),r=yh(t[0][1],t[1][1]),n=nc(t[0][0],t[1][0]),i=nc(t[0][1],t[1][1]);return{x:e,y:r,width:n-e,height:i-r}}function iee(t,e,r){if(!(!t._brushType||oee(t,e.offsetX,e.offsetY))){var n=t._zr,i=t._covers,a=nb(t,e,r);if(!t._dragging)for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(a&&(a===mu||s.panelId===a.panelId)&&dg[s.brushType].contain(i[o],r[0],r[1]))return}a&&n.setCursorStyle("crosshair")}}function Z0(t){var e=t.event;e.preventDefault&&e.preventDefault()}function K0(t,e,r){return t.childOfName("main").contain(e,r)}function aR(t,e,r,n){var i=t._creatingCover,a=t._creatingPanel,o=t._brushOption,s;if(t._track.push(r.slice()),JJ(t)||i){if(a&&!i){o.brushMode==="single"&&Y0(t);var u=_t(o);u.brushType=WT(u.brushType,a),u.panelId=a===mu?null:a.panelId,i=t._creatingCover=qL(t,u),t._covers.push(i)}if(i){var l=dg[WT(t._brushType,a)],c=i.__brushOption;c.range=l.getCreatingRange(ab(t,i,t._track)),n&&(ZL(t,i),l.updateCommon(t,i)),KL(t,i),s={isEnd:n}}}else n&&o.brushMode==="single"&&o.removeOnClick&&nb(t,e,r)&&Y0(t)&&(s={isEnd:n,removeOnClick:!0});return s}function WT(t,e){return t==="auto"?e.defaultBrushType:t}var aee={mousedown:function(t){if(this._dragging)YT(this,t);else if(!t.target||!t.target.draggable){Z0(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var r=this._creatingPanel=nb(this,t,e);r&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,r=t.offsetY,n=this.group.transformCoordToLocal(e,r);if(iee(this,t,n),this._dragging){Z0(t);var i=aR(this,t,n,!1);i&&yu(this,i)}},mouseup:function(t){YT(this,t)}};function YT(t,e){if(t._dragging){Z0(e);var r=e.offsetX,n=e.offsetY,i=t.group.transformCoordToLocal(r,n),a=aR(t,e,i,!0);t._dragging=!1,t._track=[],t._creatingCover=null,a&&yu(t,a)}}function oee(t,e,r){var n=t._zr;return e<0||e>n.getWidth()||r<0||r>n.getHeight()}var dg={lineX:XT(0),lineY:XT(1),rect:{createCover:function(t,e){function r(n){return n}return tR({toRectRange:r,fromRectRange:r},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=eR(t);return nR(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,r,n){rR(t,e,r,n)},updateCommon:X0,contain:K0},polygon:{createCover:function(t,e){var r=new Er;return r.add(new Dh({name:"main",style:ib(e),silent:!0})),r},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Wp({name:"main",draggable:!0,drift:zt(ree,t,e),ondragend:zt(yu,t,{isEnd:!0})}))},updateCoverShape:function(t,e,r,n){e.childAt(0).setShape({points:ab(t,e,r)})},updateCommon:X0,contain:K0}};function XT(t){return{createCover:function(e,r){return tR({toRectRange:function(n){var i=[n,[0,100]];return t&&i.reverse(),i},fromRectRange:function(n){return n[t]}},e,r,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var r=eR(e),n=yh(r[0][t],r[1][t]),i=nc(r[0][t],r[1][t]);return[n,i]},updateCoverShape:function(e,r,n,i){var a,o=JL(e,r);if(o!==mu&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(t);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-t]]}var u=[n,a];t&&u.reverse(),rR(e,r,u,i)},updateCommon:X0,contain:K0}}const see=QJ;function uee(t){return t=ob(t),function(e){return mM(e,t)}}function lee(t,e){return t=ob(t),function(r){var n=e??r,i=n?t.width:t.height,a=n?t.x:t.y;return[a,a+(i||0)]}}function cee(t,e,r){var n=ob(t);return function(i,a){return n.contain(a[0],a[1])&&!GJ(i,e,r)}}function ob(t){return Nt.create(t)}var qs=hr(),qT=_t,iy=rr,fee=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(e,r,n,i){var a=r.get("value"),o=r.get("status");if(this._axisModel=e,this._axisPointerModel=r,this._api=n,!(!i&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var s=this._group,u=this._handle;if(!o||o==="hide"){s&&s.hide(),u&&u.hide();return}s&&s.show(),u&&u.show();var l={};this.makeElOption(l,a,e,r,n);var c=l.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var h=this._moveAnimation=this.determineAnimation(e,r);if(!s)s=this._group=new Er,this.createPointerEl(s,l,e,r),this.createLabelEl(s,l,e,r),n.getZr().add(s);else{var f=zt(ZT,r,h);this.updatePointerEl(s,l,f),this.updateLabelEl(s,l,f,r)}QT(s,r,!0),this._renderHandle(a)}},t.prototype.remove=function(e){this.clear(e)},t.prototype.dispose=function(e){this.clear(e)},t.prototype.determineAnimation=function(e,r){var n=r.get("animation"),i=e.axis,a=i.type==="category",o=r.get("snap");if(!o&&!a)return!1;if(n==="auto"||n==null){var s=this.animationThreshold;if(a&&i.getBandWidth()>s)return!0;if(o){var u=eb(e).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/u>s}return!1}return n===!0},t.prototype.makeElOption=function(e,r,n,i,a){},t.prototype.createPointerEl=function(e,r,n,i){var a=r.pointer;if(a){var o=qs(e).pointerEl=new QW[a.type](qT(r.pointer));e.add(o)}},t.prototype.createLabelEl=function(e,r,n,i){if(r.label){var a=qs(e).labelEl=new Fr(qT(r.label));e.add(a),KT(a,i)}},t.prototype.updatePointerEl=function(e,r,n){var i=qs(e).pointerEl;i&&r.pointer&&(i.setStyle(r.pointer.style),n(i,{shape:r.pointer.shape}))},t.prototype.updateLabelEl=function(e,r,n,i){var a=qs(e).labelEl;a&&(a.setStyle(r.label.style),n(a,{x:r.label.x,y:r.label.y}),KT(a,i))},t.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=r.getModel("handle"),o=r.get("status");if(!a.get("show")||!o||o==="hide"){i&&n.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=qp(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(l){UP(l.event)},onmousedown:iy(this._onHandleDragMove,this,0,0),drift:iy(this._onHandleDragMove,this),ondragend:iy(this._onHandleDragEnd,this)}),n.add(i)),QT(i,r,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=a.get("size");Ye(u)||(u=[u,u]),i.scaleX=u[0]/2,i.scaleY=u[1]/2,dD(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},t.prototype._moveHandleToValue=function(e,r){ZT(this._axisPointerModel,!r&&this._moveAnimation,this._handle,ay(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(e,r){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(ay(n),[e,r],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(ay(i)),qs(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var r=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var r=e.getZr(),n=this._group,i=this._handle;r&&n&&(this._lastGraphicKey=null,n&&r.remove(n),i&&r.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),M0(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(e,r,n){return n=n||0,{x:e[n],y:e[1-n],width:r[n],height:r[1-n]}},t}();function ZT(t,e,r,n){oR(qs(r).lastProp,n)||(qs(r).lastProp=n,e?jr(r,n,t):(r.stopAnimation(),r.attr(n)))}function oR(t,e){if(it(t)&&it(e)){var r=!0;return K(e,function(n,i){r=r&&oR(t[i],n)}),!!r}else return t===e}function KT(t,e){t[e.get(["label","show"])?"show":"hide"]()}function ay(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function QT(t,e,r){var n=e.get("z"),i=e.get("zlevel");t&&t.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),i!=null&&(a.zlevel=i),a.silent=r)})}const sR=fee;function uR(t){var e=t.get("type"),r=t.getModel(e+"Style"),n;return e==="line"?(n=r.getLineStyle(),n.fill=null):e==="shadow"&&(n=r.getAreaStyle(),n.stroke=null),n}function lR(t,e,r,n,i){var a=r.get("value"),o=cR(a,e.axis,e.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),s=r.getModel("label"),u=ig(s.get("padding")||0),l=s.getFont(),c=Ph(o,l),h=i.position,f=c.width+u[1]+u[3],v=c.height+u[0]+u[2],p=i.align;p==="right"&&(h[0]-=f),p==="center"&&(h[0]-=f/2);var g=i.verticalAlign;g==="bottom"&&(h[1]-=v),g==="middle"&&(h[1]-=v/2),hee(h,f,v,n);var m=s.get("backgroundColor");(!m||m==="auto")&&(m=e.get(["axisLine","lineStyle","color"])),t.label={x:h[0],y:h[1],style:no(s,{text:o,font:l,fill:s.getTextColor(),padding:u,backgroundColor:m}),z2:10}}function hee(t,e,r,n){var i=n.getWidth(),a=n.getHeight();t[0]=Math.min(t[0]+e,i)-e,t[1]=Math.min(t[1]+r,a)-r,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function cR(t,e,r,n,i){t=e.scale.parse(t);var a=e.scale.getLabel({value:t},{precision:i.precision}),o=i.formatter;if(o){var s={value:X_(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};K(n,function(u){var l=r.getSeriesByIndex(u.seriesIndex),c=u.dataIndexInside,h=l&&l.getDataParams(c);h&&s.seriesData.push(h)}),et(o)?a=o.replace("{value}",a):ht(o)&&(a=o(s))}return a}function fR(t,e,r){var n=ql();return Np(n,n,r.rotation),Vv(n,n,r.position),Xp([t.dataToCoord(e),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],n)}function dee(t,e,r,n,i,a){var o=rc.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=i.get(["label","margin"]),lR(e,n,i,a,{position:fR(n.axis,t,r),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function hR(t,e,r){return r=r||0,{x1:t[r],y1:t[1-r],x2:e[r],y2:e[1-r]}}function vee(t,e,r){return r=r||0,{x:t[r],y:t[1-r],width:e[r],height:e[1-r]}}function JT(t,e,r,n,i,a){return{cx:t,cy:e,r0:r,r:n,startAngle:i,endAngle:a,clockwise:!0}}var pee=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(r,n,i,a,o){var s=i.axis,u=s.grid,l=a.get("type"),c=eC(u,s).getOtherAxis(s).getGlobalExtent(),h=s.toGlobalCoord(s.dataToCoord(n,!0));if(l&&l!=="none"){var f=uR(a),v=gee[l](s,h,c);v.style=f,r.graphicKey=v.type,r.pointer=v}var p=G0(u.model,i);dee(n,r,p,i,a,o)},e.prototype.getHandleTransform=function(r,n,i){var a=G0(n.axis.grid.model,n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=fR(n.axis,r,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(r,n,i,a){var o=i.axis,s=o.grid,u=o.getGlobalExtent(!0),l=eC(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,h=[r.x,r.y];h[c]+=n[c],h[c]=Math.min(u[1],h[c]),h[c]=Math.max(u[0],h[c]);var f=(l[1]+l[0])/2,v=[f,f];v[c]=h[c];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:h[0],y:h[1],rotation:r.rotation,cursorPoint:v,tooltipOption:p[c]}},e}(sR);function eC(t,e){var r={};return r[e.dim+"AxisIndex"]=e.index,t.getCartesian(r)}var gee={line:function(t,e,r){var n=hR([e,r[0]],[e,r[1]],tC(t));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(t,e,r){var n=Math.max(1,t.getBandWidth()),i=r[1]-r[0];return{type:"Rect",shape:vee([e-n/2,r[0]],[n,i],tC(t))}}};function tC(t){return t.dim==="x"?0:1}const mee=pee;var yee=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Kt);const _ee=yee;var Ka=hr(),bee=K;function dR(t,e,r){if(!Tt.node){var n=e.getZr();Ka(n).records||(Ka(n).records={}),xee(n,e);var i=Ka(n).records[t]||(Ka(n).records[t]={});i.handler=r}}function xee(t,e){if(Ka(t).initialized)return;Ka(t).initialized=!0,r("click",zt(rC,"click")),r("mousemove",zt(rC,"mousemove")),r("globalout",wee);function r(n,i){t.on(n,function(a){var o=Tee(e);bee(Ka(t).records,function(s){s&&i(s,a,o.dispatchAction)}),See(o.pendings,e)})}}function See(t,e){var r=t.showTip.length,n=t.hideTip.length,i;r?i=t.showTip[r-1]:n&&(i=t.hideTip[n-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function wee(t,e,r){t.handler("leave",null,r)}function rC(t,e,r,n){e.handler(t,r,n)}function Tee(t){var e={showTip:[],hideTip:[]},r=function(n){var i=e[n.type];i?i.push(n):(n.dispatchAction=r,t.dispatchAction(n))};return{dispatchAction:r,pendings:e}}function Q0(t,e){if(!Tt.node){var r=e.getZr(),n=(Ka(r).records||{})[t];n&&(Ka(r).records[t]=null)}}var Cee=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i){var a=n.getComponent("tooltip"),o=r.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";dR("axisPointer",i,function(s,u,l){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&l({type:"updateAxisPointer",currTrigger:s,x:u&&u.offsetX,y:u&&u.offsetY})})},e.prototype.remove=function(r,n){Q0("axisPointer",n)},e.prototype.dispose=function(r,n){Q0("axisPointer",n)},e.type="axisPointer",e}(Zn);const Aee=Cee;function vR(t,e){var r=[],n=t.seriesIndex,i;if(n==null||!(i=e.getSeriesByIndex(n)))return{point:[]};var a=i.getData(),o=vu(a,t);if(o==null||o<0||Ye(o))return{point:[]};var s=a.getItemGraphicEl(o),u=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(o)||[];else if(u&&u.dataToPoint)if(t.isStacked){var l=u.getBaseAxis(),c=u.getOtherAxis(l),h=c.dim,f=l.dim,v=h==="x"||h==="radius"?1:0,p=a.mapDimension(f),g=[];g[v]=a.get(p,o),g[1-v]=a.get(a.getCalculationInfo("stackResultDimension"),o),r=u.dataToPoint(g)||[]}else r=u.dataToPoint(a.getValues(qe(u.dimensions,function(_){return a.mapDimension(_)}),o))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),r=[m.x+m.width/2,m.y+m.height/2]}return{point:r,el:s}}var nC=hr();function kee(t,e,r){var n=t.currTrigger,i=[t.x,t.y],a=t,o=t.dispatchAction||rr(r.dispatchAction,r),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){Mv(i)&&(i=vR({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var u=Mv(i),l=a.axesInfo,c=s.axesInfo,h=n==="leave"||Mv(i),f={},v={},p={list:[],map:{}},g={showPointer:zt(Eee,v),showTooltip:zt(Mee,p)};K(s.coordSysMap,function(_,b){var w=u||_.containPoint(i);K(s.coordSysAxesInfo[b],function(T,k){var A=T.axis,M=Oee(l,T);if(!h&&w&&(!l||M)){var O=M&&M.value;O==null&&!u&&(O=A.pointToData(i)),O!=null&&iC(T,O,g,!1,f)}})});var m={};return K(c,function(_,b){var w=_.linkGroup;w&&!v[b]&&K(w.axesInfo,function(T,k){var A=v[k];if(T!==_&&A){var M=A.value;w.mapper&&(M=_.axis.scale.parse(w.mapper(M,aC(T),aC(_)))),m[_.key]=M}})}),K(m,function(_,b){iC(c[b],_,g,!0,f)}),Dee(v,c,f),Lee(p,i,t,o),Ree(c,o,r),f}}function iC(t,e,r,n,i){var a=t.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!t.involveSeries){r.showPointer(t,e);return}var o=Pee(e,t),s=o.payloadBatch,u=o.snapToValue;s[0]&&i.seriesIndex==null&&Oe(i,s[0]),!n&&t.snap&&a.containData(u)&&u!=null&&(e=u),r.showPointer(t,e,s),r.showTooltip(t,o,u)}}function Pee(t,e){var r=e.axis,n=r.dim,i=t,a=[],o=Number.MAX_VALUE,s=-1;return K(e.seriesModels,function(u,l){var c=u.getData().mapDimensionsAll(n),h,f;if(u.getAxisTooltipData){var v=u.getAxisTooltipData(c,t,r);f=v.dataIndices,h=v.nestestValue}else{if(f=u.getData().indicesOfNearest(c[0],t,r.type==="category"?.5:null),!f.length)return;h=u.getData().get(c[0],f[0])}if(!(h==null||!isFinite(h))){var p=t-h,g=Math.abs(p);g<=o&&((g<o||p>=0&&s<0)&&(o=g,s=p,i=h,a.length=0),K(f,function(m){a.push({seriesIndex:u.seriesIndex,dataIndexInside:m,dataIndex:u.getData().getRawIndex(m)})}))}}),{payloadBatch:a,snapToValue:i}}function Eee(t,e,r,n){t[e.key]={value:r,payloadBatch:n}}function Mee(t,e,r,n){var i=r.payloadBatch,a=e.axis,o=a.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var u=e.coordSys.model,l=mh(u),c=t.map[l];c||(c=t.map[l]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function Dee(t,e,r){var n=r.axesInfo=[];K(e,function(i,a){var o=i.axisPointerModel.option,s=t[a];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function Lee(t,e,r,n){if(Mv(e)||!t.list.length){n({type:"hideTip"});return}var i=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:t.list})}function Ree(t,e,r){var n=r.getZr(),i="axisPointerLastHighlights",a=nC(n)[i]||{},o=nC(n)[i]={};K(t,function(l,c){var h=l.axisPointerModel.option;h.status==="show"&&K(h.seriesDataIndices,function(f){var v=f.seriesIndex+" | "+f.dataIndex;o[v]=f})});var s=[],u=[];K(a,function(l,c){!o[c]&&u.push(l)}),K(o,function(l,c){!a[c]&&s.push(l)}),u.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:u}),s.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function Oee(t,e){for(var r=0;r<(t||[]).length;r++){var n=t[r];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function aC(t){var e=t.axis.model,r={},n=r.axisDim=t.axis.dim;return r.axisIndex=r[n+"AxisIndex"]=e.componentIndex,r.axisName=r[n+"AxisName"]=e.name,r.axisId=r[n+"AxisId"]=e.id,r}function Mv(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function sb(t){Nh.registerAxisPointerClass("CartesianAxisPointer",mee),t.registerComponentModel(_ee),t.registerComponentView(Aee),t.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var r=e.axisPointer.link;r&&!Ye(r)&&(e.axisPointer.link=[r])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(e,r){e.getComponent("axisPointer").coordSysAxesInfo=CJ(e,r)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},kee)}function Xie(t){io(HJ),io(sb)}var Iee=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(r,n,i,a,o){var s=i.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var u=s.polar,l=u.getOtherAxis(s),c=l.getExtent(),h=s.dataToCoord(n),f=a.get("type");if(f&&f!=="none"){var v=uR(a),p=Nee[f](s,u,h,c);p.style=v,r.graphicKey=p.type,r.pointer=p}var g=a.get(["label","margin"]),m=Bee(n,i,a,u,g);lR(r,i,a,o,m)},e}(sR);function Bee(t,e,r,n,i){var a=e.axis,o=a.dataToCoord(t),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var u=n.getRadiusAxis().getExtent(),l,c,h;if(a.dim==="radius"){var f=ql();Np(f,f,s),Vv(f,f,[n.cx,n.cy]),l=Xp([o,-i],f);var v=e.getModel("axisLabel").get("rotate")||0,p=rc.innerTextLayout(s,v*Math.PI/180,-1);c=p.textAlign,h=p.textVerticalAlign}else{var g=u[1];l=n.coordToPoint([g+i,o]);var m=n.cx,_=n.cy;c=Math.abs(l[0]-m)/g<.3?"center":l[0]>m?"left":"right",h=Math.abs(l[1]-_)/g<.3?"middle":l[1]>_?"top":"bottom"}return{position:l,align:c,verticalAlign:h}}var Nee={line:function(t,e,r,n){return t.dim==="angle"?{type:"Line",shape:hR(e.coordToPoint([n[0],r]),e.coordToPoint([n[1],r]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r}}},shadow:function(t,e,r,n){var i=Math.max(1,t.getBandWidth()),a=Math.PI/180;return t.dim==="angle"?{type:"Sector",shape:JT(e.cx,e.cy,n[0],n[1],(-r-i/2)*a,(-r+i/2)*a)}:{type:"Sector",shape:JT(e.cx,e.cy,r-i/2,r+i/2,0,Math.PI*2)}}};const Fee=Iee;var $ee=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.findAxisModel=function(r){var n,i=this.ecModel;return i.eachComponent(r,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(Kt);const Hee=$ee;var ub=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Qr).models[0]},e.type="polarAxis",e}(Kt);Gi(ub,vL);var zee=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="angleAxis",e}(ub),Uee=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="radiusAxis",e}(ub),lb=function(t){De(e,t);function e(r,n){return t.call(this,"radius",r,n)||this}return e.prototype.pointToData=function(r,n){return this.polar.pointToData(r,n)[this.dim==="radius"?0:1]},e}(Eu);lb.prototype.dataToRadius=Eu.prototype.dataToCoord;lb.prototype.radiusToData=Eu.prototype.coordToData;const Vee=lb;var Gee=hr(),cb=function(t){De(e,t);function e(r,n){return t.call(this,"angle",r,n||[0,360])||this}return e.prototype.pointToData=function(r,n){return this.polar.pointToData(r,n)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var r=this,n=r.getLabelModel(),i=r.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=a[0],u=r.dataToCoord(s+1)-r.dataToCoord(s),l=Math.abs(u),c=Ph(s==null?"":s+"",n.getFont(),"center","top"),h=Math.max(c.height,7),f=h/l;isNaN(f)&&(f=1/0);var v=Math.max(0,Math.floor(f)),p=Gee(r.model),g=p.lastAutoInterval,m=p.lastTickCount;return g!=null&&m!=null&&Math.abs(g-v)<=1&&Math.abs(m-o)<=1&&g>v?v=g:(p.lastTickCount=o,p.lastAutoInterval=v),v},e}(Eu);cb.prototype.dataToAngle=Eu.prototype.dataToCoord;cb.prototype.angleToData=Eu.prototype.coordToData;const jee=cb;var pR=["radius","angle"],Wee=function(){function t(e){this.dimensions=pR,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new Vee,this._angleAxis=new jee,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(e){var r=this.pointToCoord(e);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},t.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},t.prototype.getAxis=function(e){var r="_"+e+"Axis";return this[r]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(e){var r=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&r.push(n),i.scale.type===e&&r.push(i),r},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(e){var r=this._angleAxis;return e===r?this._radiusAxis:r},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(e){var r=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},t.prototype.dataToPoint=function(e,r){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],r),this._angleAxis.dataToAngle(e[1],r)])},t.prototype.pointToData=function(e,r){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],r),this._angleAxis.angleToData(n[1],r)]},t.prototype.pointToCoord=function(e){var r=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),o=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);i.inverse?o=s-360:s=o+360;var u=Math.sqrt(r*r+n*n);r/=u,n/=u;for(var l=Math.atan2(-n,r)/Math.PI*180,c=l<o?1:-1;l<o||l>s;)l+=c*360;return[u,l]},t.prototype.coordToPoint=function(e){var r=e[0],n=e[1]/180*Math.PI,i=Math.cos(n)*r+this.cx,a=-Math.sin(n)*r+this.cy;return[i,a]},t.prototype.getArea=function(){var e=this.getAngleAxis(),r=this.getRadiusAxis(),n=r.getExtent().slice();n[0]>n[1]&&n.reverse();var i=e.getExtent(),a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:e.inverse,contain:function(o,s){var u=o-this.cx,l=s-this.cy,c=u*u+l*l-1e-4,h=this.r,f=this.r0;return c<=h*h&&c>=f*f}}},t.prototype.convertToPixel=function(e,r,n){var i=oC(r);return i===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,r,n){var i=oC(r);return i===this?this.pointToData(n):null},t}();function oC(t){var e=t.seriesModel,r=t.polarModel;return r&&r.coordinateSystem||e&&e.coordinateSystem}const Yee=Wee;function Xee(t,e,r){var n=e.get("center"),i=r.getWidth(),a=r.getHeight();t.cx=Ht(n[0],i),t.cy=Ht(n[1],a);var o=t.getRadiusAxis(),s=Math.min(i,a)/2,u=e.get("radius");u==null?u=[0,"100%"]:Ye(u)||(u=[0,u]);var l=[Ht(u[0],s),Ht(u[1],s)];o.inverse?o.setExtent(l[1],l[0]):o.setExtent(l[0],l[1])}function qee(t,e){var r=this,n=r.getAngleAxis(),i=r.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),t.eachSeries(function(s){if(s.coordinateSystem===r){var u=s.getData();K(hp(u,"radius"),function(l){i.scale.unionExtentFromData(u,l)}),K(hp(u,"angle"),function(l){n.scale.unionExtentFromData(u,l)})}}),fp(n.scale,n.model),fp(i.scale,i.model),n.type==="category"&&!n.onBand){var a=n.getExtent(),o=360/n.scale.count();n.inverse?a[1]+=o:a[1]-=o,n.setExtent(a[0],a[1])}}function Zee(t){return t.mainType==="angleAxis"}function sC(t,e){if(t.type=e.get("type"),t.scale=hL(e),t.onBand=e.get("boundaryGap")&&t.type==="category",t.inverse=e.get("inverse"),Zee(e)){t.inverse=t.inverse!==e.get("clockwise");var r=e.get("startAngle");t.setExtent(r,r+(t.inverse?-360:360))}e.axis=t,t.model=e}var Kee={dimensions:pR,create:function(t,e){var r=[];return t.eachComponent("polar",function(n,i){var a=new Yee(i+"");a.update=qee;var o=a.getRadiusAxis(),s=a.getAngleAxis(),u=n.findAxisModel("radiusAxis"),l=n.findAxisModel("angleAxis");sC(o,u),sC(s,l),Xee(a,n,e),r.push(a),n.coordinateSystem=a,a.model=n}),t.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var i=n.getReferringComponents("polar",Qr).models[0];n.coordinateSystem=i.coordinateSystem}}),r}};const Qee=Kee;var Jee=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Kd(t,e,r){e[1]>e[0]&&(e=e.slice().reverse());var n=t.coordToPoint([e[0],r]),i=t.coordToPoint([e[1],r]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function Qd(t){var e=t.getRadiusAxis();return e.inverse?0:1}function uC(t){var e=t[0],r=t[t.length-1];e&&r&&Math.abs(Math.abs(e.coord-r.coord)-360)<1e-4&&t.pop()}var ete=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="PolarAxisPointer",r}return e.prototype.render=function(r,n){if(this.group.removeAll(),!!r.get("show")){var i=r.axis,a=i.polar,o=a.getRadiusAxis().getExtent(),s=i.getTicksCoords(),u=i.getMinorTicksCoords(),l=qe(i.getViewLabels(),function(c){c=_t(c);var h=i.scale,f=h.type==="ordinal"?h.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(f),c});uC(l),uC(s),K(Jee,function(c){r.get([c,"show"])&&(!i.scale.isBlank()||c==="axisLine")&&tte[c](this.group,r,a,s,u,o,l)},this)}},e.type="angleAxis",e}(Nh),tte={axisLine:function(t,e,r,n,i,a){var o=e.getModel(["axisLine","lineStyle"]),s=Qd(r),u=s?0:1,l;a[u]===0?l=new Ql({shape:{cx:r.cx,cy:r.cy,r:a[s]},style:o.getLineStyle(),z2:1,silent:!0}):l=new p_({shape:{cx:r.cx,cy:r.cy,r:a[s],r0:a[u]},style:o.getLineStyle(),z2:1,silent:!0}),l.style.fill=null,t.add(l)},axisTick:function(t,e,r,n,i,a){var o=e.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),u=a[Qd(r)],l=qe(n,function(c){return new Bi({shape:Kd(r,[u,u+s],c.coord)})});t.add(Xa(l,{style:ct(o.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,r,n,i,a){if(i.length){for(var o=e.getModel("axisTick"),s=e.getModel("minorTick"),u=(o.get("inside")?-1:1)*s.get("length"),l=a[Qd(r)],c=[],h=0;h<i.length;h++)for(var f=0;f<i[h].length;f++)c.push(new Bi({shape:Kd(r,[l,l+u],i[h][f].coord)}));t.add(Xa(c,{style:ct(s.getModel("lineStyle").getLineStyle(),ct(o.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,r,n,i,a,o){var s=e.getCategories(!0),u=e.getModel("axisLabel"),l=u.get("margin"),c=e.get("triggerEvent");K(o,function(h,f){var v=u,p=h.tickValue,g=a[Qd(r)],m=r.coordToPoint([g+l,h.coord]),_=r.cx,b=r.cy,w=Math.abs(m[0]-_)/g<.3?"center":m[0]>_?"left":"right",T=Math.abs(m[1]-b)/g<.3?"middle":m[1]>b?"top":"bottom";if(s&&s[p]){var k=s[p];it(k)&&k.textStyle&&(v=new Vr(k.textStyle,u,u.ecModel))}var A=new Fr({silent:rc.isLabelSilent(e),style:no(v,{x:m[0],y:m[1],fill:v.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:h.formattedLabel,align:w,verticalAlign:T})});if(t.add(A),c){var M=rc.makeAxisEventDataBase(e);M.targetType="axisLabel",M.value=h.rawLabel,Ut(A).eventData=M}},this)},splitLine:function(t,e,r,n,i,a){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),u=s.get("color"),l=0;u=u instanceof Array?u:[u];for(var c=[],h=0;h<n.length;h++){var f=l++%u.length;c[f]=c[f]||[],c[f].push(new Bi({shape:Kd(r,a,n[h].coord)}))}for(var h=0;h<c.length;h++)t.add(Xa(c[h],{style:ct({stroke:u[h%u.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,r,n,i,a){if(i.length){for(var o=e.getModel("minorSplitLine"),s=o.getModel("lineStyle"),u=[],l=0;l<i.length;l++)for(var c=0;c<i[l].length;c++)u.push(new Bi({shape:Kd(r,a,i[l][c].coord)}));t.add(Xa(u,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,r,n,i,a){if(n.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),u=s.get("color"),l=0;u=u instanceof Array?u:[u];for(var c=[],h=Math.PI/180,f=-n[0].coord*h,v=Math.min(a[0],a[1]),p=Math.max(a[0],a[1]),g=e.get("clockwise"),m=1,_=n.length;m<=_;m++){var b=m===_?n[0].coord:n[m].coord,w=l++%u.length;c[w]=c[w]||[],c[w].push(new $i({shape:{cx:r.cx,cy:r.cy,r0:v,r:p,startAngle:f,endAngle:-b*h,clockwise:g},silent:!0})),f=-b*h}for(var m=0;m<c.length;m++)t.add(Xa(c[m],{style:ct({fill:u[m%u.length]},s.getAreaStyle()),silent:!0}))}}};const rte=ete;var nte=["axisLine","axisTickLabel","axisName"],ite=["splitLine","splitArea","minorSplitLine"],ate=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="PolarAxisPointer",r}return e.prototype.render=function(r,n){if(this.group.removeAll(),!!r.get("show")){var i=this._axisGroup,a=this._axisGroup=new Er;this.group.add(a);var o=r.axis,s=o.polar,u=s.getAngleAxis(),l=o.getTicksCoords(),c=o.getMinorTicksCoords(),h=u.getExtent()[0],f=o.getExtent(),v=ste(s,r,h),p=new rc(r,v);K(nte,p.add,p),a.add(p.getGroup()),x_(i,a,r),K(ite,function(g){r.get([g,"show"])&&!o.scale.isBlank()&&ote[g](this.group,r,s,h,f,l,c)},this)}},e.type="radiusAxis",e}(Nh),ote={splitLine:function(t,e,r,n,i,a){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),u=s.get("color"),l=0;u=u instanceof Array?u:[u];for(var c=[],h=0;h<a.length;h++){var f=l++%u.length;c[f]=c[f]||[],c[f].push(new Ql({shape:{cx:r.cx,cy:r.cy,r:Math.max(a[h].coord,0)}}))}for(var h=0;h<c.length;h++)t.add(Xa(c[h],{style:ct({stroke:u[h%u.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,r,n,i,a,o){if(o.length){for(var s=e.getModel("minorSplitLine"),u=s.getModel("lineStyle"),l=[],c=0;c<o.length;c++)for(var h=0;h<o[c].length;h++)l.push(new Ql({shape:{cx:r.cx,cy:r.cy,r:o[c][h].coord}}));t.add(Xa(l,{style:ct({fill:null},u.getLineStyle()),silent:!0}))}},splitArea:function(t,e,r,n,i,a){if(a.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),u=s.get("color"),l=0;u=u instanceof Array?u:[u];for(var c=[],h=a[0].coord,f=1;f<a.length;f++){var v=l++%u.length;c[v]=c[v]||[],c[v].push(new $i({shape:{cx:r.cx,cy:r.cy,r0:h,r:a[f].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),h=a[f].coord}for(var f=0;f<c.length;f++)t.add(Xa(c[f],{style:ct({fill:u[f%u.length]},s.getAreaStyle()),silent:!0}))}}};function ste(t,e,r){return{position:[t.cx,t.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}const ute=ate;function gR(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function mR(t,e){return e.dim+t.model.componentIndex}function lte(t,e,r){var n={},i=cte(br(e.getSeriesByType(t),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));e.eachSeriesByType(t,function(a){if(a.coordinateSystem.type==="polar"){var o=a.getData(),s=a.coordinateSystem,u=s.getBaseAxis(),l=mR(s,u),c=gR(a),h=i[l][c],f=h.offset,v=h.width,p=s.getOtherAxis(u),g=a.coordinateSystem.cx,m=a.coordinateSystem.cy,_=a.get("barMinHeight")||0,b=a.get("barMinAngle")||0;n[c]=n[c]||[];for(var w=o.mapDimension(p.dim),T=o.mapDimension(u.dim),k=gu(o,w),A=u.dim!=="radius"||!a.get("roundCap",!0),M=p.dataToCoord(0),O=0,F=o.count();O<F;O++){var $=o.get(w,O),B=o.get(T,O),U=$>=0?"p":"n",H=M;k&&(n[c][B]||(n[c][B]={p:M,n:M}),H=n[c][B][U]);var W=void 0,z=void 0,G=void 0,Y=void 0;if(p.dim==="radius"){var Q=p.dataToCoord($)-M,J=u.dataToCoord(B);Math.abs(Q)<_&&(Q=(Q<0?-1:1)*_),W=H,z=H+Q,G=J-f,Y=G-v,k&&(n[c][B][U]=z)}else{var ae=p.dataToCoord($,A)-M,he=u.dataToCoord(B);Math.abs(ae)<b&&(ae=(ae<0?-1:1)*b),W=he+f,z=W+v,G=H,Y=H+ae,k&&(n[c][B][U]=Y)}o.setItemLayout(O,{cx:g,cy:m,r0:W,r:z,startAngle:-G*Math.PI/180,endAngle:-Y*Math.PI/180,clockwise:G>=Y})}}})}function cte(t){var e={};K(t,function(n,i){var a=n.getData(),o=n.coordinateSystem,s=o.getBaseAxis(),u=mR(o,s),l=s.getExtent(),c=s.type==="category"?s.getBandWidth():Math.abs(l[1]-l[0])/a.count(),h=e[u]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=h.stacks;e[u]=h;var v=gR(n);f[v]||h.autoWidthCount++,f[v]=f[v]||{width:0,maxWidth:0};var p=Ht(n.get("barWidth"),c),g=Ht(n.get("barMaxWidth"),c),m=n.get("barGap"),_=n.get("barCategoryGap");p&&!f[v].width&&(p=Math.min(h.remainedWidth,p),f[v].width=p,h.remainedWidth-=p),g&&(f[v].maxWidth=g),m!=null&&(h.gap=m),_!=null&&(h.categoryGap=_)});var r={};return K(e,function(n,i){r[i]={};var a=n.stacks,o=n.bandWidth,s=Ht(n.categoryGap,o),u=Ht(n.gap,1),l=n.remainedWidth,c=n.autoWidthCount,h=(l-s)/(c+(c-1)*u);h=Math.max(h,0),K(a,function(g,m){var _=g.maxWidth;_&&_<h&&(_=Math.min(_,l),g.width&&(_=Math.min(_,g.width)),l-=_,g.width=_,c--)}),h=(l-s)/(c+(c-1)*u),h=Math.max(h,0);var f=0,v;K(a,function(g,m){g.width||(g.width=h),v=g,f+=g.width*(1+u)}),v&&(f-=v.width*u);var p=-f/2;K(a,function(g,m){r[i][m]=r[i][m]||{offset:p,width:g.width},p+=g.width*(1+u)})}),r}var fte={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},hte={splitNumber:5},dte=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="polar",e}(Zn);function qie(t){io(sb),Nh.registerAxisPointerClass("PolarAxisPointer",Fee),t.registerCoordinateSystem("polar",Qee),t.registerComponentModel(Hee),t.registerComponentView(dte),pp(t,"angle",zee,fte),pp(t,"radius",Uee,hte),t.registerComponentView(rte),t.registerComponentView(ute),t.registerLayout(zt(lte,"bar"))}var lC=["x","y","radius","angle","single"],vte=["cartesian2d","polar","singleAxis"];function pte(t){var e=t.get("coordinateSystem");return Lt(vte,e)>=0}function Sl(t){return t+"Axis"}function gte(t,e){var r=ft(),n=[],i=ft();t.eachComponent({mainType:"dataZoom",query:e},function(c){i.get(c.uid)||s(c)});var a;do a=!1,t.eachComponent("dataZoom",o);while(a);function o(c){!i.get(c.uid)&&u(c)&&(s(c),a=!0)}function s(c){i.set(c.uid,!0),n.push(c),l(c)}function u(c){var h=!1;return c.eachTargetAxis(function(f,v){var p=r.get(f);p&&p[v]&&(h=!0)}),h}function l(c){c.eachTargetAxis(function(h,f){(r.get(h)||r.set(h,[]))[f]=!0})}return n}var oy=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},t}(),mte=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return e.prototype.init=function(r,n,i){var a=cC(r);this.settledOption=a,this.mergeDefaultAndTheme(r,i),this._doInit(a)},e.prototype.mergeOption=function(r){var n=cC(r);Ct(this.option,r,!0),Ct(this.settledOption,n,!0),this._doInit(n)},e.prototype._doInit=function(r){var n=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var i=this.settledOption;K([["start","startValue"],["end","endValue"]],function(a,o){this._rangePropMode[o]==="value"&&(n[a[0]]=i[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var r=this.get("orient",!0),n=this._targetAxisInfoMap=ft(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(r){var n=!1;return K(lC,function(i){var a=this.getReferringComponents(Sl(i),NG);if(a.specified){n=!0;var o=new oy;K(a.models,function(s){o.add(s.componentIndex)}),r.set(i,o)}},this),n},e.prototype._fillAutoTargetAxisByOrient=function(r,n){var i=this.ecModel,a=!0;if(a){var o=n==="vertical"?"y":"x",s=i.findComponents({mainType:o+"Axis"});u(s,o)}if(a){var s=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===n}});u(s,"single")}function u(l,c){var h=l[0];if(h){var f=new oy;if(f.add(h.componentIndex),r.set(c,f),a=!1,c==="x"||c==="y"){var v=h.getReferringComponents("grid",Qr).models[0];v&&K(l,function(p){h.componentIndex!==p.componentIndex&&v===p.getReferringComponents("grid",Qr).models[0]&&f.add(p.componentIndex)})}}}a&&K(lC,function(l){if(a){var c=i.findComponents({mainType:Sl(l),filter:function(f){return f.get("type",!0)==="category"}});if(c[0]){var h=new oy;h.add(c[0].componentIndex),r.set(l,h),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function(n){!r&&(r=n)},this),r==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(r){var n=this._rangePropMode,i=this.get("rangeMode");K([["start","startValue"],["end","endValue"]],function(a,o){var s=r[a[0]]!=null,u=r[a[1]]!=null;s&&!u?n[o]="percent":!s&&u?n[o]="value":i?n[o]=i[o]:s&&(n[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function(n,i){r==null&&(r=this.ecModel.getComponent(Sl(n),i))},this),r},e.prototype.eachTargetAxis=function(r,n){this._targetAxisInfoMap.each(function(i,a){K(i.indexList,function(o){r.call(n,a,o)})})},e.prototype.getAxisProxy=function(r,n){var i=this.getAxisModel(r,n);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(r,n){var i=this._targetAxisInfoMap.get(r);if(i&&i.indexMap[n])return this.ecModel.getComponent(Sl(r),n)},e.prototype.setRawRange=function(r){var n=this.option,i=this.settledOption;K([["start","startValue"],["end","endValue"]],function(a){(r[a[0]]!=null||r[a[1]]!=null)&&(n[a[0]]=i[a[0]]=r[a[0]],n[a[1]]=i[a[1]]=r[a[1]])},this),this._updateRangeUse(r)},e.prototype.setCalculatedRange=function(r){var n=this.option;K(["start","startValue","end","endValue"],function(i){n[i]=r[i]})},e.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},e.prototype.getValueRange=function(r,n){if(r==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(r,n).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var o=i[a],s=this._targetAxisInfoMap.get(o),u=0;u<s.indexList.length;u++){var l=this.getAxisProxy(o,s.indexList[u]);if(l.hostedBy(this))return l;n||(n=l)}return n},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(Kt);function cC(t){var e={};return K(["start","end","startValue","endValue","throttle"],function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}const yte=mte;var _te=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="dataZoom.select",e}(yte);const bte=_te;var xte=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i,a){this.dataZoomModel=r,this.ecModel=n,this.api=i},e.type="dataZoom",e}(Zn);const Ste=xte;var wte=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="dataZoom.select",e}(Ste);const Tte=wte;var gl=K,fC=yG,Cte=function(){function t(e,r,n,i){this._dimName=e,this._axisIndex=r,this.ecModel=i,this._dataZoomModel=n}return t.prototype.hostedBy=function(e){return this._dataZoomModel===e},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(r){if(pte(r)){var n=Sl(this._dimName),i=r.getReferringComponents(n,Qr).models[0];i&&this._axisIndex===i.componentIndex&&e.push(r)}},this),e},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return _t(this._minMaxSpan)},t.prototype.calculateDataWindow=function(e){var r=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],u=[],l;gl(["start","end"],function(f,v){var p=e[f],g=e[f+"Value"];a[v]==="percent"?(p==null&&(p=o[v]),g=i.parse(No(p,o,r))):(l=!0,g=g==null?r[v]:i.parse(g),p=No(g,r,o)),u[v]=g==null||isNaN(g)?r[v]:g,s[v]=p==null||isNaN(p)?o[v]:p}),fC(u),fC(s);var c=this._minMaxSpan;l?h(u,s,r,o,!1):h(s,u,o,r,!0);function h(f,v,p,g,m){var _=m?"Span":"ValueSpan";XL(0,f,p,"all",c["min"+_],c["max"+_]);for(var b=0;b<2;b++)v[b]=No(f[b],p,g,!0),m&&(v[b]=i.parse(v[b]))}return{valueWindow:u,percentWindow:s}},t.prototype.reset=function(e){if(e===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=Ate(this,this._dimName,r),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(e,r){if(e!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),a=e.get("filterMode"),o=this._valueWindow;if(a==="none")return;gl(i,function(u){var l=u.getData(),c=l.mapDimensionsAll(n);if(c.length){if(a==="weakFilter"){var h=l.getStore(),f=qe(c,function(v){return l.getDimensionIndex(v)},l);l.filterSelf(function(v){for(var p,g,m,_=0;_<c.length;_++){var b=h.get(f[_],v),w=!isNaN(b),T=b<o[0],k=b>o[1];if(w&&!T&&!k)return!0;w&&(m=!0),T&&(p=!0),k&&(g=!0)}return m&&p&&g})}else gl(c,function(v){if(a==="empty")u.setData(l=l.map(v,function(g){return s(g)?g:NaN}));else{var p={};p[v]=o,l.selectRange(p)}});gl(c,function(v){l.setApproximateExtent(o,v)})}});function s(u){return u>=o[0]&&u<=o[1]}},t.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},r=this._dataZoomModel,n=this._dataExtent;gl(["min","max"],function(i){var a=r.get(i+"Span"),o=r.get(i+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?a=No(n[0]+o,n,[0,100],!0):a!=null&&(o=No(a,[0,100],n,!0)-n[0]),e[i+"Span"]=a,e[i+"ValueSpan"]=o},this)},t.prototype._setAxisModel=function(){var e=this.getAxisModel(),r=this._percentWindow,n=this._valueWindow;if(r){var i=hE(n,[0,500]);i=Math.min(i,20);var a=e.axis.scale.rawExtentInfo;r[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(i)),r[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(i)),a.freeze()}},t}();function Ate(t,e,r){var n=[1/0,-1/0];gl(r,function(o){PK(n,o.getData(),e)});var i=t.getAxisModel(),a=cL(i.axis.scale,i,n).calculate();return[a.min,a.max]}const kte=Cte;var Pte={getTargetSeries:function(t){function e(i){t.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){var u=t.getComponent(Sl(o),s);i(o,s,u,a)})})}e(function(i,a,o,s){o.__dzAxisProxy=null});var r=[];e(function(i,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new kte(i,a,s,t),r.push(o.__dzAxisProxy))});var n=ft();return K(r,function(i){K(i.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(t,e){t.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(n,i){r.getAxisProxy(n,i).reset(r)}),r.eachTargetAxis(function(n,i){r.getAxisProxy(n,i).filterData(r,e)})}),t.eachComponent("dataZoom",function(r){var n=r.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),a=n.getDataValueWindow();r.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};const Ete=Pte;function Mte(t){t.registerAction("dataZoom",function(e,r){var n=gte(r,e);K(n,function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var hC=!1;function Dte(t){hC||(hC=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,Ete),Mte(t),t.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Lte(t){t.registerComponentModel(bte),t.registerComponentView(Tte),Dte(t)}var Li=function(){function t(){}return t}(),yR={};function nf(t,e){yR[t]=e}function _R(t){return yR[t]}var Rte=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;K(this.option.feature,function(n,i){var a=_R(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(r)),Ct(n,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Kt);const Ote=Rte;function Ite(t,e,r){var n=e.getBoxLayoutParams(),i=e.get("padding"),a={width:r.getWidth(),height:r.getHeight()},o=es(n,a,i);Bl(e.get("orient"),t,e.get("itemGap"),o.width,o.height),CY(t,n,a,i)}function bR(t,e){var r=ig(e.get("padding")),n=e.getItemStyle(["color","opacity"]);return n.fill=e.get("backgroundColor"),t=new Sr({shape:{x:t.x-r[3],y:t.y-r[0],width:t.width+r[1]+r[3],height:t.height+r[0]+r[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1}),t}var Bte=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,n,i,a){var o=this.group;if(o.removeAll(),!r.get("show"))return;var s=+r.get("itemSize"),u=r.get("orient")==="vertical",l=r.get("feature")||{},c=this._features||(this._features={}),h=[];K(l,function(p,g){h.push(g)}),new ph(this._featureNames||[],h).add(f).update(f).remove(zt(f,null)).execute(),this._featureNames=h;function f(p,g){var m=h[p],_=h[g],b=l[m],w=new Vr(b,r,r.ecModel),T;if(a&&a.newTitle!=null&&a.featureName===m&&(b.title=a.newTitle),m&&!_){if(Nte(m))T={onclick:w.option.onclick,featureName:m};else{var k=_R(m);if(!k)return;T=new k}c[m]=T}else if(T=c[_],!T)return;T.uid=Oh("toolbox-feature"),T.model=w,T.ecModel=n,T.api=i;var A=T instanceof Li;if(!m&&_){A&&T.dispose&&T.dispose(n,i);return}if(!w.get("show")||A&&T.unusable){A&&T.remove&&T.remove(n,i);return}v(w,T,m),w.setIconStatus=function(M,O){var F=this.option,$=this.iconPaths;F.iconStatus=F.iconStatus||{},F.iconStatus[M]=O,$[M]&&(O==="emphasis"?Zl:Kl)($[M])},T instanceof Li&&T.render&&T.render(w,n,i,a)}function v(p,g,m){var _=p.getModel("iconStyle"),b=p.getModel(["emphasis","iconStyle"]),w=g instanceof Li&&g.getIcons?g.getIcons():p.get("icon"),T=p.get("title")||{},k,A;et(w)?(k={},k[m]=w):k=w,et(T)?(A={},A[m]=T):A=T;var M=p.iconPaths={};K(k,function(O,F){var $=qp(O,{},{x:-s/2,y:-s/2,width:s,height:s});$.setStyle(_.getItemStyle());var B=$.ensureState("emphasis");B.style=b.getItemStyle();var U=new Fr({style:{text:A[F],align:b.get("textAlign"),borderRadius:b.get("textBorderRadius"),padding:b.get("textPadding"),fill:null},ignore:!0});$.setTextContent(U),Zp({el:$,componentModel:r,itemName:F,formatterParamsExtra:{title:A[F]}}),$.__title=A[F],$.on("mouseover",function(){var H=b.getItemStyle(),W=u?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";U.setStyle({fill:b.get("textFill")||H.fill||H.stroke||"#000",backgroundColor:b.get("textBackgroundColor")}),$.setTextConfig({position:b.get("textPosition")||W}),U.ignore=!r.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){p.get(["iconStatus",F])!=="emphasis"&&i.leaveEmphasis(this),U.hide()}),(p.get(["iconStatus",F])==="emphasis"?Zl:Kl)($),o.add($),$.on("click",rr(g.onclick,g,n,i,F)),M[F]=$})}Ite(o,r,i),o.add(bR(o.getBoundingRect(),r)),u||o.eachChild(function(p){var g=p.__title,m=p.ensureState("emphasis"),_=m.textConfig||(m.textConfig={}),b=p.getTextContent(),w=b&&b.ensureState("emphasis");if(w&&!ht(w)&&g){var T=w.style||(w.style={}),k=Ph(g,Fr.makeFont(T)),A=p.x+o.x,M=p.y+o.y+s,O=!1;M+k.height>i.getHeight()&&(_.position="top",O=!0);var F=O?-5-k.height:s+10;A+k.width/2>i.getWidth()?(_.position=["100%",F],T.align="right"):A-k.width/2<0&&(_.position=[0,F],T.align="left")}})},e.prototype.updateView=function(r,n,i,a){K(this._features,function(o){o instanceof Li&&o.updateView&&o.updateView(o.model,n,i,a)})},e.prototype.remove=function(r,n){K(this._features,function(i){i instanceof Li&&i.remove&&i.remove(r,n)}),this.group.removeAll()},e.prototype.dispose=function(r,n){K(this._features,function(i){i instanceof Li&&i.dispose&&i.dispose(r,n)})},e.type="toolbox",e}(Zn);function Nte(t){return t.indexOf("my")===0}const Fte=Bte;var $te=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(r,n){var i=this.model,a=i.get("name")||r.get("title.0.text")||"echarts",o=n.getZr().painter.getType()==="svg",s=o?"svg":i.get("type",!0)||"png",u=n.getConnectedDataURL({type:s,backgroundColor:i.get("backgroundColor",!0)||r.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),l=Tt.browser;if(ht(MouseEvent)&&(l.newEdge||!l.ie&&!l.edge)){var c=document.createElement("a");c.download=a+"."+s,c.target="_blank",c.href=u;var h=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(h)}else if(window.navigator.msSaveOrOpenBlob||o){var f=u.split(","),v=f[0].indexOf("base64")>-1,p=o?decodeURIComponent(f[1]):f[1];v&&(p=window.atob(p));var g=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var m=p.length,_=new Uint8Array(m);m--;)_[m]=p.charCodeAt(m);var b=new Blob([_]);window.navigator.msSaveOrOpenBlob(b,g)}else{var w=document.createElement("iframe");document.body.appendChild(w);var T=w.contentWindow,k=T.document;k.open("image/svg+xml","replace"),k.write(p),k.close(),T.focus(),k.execCommand("SaveAs",!0,g),document.body.removeChild(w)}}else{var A=i.get("lang"),M='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(A&&A[0]||"")+'" /></body>',O=window.open();O.document.write(M),O.document.title=a}},e.getDefaultOption=function(r){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},e}(Li);const Hte=$te;var dC="__ec_magicType_stack__",zte=[["line","bar"],["stack"]],Ute=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getIcons=function(){var r=this.model,n=r.get("icon"),i={};return K(r.get("type"),function(a){n[a]&&(i[a]=n[a])}),i},e.getDefaultOption=function(r){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},e.prototype.onclick=function(r,n,i){var a=this.model,o=a.get(["seriesIndex",i]);if(vC[i]){var s={series:[]},u=function(h){var f=h.subType,v=h.id,p=vC[i](f,v,h,a);p&&(ct(p,h.option),s.series.push(p));var g=h.coordinateSystem;if(g&&g.type==="cartesian2d"&&(i==="line"||i==="bar")){var m=g.getAxesByScale("ordinal")[0];if(m){var _=m.dim,b=_+"Axis",w=h.getReferringComponents(b,Qr).models[0],T=w.componentIndex;s[b]=s[b]||[];for(var k=0;k<=T;k++)s[b][T]=s[b][T]||{};s[b][T].boundaryGap=i==="bar"}}};K(zte,function(h){Lt(h,i)>=0&&K(h,function(f){a.setIconStatus(f,"normal")})}),a.setIconStatus(i,"emphasis"),r.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},u);var l,c=i;i==="stack"&&(l=Ct({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),n.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:l,featureName:"magicType"})}},e}(Li),vC={line:function(t,e,r,n){if(t==="bar")return Ct({id:e,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(t,e,r,n){if(t==="line")return Ct({id:e,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(t,e,r,n){var i=r.get("stack")===dC;if(t==="line"||t==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),Ct({id:e,stack:i?"":dC},n.get(["option","stack"])||{},!0)}};ka({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)});const Vte=Ute;var vg=new Array(60).join("-"),ic="	";function Gte(t){var e={},r=[],n=[];return t.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var o=a.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;e[s]||(e[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),e[s].series.push(i)}else r.push(i)}else r.push(i)}),{seriesGroupByCategoryAxis:e,other:r,meta:n}}function jte(t){var e=[];return K(t,function(r,n){var i=r.categoryAxis,a=r.valueAxis,o=a.dim,s=[" "].concat(qe(r.series,function(v){return v.name})),u=[i.model.getCategories()];K(r.series,function(v){var p=v.getRawData();u.push(v.getRawData().mapArray(p.mapDimension(o),function(g){return g}))});for(var l=[s.join(ic)],c=0;c<u[0].length;c++){for(var h=[],f=0;f<u.length;f++)h.push(u[f][c]);l.push(h.join(ic))}e.push(l.join(`
`))}),e.join(`

`+vg+`

`)}function Wte(t){return qe(t,function(e){var r=e.getRawData(),n=[e.name],i=[];return r.each(r.dimensions,function(){for(var a=arguments.length,o=arguments[a-1],s=r.getName(o),u=0;u<a-1;u++)i[u]=arguments[u];n.push((s?s+ic:"")+i.join(ic))}),n.join(`
`)}).join(`

`+vg+`

`)}function Yte(t){var e=Gte(t);return{value:br([jte(e.seriesGroupByCategoryAxis),Wte(e.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+vg+`

`),meta:e.meta}}function gp(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Xte(t){var e=t.slice(0,t.indexOf(`
`));if(e.indexOf(ic)>=0)return!0}var J0=new RegExp("["+ic+"]+","g");function qte(t){for(var e=t.split(/\n+/g),r=gp(e.shift()).split(J0),n=[],i=qe(r,function(u){return{name:u,data:[]}}),a=0;a<e.length;a++){var o=gp(e[a]).split(J0);n.push(o.shift());for(var s=0;s<o.length;s++)i[s]&&(i[s].data[a]=o[s])}return{series:i,categories:n}}function Zte(t){for(var e=t.split(/\n+/g),r=gp(e.shift()),n=[],i=0;i<e.length;i++){var a=gp(e[i]);if(a){var o=a.split(J0),s="",u=void 0,l=!1;isNaN(o[0])?(l=!0,s=o[0],o=o.slice(1),n[i]={name:s,value:[]},u=n[i].value):u=n[i]=[];for(var c=0;c<o.length;c++)u.push(+o[c]);u.length===1&&(l?n[i].value=u[0]:n[i]=u[0])}}return{name:r,data:n}}function Kte(t,e){var r=t.split(new RegExp(`
*`+vg+`
*`,"g")),n={series:[]};return K(r,function(i,a){if(Xte(i)){var o=qte(i),s=e[a],u=s.axisDim+"Axis";s&&(n[u]=n[u]||[],n[u][s.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{var o=Zte(i);n.series.push(o)}}),n}var Qte=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(r,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||"#fff";var s=document.createElement("h4"),u=a.get("lang")||[];s.innerHTML=u[0]||a.get("title"),s.style.cssText="margin:10px 20px",s.style.color=a.get("textColor");var l=document.createElement("div"),c=document.createElement("textarea");l.style.cssText="overflow:auto";var h=a.get("optionToContent"),f=a.get("contentToOption"),v=Yte(r);if(ht(h)){var p=h(n.getOption());et(p)?l.innerHTML=p:th(p)&&l.appendChild(p)}else{c.readOnly=a.get("readOnly");var g=c.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=a.get("textColor"),g.borderColor=a.get("textareaBorderColor"),g.backgroundColor=a.get("textareaColor"),c.value=v.value,l.appendChild(c)}var m=v.meta,_=document.createElement("div");_.style.cssText="position:absolute;bottom:5px;left:0;right:0";var b="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",w=document.createElement("div"),T=document.createElement("div");b+=";background-color:"+a.get("buttonColor"),b+=";color:"+a.get("buttonTextColor");var k=this;function A(){i.removeChild(o),k._dom=null}Qy(w,"click",A),Qy(T,"click",function(){if(f==null&&h!=null||f!=null&&h==null){A();return}var M;try{ht(f)?M=f(l,n.getOption()):M=Kte(c.value,m)}catch(O){throw A(),new Error("Data view format error "+O)}M&&n.dispatchAction({type:"changeDataView",newOption:M}),A()}),w.innerHTML=u[1],T.innerHTML=u[2],T.style.cssText=w.style.cssText=b,!a.get("readOnly")&&_.appendChild(T),_.appendChild(w),o.appendChild(s),o.appendChild(l),o.appendChild(_),l.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},e.prototype.remove=function(r,n){this._dom&&n.getDom().removeChild(this._dom)},e.prototype.dispose=function(r,n){this.remove(r,n)},e.getDefaultOption=function(r){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return n},e}(Li);function Jte(t,e){return qe(t,function(r,n){var i=e&&e[n];if(it(i)&&!Ye(i)){var a=it(r)&&!Ye(r);a||(r={value:r});var o=i.name!=null&&r.name==null;return r=ct(r,i),o&&delete r.name,r}else return r})}ka({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var r=[];K(t.newOption.series,function(n){var i=e.getSeriesByName(n.name)[0];if(!i)r.push(Oe({type:"scatter"},n));else{var a=i.get("data");r.push({name:n.name,data:Jte(n.data,a)})}}),e.mergeOption(ct({series:r},t.newOption))});const ere=Qte;var xR=K,SR=hr();function tre(t,e){var r=fb(t);xR(e,function(n,i){for(var a=r.length-1;a>=0;a--){var o=r[a];if(o[i])break}if(a<0){var s=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var u=s.getPercentRange();r[0][i]={dataZoomId:i,start:u[0],end:u[1]}}}}),r.push(e)}function rre(t){var e=fb(t),r=e[e.length-1];e.length>1&&e.pop();var n={};return xR(r,function(i,a){for(var o=e.length-1;o>=0;o--)if(i=e[o][a],i){n[a]=i;break}}),n}function nre(t){SR(t).snapshots=null}function ire(t){return fb(t).length}function fb(t){var e=SR(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var are=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(r,n){nre(r),n.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(r){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return n},e}(Li);ka({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});const ore=are;var sre=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],ure=function(){function t(e,r,n){var i=this;this._targetInfoList=[];var a=pC(r,e);K(lre,function(o,s){(!n||!n.include||Lt(n.include,s)>=0)&&o(a,i._targetInfoList)})}return t.prototype.setOutputRanges=function(e,r){return this.matchOutputRanges(e,r,function(n,i,a){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var o=sy[n.brushType](0,a,i);n.__rangeOffset={offset:_C[n.brushType](o.values,n.range,[1,1]),xyMinMax:o.xyMinMax}}}),e},t.prototype.matchOutputRanges=function(e,r,n){K(e,function(i){var a=this.findTargetInfo(i,r);a&&a!==!0&&K(a.coordSyses,function(o){var s=sy[i.brushType](1,o,i.range,!0);n(i,s.values,o,r)})},this)},t.prototype.setInputRanges=function(e,r){K(e,function(n){var i=this.findTargetInfo(n,r);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var a=sy[n.brushType](0,i.coordSys,n.coordRange),o=n.__rangeOffset;n.range=o?_C[n.brushType](a.values,o.offset,cre(a.xyMinMax,o.xyMinMax)):a.values}},this)},t.prototype.makePanelOpts=function(e,r){return qe(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:r?r(n):null,clipPath:uee(i),isTargetByCursor:cee(i,e,n.coordSysModel),getLinearBrushOtherExtent:lee(i)}})},t.prototype.controlSeries=function(e,r,n){var i=this.findTargetInfo(e,n);return i===!0||i&&Lt(i.coordSyses,r.coordinateSystem)>=0},t.prototype.findTargetInfo=function(e,r){for(var n=this._targetInfoList,i=pC(r,e),a=0;a<n.length;a++){var o=n[a],s=e.panelId;if(s){if(o.panelId===s)return o}else for(var u=0;u<gC.length;u++)if(gC[u](i,o))return o}return!0},t}();function e1(t){return t[0]>t[1]&&t.reverse(),t}function pC(t,e){return Lf(t,e,{includeMainTypes:sre})}var lre={grid:function(t,e){var r=t.xAxisModels,n=t.yAxisModels,i=t.gridModels,a=ft(),o={},s={};!r&&!n&&!i||(K(r,function(u){var l=u.axis.grid.model;a.set(l.id,l),o[l.id]=!0}),K(n,function(u){var l=u.axis.grid.model;a.set(l.id,l),s[l.id]=!0}),K(i,function(u){a.set(u.id,u),o[u.id]=!0,s[u.id]=!0}),a.each(function(u){var l=u.coordinateSystem,c=[];K(l.getCartesians(),function(h,f){(Lt(r,h.getAxis("x").model)>=0||Lt(n,h.getAxis("y").model)>=0)&&c.push(h)}),e.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:c[0],coordSyses:c,getPanelRect:mC.grid,xAxisDeclared:o[u.id],yAxisDeclared:s[u.id]})}))},geo:function(t,e){K(t.geoModels,function(r){var n=r.coordinateSystem;e.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:n,coordSyses:[n],getPanelRect:mC.geo})})}},gC=[function(t,e){var r=t.xAxisModel,n=t.yAxisModel,i=t.gridModel;return!i&&r&&(i=r.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===e.gridModel},function(t,e){var r=t.geoModel;return r&&r===e.geoModel}],mC={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(b_(t)),e}},sy={lineX:zt(yC,0),lineY:zt(yC,1),rect:function(t,e,r,n){var i=t?e.pointToData([r[0][0],r[1][0]],n):e.dataToPoint([r[0][0],r[1][0]],n),a=t?e.pointToData([r[0][1],r[1][1]],n):e.dataToPoint([r[0][1],r[1][1]],n),o=[e1([i[0],a[0]]),e1([i[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(t,e,r,n){var i=[[1/0,-1/0],[1/0,-1/0]],a=qe(r,function(o){var s=t?e.pointToData(o,n):e.dataToPoint(o,n);return i[0][0]=Math.min(i[0][0],s[0]),i[1][0]=Math.min(i[1][0],s[1]),i[0][1]=Math.max(i[0][1],s[0]),i[1][1]=Math.max(i[1][1],s[1]),s});return{values:a,xyMinMax:i}}};function yC(t,e,r,n){var i=r.getAxis(["x","y"][t]),a=e1(qe([0,1],function(s){return e?i.coordToData(i.toLocalCoord(n[s]),!0):i.toGlobalCoord(i.dataToCoord(n[s]))})),o=[];return o[t]=a,o[1-t]=[NaN,NaN],{values:a,xyMinMax:o}}var _C={lineX:zt(bC,0),lineY:zt(bC,1),rect:function(t,e,r){return[[t[0][0]-r[0]*e[0][0],t[0][1]-r[0]*e[0][1]],[t[1][0]-r[1]*e[1][0],t[1][1]-r[1]*e[1][1]]]},polygon:function(t,e,r){return qe(t,function(n,i){return[n[0]-r[0]*e[i][0],n[1]-r[1]*e[i][1]]})}};function bC(t,e,r,n){return[e[0]-n[t]*r[0],e[1]-n[t]*r[1]]}function cre(t,e){var r=xC(t),n=xC(e),i=[r[0]/n[0],r[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function xC(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}const wR=ure;var t1=K,fre=RG("toolbox-dataZoom_"),hre=function(t){De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,n,i,a){this._brushController||(this._brushController=new see(i.getZr()),this._brushController.on("brush",rr(this._onBrush,this)).mount()),pre(r,n,this,a,i),vre(r,n)},e.prototype.onclick=function(r,n,i){dre[i].call(this)},e.prototype.remove=function(r,n){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(r,n){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(r){var n=r.areas;if(!r.isEnd||!n.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var o=new wR(hb(this.model),a,{include:["grid"]});o.matchOutputRanges(n,a,function(l,c,h){if(h.type==="cartesian2d"){var f=l.brushType;f==="rect"?(s("x",h,c[0]),s("y",h,c[1])):s({lineX:"x",lineY:"y"}[f],h,c)}}),tre(a,i),this._dispatchZoomAction(i);function s(l,c,h){var f=c.getAxis(l),v=f.model,p=u(l,v,a),g=p.findRepresentativeAxisProxy(v).getMinMaxSpan();(g.minValueSpan!=null||g.maxValueSpan!=null)&&(h=XL(0,h.slice(),f.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),p&&(i[p.id]={dataZoomId:p.id,startValue:h[0],endValue:h[1]})}function u(l,c,h){var f;return h.eachComponent({mainType:"dataZoom",subType:"select"},function(v){var p=v.getAxisModel(l,c.componentIndex);p&&(f=v)}),f}},e.prototype._dispatchZoomAction=function(r){var n=[];t1(r,function(i,a){n.push(_t(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},e.getDefaultOption=function(r){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return n},e}(Li),dre={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(rre(this.ecModel))}};function hb(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function vre(t,e){t.setIconStatus("back",ire(e)>1?"emphasis":"normal")}function pre(t,e,r,n,i){var a=r._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),r._isZoomActive=a,t.setIconStatus("zoom",a?"emphasis":"normal");var o=new wR(hb(t),e,{include:["grid"]}),s=o.makePanelOpts(i,function(u){return u.xAxisDeclared&&!u.yAxisDeclared?"lineX":!u.xAxisDeclared&&u.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(s).enableBrush(a&&s.length?{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()}:!1)}OY("dataZoom",function(t){var e=t.getComponent("toolbox",0),r=["feature","dataZoom"];if(!e||e.get(r)==null)return;var n=e.getModel(r),i=[],a=hb(n),o=Lf(t,a);t1(o.xAxisModels,function(u){return s(u,"xAxis","xAxisIndex")}),t1(o.yAxisModels,function(u){return s(u,"yAxis","yAxisIndex")});function s(u,l,c){var h=u.componentIndex,f={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:fre+l+h};f[c]=h,i.push(f)}return i});const gre=hre;function Zie(t){t.registerComponentModel(Ote),t.registerComponentView(Fte),nf("saveAsImage",Hte),nf("magicType",Vte),nf("dataView",ere),nf("dataZoom",gre),nf("restore",ore),io(Lte)}var mre=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Kt);const yre=mre;function TR(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function CR(t){if(Tt.domSupported){for(var e=document.documentElement.style,r=0,n=t.length;r<n;r++)if(t[r]in e)return t[r]}}var AR=CR(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),_re=CR(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function kR(t,e){if(!t)return e;e=OM(e,!0);var r=t.indexOf(e);return t=r===-1?e:"-"+t.slice(0,r)+"-"+e,t.toLowerCase()}function bre(t,e){var r=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return r?e?r[e]:r:null}var xre=kR(_re,"transition"),db=kR(AR,"transform"),Sre="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Tt.transform3dSupported?"will-change:transform;":"");function wre(t){return t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top",t}function Tre(t,e,r){if(!et(r)||r==="inside")return"";var n=t.get("backgroundColor"),i=t.get("borderWidth");e=pu(e);var a=wre(r),o=Math.max(Math.round(i)*1.5,6),s="",u=db+":",l;Lt(["left","right"],a)>-1?(s+="top:50%",u+="translateY(-50%) rotate("+(l=a==="left"?-225:-45)+"deg)"):(s+="left:50%",u+="translateX(-50%) rotate("+(l=a==="top"?225:45)+"deg)");var c=l*Math.PI/180,h=o+i,f=h*Math.abs(Math.cos(c))+h*Math.abs(Math.sin(c)),v=Math.round(((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-h)/2)*100)/100;s+=";"+a+":-"+v+"px";var p=e+" solid "+i+"px;",g=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+u+";","border-bottom:"+p,"border-right:"+p,"background-color:"+n+";"];return'<div style="'+g.join("")+'"></div>'}function Cre(t,e){var r="cubic-bezier(0.23,1,0.32,1)",n=" "+t/2+"s "+r,i="opacity"+n+",visibility"+n;return e||(n=" "+t+"s "+r,i+=Tt.transformSupported?","+db+n:",left"+n+",top"+n),xre+":"+i}function SC(t,e,r){var n=t.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Tt.transformSupported)return r?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var a=Tt.transform3dSupported,o="translate"+(a?"3d":"")+"("+n+","+i+(a?",0":"")+")";return r?"top:0;left:0;"+db+":"+o+";":[["top",0],["left",0],[AR,o]]}function Are(t){var e=[],r=t.get("fontSize"),n=t.getTextColor();n&&e.push("color:"+n),e.push("font:"+t.getFont()),r&&e.push("line-height:"+Math.round(r*3/2)+"px");var i=t.get("textShadowColor"),a=t.get("textShadowBlur")||0,o=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return i&&a&&e.push("text-shadow:"+o+"px "+s+"px "+a+"px "+i),K(["decoration","align"],function(u){var l=t.get(u);l&&e.push("text-"+u+":"+l)}),e.join(";")}function kre(t,e,r){var n=[],i=t.get("transitionDuration"),a=t.get("backgroundColor"),o=t.get("shadowBlur"),s=t.get("shadowColor"),u=t.get("shadowOffsetX"),l=t.get("shadowOffsetY"),c=t.getModel("textStyle"),h=fD(t,"html"),f=u+"px "+l+"px "+o+"px "+s;return n.push("box-shadow:"+f),e&&i&&n.push(Cre(i,r)),a&&n.push("background-color:"+a),K(["width","color","radius"],function(v){var p="border-"+v,g=OM(p),m=t.get(g);m!=null&&n.push(p+":"+m+(v==="color"?"":"px"))}),n.push(Are(c)),h!=null&&n.push("padding:"+ig(h).join("px ")+"px"),n.join(";")+";"}function wC(t,e,r,n,i){var a=e&&e.painter;if(r){var o=a&&a.getViewportRoot();o&&aV(t,o,document.body,n,i)}else{t[0]=n,t[1]=i;var s=a&&a.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var Pre=function(){function t(e,r,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Tt.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var a=this._zr=r.getZr(),o=this._appendToBody=n&&n.appendToBody;wC(this._styleCoord,a,o,r.getWidth()/2,r.getHeight()/2),o?document.body.appendChild(i):e.appendChild(i),this._container=e;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(u){if(u=u||window.event,!s._enterable){var l=a.handler,c=a.painter.getViewportRoot();ii(c,u,!0),l.dispatch("mousemove",u)}},i.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return t.prototype.update=function(e){var r=this._container,n=bre(r,"position"),i=r.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative");var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},t.prototype.show=function(e,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,a=this._styleCoord;n.innerHTML?i.cssText=Sre+kre(e,!this._firstShow,this._longHide)+SC(a[0],a[1],!0)+("border-color:"+pu(r)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(e,r,n,i,a){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(et(a)&&n.get("trigger")==="item"&&!TR(n)&&(s=Tre(n,i,a)),et(e))o.innerHTML=e+s;else if(e){o.innerHTML="",Ye(e)||(e=[e]);for(var u=0;u<e.length;u++)th(e[u])&&e[u].parentNode!==o&&o.appendChild(e[u]);if(s&&o.childNodes.length){var l=document.createElement("div");l.innerHTML=s,o.appendChild(l)}}},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},t.prototype.moveTo=function(e,r){var n=this._styleCoord;if(wC(n,this._zr,this._appendToBody,e,r),n[0]!=null&&n[1]!=null){var i=this.el.style,a=SC(n[0],n[1]);K(a,function(o){i[o[0]]=o[1]})}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){var e=this,r=this.el.style;r.visibility="hidden",r.opacity="0",Tt.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(rr(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}();const Ere=Pre;var Mre=function(){function t(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),CC(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return t.prototype.update=function(e){var r=e.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(e,r,n,i,a){var o=this;it(e)&&$t(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new Fr({style:{rich:r.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:fD(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),K(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(l){o.el.style[l]=n.get(l)}),K(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(l){o.el.style[l]=s.get(l)||0}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el,r=this.el.getBoundingRect(),n=TC(e.style);return[r.width+n.left+n.right,r.height+n.top+n.bottom]},t.prototype.moveTo=function(e,r){var n=this.el;if(n){var i=this._styleCoord;CC(i,this._zr,e,r),e=i[0],r=i[1];var a=n.style,o=Ro(a.borderWidth||0),s=TC(a);n.x=e+o+s.left,n.y=r+o+s.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(rr(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function Ro(t){return Math.max(0,t)}function TC(t){var e=Ro(t.shadowBlur||0),r=Ro(t.shadowOffsetX||0),n=Ro(t.shadowOffsetY||0);return{left:Ro(e-r),right:Ro(e+r),top:Ro(e-n),bottom:Ro(e+n)}}function CC(t,e,r,n){t[0]=r,t[1]=n,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}const Dre=Mre;var Lre=new Sr({shape:{x:-1,y:-1,width:2,height:2}}),Rre=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,n){if(!(Tt.node||!n.getDom())){var i=r.getComponent("tooltip"),a=this._renderMode=$G(i.get("renderMode"));this._tooltipContent=a==="richText"?new Dre(n):new Ere(n.getDom(),n,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(r,n,i){if(!(Tt.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=n,this._api=i;var a=this._tooltipContent;a.update(r),a.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?dD(this,"_updatePosition",50,"fixRate"):M0(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var r=this._tooltipModel,n=r.get("triggerOn");dR("itemTooltip",this._api,rr(function(i,a,o){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(a,o):i==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var r=this._tooltipModel,n=this._ecModel,i=this._api,a=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(r,n,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(r,n,i,a){if(!(a.from===this.uid||Tt.node||!i.getDom())){var o=AC(a,i);this._ticket="";var s=a.dataByCoordSys,u=Nre(a,n,i);if(u){var l=u.el.getBoundingRect().clone();l.applyTransform(u.el.transform),this._tryShow({offsetX:l.x+l.width/2,offsetY:l.y+l.height/2,target:u.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=Lre;c.x=a.x,c.y=a.y,c.update(),Ut(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(r,n,i,a))return;var h=vR(a,n),f=h.point[0],v=h.point[1];f!=null&&v!=null&&this._tryShow({offsetX:f,offsetY:v,target:h.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},e.prototype.manuallyHideTip=function(r,n,i,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(AC(a,i))},e.prototype._manuallyAxisShowTip=function(r,n,i,a){var o=a.seriesIndex,s=a.dataIndex,u=n.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||u==null)){var l=n.getSeriesByIndex(o);if(l){var c=l.getData(),h=af([c.getItemModel(s),l,(l.coordinateSystem||{}).model],this._tooltipModel);if(h.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}}},e.prototype._tryShow=function(r,n){var i=r.target,a=this._tooltipModel;if(a){this._lastX=r.offsetX,this._lastY=r.offsetY;var o=r.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,r);else if(i){this._lastDataByCoordSys=null;var s,u;mf(i,function(l){if(Ut(l).dataIndex!=null)return s=l,!0;if(Ut(l).tooltipConfig!=null)return u=l,!0},!0),s?this._showSeriesItemTooltip(r,s,n):u?this._showComponentItemTooltip(r,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},e.prototype._showOrMove=function(r,n){var i=r.get("showDelay");n=rr(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},e.prototype._showAxisTooltip=function(r,n){var i=this._ecModel,a=this._tooltipModel,o=[n.offsetX,n.offsetY],s=af([n.tooltipOption],a),u=this._renderMode,l=[],c=hh("section",{blocks:[],noHeader:!0}),h=[],f=new Om;K(r,function(b){K(b.dataByAxis,function(w){var T=i.getComponent(w.axisDim+"Axis",w.axisIndex),k=w.value;if(!(!T||k==null)){var A=cR(k,T.axis,i,w.seriesDataIndices,w.valueLabelOpt),M=hh("section",{header:A,noHeader:!da(A),sortBlocks:!0,blocks:[]});c.blocks.push(M),K(w.seriesDataIndices,function(O){var F=i.getSeriesByIndex(O.seriesIndex),$=O.dataIndexInside,B=F.getDataParams($);if(!(B.dataIndex<0)){B.axisDim=w.axisDim,B.axisIndex=w.axisIndex,B.axisType=w.axisType,B.axisId=w.axisId,B.axisValue=X_(T.axis,{value:k}),B.axisValueLabel=A,B.marker=f.makeTooltipMarker("item",pu(B.color),u);var U=d2(F.formatTooltip($,!0,null)),H=U.frag;if(H){var W=af([F],a).get("valueFormatter");M.blocks.push(W?Oe({valueFormatter:W},H):H)}U.text&&h.push(U.text),l.push(B)}})}})}),c.blocks.reverse(),h.reverse();var v=n.position,p=s.get("order"),g=_2(c,f,u,p,i.get("useUTC"),s.get("textStyle"));g&&h.unshift(g);var m=u==="richText"?`

`:"<br/>",_=h.join(m);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(r,l)?this._updatePosition(s,v,o[0],o[1],this._tooltipContent,l):this._showTooltipContent(s,_,l,Math.random()+"",o[0],o[1],v,null,f)})},e.prototype._showSeriesItemTooltip=function(r,n,i){var a=this._ecModel,o=Ut(n),s=o.seriesIndex,u=a.getSeriesByIndex(s),l=o.dataModel||u,c=o.dataIndex,h=o.dataType,f=l.getData(h),v=this._renderMode,p=r.positionDefault,g=af([f.getItemModel(c),l,u&&(u.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),m=g.get("trigger");if(!(m!=null&&m!=="item")){var _=l.getDataParams(c,h),b=new Om;_.marker=b.makeTooltipMarker("item",pu(_.color),v);var w=d2(l.formatTooltip(c,!1,h)),T=g.get("order"),k=g.get("valueFormatter"),A=w.frag,M=A?_2(k?Oe({valueFormatter:k},A):A,b,v,T,a.get("useUTC"),g.get("textStyle")):w.text,O="item_"+l.name+"_"+c;this._showOrMove(g,function(){this._showTooltipContent(g,M,_,O,r.offsetX,r.offsetY,r.position,r.target,b)}),i({type:"showTip",dataIndexInside:c,dataIndex:f.getRawIndex(c),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(r,n,i){var a=Ut(n),o=a.tooltipConfig,s=o.option||{};if(et(s)){var u=s;s={content:u,formatter:u}}var l=[s],c=this._ecModel.getComponent(a.componentMainType,a.componentIndex);c&&l.push(c),l.push({formatter:s.content});var h=r.positionDefault,f=af(l,this._tooltipModel,h?{position:h}:null),v=f.get("content"),p=Math.random()+"",g=new Om;this._showOrMove(f,function(){var m=_t(f.get("formatterParams")||{});this._showTooltipContent(f,v,m,p,r.offsetX,r.offsetY,r.position,n,g)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(r,n,i,a,o,s,u,l,c){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var h=this._tooltipContent;h.setEnterable(r.get("enterable"));var f=r.get("formatter");u=u||r.get("position");var v=n,p=this._getNearestPoint([o,s],i,r.get("trigger"),r.get("borderColor")),g=p.color;if(f)if(et(f)){var m=r.ecModel.get("useUTC"),_=Ye(i)?i[0]:i,b=_&&_.axisType&&_.axisType.indexOf("time")>=0;v=f,b&&(v=Jp(_.axisValue,v,m)),v=IM(v,i,!0)}else if(ht(f)){var w=rr(function(T,k){T===this._ticket&&(h.setContent(k,c,r,g,u),this._updatePosition(r,u,o,s,h,i,l))},this);this._ticket=a,v=f(i,a,w)}else v=f;h.setContent(v,c,r,g,u),h.show(r,g),this._updatePosition(r,u,o,s,h,i,l)}},e.prototype._getNearestPoint=function(r,n,i,a){if(i==="axis"||Ye(n))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!Ye(n))return{color:a||n.color||n.borderColor}},e.prototype._updatePosition=function(r,n,i,a,o,s,u){var l=this._api.getWidth(),c=this._api.getHeight();n=n||r.get("position");var h=o.getSize(),f=r.get("align"),v=r.get("verticalAlign"),p=u&&u.getBoundingRect().clone();if(u&&p.applyTransform(u.transform),ht(n)&&(n=n([i,a],s,o.el,p,{viewSize:[l,c],contentSize:h.slice()})),Ye(n))i=Ht(n[0],l),a=Ht(n[1],c);else if(it(n)){var g=n;g.width=h[0],g.height=h[1];var m=es(g,{width:l,height:c});i=m.x,a=m.y,f=null,v=null}else if(et(n)&&u){var _=Bre(n,p,h,r.get("borderWidth"));i=_[0],a=_[1]}else{var _=Ore(i,a,o,l,c,f?null:20,v?null:20);i=_[0],a=_[1]}if(f&&(i-=kC(f)?h[0]/2:f==="right"?h[0]:0),v&&(a-=kC(v)?h[1]/2:v==="bottom"?h[1]:0),TR(r)){var _=Ire(i,a,o,l,c);i=_[0],a=_[1]}o.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(r,n){var i=this._lastDataByCoordSys,a=this._cbParamsList,o=!!i&&i.length===r.length;return o&&K(i,function(s,u){var l=s.dataByAxis||[],c=r[u]||{},h=c.dataByAxis||[];o=o&&l.length===h.length,o&&K(l,function(f,v){var p=h[v]||{},g=f.seriesDataIndices||[],m=p.seriesDataIndices||[];o=o&&f.value===p.value&&f.axisType===p.axisType&&f.axisId===p.axisId&&g.length===m.length,o&&K(g,function(_,b){var w=m[b];o=o&&_.seriesIndex===w.seriesIndex&&_.dataIndex===w.dataIndex}),a&&K(f.seriesDataIndices,function(_){var b=_.seriesIndex,w=n[b],T=a[b];w&&T&&T.data!==w.data&&(o=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=n,!!o},e.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},e.prototype.dispose=function(r,n){Tt.node||!n.getDom()||(M0(this,"_updatePosition"),this._tooltipContent.dispose(),Q0("itemTooltip",n))},e.type="tooltip",e}(Zn);function af(t,e,r){var n=e.ecModel,i;r?(i=new Vr(r,n,n),i=new Vr(e.option,i,n)):i=e;for(var a=t.length-1;a>=0;a--){var o=t[a];o&&(o instanceof Vr&&(o=o.get("tooltip",!0)),et(o)&&(o={formatter:o}),o&&(i=new Vr(o,i,n)))}return i}function AC(t,e){return t.dispatchAction||rr(e.dispatchAction,e)}function Ore(t,e,r,n,i,a,o){var s=r.getSize(),u=s[0],l=s[1];return a!=null&&(t+u+a+2>n?t-=u+a:t+=a),o!=null&&(e+l+o>i?e-=l+o:e+=o),[t,e]}function Ire(t,e,r,n,i){var a=r.getSize(),o=a[0],s=a[1];return t=Math.min(t+o,n)-o,e=Math.min(e+s,i)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function Bre(t,e,r,n){var i=r[0],a=r[1],o=Math.ceil(Math.SQRT2*n)+8,s=0,u=0,l=e.width,c=e.height;switch(t){case"inside":s=e.x+l/2-i/2,u=e.y+c/2-a/2;break;case"top":s=e.x+l/2-i/2,u=e.y-a-o;break;case"bottom":s=e.x+l/2-i/2,u=e.y+c+o;break;case"left":s=e.x-i-o,u=e.y+c/2-a/2;break;case"right":s=e.x+l+o,u=e.y+c/2-a/2}return[s,u]}function kC(t){return t==="center"||t==="middle"}function Nre(t,e,r){var n=u_(t).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var a=Mh(e,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var s=r.getViewOfComponentModel(o),u;if(s.group.traverse(function(l){var c=Ut(l).tooltipConfig;if(c&&c.name===t.name)return u=l,!0}),u)return{componentMainType:i,componentIndex:o.componentIndex,el:u}}}}const Fre=Rre;function Kie(t){io(sb),t.registerComponentModel(yre),t.registerComponentView(Fre),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},xn),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},xn)}var $re=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode={type:"box",ignoreSize:!0},r}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Kt),Hre=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i){if(this.group.removeAll(),!!r.get("show")){var a=this.group,o=r.getModel("textStyle"),s=r.getModel("subtextStyle"),u=r.get("textAlign"),l=Rt(r.get("textBaseline"),r.get("textVerticalAlign")),c=new Fr({style:no(o,{text:r.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),h=c.getBoundingRect(),f=r.get("subtext"),v=new Fr({style:no(s,{text:f,fill:s.getTextColor(),y:h.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=r.get("link"),g=r.get("sublink"),m=r.get("triggerEvent",!0);c.silent=!p&&!m,v.silent=!g&&!m,p&&c.on("click",function(){qw(p,"_"+r.get("target"))}),g&&v.on("click",function(){qw(g,"_"+r.get("subtarget"))}),Ut(c).eventData=Ut(v).eventData=m?{componentType:"title",componentIndex:r.componentIndex}:null,a.add(c),f&&a.add(v);var _=a.getBoundingRect(),b=r.getBoxLayoutParams();b.width=_.width,b.height=_.height;var w=es(b,{width:i.getWidth(),height:i.getHeight()},r.get("padding"));u||(u=r.get("left")||r.get("right"),u==="middle"&&(u="center"),u==="right"?w.x+=w.width:u==="center"&&(w.x+=w.width/2)),l||(l=r.get("top")||r.get("bottom"),l==="center"&&(l="middle"),l==="bottom"?w.y+=w.height:l==="middle"&&(w.y+=w.height/2),l=l||"top"),a.x=w.x,a.y=w.y,a.markRedraw();var T={align:u,verticalAlign:l};c.setStyle(T),v.setStyle(T),_=a.getBoundingRect();var k=w.margin,A=r.getItemStyle(["color","opacity"]);A.fill=r.get("backgroundColor");var M=new Sr({shape:{x:_.x-k[3],y:_.y-k[0],width:_.width+k[1]+k[3],height:_.height+k[0]+k[2],r:r.get("borderRadius")},style:A,subPixelOptimize:!0,silent:!0});a.add(M)}},e.type="title",e}(Zn);function Qie(t){t.registerComponentModel($re),t.registerComponentView(Hre)}var zre=function(t,e){if(e==="all")return{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}},Ure=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode={type:"box",ignoreSize:!0},r}return e.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),r.selected=r.selected||{},this._updateSelector(r)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.call(this,r,n),this._updateSelector(r)},e.prototype._updateSelector=function(r){var n=r.selector,i=this.ecModel;n===!0&&(n=r.selector=["all","inverse"]),Ye(n)&&K(n,function(a,o){et(a)&&(a={type:a}),n[o]=Ct(a,zre(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<r.length;i++){var a=r[i].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(r[0].get("name"))}},e.prototype._updateData=function(r){var n=[],i=[];r.eachRawSeries(function(u){var l=u.name;i.push(l);var c;if(u.legendVisualProvider){var h=u.legendVisualProvider,f=h.getAllNames();r.isSeriesFiltered(u)||(i=i.concat(f)),f.length?n=n.concat(f):c=!0}else c=!0;c&&s_(u)&&n.push(u.name)}),this._availableNames=i;var a=this.get("data")||n,o=ft(),s=qe(a,function(u){return(et(u)||Wt(u))&&(u={name:u}),o.get(u.name)?null:(o.set(u.name,!0),new Vr(u,this,this.ecModel))},this);this._data=br(s,function(u){return!!u})},e.prototype.getData=function(){return this._data},e.prototype.select=function(r){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;K(a,function(o){n[o.get("name")]=!1})}n[r]=!0},e.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},e.prototype.toggleSelected=function(r){var n=this.option.selected;n.hasOwnProperty(r)||(n[r]=!0),this[n[r]?"unSelect":"select"](r)},e.prototype.allSelect=function(){var r=this._data,n=this.option.selected;K(r,function(i){n[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var r=this._data,n=this.option.selected;K(r,function(i){var a=i.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},e.prototype.isSelected=function(r){var n=this.option.selected;return!(n.hasOwnProperty(r)&&!n[r])&&Lt(this._availableNames,r)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Kt);const r1=Ure;var ol=zt,n1=K,Jd=Er,Vre=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.newlineDisabled=!1,r}return e.prototype.init=function(){this.group.add(this._contentGroup=new Jd),this.group.add(this._selectorGroup=new Jd),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(r,n,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var o=r.get("align"),s=r.get("orient");(!o||o==="auto")&&(o=r.get("left")==="right"&&s==="vertical"?"right":"left");var u=r.get("selector",!0),l=r.get("selectorPosition",!0);u&&(!l||l==="auto")&&(l=s==="horizontal"?"end":"start"),this.renderInner(o,r,n,i,u,s,l);var c=r.getBoxLayoutParams(),h={width:i.getWidth(),height:i.getHeight()},f=r.get("padding"),v=es(c,h,f),p=this.layoutInner(r,o,v,a,u,l),g=es(ct({width:p.width,height:p.height},c),h,f);this.group.x=g.x-p.x,this.group.y=g.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=bR(p,r))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(r,n,i,a,o,s,u){var l=this.getContentGroup(),c=ft(),h=n.get("selectedMode"),f=[];i.eachRawSeries(function(v){!v.get("legendHoverLink")&&f.push(v.id)}),n1(n.getData(),function(v,p){var g=v.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var m=new Jd;m.newline=!0,l.add(m);return}var _=i.getSeriesByName(g)[0];if(!c.get(g))if(_){var b=_.getData(),w=b.getVisual("legendLineStyle")||{},T=b.getVisual("legendIcon"),k=b.getVisual("style"),A=this._createItem(_,g,p,v,n,r,w,k,T,h,a);A.on("click",ol(PC,g,null,a,f)).on("mouseover",ol(i1,_.name,null,a,f)).on("mouseout",ol(a1,_.name,null,a,f)),c.set(g,!0)}else i.eachRawSeries(function(M){if(!c.get(g)&&M.legendVisualProvider){var O=M.legendVisualProvider;if(!O.containName(g))return;var F=O.indexOfName(g),$=O.getItemVisual(F,"style"),B=O.getItemVisual(F,"legendIcon"),U=Qa($.fill);U&&U[3]===0&&(U[3]=.2,$=Oe(Oe({},$),{fill:$p(U,"rgba")}));var H=this._createItem(M,g,p,v,n,r,{},$,B,h,a);H.on("click",ol(PC,null,g,a,f)).on("mouseover",ol(i1,null,g,a,f)).on("mouseout",ol(a1,null,g,a,f)),c.set(g,!0)}},this)},this),o&&this._createSelector(o,n,a,s,u)},e.prototype._createSelector=function(r,n,i,a,o){var s=this.getSelectorGroup();n1(r,function(l){var c=l.type,h=new Fr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(h);var f=n.getModel("selectorLabel"),v=n.getModel(["emphasis","selectorLabel"]);Lh(h,{normal:f,emphasis:v},{defaultText:l.title}),m0(h)})},e.prototype._createItem=function(r,n,i,a,o,s,u,l,c,h,f){var v=r.visualDrawType,p=o.get("itemWidth"),g=o.get("itemHeight"),m=o.isSelected(n),_=a.get("symbolRotate"),b=a.get("symbolKeepAspect"),w=a.get("icon");c=w||c||"roundRect";var T=Gre(c,a,u,l,v,m,f),k=new Jd,A=a.getModel("textStyle");if(ht(r.getLegendIcon)&&(!w||w==="inherit"))k.add(r.getLegendIcon({itemWidth:p,itemHeight:g,icon:c,iconRotate:_,itemStyle:T.itemStyle,lineStyle:T.lineStyle,symbolKeepAspect:b}));else{var M=w==="inherit"&&r.getData().getVisual("symbol")?_==="inherit"?r.getData().getVisual("symbolRotate"):_:0;k.add(jre({itemWidth:p,itemHeight:g,icon:c,iconRotate:M,itemStyle:T.itemStyle,lineStyle:T.lineStyle,symbolKeepAspect:b}))}var O=s==="left"?p+5:-5,F=s,$=o.get("formatter"),B=n;et($)&&$?B=$.replace("{name}",n??""):ht($)&&(B=$(n));var U=a.get("inactiveColor");k.add(new Fr({style:no(A,{text:B,x:O,y:g/2,fill:m?A.getTextColor():U,align:F,verticalAlign:"middle"})}));var H=new Sr({shape:k.getBoundingRect(),invisible:!0}),W=a.getModel("tooltip");return W.get("show")&&Zp({el:H,componentModel:o,itemName:n,itemTooltipOption:W.option}),k.add(H),k.eachChild(function(z){z.silent=!0}),H.silent=!h,this.getContentGroup().add(k),m0(k),k.__legendDataIndex=i,k},e.prototype.layoutInner=function(r,n,i,a,o,s){var u=this.getContentGroup(),l=this.getSelectorGroup();Bl(r.get("orient"),u,r.get("itemGap"),i.width,i.height);var c=u.getBoundingRect(),h=[-c.x,-c.y];if(l.markRedraw(),u.markRedraw(),o){Bl("horizontal",l,r.get("selectorItemGap",!0));var f=l.getBoundingRect(),v=[-f.x,-f.y],p=r.get("selectorButtonGap",!0),g=r.getOrient().index,m=g===0?"width":"height",_=g===0?"height":"width",b=g===0?"y":"x";s==="end"?v[g]+=c[m]+p:h[g]+=f[m]+p,v[1-g]+=c[_]/2-f[_]/2,l.x=v[0],l.y=v[1],u.x=h[0],u.y=h[1];var w={x:0,y:0};return w[m]=c[m]+p+f[m],w[_]=Math.max(c[_],f[_]),w[b]=Math.min(0,f[b]+v[1-g]),w}else return u.x=h[0],u.y=h[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(Zn);function Gre(t,e,r,n,i,a,o){function s(m,_){m.lineWidth==="auto"&&(m.lineWidth=_.lineWidth>0?2:0),n1(m,function(b,w){m[w]==="inherit"&&(m[w]=_[w])})}var u=e.getModel("itemStyle"),l=u.getItemStyle(),c=t.lastIndexOf("empty",0)===0?"fill":"stroke",h=u.getShallow("decal");l.decal=!h||h==="inherit"?n.decal:I0(h,o),l.fill==="inherit"&&(l.fill=n[i]),l.stroke==="inherit"&&(l.stroke=n[c]),l.opacity==="inherit"&&(l.opacity=(i==="fill"?n:r).opacity),s(l,n);var f=e.getModel("lineStyle"),v=f.getLineStyle();if(s(v,r),l.fill==="auto"&&(l.fill=n.fill),l.stroke==="auto"&&(l.stroke=n.fill),v.stroke==="auto"&&(v.stroke=n.fill),!a){var p=e.get("inactiveBorderWidth"),g=l[c];l.lineWidth=p==="auto"?n.lineWidth>0&&g?2:0:l.lineWidth,l.fill=e.get("inactiveColor"),l.stroke=e.get("inactiveBorderColor"),v.stroke=f.get("inactiveColor"),v.lineWidth=f.get("inactiveWidth")}return{itemStyle:l,lineStyle:v}}function jre(t){var e=t.icon||"roundRect",r=tc(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return r.setStyle(t.itemStyle),r.rotation=(t.iconRotate||0)*Math.PI/180,r.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function PC(t,e,r,n){a1(t,e,r,n),r.dispatchAction({type:"legendToggleSelect",name:t??e}),i1(t,e,r,n)}function PR(t){for(var e=t.getZr().storage.getDisplayList(),r,n=0,i=e.length;n<i&&!(r=e[n].states.emphasis);)n++;return r&&r.hoverLayer}function i1(t,e,r,n){PR(r)||r.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:n})}function a1(t,e,r,n){PR(r)||r.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:n})}const ER=Vre;function Wre(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(r){for(var n=0;n<e.length;n++)if(!e[n].isSelected(r.name))return!1;return!0})}function of(t,e,r){var n={},i=t==="toggleSelected",a;return r.eachComponent("legend",function(o){i&&a!=null?o[a?"select":"unSelect"](e.name):t==="allSelect"||t==="inverseSelect"?o[t]():(o[t](e.name),a=o.isSelected(e.name));var s=o.getData();K(s,function(u){var l=u.get("name");if(!(l===`
`||l==="")){var c=o.isSelected(l);n.hasOwnProperty(l)?n[l]=n[l]&&c:n[l]=c}})}),t==="allSelect"||t==="inverseSelect"?{selected:n}:{name:e.name,selected:n}}function Yre(t){t.registerAction("legendToggleSelect","legendselectchanged",zt(of,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",zt(of,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",zt(of,"inverseSelect")),t.registerAction("legendSelect","legendselected",zt(of,"select")),t.registerAction("legendUnSelect","legendunselected",zt(of,"unSelect"))}function MR(t){t.registerComponentModel(r1),t.registerComponentView(ER),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,Wre),t.registerSubTypeDefaulter("legend",function(){return"plain"}),Yre(t)}var Xre=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},e.prototype.init=function(r,n,i){var a=ag(r);t.prototype.init.call(this,r,n,i),EC(this,r,a)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.call(this,r,n),EC(this,this.option,r)},e.type="legend.scroll",e.defaultOption=SM(r1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(r1);function EC(t,e,r){var n=t.getOrient(),i=[1,1];i[n.index]=0,Jl(e,r,{type:"box",ignoreSize:!!i})}const qre=Xre;var MC=Er,uy=["width","height"],ly=["x","y"],Zre=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.newlineDisabled=!0,r._currentIndex=0,r}return e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new MC),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new MC)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(r,n,i,a,o,s,u){var l=this;t.prototype.renderInner.call(this,r,n,i,a,o,s,u);var c=this._controllerGroup,h=n.get("pageIconSize",!0),f=Ye(h)?h:[h,h];p("pagePrev",0);var v=n.getModel("pageTextStyle");c.add(new Fr({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(g,m){var _=g+"DataIndex",b=qp(n.get("pageIcons",!0)[n.getOrient().name][m],{onclick:rr(l._pageGo,l,_,n,a)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});b.name=g,c.add(b)}},e.prototype.layoutInner=function(r,n,i,a,o,s){var u=this.getSelectorGroup(),l=r.getOrient().index,c=uy[l],h=ly[l],f=uy[1-l],v=ly[1-l];o&&Bl("horizontal",u,r.get("selectorItemGap",!0));var p=r.get("selectorButtonGap",!0),g=u.getBoundingRect(),m=[-g.x,-g.y],_=_t(i);o&&(_[c]=i[c]-g[c]-p);var b=this._layoutContentAndController(r,a,_,l,c,f,v,h);if(o){if(s==="end")m[l]+=b[c]+p;else{var w=g[c]+p;m[l]-=w,b[h]-=w}b[c]+=g[c]+p,m[1-l]+=b[v]+b[f]/2-g[f]/2,b[f]=Math.max(b[f],g[f]),b[v]=Math.min(b[v],g[v]+m[1-l]),u.x=m[0],u.y=m[1],u.markRedraw()}return b},e.prototype._layoutContentAndController=function(r,n,i,a,o,s,u,l){var c=this.getContentGroup(),h=this._containerGroup,f=this._controllerGroup;Bl(r.get("orient"),c,r.get("itemGap"),a?i.width:null,a?null:i.height),Bl("horizontal",f,r.get("pageButtonItemGap",!0));var v=c.getBoundingRect(),p=f.getBoundingRect(),g=this._showController=v[o]>i[o],m=[-v.x,-v.y];n||(m[a]=c[l]);var _=[0,0],b=[-p.x,-p.y],w=Rt(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(g){var T=r.get("pageButtonPosition",!0);T==="end"?b[a]+=i[o]-p[o]:_[a]+=p[o]+w}b[1-a]+=v[s]/2-p[s]/2,c.setPosition(m),h.setPosition(_),f.setPosition(b);var k={x:0,y:0};if(k[o]=g?i[o]:v[o],k[s]=Math.max(v[s],p[s]),k[u]=Math.min(0,p[u]+b[1-a]),h.__rectSize=i[o],g){var A={x:0,y:0};A[o]=Math.max(i[o]-p[o]-w,0),A[s]=k[s],h.setClipPath(new Sr({shape:A})),h.__rectSize=A[o]}else f.eachChild(function(O){O.attr({invisible:!0,silent:!0})});var M=this._getPageInfo(r);return M.pageIndex!=null&&jr(c,{x:M.contentPosition[0],y:M.contentPosition[1]},g?r:null),this._updatePageInfoView(r,M),k},e.prototype._pageGo=function(r,n,i){var a=this._getPageInfo(n)[r];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},e.prototype._updatePageInfoView=function(r,n){var i=this._controllerGroup;K(["pagePrev","pageNext"],function(c){var h=c+"DataIndex",f=n[h]!=null,v=i.childOfName(c);v&&(v.setStyle("fill",f?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),v.cursor=f?"pointer":"default")});var a=i.childOfName("pageText"),o=r.get("pageFormatter"),s=n.pageIndex,u=s!=null?s+1:0,l=n.pageCount;a&&o&&a.setStyle("text",et(o)?o.replace("{current}",u==null?"":u+"").replace("{total}",l==null?"":l+""):o({current:u,total:l}))},e.prototype._getPageInfo=function(r){var n=r.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=r.getOrient().index,s=uy[o],u=ly[o],l=this._findTargetItemIndex(n),c=i.children(),h=c[l],f=c.length,v=f?1:0,p={contentPosition:[i.x,i.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return p;var g=T(h);p.contentPosition[o]=-g.s;for(var m=l+1,_=g,b=g,w=null;m<=f;++m)w=T(c[m]),(!w&&b.e>_.s+a||w&&!k(w,_.s))&&(b.i>_.i?_=b:_=w,_&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=_.i),++p.pageCount)),b=w;for(var m=l-1,_=g,b=g,w=null;m>=-1;--m)w=T(c[m]),(!w||!k(b,w.s))&&_.i<b.i&&(b=_,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=_.i),++p.pageCount,++p.pageIndex),_=w;return p;function T(A){if(A){var M=A.getBoundingRect(),O=M[u]+A[u];return{s:O,e:O+M[s],i:A.__legendDataIndex}}}function k(A,M){return A.e>=M&&A.s<=M+a}},e.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var n,i=this.getContentGroup(),a;return i.eachChild(function(o,s){var u=o.__legendDataIndex;a==null&&u!=null&&(a=s),u===r&&(n=s)}),n??a},e.type="legend.scroll",e}(ER);const Kre=Zre;function Qre(t){t.registerAction("legendScroll","legendscroll",function(e,r){var n=e.scrollDataIndex;n!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(n)})})}function Jre(t){io(MR),t.registerComponentModel(qre),t.registerComponentView(Kre),Qre(t)}function Jie(t){io(MR),io(Jre)}var DC={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},ene=function(){function t(e){var r=this._condVal=et(e)?new RegExp(e):VU(e)?e:null;if(r==null){var n="";$t(n)}}return t.prototype.evaluate=function(e){var r=typeof e;return et(r)?this._condVal.test(e):Wt(r)?this._condVal.test(e+""):!1},t}(),tne=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),rne=function(){function t(){}return t.prototype.evaluate=function(){for(var e=this.children,r=0;r<e.length;r++)if(!e[r].evaluate())return!1;return!0},t}(),nne=function(){function t(){}return t.prototype.evaluate=function(){for(var e=this.children,r=0;r<e.length;r++)if(e[r].evaluate())return!0;return!1},t}(),ine=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),ane=function(){function t(){}return t.prototype.evaluate=function(){for(var e=!!this.valueParser,r=this.getValue,n=r(this.valueGetterParam),i=e?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?i:n))return!1;return!0},t}();function vb(t,e){if(t===!0||t===!1){var r=new tne;return r.value=t,r}var n="";return DR(t)||$t(n),t.and?LC("and",t,e):t.or?LC("or",t,e):t.not?one(t,e):sne(t,e)}function LC(t,e,r){var n=e[t],i="";Ye(n)||$t(i),n.length||$t(i);var a=t==="and"?new rne:new nne;return a.children=qe(n,function(o){return vb(o,r)}),a.children.length||$t(i),a}function one(t,e){var r=t.not,n="";DR(r)||$t(n);var i=new ine;return i.child=vb(r,e),i.child||$t(n),i}function sne(t,e){for(var r="",n=e.prepareGetValue(t),i=[],a=lr(t),o=t.parser,s=o?JM(o):null,u=0;u<a.length;u++){var l=a[u];if(!(l==="parser"||e.valueGetterAttrMap.get(l))){var c=eo(DC,l)?DC[l]:l,h=t[l],f=s?s(h):h,v=_X(c,f)||c==="reg"&&new ene(f);v||$t(r),i.push(v)}}i.length||$t(r);var p=new ane;return p.valueGetterParam=n,p.valueParser=s,p.getValue=e.getValue,p.subCondList=i,p}function DR(t){return it(t)&&!Sn(t)}var une=function(){function t(e,r){this._cond=vb(e,r)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();function lne(t,e){return new une(t,e)}var cne={type:"echarts:filter",transform:function(t){for(var e=t.upstream,r,n=lne(t.config,{valueGetterAttrMap:ft({dimension:!0}),prepareGetValue:function(s){var u="",l=s.dimension;eo(s,"dimension")||$t(u);var c=e.getDimensionInfo(l);return c||$t(u),{dimIdx:c.index}},getValue:function(s){return e.retrieveValueFromItem(r,s.dimIdx)}}),i=[],a=0,o=e.count();a<o;a++)r=e.getRawDataItem(a),n.evaluate()&&i.push(r);return{data:i}}},fne={type:"echarts:sort",transform:function(t){var e=t.upstream,r=t.config,n="",i=Cr(r);i.length||$t(n);var a=[];K(i,function(c){var h=c.dimension,f=c.order,v=c.parser,p=c.incomparable;if(h==null&&$t(n),f!=="asc"&&f!=="desc"&&$t(n),p&&p!=="min"&&p!=="max"){var g="";$t(g)}if(f!=="asc"&&f!=="desc"){var m="";$t(m)}var _=e.getDimensionInfo(h);_||$t(n);var b=v?JM(v):null;v&&!b&&$t(n),a.push({dimIdx:_.index,parser:b,comparator:new tD(f,p)})});var o=e.sourceFormat;o!==wn&&o!==xi&&$t(n);for(var s=[],u=0,l=e.count();u<l;u++)s.push(e.getRawDataItem(u));return s.sort(function(c,h){for(var f=0;f<a.length;f++){var v=a[f],p=e.retrieveValueFromItem(c,v.dimIdx),g=e.retrieveValueFromItem(h,v.dimIdx);v.parser&&(p=v.parser(p),g=v.parser(g));var m=v.comparator.evaluate(p,g);if(m!==0)return m}return 0}),{data:s}}};function eae(t){t.registerTransform(cne),t.registerTransform(fne)}var hne=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dataset",r}return e.prototype.init=function(r,n,i){t.prototype.init.call(this,r,n,i),this._sourceManager=new aD(this),m2(this)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.call(this,r,n),m2(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:ya},e}(Kt),dne=function(t){De(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dataset",r}return e.type="dataset",e}(Zn);function tae(t){t.registerComponentModel(hne),t.registerComponentView(dne)}var la=ro.CMD;function wl(t,e){return Math.abs(t-e)<1e-5}function o1(t){var e=t.data,r=t.len(),n=[],i,a=0,o=0,s=0,u=0;function l(H,W){i&&i.length>2&&n.push(i),i=[H,W]}function c(H,W,z,G){wl(H,z)&&wl(W,G)||i.push(H,W,z,G,z,G)}function h(H,W,z,G,Y,Q){var J=Math.abs(W-H),ae=Math.tan(J/4)*4/3,he=W<H?-1:1,ve=Math.cos(H),we=Math.sin(H),Te=Math.cos(W),Le=Math.sin(W),$e=ve*Y+z,se=we*Q+G,pe=Te*Y+z,ge=Le*Q+G,be=Y*ae*he,Ce=Q*ae*he;i.push($e-be*we,se+Ce*ve,pe+be*Le,ge-Ce*Te,pe,ge)}for(var f,v,p,g,m=0;m<r;){var _=e[m++],b=m===1;switch(b&&(a=e[m],o=e[m+1],s=a,u=o,(_===la.L||_===la.C||_===la.Q)&&(i=[s,u])),_){case la.M:a=s=e[m++],o=u=e[m++],l(s,u);break;case la.L:f=e[m++],v=e[m++],c(a,o,f,v),a=f,o=v;break;case la.C:i.push(e[m++],e[m++],e[m++],e[m++],a=e[m++],o=e[m++]);break;case la.Q:f=e[m++],v=e[m++],p=e[m++],g=e[m++],i.push(a+2/3*(f-a),o+2/3*(v-o),p+2/3*(f-p),g+2/3*(v-g),p,g),a=p,o=g;break;case la.A:var w=e[m++],T=e[m++],k=e[m++],A=e[m++],M=e[m++],O=e[m++]+M;m+=1;var F=!e[m++];f=Math.cos(M)*k+w,v=Math.sin(M)*A+T,b?(s=f,u=v,l(s,u)):c(a,o,f,v),a=Math.cos(O)*k+w,o=Math.sin(O)*A+T;for(var $=(F?-1:1)*Math.PI/2,B=M;F?B>O:B<O;B+=$){var U=F?Math.max(B+$,O):Math.min(B+$,O);h(B,U,w,T,k,A)}break;case la.R:s=a=e[m++],u=o=e[m++],f=s+e[m++],v=u+e[m++],l(f,u),c(f,u,f,v),c(f,v,s,v),c(s,v,s,u),c(s,u,f,u);break;case la.Z:i&&c(a,o,s,u),a=s,o=u;break}}return i&&i.length>2&&n.push(i),n}function s1(t,e,r,n,i,a,o,s,u,l){if(wl(t,r)&&wl(e,n)&&wl(i,o)&&wl(a,s)){u.push(o,s);return}var c=2/l,h=c*c,f=o-t,v=s-e,p=Math.sqrt(f*f+v*v);f/=p,v/=p;var g=r-t,m=n-e,_=i-o,b=a-s,w=g*g+m*m,T=_*_+b*b;if(w<h&&T<h){u.push(o,s);return}var k=f*g+v*m,A=-f*_-v*b,M=w-k*k,O=T-A*A;if(M<h&&k>=0&&O<h&&A>=0){u.push(o,s);return}var F=[],$=[];Ko(t,r,i,o,.5,F),Ko(e,n,a,s,.5,$),s1(F[0],$[0],F[1],$[1],F[2],$[2],F[3],$[3],u,l),s1(F[4],$[4],F[5],$[5],F[6],$[6],F[7],$[7],u,l)}function vne(t,e){var r=o1(t),n=[];e=e||1;for(var i=0;i<r.length;i++){var a=r[i],o=[],s=a[0],u=a[1];o.push(s,u);for(var l=2;l<a.length;){var c=a[l++],h=a[l++],f=a[l++],v=a[l++],p=a[l++],g=a[l++];s1(s,u,c,h,f,v,p,g,o,e),s=p,u=g}n.push(o)}return n}function LR(t,e,r){var n=t[e],i=t[1-e],a=Math.abs(n/i),o=Math.ceil(Math.sqrt(a*r)),s=Math.floor(r/o);s===0&&(s=1,o=r);for(var u=[],l=0;l<o;l++)u.push(s);var c=o*s,h=r-c;if(h>0)for(var l=0;l<h;l++)u[l%o]+=1;return u}function RC(t,e,r){for(var n=t.r0,i=t.r,a=t.startAngle,o=t.endAngle,s=Math.abs(o-a),u=s*i,l=i-n,c=u>Math.abs(l),h=LR([u,l],c?0:1,e),f=(c?s:l)/h.length,v=0;v<h.length;v++)for(var p=(c?l:s)/h[v],g=0;g<h[v];g++){var m={};c?(m.startAngle=a+f*v,m.endAngle=a+f*(v+1),m.r0=n+p*g,m.r=n+p*(g+1)):(m.startAngle=a+p*g,m.endAngle=a+p*(g+1),m.r0=n+f*v,m.r=n+f*(v+1)),m.clockwise=t.clockwise,m.cx=t.cx,m.cy=t.cy,r.push(m)}}function pne(t,e,r){for(var n=t.width,i=t.height,a=n>i,o=LR([n,i],a?0:1,e),s=a?"width":"height",u=a?"height":"width",l=a?"x":"y",c=a?"y":"x",h=t[s]/o.length,f=0;f<o.length;f++)for(var v=t[u]/o[f],p=0;p<o[f];p++){var g={};g[l]=f*h,g[c]=p*v,g[s]=h,g[u]=v,g.x+=t.x,g.y+=t.y,r.push(g)}}function OC(t,e,r,n){return t*n-r*e}function gne(t,e,r,n,i,a,o,s){var u=r-t,l=n-e,c=o-i,h=s-a,f=OC(c,h,u,l);if(Math.abs(f)<1e-6)return null;var v=t-i,p=e-a,g=OC(v,p,c,h)/f;return g<0||g>1?null:new ot(g*u+t,g*l+e)}function mne(t,e,r){var n=new ot;ot.sub(n,r,e),n.normalize();var i=new ot;ot.sub(i,t,e);var a=i.dot(n);return a}function sl(t,e){var r=t[t.length-1];r&&r[0]===e[0]&&r[1]===e[1]||t.push(e)}function yne(t,e,r){for(var n=t.length,i=[],a=0;a<n;a++){var o=t[a],s=t[(a+1)%n],u=gne(o[0],o[1],s[0],s[1],e.x,e.y,r.x,r.y);u&&i.push({projPt:mne(u,e,r),pt:u,idx:a})}if(i.length<2)return[{points:t},{points:t}];i.sort(function(m,_){return m.projPt-_.projPt});var l=i[0],c=i[i.length-1];if(c.idx<l.idx){var h=l;l=c,c=h}for(var f=[l.pt.x,l.pt.y],v=[c.pt.x,c.pt.y],p=[f],g=[v],a=l.idx+1;a<=c.idx;a++)sl(p,t[a].slice());sl(p,v),sl(p,f);for(var a=c.idx+1;a<=l.idx+n;a++)sl(g,t[a%n].slice());return sl(g,f),sl(g,v),[{points:p},{points:g}]}function IC(t){var e=t.points,r=[],n=[];PE(e,r,n);var i=new Nt(r[0],r[1],n[0]-r[0],n[1]-r[1]),a=i.width,o=i.height,s=i.x,u=i.y,l=new ot,c=new ot;return a>o?(l.x=c.x=s+a/2,l.y=u,c.y=u+o):(l.y=c.y=u+o/2,l.x=s,c.x=s+a),yne(e,l,c)}function mp(t,e,r,n){if(r===1)n.push(e);else{var i=Math.floor(r/2),a=t(e);mp(t,a[0],i,n),mp(t,a[1],r-i,n)}return n}function _ne(t,e){for(var r=[],n=0;n<e;n++)r.push(v_(t));return r}function bne(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function xne(t){for(var e=[],r=0;r<t.length;)e.push([t[r++],t[r++]]);return e}function Sne(t,e){var r=[],n=t.shape,i;switch(t.type){case"rect":pne(n,e,r),i=Sr;break;case"sector":RC(n,e,r),i=$i;break;case"circle":RC({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},e,r),i=$i;break;default:var a=t.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=qe(vne(t.getUpdatedPathProxy(),o),function(_){return xne(_)}),u=s.length;if(u===0)mp(IC,{points:s[0]},e,r);else if(u===e)for(var l=0;l<u;l++)r.push({points:s[l]});else{var c=0,h=qe(s,function(_){var b=[],w=[];PE(_,b,w);var T=(w[1]-b[1])*(w[0]-b[0]);return c+=T,{poly:_,area:T}});h.sort(function(_,b){return b.area-_.area});for(var f=e,l=0;l<u;l++){var v=h[l];if(f<=0)break;var p=l===u-1?f:Math.ceil(v.area/c*e);p<0||(mp(IC,{points:v.poly},p,r),f-=p)}}i=Wp;break}if(!i)return _ne(t,e);for(var g=[],l=0;l<r.length;l++){var m=new i;m.setShape(r[l]),bne(t,m),g.push(m)}return g}function wne(t,e){var r=t.length,n=e.length;if(r===n)return[t,e];for(var i=[],a=[],o=r<n?t:e,s=Math.min(r,n),u=Math.abs(n-r)/6,l=(s-2)/6,c=Math.ceil(u/l)+1,h=[o[0],o[1]],f=u,v=2;v<s;){var p=o[v-2],g=o[v-1],m=o[v++],_=o[v++],b=o[v++],w=o[v++],T=o[v++],k=o[v++];if(f<=0){h.push(m,_,b,w,T,k);continue}for(var A=Math.min(f,c-1)+1,M=1;M<=A;M++){var O=M/A;Ko(p,m,b,T,O,i),Ko(g,_,w,k,O,a),p=i[3],g=a[3],h.push(i[1],a[1],i[2],a[2],p,g),m=i[5],_=a[5],b=i[6],w=a[6]}f-=A-1}return o===t?[h,e]:[t,h]}function BC(t,e){for(var r=t.length,n=t[r-2],i=t[r-1],a=[],o=0;o<e.length;)a[o++]=n,a[o++]=i;return a}function Tne(t,e){for(var r,n,i,a=[],o=[],s=0;s<Math.max(t.length,e.length);s++){var u=t[s],l=e[s],c=void 0,h=void 0;u?l?(r=wne(u,l),c=r[0],h=r[1],n=c,i=h):(h=BC(i||u,u),c=u):(c=BC(n||l,l),h=l),a.push(c),o.push(h)}return[a,o]}function NC(t){for(var e=0,r=0,n=0,i=t.length,a=0,o=i-2;a<i;o=a,a+=2){var s=t[o],u=t[o+1],l=t[a],c=t[a+1],h=s*c-l*u;e+=h,r+=(s+l)*h,n+=(u+c)*h}return e===0?[t[0]||0,t[1]||0]:[r/e/3,n/e/3,e]}function Cne(t,e,r,n){for(var i=(t.length-2)/6,a=1/0,o=0,s=t.length,u=s-2,l=0;l<i;l++){for(var c=l*6,h=0,f=0;f<s;f+=2){var v=f===0?c:(c+f-2)%u+2,p=t[v]-r[0],g=t[v+1]-r[1],m=e[f]-n[0],_=e[f+1]-n[1],b=m-p,w=_-g;h+=b*b+w*w}h<a&&(a=h,o=l)}return o}function Ane(t){for(var e=[],r=t.length,n=0;n<r;n+=2)e[n]=t[r-n-2],e[n+1]=t[r-n-1];return e}function kne(t,e,r,n){for(var i=[],a,o=0;o<t.length;o++){var s=t[o],u=e[o],l=NC(s),c=NC(u);a==null&&(a=l[2]<0!=c[2]<0);var h=[],f=[],v=0,p=1/0,g=[],m=s.length;a&&(s=Ane(s));for(var _=Cne(s,u,l,c)*6,b=m-2,w=0;w<b;w+=2){var T=(_+w)%b+2;h[w+2]=s[T]-l[0],h[w+3]=s[T+1]-l[1]}if(h[0]=s[_]-l[0],h[1]=s[_+1]-l[1],r>0)for(var k=n/r,A=-n/2;A<=n/2;A+=k){for(var M=Math.sin(A),O=Math.cos(A),F=0,w=0;w<s.length;w+=2){var $=h[w],B=h[w+1],U=u[w]-c[0],H=u[w+1]-c[1],W=U*O-H*M,z=U*M+H*O;g[w]=W,g[w+1]=z;var G=W-$,Y=z-B;F+=G*G+Y*Y}if(F<p){p=F,v=A;for(var Q=0;Q<g.length;Q++)f[Q]=g[Q]}}else for(var J=0;J<m;J+=2)f[J]=u[J]-c[0],f[J+1]=u[J+1]-c[1];i.push({from:h,to:f,fromCp:l,toCp:c,rotation:-v})}return i}function yp(t){return t.__isCombineMorphing}var RR="__mOriginal_";function _p(t,e,r){var n=RR+e,i=t[n]||t[e];t[n]||(t[n]=t[e]);var a=r.replace,o=r.after,s=r.before;t[e]=function(){var u=arguments,l;return s&&s.apply(this,u),a?l=a.apply(this,u):l=i.apply(this,u),o&&o.apply(this,u),l}}function zf(t,e){var r=RR+e;t[r]&&(t[e]=t[r],t[r]=null)}function FC(t,e){for(var r=0;r<t.length;r++)for(var n=t[r],i=0;i<n.length;){var a=n[i],o=n[i+1];n[i++]=e[0]*a+e[2]*o+e[4],n[i++]=e[1]*a+e[3]*o+e[5]}}function OR(t,e){var r=t.getUpdatedPathProxy(),n=e.getUpdatedPathProxy(),i=Tne(o1(r),o1(n)),a=i[0],o=i[1],s=t.getComputedTransform(),u=e.getComputedTransform();function l(){this.transform=null}s&&FC(a,s),u&&FC(o,u),_p(e,"updateTransform",{replace:l}),e.transform=null;var c=kne(a,o,10,Math.PI),h=[];_p(e,"buildPath",{replace:function(f){for(var v=e.__morphT,p=1-v,g=[],m=0;m<c.length;m++){var _=c[m],b=_.from,w=_.to,T=_.rotation*v,k=_.fromCp,A=_.toCp,M=Math.sin(T),O=Math.cos(T);pv(g,k,A,v);for(var F=0;F<b.length;F+=2){var $=b[F],B=b[F+1],U=w[F],H=w[F+1],W=$*p+U*v,z=B*p+H*v;h[F]=W*O-z*M+g[0],h[F+1]=W*M+z*O+g[1]}var G=h[0],Y=h[1];f.moveTo(G,Y);for(var F=2;F<b.length;){var U=h[F++],H=h[F++],Q=h[F++],J=h[F++],ae=h[F++],he=h[F++];G===U&&Y===H&&Q===ae&&J===he?f.lineTo(ae,he):f.bezierCurveTo(U,H,Q,J,ae,he),G=ae,Y=he}}}})}function pb(t,e,r){if(!t||!e)return e;var n=r.done,i=r.during;OR(t,e),e.__morphT=0;function a(){zf(e,"buildPath"),zf(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},ct({during:function(o){e.dirtyShape(),i&&i(o)},done:function(){a(),n&&n()}},r)),e}function Pne(t,e,r,n,i,a){var o=16;t=i===r?0:Math.round(32767*(t-r)/(i-r)),e=a===n?0:Math.round(32767*(e-n)/(a-n));for(var s=0,u,l=(1<<o)/2;l>0;l/=2){var c=0,h=0;(t&l)>0&&(c=1),(e&l)>0&&(h=1),s+=l*l*(3*c^h),h===0&&(c===1&&(t=l-1-t,e=l-1-e),u=t,t=e,e=u)}return s}function bp(t){var e=1/0,r=1/0,n=-1/0,i=-1/0,a=qe(t,function(s){var u=s.getBoundingRect(),l=s.getComputedTransform(),c=u.x+u.width/2+(l?l[4]:0),h=u.y+u.height/2+(l?l[5]:0);return e=Math.min(c,e),r=Math.min(h,r),n=Math.max(c,n),i=Math.max(h,i),[c,h]}),o=qe(a,function(s,u){return{cp:s,z:Pne(s[0],s[1],e,r,n,i),path:t[u]}});return o.sort(function(s,u){return s.z-u.z}).map(function(s){return s.path})}function IR(t){return Sne(t.path,t.count)}function u1(){return{fromIndividuals:[],toIndividuals:[],count:0}}function Ene(t,e,r){var n=[];function i(k){for(var A=0;A<k.length;A++){var M=k[A];yp(M)?i(M.childrenRef()):M instanceof Ot&&n.push(M)}}i(t);var a=n.length;if(!a)return u1();var o=r.dividePath||IR,s=o({path:e,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),u1();n=bp(n),s=bp(s);for(var u=r.done,l=r.during,c=r.individualDelay,h=new kh,f=0;f<a;f++){var v=n[f],p=s[f];p.parent=e,p.copyTransform(h),c||OR(v,p)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function g(k){for(var A=0;A<s.length;A++)s[A].addSelfToZr(k)}_p(e,"addSelfToZr",{after:function(k){g(k)}}),_p(e,"removeSelfFromZr",{after:function(k){for(var A=0;A<s.length;A++)s[A].removeSelfFromZr(k)}});function m(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,zf(e,"addSelfToZr"),zf(e,"removeSelfFromZr")}var _=s.length;if(c)for(var b=_,w=function(){b--,b===0&&(m(),u&&u())},f=0;f<_;f++){var T=c?ct({delay:(r.delay||0)+c(f,_,n[f],s[f]),done:w},r):r;pb(n[f],s[f],T)}else e.__morphT=0,e.animateTo({__morphT:1},ct({during:function(k){for(var A=0;A<_;A++){var M=s[A];M.__morphT=e.__morphT,M.dirtyShape()}l&&l(k)},done:function(){m();for(var k=0;k<t.length;k++)zf(t[k],"updateTransform");u&&u()}},r));return e.__zr&&g(e.__zr),{fromIndividuals:n,toIndividuals:s,count:_}}function Mne(t,e,r){var n=e.length,i=[],a=r.dividePath||IR;function o(v){for(var p=0;p<v.length;p++){var g=v[p];yp(g)?o(g.childrenRef()):g instanceof Ot&&i.push(g)}}if(yp(t)){o(t.childrenRef());var s=i.length;if(s<n)for(var u=0,l=s;l<n;l++)i.push(v_(i[u++%s]));i.length=n}else{i=a({path:t,count:n});for(var c=t.getComputedTransform(),l=0;l<i.length;l++)i[l].setLocalTransform(c);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),u1()}i=bp(i),e=bp(e);for(var h=r.individualDelay,l=0;l<n;l++){var f=h?ct({delay:(r.delay||0)+h(l,n,i[l],e[l])},r):r;pb(i[l],e[l],f)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}function $C(t){return Ye(t[0])}function HC(t,e){for(var r=[],n=t.length,i=0;i<n;i++)r.push({one:t[i],many:[]});for(var i=0;i<e.length;i++){var a=e[i].length,o=void 0;for(o=0;o<a;o++)r[o%n].many.push(e[i][o])}for(var s=0,i=n-1;i>=0;i--)if(!r[i].many.length){var u=r[s].many;if(u.length<=1)if(s)s=0;else return r;var a=u.length,l=Math.ceil(a/2);r[i].many=u.slice(l,a),r[s].many=u.slice(0,l),s++}return r}var Dne={clone:function(t){for(var e=[],r=1-Math.pow(1-t.path.style.opacity,1/t.count),n=0;n<t.count;n++){var i=v_(t.path);i.setStyle("opacity",r),e.push(i)}return e},split:null};function cy(t,e,r,n,i,a){if(!t.length||!e.length)return;var o=Yp("update",n,i);if(!(o&&o.duration>0))return;var s=n.getModel("universalTransition").get("delay"),u=Object.assign({setToFinal:!0},o),l,c;$C(t)&&(l=t,c=e),$C(e)&&(l=e,c=t);function h(_,b,w,T,k){var A=_.many,M=_.one;if(A.length===1&&!k){var O=b?A[0]:M,F=b?M:A[0];if(yp(O))h({many:[O],one:F},!0,w,T,!0);else{var $=s?ct({delay:s(w,T)},u):u;pb(O,F,$),a(O,F,O,F,$)}}else for(var B=ct({dividePath:Dne[r],individualDelay:s&&function(Y,Q,J,ae){return s(Y+w,T)}},u),U=b?Ene(A,M,B):Mne(M,A,B),H=U.fromIndividuals,W=U.toIndividuals,z=H.length,G=0;G<z;G++){var $=s?ct({delay:s(G,z)},u):u;a(H[G],W[G],b?A[G]:_.one,b?_.one:A[G],$)}}for(var f=l?l===t:t.length>e.length,v=l?HC(c,l):HC(f?e:t,[f?t:e]),p=0,g=0;g<v.length;g++)p+=v[g].many.length;for(var m=0,g=0;g<v.length;g++)h(v[g],f,m,p),m+=v[g].many.length}function Xs(t){if(!t)return[];if(Ye(t)){for(var e=[],r=0;r<t.length;r++)e.push(Xs(t[r]));return e}var n=[];return t.traverse(function(i){i instanceof Ot&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var BR=1e4,Lne=hr();function Rne(t){for(var e=t.dimensions,r=0;r<e.length;r++){var n=t.getDimensionInfo(e[r]);if(n&&n.otherDims.itemGroupId===0)return e[r]}}function zC(t){var e=[];return K(t,function(r){var n=r.data;if(!(n.count()>BR))for(var i=n.getIndices(),a=Rne(n),o=0;o<i.length;o++)e.push({dataGroupId:r.dataGroupId,data:n,dim:r.dim||a,divide:r.divide,dataIndex:o})}),e}function fy(t,e,r){t.traverse(function(n){n instanceof Ot&&fn(n,{style:{opacity:0}},e,{dataIndex:r,isFrom:!0})})}function hy(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function ul(t){t.stopAnimation(),t.isGroup&&t.traverse(function(e){e.stopAnimation()})}function One(t,e,r){var n=Yp("update",r,e);n&&t.traverse(function(i){if(i instanceof vc){var a=zW(i);a&&i.animateFrom({style:a},n)}})}function Ine(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++){var i=t[n],a=e[n];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function NR(t,e,r){var n=zC(t),i=zC(e);function a(_,b,w,T,k){(w||_)&&b.animateFrom({style:w&&w!==_?Oe(Oe({},w.style),_.style):_.style},k)}function o(_){for(var b=0;b<_.length;b++)if(_[b].dim)return _[b].dim}var s=o(n),u=o(i),l=!1;function c(_,b){return function(w){var T=w.data,k=w.dataIndex;if(b)return T.getId(k);var A=w.dataGroupId,M=_?s||u:u||s,O=M&&T.getDimensionInfo(M),F=O&&O.ordinalMeta;if(O){var $=T.get(O.name,k);return F&&F.categories[$]||$+""}var B=T.getRawDataItem(k);return B&&B.groupId?B.groupId+"":A||T.getId(k)}}var h=Ine(n,i),f={};if(!h)for(var v=0;v<i.length;v++){var p=i[v],g=p.data.getItemGraphicEl(p.dataIndex);g&&(f[g.id]=!0)}function m(_,b){var w=n[b],T=i[_],k=T.data.hostModel,A=w.data.getItemGraphicEl(w.dataIndex),M=T.data.getItemGraphicEl(T.dataIndex);if(A===M){M&&One(M,T.dataIndex,k);return}A&&f[A.id]||M&&(ul(M),A?(ul(A),hy(A),l=!0,cy(Xs(A),Xs(M),T.divide,k,_,a)):fy(M,k,_))}new ph(n,i,c(!0,h),c(!1,h),null,"multiple").update(m).updateManyToOne(function(_,b){var w=i[_],T=w.data,k=T.hostModel,A=T.getItemGraphicEl(w.dataIndex),M=br(qe(b,function(O){return n[O].data.getItemGraphicEl(n[O].dataIndex)}),function(O){return O&&O!==A&&!f[O.id]});A&&(ul(A),M.length?(K(M,function(O){ul(O),hy(O)}),l=!0,cy(Xs(M),Xs(A),w.divide,k,_,a)):fy(A,k,w.dataIndex))}).updateOneToMany(function(_,b){var w=n[b],T=w.data.getItemGraphicEl(w.dataIndex);if(!(T&&f[T.id])){var k=br(qe(_,function(M){return i[M].data.getItemGraphicEl(i[M].dataIndex)}),function(M){return M&&M!==T}),A=i[_[0]].data.hostModel;k.length&&(K(k,function(M){return ul(M)}),T?(ul(T),hy(T),l=!0,cy(Xs(T),Xs(k),w.divide,A,_[0],a)):K(k,function(M){return fy(M,A,_[0])}))}}).updateManyToMany(function(_,b){new ph(b,_,function(w){return n[w].data.getId(n[w].dataIndex)},function(w){return i[w].data.getId(i[w].dataIndex)}).update(function(w,T){m(_[w],b[T])}).execute()}).execute(),l&&K(e,function(_){var b=_.data,w=b.hostModel,T=w&&r.getViewOfSeriesModel(w),k=Yp("update",w,0);T&&w.isAnimationEnabled()&&k&&k.duration>0&&T.group.traverse(function(A){A instanceof Ot&&!A.animators.length&&A.animateFrom({style:{opacity:0}},k)})})}function UC(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function VC(t){return Ye(t)?t.sort().join(","):t}function Io(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function Bne(t,e){var r=ft(),n=ft(),i=ft();return K(t.oldSeries,function(a,o){var s=t.oldDataGroupIds[o],u=t.oldData[o],l=UC(a),c=VC(l);n.set(c,{dataGroupId:s,data:u}),Ye(l)&&K(l,function(h){i.set(h,{key:c,dataGroupId:s,data:u})})}),K(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var o=a.get("dataGroupId"),s=a.getData(),u=UC(a),l=VC(u),c=n.get(l);if(c)r.set(l,{oldSeries:[{dataGroupId:c.dataGroupId,divide:Io(c.data),data:c.data}],newSeries:[{dataGroupId:o,divide:Io(s),data:s}]});else if(Ye(u)){var h=[];K(u,function(p){var g=n.get(p);g.data&&h.push({dataGroupId:g.dataGroupId,divide:Io(g.data),data:g.data})}),h.length&&r.set(l,{oldSeries:h,newSeries:[{dataGroupId:o,data:s,divide:Io(s)}]})}else{var f=i.get(u);if(f){var v=r.get(f.key);v||(v={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:Io(f.data)}],newSeries:[]},r.set(f.key,v)),v.newSeries.push({dataGroupId:o,data:s,divide:Io(s)})}}}}),r}function GC(t,e){for(var r=0;r<t.length;r++){var n=e.seriesIndex!=null&&e.seriesIndex===t[r].seriesIndex||e.seriesId!=null&&e.seriesId===t[r].id;if(n)return r}}function Nne(t,e,r,n){var i=[],a=[];K(Cr(t.from),function(o){var s=GC(e.oldSeries,o);s>=0&&i.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:Io(e.oldData[s]),dim:o.dimension})}),K(Cr(t.to),function(o){var s=GC(r.updatedSeries,o);if(s>=0){var u=r.updatedSeries[s].getData();a.push({dataGroupId:e.oldDataGroupIds[s],data:u,divide:Io(u),dim:o.dimension})}}),i.length>0&&a.length>0&&NR(i,a,n)}function rae(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,r,n){K(Cr(n.seriesTransition),function(i){K(Cr(i.to),function(a){for(var o=n.updatedSeries,s=0;s<o.length;s++)(a.seriesIndex!=null&&a.seriesIndex===o[s].seriesIndex||a.seriesId!=null&&a.seriesId===o[s].id)&&(o[s][Pv]=!0)})})}),t.registerUpdateLifecycle("series:transition",function(e,r,n){var i=Lne(r);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)K(Cr(a),function(v){Nne(v,i,n,r)});else{var o=Bne(i,n);K(o.keys(),function(v){var p=o.get(v);NR(p.oldSeries,p.newSeries,r)})}K(n.updatedSeries,function(v){v[Pv]&&(v[Pv]=!1)})}for(var s=e.getSeries(),u=i.oldSeries=[],l=i.oldDataGroupIds=[],c=i.oldData=[],h=0;h<s.length;h++){var f=s[h].getData();f.count()<BR&&(u.push(s[h]),l.push(s[h].get("dataGroupId")),c.push(f))}})}function jC(t,e,r){var n=fc.createCanvas(),i=e.getWidth(),a=e.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",n.setAttribute("data-zr-dom-id",t)),n.width=i*r,n.height=a*r,n}var Fne=function(t){De(e,t);function e(r,n,i){var a=t.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;i=i||Xv,typeof r=="string"?o=jC(r,n,i):it(r)&&(o=r,r=o.id),a.id=r,a.dom=o;var s=o.style;return s&&(HP(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=n,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=jC("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},e.prototype.createRepaintRects=function(r,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,u=!1,l=new Nt(0,0,0,0);function c(b){if(!(!b.isFinite()||b.isZero()))if(o.length===0){var w=new Nt(0,0,0,0);w.copy(b),o.push(w)}else{for(var T=!1,k=1/0,A=0,M=0;M<o.length;++M){var O=o[M];if(O.intersect(b)){var F=new Nt(0,0,0,0);F.copy(O),F.union(b),o[M]=F,T=!0;break}else if(u){l.copy(b),l.union(O);var $=b.width*b.height,B=O.width*O.height,U=l.width*l.height,H=U-$-B;H<k&&(k=H,A=M)}}if(u&&(o[A].union(b),T=!0),!T){var w=new Nt(0,0,0,0);w.copy(b),o.push(w)}u||(u=o.length>=s)}}for(var h=this.__startIndex;h<this.__endIndex;++h){var f=r[h];if(f){var v=f.shouldBePainted(i,a,!0,!0),p=f.__isRendered&&(f.__dirty&jn||!v)?f.getPrevPaintRect():null;p&&c(p);var g=v&&(f.__dirty&jn||!f.__isRendered)?f.getPaintRect():null;g&&c(g)}}for(var h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var f=n[h],v=f.shouldBePainted(i,a,!0,!0);if(f&&(!v||!f.__zr)&&f.__isRendered){var p=f.getPrevPaintRect();p&&c(p)}}var m;do{m=!1;for(var h=0;h<o.length;){if(o[h].isZero()){o.splice(h,1);continue}for(var _=h+1;_<o.length;)o[h].intersect(o[_])?(m=!0,o[h].union(o[_]),o.splice(_,1)):_++;h++}}while(m);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(r,n){var i=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=r+"px",o.height=n+"px"),a.width=r*i,a.height=n*i,s&&(s.width=r*i,s.height=n*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(r,n,i){var a=this.dom,o=this.ctx,s=a.width,u=a.height;n=n||this.clearColor;var l=this.motionBlur&&!r,c=this.lastFrameAlpha,h=this.dpr,f=this;l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/h,u/h));var v=this.domBack;function p(g,m,_,b){if(o.clearRect(g,m,_,b),n&&n!=="transparent"){var w=void 0;if(Ip(n)){var T=n.global||n.__width===_&&n.__height===b;w=T&&n.__canvasGradient||R0(o,n,{x:0,y:0,width:_,height:b}),n.__canvasGradient=w,n.__width=_,n.__height=b}else UU(n)&&(n.scaleX=n.scaleX||h,n.scaleY=n.scaleY||h,w=O0(o,n,{dirty:function(){f.setUnpainted(),f.__painter.refresh()}}));o.save(),o.fillStyle=w||n,o.fillRect(g,m,_,b),o.restore()}l&&(o.save(),o.globalAlpha=c,o.drawImage(v,g,m,_,b),o.restore())}!i||l?p(0,0,s,u):i.length&&K(i,function(g){p(g.x*h,g.y*h,g.width*h,g.height*h)})},e}(ji);const dy=Fne;var WC=1e5,js=314159,ev=.01,$ne=.001;function Hne(t){return t?t.__builtin__?!0:!(typeof t.resize!="function"||typeof t.refresh!="function"):!1}function zne(t,e){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var Une=function(){function t(e,r,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=Oe({},n||{}),this.dpr=n.devicePixelRatio||Xv,this._singleCanvas=a,this.root=e;var o=e.style;o&&(HP(e),e.innerHTML=""),this.storage=r;var s=this._zlevelList;this._prevDisplayList=[];var u=this._layers;if(a){var c=e,h=c.width,f=c.height;n.width!=null&&(h=n.width),n.height!=null&&(f=n.height),this.dpr=n.devicePixelRatio||1,c.width=h*this.dpr,c.height=f*this.dpr,this._width=h,this._height=f;var v=new dy(c,this,this.dpr);v.__builtin__=!0,v.initContext(),u[js]=v,v.zlevel=js,s.push(js),this._domRoot=e}else{this._width=Bd(e,0,n),this._height=Bd(e,1,n);var l=this._domRoot=zne(this._width,this._height);e.appendChild(l)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.refresh=function(e){var r=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,n,e,this._redrawId);for(var a=0;a<i.length;a++){var o=i[a],s=this._layers[o];if(!s.__builtin__&&s.refresh){var u=a===0?this._backgroundColor:null;s.refresh(u)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(e){var r=e.length,n=this._hoverlayer;if(n&&n.clear(),!!r){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<r;o++){var s=e[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(WC)),a||(a=n.ctx,a.save()),tu(a,s,i,o===r-1))}a&&a.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(WC)},t.prototype.paintOne=function(e,r){CD(e,r)},t.prototype._paintList=function(e,r,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,r,n),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(l){l.afterBrush&&l.afterBrush()});else{var u=this;Jy(function(){u._paintList(e,r,n,i)})}}},t.prototype._compositeManually=function(){var e=this.getLayer(js).ctx,r=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,r,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,r,n)})},t.prototype._doPaintList=function(e,r,n){for(var i=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var u=this._zlevelList[s],l=this._layers[u];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||n)&&a.push(l)}for(var c=!0,h=!1,f=function(g){var m=a[g],_=m.ctx,b=o&&m.createRepaintRects(e,r,v._width,v._height),w=n?m.__startIndex:m.__drawIndex,T=!n&&m.incremental&&Date.now,k=T&&Date.now(),A=m.zlevel===v._zlevelList[0]?v._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,A,b);else if(w===m.__startIndex){var M=e[w];(!M.incremental||!M.notClear||n)&&m.clear(!1,A,b)}w===-1&&(console.error("For some unknown reason. drawIndex is -1"),w=m.__startIndex);var O,F=function(H){var W={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(O=w;O<m.__endIndex;O++){var z=e[O];if(z.__inHover&&(h=!0),i._doPaintEl(z,m,o,H,W,O===m.__endIndex-1),T){var G=Date.now()-k;if(G>15)break}}W.prevElClipPaths&&_.restore()};if(b)if(b.length===0)O=m.__endIndex;else for(var $=v.dpr,B=0;B<b.length;++B){var U=b[B];_.save(),_.beginPath(),_.rect(U.x*$,U.y*$,U.width*$,U.height*$),_.clip(),F(U),_.restore()}else _.save(),F(),_.restore();m.__drawIndex=O,m.__drawIndex<m.__endIndex&&(c=!1)},v=this,p=0;p<a.length;p++)f(p);return Tt.wxa&&K(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:c,needsRefreshHover:h}},t.prototype._doPaintEl=function(e,r,n,i,a,o){var s=r.ctx;if(n){var u=e.getPaintRect();(!i||u&&u.intersect(i))&&(tu(s,e,a,o),e.setPrevPaintRect(u))}else tu(s,e,a,o)},t.prototype.getLayer=function(e,r){this._singleCanvas&&!this._needsManuallyCompositing&&(e=js);var n=this._layers[e];return n||(n=new dy("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?Ct(n,this._layerConfig[e],!0):this._layerConfig[e-ev]&&Ct(n,this._layerConfig[e-ev],!0),r&&(n.virtual=r),this.insertLayer(e,n),n.initContext()),n},t.prototype.insertLayer=function(e,r){var n=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,s=null,u=-1;if(!n[e]&&Hne(r)){if(a>0&&e>i[0]){for(u=0;u<a-1&&!(i[u]<e&&i[u+1]>e);u++);s=n[i[u]]}if(i.splice(u+1,0,e),n[e]=r,!r.virtual)if(s){var l=s.dom;l.nextSibling?o.insertBefore(r.dom,l.nextSibling):o.appendChild(r.dom)}else o.firstChild?o.insertBefore(r.dom,o.firstChild):o.appendChild(r.dom);r.__painter=this}},t.prototype.eachLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];e.call(r,this._layers[a],a)}},t.prototype.eachBuiltinLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__&&e.call(r,o,a)}},t.prototype.eachOtherLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__||e.call(r,o,a)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(h,f){h.__dirty=h.__used=!1});function r(h){a&&(a.__endIndex!==h&&(a.__dirty=!0),a.__endIndex=h)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var i=e[n];if(i.zlevel!==e[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,s,u;for(u=0;u<e.length;u++){var i=e[u],l=i.zlevel,c=void 0;s!==l&&(s=l,o=0),i.incremental?(c=this.getLayer(l+$ne,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(l+(o>0?ev:0),this._needsManuallyCompositing),c.__builtin__||J1("ZLevel "+l+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==u&&(c.__dirty=!0),c.__startIndex=u,c.incremental?c.__drawIndex=-1:c.__drawIndex=u,r(u),a=c),i.__dirty&jn&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=u))}r(u),this.eachBuiltinLayer(function(h,f){!h.__used&&h.getElementCount()>0&&(h.__dirty=!0,h.__startIndex=h.__endIndex=h.__drawIndex=0),h.__dirty&&h.__drawIndex<0&&(h.__drawIndex=h.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(e){e.clear()},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e,K(this._layers,function(r){r.setUnpainted()})},t.prototype.configLayer=function(e,r){if(r){var n=this._layerConfig;n[e]?Ct(n[e],r,!0):n[e]=r;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+ev){var o=this._layers[a];Ct(o,n[e],!0)}}}},t.prototype.delLayer=function(e){var r=this._layers,n=this._zlevelList,i=r[e];i&&(i.dom.parentNode.removeChild(i.dom),delete r[e],n.splice(Lt(n,e),1))},t.prototype.resize=function(e,r){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),r!=null&&(i.height=r),e=Bd(a,0,i),r=Bd(a,1,i),n.style.display="",this._width!==e||r!==this._height){n.style.width=e+"px",n.style.height=r+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,r);this.refresh(!0)}this._width=e,this._height=r}else{if(e==null||r==null)return;this._width=e,this._height=r,this.getLayer(js).resize(e,r)}return this},t.prototype.clearLayer=function(e){var r=this._layers[e];r&&r.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[js].dom;var r=new dy("image",this,e.pixelRatio||this.dpr);r.initContext(),r.clear(!1,e.backgroundColor||this._backgroundColor);var n=r.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=r.dom.width,a=r.dom.height;this.eachLayer(function(h){h.__builtin__?n.drawImage(h.dom,0,0,i,a):h.renderToCanvas&&(n.save(),h.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),u=0,l=s.length;u<l;u++){var c=s[u];tu(n,c,o,u===l-1)}return r.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();const Vne=Une;function nae(t){t.registerPainter("canvas",Vne)}var FR={exports:{}};/*! GoldPlay built @6/28/2020, 11:46:42 AM */(function(t,e){(function(r,n){t.exports=n()})(window,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:s})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,o){if(1&o&&(a=i(a)),8&o||4&o&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),2&o&&typeof a!="string")for(var u in a)i.d(s,u,function(l){return a[l]}.bind(null,u));return s},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=162)}([function(r,n){r.exports=function(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}},function(r,n){r.exports=function(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}},function(r,n){r.exports=function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}},function(r,n){function i(a,o){for(var s=0;s<o.length;s++){var u=o[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}r.exports=function(a,o,s){return o&&i(a.prototype,o),s&&i(a,s),a}},function(r,n){function i(a){return r.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},i(a)}r.exports=i},function(r,n,i){var a=i(11),o=i(1);r.exports=function(s,u){return!u||a(u)!=="object"&&typeof u!="function"?o(s):u}},function(r,n,i){var a=i(48);r.exports=function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),s&&a(o,s)}},,function(r,n){r.exports=function(i,a){return a||(a=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(a)}}))}},function(r,n,i){i.d(n,"c",function(){return a}),i.d(n,"b",function(){return o}),i.d(n,"a",function(){return s}),i.d(n,"d",function(){return u});var a={projectName:"GOLDPLAY",projectAbbreviation:"GP",mode:"production",basePath:"./",get distPath(){var l="";return(this.mode=="development"||this.mode=="test")&&(l="/dist/"),l},get libPath(){return this.distPath+"lib/"},hideBarBoxTime:300,speedList:[{name:"0.5X",value:.5},{name:"1.0X",value:1},{name:"1.5X",value:1.5},{name:"2.0X",value:2},{name:"3.0X",value:3}]},o={maxDuration:30,maxSize:1024e6,maxRetryCount:3},s=1/9e4,u={READYBUFFERLENGTH:1e3,MAXBUFFERLENGTH:5e3}},function(r,n,i){var a=i(2),o=i.n(a),s=i(3),u=i.n(s),l=i(0),c=i.n(l),h=i(9),f=console||{};function v(g,m){if(f[g]){if(this.disabled||this.level<0||h.c.mode==="production"&&(g!=="error"||g!=="warn")||this.level===1&&["info"].includes(g)||this.level===2&&["log","info"].includes(g)||this.level>2&&g!=="error")return;for(var _=new Date().toLocaleString(),b=arguments.length,w=new Array(b>2?b-2:0),T=2;T<b;T++)w[T-2]=arguments[T];var k=["\x1B[32m".concat(m,"\x1B[39m")].concat(w,[_]);g!=="error"&&g!=="warn"||(k=[m].concat(w,[_])),typeof f[g]=="function"&&f[g].apply(f,k)}}var p=function(){function g(m){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o()(this,g),c()(this,"prefix",h.c.projectName),c()(this,"joiner",">"),c()(this,"left","["),c()(this,"right","]"),c()(this,"disabled",!1),c()(this,"level",0),Object.assign(this,_),typeof m=="string"?this.file=m:m&&m.constructor&&(this.file=m.constructor.name)}return u()(g,[{key:"setDisabled",value:function(m){this.disabled=m}},{key:"setLevel",value:function(m){this.level=m}}],[{key:"get",value:function(m,_){return new g(m,_)}}]),g}();["info","log","debug","warn","error"].forEach(function(g){p.prototype[g]=function(m,_){_=_===void 0?"":this.joiner+_;for(var b=this.left+m+_+this.right,w=this.left+this.prefix+" "+this.file+this.right+b,T=arguments.length,k=new Array(T>2?T-2:0),A=2;A<T;A++)k[A-2]=arguments[A];v.apply(this,[g,w].concat(k))}}),n.a=p},function(r,n){function i(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r.exports=i=function(o){return typeof o}:r.exports=i=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i(a)}r.exports=i},,,,,,,function(r,n,i){r.exports=i(88)},,,,,function(r,n,i){i.d(n,"a",function(){return p});var a=i(2),o=i.n(a),s=i(3),u=i.n(s),l=i(0),c=i.n(l),h=i(9),f={eval:EvalError,range:RangeError,reference:ReferenceError,syntax:SyntaxError,type:TypeError,uri:URIError,default:Error},v=null,p=(v||(v=new(function(){function g(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1001;return o()(this,g),c()(this,"type",""),c()(this,"errorName","DefaultError"),c()(this,"code",null),c()(this,"message",""),c()(this,"stack",""),this.type=m,this.code=_,this.throws.bind(this)}return u()(g,[{key:"throws",value:function(m){for(var _="",b=Error,w=arguments.length,T=new Array(w>1?w-1:0),k=1;k<w;k++)T[k-1]=arguments[k];if(m instanceof Error){for(var A in f)if(m instanceof f[A]){this.errorName=f[A].name,b=m.constructor;break}this.stack=m.stack,T&&T.splice&&(_=T[0],T.splice(0,1))}else _=m.toString();this.message="[".concat(h.c.projectName," ERROR:")+this.type+"-"+this.code+"]"+_;try{throw new b(this.message,"[args]:",T)}catch(M){this.stack=this.stack||M.stack,console.error(M,"[message]:",_,"[args]:",T)}}}]),g}())),v)},function(r,n){r.exports=function(i,a){var o=a.get(i);if(!o)throw new TypeError("attempted to get private field on non-instance");return o.get?o.get.call(i):o.value}},,,function(r,n,i){var a=i(48),o=i(86);function s(u,l,c){return o()?r.exports=s=Reflect.construct:r.exports=s=function(h,f,v){var p=[null];p.push.apply(p,f);var g=new(Function.bind.apply(h,p));return v&&a(g,v.prototype),g},s.apply(null,arguments)}r.exports=s},function(r,n){function i(a,o,s,u,l,c,h){try{var f=a[c](h),v=f.value}catch(p){return void s(p)}f.done?o(v):Promise.resolve(v).then(u,l)}r.exports=function(a){return function(){var o=this,s=arguments;return new Promise(function(u,l){var c=a.apply(o,s);function h(v){i(c,u,l,h,f,"next",v)}function f(v){i(c,u,l,h,f,"throw",v)}h(void 0)})}}},function(r,n){r.exports=function(i,a,o){var s=a.get(i);if(!s)throw new TypeError("attempted to set private field on non-instance");if(s.set)s.set.call(i,o);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=o}return o}},,,,,function(r,n,i){var a=i(4),o=i(48),s=i(87),u=i(27);function l(c){var h=typeof Map=="function"?new Map:void 0;return r.exports=l=function(f){if(f===null||!s(f))return f;if(typeof f!="function")throw new TypeError("Super expression must either be null or a function");if(h!==void 0){if(h.has(f))return h.get(f);h.set(f,v)}function v(){return u(f,arguments,a(this).constructor)}return v.prototype=Object.create(f.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),o(v,f)},l(c)}r.exports=l},,,,,,,,,,function(r,n,i){function a(c){var h={};function f(p){if(h[p])return h[p].exports;var g=h[p]={i:p,l:!1,exports:{}};return c[p].call(g.exports,g,g.exports,f),g.l=!0,g.exports}f.m=c,f.c=h,f.i=function(p){return p},f.d=function(p,g,m){f.o(p,g)||Object.defineProperty(p,g,{configurable:!1,enumerable:!0,get:m})},f.r=function(p){Object.defineProperty(p,"__esModule",{value:!0})},f.n=function(p){var g=p&&p.__esModule?function(){return p.default}:function(){return p};return f.d(g,"a",g),g},f.o=function(p,g){return Object.prototype.hasOwnProperty.call(p,g)},f.p="/",f.oe=function(p){throw console.error(p),p};var v=f(f.s=ENTRY_MODULE);return v.default||v}var o="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function s(c){return(c+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function u(c,h,f){var v={};v[f]=[];var p=h.toString(),g=p.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!g)return v;for(var m,_=g[1],b=new RegExp("(\\\\n|\\W)"+s(_)+o,"g");m=b.exec(p);)m[3]!=="dll-reference"&&v[f].push(m[3]);for(b=new RegExp("\\("+s(_)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)'+o,"g");m=b.exec(p);)c[m[2]]||(v[f].push(m[1]),c[m[2]]=i(m[1]).m),v[m[2]]=v[m[2]]||[],v[m[2]].push(m[4]);for(var w,T=Object.keys(v),k=0;k<T.length;k++)for(var A=0;A<v[T[k]].length;A++)w=v[T[k]][A],isNaN(1*w)||(v[T[k]][A]=1*v[T[k]][A]);return v}function l(c){return Object.keys(c).reduce(function(h,f){return h||c[f].length>0},!1)}r.exports=function(c,h){h=h||{};var f={main:i.m},v=h.all?{main:Object.keys(f.main)}:function(b,w){for(var T={main:[w]},k={main:[]},A={main:{}};l(T);)for(var M=Object.keys(T),O=0;O<M.length;O++){var F=M[O],$=T[F].pop();if(A[F]=A[F]||{},!A[F][$]&&b[F][$]){A[F][$]=!0,k[F]=k[F]||[],k[F].push($);for(var B=u(b,b[F][$],F),U=Object.keys(B),H=0;H<U.length;H++)T[U[H]]=T[U[H]]||[],T[U[H]]=T[U[H]].concat(B[U[H]])}}return k}(f,c),p="";Object.keys(v).filter(function(b){return b!=="main"}).forEach(function(b){for(var w=0;v[b][w];)w++;v[b].push(w),f[b][w]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",p=p+"var "+b+" = ("+a.toString().replace("ENTRY_MODULE",JSON.stringify(w))+")({"+v[b].map(function(T){return JSON.stringify(T)+": "+f[b][T].toString()}).join(",")+`});
`}),p=p+"new (("+a.toString().replace("ENTRY_MODULE",JSON.stringify(c))+")({"+v.main.map(function(b){return JSON.stringify(b)+": "+f.main[b].toString()}).join(",")+"}))(self);";var g=new window.Blob([p],{type:"text/javascript"});if(h.bare)return g;var m=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(g),_=new window.Worker(m);return _.objectURL=m,_}},function(r,n,i){var a,o,s;o=[],(s=typeof(a=function(){var u=function(){},l={},c={},h={};function f(m,_){if(m){var b=h[m];if(c[m]=_,b)for(;b.length;)b[0](m,_),b.splice(0,1)}}function v(m,_){m.call&&(m={success:m}),_.length?(m.error||u)(_):(m.success||u)(m)}function p(m,_,b,w){var T,k,A=document,M=b.async,O=(b.numRetries||0)+1,F=b.before||u,$=m.replace(/[\?|#].*$/,""),B=m.replace(/^(css|img)!/,"");w=w||0,/(^css!|\.css$)/.test($)?((k=A.createElement("link")).rel="stylesheet",k.href=B,(T="hideFocus"in k)&&k.relList&&(T=0,k.rel="preload",k.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test($)?(k=A.createElement("img")).src=B:((k=A.createElement("script")).src=m,k.async=M===void 0||M),k.onload=k.onerror=k.onbeforeload=function(U){var H=U.type[0];if(T)try{k.sheet.cssText.length||(H="e")}catch(W){W.code!=18&&(H="e")}if(H=="e"){if((w+=1)<O)return p(m,_,b,w)}else if(k.rel=="preload"&&k.as=="style")return k.rel="stylesheet";_(m,H,U.defaultPrevented)},F(m,k)!==!1&&A.head.appendChild(k)}function g(m,_,b){var w,T;if(_&&_.trim&&(w=_),T=(w?b:_)||{},w){if(w in l)throw"LoadJS";l[w]=!0}function k(A,M){(function(O,F,$){var B,U,H=(O=O.push?O:[O]).length,W=H,z=[];for(B=function(G,Y,Q){if(Y=="e"&&z.push(G),Y=="b"){if(!Q)return;z.push(G)}--H||F(z)},U=0;U<W;U++)p(O[U],B,$)})(m,function(O){v(T,O),A&&v({success:A,error:M},O),f(w,O)},T)}if(T.returnPromise)return new Promise(k);k()}return g.ready=function(m,_){return function(b,w){b=b.push?b:[b];var T,k,A,M=[],O=b.length,F=O;for(T=function($,B){B.length&&M.push($),--F||w(M)};O--;)k=b[O],(A=c[k])?T(k,A):(h[k]=h[k]||[]).push(T)}(m,function(b){v(_,b)}),g},g.done=function(m){f(m,[])},g.reset=function(){l={},c={},h={}},g.isDefined=function(m){return m in l},g})=="function"?a.apply(n,o):a)===void 0||(r.exports=s)},,,function(r,n){function i(a,o){return r.exports=i=Object.setPrototypeOf||function(s,u){return s.__proto__=u,s},i(a,o)}r.exports=i},function(r,n){(function(){function i(a,o){throw new Error("abstract")}i.prototype.drawFrame=function(a){throw new Error("abstract")},i.prototype.clear=function(){throw new Error("abstract")},r.exports=i})()},,,,,,,,,,,function(r,n){var i={validateDimension:function(a){if(a<=0||a!==(0|a))throw"YUV plane dimensions must be a positive integer"},validateOffset:function(a){if(a<0||a!==(0|a))throw"YUV plane offsets must be a non-negative integer"},format:function(a){var o=a.width,s=a.height,u=a.chromaWidth||o,l=a.chromaHeight||s,c=a.cropLeft||0,h=a.cropTop||0,f=a.cropWidth||o-c,v=a.cropHeight||s-h,p=a.displayWidth||f,g=a.displayHeight||v;return this.validateDimension(o),this.validateDimension(s),this.validateDimension(u),this.validateDimension(l),this.validateOffset(c),this.validateOffset(h),this.validateDimension(f),this.validateDimension(v),this.validateDimension(p),this.validateDimension(g),{width:o,height:s,chromaWidth:u,chromaHeight:l,cropLeft:c,cropTop:h,cropWidth:f,cropHeight:v,displayWidth:p,displayHeight:g}},allocPlane:function(a,o){return i.validateDimension(a),i.validateDimension(o),{bytes:new Uint8Array(a*o),stride:a}},suitableStride:function(a){i.validateDimension(a);var o=a%4;return o==0?a:a+(4-o)},allocPlane:function(a,o,s,u,l){var c,h;if(this.validateDimension(a),this.validateDimension(o),l=l||0,u=u||this.suitableStride(a),this.validateDimension(u),u<a)throw"Invalid input stride for YUV plane; must be larger than width";if(c=u*o,s){if(s.length-l<c)throw"Invalid input buffer for YUV plane; must be large enough for stride times height";h=s.slice(l,l+c)}else h=new Uint8Array(c),u=u||this.suitableStride(a);return{bytes:h,stride:u}},lumaPlane:function(a,o,s,u){return this.allocPlane(a.width,a.height,o,s,u)},chromaPlane:function(a,o,s,u){return this.allocPlane(a.chromaWidth,a.chromaHeight,o,s,u)},frame:function(a,o,s,u){return{format:a,y:o=o||this.lumaPlane(a),u:s=s||this.chromaPlane(a),v:u=u||this.chromaPlane(a)}},copyPlane:function(a){return{bytes:a.bytes.slice(),stride:a.stride}},copyFrame:function(a){return{format:a.format,y:this.copyPlane(a.y),u:this.copyPlane(a.u),v:this.copyPlane(a.v)}},transferables:function(a){return[a.y.bytes.buffer,a.u.bytes.buffer,a.v.bytes.buffer]}};r.exports=i},function(r,n,i){var a=i(95),o=i(96),s=i(97),u=i(99);r.exports=function(l,c){return a(l)||o(l,c)||s(l,c)||u()}},,,,,,,,,,,function(r,n,i){(function(){var a=i(49),o=i(89),s=i(92),u={FrameSink:a,SoftwareFrameSink:o,WebGLFrameSink:s,attach:function(l,c){return("webGL"in(c=c||{})?c.webGL:s.isAvailable())?new s(l,c):new o(l,c)}};r.exports=u})()},,,,,,,,,,,,,function(r,n,i){i.r(n);var a=i(2),o=i.n(a),s=i(3),u=i.n(s),l=i(5),c=i.n(l),h=i(4),f=i.n(h),v=i(1),p=i.n(v),g=i(6),m=i.n(g),_=i(0),b=i.n(_),w=i(24),T=i.n(w),k=i(29),A=i.n(k),M=i(10),O=M.a.get("Events.js"),F=function(){function E(S){o()(this,E),b()(this,"eventsQueue",{}),b()(this,"target",{}),b()(this,"disallowRepeat",!1),this.target=S}return u()(E,[{key:"add",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0,y=arguments.length>2?arguments[2]:void 0,C=!0,R=!1,j=void 0;try{for(var q,te=S[Symbol.iterator]();!(C=(q=te.next()).done);C=!0){var fe=q.value;this.on(fe,d,y)}}catch(xe){R=!0,j=xe}finally{try{C||te.return==null||te.return()}finally{if(R)throw j}}}},{key:"on",value:function(S,d,y){if(this.eventsQueue[S]===void 0&&(this.eventsQueue[S]={methods:[],once:!1}),typeof d=="function"){if(!this.disallowRepeat||!this.eventsQueue[S].methods.includes(d))return this.eventsQueue[S].methods.push(d),y!==void 0&&(this.eventsQueue[S].once=y),this.target}else O.error("on","the argument is not function.",d)}},{key:"once",value:function(S,d){this.on(S,d,!0)}},{key:"off",value:function(S,d){var y=this.eventsQueue[S];if(y){var C=y.methods;if(d)for(var R=C.length;R--;)C[R]===d&&C.splice(R,1);else delete this.eventsQueue[S];return this.target}}},{key:"emit",value:function(S){for(var d=this,y=arguments.length,C=new Array(y>1?y-1:0),R=1;R<y;R++)C[R-1]=arguments[R];var j=this.eventsQueue[S];if(j){var q=j.methods;return q.forEach(function(te){te.apply(d.target,C)}),j.once&&this.off(S),this.target}}},{key:"clear",value:function(S){delete this.eventsQueue[S]}},{key:"clearAll",value:function(){this.eventsQueue={}}}]),E}(),$=function(E){var S=new F(E);return function(d){return S.target=d,S}},B=i(11),U=i.n(B),H=M.a.get("Element.js"),W=function(){function E(){o()(this,E)}return u()(E,null,[{key:"createEl",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div",d=arguments.length>1?arguments[1]:void 0;if(typeof S!="string")return H.error("please input element name"),null;var y=document.createElement(S,d);return y}},{key:"registerElement",value:function(S){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HTMLElement,y=arguments.length>2?arguments[2]:void 0,C=document.registerElement(S,{prototype:Object.create(d.prototype),extends:y});return C}},{key:"addEl",value:function(S,d){if(S&&d)try{d.appendChild(S)}catch(y){H.error(y)}}},{key:"removeEl",value:function(S){try{var d=S.parentNode;d&&d.removeChild(S)}catch(y){H.error(y)}}},{key:"addClass",value:function(S){try{for(var d,y=arguments.length,C=new Array(y>1?y-1:0),R=1;R<y;R++)C[R-1]=arguments[R];(d=S.classList).add.apply(d,C)}catch(j){H.error(j)}}},{key:"removeClass",value:function(){}},{key:"hasClass",value:function(){}},{key:"isElement",value:function(S){try{return S instanceof HTMLElement}catch{return U()(S)==="object"&&S.nodeType===1&&U()(S.style)==="object"&&U()(S.ownerDocument)==="object"}}},{key:"setAttributes",value:function(S,d){if(E.isElement(S))for(var y=0,C=d.length;y<C;y++){var R=d[y],j=R.name;j=R.name.replace(/["|']/g,""),S.setAttribute(j,R.value)}}},{key:"syncAttributes",value:function(S,d){var y=d.attributes;E.setAttributes(S,y);var C=S.attributes;E.setAttributes(d,C)}},{key:"getClientWidth",value:function(){return document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth}},{key:"getClientHeight",value:function(){return document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight}},{key:"adaptSizeElement",value:function(S,d,y,C){var R=y,j=C;j.width=S||j.width||R.offsetWidth,j.height=d||j.height||R.offsetHeight;var q=j.width,te=j.height,fe=0;j.style.position="absolute",R.offsetWidth<=0&&(R.style.width=q+"px"),R.offsetHeight<=0&&(R.style.height=te+"px");var xe=R.offsetWidth/q,Re=R.offsetHeight/te;fe=Re>xe?xe:Re,j.style.top=R.offsetTop+(R.offsetHeight-te*fe)/2+"px",j.style.left=R.offsetLeft+(R.offsetWidth-q*fe)/2+"px",j.style.transform="scale(".concat(fe,", ").concat(fe,")"),j.style["transform-origin"]="top left",j.style.display="inline-block"}}]),E}(),z=i(27),G=i.n(z),Y=function(){function E(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};o()(this,E),b()(this,"logger",null),b()(this,"__instance__",null),b()(this,"__singleton__",null),this.options=S,this.setLogger(this.constructor.name+".js")}return u()(E,[{key:"setLogger",value:function(S){this.logger=new M.a(S)}},{key:"getLogger",value:function(){return this.logger}},{key:"setOptions",value:function(S){Object.assign(this.options,S)}},{key:"toString",value:function(){return JSON.stringify(this)}},{key:"events",get:function(){return this.options&&this.options.events?this.options.events(this):$(this)}}],[{key:"getInstance",value:function(){for(var S=arguments.length,d=new Array(S),y=0;y<S;y++)d[y]=arguments[y];return this.__instance__=G()(this,d),this.__instance__}},{key:"getSingleton",value:function(){if(!this.__singleton__){for(var S=arguments.length,d=new Array(S),y=0;y<S;y++)d[y]=arguments[y];this.__singleton__=G()(this,d)}return this.__singleton__}}]),E}(),Q=function(E){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this)),b()(p()(y),"component",null),y.component=d.component,y}return m()(S,E),u()(S,[{key:"confirm",value:function(){}},{key:"show",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";this.component.data.content=d,this.component.data.display!=="default"&&this.component.data.display!==""||this.component.showBox(),this.component.data.display!=="show"&&this.component.show()}},{key:"hide",value:function(){this.component.hide()}}]),S}(Y),J=i(23),ae=function(){function E(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};o()(this,E),b()(this,"logger",null),this.options=S,this.debug=S.debug||!1,this.setLogger(this.constructor.name+".js")}return u()(E,[{key:"setLogger",value:function(S){this.logger=new M.a(S)}},{key:"getLogger",value:function(){return this.logger}},{key:"setOptions",value:function(S){Object.assign(this.options,S)}},{key:"toString",value:function(){return JSON.stringify(this)}},{key:"events",get:function(){return this.options&&this.options.events?this.options.events(this):$(this)}},{key:"alert",get:function(){var S="";return this.options&&this.options.alertError&&(S=this.options.alertError),S}}]),E}(),he=i(9),ve=function(E){function S(){var d;return o()(this,S),d=c()(this,f()(S).call(this)),b()(p()(d),"loadData",null),b()(p()(d),"sourceURL",""),d}return m()(S,E),u()(S,[{key:"init",value:function(){}},{key:"setLoadData",value:function(d){this.loadData=d}},{key:"setSourceURL",value:function(d){this.sourceURL=d}},{key:"getLoadData",value:function(){return this.getLoadData}},{key:"getSourceURL",value:function(){return this.getSourceURL}}]),S}(ae),we={LOAD_PLAYLIST:10,get 10(){return"loading playlist"},LOADED_PLAYLIST:11,get 11(){return"playlist is loaded"},IDLE:0,get 0(){return"is free"},LOADING:1,get 1(){return"loading segment"},DONE:2,get 2(){return"segment is loaded"},ERROR:3,get 3(){return"load get error"}},Te=M.a.get("M3U8Parser.js",{level:2}),Le={lineDelimiter:/\r?\n/,extensionHeader:"#EXTM3U",tagPrefix:"#EXT",segmentPrefix:"#EXTINF",segmentParse:/^#EXTINF: *([0-9.]+)(, *(.+?)?)?$/,tagParse:/^#EXT-X-([A-Z-]+)(:(.+))?$/,version:"VERSION",allowCache:"ALLOW-CACHE",combined:"COMBINED",endList:"ENDLIST",targetDuration:"TARGETDURATION",mediaSequence:"MEDIA-SEQUENCE",discontinuity:"DISCONTINUITY",steamInf:"STREAM-INF",isComment:function(E){return E&&E[0]==="#"&&!E.startsWith(Le.tagPrefix)},isBlank:function(E){return E===""},canStrip:function(E){return Le.isBlank(E)||Le.isComment(E)}},$e=0,se=1,pe={file:void 0,name:void 0,start:0,end:0,discontinuity:void 0,duration:void 0},ge=function(){function E(S){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o()(this,E),b()(this,"source",""),b()(this,"segments",[]),b()(this,"_currentSegment",null),b()(this,"discontinuous",null),b()(this,"tags",{VERSION:void 0,TARGETDURATION:void 0}),b()(this,"_state",null),this.source=S,this.options=d,this.parse(this.source)}return u()(E,[{key:"readSegment",value:function(S){var d=Le.segmentParse.exec(S);if(d!==null){var y=parseFloat(d[1],10),C=d[3];y%1!=0&&this.tags.VERSION>=3&&Te.info("readsegment","Version must be 3 or higher to support floating.","duration:",y),y<this.tags.TARGETDURATION&&Te.info("readsegment","Segment duration must be less than the TARGETDURATION","duration:",y),y*=1e3,this._currentSegment=Object.assign({},pe,{duration:y,name:C,discontinuity:this.discontinuous});var R=this.segments[this.segments.length-1]||{start:0,end:0};this._currentSegment.start=R.end,this._currentSegment.end=R.end+y,this.discontinuous=!1,this._state=se}else Te.warn("readsegment","read segment failed","line:",S)}},{key:"readTag",value:function(S){var d=Le.tagParse.exec(S);if(d!==null)return{name:d[1],value:d[3]}}},{key:"readLine",value:function(S){if(S.startsWith(Le.segmentPrefix))return this.readSegment(S);var d=this.readTag(S);if(d)switch(d.name){case Le.version:this.tags.VERSION=parseFloat(d.value,10);break;case Le.mediaSequence:this.tags.MEDIA_SEQUENCE=parseFloat(d.value,10);break;case Le.allowCache:this.tags.ALLOW_CACHE=!!/\s*(YES|yes)\s*/.test(d.value);break;case Le.discontinuity:this.tags.DISCONTINUITY=!0,this.discontinuous=!0;break;case Le.targetDuration:this.tags.TARGETDURATION=parseFloat(d.value,10);break;case Le.combined:this.tags.COMBINED=d.value;break;case Le.streamInf:this.tags.STREAM_INF=d.value;break;case Le.endList:this.tags.ENDLIST="EOF";break;default:Te.warn("readLine","unknow line","line:",S)}}},{key:"addFile",value:function(S){if(S[0]!=="#"){this._currentSegment.file=S;var d=this.parseSDParam(S);if(d>=0){this._currentSegment.start=d,this._currentSegment.end=d+this._currentSegment.duration;var y=this.segments[this.segments.length-1]||{sd:0,start:0,end:0};y.duration=d-y.start,y.end=d}this._currentSegment.name||(this._currentSegment.name=S.substr(Math.max(0,S.lastIndexOf("/")),S.lastIndexOf("."))),this.segments.push(this._currentSegment),this._state=$e}else{var C=this.readTag(S);switch(C.name){case"PROGRAM-DATE-TIME":var R=new Date(C.value);this._currentSegment.time=R;break;default:Te.warn("addFile","Invalid tag.","tag.name:",C.name)}}}},{key:"parseSDParam",value:function(S){var d=-1;try{var y=new URL(S).searchParams.get("sd");y&&(d=parseInt(y,10))}catch{}return d}},{key:"parse",value:function(S){var d=this;if(typeof(S=S||this.source)=="string"){this._state=$e,this.discontinuous=!1;var y=S.split(Le.lineDelimiter);if(y[0]==Le.extensionHeader)return y.forEach(function(C){if(!Le.canStrip(C))switch(d._state){case $e:d.readLine(C);break;case se:d.addFile(C);break;default:Object(J.a)("parsing m3u8 get an error, it is unknow state.")}}),this;Te.error("parse","it is not a valid  m3u8 header","header:",y[0])}else Object(J.a)("m3u8 file is not text.",S)}},{key:"version",get:function(){return this.tags.VERSION}},{key:"duration",get:function(){return this.segments.length?this.segments.reduce(function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1?arguments[1]:void 0,y=typeof S=="number"?S:S.duration;return y+d.duration}):0}},{key:"targetDuration",get:function(){return this.tags.TARGETDURATION}},{key:"mediaSequence",get:function(){return this.tags.MEDIA_SEQUENCE}},{key:"allowCache",get:function(){return this.tags.ALLOW_CACHE}},{key:"length",get:function(){return this.segments.length}}]),E}(),be=i(45),Ce=i.n(be);function He(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Object";return function(S){var d="[object "+E+"]";return Object.prototype.toString.call(S)==d}}var Ie=function(){function E(){o()(this,E)}return u()(E,null,[{key:"importScripts",value:function(S,d,y){var C="ready"+Date.now();S instanceof Array?Ce()(S,C):Ce()([S],C),Ce.a.ready(C,{success:d,error:y})}},{key:"blobData",value:function(S){var d=new Blob([S],{type:"application/javascript"});return URL.createObjectURL(d)}},{key:"escapeHTML",value:function(S){if(E.isString(S))return S.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},{key:"getInnerWidthHeight",value:function(){return{width:window.innerWidth,height:window.innerHeight}}},{key:"Fullscreen",value:function(){var S=document.documentElement;S.requestFullscreen?S.requestFullscreen():S.mozRequestFullScreen?S.mozRequestFullScreen():S.webkitRequestFullScreen&&(S.webkitRequestFullScreen(),setTimeout(function(){console.error("fullscreen success"),document.dispatchEvent(new Event("fullscreenchange"))},0))}},{key:"exitFullscreen",value:function(){var S=document;S.exitFullscreen?S.exitFullscreen():S.mozCancelFullScreen?S.mozCancelFullScreen():S.webkitExitFullscreen&&(S.webkitExitFullscreen(),setTimeout(function(){console.error("exitfullscreen success"),document.dispatchEvent(new Event("fullscreenchange"))},0))}},{key:"buildFilePath",value:function(S,d){return S.map(function(y){return d+y})}},{key:"insertSort",value:function(S,d,y){var C,R,j=S.length;if(j!==0)if(y){var q=y(d);C=q.key,R=q.value;for(var te=0;te<j;te++)if(R<S[te][C]){for(var fe=j;fe>te;)S[fe]=S[fe-1],fe--;return void(S[te]=d)}S.push(d)}else{R=d;for(var xe=0;xe<j;xe++)if(R<S[xe]){for(var Re=j;Re>xe;)S[Re]=S[Re-1],Re--;return void(S[xe]=R)}S.push(R)}else S.push(d)}},{key:"isSafari",value:function(){var S=navigator.userAgent;return/Safari/.test(S)&&!/Chrome/.test(S)}},{key:"msec2sec",value:function(S){var d=(S/1e3).toFixed(3);return parseFloat(d,10)}}]),E}();b()(Ie,"isObject",function(){return He("Object")}),b()(Ie,"isString",function(){return He("String")}),b()(Ie,"isFunction",function(){return He("Function")});var Ne=i(34),vt=i.n(Ne),Yt=function(E){function S(){return o()(this,S),c()(this,f()(S).call(this))}return m()(S,E),u()(S,[{key:"add",value:function(d){this.push(Object.freeze(d))}},{key:"addAll",value:function(d){var y=this;d.forEach(function(C){y.add(C)})}},{key:"get",value:function(d){return this[d]}},{key:"getLast",value:function(){return this[this.length-1]}},{key:"getBy",value:function(d){var y=this;if(typeof d=="function"){var C=new this.constructor;return this.every(function(R,j){return d.call(y,R,j,y)===!0&&C.add(R),!0}),C}}},{key:"indexOfByTime",value:function(d,y){y||(y=function(te){return d>=te.start&&d<te.end});for(var C=this.length-1,R=0;R<=C;){var j=Math.floor((C+R)/2),q=this[j];if(y(q))return j;q.start>d?C=j-1:R=j+1}return-1}},{key:"getByTime",value:function(d){var y=this.indexOfByTime(d);if(y>=0)return this[y]}},{key:"getByKey",value:function(){for(var d=arguments.length,y=new Array(d),C=0;C<d;C++)y[C]=arguments[C];return Array.isArray(y[0])&&(y=y[0]),this.getBy(function(R){var j=!1;return y.every(function(q){return!Object.prototype.hasOwnProperty.call(R,q)||(j=!0,!1)}),j})}},{key:"getByValue",value:function(){for(var d=arguments.length,y=new Array(d),C=0;C<d;C++)y[C]=arguments[C];return Array.isArray(y[0])&&(y=y[0]),this.getBy(function(R){var j=!1;return R.each(function(q,te){if(y.includes(te))return j=!0,!1}),j})}},{key:"getByKeyValue",value:function(d,y){return this.getBy(function(C){return C[d]===y})}},{key:"getValues",value:function(){for(var d=arguments.length,y=new Array(d),C=0;C<d;C++)y[C]=arguments[C];return Array.isArray(y[0])&&(y=y[0]),this.map(function(R){return y.length?R.get(R,y):R.getValues(R)})}},{key:"indexOfBy",value:function(d){var y=0,C=this.length;for(d=d||function(){return!1};y<C;){if(d.call(this,this[y],y,this)===!0)return y;y++}return-1}},{key:"indexOfByKey",value:function(d,y){return this.indexOfBy(function(C){return C[d]===y})}},{key:"indexOfByKeyValue",value:function(d,y){return this.indexOfByKey(d,y)}},{key:"each",value:function(d){if(typeof d=="function")return this.forEach(d),this}},{key:"remove",value:function(d,y){return this.length<=0?this:(d=d<0?0:d,y=y||d+1,this.splice(d,y-d),this)}},{key:"removeItem",value:function(){for(var d=arguments.length,y=new Array(d),C=0;C<d;C++)y[C]=arguments[C];return Array.isArray(y[0])&&(y=y[0]),this.removeBy(function(R){return y.includes(R)})}},{key:"removeBy",value:function(d){for(var y=0,C=this.length;y<C;y++)d.call(this,this[y],y,this)===!0&&(this.splice(y,1),C--,y--);return this}},{key:"removeByKeyValue",value:function(d,y){return this.removeBy(function(C){return C[d]===y})}},{key:"toJSON",value:function(){var d=Array.from(this);return d.forEach(function(y,C){d[C]=y&&typeof y.toJSON=="function"?y.toJSON():y}),d}},{key:"toArray",value:function(){return Array.from(this)}},{key:"size",get:function(){return this.length}}]),S}(vt()(Array)),It=function(){function E(){o()(this,E)}return u()(E,[{key:"pair",value:function(){return Object.entries(this)}},{key:"keys",value:function(){return Object.keys(this)}},{key:"set",value:function(S,d){return this[S]=d,this}},{key:"get",value:function(S){return this[S]}},{key:"add",value:function(S,d){return Object.prototype.hasOwnProperty.call(this,S)||this.set(S,d),this}},{key:"addAll",value:function(S){for(var d in S)this.add(d,S[d]);return this}},{key:"toJSON",value:function(){var S={};for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&(S[d]=this[d]);return S}}]),E}(),hn=function(E){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(p()(y),"no",0),b()(p()(y),"name",null),b()(p()(y),"duration",0),b()(p()(y),"file",null),b()(p()(y),"start",0),b()(p()(y),"end",0),Object.assign(p()(y),d),y}return m()(S,E),S}(It),Yr=function(E){function S(d){return o()(this,S),c()(this,f()(S).call(this,d))}return m()(S,E),u()(S,[{key:"add",value:function(d){d instanceof hn||(d=new hn(d)),d.no=this.length+1,Ie.isObject(d)&&this.push(d)}}]),S}(Yt),de={ProcessorResetEnd:"DataProcessorController.processorResetEnd",DataProcessorReady:"DataProcessorController.dataProcessorReady",DecodeStartDecode:"DecodeController.startDecode",DecodeFlush:"DecodeController.flush",DecodeDecoded:"DecodeController.decoded",DecodeApppendEnd:"DecodeController.appendEnd",DecodeFlushEnd:"DecodeController.flushEnd",DecodeReady:"DecodeController.ready",DemuxResetEnd:"DemuxController.resetEnd",DemuxStartDemux:"DemuxController.startDemux",DemuxLast:"DemuxController.last",DemuxVideo:"DemuxController.video",DemuxAAC:"DemuxController.AAC",DemuxReady:"DemuxController.ready",ImagePlayerRenderEnd:"ImagePlayer.renderEnd",ImagePlayerWait:"ImagePlayer.wait",ImagePlayerReady:"ImagePlayer.ready",ImagePlayerEnd:"ImagePlayer.end",ImagePlayerBuffeUpdate:"ImagePlayer.bufferUpdate",ControlBarPlay:"ControlBar.onPlay",ControlBarPause:"ControlBar.onPause",ControlBarPauseLoading:"ControlBar.onPauseLoading",LoadDataReadBufferByNo:"LoadData.readBufferByNo",LoadDataReadBuffer:"LoadData.readBuffer",LoadDataRead:"LoadData.onRead",LoadDataSeek:"LoadData.onSeek",LoadDataFirstLoaded:"LoadData.onFirstLoaded",LoaderPlayListStart:"Loader.playlistStart",LoaderLoading:"Loader.onLoading",LoaderError:"Loader.onError",LoaderLoaded:"Loader.onLoaded",LoaderUpdateSpeed:"Loader.updateSpeed",LoaderLoadFile:"Loader.loadFile",LoaderPlayListLoaded:"Loader.playlistLoaded",AudioPlayerReady:"AudioPlayer.MSEReady",AudioPlayerDataReady:"AudioPlayer.dataReady",AudioPlayerWait:"AudioPlayer.wait",AudioPlayerEnd:"AudioPlayer.end",AudioPlayerPlaySuccess:"AudioPlayer.playSuccess",AudioPlayerPlayFail:"AudioPlayer.playFail",PlayerMaxPTS:"DemuxController.maxpts",PlayerSeekEnd:"Player.seekend",PlayerSpeedTo:"Player.speedTo",PlayerChangeRate:"Player.changeRate",PlayerChangeSrc:"Player.changeSrc",PlayerPlaying:"Player.playing",PlayerTimeUpdate:"Player.timeUpdate",PlayerbufferUpdate:"Player.bufferupdate",PlayerResetReady:"Player.resetReady",PlayerWait:"Player.wait",PlayerLoadNext:"Player.loadNext",PlayerOnPlay:"Player.onPlay",PlayerOnPause:"Player.onPause",PlayerOnSeek:"Player.onSeek",PlayerOnVolume:"Player.onVolume",PlayerReady:"Player.ready",PlayerPlay:"Player.play",PlayerReset:"Player.reset",PlayerLoadedMetaData:"Player.loadedMetaData",PlayerEnd:"Player.end",PlayerPause:"Player.pause",PlayerSeeking:"Player.seeking",PlayerAlert:"Player.alert",PlayerThrowError:"Player.throwError",StreamDataReady:"StreamController.dataReady"};function Vt(E,S){var d=Object.keys(E);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(E);S&&(y=y.filter(function(C){return Object.getOwnPropertyDescriptor(E,C).enumerable})),d.push.apply(d,y)}return d}var Ar,yr,Ae={HLS:function(E){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this)),b()(p()(y),"state",we.IDLE),b()(p()(y),"maxBufferDuration",he.b.maxDuration),b()(p()(y),"maxBufferSize",he.b.maxSize),b()(p()(y),"baseUrl",""),b()(p()(y),"options",null),b()(p()(y),"httpWorker",null),b()(p()(y),"sourceData",null),b()(p()(y),"segmentPool",[]),b()(p()(y),"currentNo",null),b()(p()(y),"maxRetryCount",he.b.maxRetryCount),y.options=d,y.loaderController=y.options.loaderController,y.dataController=y.loaderController.dataController,y.httpWorker=d.httpWorker,y.setSegmentPool(new Yr),y}return m()(S,E),u()(S,[{key:"loadPlaylist",value:function(d){var y=this;this.httpWorker.postMessage({type:"invoke",fileType:"m3u8",method:"get",name:"playlist",url:this.sourceURL}),this.httpWorker.onmessage=function(C){var R=C.data,j=C.data.data;if(j)R.name=="playlist"&&y.parsePlaylist(j,d);else{var q="Get the ".concat(R.fileType," file error. URL: ").concat(R.url);y.events.emit(de.PlayerAlert,q),y.events.emit(de.LoaderError,q,R);var te=[y.state,"request playlist error.","data:",R,q];y.events.emit(de.PlayerThrowError,te)}}}},{key:"parsePlaylist",value:function(d,y){var C=new ge(d);if(C.segments&&C.segments.length)C.segments.forEach(function(j){j.start=Ie.msec2sec(j.start),j.end=Ie.msec2sec(j.end),j.duration=Ie.msec2sec(j.duration)}),this.setSourceData(Object.freeze(C)),this.segmentPool.addAll(C.segments),y.call(this,C);else{this.events.emit(de.LoaderError,C),this.events.emit(de.PlayerAlert,"Parse playlist file error.");var R=[this.state,"Parse playlist error.","data:",C];this.events.emit(de.PlayerThrowError,R)}}},{key:"setSourceData",value:function(d){this.sourceData=d}},{key:"getSourceData",value:function(){return this.sourceData}},{key:"setSegmentPool",value:function(d){this.segmentPool=d}},{key:"getSegmentPool",value:function(){return this.segmentPool}},{key:"isNotFree",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return d="["+d+"]loader is not free. please wait.",this.state!==we.IDLE&&this.state!==we.DONE&&(this.logger.warn("isNotFree","check status for loader","notice:",d),!0)}},{key:"getBaseUrl",value:function(d){var y=this.options.sourceURL;if(!(d.indexOf("//")>-1)){var C=y.lastIndexOf("/");return y.substr(0,C+1)}return""}},{key:"checkLoadCondition",value:function(d){return!(d.no>this.segmentPool.length)&&(!(this.dataController.getLoadDataBufferPool().bufferDuration>this.maxBufferDuration)||(this.logger.info("checkLoadCondition","stop load next segment.","bufferDuration:",this.dataController.getLoadDataBufferPool().bufferDuration,"maxBufferDuration:",this.maxBufferDuration),!1))}},{key:"loadFile",value:function(d,y,C){var R=this;if(d instanceof hn)if(this.isNotFree()&&y!=="seek"&&y!=="start")this.logger.warn("loadFile","is loading","segment:",d,"type:",y);else{if(!this.checkLoadCondition(d))return this.state=we.IDLE,void this.logger.warn("loadFile","checkLoadCondition failed","segment:",d,"type:",y);this.currentNo=d.no;var j=this.getBaseUrl(d.file)+d.file,q=1,te=function(xe,Re){return typeof R.options.processURL=="function"?R.options.processURL(xe,Re):xe},fe=function(){R.httpWorker.postMessage({type:"invoke",fileType:"ts",method:"get",name:d.no,url:te(j,d)})};this.state=we.LOADING,this.events.emit(de.LoaderLoading,d,y,C),this.httpWorker.onmessage=function(xe){R.state=we.DONE;var Re=xe.data;if(R.logger.info("loadfile","httpWorker","onmessage get data"),Re&&Re.type!=="error")Re.type==="notice"?Re.noticeType==="speed"&&R.events.emit(de.LoaderUpdateSpeed,Re.data):Re.fileType==="ts"&&Re.name===d.no?(R.logger.info("loadFile","read success","data no:",Re.name),R.state=we.IDLE,R.events.emit(de.LoaderLoaded,Re,d,y,C)):R.logger.warn("loadFile","is not ts file or the segment'no is not equal.","fileType:",Re.fileType,"data:",Re);else if(R.state=we.ERROR,q<=R.maxRetryCount)R.logger.warn("loadFile","retry to load","count:",q,"segment:",d),fe(),q+=1;else{R.events.emit(de.LoaderError,d,y,C),R.events.emit(de.PlayerAlert,"Load file error, please concat administrator.");var ut=[R.state,"Load File error.","load count:",q,"segment:",d];R.events.emit(de.PlayerThrowError,ut)}},fe()}}},{key:"destroy",value:function(){this.httpWorker&&this.httpWorker.terminate()}}]),S}(ve)},yt=function(E){function S(d,y){var C;return o()(this,S),C=c()(this,f()(S).call(this)),b()(p()(C),"state",null),b()(p()(C),"exeLoader",null),b()(p()(C),"loadData",null),b()(p()(C),"type","HLS"),b()(p()(C),"options",null),b()(p()(C),"dataController",null),C.type=d||C.type,C.player=y.player,C.options=y.player.options,C.dataController=C.player.dataController,C.init(C.type,C.options),C}return m()(S,E),u()(S,[{key:"init",value:function(d,y){this.bindEvent(),this.setExeLoader(new Ae[d](function(C){for(var R=1;R<arguments.length;R++){var j=arguments[R]!=null?arguments[R]:{};R%2?Vt(Object(j),!0).forEach(function(q){b()(C,q,j[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(j)):Vt(Object(j)).forEach(function(q){Object.defineProperty(C,q,Object.getOwnPropertyDescriptor(j,q))})}return C}({},y,{player:this.player,loaderController:this}))),this.setSourceURL(y.sourceURL),this.player.loadData?this.setLoadData(this.player.loadData):this.setLoadData(this.dataController.getDataInstance("load",y)),this.exeLoader.setLoadData(this.loadData)}},{key:"run",value:function(){this.state=we.LOAD_PLAYLIST,this.events.emit(de.LoaderPlayListStart,this),this.logger.info("run",we[this.state],"url:",this.options.sourceURL),this.loadPlaylist()}},{key:"bindEvent",value:function(){var d=this;this.events.on(de.LoaderLoadFile,function(y,C,R){d.exeLoader.loadFile(y,C,R)})}},{key:"loadPlaylist",value:function(d){var y=this;this.exeLoader.loadPlaylist(function(C){C?(y.dataController.setLoadDataSourceData(y.exeLoader.getSourceData()),y.dataController.setLoadDataSegmentPool(y.exeLoader.getSegmentPool()),y.state=we.LOADED_PLAYLIST,y.events.emit(de.LoaderPlayListLoaded,y),typeof d=="function"&&d.call(y,C)):y.logger.error("run","start load m3u8","data:",C)})}},{key:"switchPlaylist",value:function(d,y){this.setSourceURL(d),this.dataController.clearLoadData(),this.state=we.LOAD_PLAYLIST,this.events.emit(de.LoaderPlayListStart,this),this.logger.info("switchPlaylist",we[this.state],"url:",d),this.loadPlaylist(y)}},{key:"setExeLoader",value:function(d){this.exeLoader=d}},{key:"getExeLoader",value:function(){return this.exeLoader}},{key:"setSourceURL",value:function(d){this.exeLoader.setSourceURL(d)}},{key:"getSourceURL",value:function(){return this.exeLoader.getSourceURL()}},{key:"setLoadData",value:function(d){this.loadData=d}},{key:"getLoadData",value:function(){return this.loadData}},{key:"getSourceData",value:function(){return this.exeLoader.getSourceData()}},{key:"destroy",value:function(){this.exeLoader.destroy()}}]),S}(Y),pr=function(E){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(p()(y),"no",0),b()(p()(y),"start",0),b()(p()(y),"end",0),b()(p()(y),"blob",null),b()(p()(y),"arrayBuffer",null),b()(p()(y),"duration",0),Object.assign(p()(y),d),y}return m()(S,E),u()(S,[{key:"size",get:function(){return this.blob.size}}]),S}(It),dn=function(E){function S(d){return o()(this,S),c()(this,f()(S).call(this,d))}return m()(S,E),u()(S,[{key:"add",value:function(d){d instanceof pr||(d=new pr(d));var y=this.length;if(y!==0){for(;y--;)if(d.no<=this[y].no)return void this.splice(y,1,d);return this.push(d),this}this.push(d)}},{key:"getBufferSize",value:function(){return this.length<=0?0:this.reduce(function(d,y){return isNaN(d)&&(d=d.blob.size),d+y.blob.size})}},{key:"getBufferDuration",value:function(){return this.length<=0?0:this.reduce(function(d,y){return isNaN(d)&&(d=d.end-d.start),d+(y.end-y.start)})}},{key:"bufferSize",get:function(){return this.getBufferSize()}},{key:"bufferDuration",get:function(){return this.getBufferDuration()}}]),S}(Yt),Bn=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this)),b()(p()(d),"bufferPool",[]),b()(p()(d),"sourceData",{}),b()(p()(d),"options",{}),b()(p()(d),"segmentPool",[]),b()(p()(d),"readBufferNo",null),b()(p()(d),"startLoadTime",null),b()(p()(d),"currentSeekTime",null),d.options=y,d.init(),d}return m()(S,E),u()(S,[{key:"init",value:function(){var d=this;this.setBufferPool(new dn),this.events.on(de.LoadDataReadBufferByNo,function(y,C){d.readBufferByNo(y,C)}),this.events.on(de.LoadDataReadBuffer,function(y,C){d.readBuffer(y,C)}),this.events.on(de.LoaderLoaded,function(y,C,R,j){var q=d.createBuffer({arrayBuffer:y.arrayBuffer},C);if(d.segmentLoaded(C,q),R==="seek"&&j===d.currentSeekTime)return d.events.emit(de.LoadDataSeek,q,j),void d.removeBufferByNo(q.no);j===d.startLoadTime&&d.events.emit(de.LoadDataFirstLoaded,q,j)})}},{key:"setOptions",value:function(d){Object.assign(this.options,d)}},{key:"startLoad",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.logger.info("startLoad","begin to load ts data","time:",d),isNaN(d)?this.logger.error("seekTime","seek","time:",d):(this.startLoadTime=d,this.loadSegmentByTime(d,"start"))}},{key:"readBuffer",value:function(d,y){var C=this.getSegmentByTime(d);C&&this.readBufferByNo(C.no,y)}},{key:"segmentLoaded",value:function(d,y){y&&this.addBufferPool(y),d.no===this.options.player.currentIndex&&this.readBufferByNo(d.no),d.no<this.segmentPool.getLast().no&&this.loadSegmentByNo(d.no+1)}},{key:"seekTime",value:function(d){if(isNaN(d))this.logger.error("seekTime","seek","time:",d);else{var y;this.currentSeekTime=d;var C=this.bufferPool.indexOfByTime(d);C>-1?(y=this.bufferPool[C],this.events.emit(de.LoadDataSeek,y,d)):(this.removeBufferPool(this.bufferPool.length),this.loadSegmentByTime(d,"seek"))}}},{key:"loadSegmentByTime",value:function(d,y){if(!isNaN(d)){var C=this.segmentPool.indexOfByTime(d);if(C>=0){var R=this.segmentPool[C];this.events.emit(de.LoaderLoadFile,R,y,d)}else this.logger.error("loadSegmentByTime","time over","time:",d,"type:",y)}}},{key:"createBuffer",value:function(d,y){if(d){var C={start:y.start,end:y.end,no:y.no,duration:y.end-y.start,arrayBuffer:d.arrayBuffer};return new pr(C)}}},{key:"isValidSegmentNo",value:function(d){return!isNaN(d)&&d>0&&d<=this.segmentPool.length}},{key:"loadSegmentByNo",value:function(d){var y=d-1,C=this.segmentPool.get(y);C&&this.events.emit(de.LoaderLoadFile,C,"play")}},{key:"readBufferByNo",value:function(d,y){this.isValidSegmentNo(d)?(this.readBufferNo=d,y=y||function(C){this.events.emit(de.LoadDataRead,C)},this.getBlobByNo(d,y)):this.logger.error("readBufferByNo","check buffer no","is not valid no",d)}},{key:"getSegmentByTime",value:function(d){var y=this.segmentPool.indexOfByTime(d);return this.segmentPool[y]}},{key:"getBlobByNo",value:function(d,y){if(isNaN(d))this.logger.error("getBlobByNo","isNaN","no:",d);else{var C;if(!this.isBufferReading)return this.isBufferReading=!0,C=this.bufferPool.getByKeyValue("no",d)[0],typeof y=="function"&&(y.call(this,C),C&&this.removeBufferByNo(C.no)),this.isBufferReading=!1,C;this.logger.warn("getBlobByNo","isBufferReading","no:",d)}}},{key:"addBufferPool",value:function(d){if(this.bufferPool.length){if(this.bufferPool[0].no===d.no+1)return this.bufferPool.unshift(d),!0;var y=this.bufferPool.getLast();if(d.no-y.no==1)return this.bufferPool.push(d),!0;if(this.bufferPool.indexOfByKey("no",d.no))return!0;this.bufferPool.splice(0,this.bufferPool.length)}this.bufferPool.push(d)}},{key:"removeBufferPool",value:function(d){this.bufferPool.splice(0,d+1)}},{key:"removeBufferByNo",value:function(d){var y=this.bufferPool.indexOfByKey("no",d);if(!(y<=-1))return this.removeBufferPool(y),this.bufferPool.length?this.bufferPool.getLast().no<this.segmentPool.getLast().no&&this.loadSegmentByNo(this.bufferPool.getLast().no+1):d<this.segmentPool.getLast().no&&this.loadSegmentByNo(d+1),!0}},{key:"clear",value:function(){this.sourceData={},this.readBufferNo=null,this.currentSeekTime=null,this.bufferPool.length=0,this.segmentPool.length=0}},{key:"getSegmentByNo",value:function(d){return this.segmentPool.get(d-1)}},{key:"getSegment",value:function(d){return this.segmentPool.getByTime(d)}},{key:"setSourceData",value:function(d){this.sourceData=d}},{key:"getSourceData",value:function(){return this.sourceData}},{key:"setBufferPool",value:function(d){this.bufferPool=d}},{key:"getBufferPool",value:function(){return this.bufferPool}},{key:"setSegmentPool",value:function(d){this.segmentPool=d}},{key:"getSegmentPool",value:function(){return this.segmentPool}}]),S}(ae),Si=function(E){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this)),b()(p()(y),"loadData",null),y.options=d,y}return m()(S,E),u()(S,[{key:"setLoadData",value:function(){for(var d=arguments.length,y=new Array(d),C=0;C<d;C++)y[C]=arguments[C];this.loadData=G()(Bn,y)}},{key:"getLoadData",value:function(){return this.loadData}},{key:"getLoadDataBufferPool",value:function(){return this.loadData.bufferPool}},{key:"setLoadDataSourceData",value:function(d){this.loadData.setSourceData(d)}},{key:"setLoadDataSegmentPool",value:function(d){this.loadData.setSegmentPool(d)}},{key:"startLoad",value:function(d){d=Math.max(d,0),this.startLoadData(d)}},{key:"startLoadData",value:function(d){this.loadData.startLoad(d)}},{key:"clearLoadData",value:function(){this.loadData.clear()}},{key:"getDataInstance",value:function(d){if(d)switch(d){case"load":if(!this.loadData){for(var y=arguments.length,C=new Array(y>1?y-1:0),R=1;R<y;R++)C[R-1]=arguments[R];this.setLoadData.apply(this,C)}return this.loadData;default:return null}}}]),S}(Y),yc=function(E){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(p()(y),"checkHanlder",null),b()(p()(y),"resetStatus",{processor:!1,audioPlayer:!1}),y.player=d.player,y.player?(y.audioPlayer=d.audioPlayer,y.imagePlayer=d.imagePlayer,y.loadData=d.loadData,y.bindEvent(),y):c()(y)}return m()(S,E),u()(S,[{key:"bindEvent",value:function(){var d=this;this.events.on(de.ProcessorResetEnd,function(){d.checkResetReady("processor")}),this.events.on(de.AudioPlayerReady,function(){d.checkResetReady("audioPlayer")}),this.events.on(de.PlayerResetReady,function(){d.onResetReady()}),this.events.on(de.LoadDataSeek,function(y,C){d.onSeek(y,C)}),this.events.on(de.ImagePlayerRenderEnd,function(y){d.onRenderEnd(y)}),this.events.on(de.ImagePlayerWait,function(){d.audioPlayer.pause()})}},{key:"play",value:function(d){this.logger.warn("play","play start"),this.sync(d)}},{key:"sync",value:function(d){var y=this.player,C=this.audioPlayer,R=this.imagePlayer,j=C.offset,q=R.offset,te=Math.min(j,q),fe=Math.max(j,q),xe=y.playbackRate;if(y.seeking&&(y.seeking=!1),!y.reseting&&y.status!=="pause"&&C.status!=="waiting"&&R.status!=="wait")if(y.status!=="end"){if(this.setCurrentTime(d),!(d<te))return d>=j&&d<=q?(this.events.once(de.AudioPlayerPlaySuccess,function(){R.render(q)}),C.playbackRate=xe,void C.play()):void(d>=q&&d<=j?R.render(d):d>fe&&(this.audioPlayer.playbackRate=xe,this.audioPlayer.play(),R.render(d)));this.sync(te)}else C.paused||C.pause()}},{key:"setCurrentTime",value:function(d){this.player.currentTime=d,this.events.emit(de.PlayerTimeUpdate,d)}},{key:"pause",value:function(){this.audioPlayer.pause(),this.clearDrawHanlder()}},{key:"seek",value:function(d){var y=this,C=this.imagePlayer.isBuffered(d),R=this.audioPlayer.isBuffered(d);this.player.pause(),C&&R?(this.logger.warn("seek","seek in buffer, time: ".concat(d,", buffer: ").concat(this.player.buffer()[0],", ").concat(this.player.buffer()[1])),this.audioPlayer.onSeekedHandler=function(){y.player.play()},this.audioPlayer.currentTime=d):this.reset()}},{key:"reset",value:function(d){this.logger.info("reset","reset start"),this.player.reseting=!0,this.events.emit(de.PlayerReset,d),this.resetStatus={processor:!1,audioPlayer:!1},this.player.processController.reset(),this.player.streamController.reset(),this.player.audioPlayer.reset(d),this.player.imagePlayer.reset(),this.player.currentIndex=null}},{key:"checkResetReady",value:function(d){var y=this.resetStatus;if(d&&typeof d=="string"){y[d]=!0;for(var C=Object.keys(y),R=0;R<C.length;R++)if(!y[C[R]])return!1;this.logger.warn("checkResetReady","reset ready"),this.events.emit(de.PlayerResetReady)}}},{key:"onResetReady",value:function(){this.player.reseting=!1,this.logger.info("onResetReady","reset Ready"),this.player.changing&&this.events.emit(de.DataProcessorReady),this.player.seeking&&this.player.loadData.seekTime(this.player.currentTime/1e3)}},{key:"onSeek",value:function(d,y){var C=this.player.currentTime;this.logger.info("onseek",C,d,d.no,y),d&&d.no&&Math.abs(C-Math.floor(1e3*y))<2?(this.player.currentIndex=d.no,this.logger.info("seektime:",d.no,y,this.player.currentTime),this.player.seekSegmentNo=d.no,this.player.streamController.startLoad(d.no)):this.logger.warn("seek failue, not found data",C,d,y)}},{key:"clearDrawHanlder",value:function(){clearTimeout(this.drawFrameHanlder),this.drawFrameHanlder=null}},{key:"onRenderEnd",value:function(){this.player.seekTime&&(this.logger.info("onRenderEnd","seektoRenderTime:",Date.now()-this.player.seekTime),this.player.seekTime=null);var d=this.imagePlayer,y=this.audioPlayer,C=this.player.playbackRate,R=y.currentTime,j=d.currentTime,q=y.offset,te=d.fragDuration,fe=R-j,xe=0;j<q?this.drawNext(j+te*C,te):(fe>0&&fe>te?te=(xe=j+Math.ceil(fe/te+C)*te)-R:(xe=j+te*C,te-=fe),this.drawNext(xe,te))}},{key:"drawNext",value:function(d,y){var C=this;this.drawFrameHanlder&&this.clearDrawHanlder(),this.drawFrameHanlder=setTimeout(function(){C.sync(d)},y)}}]),S}(ae);function Nn(E){if(Ar){for(var S=arguments.length,d=new Array(S>1?S-1:0),y=1;y<S;y++)d[y-1]=arguments[y];Ar.apply(void 0,[E].concat(d))}}function Qn(E){if(yr){for(var S=arguments.length,d=new Array(S>1?S-1:0),y=1;y<S;y++)d[y-1]=arguments[y];yr.apply(void 0,[E].concat(d))}}var Mr=function(){function E(S){o()(this,E),this.payload=S,this.nri=(96&this.payload[0])>>5,this.ntype=31&this.payload[0]}return u()(E,null,[{key:"type",value:function(S){return S.ntype in E.TYPES?E.TYPES[S.ntype]:"UNKNOWN"}},{key:"NDR",get:function(){return 1}},{key:"IDR",get:function(){return 5}},{key:"SEI",get:function(){return 6}},{key:"SPS",get:function(){return 7}},{key:"PPS",get:function(){return 8}},{key:"AUD",get:function(){return 9}},{key:"TYPES",get:function(){var S;return S={},b()(S,E.IDR,"IDR"),b()(S,E.SEI,"SEI"),b()(S,E.SPS,"SPS"),b()(S,E.PPS,"PPS"),b()(S,E.NDR,"NDR"),b()(S,E.AUD,"AUD"),S}}]),u()(E,[{key:"toString",value:function(){return"".concat(E.type(this),": NRI: ").concat(this.getNri())}},{key:"getNri",value:function(){return this.nri>>6}},{key:"type",value:function(){return this.ntype}},{key:"isKeyframe",value:function(){return this.ntype==E.IDR}},{key:"getSize",value:function(){return 4+this.payload.byteLength}},{key:"getData",value:function(){var S=new Uint8Array(this.getSize());return new DataView(S.buffer).setUint32(0,this.getSize()-4),S.set(this.payload,4),S}}]),E}(),ss=function(){function E(S){o()(this,E),this.data=S,this.index=0,this.bitLength=8*S.byteLength}return u()(E,[{key:"skipBits",value:function(S){if(this.bitsAvailable<S)return!1;this.index+=S}},{key:"readBits",value:function(S){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=this.getBits(S,this.index,d);return y}},{key:"getBits",value:function(S,d){var y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(this.bitsAvailable<S)return 0;var C=d%8,R=this.data[d/8|0]&255>>>C,j=8-C;if(j>=S)return y&&(this.index+=S),R>>j-S;y&&(this.index+=j);var q=S-j;return R<<q|this.getBits(q,d+j,y)}},{key:"skipLZ",value:function(){var S;for(S=0;S<this.bitLength-this.index;++S)if(this.getBits(1,this.index+S,!1)!==0)return this.index+=S,S;return S}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var S=this.skipLZ();return this.readBits(S+1)-1}},{key:"readEG",value:function(){var S=this.readUEG();return 1&S?1+S>>>1:-1*(S>>>1)}},{key:"readBoolean",value:function(){return this.readBits(1)===1}},{key:"readUByte",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.readBits(8*S)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"bitsAvailable",get:function(){return this.bitLength-this.index}}]),E}(),us=function(){function E(S){o()(this,E),this.remuxer=S,this.track=S.mp4track}return u()(E,null,[{key:"extractNALu",value:function(S){for(var d,y,C=0,R=S.byteLength,j=0,q=[];C<R;)switch(d=S[C++],j){case 0:d===0&&(j=1);break;case 1:j=d===0?2:0;break;case 2:case 3:d===0?j=3:(d===1&&C<R&&(y&&q.push(S.subarray(y,C-j-1)),y=C),j=0)}return y&&q.push(S.subarray(y,R)),q}},{key:"skipScalingList",value:function(S,d){for(var y=8,C=8,R=0;R<d;R++)C!==0&&(C=(y+S.readEG()+256)%256),y=C===0?y:C}},{key:"readSPS",value:function(S){var d,y,C,R,j,q,te=new ss(S),fe=0,xe=0,Re=0,ut=0,St=1;if(te.readUByte(),d=te.readUByte(),te.readBits(5),te.skipBits(3),te.readUByte(),te.skipUEG(),d===100||d===110||d===122||d===244||d===44||d===83||d===86||d===118||d===128){var er=te.readUEG();if(er===3&&te.skipBits(1),te.skipUEG(),te.skipUEG(),te.skipBits(1),te.readBoolean()){q=er!==3?8:12;for(var tr=0;tr<q;++tr)te.readBoolean()&&(tr<6?E.skipScalingList(te,16):E.skipScalingList(te,64))}}te.skipUEG();var gr=te.readUEG();if(gr===0)te.readUEG();else if(gr===1){te.skipBits(1),te.skipEG(),te.skipEG(),y=te.readUEG();for(var qr=0;qr<y;++qr)te.skipEG()}if(te.skipUEG(),te.skipBits(1),C=te.readUEG(),R=te.readUEG(),(j=te.readBits(1))===0&&te.skipBits(1),te.skipBits(1),te.readBoolean()&&(fe=te.readUEG(),xe=te.readUEG(),Re=te.readUEG(),ut=te.readUEG()),te.readBoolean()){if(te.readBoolean()){var Et;switch(te.readUByte()){case 1:Et=[1,1];break;case 2:Et=[12,11];break;case 3:Et=[10,11];break;case 4:Et=[16,11];break;case 5:Et=[40,33];break;case 6:Et=[24,11];break;case 7:Et=[20,11];break;case 8:Et=[32,11];break;case 9:Et=[80,33];break;case 10:Et=[18,11];break;case 11:Et=[15,11];break;case 12:Et=[64,33];break;case 13:Et=[160,99];break;case 14:Et=[4,3];break;case 15:Et=[3,2];break;case 16:Et=[2,1];break;case 255:Et=[te.readUByte()<<8|te.readUByte(),te.readUByte()<<8|te.readUByte()]}Et&&(St=Et[0]/Et[1])}te.readBoolean()&&te.skipBits(1),te.readBoolean()&&(te.skipBits(4),te.readBoolean()&&te.skipBits(24)),te.readBoolean()&&(te.skipUEG(),te.skipUEG()),te.readBoolean()&&(te.readUInt(),te.readUInt(),te.readBoolean())}return{width:Math.ceil((16*(C+1)-2*fe-2*xe)*St),height:(2-j)*(R+1)*16-(j?2:4)*(Re+ut)}}}]),u()(E,[{key:"parseSPS",value:function(S){var d=E.readSPS(new Uint8Array(S));this.track.width=d.width,this.track.height=d.height,this.track.sps=[new Uint8Array(S)],this.track.codec="avc1.";for(var y=new DataView(S.buffer,S.byteOffset+1,4),C=0;C<3;++C){var R=y.getUint8(C).toString(16);R.length<2&&(R="0"+R),this.track.codec+=R}}},{key:"parsePPS",value:function(S){this.track.pps=[new Uint8Array(S)]}},{key:"parseNAL",value:function(S){if(!S)return!1;var d=!1;switch(S.type()){case Mr.NDR:case Mr.IDR:d=!0;break;case Mr.PPS:this.track.pps||(this.parsePPS(S.getData().subarray(4)),!this.remuxer.readyToDecode&&this.track.pps&&this.track.sps&&(this.remuxer.readyToDecode=!0)),d=!0;break;case Mr.SPS:this.track.sps||(this.parseSPS(S.getData().subarray(4)),!this.remuxer.readyToDecode&&this.track.pps&&this.track.sps&&(this.remuxer.readyToDecode=!0)),d=!0;break;case Mr.AUD:Nn("AUD - ignoing and disable HD mode for live channel"),this.remuxer.isHDAvail&&(this.remuxer.isHDAvail=!1);break;case Mr.SEI:Nn("SEI - ignoing")}return d}}]),E}(),Xi=function(){function E(S){o()(this,E),this.listener={},this.type=""|S}return u()(E,[{key:"on",value:function(S,d){return this.listener[S]||(this.listener[S]=[]),this.listener[S].push(d),!0}},{key:"off",value:function(S,d){if(this.listener[S]){var y=this.listener[S].indexOf(d);return y>-1&&this.listener[S].splice(y,1),!0}return!1}},{key:"offAll",value:function(){this.listener={}}},{key:"dispatch",value:function(S,d){return!!this.listener[S]&&(this.listener[S].map(function(y){y.apply(null,[d])}),!0)}}]),E}(),mr=Math.pow(2,32)-1,At=function(){function E(){o()(this,E)}return u()(E,null,[{key:"init",value:function(){var S;for(S in E.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},E.types)E.types.hasOwnProperty(S)&&(E.types[S]=[S.charCodeAt(0),S.charCodeAt(1),S.charCodeAt(2),S.charCodeAt(3)]);var d=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),y=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);E.HDLR_TYPES={video:d,audio:y};var C=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),R=new Uint8Array([0,0,0,0,0,0,0,0]);E.STTS=E.STSC=E.STCO=R,E.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),E.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),E.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),E.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var j=new Uint8Array([105,115,111,109]),q=new Uint8Array([97,118,99,49]),te=new Uint8Array([0,0,0,1]);E.FTYP=E.box(E.types.ftyp,j,te,j,q),E.DINF=E.box(E.types.dinf,E.box(E.types.dref,C))}},{key:"box",value:function(S){for(var d=arguments.length,y=new Array(d>1?d-1:0),C=1;C<d;C++)y[C-1]=arguments[C];for(var R,j=8,q=y.length,te=q;q--;)j+=y[q].byteLength;for((R=new Uint8Array(j))[0]=j>>24&255,R[1]=j>>16&255,R[2]=j>>8&255,R[3]=255&j,R.set(S,4),q=0,j=8;q<te;++q)R.set(y[q],j),j+=y[q].byteLength;return R}},{key:"hdlr",value:function(S){return E.box(E.types.hdlr,E.HDLR_TYPES[S])}},{key:"mdat",value:function(S){return E.box(E.types.mdat,S)}},{key:"mdhd",value:function(S,d){d*=S;var y=Math.floor(d/(mr+1)),C=Math.floor(d%(mr+1));return E.box(E.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,S>>24&255,S>>16&255,S>>8&255,255&S,y>>24,y>>16&255,y>>8&255,255&y,C>>24,C>>16&255,C>>8&255,255&C,85,196,0,0]))}},{key:"mdia",value:function(S){return E.box(E.types.mdia,E.mdhd(S.timescale,S.duration),E.hdlr(S.type),E.minf(S))}},{key:"mfhd",value:function(S){return E.box(E.types.mfhd,new Uint8Array([0,0,0,0,S>>24,S>>16&255,S>>8&255,255&S]))}},{key:"minf",value:function(S){return S.type==="audio"?E.box(E.types.minf,E.box(E.types.smhd,E.SMHD),E.DINF,E.stbl(S)):E.box(E.types.minf,E.box(E.types.vmhd,E.VMHD),E.DINF,E.stbl(S))}},{key:"moof",value:function(S,d,y){return E.box(E.types.moof,E.mfhd(S),E.traf(y,d))}},{key:"moov",value:function(S,d,y){for(var C=S.length,R=[];C--;)R[C]=E.trak(S[C]);return E.box.apply(null,[E.types.moov,E.mvhd(y,d)].concat(R).concat(E.mvex(S)))}},{key:"mvex",value:function(S){for(var d=S.length,y=[];d--;)y[d]=E.trex(S[d]);return E.box.apply(null,[E.types.mvex].concat(y))}},{key:"mvhd",value:function(S,d){d*=S;var y=Math.floor(d/(mr+1)),C=Math.floor(d%(mr+1)),R=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,S>>24&255,S>>16&255,S>>8&255,255&S,y>>24,y>>16&255,y>>8&255,255&y,C>>24,C>>16&255,C>>8&255,255&C,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return E.box(E.types.mvhd,R)}},{key:"sdtp",value:function(S){var d,y,C=S.samples||[],R=new Uint8Array(4+C.length);for(y=0;y<C.length;y++)d=C[y].flags,R[y+4]=d.dependsOn<<4|d.isDependedOn<<2|d.hasRedundancy;return E.box(E.types.sdtp,R)}},{key:"stbl",value:function(S){return E.box(E.types.stbl,E.stsd(S),E.box(E.types.stts,E.STTS),E.box(E.types.stsc,E.STSC),E.box(E.types.stsz,E.STSZ),E.box(E.types.stco,E.STCO))}},{key:"avc1",value:function(S){var d,y,C,R=[],j=[];for(d=0;d<S.sps.length;d++)C=(y=S.sps[d]).byteLength,R.push(C>>>8&255),R.push(255&C),R=R.concat(Array.prototype.slice.call(y));for(d=0;d<S.pps.length;d++)C=(y=S.pps[d]).byteLength,j.push(C>>>8&255),j.push(255&C),j=j.concat(Array.prototype.slice.call(y));var q=E.box(E.types.avcC,new Uint8Array([1,R[3],R[4],R[5],255,224|S.sps.length].concat(R).concat([S.pps.length]).concat(j))),te=S.width,fe=S.height;return E.box(E.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,te>>8&255,255&te,fe>>8&255,255&fe,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,98,105,110,101,108,112,114,111,46,114,117,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),q,E.box(E.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))}},{key:"esds",value:function(S){var d=S.config.byteLength,y=new Uint8Array(26+d+3);return y.set([0,0,0,0,3,23+d,0,1,0,4,15+d,64,21,0,0,0,0,0,0,0,0,0,0,0,5,d]),y.set(S.config,26),y.set([6,1,2],26+d),y}},{key:"mp4a",value:function(S){var d=S.audiosamplerate;return E.box(E.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,S.channelCount,0,16,0,0,0,0,d>>8&255,255&d,0,0]),E.box(E.types.esds,E.esds(S)))}},{key:"stsd",value:function(S){return S.type==="audio"?E.box(E.types.stsd,E.STSD,E.mp4a(S)):E.box(E.types.stsd,E.STSD,E.avc1(S))}},{key:"tkhd",value:function(S){var d=S.id,y=S.duration*S.timescale,C=S.width,R=S.height,j=Math.floor(y/(mr+1)),q=Math.floor(y%(mr+1));return E.box(E.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,d>>24&255,d>>16&255,d>>8&255,255&d,0,0,0,0,j>>24,j>>16&255,j>>8&255,255&j,q>>24,q>>16&255,q>>8&255,255&q,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,C>>8&255,255&C,0,0,R>>8&255,255&R,0,0]))}},{key:"traf",value:function(S,d){var y=E.sdtp(S),C=S.id,R=Math.floor(d/(mr+1)),j=Math.floor(d%(mr+1));return E.box(E.types.traf,E.box(E.types.tfhd,new Uint8Array([0,0,0,0,C>>24,C>>16&255,C>>8&255,255&C])),E.box(E.types.tfdt,new Uint8Array([1,0,0,0,R>>24,R>>16&255,R>>8&255,255&R,j>>24,j>>16&255,j>>8&255,255&j])),E.trun(S,y.length+16+20+8+16+8+8),y)}},{key:"trak",value:function(S){return S.duration=S.duration||4294967295,E.box(E.types.trak,E.tkhd(S),E.mdia(S))}},{key:"trex",value:function(S){var d=S.id;return E.box(E.types.trex,new Uint8Array([0,0,0,0,d>>24,d>>16&255,d>>8&255,255&d,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(S,d){var y,C,R,j,q,te,fe=S.samples||[],xe=fe.length,Re=12+16*xe,ut=new Uint8Array(Re);for(d+=8+Re,ut.set([0,0,15,1,xe>>>24&255,xe>>>16&255,xe>>>8&255,255&xe,d>>>24&255,d>>>16&255,d>>>8&255,255&d],0),y=0;y<xe;y++)R=(C=fe[y]).duration,j=C.size,q=C.flags,te=C.cts,ut.set([R>>>24&255,R>>>16&255,R>>>8&255,255&R,j>>>24&255,j>>>16&255,j>>>8&255,255&j,q.isLeading<<2|q.dependsOn,q.isDependedOn<<6|q.hasRedundancy<<4|q.paddingValue<<1|q.isNonSync,61440&q.degradPrio,15&q.degradPrio,te>>>24&255,te>>>16&255,te>>>8&255,255&te],12+16*y);return E.box(E.types.trun,ut)}},{key:"initSegment",value:function(S,d,y){E.types||E.init();var C,R=E.moov(S,d,y);return(C=new Uint8Array(E.FTYP.byteLength+R.byteLength)).set(E.FTYP),C.set(R,E.FTYP.byteLength),C}}]),E}(),Xr=function(){function E(S){o()(this,E),this.remuxer=S,this.track=S.mp4track,this.aacHeader=null}return u()(E,[{key:"getHeaderLength",value:function(S){return 1&S[1]?7:9}},{key:"getFrameLength",value:function(S){return(3&S[3])<<11|S[4]<<3|(224&S[5])>>>5}},{key:"isAACPattern",value:function(S){return S[0]===255&&(240&S[1])==240&&(6&S[1])==0}},{key:"extractAAC",value:function(S){var d,y,C=0,R=S.byteLength,j=[];if(!this.isAACPattern(S))return Qn("Invalid ADTS audio format"),j;for(d=this.getHeaderLength(S),this.aacHeader||(this.aacHeader=S.subarray(0,d));C<R;)y=this.getFrameLength(S),j.push(S.subarray(d,y)),S=S.slice(y),C+=y;return j}},{key:"samplingRateMap",get:function(){return[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350]}},{key:"getAACHeaderData",get:function(){return this.aacHeader}},{key:"setAACHeaderData",set:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.aacHeader=S}}]),u()(E,[{key:"setAACConfig",value:function(){var S,d,y,C=new Uint8Array(2),R=this.getAACHeaderData;R&&(S=1+((192&R[2])>>>6),d=(60&R[2])>>>2,y=(1&R[2])<<2,y|=(192&R[3])>>>6,C[0]=S<<3,C[0]|=(14&d)>>1,C[1]|=(1&d)<<7,C[1]|=y<<3,this.track.codec="mp4a.40."+S,this.track.channelCount=y,this.track.config=C,this.remuxer.readyToDecode=!0)}}]),E}(),Pa=1,zr=function(){function E(){o()(this,E),this.seq=1}return u()(E,null,[{key:"getTrackID",value:function(){return Pa++}}]),u()(E,[{key:"flush",value:function(){this.seq++,this.mp4track.len=0,this.mp4track.samples=[]}},{key:"isReady",value:function(){return!(!this.readyToDecode||!this.samples.length)||null}}]),E}(),Fn=function(E){function S(){var d;return o()(this,S),(d=c()(this,f()(S).call(this))).readyToDecode=!1,d.nextDts=0,d.dts=0,d.timescale=1e3,d.mp4track={id:zr.getTrackID(),type:"audio",channelCount:0,len:0,fragmented:!0,timescale:d.timescale,duration:d.timescale,samples:[],config:"",codec:""},d.samples=[],d.aac=new Xr(p()(d)),d}return m()(S,E),u()(S,[{key:"resetTrack",value:function(){this.readyToDecode=!1,this.mp4track.codec="",this.mp4track.channelCount="",this.mp4track.config="",this.mp4track.timescale=this.timescale}},{key:"remux",value:function(d){var y,C,R=!0,j=!1,q=void 0;try{for(var te,fe=d[Symbol.iterator]();!(R=(te=fe.next()).done);R=!0){var xe=te.value;y=(C=xe.units).byteLength,this.samples.push({units:C,size:y,duration:xe.duration}),this.mp4track.len+=y,this.readyToDecode||this.aac.setAACConfig()}}catch(Re){j=!0,q=Re}finally{try{R||fe.return==null||fe.return()}finally{if(j)throw q}}}},{key:"getPayload",value:function(){if(!this.isReady())return null;var d,y,C=new Uint8Array(this.mp4track.len),R=0,j=this.mp4track.samples;for(this.dts=this.nextDts;this.samples.length;){var q=this.samples.shift();(y=q.duration)<=0?(Nn("remuxer: invalid sample duration at DTS: ".concat(this.nextDts," :").concat(y)),this.mp4track.len-=q.size):(this.nextDts+=y,d={size:q.size,duration:y,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},C.set(q.units,R),R+=q.size,j.push(d))}return j.length?new Uint8Array(C.buffer,0,this.mp4track.len):null}}]),S}(zr),qi=function(E){function S(){var d;return o()(this,S),(d=c()(this,f()(S).call(this))).readyToDecode=!1,d.nextDts=0,d.dts=0,d.timescale=1e3,d.mp4track={id:zr.getTrackID(),type:"video",len:0,fragmented:!0,sps:"",pps:"",width:0,height:0,timescale:d.timescale,duration:d.timescale,samples:[]},d.samples=[],d.h264=new us(p()(d)),d}return m()(S,E),u()(S,[{key:"resetTrack",value:function(){this.readyToDecode=!1,this.mp4track.sps="",this.mp4track.pps=""}},{key:"remux",value:function(d){var y,C,R,j,q,te=!0,fe=!1,xe=void 0;try{for(var Re,ut=d[Symbol.iterator]();!(te=(Re=ut.next()).done);te=!0){y=Re.value,C=[],j=0,q=!1;var St=!0,er=!1,tr=void 0;try{for(var gr,qr=y.units[Symbol.iterator]();!(St=(gr=qr.next()).done);St=!0)R=gr.value,this.h264.parseNAL(R)&&(C.push(R),j+=R.getSize(),q||(q=R.isKeyframe()))}catch(Et){er=!0,tr=Et}finally{try{St||qr.return==null||qr.return()}finally{if(er)throw tr}}C.length>0&&this.readyToDecode&&(this.mp4track.len+=j,this.samples.push({units:C,size:j,keyFrame:q,duration:y.duration}))}}catch(Et){fe=!0,xe=Et}finally{try{te||ut.return==null||ut.return()}finally{if(fe)throw xe}}}},{key:"getPayload",value:function(){if(!this.isReady())return null;var d,y,C=new Uint8Array(this.mp4track.len),R=0,j=this.mp4track.samples;for(this.dts=this.nextDts;this.samples.length;){var q=this.samples.shift(),te=q.units;if((y=q.duration)<=0)Nn("remuxer: invalid sample duration at DTS: ".concat(this.nextDts," :").concat(y)),this.mp4track.len-=q.size;else{this.nextDts+=y,d={size:q.size,duration:y,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,isNonSync:q.keyFrame?0:1,dependsOn:q.keyFrame?2:1}};var fe=!0,xe=!1,Re=void 0;try{for(var ut,St=te[Symbol.iterator]();!(fe=(ut=St.next()).done);fe=!0){var er=ut.value;C.set(er.getData(),R),R+=er.getSize()}}catch(tr){xe=!0,Re=tr}finally{try{fe||St.return==null||St.return()}finally{if(xe)throw Re}}j.push(d)}}return j.length?new Uint8Array(C.buffer,0,this.mp4track.len):null}}]),S}(zr);function ls(E,S){var d=new Uint8Array((0|E.byteLength)+(0|S.byteLength));return d.set(E,0),d.set(S,0|E.byteLength),d}var wi=function(E){function S(d){var y;return o()(this,S),(y=c()(this,f()(S).call(this,"remuxer"))).initialized=!1,y.trackTypes=[],y.tracks={},y.mediaDuration=d?1/0:1e3,y}return m()(S,E),u()(S,[{key:"addTrack",value:function(d){d!=="video"&&d!=="both"||(this.tracks.video=new qi,this.trackTypes.push("video")),d!=="audio"&&d!=="both"||(this.tracks.audio=new Fn,this.trackTypes.push("audio"))}},{key:"reset",value:function(){var d=!0,y=!1,C=void 0;try{for(var R,j=this.trackTypes[Symbol.iterator]();!(d=(R=j.next()).done);d=!0){var q=R.value;this.tracks[q].resetTrack()}}catch(te){y=!0,C=te}finally{try{d||j.return==null||j.return()}finally{if(y)throw C}}this.initialized=!1}},{key:"destroy",value:function(){this.tracks={},this.offAll()}},{key:"flush",value:function(){if(this.initialized){var d=!0,y=!1,C=void 0;try{for(var R,j=this.trackTypes[Symbol.iterator]();!(d=(R=j.next()).done);d=!0){var q=R.value,te=this.tracks[q],fe=te.getPayload();if(fe&&fe.byteLength){var xe={type:q,payload:ls(At.moof(te.seq,te.dts,te.mp4track),At.mdat(fe)),dts:te.dts};this.dispatch("buffer",xe);var Re=(bo=te.dts/1e3,zn=void 0,Lc=void 0,qh=void 0,Zh=void 0,Zh="",zn=Math.floor(bo),(Lc=parseInt(zn/3600,10)%24)>0&&(Zh+=(Lc<10?"0"+Lc:Lc)+":"),Zh+=((qh=parseInt(zn/60,10)%60)<10?"0"+qh:qh)+":"+((zn=zn<0?0:zn%60)<10?"0"+zn:zn));Nn("put segment (".concat(q,"): ").concat(te.seq," dts: ").concat(te.dts," samples: ").concat(te.mp4track.samples.length," second: ").concat(Re)),te.flush()}}}catch(wg){y=!0,C=wg}finally{try{d||j.return==null||j.return()}finally{if(y)throw C}}}else if(this.isReady()){this.dispatch("ready");var ut=!0,St=!1,er=void 0;try{for(var tr,gr=this.trackTypes[Symbol.iterator]();!(ut=(tr=gr.next()).done);ut=!0){var qr=tr.value,Et=this.tracks[qr],bs={type:qr,payload:At.initSegment([Et.mp4track],this.mediaDuration,Et.mp4track.timescale)};this.dispatch("buffer",bs)}}catch(wg){St=!0,er=wg}finally{try{ut||gr.return==null||gr.return()}finally{if(St)throw er}}Nn("Initial segment generated."),this.initialized=!0}var bo,zn,Lc,qh,Zh}},{key:"isReady",value:function(){var d=!0,y=!1,C=void 0;try{for(var R,j=this.trackTypes[Symbol.iterator]();!(d=(R=j.next()).done);d=!0){var q=R.value;if(!this.tracks[q].readyToDecode||!this.tracks[q].samples.length)return!1}}catch(te){y=!0,C=te}finally{try{d||j.return==null||j.return()}finally{if(y)throw C}}return!0}},{key:"remux",value:function(d){var y=!0,C=!1,R=void 0;try{for(var j,q=this.trackTypes[Symbol.iterator]();!(y=(j=q.next()).done);y=!0){var te=j.value,fe=d[te];te==="audio"&&this.tracks.video&&!this.tracks.video.readyToDecode||fe.length>0&&this.tracks[te].remux(fe)}}catch(xe){C=!0,R=xe}finally{try{y||q.return==null||q.return()}finally{if(C)throw R}}this.flush()}}]),S}(Xi),lo=function(E){function S(d,y){var C;return o()(this,S),(C=c()(this,f()(S).call(this,"buffer"))).type=y,C.queue=new Uint8Array,C.cleaning=!1,C.pendingCleaning=0,C.cleanOffset=30,C.cleanRanges=[],C.sourceBuffer=d,C.sourceBuffer.addEventListener("updateend",function(){C.dispatch("updateend",Date.now()),C.pendingCleaning>0&&(C.initCleanup(C.pendingCleaning),C.pendingCleaning=0),C.cleaning=!1,C.cleanRanges.length&&C.doCleanup()}),C.sourceBuffer.addEventListener("error",function(R){C.dispatch("error",{type:C.type,name:"buffer",error:R})}),C}return m()(S,E),u()(S,[{key:"destroy",value:function(){this.queue=null,this.sourceBuffer=null,this.offAll()}},{key:"doCleanup",value:function(){if(this.cleanRanges.length){var d=this.cleanRanges.shift();Nn("".concat(this.type," remove range [").concat(d[0]," - ").concat(d[1],")")),this.cleaning=!0,this.sourceBuffer.remove(d[0],d[1]),this.dispatch("clearBuffer")}else this.cleaning=!1}},{key:"initCleanup",value:function(d){if(this.sourceBuffer.updating)this.pendingCleaning=d;else if(this.sourceBuffer.buffered&&this.sourceBuffer.buffered.length&&!this.cleaning){for(var y=0;y<this.sourceBuffer.buffered.length;++y){var C=this.sourceBuffer.buffered.start(y),R=this.sourceBuffer.buffered.end(y);d-C>this.cleanOffset&&C<(R=d-this.cleanOffset)&&this.cleanRanges.push([C,R])}this.doCleanup()}}},{key:"doAppend",value:function(){if(this.queue.length&&!this.sourceBuffer.updating)try{this.sourceBuffer.appendBuffer(this.queue),this.queue=new Uint8Array}catch(d){if(d.name==="QuotaExceededError")return Nn("".concat(this.type," buffer quota full")),void this.dispatch("error",{type:this.type,name:"QuotaExceeded",error:"buffer error"});Qn("Error occured while appending ".concat(this.type," buffer -  ").concat(d.name,": ").concat(d.message)),this.dispatch("error",{type:this.type,name:"unexpectedError",error:"buffer error"})}}},{key:"feed",value:function(d){this.queue=ls(this.queue,d)}}]),S}(Xi);window.MediaSource=window.MediaSource||window.WebKitMediaSource;var cs=function(E){function S(d){var y;if(o()(this,S),y=c()(this,f()(S).call(this,"jmuxer")),window.MediaSource=window.MediaSource||window.WebKitMediaSource,y.options=Object.assign({},{node:"",mode:"both",flushingTime:1500,clearBuffer:!0,onReady:null,fps:30,debug:!1,onClearBuffer:null},d),y.options.debug&&(Ar=console.log,yr=console.error),typeof y.options.node=="string"&&y.options.node==""&&Qn("no video element were found to render, provide a valid video element"),y.options.fps||(y.options.fps=30),y.frameDuration=1e3/y.options.fps|0,y.node=typeof y.options.node=="string"?document.getElementById(y.options.node):y.options.node,y.sourceBuffers={},y.isMSESupported=!!window.MediaSource,!y.isMSESupported)throw"Oops! Browser does not support media source extension.";return y.setupMSE(),y.remuxController=new wi(y.options.clearBuffer),y.remuxController.addTrack(y.options.mode),y.options.mode==="audio"&&(y.aacParser=y.remuxController.tracks.audio.aac),y.mseReady=!1,y.lastCleaningTime=Date.now(),y.keyframeCache=[],y.frameCounter=0,y.remuxController.on("buffer",y.onBuffer.bind(p()(y))),y.remuxController.on("ready",y.createBuffer.bind(p()(y))),y.startInterval(),y}return m()(S,E),u()(S,null,[{key:"isSupported",value:function(d){return window.MediaSource&&window.MediaSource.isTypeSupported(d)}}]),u()(S,[{key:"setupMSE",value:function(){this.mediaSource=new MediaSource,this.node.src=URL.createObjectURL(this.mediaSource),this.mediaSource.addEventListener("sourceopen",this.onMSEOpen.bind(this)),this.mediaSource.addEventListener("sourceclose",this.onMSEClose.bind(this)),this.mediaSource.addEventListener("webkitsourceopen",this.onMSEOpen.bind(this)),this.mediaSource.addEventListener("webkitsourceclose",this.onMSEClose.bind(this))}},{key:"feed",value:function(d){var y,C,R,j=!1,q={video:[],audio:[]};d&&this.remuxController&&(R=d.duration?parseInt(d.duration):0,d.video&&(y=us.extractNALu(d.video)).length>0&&(q.video=this.getVideoFrames(y,R),j=!0),d.audio&&(C=this.aacParser.extractAAC(d.audio)).length>0&&(q.audio=this.getAudioFrames(C,R),j=!0),j?this.remuxController.remux(q):Qn("Input object must have video and/or audio property. Make sure it is not empty and valid typed array"))}},{key:"getVideoFrames",value:function(d,y){var C,R,j,q=[],te=[],fe=0,xe=[],Re=!0,ut=!1,St=void 0;try{for(var er,tr=d[Symbol.iterator]();!(Re=(er=tr.next()).done);Re=!0)C=er.value,R=new Mr(C),q.push(R),R.type()!==Mr.IDR&&R.type()!==Mr.NDR||(te.push({units:q}),q=[],this.options.clearBuffer&&(R.type()===Mr.IDR&&xe.push(this.frameCounter),this.frameCounter++))}catch(gr){ut=!0,St=gr}finally{try{Re||tr.return==null||tr.return()}finally{if(ut)throw St}}return y?(j=y/te.length|0,fe=y-j*te.length):j=this.frameDuration,te.map(function(gr){gr.duration=fe>0?j+1:j,fe!==0&&fe--}),this.options.clearBuffer&&(xe=xe.map(function(gr){return gr*j/1e3}),this.keyframeCache=this.keyframeCache.concat(xe)),te}},{key:"getAudioFrames",value:function(d,y){var C,R,j=[],q=0,te=!0,fe=!1,xe=void 0;try{for(var Re,ut=d[Symbol.iterator]();!(te=(Re=ut.next()).done);te=!0)C=Re.value,j.push({units:C})}catch(St){fe=!0,xe=St}finally{try{te||ut.return==null||ut.return()}finally{if(fe)throw xe}}return y?(R=y/j.length|0,q=y-R*j.length):R=this.frameDuration,j.map(function(St){St.duration=q>0?R+1:R,q!==0&&q--}),j}},{key:"destroy",value:function(){if(this.aacParser=null,this.stopInterval(),this.mediaSource){try{this.bufferControllers&&(this.mediaSource.endOfStream(),this.removeSourceBuffer())}catch(y){Qn("mediasource is not available to end ".concat(y.message))}this.mediaSource=null}if(this.remuxController&&(this.remuxController.destroy(),this.remuxController=null),this.bufferControllers){for(var d in this.bufferControllers)this.bufferControllers[d].destroy();this.bufferControllers=null}this.node=!1,this.mseReady=!1,this.videoStarted=!1}},{key:"createBuffer",value:function(){if(this.mseReady&&this.remuxController&&this.remuxController.isReady()&&!this.bufferControllers)for(var d in this.bufferControllers={},this.remuxController.tracks){var y=this.remuxController.tracks[d];if(!S.isSupported("".concat(d,'/mp4; codecs="').concat(y.mp4track.codec,'"')))return Qn("Browser does not support codec"),!1;var C=this.mediaSource.addSourceBuffer("".concat(d,'/mp4; codecs="').concat(y.mp4track.codec,'"'));this.bufferControllers[d]=new lo(C,d),this.sourceBuffers[d]=C,this.bufferControllers[d].on("error",this.onBufferError.bind(this)),this.bufferControllers[d].on("clearBuffer",this.onClearBuffer.bind(this)),this.bufferControllers[d].on("updateend",this.onUpdateEnd.bind(this))}}},{key:"onUpdateEnd",value:function(d){typeof this.options.onUpdateEnd=="function"&&this.options.onUpdateEnd(d)}},{key:"startInterval",value:function(){var d=this;this.interval=setInterval(function(){d.bufferControllers&&(d.releaseBuffer(),d.clearBuffer())},this.options.flushingTime)}},{key:"stopInterval",value:function(){this.interval&&clearInterval(this.interval)}},{key:"releaseBuffer",value:function(){for(var d in this.bufferControllers)this.bufferControllers[d].doAppend()}},{key:"getSafeBufferClearLimit",value:function(d){for(var y,C=this.options.mode==="audio"&&d||0,R=0;R<this.keyframeCache.length&&!(this.keyframeCache[R]>=d);R++)y=this.keyframeCache[R];return y&&(this.keyframeCache=this.keyframeCache.filter(function(j){return j<y&&(C=j),j>=y})),C}},{key:"clearBuffer",value:function(){if(this.options.clearBuffer&&Date.now()-this.lastCleaningTime>1e4){for(var d in this.bufferControllers){var y=this.getSafeBufferClearLimit(this.node.currentTime);this.bufferControllers[d].initCleanup(y)}this.lastCleaningTime=Date.now()}}},{key:"onBuffer",value:function(d){this.bufferControllers&&this.bufferControllers[d.type]&&this.bufferControllers[d.type].feed(d.payload)}},{key:"onClearBuffer",value:function(){typeof this.options.onClearBuffer=="function"&&this.options.onClearBuffer()}},{key:"removeSourceBuffer",value:function(){if(this.mediaSource){var d=this.sourceBuffers;for(var y in d)this.mediaSource.removeSourceBuffer(d[y])}}},{key:"onMSEOpen",value:function(){this.mseReady=!0,this.createBuffer(),typeof this.options.onReady=="function"&&(this.options.onReady(),this.options.onReady=null)}},{key:"onMSEClose",value:function(){this.mseReady=!1,this.videoStarted=!1}},{key:"onBufferError",value:function(d){if(d.name!="QuotaExceeded"){if(this.mediaSource.sourceBuffers.length>0&&this.sourceBuffers[d.type]&&this.mediaSource.removeSourceBuffer(this.sourceBuffers[d.type]),this.mediaSource.sourceBuffers.length==0)try{this.mediaSource.endOfStream()}catch{Qn("mediasource is not available to end")}}else this.bufferControllers[d.type].initCleanup(this.node.currentTime)}}]),S}(Xi),co=function(E){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(p()(y),"source",[]),b()(p()(y),"onPlay",void 0),y.source=d.source,y.onPlay=d.onPlay,y.init(),y}return m()(S,E),u()(S,[{key:"init",value:function(){}},{key:"extract",value:function(d,y){for(var C=this.provide(y),R=0;R<C.size;R++)d[2*R]=C.left[R],d[2*R+1]=C.right[R];return C.size}},{key:"provide",value:function(d){for(var y=d,C=new Float32Array(y),R=new Float32Array(y),j=0,q=0,te=0;this.source.length>0;){var fe=this.source.shift(),xe=fe.loadedPosition||0;q=fe.startTime+fe.duration*xe/fe.length;var Re=Math.min(fe.length-xe,y-j),ut=fe.getChannelData(0),St=fe.numberOfChannels>1?fe.getChannelData(1):fe.getChannelData(0);if(C.set(ut.slice(xe,xe+Re),j),R.set(St.slice(xe,xe+Re),j),te+=Re,j+=Re,(xe+=Re)<fe.length){fe.loadedPosition=xe,this.source.unshift(fe);break}}return this.onPlay&&this.onPlay(q),{left:C,right:R,size:te}}}]),S}(ae);function tn(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function fs(E,S){for(var d=0;d<S.length;d++){var y=S[d];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(E,y.key,y)}}function Dr(E,S,d){return S&&fs(E.prototype,S),d&&fs(E,d),E}function Qe(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),S&&Jn(E,S)}function ke(E){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(E)}function Jn(E,S){return(Jn=Object.setPrototypeOf||function(d,y){return d.__proto__=y,d})(E,S)}function Ea(E,S){return!S||U()(S)!=="object"&&typeof S!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(E):S}function Qt(E,S,d){return(Qt=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(y,C,R){var j=function(te,fe){for(;!Object.prototype.hasOwnProperty.call(te,fe)&&(te=ke(te))!==null;);return te}(y,C);if(j){var q=Object.getOwnPropertyDescriptor(j,C);return q.get?q.get.call(R):q.value}})(E,S,d||E)}var kr=function(){function E(){tn(this,E),this._vector=new Float32Array,this._position=0,this._frameCount=0}return Dr(E,[{key:"clear",value:function(){this.receive(this._frameCount),this.rewind()}},{key:"put",value:function(S){this._frameCount+=S}},{key:"putSamples",value:function(S,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=2*(d=d||0);y>=0||(y=(S.length-C)/2);var R=2*y;this.ensureCapacity(y+this._frameCount);var j=this.endIndex;this.vector.set(S.subarray(C,C+R),j),this._frameCount+=y}},{key:"putBuffer",value:function(S,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;d=d||0,y>=0||(y=S.frameCount-d),this.putSamples(S.vector,S.position+d,y)}},{key:"receive",value:function(S){S>=0&&!(S>this._frameCount)||(S=this.frameCount),this._frameCount-=S,this._position+=S}},{key:"receiveSamples",value:function(S){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=2*d,C=this.startIndex;S.set(this._vector.subarray(C,C+y)),this.receive(d)}},{key:"extract",value:function(S){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=this.startIndex+2*d,R=2*y;S.set(this._vector.subarray(C,C+R))}},{key:"ensureCapacity",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=parseInt(2*S);if(this._vector.length<d){var y=new Float32Array(d);y.set(this._vector.subarray(this.startIndex,this.endIndex)),this._vector=y,this._position=0}else this.rewind()}},{key:"ensureAdditionalCapacity",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.ensureCapacity(this._frameCount+S)}},{key:"rewind",value:function(){this._position>0&&(this._vector.set(this._vector.subarray(this.startIndex,this.endIndex)),this._position=0)}},{key:"vector",get:function(){return this._vector}},{key:"position",get:function(){return this._position}},{key:"startIndex",get:function(){return 2*this._position}},{key:"frameCount",get:function(){return this._frameCount}},{key:"endIndex",get:function(){return 2*(this._position+this._frameCount)}}]),E}(),Ma=function(){function E(S){tn(this,E),S?(this._inputBuffer=new kr,this._outputBuffer=new kr):this._inputBuffer=this._outputBuffer=null}return Dr(E,[{key:"clear",value:function(){this._inputBuffer.clear(),this._outputBuffer.clear()}},{key:"inputBuffer",get:function(){return this._inputBuffer},set:function(S){this._inputBuffer=S}},{key:"outputBuffer",get:function(){return this._outputBuffer},set:function(S){this._outputBuffer=S}}]),E}(),_c=function(E){function S(d){var y;return tn(this,S),(y=Ea(this,ke(S).call(this,d))).reset(),y._rate=1,y}return Qe(S,E),Dr(S,[{key:"reset",value:function(){this.slopeCount=0,this.prevSampleL=0,this.prevSampleR=0}},{key:"clone",value:function(){var d=new S;return d.rate=this._rate,d}},{key:"process",value:function(){var d=this._inputBuffer.frameCount;this._outputBuffer.ensureAdditionalCapacity(d/this._rate+1);var y=this.transpose(d);this._inputBuffer.receive(),this._outputBuffer.put(y)}},{key:"transpose",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(d===0)return 0;for(var y=this._inputBuffer.vector,C=this._inputBuffer.startIndex,R=this._outputBuffer.vector,j=this._outputBuffer.endIndex,q=0,te=0;this.slopeCount<1;)R[j+2*te]=(1-this.slopeCount)*this.prevSampleL+this.slopeCount*y[C],R[j+2*te+1]=(1-this.slopeCount)*this.prevSampleR+this.slopeCount*y[C+1],te+=1,this.slopeCount+=this._rate;if(this.slopeCount-=1,d!==1)e:for(;;){for(;this.slopeCount>1;)if(this.slopeCount-=1,(q+=1)>=d-1)break e;var fe=C+2*q;R[j+2*te]=(1-this.slopeCount)*y[fe]+this.slopeCount*y[fe+2],R[j+2*te+1]=(1-this.slopeCount)*y[fe+1]+this.slopeCount*y[fe+3],te+=1,this.slopeCount+=this._rate}return this.prevSampleL=y[C+2*d-2],this.prevSampleR=y[C+2*d-1],te}},{key:"rate",set:function(d){this._rate=d}}]),S}(Ma),fo=function(){function E(S){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1024;tn(this,E),this._pipe=S,this.inputSize=d}return Dr(E,[{key:"fillInputBuffer",value:function(){throw new Error("fillInputBuffer() not overridden")}},{key:"fillOutputBuffer",value:function(){for(var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=this.inputSize;this.outputBuffer.frameCount<S;){var y=d-this.inputBuffer.frameCount;if(this.fillInputBuffer(y),this.inputBuffer.frameCount<d)break;this._pipe.process()}}},{key:"clear",value:function(){this._pipe.clear()}},{key:"pipe",get:function(){return this._pipe}},{key:"inputBuffer",get:function(){return this._pipe.inputBuffer}},{key:"outputBuffer",get:function(){return this._pipe.outputBuffer}}]),E}(),Da=function(){},La=function(E){function S(d,y){var C,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1024,j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Da;return tn(this,S),(C=Ea(this,ke(S).call(this,y,R))).callback=j,C.sourceSound=d,C.historyBufferSize=22050,C._sourcePosition=0,C.outputBufferPosition=0,C._position=0,C}return Qe(S,E),Dr(S,[{key:"onEnd",value:function(){this.callback()}},{key:"fillInputBuffer",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=new Float32Array(2*d),C=this.sourceSound.extract(y,d,this._sourcePosition);this._sourcePosition+=C,this.inputBuffer.putSamples(y,0,C)}},{key:"extract",value:function(d){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.fillOutputBuffer(this.outputBufferPosition+y);var C=Math.min(y,this.outputBuffer.frameCount-this.outputBufferPosition);this.outputBuffer.extract(d,this.outputBufferPosition,C);var R=this.outputBufferPosition+C;return this.outputBufferPosition=Math.min(this.historyBufferSize,R),this.outputBuffer.receive(Math.max(R-this.historyBufferSize,0)),this._position+=C,C}},{key:"handleSampleData",value:function(d){this.extract(d.data,4096)}},{key:"clear",value:function(){Qt(ke(S.prototype),"clear",this).call(this),this.outputBufferPosition=0}},{key:"position",get:function(){return this._position},set:function(d){if(d>this._position)throw new RangeError("New position may not be greater than current position");var y=this.outputBufferPosition-(this._position-d);if(y<0)throw new RangeError("New position falls outside of history buffer");this.outputBufferPosition=y,this._position=d}},{key:"sourcePosition",get:function(){return this._sourcePosition},set:function(d){this.clear(),this._sourcePosition=d}}]),S}(fo),Zi=[[124,186,248,310,372,434,496,558,620,682,744,806,868,930,992,1054,1116,1178,1240,1302,1364,1426,1488,0],[-100,-75,-50,-25,25,50,75,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-20,-15,-10,-5,5,10,15,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-4,-3,-2,-1,1,2,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],Lu=function(E){function S(d){var y;return tn(this,S),(y=Ea(this,ke(S).call(this,d)))._quickSeek=!0,y.midBufferDirty=!1,y.midBuffer=null,y.overlapLength=0,y.autoSeqSetting=!0,y.autoSeekSetting=!0,y._tempo=1,y.setParameters(44100,0,0,8),y}return Qe(S,E),Dr(S,[{key:"clear",value:function(){Qt(ke(S.prototype),"clear",this).call(this),this.clearMidBuffer()}},{key:"clearMidBuffer",value:function(){this.midBufferDirty&&(this.midBufferDirty=!1,this.midBuffer=null)}},{key:"setParameters",value:function(d,y,C,R){d>0&&(this.sampleRate=d),R>0&&(this.overlapMs=R),y>0?(this.sequenceMs=y,this.autoSeqSetting=!1):this.autoSeqSetting=!0,C>0?(this.seekWindowMs=C,this.autoSeekSetting=!1):this.autoSeekSetting=!0,this.calculateSequenceParameters(),this.calculateOverlapLength(this.overlapMs),this.tempo=this._tempo}},{key:"calculateOverlapLength",value:function(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;d=(d=this.sampleRate*y/1e3)<16?16:d,d-=d%8,this.overlapLength=d,this.refMidBuffer=new Float32Array(2*this.overlapLength),this.midBuffer=new Float32Array(2*this.overlapLength)}},{key:"checkLimits",value:function(d,y,C){return d<y?y:d>C?C:d}},{key:"calculateSequenceParameters",value:function(){var d,y;this.autoSeqSetting&&(d=150+-50*this._tempo,d=this.checkLimits(d,50,125),this.sequenceMs=Math.floor(d+.5)),this.autoSeekSetting&&(y=25- -10/1.5*.5+-10/1.5*this._tempo,y=this.checkLimits(y,15,25),this.seekWindowMs=Math.floor(y+.5)),this.seekWindowLength=Math.floor(this.sampleRate*this.sequenceMs/1e3),this.seekLength=Math.floor(this.sampleRate*this.seekWindowMs/1e3)}},{key:"clone",value:function(){var d=new S;return d.tempo=this._tempo,d.setParameters(this.sampleRate,this.sequenceMs,this.seekWindowMs,this.overlapMs),d}},{key:"seekBestOverlapPosition",value:function(){return this._quickSeek?this.seekBestOverlapPositionStereoQuick():this.seekBestOverlapPositionStereo()}},{key:"seekBestOverlapPositionStereo",value:function(){var d,y,C,R=0;for(this.preCalculateCorrelationReferenceStereo(),d=0,y=Number.MIN_VALUE;R<this.seekLength;R+=1)(C=this.calculateCrossCorrelationStereo(2*R,this.refMidBuffer))>y&&(y=C,d=R);return d}},{key:"seekBestOverlapPositionStereoQuick",value:function(){var d,y,C,R,j,q=0;for(this.preCalculateCorrelationReferenceStereo(),y=Number.MIN_VALUE,d=0,R=0,j=0;q<4;q+=1){for(var te=0;Zi[q][te]&&!((j=R+Zi[q][te])>=this.seekLength);)(C=this.calculateCrossCorrelationStereo(2*j,this.refMidBuffer))>y&&(y=C,d=j),te+=1;R=d}return d}},{key:"preCalculateCorrelationReferenceStereo",value:function(){for(var d,y,C=0;C<this.overlapLength;C+=1)y=C*(this.overlapLength-C),d=2*C,this.refMidBuffer[d]=this.midBuffer[d]*y,this.refMidBuffer[d+1]=this.midBuffer[d+1]*y}},{key:"calculateCrossCorrelationStereo",value:function(d,y){var C=this._inputBuffer.vector;d+=this._inputBuffer.startIndex;for(var R,j=0,q=2,te=2*this.overlapLength;q<te;q+=2)j+=C[R=q+d]*y[q]+C[R+1]*y[q+1];return j}},{key:"overlap",value:function(d){this.overlapStereo(2*d)}},{key:"overlapStereo",value:function(d){var y=this._inputBuffer.vector;d+=this._inputBuffer.startIndex;for(var C,R,j,q,te,fe=this._outputBuffer.vector,xe=this._outputBuffer.endIndex,Re=0,ut=1/this.overlapLength;Re<this.overlapLength;Re+=1)R=(this.overlapLength-Re)*ut,j=Re*ut,q=(C=2*Re)+d,fe[(te=C+xe)+0]=y[q+0]*j+this.midBuffer[C+0]*R,fe[te+1]=y[q+1]*j+this.midBuffer[C+1]*R}},{key:"process",value:function(){var d,y,C;if(this.midBuffer===null){if(this._inputBuffer.frameCount<this.overlapLength)return;this.midBuffer=new Float32Array(2*this.overlapLength),this._inputBuffer.receiveSamples(this.midBuffer,this.overlapLength)}for(;this._inputBuffer.frameCount>=this.sampleReq;){d=this.seekBestOverlapPosition(),this._outputBuffer.ensureAdditionalCapacity(this.overlapLength),this.overlap(Math.floor(d)),this._outputBuffer.put(this.overlapLength),(y=this.seekWindowLength-2*this.overlapLength)>0&&this._outputBuffer.putBuffer(this._inputBuffer,d+this.overlapLength,y);var R=this._inputBuffer.startIndex+2*(d+this.seekWindowLength-this.overlapLength);this.midBuffer.set(this._inputBuffer.vector.subarray(R,R+2*this.overlapLength)),this.skipFract+=this.nominalSkip,C=Math.floor(this.skipFract),this.skipFract-=C,this._inputBuffer.receive(C)}}},{key:"tempo",set:function(d){var y;this._tempo=d,this.calculateSequenceParameters(),this.nominalSkip=this._tempo*(this.seekWindowLength-this.overlapLength),this.skipFract=0,y=Math.floor(this.nominalSkip+.5),this.sampleReq=Math.max(y+this.overlapLength,this.seekWindowLength)+this.seekLength},get:function(){return this._tempo}},{key:"inputChunkSize",get:function(){return this.sampleReq}},{key:"outputChunkSize",get:function(){return this.overlapLength+Math.max(0,this.seekWindowLength-2*this.overlapLength)}},{key:"quickSeek",set:function(d){this._quickSeek=d}}]),S}(Ma),Ra=function(E,S){return(E>S?E-S:S-E)>1e-10},Oa=function(){function E(){tn(this,E),this.transposer=new _c(!1),this.stretch=new Lu(!1),this._inputBuffer=new kr,this._intermediateBuffer=new kr,this._outputBuffer=new kr,this._rate=0,this._tempo=0,this.virtualPitch=1,this.virtualRate=1,this.virtualTempo=1,this.calculateEffectiveRateAndTempo()}return Dr(E,[{key:"clear",value:function(){this.transposer.clear(),this.stretch.clear()}},{key:"clone",value:function(){var S=new E;return S.rate=this.rate,S.tempo=this.tempo,S}},{key:"calculateEffectiveRateAndTempo",value:function(){var S=this._tempo,d=this._rate;this._tempo=this.virtualTempo/this.virtualPitch,this._rate=this.virtualRate*this.virtualPitch,Ra(this._tempo,S)&&(this.stretch.tempo=this._tempo),Ra(this._rate,d)&&(this.transposer.rate=this._rate),this._rate>1?this._outputBuffer!=this.transposer.outputBuffer&&(this.stretch.inputBuffer=this._inputBuffer,this.stretch.outputBuffer=this._intermediateBuffer,this.transposer.inputBuffer=this._intermediateBuffer,this.transposer.outputBuffer=this._outputBuffer):this._outputBuffer!=this.stretch.outputBuffer&&(this.transposer.inputBuffer=this._inputBuffer,this.transposer.outputBuffer=this._intermediateBuffer,this.stretch.inputBuffer=this._intermediateBuffer,this.stretch.outputBuffer=this._outputBuffer)}},{key:"process",value:function(){this._rate>1?(this.stretch.process(),this.transposer.process()):(this.transposer.process(),this.stretch.process())}},{key:"rate",get:function(){return this._rate},set:function(S){this.virtualRate=S,this.calculateEffectiveRateAndTempo()}},{key:"rateChange",set:function(S){this._rate=1+.01*S}},{key:"tempo",get:function(){return this._tempo},set:function(S){this.virtualTempo=S,this.calculateEffectiveRateAndTempo()}},{key:"tempoChange",set:function(S){this.tempo=1+.01*S}},{key:"pitch",set:function(S){this.virtualPitch=S,this.calculateEffectiveRateAndTempo()}},{key:"pitchOctaves",set:function(S){this.pitch=Math.exp(.69314718056*S),this.calculateEffectiveRateAndTempo()}},{key:"pitchSemitones",set:function(S){this.pitchOctaves=S/12}},{key:"inputBuffer",get:function(){return this._inputBuffer}},{key:"outputBuffer",get:function(){return this._outputBuffer}}]),E}(),hs=function(){function E(S){tn(this,E),this.buffer=S,this._position=0}return Dr(E,[{key:"extract",value:function(S){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this.position=y;for(var C=this.buffer.getChannelData(0),R=this.dualChannel?this.buffer.getChannelData(1):this.buffer.getChannelData(0),j=0;j<d;j++)S[2*j]=C[j+y],S[2*j+1]=R[j+y];return Math.min(d,C.length-y)}},{key:"dualChannel",get:function(){return this.buffer.numberOfChannels>1}},{key:"position",get:function(){return this._position},set:function(S){this._position=S}}]),E}(),rn=function(E,S){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Da,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:4096,C=E.createScriptProcessor(y,2,2),R=new Float32Array(2*y);return C.onaudioprocess=function(j){var q=j.outputBuffer.getChannelData(0),te=j.outputBuffer.getChannelData(1),fe=S.extract(R,y);d(S.sourcePosition),fe===0&&S.onEnd();for(var xe=0;xe<fe;xe++)q[xe]=R[2*xe],te[xe]=R[2*xe+1]},C},vn=function(E){var S,d,y,C=Math.floor(E/60),R=E-60*C;return"".concat(C,":").concat((S=parseInt(R),y=y||"0",(S+="").length>=(d=2)?S:new Array(d-S.length+1).join(y)+S))},Ki=function(E){var S=this.timePlayed,d=this.sampleRate;if(this.sourcePosition=E,this.timePlayed=E/d,S!==this.timePlayed){var y=new CustomEvent("play",{detail:{timePlayed:this.timePlayed,formattedTimePlayed:this.formattedTimePlayed,percentagePlayed:this.percentagePlayed}});this._node.dispatchEvent(y)}},ds=(function(){function E(S,d,y){var C=this,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Da;tn(this,E),this._soundtouch=new Oa;var j=new hs(d);this.timePlayed=0,this.sourcePosition=0,this._filter=new La(j,this._soundtouch,R),this._node=rn(S,this._filter,function(q){return Ki.call(C,q)}),this.tempo=1,this.rate=1,this.duration=d.duration,this.sampleRate=S.sampleRate,this.listeners=[]}Dr(E,[{key:"connect",value:function(S){this._node.connect(S)}},{key:"disconnect",value:function(){this._node.disconnect()}},{key:"on",value:function(S,d){this.listeners.push({name:S,cb:d}),this._node.addEventListener(S,function(y){return d(y.detail)})}},{key:"off",value:function(){var S=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,y=this.listeners;d&&(y=y.filter(function(C){return C.name===d})),y.forEach(function(C){S._node.removeEventListener(C.name,function(R){return C.cb(R.detail)})})}},{key:"formattedDuration",get:function(){return vn(this.duration)}},{key:"formattedTimePlayed",get:function(){return vn(this.timePlayed)}},{key:"percentagePlayed",get:function(){return 100*this._filter.sourcePosition/(this.duration*this.sampleRate)},set:function(S){this._filter.sourcePosition=parseInt(S*this.duration*this.sampleRate)}},{key:"node",get:function(){return this._node}},{key:"pitch",set:function(S){this._soundtouch.pitch=S}},{key:"pitchSemitones",set:function(S){this._soundtouch.pitchSemitones=S}},{key:"rate",set:function(S){this._soundtouch.rate=S}},{key:"tempo",set:function(S){this._soundtouch.tempo=S}}])}(),function(E){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(p()(y),"soundTouch",void 0),b()(p()(y),"filter",void 0),y.init(d.source),y}return m()(S,E),u()(S,[{key:"init",value:function(d){this.soundTouch=new Oa,this.soundTouch.tempo=1,this.soundTouch.rate=1,this.filter=new La(d,this.soundTouch,2048)}},{key:"provide",value:function(d){for(var y=new Float32Array(2*d),C=this.filter.extract(y,d),R=new Float32Array(C),j=new Float32Array(C),q=0;q<C;q++)R[q]=y[2*q],j[q]=y[2*q+1];return{size:C,left:R,right:j}}},{key:"rate",set:function(d){this.soundTouch.tempo=d}}]),S}(ae)),re=function(E){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(p()(y),"currentRate",1),b()(p()(y),"source",[]),b()(p()(y),"commonProcessor",void 0),b()(p()(y),"rateProcessor",void 0),b()(p()(y),"audioTime",0),y.source=d.source,y.init(),y}return m()(S,E),u()(S,[{key:"init",value:function(){var d=this;this.commonProcessor=new co({source:this.source,onPlay:function(y){d.audioTime=y}}),this.rateProcessor=new ds({source:this.commonProcessor})}},{key:"provide",value:function(d){var y=(this.currentRate===1?this.commonProcessor:this.rateProcessor).provide(d);return y.audioTime=this.audioTime,y}},{key:"rate",set:function(d){this.currentRate=d,this.rateProcessor.rate=d}}]),S}(ae),N="canplaythrough",L="seeked",I="waiting",Z=function(E){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(p()(y),"audioContext",null),b()(p()(y),"scriptNode",null),b()(p()(y),"gainNode",null),b()(p()(y),"delay",0),b()(p()(y),"audioBuffer",new ArrayBuffer(0)),b()(p()(y),"decodedBuffer",[]),b()(p()(y),"isFirstPlay",!0),b()(p()(y),"defaultVolume",1),b()(p()(y),"currentRate",1),b()(p()(y),"eventListeners",{}),b()(p()(y),"canPlay",!1),b()(p()(y),"interval",void 0),b()(p()(y),"seekTimeDelta",0),b()(p()(y),"audioTime",0),b()(p()(y),"audioProvider",void 0),b()(p()(y),"isWaiting",!1),d=Object.assign({},d),y.flushTime=d.flushTime||1e3,y.onReady=d.onReady,y.init(),y}return m()(S,E),u()(S,[{key:"init",value:function(){this.audioProvider=new re({source:this.decodedBuffer}),typeof this.onReady=="function"&&setTimeout(this.onReady,0)}},{key:"feed",value:function(d){var y=d.audio;this.audioBuffer=this.appendByteArray(this.audioBuffer,y),this.canPlay||(this.canPlay=!0,this.triggerEvent(N))}},{key:"appendByteArray",value:function(d,y){var C=new Uint8Array((0|d.byteLength)+(0|y.byteLength));return C.set(new Uint8Array(d),0),C.set(new Uint8Array(y),0|d.byteLength),C.buffer}},{key:"decodeAudioData",value:function(d){var y=this;this.audioBuffer&&this.audioBuffer.byteLength>0&&(this.audioContext.decodeAudioData(this.audioBuffer,function(C){C.startTime=y.delay,y.delay+=C.duration,y.decodedBuffer.push(C),d&&d.call()},function(C){y.logger.error("decodeAudioData",C)}),this.audioBuffer=new ArrayBuffer(0))}},{key:"play",value:function(){var d=this;return new Promise(function(y,C){d.isFirstPlay?(d.isFirstPlay=!1,d.logger.info("startPlay"),d.audioContext=new(window.AudioContext||window.webkitAudioContext),d.gainNode=d.audioContext.createGain(),d.gainNode.gain.value=d.defaultVolume,d.scriptNode=d.audioContext.createScriptProcessor(2048,2,2),d.scriptNode.onaudioprocess=function(R){var j=R.outputBuffer,q=j.length,te=d.audioProvider.provide(q);if(te.size!==0){d.isWaiting&&(d.isWaiting=!1,d.triggerEvent(N));var fe=j.getChannelData(0),xe=j.getChannelData(1);if(te.audioTime!=0&&(d.audioTime=te.audioTime),fe.set(te.left),xe.set(te.right),te.size<q){var Re=new Float32Array(q-te.size);fe.set(Re,te.size),xe.set(Re,te.size)}}else d.isWaiting||(d.isWaiting=!0,d.triggerEvent(I))},d.scriptNode.connect(d.gainNode),d.gainNode.connect(d.audioContext.destination),d.decodeAudioData.call(d,d.testAutoplay.bind(d,y,C)),d.interval=setInterval(d.decodeAudioData.bind(d),d.flushTime)):d.audioContext.state==="suspended"?d.audioContext.resume().then(function(){d.logger.info("play","Audio is resumed"),y()}):(d.logger.info("Audio resumed from waiting"),y())})}},{key:"pause",value:function(){var d=this;this.audioContext&&this.audioContext.suspend().then(function(){d.logger.info("pause","Audio is paused")})}},{key:"addEventListener",value:function(d,y){this.eventListeners[d]=y}},{key:"triggerEvent",value:function(d){var y=this.eventListeners[d];y&&y.call()}},{key:"buffer",value:function(){var d=0;return this.decodedBuffer.length>0&&(d=this.decodedBuffer[0].startTime),{start:1e3*d,end:parseInt(1e3*this.delay)}}},{key:"destroy",value:function(){this.delay=0,this.audioContext&&(clearInterval(this.interval),this.scriptNode.disconnect(),this.scriptNode=null,this.audioContext.close(),this.audioContext=null),this.gainNode=null,this.audioBuffer=new ArrayBuffer(0),this.canPlay=!1,this.isFirstPlay=!0,this.decodedBuffer.length=0,this.seekTimeDelta=0,this.audioTime=0}},{key:"testAutoplay",value:function(d,y){var C=W.createEl("audio"),R=C.play();C=null;var j=!1;R!==void 0?(R.catch(function(){j=!0}),setTimeout(function(){R=null,j?y("Autoplay is prevented"):d()},100)):y("Promise is undefined")}},{key:"currentTime",get:function(){return this.audioTime},set:function(d){var y=this;for(this.audioTime=d;this.decodedBuffer.length>0;){var C=this.decodedBuffer.shift();if(C.startTime<=d&&C.startTime+C.duration>d){C.loadedPosition=parseInt(C.length*(d-C.startTime)/C.duration),this.decodedBuffer.unshift(C);break}}setTimeout(function(){y.triggerEvent(L)},0)}},{key:"volume",get:function(){return this.gainNode.gain.value},set:function(d){this.gainNode?this.gainNode.gain.value=d:this.defaultVolume=d}},{key:"playbackRate",set:function(d){d!==this.currentRate&&(this.currentRate=d,this.audioProvider.rate=d)}}]),S}(ae),oe=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"first",!1),b()(p()(d),"offset",0),b()(p()(d),"currentPTS",0),b()(p()(d),"ready",!1),b()(p()(d),"end",!1),b()(p()(d),"lastData",null),b()(p()(d),"nodeParent",null),b()(p()(d),"useJMuxer",!1),d.player=y.audioNode,d.createAudioMuxer(),d.bindEvent(),d.logger.info("audioDecoder",d.useJMuxer?"JMuxer":"AudioContext"),d}return m()(S,E),u()(S,[{key:"bindEvent",value:function(){var d=this;this.bindNodeEvent(),this.events.on(de.PlayerMaxPTS,function(y){d.currentPTS===y&&(d.end=!0)})}},{key:"bindNodeEvent",value:function(){var d=this;this.addEventListener("seeked",function(){d.onSeekedHandler&&d.onSeekedHandler(),d.events.emit("AudioPlayer.seeked")}),this.addEventListener("canplaythrough",function(){d.logger.info("canplaythrough"),d.ready||(d.ready=!0,d.status="ready",d.logger.info("constructor","canplaythrough","ready"),d.events.emit(de.AudioPlayerDataReady))}),this.addEventListener("waiting",function(){d.ready=!1,d.end?(d.useJMuxer||d.player.destroy(),d.status="end",d.events.emit(de.AudioPlayerEnd,"audio"),d.logger.info("audioPlayer end")):(d.logger.warn("audioPlayer waiting",d.player.currentTime,d.currentPTS),d.status="waiting",d.events.emit(de.AudioPlayerWait,"audio"))})}},{key:"reset",value:function(){this.lastData=null,this.first=!1,this.offset=0,this.currentPTS=0,this.ready=!1,this.end=!1,this.clear(),this.createAudioMuxer(),this.bindNodeEvent(),this.stime=null}},{key:"createNode",value:function(){this.player=document.createElement("audio"),this.player.classList.add("goldplay__audio--player"),this.parentNode.appendChild(this.player)}},{key:"createAudioMuxer",value:function(){this.useJMuxer?this.audioDecoder=new cs({node:this.player,mode:"audio",debug:!1,clearBuffer:!0,flushingTime:10,onReady:this.onMSEReady.bind(this)}):(this.audioDecoder=new Z({flushTime:100,onReady:this.onMSEReady.bind(this)}),this.player=this.audioDecoder)}},{key:"onMSEReady",value:function(){this.logger.info("onMSEReady","AudioPlayerReady"),this.events.emit(de.AudioPlayerReady)}},{key:"clear",value:function(){this.audioDecoder.destroy(),this.audioDecoder=null}},{key:"play",value:function(){var d=this;this.status!=="playing"&&(this.status="playing",this.player.play().then(function(){d.events.emit(de.AudioPlayerPlaySuccess)}).catch(function(y){d.logger.error("play","errorInfo:",y),d.events.emit(de.AudioPlayerPlayFail)}))}},{key:"pause",value:function(){this.status!=="pause"&&(this.status="pause",this.player.pause())}},{key:"send",value:function(d){if(this.audioDecoder){if(this.stime||(this.stime=Date.now()),(d=this.format(d)).audioEnd)return this.logger.info("push","audioEnd"),this.feed(this.lastData),void(this.lastData=null);if(this.first||(this.first=!0,this.offset=d.start),d.PTS>this.currentPTS){if(!this.lastData)return void(this.lastData=d);this.lastData.duration=d.PTS-this.lastData.PTS,this.feed(this.lastData),d.duration=this.lastData.duration,this.lastData=d}}else this.logger.error("send","audioDecoder is:",this.audioDecoder)}},{key:"feed",value:function(d){this.audioDecoder.feed({audio:d.data_byte,duration:d.duration}),this.currentPTS=d.PTS}},{key:"format",value:function(d){return d&&d.data_byte&&(d.start=d.PTS),d}},{key:"addEventListener",value:function(d,y){this.player.addEventListener(d,y)}},{key:"isBuffered",value:function(d){return[this.buffer()].findIndex(function(y){return d>=y.start&&d<y.end})!==-1}},{key:"buffer",value:function(){if(this.useJMuxer){for(var d=this.player.buffered,y=d.length,C={};y>0;)C.start=1e3*d.start(y-1)+this.offset,C.end=1e3*d.end(y-1)+this.offset,y--;return C}var R=this.player.buffer();return{start:R.start+this.offset,end:R.end+this.offset}}},{key:"muted",set:function(d){this.player.muted=!!d}},{key:"playbackRate",set:function(d){this.player.playbackRate=d}},{key:"volume",get:function(){return this.player.volume},set:function(d){this.player.volume=d,this.muted=d===0}},{key:"currentTime",get:function(){return parseInt(1e3*this.player.currentTime+this.offset)},set:function(d){this.player.currentTime=(d-this.offset)/1e3}},{key:"paused",get:function(){return this.player.paused}},{key:"offset",set:function(d){this.offset=d}}]),S}(ae),le={playerContainer:"goldplay__container",screenContainer:"goldplay__screen--container",screenCanvas:"goldplay__screen--canvas",audioContainer:"goldplay__audio--container",audioPlayer:"goldplay__audio--player",controlContainer:"goldplay__control--container",containerFullPage:"goldplay__container-fullpage",containerFullScreen:"goldplay__container-fullscreen",controlContainerFloat:"goldplay__control--container-float",bigPlayButton:"goldplay__screen--bigplay",poster:"goldplay__screen--poster",nearside:"goldplay__control--nearside",sidebar:"goldplay__control--sidebar",buttonBlock:"goldplay__control--button-block",playButton:"goldplay__control--play",pauseButton:"goldplay__control--pause",replayButton:"goldplay__control--replay",speedBar:"goldplay__speed-bar",speedBarBox:"goldplay__speed-bar--box",rateBar:"goldplay__rate-bar",rateBarBox:"goldplay__rate-bar--box",fullPage:"goldplay__control--fullpage",fullScreen:"goldplay__control--fullscreen",waitingBar:"goldplay__waiting-bar",progressBar:"goldplay__progress-bar",progressBarHover:"goldplay__progress-bar-hover",progressBarPlay:"goldplay__progressbar--play",progressBarPlayHover:"goldplay__progressbar--play-hover",progressBarLoad:"goldplay__progressbar--load",progressBarLoadHover:"goldplay__progressbar--load-hover",progressBarDot:"goldplay__progressbar--dot",progressBarDotHover:"goldplay__progressbar--dot-hover",volumeBar:"goldplay__volume-bar",volumeBarAudio:"goldplay__volume-bar--audio",volumeBarAudioOn:"goldplay__volume-bar--audio-on",volumeBarAudioOff:"goldplay__volume-bar--audio-off",volumeBarHandle:"goldplay__volume-bar--handle",volumeBarRod:"goldplay__volume-bar--rod",volumeBarRodHover:"goldplay__volume-bar--rod-hover",volumeBarSize:"goldplay__volume-bar--size",volumeBarColumn:"goldplay__volume-bar--column",alertBox:"goldplay__alter-box",alertClose:"goldplay__alter--close"},me=le,Pe=function(){function E(){o()(this,E)}return u()(E,null,[{key:"createContainer",value:function(S){var d=function(C){function R(){return o()(this,R),c()(this,f()(R).apply(this,arguments))}return m()(R,C),R}(vt()(HTMLDivElement));customElements.get("gp-container")||customElements.define("gp-container",d,{extends:"div"});var y=W.createEl("gp-container","div");return y.className=me.playerContainer,y.style.width=(S.options.width?S.options.width:S.el.offsetWidth)+"px",y.style.height=(S.options.height?S.options.height:S.el.offsetHeight)+"px",y}},{key:"createScreenContainer",value:function(S){var d=S.$container,y=function(j){function q(){return o()(this,q),c()(this,f()(q).apply(this,arguments))}return m()(q,j),q}(vt()(HTMLDivElement));customElements.get("gp-screen")||customElements.define("gp-screen",y,{extends:"div"});var C,R=W.createEl("gp-screen","div");return R.classList.add(me.screenContainer),C=S.controlBarAutoHide?d.offsetHeight:d.offsetHeight-S.controlBarHeight,R.style.height=C+"px",R}},{key:"createAudioContainer",value:function(){var S=W.createEl("gp-audio");return S.classList.add(me.audioContainer),S.style.display="none",S}},{key:"createAudio",value:function(){var S=W.createEl("audio");return S.classList.add(me.audioPlayer),S.controls=!0,S}},{key:"clearCavans",value:function(S){var d=S.getContext("webgl");d.clear(d.COLOR_BUFFER_BIT)}}]),E}();b()(Pe,"createCanvas",function(E){var S=W.createEl("canvas");return S.style.display="none",S.classList.add(me.screenCanvas),S.width=E.options.screenWidth||E.screenWidth,S.height=E.options.screenHeight||E.screenHeight,S});var ze=M.a.get("Template.js"),Be=function(){function E(){o()(this,E)}return u()(E,null,[{key:"mergeVar",value:function(S){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof S!="string"||S==="")return S;try{var y=new RegExp(`\\\${'?"?\\s*([.:a-z0-9_s]+?)\\s*'?"?}`,"ig");return S.replace(y,function(C,R){R=R.trim();var j=d[R];return j=(j=(j=j===null?"":j)===void 0?"":j)||""})}catch(C){return ze.error("mergeVar","replace variable","error:",C),S}}},{key:"makeValue",value:function(S,d,y){if(typeof d!="string"&&typeof d!="function")return d;if(typeof d=="function"&&(d=d.call(this,this.data)),!y)return E.escapeHTML.call(this,d);var C,R=function(xe){var Re="";return xe&&(Re=" ".concat(E.slotReplaceName,'="true"')),'<gp-slot style="display:none"'.concat(Re,"></gp-slot>")};if(E.isSoltType(y)){if(typeof this.getComponent!="function")return ze.error("makeValue","the object is not support slot mode.",this.getComponent,d),d;switch(y){case E.slotTypeMap.component:C=d;var j=this.getComponent(C);U()(j)==="object"&&j.element?(j.element.setAttribute(E.slotReplaceName,"true"),d=j.element.outerHTML):d=R(C);break;case E.slotTypeMap.html:d=E.mergeVar.call(this,d,this.data)}var q="";C!==void 0&&(q=" ".concat(E.slotComName,'="').concat(C,'" '));var te="$1 "+E.slotTypeName+'="'+y+'" '+E.slotKeyName+'="'+S+'"'+q+"$2";return typeof d=="string"&&(d=(d=d===""?R():d).replace(/^\s*(<\s?[\w-]*)(.*[\r|\n|>])/,te)),d}if(typeof y=="string"){var fe=Ze[y];return typeof fe=="function"&&(d=fe.call(this,d)),d}return E.escapeHTML.call(this,d)}},{key:"escapeHTML",value:function(S){return typeof S!="string"?S:S.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},{key:"generate",value:function(S,d,y){var C=this,R=y[y.length-1]||{},j=[S[0]];return d.forEach(function(q,te){if(q){var fe,xe,Re=q.split(E.pipSeparator);Re.length>1&&(q=Re[0],xe=Re[1]),fe=Number.isInteger(q)?y[q]:R[q],(fe=E.makeValue.bind(C)(q,fe,xe))!==void 0&&j.push(fe),S[te+1]!==void 0&&j.push(S[te+1])}}),j.join("")}},{key:"create",value:function(S){for(var d=arguments.length,y=new Array(d>1?d-1:0),C=1;C<d;C++)y[C-1]=arguments[C];var R;R=Array.isArray(S)?"array":typeof S=="function"?"function":"string";var j=this;if(U()(j)==="object"||typeof j=="function")if(S!==void 0&&S!=="")switch(j.data!==void 0&&j.data!==null||(ze.info("create","this object.data is undefined or null",j),j.data={}),R){case"array":return function(){for(var te=arguments.length,fe=new Array(te),xe=0;xe<te;xe++)fe[xe]=arguments[xe];var Re=fe[fe.length-1]||{};U()(j)==="object"&&(j.__template__={tplObj:S,keys:y,dict:Re});var ut=E.generate.bind(j);return ut(S,y,fe)};case"function":var q=E.create.bind(j);return S.call(j,j.data,q,j);default:return function(te){return te=te!==void 0?te:j.data,E.mergeVar(S,te)}}else ze.error("create","have not give tplObj parameter.",S);else ze.error("create","this is not an object.",j)}},{key:"isSoltType",value:function(S){return S=String(S).toLowerCase(),E.slotTypeMap[S]}}]),E}();Be.pipSeparator="|",Be.slotTypeName="gp-slot-type",Be.slotKeyName="gp-slot-key",Be.slotComName="gp-slot-com",Be.slotReplaceName="gp-slot-replace",Be.slotTypeMap={html:"html",component:"component"};var Ze={trim:function(E){return E.trim()},upperCase:function(E){return E.toUpperCase()},lowerCase:function(E){return E.toLowerCase()}},Ke=Be,Pt=i(18),ir=i.n(Pt),nt=i(28),Tn=i.n(nt),pt=M.a.get("Observer.js"),ei=function(){function E(d){o()(this,E),b()(this,"object",null),this.setObject(d)}var S;return u()(E,[{key:"setObject",value:function(d){this.object=d}},{key:"watch",value:(S=Tn()(ir.a.mark(function d(y,C,R){var j;return ir.a.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(typeof(j=this.object).watch=="function"){q.next=3;break}return q.abrupt("return");case 3:return q.next=5,j.watch(y,C,R);case 5:q.sent!==!1&&typeof j.render=="function"&&j.render(y,C,R),typeof j.afterWatch=="function"&&j.afterWatch(y,C,R);case 8:case"end":return q.stop()}},d,this)})),function(d,y,C){return S.apply(this,arguments)})},{key:"create",value:function(d){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=this,R=y.set,j=y.get;d=d||C.data;var q=C.object,te={set:function(fe,xe,Re){return typeof R=="function"?R.call(C,fe,xe,Re):(fe[xe]!==Re&&(fe[xe]=Re,q.__template__&&Object.prototype.hasOwnProperty.call(q.__template__.dict,xe)&&C.watch(fe,xe,Re)),!0)},get:function(fe,xe){return typeof j=="function"?j.call(C,fe,xe):U()(fe[xe])==="object"&&fe[xe]!==null?new Proxy(fe[xe],te):Reflect.get(fe,xe)}};return new Proxy(d,te)}}]),E}(),Ia=function(E){return U()(E)!=="object"&&pt.error("observer","this is not an object."),new ei(E)};function $n(E){if(E){var S=[],d=[];for(d.push(E);d.length;){var y=d.shift(),C=y.getAttribute(Ke.slotTypeName);if(!Ke.isSoltType(C)){S.push(y);for(var R=y.children,j=0,q=R.length;j<q;j++)d.push(R[j])}}return S}}var pn=function(E){return E.getAttribute&&E.getAttribute(Ke.slotTypeName)===Ke.slotTypeMap.html},Hn=function(E,S){return!(!(d=E).getAttribute||d.getAttribute(Ke.slotTypeName)!==Ke.slotTypeMap.component||E.getAttribute(Ke.slotComName)===S.getAttribute(Ke.slotComName));var d},ho=function(E,S,d){var y;(E||S)&&(!E&&S?d.appendChild(S):!S&&E?d.removeChild(E):E.tagName!==S.tagName||(y=S,pn(E)&&pn(y))||Hn(E,S)?E.replaceWith(S.cloneNode(!0)):E.nodeType===Node.TEXT_NODE&&E.nodeValue!==S.nodeValue?E.nodeValue=S.nodeValue:E.setAttribute&&W.setAttributes(E,S))},Xt=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"createTemplate",null),b()(p()(d),"template",""),b()(p()(d),"element",null),b()(p()(d),"eventsList",{}),b()(p()(d),"data",{}),b()(p()(d),"id",""),d.id=y.id||d.constructor.name,d.options=y,d.createTemplate=Ke.create.bind(p()(d)),d}return m()(S,E),u()(S,[{key:"getTemplate",value:function(){return this.template}},{key:"setTemplate",value:function(d){this.template=d}},{key:"init",value:function(){this.data=Ia(this).create(this.data),this.render(),typeof this.afterInit=="function"&&this.afterInit()}},{key:"afterInit",value:function(){}},{key:"initProps",value:function(){}},{key:"bindEvent",value:function(){}},{key:"watch",value:function(){}},{key:"render",value:function(){var d="";d=typeof this.template=="function"?this.template(this.data):this.template;var y=W.createEl("div");if(typeof d=="string"){y.innerHTML=d;var C=y.firstElementChild,R=C.querySelectorAll("["+Ke.slotReplaceName+"]"),j=!0,q=!1,te=void 0;try{for(var fe,xe=R[Symbol.iterator]();!(j=(fe=xe.next()).done);j=!0){var Re=fe.value;if(Re.getAttribute(Ke.slotReplaceName)==="true"){var ut=Re.getAttribute(Ke.slotComName),St=this.getComponent(ut);if(!St)continue;var er=St.element;W.isElement(this.element)?Re.replaceWith(er.cloneNode(!0)):Re.replaceWith(er),St.element.removeAttribute(Ke.slotReplaceName)}}}catch(tr){q=!0,te=tr}finally{try{j||xe.return==null||xe.return()}finally{if(q)throw te}}W.isElement(this.element)?this.replaceNode(this.element,C):this.element=C}else this.logger.error("render:","this template is not html string","html:",d)}},{key:"replaceNode",value:function(d,y){if(d&&y){var C=$n(d),R=$n(y),j=C.length,q=R.length,te=Math.max(j,q);if(te<=0||d.tagName!==y.tagName)return d.replaceWith(y),void(this.element=y);for(;te--;){var fe=C[te],xe=R[te];if(fe)if(xe){if(fe.tagName===xe.tagName&&W.syncAttributes(fe,xe),!fe.isEqualNode(xe)){var Re=Math.max(fe.childNodes.length,xe.childNodes.length);if(Re<=0)ho(fe,xe,fe.parentNode);else for(var ut=0,St=Re;ut<St;ut++){var er=fe.childNodes[ut],tr=xe.childNodes[ut];(er||tr)&&ho(er,tr,fe)}}}else fe.parentNode.removeChild(fe);else d.appendChild(xe)}}}},{key:"show",value:function(){this.data.display="show",this.element&&(this.element.style.display="inline-block")}},{key:"hide",value:function(){this.data.display="hide",this.element&&(this.element.style.display="none")}},{key:"resetPosition",value:function(){var d=this.element.parentNode,y=d.offsetWidth,C=d.offsetHeight;this.element.style.marginTop=(C-this.element.offsetHeight)/2+"px",this.element.style.marginLeft=(y-this.element.offsetWidth)/2+"px"}},{key:"replace",value:function(d){this.element.replaceWith(d),this.element=d}},{key:"update",value:function(d){this.element.innerHTML=d}},{key:"addEventListener",value:function(d,y,C){var R=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return d.addEventListener(y,C,R),{destroy:function(){d.removeEventListener(y,C)}}}},{key:"removeEventListenerAll",value:function(){var d=this;Object.keys(this.eventsList).forEach(function(y){d.eventsList[y].destroy()})}},{key:"getComponent",value:function(d){if(d!==void 0)return this.options.componentsController?this.options.componentsController.getComponent(d):void 0}},{key:"getHTMLString",value:function(){return this.element.outerHTML}},{key:"destroy",value:function(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.events.emit("Component_"+this.id+".destroy",this),this.removeEventListenerAll()}}]),S}(ae),Qi=i(8),Gt=i.n(Qi),gn={formatHHMMSS:function(E){var S=parseInt(E,10),d=Math.floor(S/3600),y=Math.floor((S-3600*d)/60),C=S-3600*d-60*y;d<10&&(d="0"+d),y<10&&(y="0"+y),C<10&&(C="0"+C);var R="";return d!=="00"&&(R=d+":"),R+y+":"+C}},Ji={formatBytes:function(E,S){if(E==0)return"0 Bytes";var d=S<=0?0:S||2,y=Math.floor(Math.log(E)/Math.log(1024));return parseFloat((E/Math.pow(1024,y)).toFixed(d))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][y]}};function Ba(){var E=Gt()([`
  <gp-poster class="goldplay__screen--poster">
  <img src="`,'" width="','" data-display="','" heigth="',`" class="goldplay__screen--poster-image">
  <gp-speed class="goldplay__screen--poster-speed">`,`</gp-speed>
  </gp-poster>
  `]);return Ba=function(){return E},E}var ea=`data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAA+CAYAAABuk1SaAAAZ2ElEQVR4nO2de1wV1fbA157ZcyTe
6sjj8FJeoqghiJAovsAHkJSUmpZl3bTHTe/NzO71k131Z97y9tJft9SrojdNLTQUH6iR4EcTUTRN
BERCRAQcURCUnNfvDzl2OMzrPDDsd75/wZ6ZvdfMnLX3XmuvtQfAjh07duzYsWPHjh07duzYsdMp
QFKFoig+aDnsAEC0F9UzxgNiORG4L8+y31pSh7czxiQBmBeAu9rEcbaW8f8DCP2mFvh3lOOhIc6H
Ch2tFxOeDeKn+TuDv8N/RD9b1e3tjPHUEJg6py8/pyAV/AEAlpwil2i9PlZPBQ/xEIdEdBcfjewu
RJ5NAy/aAcKYFiguTCMqL96C8tIGoqSsEZUV3YSi/KtsuaWyxvtSfRP1YsLzIfzzrjpwdV8vhlha
18NCh40g0V5UzxA3CO3pLPbEBOD6X1H91dtQff4mFBcxbJ3VDTwAwmnKY3EUvyStpzgRAGgAgMom
KPTfJEbZov4RflS/7xK4He46CDaUMS1QTG8Q+6hdOyaAilzwKL9guLcYb5BNA0xxAxR/V0FmbrqI
vjp7ja3RclGkJ+W/bBC/bKyvOMbQViGD9kdmCGM1tvtQYTyC2ExBBvSg9MO8YegT/vyTiT5iQmux
1Itjau9A3Yoi8rOMX9D24ussY3ZjD4AxAVTk/nFcNpjcw4KT5KylJ7jV1tY/zJcKO5zMHTatP72U
+NcLP/DzlK5dMZRcODtceMP0WjNh1pQQ/1l6Ci2taOCa5E6aGKyL3z6azTBta/YxPG3FT+xmK9rv
tBgrCGFtZalB1JCs8cT6MxO5nz5/jNua6CNOgXsPU+7l0Z6PQN+lUfyq4qe48wuj8WvWymBrIjwo
XynlAAC42IgsnqIY8HPFDlLKAQDwqwB3la7NeZzYagPlAACgX+4tvFMxhf8lpRcVK3VCrJ4KllIO
AIDyRrD6OTwMWKwgw3ypsIKJxN7MBC4zxV98ASx7YfTiSH7RkSeITEvl6Ai2jOK+Bpn7qWiCCmvr
fyYYTZWrn0Dy7yRrPLF+lF4cJXethdBZY7hdU3tTY0wPZCZwmXJtVTZBpQ1l6LRYpCBLBuPZh5O5
w9E9xHFgg54szlMcciCF+NrKemxChAflG+YGYXLHq5vFamvbyKuBvCWnyDktPFRpveaV/tRTKf5i
CthWOQzQm0dwm2K8qUBDQZwPFer5CHjInM/U3BY02S8PO2YrSHYysendgfy70P5FMeW34Pj8AvzS
+Gwc3X879g7ZhruGZ2DP+N04fHouTs6qROkAIGVz0Ik+YsKbEXi6BfdgU07XsVUTDuDUyiYolDou
iCBY28axarbs3ePcihF78EiQfh5tCOpKuX45hPsCOkY5DNDfjOK+Mfxz5ApbmvY9TmNaoFjq5Lpm
3urn8DBglpv39NPowFhfiIC2L4phWoCZeYSatb3sbt4H0pfWAUARAOyRM34BgP44hv/IzxVvu9zI
tZgjl63ZWc4eDelKjb4wibsARnJyAtSwvLKNYA7Hqtmy0imoNNRN+Yf/9gBhPnSscgAAgL8z+E8J
pRK2lLIHAQAyyti8CA8q8fST3Cnj9mvvQJ1nRwvTSdA8gmQnE5siurVXjk0Xic30BrHP9rK7eVrq
2X+JLYzZiWNAZiQZ7IEGa5WpI7lwg72ZXkqkG5edqUdnaps5m/act3m4rXZO9hUyO6cabQMNo42V
0DNC+BnGBafr2KrMS2incdm5G+jnDpaj06BJQRYMwjONfeCtMGtLiHXTDvJzzG00/ypbbvrjM+BK
gau59XUUZ2+is8b/19wBm8+7HUlwVDtne9ndvFG7hMlp3+M00KYkzOl6OLi2hPhwz2W0UeM1AAAw
1lccE9SVavMOTtcTp4z/r2uBh2IdyxaoTrEiPSn/wif4pWAyxBc3QPFLh/j5ljb8+Xni8xdChRdM
6mWOX4PjltZpa1gBtQnVaObUe/uOJKOMzetLU+FFadw5kJ9yMc/m4ue+Kmb3RbQWeDiRRKwnEftp
LPdJoAsEKlwLAEAHOENPADhjKLhr4nq+xSLZdZM/GqojyBdDeCnjkJmSg5+xpuGCGrbilaP4Vfit
d2OezcXPnetEq+wYiW06EB0But9LFgNFDFsXuws/BjKjwsoiYuVXxew+47K6Zl7YWc4eDdwsxmRX
of1qbXg5gpfx/yRq25F2IX//5/CgUFSQMQFUZIyH2M4mSC8l0k/XsZpdlHJ8eZb9dsB2/GjqQRwX
+g3ubfpiOxu0g+0NZQHM94odq2bL5KaoOyqI75Sufe4Qeg5UplxOWHna100ndlOT8Y+CooLM7cfP
BYnR44ti4gtbCXDmGludeZE9WlrP1tuqzo7iERIcfm8ZDKSXERukymtV7KS6Zl5YdIpcpHROIwuN
Sse7dKLn0NHI2iB9acqjKE1st7pafgvKrYkIfZjRkaLVU4sYbyowugcM9nUUfXu6CAFTAuUXJZW4
2CCWSZXzGtZpjtWhYwqHmfM3pNc+DHSGqaatmB5GJbnqwDXvKuSduca2WwSWVZBRepAMaUi/QG5Y
bGMhO4LQblS3QFcIDHKFwBu/ws2SBiiubhKrrcmRcFSZeigxOZQa9W4E927+BOgHNljT+JUX7zax
UOFMQU/jcqVQFQNNHMga2Udq0VGpH4oxLhQ4axa0FT9X7ODliLwCXSGwhwN4dCFFHSsgrv5XqP/l
FpRfuiVWVj3A9S+9C9btGcfv3jj8/tIFkxpEpWZeZI8anyerIIl6PlGq/Pg11Gm8TKZ4OmEitRd6
4qUQ/qXSp8XBYPJD5ASoWT4Ef7KtHG0rqGErzK3fCZv/w/B0wsTqYcKarSPFCabyWENdMy9UTkP1
pgqiBb0j6GUOMR+cIT/YKXPQgDkjaUovKvbZYH7a5WfuB7HKwawYSq5ceY5YceEGe1Nr/ZaSEoBS
IrpBglERvXUkt9XDiQwAI7tQsrfRu2BdaoA4QerY5U4apDYxWBd/7in+3Oo4LiPGQ0wCiZeBCfCa
15//oCCVK/jXEPyOuW2Y673xdcUOBU/wBakB4osS8jCbLhIrzInHshXJfkKyVHlONcrZWd62B5VC
60i6JZFYmTWG2zUlUPwzqHcO9OxwYdGFSdwF45iwjkK8NxVt46xwIMG3bzeir3GZpIL4OCE9SNxQ
9W04U98idjpj+u9ReOb20WwG7dBmPs/k16E9G8uIjzMvoXXVt+EM/PZA6Lf683N/noR+8HXFmg1O
ZwzOnk5Yc/RB1lh+l78zRJoUM5+fJxbrN5M+0w7yc4puoCKt9dmCAT0o/fRgQSrmjfnTYeJlLXVo
GUmzxhPrpwSqjhpS0EdSuCMeTqTqc/Z0wsTMftTE7GRiU+10dO700+jAlFAqQe06AIA159jvFhaS
70FbJWHumKx1SU6xertLG44XGlBZZ8tznjsQT/9ocJuFTObNfHJu5iX03cUbbGOM0bmj/KgBc8L5
Oa2jI92vK4w4+jh/BAA0ZQhiArxa5/iqhvDyIfjtef0hwqSYmfwDnry1lM15vbXAmRLNnrZZw3eJ
3A6QGM3id+Ph5TdZRe+VAbWRdEIgNWRnouWRx5gAr0lBxCQA2CJ3TqA7di2ZxJ80zsb0fAT6bhnJ
RczoQ81Yf57NUmtncQH379rp6HXPR+5ni1bmX2XLVXPSe7uKoTKC2yyHfUAPSh/rCbE6AnQ6QtRh
AmEAAF4UOVEE4ETE3RXgLi8AhxAQzlh0PnAF7TdOE43zoUKPpPAfgZFyROzAA0/XsVUfS7SZc5k9
AwAvvR1JvfhhNPcBAND+zuC/ZgS57OVD/N+0yI00GMGt0QfzwCRKIO17nJZRxmqKWesIDqQQXyf6
gOn0hUnZjx/Pq2I1j2QOKm7eVH8hFay0t1ptYFkF+Xa08I2xchhBr4/n1gNADy3trC8l17/zKL8c
AOBoHTrqb3Jc8gevdxR9pMrDu4p99S5YV32Lszqi9Xgql+9Agq8512RUoNUAMMvw/9ph3FowUo4R
e/BILQuYHxay69aOIHu/1Ft4G+5l1v1pmC+14XAVq+jeBNDmJXpvIP8emPxA0kuJ9N9LOcJpyiMj
gctI9IEwE7mYcdl4/L4K9oQ59akpiLej6KV0vIW/X48sSouyiQG6iAPjRNOpaxtSg6ghph4pKX6+
+VvgZQFDFEwxOS75sq+1oGtS5e46CPZ4BMkl0ZhF9W0wO/HoSjO6Yvg7pRcVa5zYlHkJ7Tx0mdUc
ZfpeITKef9J/G6BxBFE5Hk5THhIODubTc8RnWmWzBtN8ldmPUlPPpXHnwtxgKBgpRwsPVVGZOMpc
5TCgZCPk1pC5EsXMolPkG1GZOCD0G9Ip9BvSKexb3GNcNo6WCqjESH62Ek0L7TyUJtCDuouD1O4B
AODmr2DwmDFSHlrJmyxvks+7jqTbGZ0WkXoAp4J54dvMpz+jTw3/vNybfxmMHtKGMiy5sixHVSPX
sqUc3R/Ck/zEpAE9KDn3533UplhShmlxAxTbIjRHC/UtQj3AvXWX8qkof0Us95mJPEzmJbQucCsZ
dLKGtdQjSSOFriK9RExvdYrc5+0CPP+949z/nqxhKysbuNuVDdzt4usss6+CPZG0R3i+4Bpqo6ic
CLK2Li8iVTt4cA8hRu0cAAD3LuBu+FtqBiH5sssaQHKVFgDg1TD+VS0Nq3H2Gluz6SKhdVcMZuoh
PK38JtcIAODvhh1Nemnmp+viaXNl+L6a/N7oX3qYNwxVu4ZQCc+ZGcbPMi07VksorVzblKeDiKcy
xhKrto7ktga6gGlPy7xyFL+auk94ydppstJUs7aZE2J3ko+tKSH+CfcS6orTS4R0qXMjPCjfZ8Oo
cZ6PiJpnJj/Vt/FISjLWVxwT6I5VUyf6uYv9AAAOXEEHpY5LDmOtax0MSAxj0T3EQXE+VOiRK2yp
WuO24kgtOrq5hL0fhRrRHZkmbsHFG9o8MMZUNbddgxij58cCwDala6hWZ4IUUV6U/8nU9nnc136V
nrJ2BJ8/xm2VKGZyqlHOnGPkHK17YalB3nPYyPbklQ3cbQD4W1BXahkAQF0ze3/q19MNOyf6ooQn
A/gnTz8pvWalxL4K9gTMUpvsAj3UCw0FgD1KJ0XRQhQAQGYlmSm1Mi7ZC1y4wd78+QbIzefpVuPY
avq4iZrikFYUkW3m72ESbmi9CzY7PshN99vwCgAw+t6OIYqQCp68OM+283wDXQixQ4L7WnjQEprB
TM/Fz4/aJUy2lXIAKNsIxly8wTYaOq84Hyo0fSS5vGIK/8uaodyOJD9xOljo7Xr9R/w6qIwif4/g
VO3K1j3cmKO1IGnQyw6Te6vIvXLHwtwgbMVQcqFa40qEdKXcI2llT4SBssa2U76+boLpzoN0qDuS
dE0rMcRDGGL8vzMFziFdKXe58wEAKAUFGebJD5MqD3YVg8yVTQ1fV+zQmvwkB7PkFDnHexPpvbGY
VexFLYEkkOYF01g9FZw5jlh7JIU78kKo8BYYeR4LrqF9Lx7GqbG7cAiYYZN+fobdVn5LeW+uMDcI
Sw2ihsgdj/Cg7ntRC2ul7THZm8ypRjkgLzA9O1x4w5JwDQOz+oivgMbeg+XbDuUhbu3Xacb5iOPM
laF1AzZj6G4OoJjrYJo8ZEwfd+kRMclPTDJXNiUmh1Kj8lL4XEyAlDuVWVhIvh6yDYe8e5xb0VEL
u0rPwZiF0fi1Y49zP5qE2zAZFWh1XBaOi94ujF9XxO48Vs3K2r1yPJ2DnwZlpaI3xHOyzpvBHvds
tFXFhOxOmfIjSAV7oomVj/qE1nCN3AlERrQX1VPhvHakBVPxb/Xn52o938epbXCdlIv4nUf5+eaE
jcwdKL3FkMo9Kxqn11uQbBjOs2GUpAKbmzC1ZgS5zMgAb0fiPipxcQH3744O+NOyaJw1nli/OJJf
BCaOgjfzyblp2cIsa+3YkzVs5dzj5FxQUBJ3HbgvjcF/kTo2pRc/GQBgTxWxW+56xWFy2RlymYqM
9HBvcWJBKleQPpJcntKLilXyj3s6YWLBIDwzYzQnuZ2lHP8YyLdJ8Cm+SZyXkmV9vLBeS33je1KD
PhrcZgXeAKMWa0YqKEhxA5JbaKS/Gs79N5ym2hnwnCBv6Jry9yg88+Xewp9A4dldbBAeSK6O0nMA
AMgYS6yS2uguvZRI//g0t9FWcnx0ituYVYmyQGG2syCCXzC+J9VmXcTfDTu27lLJHKsRZb2Mije5
sRS07ohBvxAqvJU1hvuxdJJQsieJ2LBoMP7z9DAqKTFAFzExWBe/chi58NIz/KWlUfwqMNMwi/EQ
B68ZQS4zGOKn65GkSzfRR0zInUBkyK1neDtjPD+SenHvWG6vlAy5V1Ge2pREyUg/eZ04qXApfS6N
Ozf7UWpqWHeK9nTCRIw3FRjsKhkuIclYH2GslNzGdHdADyQdVmmKNT2MSjLeEd+YTeXkJlvLkrJX
mFF7R3GnFXrvWG6v8e8iwQclAACdUYG2K23lpDhMXm7kWuYOxHNleltJ3HUQnOQnBif58bbcJZF+
ubfwDoUIDADzTl4TC0HaDU0P9xYnnpnIxWeOI3buriJ3VzdDtasOXOM8hbir04TXlO4j+wqRPVxF
ECUj/VA1HJKR6758K2I5i38gq0rIVcO9uXgAoHOqEYzSt9+F3+UBbZukNNX8RyTXLtTGQAsvdkhS
1LAsPKz0aa5Erl0AoM9M5H7ydcV+VY1cy/9EcUsAgFlfSq5PU6hX1RPx0SluYyfZqJj5soRYBQBQ
0cA15V5FSnFNdGqA+OLqOC4jawz34+YRXPbrfYSFoJKwk3MV5agJodRzltaz9fl1HZdQtrmE3T/h
wD2Pz7OHiC5NbPtz3LsgRS+crZCbYg3oQemVvGvxXmK8ZLkv1VeqXCul9Wx9/G48HFSM9pwk/vu/
R+GZhqSxrF9YxUVcTa665P04WaXhjoCpvQNFTAsUrywi3tNvJn2MPR2tayM2kym/Dh039aQgibUo
tZX0f5xql2NgU3aWs0ePVbNlThg5OlPtjzti0eK0YDmklEFuBHHRgTModERLo/ilk0OpNutN0V5U
z7xkLtf4OnNsMwN5VWzRxO8pxc31Qt1gyPuD7k3zl58ll6vVqUlBzl5ja8Zn4/FKDdsYJi4Lx3lu
FMPpDWKfNw7zi01DIzLK2LzSBrDVaj4z/wTZbhM8qV0e1fz/eyvYE3JhC1rQujn2gO4wwNI2zMWV
Ets9B7mYtKvNYg2o9OJbR3Jbi6egwyuHkQu3JBIrC1K5AjBRKj9n0axIbwPby+7mzcjDM1RkAABg
NpUh1VAnzYs9eyvYE2raaSOY8dl4vBYX4DOH8DM2kIf55GfiE6lI4AAnMcC0DIGo+sxm5BFaXpAk
SkF6xgTJGPe22H3elECX9gudcrZY+U2uUcM0kw5zg6Fv9BUWyaXjBrpA4DBfyqIdX9afZ7NmH8Nz
QOEd5F5FeVoCSM36/MH2srt5w3bjYU2s9R+RkYEZl43H79UYgn2yhq2c8oNVSsJkV6H9fz3Cvy91
cEA3sV0vrSUfpKqRawnPwOGWPKdgF1GTV8vDQTq4T4t85jKwu2iaGanIh2fJD8D6jktzCoIUK35i
N79dgOfLyMF8VoQ1pR+Y/TAPV7HFQVvJoE9+JhbING4JTGUTFFqSn7CllD1o4fSP+fw88e+xu4Vp
cidIhcJojUE6x7B1od+QvVcVE++bI9tYX3GMFoPVTSe6SZWr2UjmonfBOn9nME20AwrJp91mlLF5
rTs/ar1vJr8O7TE9P8lPTDIOBzGXDwvZdVJKUnsH6rR+jcCih1nbzAl/PcK/H7EDDzT3ByABs+QU
ucR/kxhlaX7C3gr2hN/XpN8/fyLnaZCFyb2Kto/ag0e/nse/Z66sV+9oT/SqvsXdnZXLL4jKxFHL
z5LzWz9GoyYfnZfM5aptPnC5GV2Wlg9Z/QUsYzhBlJryMWo73b/wAz9v6WlyKWh4H68cxa/G7BCS
//wjfsP0/Faj32I+LGTXtdZ7v715x7HiR1KNsclXbv3dsOM4PzQu2ZdPHu4txsvkChvDVDZB5X/L
yP9uuIA22nLbUW9njOP1KH6opzA0yEUM8ncW/RvuosaKJlRReB2dPFCFDqptjGZgehiVtHE4twFa
NxZbcopc8u5xboU18oXTlIe/M/j7OoGvjgSd6U6IJALCz1H0L2DQcaUU3ZCulLvpB3466tPMr/Sn
njL6whUzvwDP/6CQXafl2tYMyydieggxAS6ivwMJDtdbUP3FW6js0FUid99lcZ+xA2ZhNH5tahD/
TFcddNv2C7H1jcO81fsUBnWlXC9O4hoAAG7ehTK177t3yGegDehdsK6XK+rp5wT+ekdRr3cEvQsl
ugAA1N1BtZXNqPJCI5SZkx77e+Lvhh31Tkh/6y40dqad5wHubQ/7VC/xKT8n0a+skbiwuUzc3FFf
5wp0x67eTsjregvUd9ZPd8tRmEZkR9LiGNC4cUaHKogdO52JTQnkZ9OChKkAQOfXoT0xO6Q3zTPG
pt9Jt2Ons7IwGr9mUA4AYF48TM5Qu8YUm+1zZcdOZ2JmP2ri6rj7ofbMm/nkXEumyPYplp0/HDP6
UCmtm8fRAAA51WjbqF3CZK3X220QO39YWreivR993sRCRcg2MsSczEq7DWLnoSfSk/K/OQNdeLEv
NQHg3o4ymeOItSapGcygTBxtTdqxfQSx81CyYBCe2Zp8Z+xybpPa23877m/JTi6qm1fbsdPZobuI
BmVolzadX4eOT84hJlc0sFZ/rto+xbLzUJJ/jTgO7cNYmPkFeH7MDiG5ooGzybfc7VMsOw8tS2Pw
X+YP4Oc3cdD0nxJy7epitNoWYUtIKlPOjh07duzYsWPHjh07dh4A/wcMRwRD90zgYwAAAABJRU5E
rkJggg==`,Ru=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"template",d.createTemplate(Ba(),"poster","width","display","height","speed")),b()(p()(d),"data",{poster:"",status:"",display:"show",speed:"",width:"",height:""}),b()(p()(d),"options",{}),d.options=y,y.player.poster?d.data.poster=y.player.poster:d.data.poster=ea,Object.assign(d.data,y.data),d.init(),d}return m()(S,E),u()(S,[{key:"resetPosition",value:function(){if(this.element){var d=this.element.parentNode.offsetWidth,y=this.element.parentNode.offsetHeight;this.element.style.width=d+"px",this.element.style.marginTop=(y-this.element.offsetHeight-20)/2+"px"}}},{key:"bindEvent",value:function(){var d=this;this.events.on(de.LoaderUpdateSpeed,function(y){d.data.display==="show"&&(d.data.speed=Ji.formatBytes(y.speed)+" /s")})}},{key:"hide",value:function(){this.data.display!=="hide"&&(this.element.style.opacity=0,this.element.style.display="none",this.data.display="hide")}}]),S}(Xt);function Ou(){var E=Gt()([`
    <gp-control class="goldplay__control--container `,'" style="width:',"px;height:","px;opacity:",'" data-status="',`">
      `,`
      `,`
      `,`
    </gp-control>
  `]);return Ou=function(){return E},E}var Iu=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"template",d.createTemplate(Ou(),"containerFloatCss","width","height","opacity","status","progressBarName|component","sideControlBarName|component","nearControlBarName|component")),b()(p()(d),"hideDelayTime",void 0),b()(p()(d),"hideTimeCount",void 0),b()(p()(d),"data",{progressBarName:"progressBar",sideControlBarName:"sideControlBar",nearControlBarName:"nearControlBar",width:"",height:"",opacity:1,containerFloatCss:"",display:"show",status:""}),b()(p()(d),"options",{}),d.options=y,d.hideDelayTime=d.options.player.controlBarAutoHideTime||3,y.player.controlBarAutoHide&&(d.data.containerFloatCss=d.options.cssName.controlContainerFloat,d.resetPosition()),Object.assign(d.data,y.data),d.init(),d}return m()(S,E),u()(S,[{key:"initProps",value:function(){this.hideTimeCount=this.hideDelayTime}},{key:"bindEvent",value:function(){var d=this,y=this.options;y.player.controlBarAutoHide&&(y.$container.addEventListener("mousemove",function(){d.hideTimeCount<=0&&(d.data.display="show",d.show()),d.hideTimeCount=d.hideDelayTime}),setInterval(function(){d.hideTimeCount>0?d.hideTimeCount-=1:d.data.display!=="hide"&&(d.data.display="hide",d.hide())},100))}},{key:"setSize",value:function(d,y){d!==void 0&&(this.data.width=d),y!==void 0&&(this.data.height=y)}},{key:"show",value:function(){var d,y=this;this.options.player.controlBarAutoHide?(clearTimeout(d),d=setTimeout(function(){y.data.opacity=1},1)):this.data.opacity=1}},{key:"hide",value:function(){this.data.opacity=0}},{key:"resetPosition",value:function(){this.setSize(this.options.$container.offsetWidth,this.options.player.controlBarHeight)}}]),S}(Xt),Bu=M.a.get("Delegator.js");function Na(E){return typeof HTMLElement<"u"?E instanceof HTMLElement:U()(E)==="object"&&E.nodeType===1&&typeof E.nodeName=="string"}function Fa(E){E.preventDefault(),E.stopPropagation()}function vs(E,S,d,y,C){var R=function(q,te){if(q&&q.matches){if(!Array.isArray(te))return q.matches(te);for(var fe=0,xe=te.length;fe<xe;fe++)if(q.matches(te[fe]))return!0}return!1};function j(q){for(var te=(q=q||window.event).target||q.srcElement,fe=q.currentTarget,xe=!0;xe&&te!==fe&&te;){if(R(te,d)&&(xe=y.call(te,q)!==!1),!xe)return void Fa(q);te=te.parentNode}}y.__delegateWrapper=j,function(q,te,fe,xe){xe===void 0&&(xe=te==="blur"||te==="focus"),Na(q)&&q.addEventListener(te,fe,xe)}(E,S,j,C)}var Nu=function(){function E(S){return o()(this,E),b()(this,"element",null),Na(S)?this.element=S:Bu.error("constructor","new instance","element:",this.element),this}return u()(E,[{key:"off",value:function(S,d,y){return d.__delegateWrapper&&delete(d=d.__delegateWrapper).__delegateWrapper,this.element.removeEventListener(S,d,y),this}},{key:"on",value:function(S,d,y,C){var R=this;return Array.isArray(d)?d.forEach(function(j){vs(R.element,S,j,y,C)}):vs(this.element,S,d,y,C),this}},{key:"once",value:function(S,d,y,C){return this.on(S,d,y,{capture:C,once:!0}),this}}]),E}(),$a=null,ar=function(E){return typeof E=="string"&&(E=document.querySelector(E)),$a?$a.element=E:$a=new Nu(E),$a},vo=function(){function E(S,d){var y=d.$container,C=d.type,R=d.scope,j=d.onStart,q=d.onDrag,te=d.onRelease;o()(this,E),b()(this,"$container",null),b()(this,"$ele",null),b()(this,"active",!1),b()(this,"offsetX",0),b()(this,"offsetY",0),b()(this,"offsetLeft",0),b()(this,"offsetTop",0),b()(this,"orginOffsetLeft",0),b()(this,"orginOffsetTop",0),b()(this,"orginOffsetWidth",0),b()(this,"orginOffsetHeight",0),b()(this,"initialX",0),b()(this,"initialY",0),b()(this,"type","default"),b()(this,"scope",{}),this.$container=y||document.body,this.$ele=S,this.type=C,this.scope=R,this.eventsList={},this.onStart=j,this.onDrag=q,this.onRelease=te,this.bindEvent()}return u()(E,[{key:"addEventListener",value:function(S,d,y){var C=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return S.addEventListener(d,y,C),{destroy:function(){S.removeEventListener(d,y)}}}},{key:"removeEventListenerAll",value:function(){var S=this;Object.keys(this.eventsList).forEach(function(d){S.eventsList[d].destroy()})}},{key:"bindEvent",value:function(){var S=this;this.eventsList.mousedown=this.addEventListener(this.$container,"mousedown",function(d){S.start(d)},!1),this.eventsList.mouseup=this.addEventListener(this.$container,"mouseup",function(d){S.release(d)},!1),this.eventsList.mousemove=this.addEventListener(this.$container,"mousemove",function(d){S.drag(d)},!1)}},{key:"start",value:function(S){S.target===this.$ele&&(this.scope===void 0&&this.$container!==void 0&&(this.scope={left:this.$container.offsetLeft,right:this.$container.offsetLeft+this.$container.offsetWidth,top:this.$container.offsetTop,bottom:this.$container.offsetTop+this.$container.offsetHeight}),this.offsetLeft=this.$ele.offsetLeft,this.offsetTop=this.$ele.offsetTop,this.active=!0,this.initialX=S.clientX,this.initialY=S.clientY,this.orginOffsetLeft=this.$ele.offsetLeft,this.orginOffsetTop=this.$ele.offsetTop,this.orginOffsetWidth=this.$ele.offsetWidth,this.orginOffsetHeight=this.$ele.offsetHeight,typeof this.onStart=="function"&&this.onStart.call(this,this.offsetX,this.offsetY,S,this))}},{key:"release",value:function(S){this.active=!1,typeof this.onRelease=="function"&&this.onRelease.call(this,this.offsetX,this.offsetY,S,this)}},{key:"drag",value:function(S){this.active&&(S.preventDefault(),S.stopPropagation(),this.offsetX=S.clientX-this.initialX+this.offsetLeft,this.offsetY=S.clientY-this.initialY+this.offsetTop,this.setPosition(S))}},{key:"setPosition",value:function(S){switch(this.type){case"vertical":this.offsetX=this.orginOffsetLeft,this.offsetY<this.scope.top&&(this.offsetY=this.scope.top),this.offsetY>this.scope.bottom-this.orginOffsetHeight&&(this.offsetY=this.scope.bottom-this.orginOffsetHeight);break;case"level":this.offsetY=this.orginOffsetTop,this.offsetX>this.scope.right-this.orginOffsetWidth&&(this.offsetX=this.scope.right-this.orginOffsetWidth),this.offsetX<this.scope.left&&(this.offsetX=this.scope.left);break;default:isNaN(this.scope.right)||this.offsetX>this.scope.right-this.orginOffsetWidth&&(this.offsetX=this.scope.right-this.orginOffsetWidth),isNaN(this.scope.left)||this.offsetX<this.scope.left&&(this.offsetX=this.scope.left),isNaN(this.scope.top)||this.offsetY<this.scope.top&&(this.offsetY=this.scope.top),isNaN(this.scope.bottom)||this.offsetY>this.scope.bottom-this.orginOffsetHeight&&(this.offsetY=this.scope.bottom-this.orginOffsetHeight)}this.$ele.style.left=this.offsetX+"px",this.$ele.style.top=this.offsetY+"px",typeof this.onDrag=="function"&&this.onDrag.call(this,this.offsetX,this.offsetY,S,this)}},{key:"destroy",value:function(){this.$ele.parentNode.removeChild(this.$ele),this.removeEventListenerAll()}}]),E}(),po=function(E,S){return new vo(E,S)};function go(){var E=Gt()([`
    <gp-control-progressbar class="goldplay__progress-bar `,'" data-status="',`">
      <div class="goldplay__progressbar--load `,`">
      </div>
      <div class="goldplay__progressbar--play `,`">
      </div>
      <span class="goldplay__progressbar--dot `,'" title="',`"></span>
    </gp-control-progressbar>
  `]);return go=function(){return E},E}var ta=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"template",d.createTemplate(go(),"progressBarHoverCss","status","progressBarLoadHoverCss","progressBarPlayHoverCss","progressBarDotHoverCss","time")),b()(p()(d),"options",{}),b()(p()(d),"data",{playWidth:"",dot:"",time:"",status:""}),b()(p()(d),"setProgressBarSize",function(C){d.$progressBarPlay.style.width=C+"px"}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,E),u()(S,[{key:"watch",value:function(){var d=this.options.cssName;this.data.status==="dragstart"?(this.data.progressBarHoverCss=d.progressBarHover,this.data.progressBarLoadHoverCss=d.progressBarLoadHover,this.data.progressBarPlayHoverCss=d.progressBarPlayHover,this.data.progressBarDotHoverCss=d.progressBarDotHover):this.data.status==="dragend"&&(this.data.progressBarHoverCss="",this.data.progressBarLoadHoverCss="",this.data.progressBarPlayHoverCss="",this.data.progressBarDotHoverCss="")}},{key:"afterInit",value:function(){}},{key:"initProps",value:function(){var d=this.element,y=this.options.cssName;this.$progressDragDot=d.querySelector("."+y.progressBarDot),this.$progressBarPlay=d.querySelector("."+y.progressBarPlay),this.$progressBarLoad=d.querySelector("."+y.progressBarLoad),this.timer=this.getComponent("timer"),this.pauseButton=this.getComponent("pauseButton")}},{key:"bindEvent",value:function(){var d=this,y=this.options.cssName,C=!1;this.events.on(de.PlayerTimeUpdate,function(R){var j=d.options.loadData.sourceData.duration;if(!C&&R&&j){var q=R/1e3/j*d.progressBarWidth;d.setProgressPosition(q),d.timer.data.time=gn.formatHHMMSS(R/1e3)}}),this.events.on(de.PlayerbufferUpdate,function(R){!C&&R&&d.updateProgressLoad(R)}),ar(this.options.$controlBarContainer).on("click","."+y.progressBar,function(R){if(R.target!==d.$progressDragDot){var j=(d.options.loadData.sourceData.duration||0)/d.progressBarWidth,q=0;R.target.classList.contains(y.progressBarLoad)&&(q=R.target.offsetLeft-R.target.parentNode.offsetLeft);var te=q+R.offsetX,fe=te*j*1e3;return d.setProgressPosition(te),d.logger.info("bindEvent","click to seek","seekTime:",fe,"offsetX:",te),R.target!==d.$progressBarLoad&&d.clearLoadBar(R.offsetX),d.timer.data.time=gn.formatHHMMSS(fe/1e3),d.events.emit(de.PlayerOnSeek,fe),!1}}),this.progressDragEvent=po(this.$progressDragDot,{$container:document.body,type:"level",scope:{left:this.progressBarLeft,right:this.progressBarLeft+this.progressBarWidth,top:this.$progressDragDot.offsetTop,bottom:this.$progressDragDot.offsetTop+this.$progressDragDot.offsetHeight},onStart:function(){C=!0,d.data.status="dragstart"},onDrag:function(R){var j;j=d.options.player.controlBarAutoHide?R:R-d.options.$controlBarContainer.offsetLeft;var q=0,te=d.$progressDragDot.offsetWidth;d.progressBarWidth-j<=te&&(q=te),d.setProgressBarSize(j),d.data.status="draging";var fe=d.getSeekTime(d.progressBarWidth-q);d.timer.data.time=gn.formatHHMMSS(fe/1e3),d.data.time=d.timer.data.time},onRelease:function(R,j,q){if(C){var te=d.getSeekTime();q.target!==d.$progressBarLoad&&d.clearLoadBar(R),d.events.emit(de.PlayerOnSeek,te),d.logger.info("bindEvent","onDrag release seek","seekTime:",te),d.data.status="dragend",C=!1}}})}},{key:"setProgressPosition",value:function(d){var y=Math.min(d,this.progressBarWidth),C=this.$progressDragDot,R=this.progressBarWidth,j=0,q=C.offsetWidth/2;y>R||R-y<=q?j=q-(R-y):y<=q&&(j=-(q-y));var te=y-j-C.offsetWidth/2;this.setProgressPlayWidth(y),this.setProgressDragDotLeft(te+this.progressBarLeft)}},{key:"setProgressPlayWidth",value:function(d){this.$progressBarPlay.style.width=d+"px"}},{key:"setProgressDragDotLeft",value:function(d){this.$progressDragDot.style.left=d+"px"}},{key:"getProgressPlayLeftWidth",value:function(){return{offsetLeft:this.$progressBarPlay.offsetLeft,offsetWidth:this.$progressBarPlay.offsetWidth}}},{key:"getProgressLoadLeftWidth",value:function(){return{offsetLeft:this.$progressBarLoad.offsetLeft,offsetWidth:this.$progressBarLoad.offsetWidth}}},{key:"setProgressLoadLeftWidth",value:function(d,y){var C=this.progressBarLeft+this.progressBarWidth;(d=Math.min(d,C))+y>C&&(y=C-d),this.$progressBarLoad.style.left=d+"px",this.$progressBarLoad.style.width=y+"px"}},{key:"updateProgressLoad",value:function(d){var y=this.options.loadData.sourceData.duration;if(y){var C=this.progressBarWidth,R=this.progressBarLeft,j=d[0]/1e3/y*C,q=d[1]/1e3/y*C,te=Math.floor(R+j),fe=Math.floor(q-j);this.setProgressLoadLeftWidth(te,fe)}}},{key:"getSeekTime",value:function(d,y){var C=this.progressBarWidth,R=(y=y||this.options.loadData.sourceData.duration||0)/(d||C);return this.$progressBarPlay.offsetWidth*R*1e3}},{key:"clearLoadBar",value:function(d){d<this.$progressBarLoad.offsetLeft-this.progressBarLeft&&(this.$progressBarLoad.style.width="0px")}},{key:"getDragDotPosition",value:function(){return{offsetLeft:this.$progressDragDot.offsetLeft,offsetTop:this.$progressDragDot.offsetTop,left:this.$progressDragDot.style.left,top:this.$progressDragDot.style.top}}},{key:"clearDragDotTop",value:function(){this.$progressDragDot.style.top=""}},{key:"progressBarWidth",get:function(){return this.element.offsetWidth}},{key:"progressBarLeft",get:function(){return this.element.offsetLeft}}]),S}(Xt);function nn(){var E=Gt()([`
  <gp-button class="goldplay__control--play" data-status="`,'" title="',`">
  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
  viewBox="0 0 232.153 232.153" width="20" height="20" style="enable-background:new 0 0 232.153 232.153;" xml:space="preserve">
  <g >
  <path style="fill-rule:evenodd;clip-rule:evenodd;" d="M203.791,99.628L49.307,2.294c-4.567-2.719-10.238-2.266-14.521-2.266
    c-17.132,0-17.056,13.227-17.056,16.578v198.94c0,2.833-0.075,16.579,17.056,16.579c4.283,0,9.955,0.451,14.521-2.267
    l154.483-97.333c12.68-7.545,10.489-16.449,10.489-16.449S216.471,107.172,203.791,99.628z" fill="#f1f1f1"/>
  </g>
  </svg>
  </gp-button>
  `]);return nn=function(){return E},E}var bc=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"template",d.createTemplate(nn(),"status","title")),b()(p()(d),"data",{title:"play",play:">"}),b()(p()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,E),S}(Xt);function ps(){var E=Gt()([`
  <gp-button class="goldplay__control--pause" title="`,'" status="',`">
  `,`
  </gp-button>
  `]);return ps=function(){return E},E}function gs(){var E=Gt()([`
<svg style="display:`,`" class="goldplay__control--pausing" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="20px" height="20px" viewBox="0 0 26 26" style="background:none" xml:space="preserve">
<g>
<path d="M2.667,0h6v26h-6V0z M15.333,0v26h6V0H15.333z" fill="#f1f1f1"/>
</g>
</svg>
`]);return gs=function(){return E},E}var ms=Ke.create(gs(),"pauseHide"),ys=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"template",d.createTemplate(function(C,R){return R(ps(),"title","status","icon|html")})),b()(p()(d),"data",{title:"pause",pauseHide:"",pauseLoadingHide:"none",icon:ms,status:"",display:""}),b()(p()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,E),u()(S,[{key:"watch",value:function(){this.data.status==="pauseloading"?(this.data.pauseHide="none",this.data.pauseLoadingHide="inline-block",this.data.title="loading",this.data.icon=`
<svg version="1.1" class="goldplay__control--pause-loading" style="display:\${'pauseLoadingHide'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="25px" height="25px" viewBox="0 0 612 792" style="background:none;margin: -4px 0 0 -5px;" xml:space="preserve">
<linearGradient id="goldplay-pause-loading-gradient" gradientUnits="userSpaceOnUse" x1="1.98" y1="784.6123" x2="26.2101" y2="770.623" gradientTransform="matrix(21.8571 0 0 21.8571 -2.0895 -16600.5293)">
    <stop offset="0.1682" style="stop-color:#f1f1f1;stop-opacity:0"></stop>
    <stop offset="0.7502" style="stop-color:#f1f1f1"></stop>
    <stop offset="1" style="stop-color:#f1f1f1"></stop>
</linearGradient>
<path style="transform-origin: center center;animation: goldplay-rotate-360 .8s linear infinite;" fill="url(#goldplay-pause-loading-gradient)" d="M306,133.714c144.257,0,262.286,118.028,262.286,262.286c0,144.257-118.029,262.286-262.286,262.286
  C161.743,658.286,43.714,540.257,43.714,396C43.714,251.743,161.743,133.714,306,133.714 M306,90C137.7,90,0,227.7,0,396
  s137.7,306,306,306s306-137.7,306-306S474.3,90,306,90L306,90z">
    <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0" to="360" dur=".8s" repeatCount="indefinite" />
</path>
<g>
    <g>
        <path fill="#f1f1f1" d="M229.5,514.028L229.5,514.028c-13.114,0-21.857-8.742-21.857-21.856V295.457
        c0-10.929,8.743-21.857,21.857-21.857l0,0c10.929,0,21.857,8.743,21.857,21.857v196.715
        C251.357,503.1,242.614,514.028,229.5,514.028z"></path>
        <path fill="#f1f1f1" d="M229.5,273.6c-13.114,0-21.857,8.743-21.857,21.857v196.715c0,10.928,8.743,21.856,21.857,21.856
        s21.857-10.929,21.857-21.856V295.457C251.357,282.343,242.614,273.6,229.5,273.6L229.5,273.6z"></path>
    </g>
    <g>
        <path fill="#f1f1f1" d="M382.5,518.4L382.5,518.4c-13.114,0-21.857-8.743-21.857-21.857V299.829
        c0-10.929,8.743-21.857,21.857-21.857l0,0c10.929,0,21.857,8.743,21.857,21.857v196.714
        C404.357,509.657,395.614,518.4,382.5,518.4z"></path>
        <path fill="#f1f1f1" d="M382.5,277.972c-10.929,0-21.857,8.743-21.857,21.857v196.714c0,10.929,10.929,21.857,21.857,21.857
        s21.857-10.929,21.857-21.857V299.829C404.357,288.9,393.429,277.972,382.5,277.972L382.5,277.972z"></path>
    </g>
</g>
</svg>
`):this.data.status==="pause"&&(this.data.pauseHide="inline-block",this.data.pauseLoadingHide="none",this.data.title="pause",this.data.icon=ms)}}]),S}(Xt);function mo(){var E=Gt()([`
  <gp-button class="goldplay__control--replay" title="`,'" data-display="',`">
  <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
  width="24px" height="24px" viewBox="0 0 245.000000 206.000000"
  preserveAspectRatio="xMidYMid meet">
 <g transform="translate(0.000000,206.000000) scale(0.100000,-0.100000)"
 fill="#f1f1f1" stroke="1">
 <path d="M1250 2046 c-286 -55 -525 -211 -681 -445 -91 -136 -152 -302 -167
 -453 -12 -119 3 -108 -143 -109 -70 -1 -156 -4 -192 -8 l-65 -6 262 -265 262
 -265 266 265 265 265 -62 6 c-35 4 -123 7 -197 8 l-134 1 7 69 c26 284 232
 543 504 635 201 69 404 53 596 -47 62 -32 103 -63 177 -137 83 -83 102 -108
 142 -190 63 -130 77 -193 77 -340 0 -178 -37 -298 -134 -435 -91 -126 -220
 -224 -369 -278 -72 -26 -99 -31 -218 -35 -117 -4 -146 -1 -215 17 -104 29
 -205 79 -283 142 l-63 52 -89 -89 c-49 -49 -89 -96 -89 -106 0 -24 154 -136
 253 -185 89 -44 177 -74 272 -95 84 -17 303 -15 391 5 403 91 691 371 795 772
 19 76 23 114 22 240 0 129 -4 164 -27 249 -99 377 -406 673 -778 751 -104 22
 -297 28 -385 11z"/>
 <path d="M1227 1418 c-9 -68 -7 -695 2 -770 l6 -57 240 200 c132 110 251 210
 264 223 l23 24 -257 213 c-141 118 -260 215 -264 217 -5 1 -11 -21 -14 -50z"/>
 </g>
 </svg>
  </gp-button>
  `]);return mo=function(){return E},E}var ra=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"template",d.createTemplate(mo(),"title","display")),b()(p()(d),"data",{title:"replay",display:"",replay:"->"}),b()(p()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,E),S}(Xt);function _s(){var E=Gt()([`
  <gp-volume class="goldplay__volume-bar">
    <gp-overbox class="goldplay-hoverbox goldplay__volume-bar--handle">
      <span class="goldplay__volume-bar--precent">`,`</span>
      <span class="goldplay__volume-bar--rod `,`" title="adjust volume"></span>
      <span class="goldplay__volume-bar--size">&nbsp;</span>
      <span class="goldplay__volume-bar--column">&nbsp;</span>
    </gp-overbox>
    <gp-button class="goldplay__volume-bar--audio `,'" title="','" data-mute="','" data-volume-size="','"  data-last-volume="',`">
    `,`
    </gp-button>
  </gp-volume>
  `]);return _s=function(){return E},E}function yo(){var E=Gt()([`
<svg xmlns="http://www.w3.org/2000/svg" style="display:`,`" width="20px" height="20px" viewBox="0 0 24 24" style="margin-left: -5px;">
<path d="M12.2 13.914v6.678a.5.5 0 0 1-.825.38L5.2 15.679H3a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h2.2l.412-.353-2.558-2.558a.5.5 0 0 1 0-.707l.707-.707a.5.5 0 0 1 .707 0l16.849 16.849a.5.5 0 0 1 0 .707l-.707.707a.5.5 0 0 1-.707 0l-2.386-2.386a10 10 0 0 1-2.33 1.422c-.526.229-.583.284-.987.377v-2.375l.007-.003a8.332 8.332 0 0 0 1.717-1.014l-1.67-1.669a5.251 5.251 0 0 1-.054.034v-.089l-2-2zM8.373 4.96l3.002-2.572a.5.5 0 0 1 .825.38v6.019L8.373 4.959zm9.867 9.867c.48-.99.76-2.115.76-3.347 0-3.418-2.148-6.014-4.793-7.173a4.11 4.11 0 0 0-.007-.003V2c.027.006.054.012.082.02.852.221 1.274.453 1.436.535A10 10 0 0 1 21.2 11.48a9.954 9.954 0 0 1-1.326 4.98l-1.634-1.633zm-1.766-1.766L14.2 10.786V7.057a5.247 5.247 0 0 1 2.274 6.003z" fill="#f1f1f1"></path>
</svg>
`]);return yo=function(){return E},E}function Fu(){var E=Gt()([`
<svg xmlns="http://www.w3.org/2000/svg" style="display:`,`" width="20px" height="20px" viewBox="0 0 24 24" style="margin-left: -5px;">
<path d="M5.2 7.68l6.175-5.293a.5.5 0 0 1 .825.38v17.825a.5.5 0 0 1-.825.38L5.2 15.679H3a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h2.2zm9 13.35v-2.375l.007-.003C16.852 17.493 19 14.897 19 11.479s-2.148-6.014-4.793-7.173a4.11 4.11 0 0 0-.007-.003V2c.027.006.054.012.082.02.852.221 1.274.453 1.436.535A10 10 0 0 1 21.2 11.48c0 4.106-2.474 7.633-6.013 9.174-.526.229-.583.284-.987.377zm0-13.973c1.5.925 2.5 2.582 2.5 4.473 0 1.892-1 3.55-2.5 4.473V7.057z" fill="#f1f1f1"></path>
</svg>
`]);return Fu=function(){return E},E}var $u=Ke.create(Fu(),"audioOnHide"),Ha=Ke.create(yo(),"audioOffHide"),Hu=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"template",d.createTemplate(_s(),"dataPrecent","volumeBarRodHoverCss","audioOffClass","title","dataMute","dataVolumeSize","dataLastVolume","icon|html")),b()(p()(d),"options",{}),b()(p()(d),"data",{audioONHide:"",audioOffHide:"",audioOffClass:"",dataVolumeSize:"",dataPrecent:"",dataLastVolume:"",dataMute:"",volumeBarRodHoverCss:"",icon:$u,title:"turn off"}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,E),u()(S,[{key:"watch",value:function(){this.data.dataPrecent=Math.floor(100*this.data.dataVolumeSize),this.data.audioOffClass!==""?(this.data.dataMute="true",this.data.audioOffHide="inline-block",this.data.audioOnHide="none",this.data.icon=Ha,this.data.title="turn on"):(this.data.dataMute="",this.data.audioOffHide="none",this.data.audioOnHide="inline-block",this.data.icon=$u,this.data.title="turn off")}},{key:"initProps",value:function(){var d=this.element,y=this.options.cssName;this.INIT_VOLUME_SIZE=this.options.player.defaultVolumeSize===void 0?.5:this.options.player.defaultVolumeSize,this.$volumeBarHandle=d.querySelector("."+y.volumeBarHandle),this.$volumeBarRod=d.querySelector("."+y.volumeBarRod),this.$volumeBarAudio=d.querySelector("."+y.volumeBarAudio),this.$volumeBarSize=d.querySelector("."+y.volumeBarSize),this.$volumeBarColumn=d.querySelector("."+y.volumeBarColumn),this.volumeBarColumnHeight=this.$volumeBarColumn.offsetHeight,this.volumeBarColumnTop=this.$volumeBarColumn.offsetTop,this.volumeBarRodHeight=this.$volumeBarRod.offsetHeight,this.volumeBarRodHeightHalf=this.volumeBarRodHeight/2,this.volumeBarColumnRealTop=this.volumeBarColumnTop+this.volumeBarRodHeightHalf,this.volumeBarColumnMaxHeight=this.volumeBarColumnHeight-this.volumeBarRodHeight}},{key:"bindEvent",value:function(){var d,y=this,C=this.options.$controlBarContainer,R=this.options.cssName;ar(C).on("mouseover","."+R.volumeBar,function(){clearTimeout(d),y.showVolumeBarHandle()}),ar(C).on("mousewheel","."+R.volumeBarHandle,function(j){var q=j.wheelDelta/500;q=y.data.dataVolumeSize+q,y.setVolumeSize(q),j.preventDefault(),j.stopPropagation()}),ar(C).on("click",["."+R.volumeBarColumn,"."+R.volumeBarSize],function(j){var q=0;return j.target===y.$volumeBarColumn?q=(y.$volumeBarColumn.offsetHeight-j.offsetY)/j.target.offsetHeight:j.target===y.$volumeBarSize&&(q=y.$volumeBarColumn.offsetHeight-j.target.offsetHeight+j.offsetY,q=y.$volumeBarColumn.offsetHeight-q,q/=y.$volumeBarColumn.offsetHeight),y.setVolumeSize(q),!1}),ar(C).on("click","."+R.volumeBarAudio,function(j){return y.$volumeBarAudio.classList.contains(R.volumeBarAudioOff)?y.setAudioOn(j.offsetY):y.setAudioOff(j.offsetY),!1}),ar(C).on("mouseout","."+R.volumeBar,function(j){d=setTimeout(function(){(function(q){var te=y.element,fe={y:te.offsetTop+y.$volumeBarHandle.offsetTop,x:te.offsetLeft};return fe.width=te.offsetWidth,fe.height=y.$volumeBarHandle.offsetHeight,q.pageX>fe.x&&q.pageX<fe.x+fe.width&&q.pageY>fe.y&&q.pageY<fe.y+fe.height})(j)?clearTimeout(d):y.hideVolumeBarHandle()},he.c.hideBarBoxTime)}),this.volumeDragEvent=po(this.$volumeBarRod,{$container:this.element,type:"vertical",scope:{top:this.volumeBarColumnTop,right:0,bottom:this.volumeBarColumnTop+this.volumeBarColumnHeight,left:0},onStart:function(){y.data.volumeBarRodHoverCss=y.options.cssName.volumeBarRodHover},onDrag:function(j,q){q-=1,y.dragHandle(q)},onRelease:function(){y.data.volumeBarRodHoverCss=""}})}},{key:"hideVolumeBarHandle",value:function(){this.$volumeBarHandle.style.visibility="hidden"}},{key:"showVolumeBarHandle",value:function(){this.$volumeBarHandle.style.visibility="visible"}},{key:"getVolume",value:function(){var d=(this.$volumeBarSize.offsetHeight-this.volumeBarRodHeight)/this.volumeBarColumnMaxHeight;return d=Math.min(d,1),(d=Math.max(d,0)).toFixed(2)}},{key:"setVolume",value:function(d){this.data.dataVolumeSize=Number(d),this.events.emit(de.PlayerOnVolume,d)}},{key:"initVolumeSize",value:function(){this.data.dataLastVolume=this.INIT_VOLUME_SIZE,this.setAudioOn()}},{key:"setAudioOn",value:function(){var d=this.data.dataLastVolume||0;this.setVolume(d);var y=parseFloat(d,10),C=Math.floor(y*this.volumeBarColumnMaxHeight),R=this.volumeBarColumnTop+(this.volumeBarColumnMaxHeight-C);this.$volumeBarSize.style.marginTop=R+"px",this.$volumeBarSize.style.height=C+this.volumeBarRodHeight+"px",this.$volumeBarRod.style.top=R+"px",this.data.audioOffClass=""}},{key:"setAudioOff",value:function(){this.setVolume(0),this.data.audioOffClass=this.options.cssName.volumeBarAudioOff;var d=this.getVolume();d>0&&(this.data.dataLastVolume=d),this.$volumeBarSize.style.height=this.volumeBarRodHeight+"px",this.$volumeBarSize.style.marginTop=this.volumeBarColumnRealTop-this.volumeBarRodHeightHalf+this.volumeBarColumnMaxHeight+"px",this.$volumeBarRod.style.top=this.volumeBarColumnRealTop+this.volumeBarColumnMaxHeight-this.volumeBarRodHeightHalf+"px"}},{key:"dragHandle",value:function(d){this.$volumeBarSize.style.marginTop=d+1+"px",this.$volumeBarSize.style.height=this.volumeBarColumnHeight-d+this.volumeBarRodHeight+"px";var y=this.getVolume();y<=0?this.setAudioOff(d):this.data.dataMute=="true"&&this.setAudioOn(d),this.setVolume(y)}},{key:"setVolumeSize",value:function(d){if((d=d.toFixed(2))>=1?d=1:d<.001&&(d=0),d!==this.data.dataVolumeSize){this.setVolume(d);var y=this.volumeBarColumnMaxHeight,C=y-d*y+this.volumeBarColumnTop;this.$volumeBarSize.style.marginTop=C+"px",this.$volumeBarSize.style.height=d*y+this.volumeBarRodHeight+"px",this.$volumeBarRod.style.top=C+"px",d<=0?this.data.audioOffClass=this.options.cssName.volumeBarAudioOff:this.data.dataMute=="true"&&(this.data.audioOffClass="")}}}]),S}(Xt);function xc(){var E=Gt()([`
  <gp-wait class="goldplay-tip goldplay__waiting-bar" title="`,'" data-status="',`">
    <span class="goldplay__waiting-bar--icon">
    <svg width="60px" height="60px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="background: none;opacity:0.8">
    <circle cx="50" cy="50" fill="none" stroke-linecap="round" r="40" stroke-width="8" stroke="#f6f6f6" stroke-dasharray="62.83185307179586 62.83185307179586" transform="rotate(17.8841 50 50)">
    <animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;360 50 50" keyTimes="0;1" dur="0.7s" begin="0s" repeatCount="indefinite">
    </animateTransform>
    </circle>
    </svg>
  </span>
  <gp-speed class="goldplay__waiting-bar--speed">`,`</gp-speed>
  </gp-wait>
  `]);return xc=function(){return E},E}var pg=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"template",d.createTemplate(xc(),"title","status","speed")),b()(p()(d),"data",{title:"waiting",speed:"",status:"",display:"show"}),b()(p()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,E),u()(S,[{key:"initProps",value:function(){}},{key:"bindEvent",value:function(){var d=this;this.events.on(de.LoaderUpdateSpeed,function(y){d.data.display==="show"&&(d.data.speed=Ji.formatBytes(y.speed)+" /s")})}},{key:"showWaiting",value:function(){var d=this.options.cssName,y=this.options.$screenContainer;y.querySelector("."+d.waitingBar)||y.prepend(this.element),this.data.display="show",this.show(),this.resetPosition()}},{key:"hideWaiting",value:function(){var d=this.options.cssName;this.options.$screenContainer.querySelector("."+d.waitingBar)&&(this.data.display="hide",this.data.speed="Loading...",this.hide())}}]),S}(Xt);function Fh(){var E=Gt()([`
  <gp-alert class="goldplay-tip goldplay__alter-box" title="`,'" data-display="',`">
  <em title="close" class="goldplay__alter--close">
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="background:none;opacity:0.6" xml:space="preserve" width="20px" height="20px" viewBox="0 0 496.158 496.158">
    <path style="fill:#ff3300;" d="M496.158,248.085c0-137.021-111.07-248.082-248.076-248.082C111.07,0.003,0,111.063,0,248.085
    c0,137.002,111.07,248.07,248.082,248.07C385.088,496.155,496.158,385.087,496.158,248.085z"/>
    <path style="fill:#FFFFFF;" d="M277.042,248.082l72.528-84.196c7.91-9.182,6.876-23.041-2.31-30.951
    c-9.172-7.904-23.032-6.876-30.947,2.306l-68.236,79.212l-68.229-79.212c-7.91-9.188-21.771-10.216-30.954-2.306
    c-9.186,7.91-10.214,21.77-2.304,30.951l72.522,84.196l-72.522,84.192c-7.91,9.182-6.882,23.041,2.304,30.951
    c4.143,3.569,9.241,5.318,14.316,5.318c6.161,0,12.294-2.586,16.638-7.624l68.229-79.212l68.236,79.212
    c4.338,5.041,10.47,7.624,16.637,7.624c5.069,0,10.168-1.749,14.311-5.318c9.186-7.91,10.22-21.77,2.31-30.951L277.042,248.082z"/>
    </svg>
  </em>
  <span class="goldplay__alter--warn">
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
    width="30" height="30" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
    <path style="fill:#495A79;" d="M501.461,383.799L320.501,51.401C306.7,28.6,282.7,14.8,256,14.8s-50.7,13.8-64.501,36.601
      L10.539,383.799C-3.259,407.501-3.56,435.701,9.941,459.4c13.499,23.699,37.798,37.8,65.099,37.8h361.92
      c27.301,0,51.601-14.101,65.099-37.8C515.56,435.701,515.259,407.501,501.461,383.799z"/>
    <path style="fill:#42516D;" d="M502.059,459.4c-13.499,23.699-37.798,37.8-65.099,37.8H256V14.8c26.7,0,50.7,13.801,64.501,36.601
      L501.461,383.8C515.259,407.501,515.56,435.701,502.059,459.4z"/>
    <path style="fill:#FFDE33;" d="M475.661,399.1L294.699,66.699C286.601,52.9,271.901,44.8,256,44.8s-30.601,8.101-38.699,21.899
      L36.339,399.1c-8.399,14.101-8.399,31.199-0.298,45.3c8.099,14.399,22.798,22.8,39,22.8h361.92c16.201,0,30.901-8.401,39-22.8
      C484.06,430.299,484.06,413.201,475.661,399.1z"/>
    <path style="fill:#FFBC33;" d="M475.96,444.4c-8.099,14.399-22.798,22.8-39,22.8H256V44.8c15.901,0,30.601,8.101,38.699,21.899
      L475.661,399.1C484.06,413.201,484.06,430.299,475.96,444.4z"/>
    <g>
      <path style="fill:#495A79;" d="M256,437.2c-16.538,0-30-13.462-30-30s13.462-30,30-30s30,13.462,30,30S272.538,437.2,256,437.2z"/>
      <path style="fill:#495A79;" d="M286,317.2c0,16.538-13.462,30-30,30s-30-13.462-30-30v-150c0-16.538,13.462-30,30-30
        s30,13.462,30,30V317.2z"/>
    </g>
    <g>
      <path style="fill:#42516D;" d="M286,407.2c0-16.538-13.462-30-30-30v60C272.538,437.2,286,423.738,286,407.2z"/>
      <path style="fill:#42516D;" d="M286,317.2v-150c0-16.538-13.462-30-30-30v210C272.538,347.2,286,333.738,286,317.2z"/>
    </g>
    </svg>
  </span>
  <gp-content class="goldplay__alter--content">`,`</gp-content>
  </gp-alert>
  `]);return Fh=function(){return E},E}var zu=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"template",d.createTemplate(Fh(),"title","display","content|trim")),b()(p()(d),"data",{title:"alert",display:"default",content:""}),b()(p()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,E),u()(S,[{key:"bindEvent",value:function(){var d=this,y=this.options.$screenContainer,C=this.options.cssName;ar(y).on("click","."+C.alertClose,function(){d.hide()})}},{key:"afterWatch",value:function(){this.data.display==="show"&&this.resetPosition()}},{key:"showBox",value:function(){var d=this.options.cssName,y=this.options.$screenContainer;y.querySelector("."+d.alertBox)||y.prepend(this.element),this.data.display="show",this.show()}},{key:"hideBox",value:function(){var d=this.options.cssName;this.options.$screenContainer.querySelector("."+d.alertBox)&&(this.data.display="hide",this.hide())}},{key:"show",value:function(){this.element.style.opacity=1,this.element.style.display="inline-block",this.resetPosition()}},{key:"hide",value:function(){this.element.style.opacity=0,this.element.style.display="none"}}]),S}(Xt);function Sc(){var E=Gt()([`
  <gp-time class="goldplay__control--timer">
  <span gid="time" class="goldplay__control--timer-play">`,`</span>
  <span gid="slash">`,`</span>
  <span gid="total-time" class="goldplay__control--timer-total">`,`</span>
  </gp-time>
  `]);return Sc=function(){return E},E}var gg=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"template",d.createTemplate(Sc(),"time","slash","totalTime")),b()(p()(d),"data",{time:"00:00",totalTime:"",slash:"/"}),b()(p()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,E),u()(S,[{key:"setTotalTime",value:function(d){var y=d.sourceData;this.data.totalTime=gn.formatHHMMSS(y.duration)}},{key:"bindEvent",value:function(){var d=this;this.events.on(de.LoaderPlayListLoaded,function(y){d.setTotalTime(y.loadData)})}},{key:"updateTime",value:function(d){this.element.querySelector('[gid="time"]').innerHTML=d}},{key:"updateTotalTime",value:function(d){this.element.querySelector('[gid="total-time"]').innerHTML=d}}]),S}(Xt);function wc(){var E=Gt()([`
  <gp-speed class="goldplay__speed-bar" title="`,`">
  <gp-overbox class="goldplay-hoverbox goldplay__speed-bar--box">
  `,`
  </gp-overbox>
  <gp-button class="goldplay__speed-bar--link">
  `,`
  </gp-button>
  </gp-speed>
  `]);return wc=function(){return E},E}var mg=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"template",d.createTemplate(wc(),"title","speedListHTML|html","currentSpeedName")),b()(p()(d),"data",{title:"speed",currentSpeed:1,speedList:null,currentSpeedName:"",speedListHTML:""}),b()(p()(d),"options",{}),d.options=y,d.speedList=d.options.player.options.speedList||he.c.speedList,d.updateSpeedListHTML(),Object.assign(d.data,y.data),d.init(),d.initProps(),d.showHideBar(),d}return m()(S,E),u()(S,[{key:"initProps",value:function(){var d=this.options.cssName;this.$barBox=this.element.querySelector("."+d.speedBarBox)}},{key:"bindEvent",value:function(){var d=this,y=this.options.cssName,C=this.options.$controlBarContainer;ar(C).on("mouseover","."+y.speedBar,function(){clearTimeout(R),d.showBarBoxHandle()});var R;ar(C).on("mouseout","."+y.speedBar,function(j){R=setTimeout(function(){(function(q){var te=d.element,fe={y:d.$barBox.offsetTop,x:te.offsetLeft};return fe.width=te.offsetWidth,fe.height=d.$barBox.offsetHeight,q.pageX>fe.x&&q.pageX<fe.x+fe.width&&q.pageY>fe.y&&q.pageY<fe.y+fe.height})(j)?clearTimeout(R):d.hideBarBoxHandle()},he.c.hideBarBoxTime)}),ar(this.element).on("click","[gp-node-li]",function(j){var q=j.target,te=parseFloat(q.getAttribute("value"),10);if(te!==d.data.currentSpeed){d.data.currentSpeed=te;var fe=d.speedList.filter(function(xe){return xe.value===te});d.events.emit(de.PlayerSpeedTo,fe[0]),d.updateSpeedListHTML()}})}},{key:"showHideBar",value:function(){this.speedList.length<=0&&this.hide()}},{key:"resetBoxPosition",value:function(){var d=33+28*this.speedList.length,y=(this.$barBox.offsetWidth-this.element.offsetWidth)/2;this.$barBox.style.marginTop=-d+"px",this.$barBox.style.marginLeft=-y+"px"}},{key:"hideBarBoxHandle",value:function(){this.$barBox.style.visibility="hidden"}},{key:"showBarBoxHandle",value:function(){this.$barBox.style.visibility="visible"}},{key:"updateSpeedListHTML",value:function(d){var y=this.speedList;if(!(y.length<=0)){d===void 0&&(d=this.data.currentSpeed);var C=y.slice(0,y.length).reverse(),R=!0,j=!1,q=void 0;try{for(var te,fe=C[Symbol.iterator]();!(R=(te=fe.next()).done);R=!0){var xe=te.value;xe.value===d?xe.selected=!0:delete xe.selected}}catch(Re){j=!0,q=Re}finally{try{R||fe.return==null||fe.return()}finally{if(j)throw q}}return this.data.speedListHTML=function(Re){if(Re){var ut=["<ul>"],St=!0,er=!1,tr=void 0;try{for(var gr,qr=Re[Symbol.iterator]();!(St=(gr=qr.next()).done);St=!0){var Et=gr.value,bs="",bo="";Et.selected&&(bs="gp-selected",bo=" selected=".concat(Et.selected)),ut.push(`
    <li class="`.concat(bs,'" gp-node-li value="').concat(Et.value,'" ').concat(bo,">").concat(Et.name,`</li>
    `))}}catch(zn){er=!0,tr=zn}finally{try{St||qr.return==null||qr.return()}finally{if(er)throw tr}}return ut.push("</ul>"),ut.join("")}}(C)}}}]),S}(Xt);function $h(){var E=Gt()([`
  <gp-subtitle class="goldplay__subtitle">
  </gp-subtitle>
  `]);return $h=function(){return E},E}var Tc=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"template",d.createTemplate($h())),b()(p()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,E),S}(Xt);function Cc(){var E=Gt()([`
  <gp-rate class="goldplay__rate-bar" title="`,`">
  <gp-overbox class="goldplay-hoverbox goldplay__rate-bar--box">
  `,`
  </gp-overbox>
  <gp-button class="goldplay__rate-bar--link">
  `,`
  </gp-button>
  </gp-rate>
  `]);return Cc=function(){return E},E}var yg=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"rateList",[]),b()(p()(d),"defaultRate",{value:"600",name:""}),b()(p()(d),"template",d.createTemplate(Cc(),"title","rateListHTML|html","currentRateName")),b()(p()(d),"data",{title:"stream rate",currentRate:"600",currentRateName:"",rateListHTML:""}),b()(p()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.rateList=d.options.player.options.rateList||d.rateList,d.defaultRate=d.options.player.options.defaultRate||d.defaultRate,d.setDefaultRate(),d.updateRateListHTML(),d.init(),d.initProps(),d.showHideBar(),d}return m()(S,E),u()(S,[{key:"initProps",value:function(){var d=this.options.cssName;this.$barBox=this.element.querySelector("."+d.rateBarBox)}},{key:"setDefaultRate",value:function(){var d=this;if(!(this.rateList.length<=0)){var y=this.rateList.find(function(C){return String(C.value)===String(d.defaultRate.value)});y?(this.data.currentRateName=y.name,this.data.currentRate=y.value):(this.data.currentRateName=this.rateList[0].name,this.data.currentRate=this.rateList[0].value)}}},{key:"bindEvent",value:function(){var d=this,y=this.options.cssName,C=this.options.$controlBarContainer;ar(C).on("mouseover","."+y.rateBar,function(){clearTimeout(R),d.showBarBoxHandle()});var R;ar(C).on("mouseout","."+y.rateBar,function(j){R=setTimeout(function(){(function(q){var te=d.element,fe={y:d.$barBox.offsetTop,x:te.offsetLeft};return fe.width=te.offsetWidth,fe.height=d.$barBox.offsetHeight,q.pageX>fe.x&&q.pageX<fe.x+fe.width&&q.pageY>fe.y&&q.pageY<fe.y+fe.height})(j)?clearTimeout(R):d.hideBarBoxHandle()},he.c.hideBarBoxTime)}),ar(this.element).on("click","[gp-node-li]",function(j){var q=j.target.getAttribute("value");if(q!==d.data.currentRate){d.data.currentRate=q;var te=d.rateList.filter(function(fe){return fe.value===q});d.events.emit(de.PlayerChangeRate,te[0]),d.data.currentRateName=te[0].name,d.updateRateListHTML(),d.hideBarBoxHandle()}})}},{key:"showHideBar",value:function(){var d=this.rateList;d&&d.length<=0&&this.hide()}},{key:"resetBoxPosition",value:function(){var d=33+28*this.rateList.length,y=(this.$barBox.offsetWidth-this.element.offsetWidth)/2;this.$barBox.style.marginTop=-d+"px",this.$barBox.style.marginLeft=-y+"px"}},{key:"hideBarBoxHandle",value:function(){this.$barBox.style.visibility="hidden"}},{key:"showBarBoxHandle",value:function(){this.$barBox.style.visibility="visible"}},{key:"updateRateListHTML",value:function(d){var y=this.rateList;if(!(y.length<=0)){d===void 0&&(d=this.data.currentRate);var C=y.slice(0,y.length).reverse(),R=!0,j=!1,q=void 0;try{for(var te,fe=C[Symbol.iterator]();!(R=(te=fe.next()).done);R=!0){var xe=te.value;xe.value===d?xe.selected=!0:delete xe.selected}}catch(Re){j=!0,q=Re}finally{try{R||fe.return==null||fe.return()}finally{if(j)throw q}}return this.data.rateListHTML=function(Re){if(Re){var ut=["<ul>"],St=!0,er=!1,tr=void 0;try{for(var gr,qr=Re[Symbol.iterator]();!(St=(gr=qr.next()).done);St=!0){var Et=gr.value,bs="",bo="";Et.selected&&(bs="gp-selected",bo=" selected=".concat(Et.selected)),ut.push(`
    <li class="`.concat(bs,'" gp-node-li value="').concat(Et.value,'" ').concat(bo,">").concat(Et.name,`</li>
    `))}}catch(zn){er=!0,tr=zn}finally{try{St||qr.return==null||qr.return()}finally{if(er)throw tr}}return ut.push("</ul>"),ut.join("")}}(C)}}}]),S}(Xt);function Hh(){var E=Gt()([`
  <gp-setting class="goldplay__setting-bar">
  </gp-setting>
  `]);return Hh=function(){return E},E}var _g=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"template",d.createTemplate(Hh())),b()(p()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,E),S}(Xt);function zh(){var E=Gt()([`
  <gp-button class="goldplay__control--fullpage" title="`,'" data-status="',`">
  `,`
  </gp-button>
  `]);return zh=function(){return E},E}function Ac(){var E=Gt()([`
<svg xmlns="http://www.w3.org/2000/svg" style="display:`,`" width="20" height="20" viewBox="0 0 24 24">
<path d="M3.5 6h17a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5h-17a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5zM6 9v6h12V9H6z" fill="#f1f1f1"></path>
</svg>
`]);return Ac=function(){return E},E}function Uh(){var E=Gt()([`
<svg xmlns="http://www.w3.org/2000/svg" style="display:`,`" width="20" height="20" viewBox="0 0 24 24">
  <path d="M2.5 4h19a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-19a.5.5 0 0 1-.5-.5v-15a.5.5 0 0 1 .5-.5zM5 7v10h14V7H5z" fill="#f1f1f1"></path>
</svg>
`]);return Uh=function(){return E},E}var Vh=Ke.create(Uh(),"fullpageHide"),kc=Ke.create(Ac(),"fullpageExitHide"),bg=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"containerOriginStyle",""),b()(p()(d),"template",d.createTemplate(zh(),"title","status","icon|html")),b()(p()(d),"data",{fullpageHide:"",fullpageExitHide:"none",status:"",icon:Vh,title:"fullpage"}),b()(p()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,E),u()(S,[{key:"watch",value:function(){this.data.status==="fullpage"?(this.data.fullpageHide="none",this.data.fullpageExitHide="inline-block",this.data.title="exit fullspage",this.data.icon=kc):(this.data.fullpageHide="inline-block",this.data.fullpageExitHide="none",this.data.title="fullpage",this.data.icon=Vh)}},{key:"initProps",value:function(){var d=this.options;this.$container=this.options.$container,this.$screenContainer=d.$screenContainer,this.$controlBarContainer=this.getComponent("controlBarContainer").element,this.originWidth=d.$container.offsetWidth,this.originHeight=d.$container.offsetHeight,this.containerOriginStyle=d.$container.getAttribute("style"),this.screenContainerOrginStyle=this.$screenContainer.getAttribute("style"),this.controlContainerOrginWidth=this.$controlBarContainer.style.width}},{key:"bindEvent",value:function(){var d=this,y=this.options.cssName,C=document,R=window;ar(this.$controlBarContainer).on("click","."+y.fullPage,function(){var j=d.data.status;d.getComponent("fullScreen").data.status==="fullscreen"&&Ie.exitFullscreen(),j==="fullpage"?d.exitFullPage():d.fullPage()}),this.eventsList.esckeyup=this.addEventListener(C,"keyup",function(j){j.keyCode===27&&d.data.status==="fullpage"&&d.exitFullPage()}),this.eventsList.windowresize=this.addEventListener(R,"resize",function(){if(d.data.status==="fullpage"){var j=Ie.getInnerWidthHeight();d.resizeTo(j.width,j.height),d.resetPosition()}})}},{key:"fullPage",value:function(){this.data.status="fullpage";var d=this.options,y=this.options.cssName,C=Ie.getInnerWidthHeight();this.saveOriginPosition(),d.$container.classList.add(y.containerFullPage),this.resizeTo(C.width,C.height),this.resetPosition(),scrollTo(0,0)}},{key:"saveOriginPosition",value:function(){var d=this.getComponent("progressBar");this.posterOriginStyle=this.getComponent("poster").element.getAttribute("style"),this.originScroll={scrollX,scrollY},this.progressBarOriginLeft=d.progressBarLeft,this.progressBarOriginWidth=d.progressBarWidth,this.progressBarPlayWidthRate=d.getProgressPlayLeftWidth().offsetWidth/this.progressBarOriginWidth,this.progressBarLoadWidthRate=d.getProgressLoadLeftWidth().offsetWidth/this.progressBarOriginWidth,this.progressBarLoadLeftRate=(d.getProgressLoadLeftWidth().offsetLeft-this.progressBarOriginLeft)/this.progressBarOriginWidth}},{key:"setProgressBarPosition",value:function(){var d=this.getComponent("progressBar"),y=d.progressBarWidth,C=d.progressBarLeft,R=y*this.progressBarPlayWidthRate,j=y*this.progressBarLoadWidthRate,q=y*this.progressBarLoadLeftRate;d.setProgressPosition(R),d.setProgressLoadLeftWidth(q+C,j),this.getComponent("progressBar").clearDragDotTop()}},{key:"resizeTo",value:function(d,y){var C=this.options,R=C.player,j=R.controlBarAutoHide?y:y-R.controlBarHeight;R.$screenContainer.style.width=d+"px",R.$screenContainer.style.height=j+"px",C.$container.style.width=d+"px",C.$container.style.height=y+"px"}},{key:"resetPosition",value:function(){var d=this.options;this.setProgressBarPosition(),d.player.resizeScreen(),this.getComponent("bigPlayButton").resetPosition(),this.getComponent("poster").resetPosition(),this.getComponent("waitingBar").resetPosition(),this.getComponent("controlBarContainer").resetPosition()}},{key:"exitFullPage",value:function(){this.data.status="exitfullpage";var d=this.options.cssName;this.saveOriginPosition(),this.$container.classList.remove(d.containerFullPage),this.resetScreen()}},{key:"resetScreen",value:function(){this.$container.setAttribute("style",this.containerOriginStyle),this.$screenContainer.setAttribute("style",this.screenContainerOrginStyle),this.$controlBarContainer.style.width=this.controlContainerOrginWidth,this.getComponent("poster").element.setAttribute("style",this.posterOriginStyle),scrollTo(this.originScroll.scrollX,this.originScroll.scrollY),this.resetPosition()}}]),S}(Xt);function Gh(){var E=Gt()([`
  <gp-button class="goldplay__control--fullscreen" title="`,'" data-status="',`">
  `,`
  </gp-button>
  `]);return Gh=function(){return E},E}var jh=`
<svg xmlns="http://www.w3.org/2000/svg" gid="fullscreen" style="display:\${'fullscreenHide'}" width="20" height="20" viewBox="0 0 24 24">
<path d="M15 5.057V2h6.5a.5.5 0 0 1 .5.5V9h-2.943V5.057H15zm-6 0H5.057V9H2V2.5a.5.5 0 0 1 .5-.5H9v3.057zM15 22v-2.943h4.057V15H22v6.5a.5.5 0 0 1-.5.5H15zm-6 0H2.5a.5.5 0 0 1-.5-.5V15h3.057v4.057H9V22z" fill="#f1f1f1"></path>
</svg>
`,Uu=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"template",d.createTemplate(Gh(),"title","status","icon|html")),b()(p()(d),"data",{fullscreenHide:"inline-block",fullscreenExitHide:"none",status:"",icon:jh,title:"fullscreen"}),b()(p()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,E),u()(S,[{key:"watch",value:function(){this.data.status==="fullscreen"?(this.data.fullscreenHide="none",this.data.fullscreenExitHide="inline-block",this.data.title="exit fullscreen",this.data.icon=`
<svg xmlns="http://www.w3.org/2000/svg" gid="fullscreenExit" style="display:\${'fullscreenExitHide'}"  width="20" height="20" viewBox="0 0 24 24">
<path d="M22 5.943V9h-6.5a.5.5 0 0 1-.5-.5V2h2.943v3.943H22zm-20 0h3.943V2H9v6.5a.5.5 0 0 1-.5.5H2V5.943zM22 15v2.943h-4.057V22H15v-6.5a.5.5 0 0 1 .5-.5H22zM2 15h6.5a.5.5 0 0 1 .5.5V22H5.943v-4.057H2V15z" fill="#f1f1f1"></path>
</svg>
`):(this.data.fullscreenHide="inline-block",this.data.fullscreenExitHide="none",this.data.title="fullscreen",this.data.icon=jh)}},{key:"initProps",value:function(){this.getComponent("fullPage").initProps.call(this)}},{key:"bindEvent",value:function(){var d=this,y=this.options.$container,C=this.options.cssName,R=document,j=window;this.eventsList.fullscreenchange=this.addEventListener(R,"fullscreenchange",function(){if(document.fullscreenElement||document.webkitFullscreenElement)d.fullScreen();else{var q=d.getComponent("fullPage");q.data.status==="fullpage"?(y.classList.remove(C.containerFullScreen),d.data.status="exitfullscreen",q.fullPage()):d.exitFullScreen()}}),this.eventsList.windowresize=this.addEventListener(j,"resize",function(){document.fullscreenElement&&(d.resizeTo(screen.width,screen.height-(window.outerHeight-window.innerHeight)),d.resetPosition())}),ar(this.$controlBarContainer).on("click","."+C.fullScreen,function(){var q=d.data.status;d.saveOriginPosition(),q==="fullscreen"?Ie.exitFullscreen():Ie.Fullscreen()})}},{key:"fullScreen",value:function(){this.data.status="fullscreen";var d=this.options,y=this.options.cssName,C={width:screen.width,height:screen.height-(outerHeight-innerHeight)};Ie.isSafari()&&(C.height=C.height+38),d.$container.classList.add(y.containerFullScreen),this.resizeTo(C.width,C.height),this.resetPosition(),scrollTo(0,0)}},{key:"saveOriginPosition",value:function(){this.getComponent("fullPage").saveOriginPosition.call(this)}},{key:"resizeTo",value:function(d,y){this.getComponent("fullPage").resizeTo.call(this,d,y)}},{key:"resetPosition",value:function(){this.getComponent("fullPage").resetPosition.call(this)}},{key:"setProgressBarPosition",value:function(){this.getComponent("fullPage").setProgressBarPosition.call(this)}},{key:"exitFullScreen",value:function(){this.data.status="exitfullscreen";var d=this.options.cssName;this.saveOriginPosition(),this.options.$container.classList.remove(d.containerFullScreen),this.resetScreen(),this.saveOriginPosition()}},{key:"resetScreen",value:function(){this.getComponent("fullPage").resetScreen.call(this)}}]),S}(Xt);function Wh(){var E=Gt()([`
  <gp-button class="goldplay__screen--bigplay" title="`,'" data-status="',`">
  `,`
  </gp-button>
  `]);return Wh=function(){return E},E}function Yh(){var E=Gt()([`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
width="`,'" height="','" viewBox="0 0 438.533 438.533" style="',`" xml:space="preserve">
<g>
<path d="M409.133,109.203c-19.608-33.592-46.205-60.189-79.798-79.796C295.736,9.801,259.058,0,219.273,0
 c-39.781,0-76.466,9.801-110.063,29.407c-33.595,19.604-60.192,46.201-79.8,79.796C9.801,142.8,0,179.489,0,219.267
 s9.804,76.463,29.407,110.062c19.607,33.585,46.204,60.189,79.799,79.798c33.597,19.605,70.283,29.407,110.063,29.407
 s76.47-9.802,110.065-29.407c33.593-19.602,60.189-46.206,79.795-79.798c19.603-33.599,29.403-70.287,29.403-110.062
 C438.533,179.489,428.732,142.795,409.133,109.203z M328.904,234.966L173.588,326.33c-2.856,1.711-5.902,2.567-9.136,2.567
 c-3.045,0-6.09-0.764-9.135-2.286c-6.09-3.614-9.136-8.939-9.136-15.985V127.907c0-7.041,3.046-12.371,9.136-15.987
 c6.28-3.427,12.369-3.333,18.271,0.284l155.316,91.36c6.088,3.424,9.134,8.663,9.134,15.703
 C338.038,226.308,334.992,231.537,328.904,234.966z" fill="`,`">
</g>
</svg>
`]);return Yh=function(){return E},E}var xg=Ke.create(Yh(),"width","height","iconStyle","fillColor"),Xh=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"template",d.createTemplate(Wh(),"title","status","icon|html")),b()(p()(d),"data",{titie:"click to play",iconStyle:"opacity:0.5",display:"hide",status:"",width:100,height:100,fillColor:"#999",icon:xg}),b()(p()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,E),u()(S,[{key:"watch",value:function(){if(this.data.display==="show"){var d=(this.element.parentNode.offsetHeight-this.data.height)/2;this.data.iconStyle="opacity:0.7;margin-top:".concat(d,"px")}}},{key:"resetPosition",value:function(){if(this.data.display==="show"){var d=this.element.parentNode,y=d.offsetWidth,C=d.offsetHeight;this.options.player.controlBarAutoHide===!0&&(C-=this.options.player.controlBarHeight);var R=d.offsetTop,j=d.offsetLeft;this.element.style.width=y+"px",this.element.style.height=C+"px",this.element.style.top=R+"px",this.element.style.left=j+"px"}}},{key:"bindEvent",value:function(){var d=this,y=this.options.$screenContainer,C=this.options.cssName;ar(y).on("click","."+C.bigPlayButton,function(){d.events.emit(de.PlayerOnPlay,d),d.events.emit(de.ControlBarPlay,d),d.hide()}),ar(y).on("mouseover","."+C.bigPlayButton,function(){d.data.fillColor=d.options.bigPlayButtonColor||"#fff"}),ar(y).on("mouseout","."+C.bigPlayButton,function(R){var j=d.element,q={y:j.offsetTop,x:j.offsetLeft};q.width=j.offsetWidth,q.height=j.offsetHeight,R.pageX>q.x&&R.pageX<q.x+q.width&&R.pageY>q.y&&R.pageY<q.y+q.height||(d.data.fillColor="#999")})}},{key:"show",value:function(){var d=this;this.data.display!=="show"&&(this.data.display="show",this.element.style.opacity="1",setTimeout(function(){d.element.style.display="inline-block"},1))}},{key:"hide",value:function(){this.data.display!=="hide"&&(this.element.style.opacity="0",this.data.display="hide",this.element.style.display="none")}}]),S}(Xt),Pc=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),(d=c()(this,f()(S).call(this,y))).options=Object.assign(d.options,y),d.componentsController=d.options.componentsController,d.init(),d}return m()(S,E),u()(S,[{key:"render",value:function(){var d=this,y=W.createEl("gp-button-block");y.classList.add("goldplay__control--button-block"),S.componentList.forEach(function(C){var R=d.componentsController.getComponent(C);y.appendChild(R.element)}),this.element=y}}],[{key:"addCustomControl",value:function(d){S.componentList.push(d)}}]),S}(Xt);b()(Pc,"componentList",["playButton","pauseButton","replayButton"]);var x=Pc,P=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),(d=c()(this,f()(S).call(this,y))).options=Object.assign(d.options,y),d.componentsController=d.options.componentsController,d.init(),d}return m()(S,E),u()(S,[{key:"render",value:function(){var d=this,y=W.createEl("gp-control-sidebar");y.classList.add("goldplay__control--sidebar"),S.componentList.forEach(function(C){var R=d.componentsController.getComponent(C);y.appendChild(R.element)}),this.element=y}}],[{key:"addCustomControl",value:function(d,y){(y<0||y>S.componentList.length)&&(y=S.componentList.length),S.componentList.splice(y,0,d)}}]),S}(Xt);b()(P,"componentList",["speedBar","rateBar","volumeBar","fullPage","fullScreen"]);var D=P,V=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),(d=c()(this,f()(S).call(this,y))).options=Object.assign(d.options,y),d.componentsController=d.options.componentsController,d.init(),d}return m()(S,E),u()(S,[{key:"render",value:function(){var d=this,y=W.createEl("gp-control-nearside");y.classList.add("goldplay__control--button-block"),S.componentList.forEach(function(C){var R=d.componentsController.getComponent(C);y.appendChild(R.element)}),this.element=y}}],[{key:"addCustomControl",value:function(d,y){(y<0||y>S.componentList.length)&&(y=S.componentList.length),S.componentList.splice(y,0,d)}}]),S}(Xt);b()(V,"componentList",["playControl","timer"]);var ee=V,ne={BaseComponent:Xt,controlBarContainer:Iu,bigPlayButton:Xh,poster:Ru,progressBar:ta,playButton:bc,pauseButton:ys,replayButton:ra,volumeBar:Hu,waitingBar:pg,alertBox:zu,timer:gg,speedBar:mg,subtitle:Tc,rateBar:yg,settingBar:_g,fullPage:bg,fullScreen:Uu,playControl:x,sideControlBar:D,nearControlBar:ee},ie=le,ue=function(E){return E.substr(0,1).toUpperCase()+E.substr(1)},ye=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"allComponents",{}),b()(p()(d),"controlBarController",null),b()(p()(d),"options",{cssName:ie}),d.options=Object.assign(d.options,y),d.options.componentsController=p()(d),d.initComponents(),d.$container=d.options.$container,d.$screenContainer=d.options.$screenContainer,d.$canvas=d.options.$canvas,d.$audioContainer=d.options.$audioContainer,d.$audio=d.options.$audio,d.options.$controlBarContainer=d.controlBarContainer.element,d.bindEvent(),d}return m()(S,E),u()(S,[{key:"run",value:function(){for(var d in this.controlBarController.run(),ne)this[d]&&typeof this[d].registerMethod=="function"&&this[d].registerMethod()}},{key:"initComponents",value:function(){for(var d in ne){var y=ne[d];this.allComponents[d]||this.createComponent(y,d)}}},{key:"bindEvent",value:function(){var d=this;this.events.on(de.PlayerLoadedMetaData,function(){d.poster.hide()}),this.events.on(de.AudioPlayerPlayFail,function(){d.drawBigPlayButton(),d.getComponent("poster").hide(),d.events.emit(de.PlayerOnPause,d),d.events.emit(de.ControlBarPause,d)}),this.bindAlertBoxEvent(),this.bindWaitingBarEvent()}},{key:"bindWaitingBarEvent",value:function(){this.waitingBar.initProps(),this.waitingBar.bindEvent()}},{key:"drawBigPlayButton",value:function(){this.$screenContainer.prepend(this.bigPlayButton.element),this.bigPlayButton.show(),this.bigPlayButton.bindEvent(),this.bigPlayButton.resetPosition()}},{key:"setControlBarController",value:function(d){this.controlBarController=d}},{key:"getControlBarController",value:function(){return this.controlBarController||this.options.player.controlBarContainer}},{key:"bindAlertBoxEvent",value:function(){this.alertBox.initProps(),this.alertBox.bindEvent()}},{key:"drawPoster",value:function(){this.$screenContainer.prepend(this.poster.element),this.poster.data.display="show",this.poster.bindEvent(),this.poster.resetPosition()}},{key:"createComponent",value:function(d,y){var C=ue(y);this["set"+C](new d(this.options)),this[y]=this["get"+C](),this.allComponents[y]||(this.allComponents[y]=this[y])}},{key:"getComponent",value:function(d){return this.allComponents[d]||ne[d]&&this.createComponent(ne[d],d),this.allComponents[d]}},{key:"resetAllComponents",value:function(){var d=this,y=Object.getOwnPropertyNames(this),C={};y.forEach(function(R){ne[R]&&(C[R]=d[R])}),this.allComponents=C}},{key:"getAllComponents",value:function(){return this.allComponents}}]),S}(Y);for(var Me in ye.addComponet=function(E){var S=ue(E);ye.prototype["set"+S]=function(d){this[E]=d},ye.prototype["get"+S]=function(){return this[E]}},ne)ye.addComponet(Me);var Ue=ye,at=le,tt=function(E){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(p()(d),"player",null),b()(p()(d),"loadData",null),b()(p()(d),"options",{cssName:at}),d.options=Object.assign(d.options,y),d.player=d.options.player,d.loadData=d.player.loadData,d.componentsController=d.player.componentsController,d.$screenContainer=d.player.$screenContainer,d.initComponents(),d}return m()(S,E),u()(S,[{key:"initComponents",value:function(){var d=this.componentsController;Object.assign(this,d.getAllComponents()),this.container=this.controlBarContainer}},{key:"run",value:function(){this.timer.setTotalTime(this.loadData),this.drawLayout(),this.bindEvent(),this.player.autoPlay?this.events.emit(de.ControlBarPlay):this.events.emit(de.ControlBarPause)}},{key:"bindEvent",value:function(){this.bindContainerEvent(),this.bindTimerEvent(),this.bindPlayEvent(),this.bindProgressEvent(),this.bindSpeedEvent(),this.bindRateEvent(),this.bindVolumeEvent(),this.bindFullPage(),this.bindFullScreen()}},{key:"bindContainerEvent",value:function(){this.container.initProps(),this.container.bindEvent()}},{key:"bindTimerEvent",value:function(){this.timer.initProps(),this.timer.bindEvent()}},{key:"bindSpeedEvent",value:function(){this.speedBar.bindEvent(),this.speedBar.resetBoxPosition()}},{key:"bindRateEvent",value:function(){this.rateBar.bindEvent(),this.rateBar.resetBoxPosition()}},{key:"bindFullPage",value:function(){this.fullPage.initProps(),this.fullPage.bindEvent()}},{key:"bindFullScreen",value:function(){this.fullScreen.initProps(),this.fullScreen.bindEvent()}},{key:"bindPlayEvent",value:function(){var d=this;this.events.on(de.ControlBarPlay,function(){d.pauseButton.data.status!=="pause"&&(d.pauseButton.data.status="pause"),d.replayButton.hide(),d.playButton.hide(),d.pauseButton.show(),d.bigPlayButton.hide()}),this.events.on(de.ControlBarPause,function(){d.player.status!=="pause"&&(d.pauseButton.data.status="pause"),d.playButton.show(),d.pauseButton.hide()}),this.events.on(de.PlayerEnd,function(){d.replayButton.show(),d.pauseButton.hide(),d.playButton.hide()}),[de.PlayerWait,de.PlayerSeeking,de.PlayerReset,de.PlayerChangeRate,de.PlayerChangeSrc].forEach(function(y){d.events.on(y,function(){d.waitingBar.showWaiting()})}),this.events.on(de.PlayerSeekEnd,function(){d.waitingBar.hideWaiting()}),this.events.on(de.PlayerPlay,function(){d.waitingBar.hideWaiting(),d.events.emit(de.ControlBarPlay,d)}),this.events.on(de.PlayerPause,function(){d.events.emit(de.ControlBarPause,d)}),this.events.on(de.PlayerPlaying,function(){d.waitingBar.hideWaiting()}),this.events.on(de.PlayerOnSeek,function(y){y<1e3*d.loadData.sourceData.duration&&d.events.emit(de.ControlBarPauseLoading)}),this.events.on(de.ControlBarPauseLoading,function(){d.pauseButton.data.status!=="pauseloading"&&(d.pauseButton.data.status="pauseloading"),d.replayButton.hide(),d.playButton.hide(),d.pauseButton.show()}),ar(this.options.$container).on("click","."+at.playButton,function(){d.player.status!=="play"&&d.events.emit(de.PlayerOnPlay,d)}),ar(this.options.$container).on("click","."+at.pauseButton,function(){d.player.status!=="pause"&&d.events.emit(de.PlayerOnPause,d)}),ar(this.options.$container).on("click","."+at.replayButton,function(){d.events.emit(de.PlayerOnSeek,d.player.startTime)})}},{key:"bindProgressEvent",value:function(){this.progressBar.initProps(),this.progressBar.bindEvent()}},{key:"bindVolumeEvent",value:function(){this.volumeBar.initProps(),this.volumeBar.initVolumeSize(),this.volumeBar.bindEvent()}},{key:"drawLayout",value:function(){var d=this.options.$container,y=this.container.element;d.append(y)}},{key:"destroy",value:function(){this.removeEventListenerGlobal(),this.container.destroy()}},{key:"removeEventListenerGlobal",value:function(){this.progressBar.progressDragEvent&&this.progressBar.progressDragEvent.removeEventListenerAll(),this.volumeBar.volumeDragEvent&&this.volumeBar.volumeDragEvent.removeEventListenerAll(),this.fullPage.removeEventListenerAll(),this.fullScreen.removeEventListenerAll()}}]),S}(Y),Xe=i(44),st=i.n(Xe),bt=function(E){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(p()(y),"isLast",!1),y.type=d.type,y.libPath=d.libPath,y.player=d.player,y.init(),y}return m()(S,E),u()(S,[{key:"init",value:function(){this.type=="ts"&&this.initNornalWorker(),this.bindEvent(),this.loadjs()}},{key:"initNornalWorker",value:function(){this.processor=this.initWorker()}},{key:"initWorker",value:function(){var d=this,y=st()(128);return y.onmessage=function(C){var R=C.data,j=R.type,q=R.data;switch(j){case"dataProcessorReady":d.onDataProcessorReady();break;case"decoded":d.onDecoded(q);break;case"demuxedAAC":d.onDemuxedAAC(q);break;case"partEnd":d.onPartEnd(q);break;case"resetEnd":d.onResetEnd();break;case"maxPTS":d.onMaxPTS(q);break;case"flushEnd":d.onFlushEnd(q)}},y}},{key:"bindEvent",value:function(){var d=this;this.events.on(de.DemuxStartDemux,this.onStartDemux.bind(this)),this.events.on(de.DemuxLast,function(){d.isLast=!0}),this.events.on(de.DecodeFlush,function(){d.flush()})}},{key:"flush",value:function(){this.processor.postMessage({type:"flush"})}},{key:"loadjs",value:function(){this.processor.postMessage({type:"loadwasm",libPath:this.libPath})}},{key:"reset",value:function(){this.isLast=!1,this.processor.terminate(),this.initNornalWorker(),this.loadjs()}},{key:"onFlushEnd",value:function(d){this.events.emit(de.DecodeFlushEnd,d)}},{key:"onMaxPTS",value:function(d){this.events.emit(de.PlayerMaxPTS,d.maxAudioPTS,d.maxVideoPTS)}},{key:"onDemuxedAAC",value:function(d){this.events.emit(de.DemuxAAC,d)}},{key:"onDataProcessorReady",value:function(){this.player.seeking||this.player.reseting?this.events.emit(de.ProcessorResetEnd):this.events.emit(de.DataProcessorReady)}},{key:"onStartDemux",value:function(d){this.player.reseting||(this.logger.info("onStartDemux","postMessage to demux"),d&&d.arrayBuffer?this.processor.postMessage({type:"startDemux",data:d.arrayBuffer,isLast:this.isLast},[d.arrayBuffer.buffer]):this.logger.error("onStartDemux","data is null","data:",d))}},{key:"onDecoded",value:function(d){this.player.reseting||this.events.emit(de.DecodeDecoded,d)}},{key:"onPartEnd",value:function(d){this.events.emit(de.DecodeApppendEnd,d)}},{key:"onResetEnd",value:function(){this.events.emit(de.ProcessorResetEnd)}},{key:"destroy",value:function(){this.processor&&this.processor.terminate()}}]),S}(ae),nr=function(E){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(p()(y),"currentIndex",null),b()(p()(y),"retryTime",0),b()(p()(y),"dataReady",{audioReady:!1,imageReady:!1}),b()(p()(y),"hasInit",!1),b()(p()(y),"loadDataStatus","loading"),b()(p()(y),"duration",0),b()(p()(y),"tsNumber",0),y.loadData=d.loadData,y.imagePlayer=d.imagePlayer,y.audioPlayer=d.audioPlayer,y.player=d.player,y.bindEvent(),y}return m()(S,E),u()(S,[{key:"bindEvent",value:function(){var d=this;this.events.on(de.LoadDataRead,function(y){d.onRead(y)}),this.events.on(de.DemuxVideo,function(y,C){d.onVideoDemuxed(y,C)}),this.events.on(de.DemuxAAC,function(y){d.onAACDemuxed(y)}),this.events.on(de.DecodeDecoded,function(y){d.onDecoded(y)}),this.events.on(de.DecodeApppendEnd,function(y){d.onAppendEnd(y)}),this.events.on(de.ImagePlayerReady,function(){d.logger.info("bindevent","Events.ImagePlayerReady"),d.checkDataReady("imageReady")}),this.events.on(de.AudioPlayerDataReady,function(){d.logger.info("bindevent","Events.AudioPlayerDataReady"),d.player.receiveAACTime=null,d.checkDataReady("audioReady")}),this.events.on(de.AudioPlayerWait,function(){d.dataReady.audioReady=!1,d.events.emit(de.PlayerWait,"audioPlayer")}),this.events.on(de.ImagePlayerWait,function(){d.dataReady.imageReady=!1,d.events.emit(de.PlayerWait,"imagePlayer")}),this.events.on(de.ImagePlayerEnd,function(){d.logger.info("bindevent","........imageplayer end"),d.events.emit(de.PlayerEnd)}),this.events.on(de.PlayerWait,function(){d.logger.warn("player status wait"),d.player.status="wait",d.loadDataStatus==="loadend"&&(d.loadDataStatus="loading",d.loadNext())}),this.events.on(de.PlayerLoadNext,function(){d.loadDataStatus==="loadend"&&(d.loadDataStatus="loading",d.loadNext())}),this.events.on(de.DecodeFlushEnd,function(y){d.logger.info("flushend>>>>>>>>>>>>>>>",y),d.imagePlayer.maxPTS=y})}},{key:"checkDataReady",value:function(d){var y=this.dataReady;y[d]=!0;for(var C=Object.keys(y),R=0,j=0;j<C.length&&y[C[j]];j++)R++;R==C.length&&this.events.emit(de.StreamDataReady)}},{key:"setBaseInfo",value:function(d){this.duration=d.duration,this.tsNumber=d.tsNumber}},{key:"reset",value:function(){this.dataReady={audioReady:!1,imageReady:!1},this.currentIndex=null,this.loadDataStatus="loading"}},{key:"startLoad",value:function(d){this.logger.info("startLoad","index:",d),this.currentIndex=d,this.player.currentIndex=d,this.events.emit(de.LoadDataReadBufferByNo,d)}},{key:"loadNext",value:function(){this.player.reseting||(this.currentIndex>=this.tsNumber?this.logger.info("loadNext","load end","currentIndex",this.currentIndex,"tsNumber:",this.tsNumber):(this.currentIndex+=1,this.player.currentIndex=this.currentIndex,this.logger.info("loadNext","load next ts","tsno:",this.currentIndex),this.events.emit(de.LoadDataReadBufferByNo,this.currentIndex)))}},{key:"onDecoded",value:function(d){var y=this;d.forEach(function(C){y.player.reseting||C.pts>=y.player.currentTime&&y.imagePlayer.push(C)})}},{key:"onAppendEnd",value:function(d){return d?(this.logger.info("onAppendEnd","events.decodeFlush",d),void this.events.emit(de.DecodeFlush)):(this.logger.info("onAppendEnd","start load next ts condition",this.checkBuffer(),this.currentIndex),this.checkBuffer()&&this.currentIndex!==null?(this.logger.info("onAppendEnd","load next ts. currentIndex:",this.currentIndex),void this.loadNext()):(this.loadDataStatus="loadend",void this.logger.info("onAppendEnd","load ts stop")))}},{key:"onAACDemuxed",value:function(d){var y=this;this.player.reseting||d.forEach(function(C){(C.PTS>=y.player.currentTime||C.audioEnd)&&(!y.player.receiveAACTime&&y.player.seeking&&(y.player.receiveAACTime=Date.now()),y.audioPlayer.send(C))})}},{key:"onVideoDemuxed",value:function(d){this.player.reseting||this.events.emit(de.DecodeStartDecode,d)}},{key:"checkBuffer",value:function(){var d=this.player,y=d.currentTime;return!((d.buffer()[1]||0)-y>=d.maxBufferLength)}},{key:"onRead",value:function(d){this.player.reseting?console.error("onRead reseting"):d&&d.arrayBuffer&&d.no===this.currentIndex?(this.retryTime=0,this.logger.warn("onRead","get stream data"),d.no===this.tsNumber&&(this.logger.info("onRead","the last ts"),this.events.emit(de.DemuxLast)),this.events.emit(de.DemuxStartDemux,d)):this.logger.error("onRead","load ts failred","tsno:",this.currentIndex)}}]),S}(ae),Jt=function(E){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(p()(y),"maxBufferLength",0),b()(p()(y),"duration",0),b()(p()(y),"pool",[]),b()(p()(y),"start",0),b()(p()(y),"end",0),b()(p()(y),"offset",0),b()(p()(y),"fps",25),y.maxBufferLength=d.maxBufferLength,y}return m()(S,E),u()(S,[{key:"push",value:function(d){var y=this.pool,C=y.length;C===0&&(this.offset=d.pts,this.start=d.pts,this.fps=d.fps);var R=this.insertSort(y,d);y[R-1]&&(y[R-1].duration=y[R].pts-y[R-1].pts),y[R+1]&&(y[R].duration=y[R+1].pts-y[R].pts),this.end=this.pool[C].pts+this.pool[C].duration,this.duration=this.end-this.start}},{key:"insertSort",value:function(d,y){var C=d.length;if(C===0)return d.push(y),0;for(var R=0;R<C;R++)if(y.pts<d[R].pts){for(var j=C;j>R;)d[j]=d[j-1],j--;return d[R]=y,R}return d.push(y),d.length-1}},{key:"reset",value:function(){this.duration=0,this.pool=[],this.start=0,this.end=0,this.offset=0}},{key:"findByIndex",value:function(d){var y=this.buffer.length;return d<y?(this.currentIndex=d,this.buffer[d]):(this.logger.error("input index ".concat(d,"is not found, current maxIndex is ").concat(y-1)),null)}},{key:"find",value:function(d){var y=this.pool,C=y.length;if(this.isBuffered(d)&&C!==0){var R=this.findIndex(d);if(R!==-1){var j=y[R];return this.checkBuffer(d),j}}}},{key:"findIndex",value:function(d){return this.pool.findIndex(function(y){var C=parseInt(y.pts);return d>=C&&d<C+y.duration})}},{key:"isBuffered",value:function(d){return d>=this.start&&d<this.end}},{key:"checkBuffer",value:function(d){if(this.duration>this.maxBufferLength){if(d>this.start){var y=this.findIndex(d),C=this.pool.splice(0,y);C.forEach(function(R){}),C=null,this.start=this.pool[0].pts,this.duration=this.end-this.start}return!1}return this.events.emit(de.PlayerLoadNext),!0}},{key:"buffer",value:function(){return{start:this.start,end:this.end}}}]),S}(ae),Lr=i(72),Cn=i.n(Lr),an=i(60),Bt=i.n(an),Rr=function(E){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this)),b()(p()(y),"canvas",null),y.setCanvas(d.canvas),y.setRender(),y}return m()(S,E),u()(S,[{key:"setCanvas",value:function(d){this.canvas=d}},{key:"setRender",value:function(d){this.render=Cn.a.attach(d||this.canvas)}},{key:"clear",value:function(){this.render.clear()}},{key:"drawFrame",value:function(d){var y,C,R,j,q,te=Date.now(),fe=d.buf_y,xe=d.buf_u,Re=d.buf_v,ut=d.width,St=d.height,er=ut/2,tr=St/2;y={bytes:fe,stride:d.stride_y},C={bytes:xe,stride:d.stride_u},R={bytes:Re,stride:d.stride_v},j=Bt.a.format({width:ut,height:St,chromaWidth:er,chromaHeight:tr}),q=Bt.a.frame(j,y,C,R),this.render.drawFrame(q);var gr=Date.now();gr-te>10&&this.logger.warn("drawFrame","reandertime:",gr-te)}}]),S}(ae),na=function(E){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(p()(y),"status","pause"),b()(p()(y),"_currentTime",0),b()(p()(y),"maxPTS",null),b()(p()(y),"ready",!1),b()(p()(y),"firstRender",!1),y.imageData=new Jt({events:d.events,maxBufferLength:d.maxBufferLength}),y.screen=new Rr({canvas:d.canvas}),y.playHandler=null,y.player=d.player,y.debug=d.debug||!1,y}return m()(S,E),u()(S,[{key:"setScreenRender",value:function(d){this.screen.setCanvas(d),this.screen.setRender(d)}},{key:"clear",value:function(){this.screen.clear()}},{key:"play",value:function(d){this.status!=="play"&&(this.status="play",this.render(d))}},{key:"pause",value:function(){this.status!=="pause"&&(this.status="pause",clearTimeout(this.playHandler),this.playHandler=null)}},{key:"checkBuffer",value:function(){return this.imageData.checkBuffer(this.currentTime)}},{key:"push",value:function(d){this.player.reseting||(this.imageData.push(d),this.end-this.player.currentTime>he.d.READYBUFFERLENGTH&&!this.ready&&(this.ready=!0,this.status="ready",this.events.emit(de.ImagePlayerReady)),this.events.emit(de.ImagePlayerBuffeUpdate))}},{key:"find",value:function(d){return this.imageData.find(d)}},{key:"buffer",value:function(){return this.imageData.buffer()}},{key:"isBuffered",value:function(d){return this.imageData.isBuffered(d)}},{key:"render",value:function(d){if(!(d<this.imageData.offset)){var y=this.find(d);return y?(this.firstRender||(this.firstRender=!0,this.events.emit(de.PlayerLoadedMetaData,y.width,y.height)),this.screen.drawFrame(y),this.currentTime=y.pts,this.events.emit(de.ImagePlayerRenderEnd,d),y):this.maxPTS&&d>=this.maxPTS+this.fragDuration?(this.status="end",void this.events.emit(de.ImagePlayerEnd,this.maxPTS)):(this.logger.warn("Events.ImagePlayerWait",d,this.start,this.end,this.maxPTS),this.logger.warn("render","not yuv data"),this.status="wait",this.ready=!1,this.events.emit(de.ImagePlayerWait,"image","this"),!1)}}},{key:"reset",value:function(){this.status="pause",this.ready=!1,this.imageData.reset(),this.maxPTS=null,this.currentTime=0}},{key:"currentTime",set:function(d){this._currentTime=d},get:function(){return this._currentTime}},{key:"offset",get:function(){return this.imageData.offset}},{key:"fragDuration",get:function(){return Math.ceil(1e3/this.imageData.fps)}},{key:"start",get:function(){return this.imageData.start}},{key:"end",get:function(){return this.imageData.end}},{key:"duration",get:function(){return this.imageData.duration}}]),S}(ae),Sg=function(E){function S(d){var y,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o()(this,S),y=c()(this,f()(S).call(this)),b()(p()(y),"mode",he.c.mode),b()(p()(y),"$container",null),b()(p()(y),"componentsController",null),b()(p()(y),"controlBarController",null),b()(p()(y),"controlBarHeight",50),b()(p()(y),"alertError",null),b()(p()(y),"dataController",null),b()(p()(y),"demuxer",null),b()(p()(y),"decoder",null),b()(p()(y),"preload",!0),b()(p()(y),"startTime",0),b()(p()(y),"screenWidth",null),b()(p()(y),"screenHeight",null),b()(p()(y),"options",{}),Vu.set(p()(y),{writable:!0,value:he.c.libPath}),b()(p()(y),"readyStatus",{dataProcessor:!1,firstData:!1,audioPlayer:!1}),b()(p()(y),"reseting",!1),Ec.set(p()(y),{writable:!0,value:0}),Mc.set(p()(y),{writable:!0,value:!1}),Dc.set(p()(y),{writable:!0,value:1}),_o.set(p()(y),{writable:!0,value:!1}),b()(p()(y),"maxBufferLength",he.d.MAXBUFFERLENGTH),b()(p()(y),"seekSegmentNo",-1),b()(p()(y),"status","init"),b()(p()(y),"loader",null),b()(p()(y),"currentIndex",null),b()(p()(y),"startIndex",1),b()(p()(y),"loadData",null),b()(p()(y),"paused",!1),b()(p()(y),"autoPlay",!0),b()(p()(y),"duration",0),b()(p()(y),"tsNumber",0),d||y.logger.error("Please pass in a dom object as the display container"),y.el=d,Object.assign(y.options,C),y.options.sourceURL=y.options.sourceURL||y.options.source,y.options.streamList=y.options.streamList||[],y.options.events=$(),y.maxBufferLength=C.maxBufferLength!==void 0?C.maxBufferLength:y.maxBufferLength,y.autoPlay=C.autoPlay!==void 0?C.autoPlay:y.autoPlay,y.controlBarAutoHide=C.controlBarAutoHide!==void 0?C.controlBarAutoHide:y.controlBarAutoHide,A()(p()(y),Vu,C.libPath!==void 0?C.libPath:T()(p()(y),Vu)),y.preload=C.preload===void 0?y.preload:C.preload,y.startTime=C.startTime===void 0?y.startTime:C.startTime,y.originStartTime=y.startTime,y.playbackRate=C.playbackRate===void 0?y.playbackRate:C.playbackRate,y}return m()(S,E),u()(S,[{key:"setAlertError",value:function(){this.options.alertError=this.alertError=Q.getInstance({player:this,component:this.componentsController.alertBox,events:this.options.events})}},{key:"setDataController",value:function(){this.dataController=Si.getInstance({player:this,events:this.options.events})}},{key:"setLoadData",value:function(){this.dataController.setLoadData({player:this,events:this.options.events}),this.loadData=this.dataController.loadData}},{key:"setComponentsController",value:function(){this.componentsController=Ue.getInstance({$container:this.$container,$screenContainer:this.$screenContainer,$canvas:this.$canvas,$audioContainer:this.$audioContainer,$audio:this.$audio,loadData:this.loadData,bigPlayButtonColor:this.bigPlayButtonColor,player:this,events:this.options.events})}},{key:"setControlBarController",value:function(){var d=Object.assign({},this.options,{$container:this.$container,$screenContainer:this.$screenContainer,controlBarAutoHide:this.controlBarAutoHide,player:this});this.controlBarController=tt.getInstance(d)}},{key:"setLoadController",value:function(){this.loaderController=yt.getInstance(this.options.type,{player:this,events:this.options.events})}},{key:"setProcessorController",value:function(){this.processController=new bt({type:"ts",libPath:T()(this,Vu),events:this.options.events,player:this})}},{key:"setStreamController",value:function(){this.streamController=new nr({events:this.options.events,loadData:this.loadData,imagePlayer:this.imagePlayer,audioPlayer:this.audioPlayer,player:this})}},{key:"setImagerPlayer",value:function(){this.imagePlayer=new na({events:this.options.events,canvas:this.$canvas,maxBufferLength:this.maxBufferLength,player:this})}},{key:"setAudioPlayer",value:function(){this.audioPlayer=new oe({player:this,events:this.options.events,audioNode:this.$audio})}},{key:"setAction",value:function(){this.action=new yc({player:this,screen:this.screen,imagePlayer:this.imagePlayer,loadData:this.loadData,audioPlayer:this.audioPlayer,events:this.options.events})}},{key:"init",value:function(){this.controlBarHeight=this.options.controlBarHeight||this.controlBarHeight,this.options.httpWorker=st()(94,{name:"httpWorker"}),this.currentTime=this.startTime,this.addEl(),this.setDataController(),this.setLoadData(),this.setComponentsController(),this.setLoadController(),this.setControlBarController(),this.componentsController.setControlBarController(this.controlBarController),this.setAlertError(),this.setProcessorController(),this.setImagerPlayer(),this.setAudioPlayer(),this.setAction(),this.setStreamController(),this.componentsController.drawPoster(),this.preload&&this.run(),this.bindEvent()}},{key:"bindEvent",value:function(){var d=this;this.events.on(de.PlayerOnPlay,function(){d.play()}),this.events.on(de.PlayerOnPause,function(){d.pause()}),this.events.on(de.PlayerOnVolume,function(y){d.volume=y}),this.events.on(de.DataProcessorReady,function(){d.logger.info("bindEvent","decoder ready"),d.checkReady("dataProcessor")}),this.events.on(de.AudioPlayerReady,function(){d.logger.info("bindEvent","audioPlayer ready"),d.seeking||d.checkReady("audioPlayer")}),this.events.on(de.PlayerReady,function(){d.logger.info("bindEvent","player ready"),d.onReady()}),this.events.on(de.PlayerSpeedTo,function(y){d.changeSpeed(y)}),this.events.on(de.PlayerChangeRate,function(y){d.changeRate(y)}),this.events.on(de.PlayerWait,function(){d.onWait()}),this.events.on(de.PlayerPlay,function(){d.onPlay()}),this.events.on(de.LoaderPlayListLoaded,function(y){typeof d.options.afterLoadPlaylist=="function"&&d.options.afterLoadPlaylist(d.laodData.sourceData);var C=y.loadData.sourceData;d.duration=C.duration,d.tsNumber=C.length,d.streamController.setBaseInfo({duration:d.duration,tsNumber:d.tsNumber}),d.dataController.startLoad(d.startTime),d.setStartTime(d.originStartTime)}),this.events.on(de.LoadDataFirstLoaded,function(y){d.logger.info("bindEvent","first data ready"),d.startIndex=y.no,d.streamController.currentIndex=y.no,d.checkReady("firstData")}),this.events.on(de.StreamDataReady,function(){d.logger.info("bindEvent","dataReady"),d.onDataReady()}),this.events.on(de.PlayerLoadedMetaData,function(y,C){d.setCanvas(),d.resizeScreen(y,C)}),this.events.on(de.PlayerEnd,function(){d.status="end"}),this.events.on(de.ImagePlayerBuffeUpdate,function(){var y=d.buffer();d.events.emit(de.PlayerbufferUpdate,y)}),this.events.on(de.PlayerOnSeek,function(y){d.seek(Math.floor(y))}),this.events.on(de.PlayerAlert,function(y){d.alertError.show(y)}),this.events.on(de.PlayerThrowError,function(y){J.a.apply(d,y)})}},{key:"reset",value:function(d){this.action&&this.action.reset(d)}},{key:"switchPlaylist",value:function(d,y){this.loaderController.switchPlaylist(d,y)}},{key:"changeSpeed",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.playbackRate=d.value||1}},{key:"setStartTime",value:function(d){this.startTime=d}},{key:"changeRate",value:function(d){this.pause(),this.events.emit(de.ControlBarPauseLoading,this),this.setStartTime((this.currentTime-5e3)/1e3),this.changing=!0,this.seeking=!1,this.imagePlayer.firstRender=!1,this.readyStatus={dataProcessor:!1,firstData:!1,audioPlayer:!1},this.reset(!0),this.switchPlaylist(d.url)}},{key:"changeSrc",value:function(d,y){this.pause(),this.events.emit(de.ControlBarPauseLoading,this),this.events.emit(de.PlayerChangeSrc,this),this.changing=!0,this.seeking=!1,this.imagePlayer.firstRender=!1,this.readyStatus={dataProcessor:!1,firstData:!1,audioPlayer:!1},this.currentTime=this.startTime,this.imagePlayer.clear(),this.reset(!0),this.switchPlaylist(d,y)}},{key:"setCanvas",value:function(){var d=Pe.createCanvas(this);if(W.isElement(this.$canvas)){if(this.$canvas.width&&this.$canvas.height)return this.imagePlayer.setScreenRender(d),this.$canvas.replaceWith(d),void(this.$canvas=d)}else this.$screen.appendChild(d),this.$canvas=d}},{key:"destroy",value:function(){this.controlBarController&&(this.controlBarController.destroy(),delete this.controlBarController),this.$container&&(this.el.removeChild(this.$container),delete this.$container),this.processController.destroy(),this.loaderController.destroy()}},{key:"run",value:function(){this.loaderController.run()}},{key:"checkReady",value:function(d){var y=this.readyStatus;if(d&&typeof d=="string"){y[d]=!0;for(var C=Object.keys(y),R=0;R<C.length;R++)if(!y[C[R]])return!1;return this.logger.info("checkReady","player ready"),this.events.emit(de.PlayerReady),!0}return this.logger.error("checkReady","check ready","type is no correct, type:",d),!1}},{key:"addEl",value:function(){var d,y,C,R;this.el?(d=Pe.createContainer(this),this.el.appendChild(d),this.$container=d,y=Pe.createScreenContainer(this),this.$screen=y,d.appendChild(y),this.$screenContainer=y,this.setCanvas(),R=Pe.createAudio(this),this.$audio=R,(C=Pe.createAudioContainer(this)).appendChild(R),this.$audioContainer=C,d.appendChild(C)):this.logger.error("addEl","not found el.","el:",this.options.el)}},{key:"onWait",value:function(){this.logger.info("onWait","wait,wait,wait")}},{key:"onPlay",value:function(){this.logger.info("onPlay","play, play, play")}},{key:"onReady",value:function(){this.changing||this.componentsController.run(),this.changing&&this.logger.info("onReady","change ready","startIndex:",this.startIndex),this.streamController.startLoad(this.startIndex)}},{key:"onDataReady",value:function(){this.changing&&(this.changing=!1,this.play()),(this.seeking||this.autoPlay&&!this.paused)&&this.play()}},{key:"buffer",value:function(){var d=this.imagePlayer.buffer(),y=this.audioPlayer.buffer(),C=Math.max(d.start,y.start),R=Math.min(d.end,y.end);return C<R?[C,R]:[0,0]}},{key:"play",value:function(){this.logger.info("play",this.status),this.status!=="playing"&&(this.logger.info("start play"),this.status="playing",this.paused=!1,this.action.play(this.currentTime),this.events.emit(de.PlayerPlay,this))}},{key:"on",value:function(d,y){this.events.on("Player."+d,y)}},{key:"off",value:function(d,y){this.events.off("Player."+d,y)}},{key:"once",value:function(d,y){this.events.once("Player."+d,y)}},{key:"pause",value:function(){this.status!="pause"&&(this.logger.info("pause"),this.status="pause",this.action.pause(),this.paused=!0,this.events.emit(de.PlayerPause,this))}},{key:"seek",value:function(d){d<this.startTime||(d>=1e3*this.duration?this.logger.info("seek","seek to time:",d):(this.seekTime=Date.now(),this.seeking=!0,this.currentTime=d,this.action.seek(d)))}},{key:"resizeScreen",value:function(d,y){W.adaptSizeElement(d,y,this.$screenContainer,this.$canvas)}},{key:"muted",get:function(){return T()(this,_o)},set:function(d){A()(this,_o,!!d)}},{key:"playbackRate",set:function(d){A()(this,Dc,d)},get:function(){return T()(this,Dc)}},{key:"seeking",set:function(d){A()(this,Mc,d),d?this.events.emit(de.PlayerSeeking):this.events.emit(de.PlayerSeekEnd)},get:function(){return T()(this,Mc)}},{key:"currentTime",get:function(){return T()(this,Ec)},set:function(d){A()(this,Ec,d)}},{key:"volume",get:function(){return this.audioPlayer.volume},set:function(d){this.audioPlayer.volume=d}}]),S}(ae),Vu=new WeakMap,Ec=new WeakMap,Mc=new WeakMap,Dc=new WeakMap,_o=new WeakMap,jR=function(E){function S(d,y){var C;return o()(this,S),C=c()(this,f()(S).call(this,d,y)),b()(p()(C),"libPath",null),C.options.processURL=y.processURL,C.libPath=y.libPath,C.options.needInit!==!1&&C.init(),C}return m()(S,E),u()(S,null,[{key:"getComponent",value:function(d){return ne[d]}},{key:"registerComponent",value:function(d,y){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"right",R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1;if(typeof d!="string"||!d)throw new Error('Illegal component name, "'.concat(d,'"; must be a non-empty string.'));var j=Object.prototype.isPrototypeOf.call(Xt,y.prototype);if(!j)throw new Error('Illegal component, "'.concat(d,'"; must be a BaseComponent subclass.'));ne[d]=y,Ue.addComponet(d),C==="left"?ee.addCustomControl(d,R):D.addCustomControl(d,R)}}]),S}(Sg);n.default=jR},function(r,n){r.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}},function(r,n){r.exports=function(i){return Function.toString.call(i).indexOf("[native code]")!==-1}},function(r,n,i){var a=function(o){var s=Object.prototype,u=s.hasOwnProperty,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",h=l.asyncIterator||"@@asyncIterator",f=l.toStringTag||"@@toStringTag";function v(z,G,Y,Q){var J=G&&G.prototype instanceof m?G:m,ae=Object.create(J.prototype),he=new U(Q||[]);return ae._invoke=function(ve,we,Te){var Le="suspendedStart";return function($e,se){if(Le==="executing")throw new Error("Generator is already running");if(Le==="completed"){if($e==="throw")throw se;return W()}for(Te.method=$e,Te.arg=se;;){var pe=Te.delegate;if(pe){var ge=F(pe,Te);if(ge){if(ge===g)continue;return ge}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(Le==="suspendedStart")throw Le="completed",Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);Le="executing";var be=p(ve,we,Te);if(be.type==="normal"){if(Le=Te.done?"completed":"suspendedYield",be.arg===g)continue;return{value:be.arg,done:Te.done}}be.type==="throw"&&(Le="completed",Te.method="throw",Te.arg=be.arg)}}}(z,Y,he),ae}function p(z,G,Y){try{return{type:"normal",arg:z.call(G,Y)}}catch(Q){return{type:"throw",arg:Q}}}o.wrap=v;var g={};function m(){}function _(){}function b(){}var w={};w[c]=function(){return this};var T=Object.getPrototypeOf,k=T&&T(T(H([])));k&&k!==s&&u.call(k,c)&&(w=k);var A=b.prototype=m.prototype=Object.create(w);function M(z){["next","throw","return"].forEach(function(G){z[G]=function(Y){return this._invoke(G,Y)}})}function O(z,G){var Y;this._invoke=function(Q,J){function ae(){return new G(function(he,ve){(function we(Te,Le,$e,se){var pe=p(z[Te],z,Le);if(pe.type!=="throw"){var ge=pe.arg,be=ge.value;return be&&typeof be=="object"&&u.call(be,"__await")?G.resolve(be.__await).then(function(Ce){we("next",Ce,$e,se)},function(Ce){we("throw",Ce,$e,se)}):G.resolve(be).then(function(Ce){ge.value=Ce,$e(ge)},function(Ce){return we("throw",Ce,$e,se)})}se(pe.arg)})(Q,J,he,ve)})}return Y=Y?Y.then(ae,ae):ae()}}function F(z,G){var Y=z.iterator[G.method];if(Y===void 0){if(G.delegate=null,G.method==="throw"){if(z.iterator.return&&(G.method="return",G.arg=void 0,F(z,G),G.method==="throw"))return g;G.method="throw",G.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var Q=p(Y,z.iterator,G.arg);if(Q.type==="throw")return G.method="throw",G.arg=Q.arg,G.delegate=null,g;var J=Q.arg;return J?J.done?(G[z.resultName]=J.value,G.next=z.nextLoc,G.method!=="return"&&(G.method="next",G.arg=void 0),G.delegate=null,g):J:(G.method="throw",G.arg=new TypeError("iterator result is not an object"),G.delegate=null,g)}function $(z){var G={tryLoc:z[0]};1 in z&&(G.catchLoc=z[1]),2 in z&&(G.finallyLoc=z[2],G.afterLoc=z[3]),this.tryEntries.push(G)}function B(z){var G=z.completion||{};G.type="normal",delete G.arg,z.completion=G}function U(z){this.tryEntries=[{tryLoc:"root"}],z.forEach($,this),this.reset(!0)}function H(z){if(z){var G=z[c];if(G)return G.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var Y=-1,Q=function J(){for(;++Y<z.length;)if(u.call(z,Y))return J.value=z[Y],J.done=!1,J;return J.value=void 0,J.done=!0,J};return Q.next=Q}}return{next:W}}function W(){return{value:void 0,done:!0}}return _.prototype=A.constructor=b,b.constructor=_,b[f]=_.displayName="GeneratorFunction",o.isGeneratorFunction=function(z){var G=typeof z=="function"&&z.constructor;return!!G&&(G===_||(G.displayName||G.name)==="GeneratorFunction")},o.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,b):(z.__proto__=b,f in z||(z[f]="GeneratorFunction")),z.prototype=Object.create(A),z},o.awrap=function(z){return{__await:z}},M(O.prototype),O.prototype[h]=function(){return this},o.AsyncIterator=O,o.async=function(z,G,Y,Q,J){J===void 0&&(J=Promise);var ae=new O(v(z,G,Y,Q),J);return o.isGeneratorFunction(G)?ae:ae.next().then(function(he){return he.done?he.value:ae.next()})},M(A),A[f]="Generator",A[c]=function(){return this},A.toString=function(){return"[object Generator]"},o.keys=function(z){var G=[];for(var Y in z)G.push(Y);return G.reverse(),function Q(){for(;G.length;){var J=G.pop();if(J in z)return Q.value=J,Q.done=!1,Q}return Q.done=!0,Q}},o.values=H,U.prototype={constructor:U,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(B),!z)for(var G in this)G.charAt(0)==="t"&&u.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=void 0)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var G=this;function Y(we,Te){return ae.type="throw",ae.arg=z,G.next=we,Te&&(G.method="next",G.arg=void 0),!!Te}for(var Q=this.tryEntries.length-1;Q>=0;--Q){var J=this.tryEntries[Q],ae=J.completion;if(J.tryLoc==="root")return Y("end");if(J.tryLoc<=this.prev){var he=u.call(J,"catchLoc"),ve=u.call(J,"finallyLoc");if(he&&ve){if(this.prev<J.catchLoc)return Y(J.catchLoc,!0);if(this.prev<J.finallyLoc)return Y(J.finallyLoc)}else if(he){if(this.prev<J.catchLoc)return Y(J.catchLoc,!0)}else{if(!ve)throw new Error("try statement without catch or finally");if(this.prev<J.finallyLoc)return Y(J.finallyLoc)}}}},abrupt:function(z,G){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var Q=this.tryEntries[Y];if(Q.tryLoc<=this.prev&&u.call(Q,"finallyLoc")&&this.prev<Q.finallyLoc){var J=Q;break}}J&&(z==="break"||z==="continue")&&J.tryLoc<=G&&G<=J.finallyLoc&&(J=null);var ae=J?J.completion:{};return ae.type=z,ae.arg=G,J?(this.method="next",this.next=J.finallyLoc,g):this.complete(ae)},complete:function(z,G){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&G&&(this.next=G),g},finish:function(z){for(var G=this.tryEntries.length-1;G>=0;--G){var Y=this.tryEntries[G];if(Y.finallyLoc===z)return this.complete(Y.completion,Y.afterLoc),B(Y),g}},catch:function(z){for(var G=this.tryEntries.length-1;G>=0;--G){var Y=this.tryEntries[G];if(Y.tryLoc===z){var Q=Y.completion;if(Q.type==="throw"){var J=Q.arg;B(Y)}return J}}throw new Error("illegal catch attempt")},delegateYield:function(z,G,Y){return this.delegate={iterator:H(z),resultName:G,nextLoc:Y},this.method==="next"&&(this.arg=void 0),g}},o}(r.exports);try{regeneratorRuntime=a}catch{Function("r","regeneratorRuntime = r")(a)}},function(r,n,i){(function(){var a=i(49),o=i(90);function s(u){var l=u.getContext("2d"),c=null,h=null,f=null;return this.drawFrame=function(v){var p=v.format;u.width===p.displayWidth&&u.height===p.displayHeight||(u.width=p.displayWidth,u.height=p.displayHeight),c!==null&&c.width==p.width&&c.height==p.height||function(w,T){for(var k=(c=l.createImageData(w,T)).data,A=w*T*4,M=0;M<A;M+=4)k[M+3]=255}(p.width,p.height),o.convertYCbCr(v,c.data);var g,m,_,b=p.cropWidth!=p.displayWidth||p.cropHeight!=p.displayHeight;b?(h||(m=p.cropWidth,_=p.cropHeight,(h=document.createElement("canvas")).width=m,h.height=_,f=h.getContext("2d")),g=f):g=l,g.putImageData(c,-p.cropLeft,-p.cropTop,p.cropLeft,p.cropTop,p.cropWidth,p.cropHeight),b&&l.drawImage(h,0,0,p.displayWidth,p.displayHeight)},this.clear=function(){l.clearRect(0,0,u.width,u.height)},this}s.prototype=Object.create(a.prototype),r.exports=s})()},function(r,n,i){(function(){var a=i(91);/**
	 * Basic YCbCr->RGB conversion
	 *
	 * @author Brion Vibber <brion@pobox.com>
	 * @copyright 2014-2019
	 * @license MIT-style
	 *
	 * @param {YUVFrame} buffer - input frame buffer
	 * @param {Uint8ClampedArray} output - array to draw RGBA into
	 * Assumes that the output array already has alpha channel set to opaque.
	 */r.exports={convertYCbCr:function(o,s){var u=0|o.format.width,l=0|o.format.height,c=0|a(o.format.width/o.format.chromaWidth),h=0|a(o.format.height/o.format.chromaHeight),f=o.y.bytes,v=o.u.bytes,p=o.v.bytes,g=0|o.y.stride,m=0|o.u.stride,_=0|o.v.stride,b=u<<2,w=0,T=0,k=0,A=0,M=0,O=0,F=0,$=0,B=0,U=0,H=0,W=0,z=0,G=0,Y=0,Q=0,J=0,ae=0;if(c==1&&h==1)for(F=0,$=b,ae=0,Q=0;Q<l;Q+=2){for(k=(T=Q*g|0)+g|0,A=ae*m|0,M=ae*_|0,Y=0;Y<u;Y+=2)B=0|v[A++],W=(409*(U=0|p[M++])|0)-57088|0,z=(100*B|0)+(208*U|0)-34816|0,G=(516*B|0)-70912|0,H=298*f[T++]|0,s[F]=H+W>>8,s[F+1]=H-z>>8,s[F+2]=H+G>>8,F+=4,H=298*f[T++]|0,s[F]=H+W>>8,s[F+1]=H-z>>8,s[F+2]=H+G>>8,F+=4,H=298*f[k++]|0,s[$]=H+W>>8,s[$+1]=H-z>>8,s[$+2]=H+G>>8,$+=4,H=298*f[k++]|0,s[$]=H+W>>8,s[$+1]=H-z>>8,s[$+2]=H+G>>8,$+=4;F+=b,$+=b,ae++}else for(O=0,Q=0;Q<l;Q++)for(J=0,w=Q*g|0,A=(ae=Q>>h)*m|0,M=ae*_|0,Y=0;Y<u;Y++)B=0|v[A+(J=Y>>c)],W=(409*(U=0|p[M+J])|0)-57088|0,z=(100*B|0)+(208*U|0)-34816|0,G=(516*B|0)-70912|0,H=298*f[w++]|0,s[O]=H+W>>8,s[O+1]=H-z>>8,s[O+2]=H+G>>8,O+=4}}})()},function(r,n){(function(){/**
* Convert a ratio into a bit-shift count; for instance a ratio of 2
* becomes a bit-shift of 1, while a ratio of 1 is a bit-shift of 0.
*
* @author Brion Vibber <brion@pobox.com>
* @copyright 2016
* @license MIT-style
*
* @param {number} ratio - the integer ratio to convert.
* @returns {number} - number of bits to shift to multiply/divide by the ratio.
* @throws exception if given a non-power-of-two
*/r.exports=function(i){for(var a=0,o=i>>1;o!=0;)o>>=1,a++;if(i!==1<<a)throw"chroma plane dimensions must be power of 2 ratio to luma plane dimensions; got "+i;return a}})()},function(r,n,i){(function(){var a=i(49),o=i(93);function s(u){var l,c,h=this,f=s.contextForCanvas(u);if(f===null)throw new Error("WebGL unavailable");function v(Y,Q){var J=f.createShader(Y);if(f.shaderSource(J,Q),f.compileShader(J),!f.getShaderParameter(J,f.COMPILE_STATUS)){var ae=f.getShaderInfoLog(J);throw f.deleteShader(J),new Error("GL shader compilation for "+Y+" failed: "+ae)}return J}var p,g,m,_,b,w,T,k,A,M,O=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),F={},$={},B={};function U(Y){return F[Y]||(F[Y]=f.createTexture()),F[Y]}function H(Y,Q,J,ae){var he=U(Y);if(f.activeTexture(f.TEXTURE0),s.stripe){var ve=!F[Y+"_temp"],we=U(Y+"_temp");f.bindTexture(f.TEXTURE_2D,we),ve?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,Q/4,J,0,f.RGBA,f.UNSIGNED_BYTE,ae)):f.texSubImage2D(f.TEXTURE_2D,0,0,0,Q/4,J,f.RGBA,f.UNSIGNED_BYTE,ae);var Te=F[Y+"_stripe"],Le=!Te;Le&&(Te=U(Y+"_stripe")),f.bindTexture(f.TEXTURE_2D,Te),Le&&(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,Q,1,0,f.RGBA,f.UNSIGNED_BYTE,function($e){if(B[$e])return B[$e];for(var se=$e,pe=new Uint32Array(se),ge=0;ge<se;ge+=4)pe[ge]=255,pe[ge+1]=65280,pe[ge+2]=16711680,pe[ge+3]=4278190080;return B[$e]=new Uint8Array(pe.buffer)}(Q)))}else f.bindTexture(f.TEXTURE_2D,he),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.LUMINANCE,Q,J,0,f.LUMINANCE,f.UNSIGNED_BYTE,ae)}function W(Y,Q,J){var ae=F[Y];f.useProgram(c);var he=$[Y];he||(f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,ae),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,Q,J,0,f.RGBA,f.UNSIGNED_BYTE,null),he=$[Y]=f.createFramebuffer()),f.bindFramebuffer(f.FRAMEBUFFER,he),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,ae,0);var ve=F[Y+"_temp"];f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,ve),f.uniform1i(w,1);var we=F[Y+"_stripe"];f.activeTexture(f.TEXTURE2),f.bindTexture(f.TEXTURE_2D,we),f.uniform1i(b,2),f.bindBuffer(f.ARRAY_BUFFER,p),f.enableVertexAttribArray(g),f.vertexAttribPointer(g,2,f.FLOAT,!1,0,0),f.bindBuffer(f.ARRAY_BUFFER,m),f.enableVertexAttribArray(_),f.vertexAttribPointer(_,2,f.FLOAT,!1,0,0),f.viewport(0,0,Q,J),f.drawArrays(f.TRIANGLES,0,O.length/2),f.bindFramebuffer(f.FRAMEBUFFER,null)}function z(Y,Q,J){f.activeTexture(Q),f.bindTexture(f.TEXTURE_2D,F[Y]),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.uniform1i(f.getUniformLocation(l,Y),J)}function G(Y,Q){var J=v(f.VERTEX_SHADER,Y),ae=v(f.FRAGMENT_SHADER,Q),he=f.createProgram();if(f.attachShader(he,J),f.attachShader(he,ae),f.linkProgram(he),!f.getProgramParameter(he,f.LINK_STATUS)){var ve=f.getProgramInfoLog(he);throw f.deleteProgram(he),new Error("GL program linking failed: "+ve)}return he}return h.drawFrame=function(Y){var Q=Y.format,J=!l||u.width!==Q.displayWidth||u.height!==Q.displayHeight;if(J&&(u.width=Q.displayWidth,u.height=Q.displayHeight,h.clear()),l||function(){if(s.stripe){c=G(o.vertexStripe,o.fragmentStripe),f.getAttribLocation(c,"aPosition"),m=f.createBuffer();var he=new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]);f.bindBuffer(f.ARRAY_BUFFER,m),f.bufferData(f.ARRAY_BUFFER,he,f.STATIC_DRAW),_=f.getAttribLocation(c,"aTexturePosition"),b=f.getUniformLocation(c,"uStripe"),w=f.getUniformLocation(c,"uTexture")}l=G(o.vertex,o.fragment),p=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,p),f.bufferData(f.ARRAY_BUFFER,O,f.STATIC_DRAW),g=f.getAttribLocation(l,"aPosition"),T=f.createBuffer(),k=f.getAttribLocation(l,"aLumaPosition"),A=f.createBuffer(),M=f.getAttribLocation(l,"aChromaPosition")}(),J){var ae=function(he,ve,we){var Te=Q.cropLeft/we,Le=(Q.cropLeft+Q.cropWidth)/we,$e=(Q.cropTop+Q.cropHeight)/Q.height,se=Q.cropTop/Q.height,pe=new Float32Array([Te,$e,Le,$e,Te,se,Te,se,Le,$e,Le,se]);f.bindBuffer(f.ARRAY_BUFFER,he),f.bufferData(f.ARRAY_BUFFER,pe,f.STATIC_DRAW)};ae(T,0,Y.y.stride),ae(A,0,Y.u.stride*Q.width/Q.chromaWidth)}H("uTextureY",Y.y.stride,Q.height,Y.y.bytes),H("uTextureCb",Y.u.stride,Q.chromaHeight,Y.u.bytes),H("uTextureCr",Y.v.stride,Q.chromaHeight,Y.v.bytes),s.stripe&&(W("uTextureY",Y.y.stride,Q.height),W("uTextureCb",Y.u.stride,Q.chromaHeight),W("uTextureCr",Y.v.stride,Q.chromaHeight)),f.useProgram(l),f.viewport(0,0,u.width,u.height),z("uTextureY",f.TEXTURE0,0),z("uTextureCb",f.TEXTURE1,1),z("uTextureCr",f.TEXTURE2,2),f.bindBuffer(f.ARRAY_BUFFER,p),f.enableVertexAttribArray(g),f.vertexAttribPointer(g,2,f.FLOAT,!1,0,0),f.bindBuffer(f.ARRAY_BUFFER,T),f.enableVertexAttribArray(k),f.vertexAttribPointer(k,2,f.FLOAT,!1,0,0),f.bindBuffer(f.ARRAY_BUFFER,A),f.enableVertexAttribArray(M),f.vertexAttribPointer(M,2,f.FLOAT,!1,0,0),f.drawArrays(f.TRIANGLES,0,O.length/2)},h.clear=function(){f.viewport(0,0,u.width,u.height),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT)},h.clear(),h}s.stripe=navigator.userAgent.indexOf("Windows")!==-1,s.contextForCanvas=function(u){var l={preferLowPowerToHighPerformance:!0,powerPreference:"low-power",failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!0};return u.getContext("webgl",l)||u.getContext("experimental-webgl",l)},s.isAvailable=function(){var u,l=document.createElement("canvas");l.width=1,l.height=1;try{u=s.contextForCanvas(l)}catch{return!1}if(u){var c=u.TEXTURE0,h=u.createTexture(),f=new Uint8Array(16),v=s.stripe?1:4,p=s.stripe?u.RGBA:u.LUMINANCE,g=s.stripe?u.NEAREST:u.LINEAR;return u.activeTexture(c),u.bindTexture(u.TEXTURE_2D,h),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,g),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,g),u.texImage2D(u.TEXTURE_2D,0,p,v,4,0,p,u.UNSIGNED_BYTE,f),!u.getError()}return!1},s.prototype=Object.create(a.prototype),r.exports=s})()},function(r,n){r.exports={vertex:`precision lowp float;

attribute vec2 aPosition;
attribute vec2 aLumaPosition;
attribute vec2 aChromaPosition;
varying vec2 vLumaPosition;
varying vec2 vChromaPosition;
void main() {
    gl_Position = vec4(aPosition, 0, 1);
    vLumaPosition = aLumaPosition;
    vChromaPosition = aChromaPosition;
}
`,fragment:`// inspired by https://github.com/mbebenita/Broadway/blob/master/Player/canvas.js

precision lowp float;

uniform sampler2D uTextureY;
uniform sampler2D uTextureCb;
uniform sampler2D uTextureCr;
varying vec2 vLumaPosition;
varying vec2 vChromaPosition;
void main() {
   // Y, Cb, and Cr planes are uploaded as LUMINANCE textures.
   float fY = texture2D(uTextureY, vLumaPosition).x;
   float fCb = texture2D(uTextureCb, vChromaPosition).x;
   float fCr = texture2D(uTextureCr, vChromaPosition).x;

   // Premultipy the Y...
   float fYmul = fY * 1.1643828125;

   // And convert that to RGB!
   gl_FragColor = vec4(
     fYmul + 1.59602734375 * fCr - 0.87078515625,
     fYmul - 0.39176171875 * fCb - 0.81296875 * fCr + 0.52959375,
     fYmul + 2.017234375   * fCb - 1.081390625,
     1
   );
}
`,vertexStripe:`precision lowp float;

attribute vec2 aPosition;
attribute vec2 aTexturePosition;
varying vec2 vTexturePosition;

void main() {
    gl_Position = vec4(aPosition, 0, 1);
    vTexturePosition = aTexturePosition;
}
`,fragmentStripe:`// extra 'stripe' texture fiddling to work around IE 11's poor performance on gl.LUMINANCE and gl.ALPHA textures

precision lowp float;

uniform sampler2D uStripe;
uniform sampler2D uTexture;
varying vec2 vTexturePosition;
void main() {
   // Y, Cb, and Cr planes are mapped into a pseudo-RGBA texture
   // so we can upload them without expanding the bytes on IE 11
   // which doesn't allow LUMINANCE or ALPHA textures
   // The stripe textures mark which channel to keep for each pixel.
   // Each texture extraction will contain the relevant value in one
   // channel only.

   float fLuminance = dot(
      texture2D(uStripe, vTexturePosition),
      texture2D(uTexture, vTexturePosition)
   );

   gl_FragColor = vec4(fLuminance, fLuminance, fLuminance, 1);
}
`}},function(r,n,i){i.r(n);var a=i(2),o=i.n(a),s=i(3),u=i.n(s),l=i(0),c=i.n(l),h=i(61),f=i.n(h),v=i(11),p=i.n(v),g=i(18),m=i.n(g),_=i(28),b=i.n(_),w=i(10),T=i(23),k=w.a.get("HTTP.js",{level:2}),A=function(){var U=b()(m.a.mark(function H(W){var z;return m.a.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!(W instanceof Blob)){G.next=5;break}return G.next=3,new Response(W).arrayBuffer();case 3:return z=G.sent,G.abrupt("return",new Uint8Array(z,0));case 5:case"end":return G.stop()}},H)}));return function(H){return U.apply(this,arguments)}}(),M=function(U){if(U)return Object.entries(U).reduce(function(H,W,z){var G=f()(W,2),Y=G[0],Q=G[1];return H+(z===0?Y+"="+encodeURIComponent(Q):"&"+Y+"="+encodeURIComponent(Q))},"")};function O(U,H){var W=(typeof U.clone=="function"?U.clone():void 0)||U,z=function(G,Y){var Q={body:Y,headers:function(J){return J.headers.entries?function(ae){var he=Object.create(Object.getPrototypeOf(ae.headers)),ve=!0,we=!1,Te=void 0;try{for(var Le,$e=ae.headers.entries()[Symbol.iterator]();!(ve=(Le=$e.next()).done);ve=!0){var se=f()(Le.value,2),pe=se[0],ge=se[1];he[pe]=ge}}catch(be){we=!0,Te=be}finally{try{ve||$e.return==null||$e.return()}finally{if(we)throw Te}}return he}(J):function(ae){var he={},ve=ae.headers.__headers__;for(var we in ve)he[we]=ve[we].join("");return he}(J)}(G),response:G,status:G.status,statusText:G.statusText};return G.ok?Promise.resolve(Q):Promise.reject(Q)};return U[H]().then(function(G){return z(W,G)})}function F(U,H){var W=U.headers.get("content-type"),z=U.clone().body.getReader(),G=0,Y=G,Q=setInterval(function(){var J=50*(G-Y);J<=1||(k.info("HTTP>handleResponse","".concat(Y," | ").concat(G),"".concat(J.toFixed(2)," Bytes/s")),self.postMessage({type:"notice",method:"fetch",noticeType:"speed",data:{speed:J,intervalValue:20,lastReceived:Y,bytesReceived:G}}),Y=G)},20);return z.read().then(function J(ae){return ae.done?(clearInterval(Q),function(){if(H==="ts"||H==="video")return O(U,"blob");if(W.includes("json"))return O(U,"json");if(W.includes("text"))return O(U,"text");if(W.includes("form"))return O(U,"formData");if(W.includes("video")||W.includes("image")||W.includes("octet-stream"))return O(U,"blob");try{return O(U,"text")}catch(he){return Object(T.a)(he,"[HTTP>handleResponse:unknow content-type]",W,U),Promise.resolve(U)}}()):(G+=ae.value.length,z.read().then(J))})}var $=null,B=($||($=new(function(){function U(W){o()(this,U),c()(this,"options",{"content-type":"application/json;charset=UTF-8",cache:"no-cache",mode:"cors"}),Object.assign(this.options,W)}var H;return u()(U,[{key:"setOptions",value:function(W){var z=Object.assign(this.options,W);z.url=function(G){var Y=G.url,Q=G.params;return Q?Y+"?"+M(Q):Y}(z),z.method=z.method||"get",z.headers=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=G.headers,Q=Y===void 0?{}:Y,J=G.method,ae=J===void 0?"get":J,he=G.username,ve=G.password,we=G.token,Te=new Headers(Q);if(he||ve){if(!he)throw new TypeError("username required for basic authentication");if(!ve)throw new TypeError("password required for basic authentication");var Le=(typeof win>"u"?"undefined":p()(win))==="object"&&win.btoa?btoa:function($e){return $e};Te.set("Authorization","Basic "+Le(he+":"+ve))}return we&&Te.set("Authorization","Bearer "+we),ae==="get"||Te.get("content-type")||Te.set("content-type","application/json"),Te}(z),z.body=function(G){var Y=G.headers.get("content-type");if(Y)return Y.includes("json")?JSON.stringify(G.body):Y.includes("x-www-form-urlencoded")?M(G.body):G.body}(z),delete z.username,delete z.password,delete z.token,this.options=z}},{key:"request",value:function(W){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=arguments.length>2?arguments[2]:void 0;if(W)return this.setOptions(Object.assign({url:W},z)),fetch(this.options.url,this.options).then(function(Y){return F(Y,G)});k.error("[HTTP>request]","url is undefined","url:",W,"options:",z)}},{key:"fetch",value:function(W){function z(G){return W.apply(this,arguments)}return z.toString=function(){return W.toString()},z}(function(){var W=b()(m.a.mark(function z(G){var Y,Q,J,ae,he=arguments;return m.a.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(Y=he.length>1&&he[1]!==void 0?he[1]:{},Q=he.length>2?he[2]:void 0,J=he.length>3?he[3]:void 0,G){ve.next=6;break}return k.wran("[HTTP>fetch]","url is undefined","url:",G,"options:",Y),ve.abrupt("return");case 6:return this.setOptions(Object.assign({url:G},Y)),k.info("[HTTP>fetch]","http fetch","url:",G,"options:",Y),ve.next=10,fetch(G,Y);case 10:(ae=ve.sent).ok?ae.text().then(function(we){self.postMessage({type:"invoke",method:"fetch",fileType:J,name:Q,data:we})}):self.postMessage({result:"failed"});case 12:case"end":return ve.stop()}},z,this)}));return function(z){return W.apply(this,arguments)}}())},{key:"get",value:(H=b()(m.a.mark(function W(z){var G,Y,Q,J,ae,he=arguments;return m.a.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return G=he.length>1&&he[1]!==void 0?he[1]:{},Y=he.length>2?he[2]:void 0,Q=he.length>3?he[3]:void 0,G.method="get",k.info("[HTTP>get]","http get","url:",z,"options:",G,"name:",Y,"fileType:",Q),ae={type:"invoke",method:"get",fileType:Q,name:Y,url:z},ve.prev=6,ve.next=9,this.request.call(this,z,G,Q);case 9:J=ve.sent,ve.next=15;break;case 12:ve.prev=12,ve.t0=ve.catch(6),k.error("[HTTP>get]","networks error","url:",z,"options:",G,"name:",Y,"fileType:",Q,"ex:",ve.t0);case 15:if(!J||!J.body){ve.next=24;break}if(ae.data=J.body,Q!=="ts"&&Q!=="video"){ve.next=21;break}return ve.next=20,A(ae.data);case 20:ae.arrayBuffer=ve.sent;case 21:ae.arrayBuffer?self.postMessage(ae,[ae.arrayBuffer.buffer]):self.postMessage(ae),ve.next=27;break;case 24:ae.type="error",ae.data=J,self.postMessage(ae);case 27:case"end":return ve.stop()}},W,this,[[6,12]])})),function(W){return H.apply(this,arguments)})}]),U}())({})),$);n.default=function(U){U.onmessage=function(H){var W=H.data,z=W.type,G=W.method;switch(z){case"invoke":B[G].call(B,W.url,W.options,W.name,W.fileType)}}}},function(r,n){r.exports=function(i){if(Array.isArray(i))return i}},function(r,n){r.exports=function(i,a){if(typeof Symbol<"u"&&Symbol.iterator in Object(i)){var o=[],s=!0,u=!1,l=void 0;try{for(var c,h=i[Symbol.iterator]();!(s=(c=h.next()).done)&&(o.push(c.value),!a||o.length!==a);s=!0);}catch(f){u=!0,l=f}finally{try{s||h.return==null||h.return()}finally{if(u)throw l}}return o}}},function(r,n,i){var a=i(98);r.exports=function(o,s){if(o){if(typeof o=="string")return a(o,s);var u=Object.prototype.toString.call(o).slice(8,-1);return u==="Object"&&o.constructor&&(u=o.constructor.name),u==="Map"||u==="Set"?Array.from(o):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?a(o,s):void 0}}},function(r,n){r.exports=function(i,a){(a==null||a>i.length)&&(a=i.length);for(var o=0,s=new Array(a);o<a;o++)s[o]=i[o];return s}},function(r,n){r.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(r,n,i){i.r(n);var a,o=i(2),s=i.n(o),u=i(3),l=i.n(u),c=i(9),h=function(){function re(N){s()(this,re),this.decode=N,this.result=[]}return l()(re,[{key:"openDecode",value:function(){var N=this,L=Module.addFunction(function(I,Z,oe,le,me,Pe,ze,Be,Ze){var Ke=HEAPU8.subarray(I,I+le*Be),Pt=HEAPU8.subarray(Z,Z+me*Be/2),ir=HEAPU8.subarray(oe,oe+Pe*Be/2),nt={stride_y:le,stride_u:me,stride_v:Pe,width:ze,height:Be,buf_y:new Uint8Array(Ke),buf_u:new Uint8Array(Pt),buf_v:new Uint8Array(ir),pts:Ze};N.result.push(nt)});Module._openDecoder(L,1)}},{key:"decodeData",value:function(N,L){var I=N.length,Z=Module._malloc(I);Module.HEAPU8.set(N,Z),Module._decodeData(Z,I,L),Module._free(Z)}},{key:"flush",value:function(){for(Module._flushDecoder();this.checkData();)this.decode.getDecodeYUV()}},{key:"closeDecode",value:function(){Module._closeDecoder()}},{key:"getYUV",value:function(){var N=null;return this.result.length>0&&(N=this.result.shift()),N}},{key:"checkData",value:function(){return this.result.length>0}}]),re}(),f=function(){function re(N){s()(this,re),this.decode=N}return l()(re,[{key:"openDecode",value:function(){return _web_decoder_open()}},{key:"closeDecode",value:function(N){_web_decoder_close(N)}},{key:"decodeData",value:function(N,L,I){var Z=N.length||0;Module.ccall("web_decoder_decode_frame","number",["number","array","number","number"],[I,N,Z,L])}},{key:"flush",value:function(N){var L=this.decode;if(_web_decoder_decode_frame)for(;!(_web_decoder_decode_frame(N,null,0,0)<0||!_web_got_frame(N));)L.getDecodeYUV(N)}},{key:"getYUV",value:function(N){var L=_web_get_stride_y(N),I=_web_get_stride_u(N),Z=_web_get_stride_v(N),oe=_web_get_width(N),le=_web_get_height(N),me=_web_get_frame_y(N),Pe=_web_get_frame_u(N),ze=_web_get_frame_v(N),Be=parseInt(_web_got_frame_pts(N)*c.a*1e3),Ze=HEAPU8.subarray(me,me+L*le),Ke=HEAPU8.subarray(Pe,Pe+I*le/2),Pt=HEAPU8.subarray(ze,ze+Z*le/2);return{stride_y:L,stride_u:I,stride_v:Z,width:oe,height:le,buf_y:new Uint8Array(Ze),buf_u:new Uint8Array(Ke),buf_v:new Uint8Array(Pt),pts:Be}}},{key:"checkData",value:function(N){return _web_got_frame(N)}}]),re}(),v=function(){function re(){s()(this,re),this.p=null,this.ptsList=[],this.ptsOffset=0,this.fps=0,this.lastDuration=0,this.previousPTS=0,this.status=!1,this.yuvArray=[],this.decodeTool=null}return l()(re,[{key:"loadWASM",value:function(N){var L=N.data.libPath;self.Module={locateFile:function(I){return L+I}},self.importScripts(L+"libffmpeg.js"),self.Module.onRuntimeInitialized=function(){console.log("wasm loaded"),Module._web_decoder_open?self.decode.decodeTool=new f(self.decode,this.event):self.decode.decodeTool=new h(self.decode,this.event),self.decode.openDecode(),self.decode.onWasmLoaded()}}},{key:"openDecode",value:function(){try{this.status||(this.p=this.decodeTool.openDecode(),this.status=!0),console.log("opendecode")}catch(N){console.error(N)}}},{key:"closeDecode",value:function(){this.status&&(this.decodeTool.closeDecode(this.p),this.status=!1)}},{key:"push",value:function(N){var L=this;N.forEach(function(I){var Z=I.PTS,oe=I.data_byte,le=I.partEnd,me=I.lastTS,Pe=L.ptsList;L.insertSort(Pe,parseInt(Z*c.a*1e3)),L.decodeTool.decodeData(oe,Z,L.p),L.decodeTool.checkData(L.p)&&L.getDecodeYUV(L.p,le,me)})}},{key:"getDecodeYUV",value:function(N,L,I){if(!this.reseting){var Z=0;this.fps||(this.fps=this.getFPS());var oe=this.decodeTool.getYUV(N),le=this.ptsList.shift();oe.pts=le,this.previousPTS&&le?(Z=parseInt(le-this.previousPTS),this.lastDuration=Z):Z=this.lastDuration,oe.duration=Z,oe.fps=this.fps,le&&(this.previousPTS=le,this.yuvArray.push(oe),this.yuvArray.length>10&&(self.postMessage({type:"decoded",data:this.yuvArray}),this.yuvArray=[])),L&&(this.yuvArray.length&&(self.postMessage({type:"decoded",data:this.yuvArray}),this.yuvArray=[]),self.postMessage({type:"partEnd",data:I}))}}},{key:"reset",value:function(){this.reseting=!0,this.ptsList=[],this.ptsOffset=0,this.previousPTS=0,this.fps=0,this.yuvArray=[],this.closeDecode(),this.openDecode(),self.postMessage({type:"resetEnd",data:Date.now()}),this.reseting=!1}},{key:"flush",value:function(){this.decodeTool.flush(this.p),this.yuvArray.length&&(self.postMessage({type:"decoded",data:this.yuvArray}),this.yuvArray=[]),this.closeDecode(),self.postMessage({type:"flushEnd",data:this.previousPTS})}},{key:"getFPS",value:function(){var N=this.ptsList;return N.length>=2?Math.round(1e3/(N[1]-N[0])):null}},{key:"onWasmLoaded",value:function(){self.postMessage({type:"dataProcessorReady"})}},{key:"insertSort",value:function(N,L){var I=N.length;if(I!==0){for(var Z=0;Z<I;Z++)if(L<N[Z]){for(var oe=I;oe>Z;)N[oe]=N[oe-1],oe--;return void(N[Z]=L)}N.push(L)}else N.push(L)}}]),re}(),p=i(0),g=i.n(p);function m(re,N,L){return(m=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(I,Z,oe){var le=function(Pe,ze){for(;!Object.prototype.hasOwnProperty.call(Pe,ze)&&(Pe=$(Pe))!==null;);return Pe}(I,Z);if(le){var me=Object.getOwnPropertyDescriptor(le,Z);return me.get?me.get.call(oe):me.value}})(re,N,L||re)}function _(re){return function(N){if(Array.isArray(N)){for(var L=0,I=new Array(N.length);L<N.length;L++)I[L]=N[L];return I}}(re)||function(N){if(Symbol.iterator in Object(N)||Object.prototype.toString.call(N)==="[object Arguments]")return Array.from(N)}(re)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(re){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(re)}function w(re,N){return!N||b(N)!=="object"&&typeof N!="function"?T(re):N}function T(re){if(re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re}function k(re,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");re.prototype=Object.create(N&&N.prototype,{constructor:{value:re,writable:!0,configurable:!0}}),N&&F(re,N)}function A(re){var N=typeof Map=="function"?new Map:void 0;return(A=function(L){if(L===null||(I=L,Function.toString.call(I).indexOf("[native code]")===-1))return L;var I;if(typeof L!="function")throw new TypeError("Super expression must either be null or a function");if(N!==void 0){if(N.has(L))return N.get(L);N.set(L,Z)}function Z(){return O(L,arguments,$(this).constructor)}return Z.prototype=Object.create(L.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),F(Z,L)})(re)}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function O(re,N,L){return(O=M()?Reflect.construct:function(I,Z,oe){var le=[null];le.push.apply(le,Z);var me=new(Function.bind.apply(I,le));return oe&&F(me,oe.prototype),me}).apply(null,arguments)}function F(re,N){return(F=Object.setPrototypeOf||function(L,I){return L.__proto__=I,L})(re,N)}function $(re){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)})(re)}function B(re,N){if(!(re instanceof N))throw new TypeError("Cannot call a class as a function")}function U(re,N){for(var L=0;L<N.length;L++){var I=N[L];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(re,I.key,I)}}function H(re,N,L){return N&&U(re.prototype,N),L&&U(re,L),re}(function(re){re.ERROR="ERROR",re.INFO="INFO",re.DATA="DATA",re.DEMUX_DATA="DEMUX_DATA",re.DONE="DONE"})(a||(a={}));var W,z=Object.create||function(re){var N=function(){};return N.prototype=re,new N},G=Object.keys||function(re){for(var N in re)Object.prototype.hasOwnProperty.call(re,N);return N},Y=Function.prototype.bind||function(re){var N=this;return function(){return N.apply(re,arguments)}},Q=10,J=function(){function re(){B(this,re),this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=z(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}return H(re,[{key:"emit",value:function(N){for(var L=arguments.length,I=new Array(L>1?L-1:0),Z=1;Z<L;Z++)I[Z-1]=arguments[Z];var oe,le,me,Pe,ze,Be,Ze=N==="error";if(Be=this._events)Ze=Ze&&Be.error==null;else if(!Ze)return!1;if(Ze){if(arguments.length>1&&(oe=arguments[1]),oe instanceof Error)throw oe;var Ke=new Error('Unhandled "error" event. ('+oe+")");throw Ke.context=oe,Ke}if(!(le=Be[N]))return!1;var Pt=typeof le=="function";switch(me=arguments.length){case 1:he(le,Pt,this);break;case 2:ve(le,Pt,this,arguments[1]);break;case 3:we(le,Pt,this,arguments[1],arguments[2]);break;case 4:Te(le,Pt,this,arguments[1],arguments[2],arguments[3]);break;default:for(Pe=new Array(me-1),ze=1;ze<me;ze++)Pe[ze-1]=arguments[ze];Le(le,Pt,this,Pe)}return!0}},{key:"on",value:function(N,L){return function(I,Z,oe){var le,me,Pe;if(typeof oe!="function")throw new TypeError('"listener" argument must be a function');if((me=I._events)?(me.newListener&&(I.emit("newListener",Z,oe.listener?oe.listener:oe),me=I._events),Pe=me[Z]):(me=I._events=z(null),I._eventsCount=0),Pe){if(typeof Pe=="function"?Pe=me[Z]=[Pe,oe]:Pe.push(oe),!Pe.warned&&(le=function(Be){return Be._maxListeners===void 0?re.defaultMaxListeners:Be._maxListeners}(I))&&le>0&&Pe.length>le){Pe.warned=!0;var ze=new(function(Be){function Ze(){return B(this,Ze),w(this,$(Ze).apply(this,arguments))}return k(Ze,Be),Ze}(A(Error)))("Possible Dispatcher memory leak detected. "+Pe.length+' "'+String(Z)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');ze.name="MaxListenersExceededWarning",ze.emitter=I,ze.type=Z,ze.count=Pe.length,(typeof console>"u"?"undefined":b(console))==="object"&&console.warn&&console.warn("%s: %s",ze.name,ze.message)}}else Pe=me[Z]=oe,++I._eventsCount;return I}(this,N,L)}},{key:"once",value:function(N,L){if(typeof L!="function")throw new TypeError('"listener" argument must be a function');return this.on(N,function(I,Z,oe){var le={fired:!1,wrapFn:void 0,target:I,type:Z,listener:oe},me=Y.call(se,le);return me.listener=oe,le.wrapFn=me,me}(this,N,L)),this}},{key:"off",value:function(N,L){return $e.call(this,N,L)}},{key:"removeAllListeners",value:function(N){var L,I,Z;if(!(I=this._events))return this;if(!I.off)return arguments.length===0?(this._events=z(null),this._eventsCount=0):I[N]&&(--this._eventsCount==0?this._events=z(null):delete I[N]),this;if(arguments.length===0){var oe,le=G(I);for(Z=0;Z<le.length;++Z)(oe=le[Z])!=="off"&&this.removeAllListeners(oe);return this.removeAllListeners("off"),this._events=z(null),this._eventsCount=0,this}if(typeof(L=I[N])=="function")this.off(N,L);else if(L)for(Z=L.length-1;Z>=0;Z--)this.off(N,L[Z]);return this}},{key:"listeners",value:function(N){return pe(this,N,!0)}},{key:"rawListeners",value:function(N){return pe(this,N,!1)}},{key:"listenerCount",value:function(){return re.listenerCount.apply(this,arguments)}}],[{key:"listenerCount",value:function(N,L){return typeof N.listenerCount=="function"?N.listenerCount(L):ge.call(N,L)}}]),re}();try{var ae={};Object.defineProperty&&Object.defineProperty(ae,"x",{value:0}),W=ae.x===0}catch{W=!1}function he(re,N,L){if(N)re.call(L);else for(var I=re.length,Z=be(re,I),oe=0;oe<I;++oe)try{Z[oe].call(L)}catch(le){console.error(le)}}function ve(re,N,L,I){if(N)re.call(L,I);else for(var Z=re.length,oe=be(re,Z),le=0;le<Z;++le)try{oe[le].call(L,I)}catch(me){console.error(me)}}function we(re,N,L,I,Z){if(N)re.call(L,I,Z);else for(var oe=re.length,le=be(re,oe),me=0;me<oe;++me)try{le[me].call(L,I,Z)}catch(Pe){console.error(Pe)}}function Te(re,N,L,I,Z,oe){if(N)re.call(L,I,Z,oe);else for(var le=re.length,me=be(re,le),Pe=0;Pe<le;++Pe)try{me[Pe].call(L,I,Z,oe)}catch(ze){console.error(ze)}}function Le(re,N,L,I){if(N)re.apply(L,I);else for(var Z=re.length,oe=be(re,Z),le=0;le<Z;++le)try{oe[le].apply(L,I)}catch(me){console.error(me)}}function $e(re,N){var L,I,Z,oe,le;if(typeof N!="function")throw new TypeError('"listener" argument must be a function');if(!(I=this._events))return this;if(!(L=I[re]))return this;if(L===N||L.listener===N)--this._eventsCount==0?this._events=z(null):(delete I[re],I.off&&this.emit("off",re,L.listener||N));else if(typeof L!="function"){for(Z=-1,oe=L.length-1;oe>=0;oe--)if(L[oe]===N||L[oe].listener===N){le=L[oe].listener,Z=oe;break}if(Z<0)return this;Z===0?L.shift():function(me,Pe){for(var ze=Pe,Be=ze+1,Ze=me.length;Be<Ze;ze+=1,Be+=1)me[ze]=me[Be];me.pop()}(L,Z),L.length===1&&(I[re]=L[0]),I.off&&this.emit("off",re,le||N)}return this}function se(){if(!this.fired)switch(this.target.off(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var re=new Array(arguments.length),N=0;N<re.length;++N)re[N]=arguments[N];this.listener.apply(this.target,re)}}function pe(re,N,L){var I=re._events;if(!I)return[];var Z=I[N];return Z?typeof Z=="function"?L?[Z.listener||Z]:[Z]:L?function(oe){for(var le=new Array(oe.length),me=0;me<le.length;++me)le[me]=oe[me].listener||oe[me];return le}(Z):be(Z,Z.length):[]}function ge(re){var N=this._events;if(N){var L=N[re];if(typeof L=="function")return 1;if(L)return L.length}return 0}function be(re,N){for(var L=new Array(N),I=0;I<N;++I)L[I]=re[I];return L}W?Object.defineProperty(J,"defaultMaxListeners",{enumerable:!0,get:function(){return Q},set:function(re){if(typeof re!="number"||re<0||re!=re)throw new TypeError('"defaultMaxListeners" must be a positive number');Q=re}}):J.defaultMaxListeners=Q;var Ce=function(re){function N(){return B(this,N),w(this,$(N).apply(this,arguments))}return k(N,re),N}(J),He=Object.prototype.toString;function Ie(re){return!!re&&b(re)=="object"}function Ne(re){return typeof re=="number"&&!isNaN(re)}function vt(re){return Ie(re)&&He.call(re).toLowerCase()==="[object arraybuffer]"}var Yt,It=function(){function re(){B(this,re),this.list_=[]}return H(re,[{key:"clear",value:function(){var N=this.list_.length;N>0&&this.list_.splice(0,N),this.byteLength_=null}},{key:"toNewBytes",value:function(){for(var N=null,L=0;N===null;)try{L++,N=new Uint8Array(this.byteLength)}catch(le){if(L>50)throw le}for(var I=0,Z=0;I<this.list_.length;I++){var oe=this.list_[I];N.set(oe,Z),Z+=oe.byteLength}return N}},{key:"append",value:function(N){N instanceof re?this.list_=this.list_.concat(N.bufferList):this.list_.push(N),this.byteLength_=null}},{key:"cut",value:function(N){var L=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],I=null;if(N>0&&!this.empty){for(var Z=this.list_,oe=0,le=0;Z.length>0;){var me=Z.shift();if(le!==0){var Pe=N-oe;if(me.byteLength>=Pe){L&&I.set(me.subarray(0,Pe),oe),(me=me.subarray(Pe)).byteLength>0&&Z.unshift(me);break}L&&I.set(me,oe),oe+=me.byteLength;break}if(me.byteLength>=N){L&&(I=me.subarray(0,N)),me.byteLength>N&&(me=me.subarray(N),Z.unshift(me));break}if(L){try{I=new Uint8Array(N)}catch(ze){throw"alloc_memory_error@ cache buffer: ".concat(N," ").concat(ze.message)}I.set(me,0)}oe+=me.byteLength,le++}this.byteLength_=null}return I}},{key:"byteLength",get:function(){if(!Ne(this.byteLength_)){for(var N=0,L=0;L<this.list_.length;L++)N+=this.list_[L].byteLength;this.byteLength_=N}return this.byteLength_}},{key:"bytes",get:function(){var N=this.bufferList,L=null;return N.length>0&&(L=N.length===0?N[0]:this.toNewBytes()),L}},{key:"empty",get:function(){return this.list_.length===0}},{key:"bufferList",get:function(){return this.list_}}]),re}(),hn=function(){function re(){B(this,re),this.map_={}}return H(re,[{key:"push",value:function(N,L){Object.prototype.hasOwnProperty.call(this.map_,N)?this.map_[N].push(L):this.map_[N]=[L]}},{key:"get",value:function(N){var L=this.map_[N];return L?L.slice():null}},{key:"getAll",value:function(){var N=[];for(var L in this.map_)N.push.apply(N,this.map_[L]);return N}},{key:"remove",value:function(N,L){var I=this.map_[N];if(I)for(var Z=0;Z<I.length;++Z)I[Z]==L&&(I.splice(Z,1),--Z)}},{key:"clear",value:function(){this.map_={}}},{key:"forEach",value:function(N){for(var L in this.map_)N(L,this.map_[L])}}]),re}(),Yr=function(){function re(N,L,I){B(this,re),this.target=N,this.type=L,this.listener=I,this.target.addEventListener?this.target.addEventListener(L,I,!1):this.target.on&&this.target.on(L,I,!1)}return H(re,[{key:"off",value:function(){this.target.removeEventListener?this.target.removeEventListener(this.type,this.listener,!1):this.target.off&&this.target.off(this.type,this.listener,!1),this.target=null,this.listener=null}}]),re}(),de=function(){function re(){B(this,re),this.bindingMap_=new hn}return H(re,[{key:"destroy",value:function(){this.removeAll(),this.bindingMap_=null}},{key:"on",value:function(N,L,I){if(this.bindingMap_){var Z=new Yr(N,L,I);return this.bindingMap_.push(L,Z),this}}},{key:"once",value:function(N,L,I){this.on(N,L,function(Z){this.off(N,L),I(Z)}.bind(this))}},{key:"off",value:function(N,L){if(this.bindingMap_)for(var I=this.bindingMap_.get(L)||[],Z=0;Z<I.length;++Z){var oe=I[Z];oe.target==N&&(oe.off(),this.bindingMap_.remove(L,oe))}}},{key:"removeAll",value:function(){if(this.bindingMap_){for(var N=this.bindingMap_.getAll(),L=0;L<N.length;++L)N[L].off();this.bindingMap_.clear()}}}]),re}(),Vt=(typeof window>"u"?self:window).console,Ar=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof importScripts<"u",yr=">>>",Ae=new(function(re){function N(){var L;return B(this,N),(L=w(this,$(N).call(this)))._enable=!1,L}return k(N,re),H(N,[{key:"log",value:function(){for(var L=arguments.length,I=new Array(L),Z=0;Z<L;Z++)I[Z]=arguments[Z];var oe;Ar?Ae.emit(this.MSG_NAME,"log",[].concat(I).join("")):this._enable&&(oe=Vt.log).call.apply(oe,[Vt,yr].concat(I))}},{key:"debug",value:function(){for(var L=arguments.length,I=new Array(L),Z=0;Z<L;Z++)I[Z]=arguments[Z];var oe;Ar?Ae.emit(this.MSG_NAME,"debug",[].concat(I).join("")):this._enable&&Vt.debug&&(oe=Vt.debug).call.apply(oe,[Vt,yr].concat(I))}},{key:"assert",value:function(){if(this._enable&&Vt.assert){for(var L,I=arguments.length,Z=new Array(I),oe=0;oe<I;oe++)Z[oe]=arguments[oe];var le=Z[0],me=Array.prototype.slice.call(Z,1);me.unshift(yr),(L=Vt.assert).call.apply(L,[Vt,le].concat(_(me)))}}},{key:"warn",value:function(){for(var L=arguments.length,I=new Array(L),Z=0;Z<L;Z++)I[Z]=arguments[Z];var oe;Ar?Ae.emit(this.MSG_NAME,"warn",[].concat(I).join("")):this._enable&&(oe=Vt.warn).call.apply(oe,[Vt,yr].concat(I))}},{key:"error",value:function(){for(var L=arguments.length,I=new Array(L),Z=0;Z<L;Z++)I[Z]=arguments[Z];var oe;Ar?Ae.emit(this.MSG_NAME,"error",[].concat(I).join("")):this._enable&&(oe=Vt.error).call.apply(oe,[Vt,yr].concat(I))}},{key:"enable",get:function(){return this._enable},set:function(L){this._enable=L,this.MSG_NAME="__log__"}}]),N}(J)),yt=function(re){function N(){return B(this,N),w(this,$(N).call(this))}return k(N,re),H(N,[{key:"pipe",value:function(L){return this.on("reset",function(){L.reset()}),this.on("data",function(I){L.push(I)}),this.on("done",function(I){L.flush(I)}),L}},{key:"unpipe",value:function(){return this.removeAllListeners("reset"),this.removeAllListeners("data"),this.removeAllListeners("done"),this}},{key:"push",value:function(L,I){this.emit("data",L)}},{key:"flush",value:function(L){this.emit("done",L)}},{key:"reset",value:function(){this.emit("reset")}}]),N}(J),pr=function(re){function N(){var L,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return B(this,N),L=w(this,$(N).call(this)),I.debug&&(Ae.enable=!0),L.ctx_=new Ce,L.options_=I,L.cache_buffer_=new It,L}return k(N,re),H(N,[{key:"listenEndStream_",value:function(){var L=this;this.eventManager_=new de,this.eventManager_.on(this.endStream,"data",function(I){L.emit(a.DEMUX_DATA,I)}).on(this.endStream,"done",function(I){L.emit(a.DONE,I)}).on(this.ctx_,"error",function(I){L.emit(a.ERROR,I)})}},{key:"constraintPushData_",value:function(L){var I,Z=null;return vt(L)||Ie(I=L)&&He.call(I).toLowerCase()==="[object uint8array]"?Z=vt(L)?new Uint8Array(L):L:(Ae.error("Data pushed is not an ArrayBuffer or Uint8Array: ".concat(L)),Z)}},{key:"reset",value:function(){}},{key:"destroy",value:function(){this.unpipe(),this.endStream.unpipe(),this.eventManager_.removeAll()}}]),N}(yt);(function(re){re[re.WORKER_EXCEPTION=0]="WORKER_EXCEPTION",re[re.WORKER_MSG_EXCEPTION=1]="WORKER_MSG_EXCEPTION",re[re.TS_SYNC_BYTE=2]="TS_SYNC_BYTE",re[re.FLV_HEAD_SIGNATURE=3]="FLV_HEAD_SIGNATURE",re[re.FLV_NOT_EXPECTED_ADJACENT_DATA=4]="FLV_NOT_EXPECTED_ADJACENT_DATA"})(Yt||(Yt={}));var dn=Yt;function Bn(re){var N=0;return ArrayBuffer.isView(re)&&(N=re.byteOffset,re=re.buffer),new DataView(re,N)}var Si=function(){function re(){B(this,re)}return H(re,[{key:"readUint8",value:function(N,L){return Bn(N).getUint8(L)}},{key:"readUint16",value:function(N,L){var I=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return Bn(N).getUint16(L,I)}},{key:"readUint32",value:function(N,L){var I=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return Bn(N).getUint32(L,I)}}]),re}(),yc=function(re){function N(L){var I;B(this,N),(I=w(this,$(N).call(this))).table_id=L[0],I.section_syntax_indicator=L[1]>>7,I.section_length=(15&L[1])<<8|L[2],I.transport_stream_id=I.readUint16(L,3),I.version_number=L[5]>>1&31,I.current_next_indicator=L[5]&&1,I.section_number=L[6],I.last_section_number=L[7],I.network_PID=0;var Z,oe=0,le=I.section_length-4-5;for(I.pmtTable=[];oe<le;oe+=4)(Z=I.readUint16(L,8+oe))==0?(I.network_PID=(31&L[10+oe])<<8|L[11+oe],Ae.log("packet->network_PID %0x /n/n",I.network_PID)):I.pmtTable.push({programNum:Z,program_map_PID:(31&L[10+oe])<<8|L[11+oe]});var me=I.section_length+3;return I.CRC_32=(255&L[me-4])<<24|(255&L[me-3])<<16|(255&L[me-2])<<8|255&L[me-1],I}return k(N,re),N}(Si),Nn=function(re){function N(L){var I;if(B(this,N),(I=w(this,$(N).call(this))).table_id=L[0],I.section_syntax_indicator=L[1]>>7,I.section_length=(15&L[1])<<8|L[2],I.program_number=I.readUint16(L,3),I.version_number=L[5]>>1&31,I.current_next_indicator=L[5]&&1,I.section_number=L[6],I.last_section_number=L[7],I.PCR_PID=(31&L[8])<<8|L[9],I.program_info_length=(15&L[10])<<8|L[11],I.program_info_length<0)return w(I);if(I.program_info_length>2)for(var Z=0;Z<I.program_info_length;)Z+=L[13+Z];var oe=12+I.program_info_length,le=I.section_length-I.program_info_length-9-4,me=oe+le;if(oe>=me)return Ae.warn("es_section_pos < es_section_end ".concat(oe,", ").concat(me)),w(I);I.pes_table=[];for(var Pe=0;Pe<le;){var ze=L[oe+Pe],Be=8191&I.readUint16(L,oe+Pe+1),Ze=4095&I.readUint16(L,oe+Pe+3);if(I.pes_table.push({streamType:ze,PID:Be}),Ze>2)for(var Ke=0,Pt=oe+Pe+5;Ke<Ze;)Ke+=L[Pt+Ke];Pe+=Ze+5}var ir=I.section_length+3;return I.CRC_32=(255&L[ir-4])<<24|(255&L[ir-3])<<16|(255&L[ir-2])<<8|255&L[ir-1],I}return k(N,re),H(N,[{key:"parse",value:function(){}}]),N}(Si),Qn=function(re){function N(L){var I;B(this,N),(I=w(this,$(N).call(this))).table_id=L[0],I.section_syntax_indicator=L[1]>>7,I.section_length=(15&L[1])<<8|L[2],I.transport_stream_id=I.readUint16(L,3),I.version_number=L[5]>>1&31,I.current_next_indicator=1&L[5],I.section_number=L[6],I.last_section_number=L[7],I.original_network_id=I.readUint16(L,8);var Z=I.section_length-8-4;I.service_table=[];for(var oe=0;oe<Z;){for(var le=0,me={service_id:I.readUint16(L,11),EIT_schedule_flag:2&L[13],EIT_present_following_flag:1&L[13],running_status:L[14]>>5,free_CA_mode:L[14]>>4&1,descriptors_loop_length:(15&L[14])<<8|L[15],provider_name:"",name:""};le<me.descriptors_loop_length;){var Pe=16+le,ze=L[Pe],Be=L[Pe+1];switch(ze){case 72:var Ze=[],Ke=L[Pe+3],Pt=0,ir=0,nt=Pe+4;for(Pt=0;Pt<Ke;Pt++)Ze.push(String.fromCharCode(L[nt])),nt+=1;me.provider_name=Ze.join("");var Tn=[],pt=L[nt];for(nt+=1,ir=0;ir<pt;ir++)Tn.push(String.fromCharCode(L[nt])),nt+=1;me.name=Tn.join("");break;default:Ae.warn("sdt section unhandled descriptor_tag ".concat(ze))}le+=2+Be}I.service_table.push(me),oe+=5+me.descriptors_loop_length}return I}return k(N,re),N}(Si),Mr=function re(){B(this,re)},ss=function(){function re(N){B(this,re),this.context=N,this.metadata=new Mr,this.pat_table=[],this.pes_streams=[]}return H(re,[{key:"reset",value:function(){this.metadata=new Mr,this.pat_table.splice(0,this.pat_table.length),this.pes_streams.splice(0,this.pes_streams.length)}},{key:"parse",value:function(N){N.PID===0?this._parsePat(N):N.PID===1||N.PID===2||3<=N.PID&&N.PID<=15||(N.PID===17?this._parseSdt(N):N.PID===this.currentProgramPID&&this._parsePmt(N))}},{key:"findTrack",value:function(N){for(var L=null,I=this.pes_streams,Z=0;Z<I.length;Z++)if(I[Z].id===N){L=I[Z];break}return L}},{key:"_parsePat",value:function(N){var L;if(N.payload_unit_start_indicator){var I=N.payload[0];L=N.payload.subarray(I+1)}else L=N.payload;for(var Z=new yc(L),oe=0;oe<Z.pmtTable.length;oe++)this._add_pid_to_pmt(Z.pmtTable[oe].programNum,Z.pmtTable[oe].program_map_PID);return Z}},{key:"_add_pid_to_pmt",value:function(N,L){var I=this.pat_table;(function(Z){for(var oe,le=0;le<I.length;le++)if((oe=I[le]).id===Z)return{idx:le,item:oe};return null})(N)||I.push({id:N,pid:L})}},{key:"_parsePmt",value:function(N){var L;if(N.payload_unit_start_indicator){var I=N.payload[0];L=N.payload.subarray(I+1)}else L=N.payload;for(var Z=new Nn(L),oe=0;oe<Z.pes_table.length;oe++)this._add_pes_stream(Z.pes_table[oe],Z);return Z}},{key:"_add_pes_stream",value:function(N,L){var I=this.pes_streams;(function(Z){for(var oe,le=0;le<I.length;le++)if((oe=I[le]).id===Z)return{idx:le,item:oe};return null})(N.PID)||I.push({id:N.PID,stream_type:N.streamType,pcr_pid:L.PCR_PID,duration:0,sps:[],pps:[],pixelRatio:[1,1],timescale:9e4,width:0,height:0})}},{key:"_parseSdt",value:function(N){var L;if(N.payload_unit_start_indicator){var I=N.payload[0];L=N.payload.subarray(I+1)}else L=N.payload;var Z=new Qn(L);return Z.service_table.length>0&&(this.metadata.service_name=Z.service_table[0].name,this.metadata.service_provider=Z.service_table[0].provider_name),Z}},{key:"currentProgramPID",get:function(){for(var N=[],L=0;L<this.pat_table.length;L++)N.push(this.pat_table[L].pid);return N.length>0?N[0]:-1}}]),re}(),us=function(re){function N(L,I){var Z;return B(this,N),(Z=w(this,$(N).call(this))).context=L,Z.PSI=I,Z.videoTrack=null,Z.audioTrack=null,Z.captionTrack=null,Z}return k(N,re),H(N,[{key:"push",value:function(L){for(var I,Z=L,oe=0;oe<Z.length;oe++)switch((I=Z[oe]).type){case"video":this._complexVideo(I);break;case"audio":this._complexAudio(I);break;case"caption":this._complexCaption(I)}}},{key:"flush",value:function(){this.emit("done"),this._clearStream()}},{key:"reset",value:function(){this._clearStream()}},{key:"_clearStream",value:function(){this.videoTrack=null,this.audioTrack=null,this.captionTrack=null}},{key:"_complexVideo",value:function(L){var I=this.PSI.findTrack(L.trackId);I&&(I.type="video",I.gops=L,I.firstDTS=L[0][0].dts,I.firstPTS=L[0][0].pts,I.duration=Number.POSITIVE_INFINITY,this.videoTrack=I,this.emit("data",{videoTrack:this.videoTrack}))}},{key:"_complexAudio",value:function(L){var I=this.PSI.findTrack(L.trackId);I&&(I.type="audio",I.frames=L,I.firstPTS=I.firstDTS=L[0].dts,I.duration=Number.POSITIVE_INFINITY,this.audioTrack=I,this.emit("data",{audioTrack:this.audioTrack}))}},{key:"_complexCaption",value:function(){}}]),N}(yt),Xi={mac:!1,iphone:!1,android:!1},mr={version:!1,CHROME:!1,SAFARI:!1,FIREFOX:!1,IE11:!1,IE:!1,EDGE:!1,WECHAT:!1},At=navigator.userAgent.toLowerCase(),Xr=/(edge)\/([\w.]+)/.exec(At)||/(opr)[/]([\w.]+)/.exec(At)||/(chrome)[ /]([\w.]+)/.exec(At)||/(firefox)[ /]([\w.]+)/.exec(At)||/(iemobile)[/]([\w.]+)/.exec(At)||/(version)(applewebkit)[ /]([\w.]+).*(safari)[ /]([\w.]+)/.exec(At)||/(webkit)[ /]([\w.]+).*(version)[ /]([\w.]+).*(safari)[ /]([\w.]+)/.exec(At)||/(webkit)[ /]([\w.]+)/.exec(At)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(At)||/(msie) ([\w.]+)/.exec(At)||At.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(At)||At.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(At)||[],Pa=/(ipad)/.exec(At)||/(ipod)/.exec(At)||/(windows phone)/.exec(At)||/(iphone)/.exec(At)||/(kindle)/.exec(At)||/(silk)/.exec(At)||/(android)/.exec(At)||/(win)/.exec(At)||/(mac)/.exec(At)||/(linux)/.exec(At)||/(cros)/.exec(At)||/(playbook)/.exec(At)||/(bb)/.exec(At)||/(blackberry)/.exec(At)||[],zr={version:void 0},Fn={browser:Xr[5]||Xr[3]||Xr[1]||"",version:Xr[2]||Xr[4]||"0",versionNumber:Xr[4]||Xr[2]||"0",platform:Pa[0]||""};if(Fn.browser){zr[Fn.browser]=!0;var qi=Fn.versionNumber.split(".");zr.version={major:parseInt(Fn.versionNumber,10),string:Fn.version},qi.length>1&&(zr.version.minor=parseInt(qi[1],10)),qi.length>2&&(zr.version.build=parseInt(qi[2],10))}mr.version=zr.version,mr.CHROME=!!zr.chrome,mr.SAFARI=!!zr.safari&&!mr.CHROME,mr.FIREFOX=!!zr.firefox,mr.IE11=/rv:11/.test(At),mr.IE=!!zr.msie||mr.IE11,mr.EDGE=!!zr.edge,mr.WECHAT=/(wechat)|(micromessenger)/.test(At),Xi.mac=!!Fn.platform.mac,Xi.iphone=!!Fn.platform.iphone,Xi.android=!!Fn.platform.android;var ls=mr,wi=Xi,lo=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],cs=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],co=function(re){function N(){return B(this,N),w(this,$(N).call(this))}return k(N,re),H(N,[{key:"push",value:function(L){for(var I,Z,oe,le,me,Pe=L.pts,ze=L.dts,Be=L.payload,Ze=0,Ke=0;Ze+5<Be.length;)if(Be[Ze]===255&&(246&Be[Ze+1])==240){if(Z=2*(1&~Be[Ze+1]),I=(3&Be[Ze+3])<<11|Be[Ze+4]<<3|(224&Be[Ze+5])>>5,me=9e4*(le=1024*(1+(3&Be[Ze+6])))/cs[(60&Be[Ze+2])>>>2],oe=Ze+I,Be.byteLength<oe)return;var Pt={pts:Pe+Ke*me,dts:ze+Ke*me,sampleCount:le,audioObjectType:1+(Be[Ze+2]>>>6&3),channelCount:(1&Be[Ze+2])<<2|(192&Be[Ze+3])>>>6,sampleRate:cs[(60&Be[Ze+2])>>>2],samplingFrequencyIndex:(60&Be[Ze+2])>>>2,sampleSize:16,data:Be.subarray(Ze+7+Z,oe)};if(this.emit("frame",Pt),Be.byteLength===oe)return Be=void 0,void this.emit("done");Ke++,Be=Be.subarray(oe)}else Ze++}}]),N}(J),tn=function(re){function N(L){var I;return B(this,N),(I=w(this,$(N).call(this))).PSI=L,I.trackId=null,I.codec=new co,I.codec.on("frame",function(Z){I.frames.push(Z),I.frames.byteLength+=Z.data.byteLength,I.frames.trackId=I.trackId}),I._newFrames(),I}return k(N,re),H(N,[{key:"push",value:function(L){L.stream_type===15&&(this.trackId=L.pid,this.codec.push({dts:L.pes.DTS,pts:L.pes.PTS,payload:L.pes.data_byte}))}},{key:"flush",value:function(){if(this.frames.length>0){var L=this.frames.length,I=this.frames[0],Z=this.frames[L-1],oe=Z.sampleRate*Z.sampleCount/9e4;this.frames.firstDTS=I.dts,this.frames.firstPTS=I.pts,this.frames.duration=L===1?oe:oe+(Z.pts-I.pts),this._updateTrackMeta(I),this.emit("data",this.frames),this.reset(),this.emit("done")}}},{key:"reset",value:function(){this.trackId=null,this._newFrames()}},{key:"_newFrames",value:function(){this.frames=[],this.frames.type="audio",this.frames.byteLength=0,this.frames.duration=0,this.frames.firstDTS=0,this.frames.firstPTS=0}},{key:"_updateTrackMeta",value:function(L){var I=this.PSI.findTrack(this.trackId),Z=function(oe,le,me){var Pe,ze,Be=oe;if(!(le>lo.length-1))return ls.FIREFOX?le>=6?(oe=5,ze=new Array(4),Pe=le-3):(oe=2,ze=new Array(2),Pe=le):wi.android?(oe=2,ze=new Array(2),Pe=le):(oe=5,ze=new Array(4),le>=6?Pe=le-3:(me===1&&(oe=2,ze=new Array(2)),Pe=le)),ze[0]=oe<<3,ze[0]|=(14&le)>>1,ze[1]|=(1&le)<<7,ze[1]|=me<<3,oe===5&&(ze[1]|=(14&Pe)>>1,ze[2]=(1&Pe)<<7,ze[2]|=8,ze[3]=0),{config:ze,sampleRate:lo[le],channelCount:me,codec:"mp4a.40."+oe,realCodec:"mp4a.40."+Be};Ae.error("invalid sampling index:".concat(le))}(L.audioObjectType,L.samplingFrequencyIndex,L.channelCount);I.config=Z.config,I.sampleRate=Z.sampleRate,I.inputTimeScale=I.inputTimeScale||I.timescale,I.timescale=Z.sampleRate,I.channelCount=Z.channelCount,I.codec=Z.codec,I.realCodec=Z.realCodec,I.isAAC=!0}}]),N}(yt);function fs(re){for(var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=0,Z="",oe=N;oe<N+L;oe++)I=7-oe%8,Z+=re[Math.floor(oe/8)]>>I&1;return parseInt(Z,2)}function Dr(re){for(var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=[],I=8*re.byteLength,Z=!1,oe=0,le=0,me="",Pe=N;Pe<I;Pe++)if(oe=7-Pe%8,le=re[Math.floor(Pe/8)]>>oe&1,!Z){if(le!==0){Z=!0,N=Pe;break}L.push(0)}for(var ze=L.length+1,Be=N;Be<N+ze;Be++)oe=7-Be%8,me+=le=re[Math.floor(Be/8)]>>oe&1;return{bitLength:L.length+ze,value:parseInt(me,2)-1}}var Qe={readUEV:Dr,readSEV:function(re){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=Dr(re,N),I=L.value,Z=Math.pow(-1,I+1)*Math.ceil(I/2);return{bitLength:L.bitLength,value:Z}},readBit:fs,readByte:function(re){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return fs(re,N,8)}},ke=0;function Jn(re,N){for(var L,I=8,Z=8,oe=0;oe<N;oe++)Z!=0&&(L=Qe.readUEV(re,ke),ke+=L.bitLength,Z=(I+L.value+256)%256),I=re[oe]}var Ea,Qt,kr=function(re){function N(L){var I;switch(B(this,N),(I=w(this,$(N).call(this))).forbidden_zero_bit=L[0]>>7,I.ref_idc=L[0]>>5&3,I.unit_type=31&L[0],I.data=function(Z){for(var oe,le=Z.byteLength,me=[],Pe=1,ze=new Uint8Array(0);Pe<le-2;)Z[Pe]===0&&Z[Pe+1]===0&&Z[Pe+2]===3?(me.push(Pe+2),Pe+=2):Pe++;if(me.length===0)return Z;oe=le-me.length;try{ze=new Uint8Array(oe)}catch{throw"epsb alloc mem error ".concat(oe)}var Be=0;for(Pe=0;Pe<oe;Be++,Pe++)Be===me[0]&&(Be++,me.shift()),ze[Pe]=Z[Be];return ze}(L.subarray(1)),I.rawData=L,I.unit_type){case 1:break;case 2:case 3:case 4:case 5:break;case 7:I.sps=function(Z){ke=0;var oe,le,me,Pe,ze,Be,Ze,Ke=Z[0],Pt=Z[1],ir=Z[2],nt=Z.subarray(3),Tn=0,pt=[1,1],ei=1,Ia=0,$n=!0,pn=Qe.readUEV(nt,ke);if(ke+=pn.bitLength,Ke==100||Ke==110||Ke==122||Ke==244||Ke==44||Ke==83||Ke==86||Ke==118||Ke==128){var Hn=Qe.readUEV(nt,ke);ke+=Hn.bitLength,Hn.value==3&&(ke+=1);var ho=Qe.readUEV(nt,ke);ke+=ho.bitLength;var Xt=Qe.readUEV(nt,ke);if(ke+=Xt.bitLength,ke+=1,Tn=Qe.readBit(nt,ke),ke+=1,Tn)for(var Qi=0;Qi<(Hn.value!=3?8:12);Qi++){var Gt=Qe.readBit(nt,ke);ke+=1,Gt&&Jn(nt,Qi<6?16:64)}}var gn=Qe.readUEV(nt,ke);ke+=gn.bitLength;var Ji=Qe.readUEV(nt,ke),Ba=Ji.value;if(ke+=Ji.bitLength,Ba===0)oe=Qe.readUEV(nt,ke),ke+=oe.bitLength;else if(Ba===1){ke+=1,le=Qe.readSEV(nt,ke),ke+=le.bitLength,me=Qe.readSEV(nt,ke),ke+=me.bitLength,Pe=Qe.readUEV(nt,ke),ke+=Pe.bitLength;for(var ea,Ru=0;Ru<Pe.value;Ru++)ea=Qe.readSEV(nt,ke),ke+=ea.bitLength}var Ou=Qe.readUEV(nt,ke);ke+=Ou.bitLength,ke+=1;var Iu=Qe.readUEV(nt,ke);ke+=Iu.bitLength;var Bu=Qe.readUEV(nt,ke);ke+=Bu.bitLength;var Na=Qe.readBit(nt,ke);ke+=1,Na||(ke+=1),ke+=1;var Fa=Qe.readBit(nt,ke);ke+=1;var vs=0,Nu=0,$a=0,ar=0;if(Fa){var vo=Qe.readUEV(nt,ke);ke+=vo.bitLength,vs=vo.value;var po=Qe.readUEV(nt,ke);ke+=po.bitLength,Nu=po.value;var go=Qe.readUEV(nt,ke);ke+=go.bitLength,$a=go.value;var ta=Qe.readUEV(nt,ke);ke+=ta.bitLength,ar=ta.value}var nn=Qe.readBit(nt,ke);if(ke+=1,nn){var bc=Qe.readBit(nt,ke);if(ke+=1,bc){var ps=Qe.readByte(nt,ke);switch(ke+=8,ps){case 1:pt=[1,1];break;case 2:pt=[12,11];break;case 3:pt=[10,11];break;case 4:pt=[16,11];break;case 5:pt=[40,33];break;case 6:pt=[24,11];break;case 7:pt=[20,11];break;case 8:pt=[32,11];break;case 9:pt=[80,33];break;case 10:pt=[18,11];break;case 11:pt=[15,11];break;case 12:pt=[64,33];break;case 13:pt=[160,99];break;case 14:pt=[4,3];break;case 15:pt=[3,2];break;case 16:pt=[2,1];break;case 255:var gs=Qe.readByte(nt,ke);ke+=8;var ms=Qe.readByte(nt,ke);ke+=8;var ys=Qe.readByte(nt,ke);ke+=8;var mo=Qe.readByte(nt,ke);ke+=8,pt=[gs<<8|ms,ys<<8|mo]}pt&&(ei=pt[0]/pt[1]),ps===255&&(ke+=16,ke+=16)}var ra=Qe.readBit(nt,ke);ke+=1,ra&&(ke+=1);var _s=Qe.readBit(nt,ke);if(ke+=1,_s){ze=Qe.readBit(nt,ke,3),ke+=3,ke+=1;var yo=Qe.readBit(nt,ke);ke+=1,yo&&(ke+=24)}var Fu=Qe.readBit(nt,ke);if(ke+=1,Fu){var $u=Qe.readUEV(nt,ke);ke+=$u.bitLength;var Ha=Qe.readUEV(nt,ke);ke+=Ha.bitLength}var Hu=Qe.readBit(nt,ke);ke+=1,Hu&&(Be=Qe.readBit(nt,ke,32),ke+=32,Ze=Qe.readBit(nt,ke,32),ke+=32,$n=!!Qe.readBit(nt,ke),ke+=1,Ia=Ze/(2*Be))}return{payload:nt,profile_idc:Ke,profile_compatibility:Pt,level_idc:ir,sps_id:pn.value,log2_max_frame_num_minus4:Ji.value,pic_order_cnt_type:Ba,log2_max_pic_order_cnt_lsb_minus4:oe?oe.value:0,width:Math.ceil((16*(Iu.value+1)-2*vs-2*Nu)*ei),height:(2-Na)*(Bu.value+1)*16-2*$a-2*ar,pixelRatio:pt,video_format:ze,fps:Ia,fixedFPS:$n}}(I.data);break;case 8:I.pps=function(Z){var oe,le=0,me=Z,Pe=[],ze=0;le+=Qe.readUEV(me,le).bitLength,le+=Qe.readUEV(me,le).bitLength,le+=1,le+=1;var Be=Qe.readUEV(me,le);if(le+=Be.bitLength,Be.value>0){var Ze=Qe.readUEV(me,le);le+=Ze.bitLength;var Ke=0;switch(Ze.value){case 0:for(Ke=0;Ke<=Ze.value;Ke++)le+=Qe.readUEV(me,le).bitLength;break;case 2:for(Ke=0;Ke<=Ze.value;Ke++)le+=Qe.readUEV(me,le).bitLength,le+=Qe.readUEV(me,le).bitLength;break;case 3:case 4:case 5:le+=1,le+=Qe.readUEV(me,le).bitLength;break;case 6:le+=(oe=Qe.readUEV(me,le)).bitLength;var Pt=Math.ceil(Math.log2(Be.value+1));for(ze=0;ze<=oe.value;ze++)Pe.push(Qe.readBit(me,le,Pt)),le+=Pt}}return le+=Qe.readUEV(me,le).bitLength,le+=Qe.readUEV(me,le).bitLength,le+=1,le+=1,le+=Qe.readSEV(me,le).bitLength,le+=Qe.readSEV(me,le).bitLength,le+=Qe.readSEV(me,le).bitLength,le+=1,le+=1,le+=1,{sliceGroupNum:Be.value+1}}(I.data);break;case 6:I.sei=(I.data,{});break;case 9:I.primary_pic_type=I.data[0]>>5}return I}return k(N,re),N}(Si),Ma=function(re){function N(){var L;return B(this,N),(L=w(this,$(N).call(this))).cachedBytes=null,L}return k(N,re),H(N,[{key:"push",value:function(L){var I,Z=0,oe=0,le=0,me=L.pts,Pe=L.dts,ze=L.payload,Be=L.naluSizeLength;if(this.cachedBytes){try{I=new Uint8Array(this.cachedBytes.byteLength+ze.byteLength)}catch{throw"h264 alloc mem error ".concat(this.cachedBytes.byteLength,"/").concat(ze.byteLength)}I.set(this.cachedBytes),I.set(ze,this.cachedBytes.byteLength)}else I=ze;if(Be){var Ze=0,Ke=0,Pt=0;do{Ke=0;for(var ir=0;ir<Be;ir++)Ke|=I[Ze+ir]<<8*(Be-ir-1);(Pt=(Ze+=Be)+Ke)>I.length&&(Pt=I.length);var nt=I.subarray(Ze,Pt),Tn=new kr(nt);Tn.pts=me,Tn.dts=Pe,this.emit("nalu",Tn),Ze=Pt}while(Ze<I.length)}else{var pt=I.byteLength-1,ei=0;do{if(I[pt]!==0)break;ei++,pt--}while(pt>0);ei>=3&&(I=I.subarray(0,pt+1));do{var Ia=I[Z]<<24|I[Z+1]<<16|I[Z+2]<<8|I[Z+3],$n=I.length-Z>=4?Ia:-1,pn=0,Hn=Z===I.length-1;if($n>>8==1?pn=3:$n===1&&(pn=4),pn===3||pn===4||Hn){var ho=oe+le,Xt=Hn&&ei>=3;if(Z>oe&&(!Hn||Xt)){var Qi=I.subarray(ho,Xt?Z+1:Z),Gt=new kr(Qi);Gt.pts=me,Gt.dts=Pe,this.emit("nalu",Gt),oe=Z}Hn&&(ei<3?(this.cachedBytes=I.subarray(oe),this.cachedBytes.pts=me,this.cachedBytes.dts=Pe,this.cachedBytes.startCodeLength=le):this.cachedBytes=null),Z===oe&&(le=pn),Z+=pn||1}else Z++}while(Z<I.length)}if(this.cachedBytes){var gn=new kr(this.cachedBytes.subarray(this.cachedBytes.startCodeLength));gn.pts=this.cachedBytes.pts,gn.dts=this.cachedBytes.dts,this.emit("nalu",gn),this.cachedBytes=null}this.emit("done")}},{key:"reset",value:function(){this.cachedBytes=null}}]),N}(J),_c=function(re){function N(L){var I;return B(this,N),(I=w(this,$(N).call(this))).PSI=L,I.trackId=null,I.currentFrame=[],I.codec=new Ma,I._newGop(),I._newGops(),I.codec.on("nalu",function(Z){if(Z.unit_type===7){var oe=I.PSI.findTrack(I.trackId),le=function(me){for(var Pe="avc1.",ze=[me.profile_idc,me.profile_compatibility,me.level_idc],Be=0;Be<ze.length;Be++){var Ze=ze[Be].toString(16);Ze.length<2&&(Ze="0"+Ze),Pe+=Ze}return{codec:Pe}}(Z.sps);oe.codec=le.codec,oe.width=Z.sps.width,oe.height=Z.sps.height,oe.profileIdc=Z.sps.profile_idc,oe.profileCompatibility=Z.sps.profile_compatibility,oe.levelIdc=Z.sps.level_idc,oe.pixelRatio=Z.sps.pixelRatio,oe.sps=[Z.rawData]}else Z.unit_type===8&&(I.PSI.findTrack(I.trackId).pps=[Z.rawData]);I._grouping(Z)}),I}return k(N,re),H(N,[{key:"push",value:function(L){var I=L.stream_type,Z=L.pes,oe=L.pid;if(I===27||I===36){this.trackId=oe;var le={pts:Z.PTS,dts:Z.DTS,payload:Z.data_byte};this.codec.push(le)}}},{key:"flush",value:function(){this.currentFrame.length>0&&((!this.currentFrame.duration||this.currentFrame.duration<=0)&&(this.currentFrame.duration=this.prevFrame.duration||0),this._pushFrameIntoGop(),this.currentFrame=[]),this.gop.length>0&&this._pushGopIntoGroup()}},{key:"reset",value:function(){this.codec.reset(),this.currentFrame=[],this._newGop(),this._newGops()}},{key:"_grouping",value:function(L){L.unit_type===9?(this.currentFrame.length>0&&(this.currentFrame.duration=L.dts-this.currentFrame.dts,this.gop.length>0&&this.currentFrame.keyframe&&(this.gop.trackId=this.trackId,this._pushGopIntoGroup()),this.currentFrame.keyframe||this.gop.length>0?this._pushFrameIntoGop():Ae.warn("h264 codec drop frame")),this.prevFrame=this.currentFrame,this.currentFrame=[],this.currentFrame.keyframe=!1,this.currentFrame.byteLength=0,this.currentFrame.naluCount=0,this.currentFrame.pts=L.pts,this.currentFrame.dts=L.dts):(L.unit_type===5&&(this.currentFrame.keyframe=!0),this.currentFrame.byteLength+=L.rawData.byteLength,this.currentFrame.naluCount++,this.currentFrame.push(L)),this.currentFrame.duration=L.dts-this.currentFrame.dts}},{key:"_newGop",value:function(){this.gop=[],this.gop.duration=0,this.gop.naluCount=0,this.gop.byteLength=0}},{key:"_pushFrameIntoGop",value:function(){this.gop.push(this.currentFrame),this.gop.duration+=this.currentFrame.duration,this.gop.byteLength+=this.currentFrame.byteLength,this.gop.naluCount+=this.currentFrame.naluCount}},{key:"_newGops",value:function(){this.gops=[],this.gops.type="video",this.gops.duration=0,this.gops.naluCount=0,this.gops.byteLength=0,this.gops.frameLength=0,this.gops.firstDTS=0}},{key:"_pushGopIntoGroup",value:function(){var L=this.gop[0];this.gops.trackId=this.trackId,this.gops.duration+=this.gop.duration,this.gops.byteLength+=this.gop.byteLength,this.gops.naluCount+=this.gop.naluCount,this.gops.frameLength+=this.gop.length,this.gops.firstDTS=L.dts,this.gops.firstPTS=L.pts,this.gops.push(this.gop),this.emit("data",this.gops),this._newGop(),this._newGops(),this.emit("done")}}]),N}(yt),fo=function(re){function N(L,I){var Z,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B(this,N),(Z=w(this,$(N).call(this))).context=L,Z.PSI=I,Z.options=oe,Z.tracks=[],Z.adtsStream=new tn(I),Z.avcStream=new _c(I),Z.streams=[Z.adtsStream,Z.avcStream],oe.decodeCodec&&(Z.avcStream.on("data",function(le){var me=oe.config.stubTime;if(Ne(me)){var Pe=(le.firstPTS+le.duration)/9e4;if(Pe<me)return void Ae.warn("drop avc gop, start/end/stubTime(".concat(le.firstPTS,"/").concat(Pe,"/").concat(me,")"))}Z.tracks.push(le),Z.emit("data",Z.tracks),Z.tracks=[],Z.adtsStream.flush()}),Z.adtsStream.on("data",function(le){var me=oe.config.stubTime;if(Ne(me)){var Pe=(le.firstPTS+le.duration)/9e4;if(Pe<me)return void Ae.warn("drop adts, start/end/stubTime(".concat(le.firstPTS,"/").concat(Pe,"/").concat(me,")"))}Z.tracks.push(le),Z.emit("data",Z.tracks),Z.tracks=[]})),Z}return k(N,re),H(N,[{key:"push",value:function(L){var I=this.options,Z=this.adtsStream,oe=this.avcStream,le=L.stream_type;if(I.decodeCodec)switch(le){case 27:case 36:oe.push(L);break;case 15:Z.push(L);break;default:Ae.warn("ts elementary encounter unknown stream type ".concat(le))}else this.emit("data",L)}},{key:"flush",value:function(){for(var L=this.streams,I=this.tracks,Z=0;Z<this.streams.length;Z++)L[Z].flush();I.length>0&&this.emit("data",I),this.emit("done"),I.splice(0,I.length)}},{key:"reset",value:function(){this.tracks=[];for(var L=0;L<this.streams.length;L++)this.streams[L].reset();this.emit("reset")}}]),N}(yt),Da=function(re){function N(L){var I;return B(this,N),(I=w(this,$(N).call(this))).start_code_prefix=I.readUint16(L,0)<<8|L[2],I.stream_id=L[3],I.packet_length=I.readUint16(L,4),I.data_alignment_indicator=4&L[6],I.copyright=2&L[6],I.PTS_DTS_flags=L[7]>>6,I.ESCR_flag=32&L[7],I.ES_rate_flag=16&L[7],I.trick_mode_flag=8&L[7],I.additional_copy_info_flag=4&L[7],I.CRC_flag=2&L[7],I.extension_flag=1&L[7],I.header_data_length=L[8],I.PTS=0,(2&I.PTS_DTS_flags)==2&&(I.PTS=I.calcTimestamp_(L,9)),I.DTS=I.PTS,(1&I.PTS_DTS_flags)==1&&(I.DTS=I.calcTimestamp_(L,14)),I.data_byte=L.subarray(9+I.header_data_length),I}return k(N,re),H(N,[{key:"calcTimestamp_",value:function(L,I){return 536870912*(14&L[I])+(L[I+1]<<22)+(L[I+2]>>1<<15)+(L[I+3]<<7)+(L[I+4]>>1)}},{key:"valid",value:function(){var L=this.start_code_prefix;return L[0]===0&&L[1]===0&&L[2]===1}}]),N}(Si),La=function(re){function N(L,I){var Z;return B(this,N),(Z=w(this,$(N).call(this))).context=L,Z.PSI=I,Z.PID=null,Z.cache_buffer=new It,Z}return k(N,re),H(N,[{key:"push",value:function(L){L.PID>255&&L.PID<8191&&(this.PSI.currentProgramPID==-1?this._pushPacket(L):this.PSI.currentProgramPID!==L.PID&&(L.payload_unit_start_indicator===1&&this._assembleOnePES(),this._pushPacket(L)))}},{key:"flush",value:function(){this._assembleOnePES(),this.emit("done")}},{key:"reset",value:function(){this._clearCached(),this.emit("reset")}},{key:"_clearCached",value:function(){this.PID=null,this.cache_buffer.clear()}},{key:"_pushPacket",value:function(L){var I=this.cache_buffer.empty;I&&L.payload_unit_start_indicator===0||(I&&(this.PID=L.PID),this.cache_buffer.append(L.payload))}},{key:"_assembleOnePES",value:function(){if(!this.cache_buffer.empty){var L;try{L=this.cache_buffer.toNewBytes()}catch{throw"pes alloc mem err ".concat(this.cache_buffer.byteLength)}var I=new Da(L),Z=this.PSI.findTrack(this.PID);if(Z){var oe={pid:Z.id,stream_type:Z.stream_type,pcr_pid:Z.pcr_pid,pes:I};this.emit("data",oe)}this._clearCached()}}}]),N}(yt),Zi=function(re){function N(L){var I;if(B(this,N),(I=w(this,$(N).call(this))).sync_byte=L[0],I.transport_error_indicator=L[1]>>7,I.payload_unit_start_indicator=L[1]>>6&1,I.transport_priority=L[1]>>>5&1,I.PID=8191&I.readUint16(L,1),I.tsc=L[3]>>6,I.afc=L[3]>>4&3,I.continuity_counter=15&L[3],I.has_payload=1&I.afc,I.has_adaptation=2&I.afc,I.has_payload)if(I.has_adaptation){var Z=L[4];I.payload=L.subarray(5+Z)}else I.payload=L.subarray(4);return I}return k(N,re),H(N,[{key:"valid",value:function(){return this.sync_byte===71&&this.has_payload===1}}]),N}(Si),Lu=function(re){function N(){var L,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return B(this,N),(L=w(this,$(N).call(this,I))).psi_=new ss(L.ctx_),L.pesStream_=new La(L.ctx_,L.psi_),L.elementaryStream_=new fo(L.ctx_,L.psi_,I),L.complexStream_=new us(L.ctx_,L.psi_),L.pipe(L.pesStream_),L.pesStream_.pipe(L.elementaryStream_),L.elementaryStream_.pipe(L.complexStream_),m($(N.prototype),"listenEndStream_",T(L)).call(T(L)),L}return k(N,re),H(N,[{key:"push",value:function(L,I){var Z=I.done,oe=this.options_,le=this.ctx_,me=this.cache_buffer_,Pe=this.psi_,ze=m($(N.prototype),"constraintPushData_",this).call(this,L),Be=me.byteLength,Ze=null;for(oe.config=I,Ae.log("hls demux received ".concat(ze.byteLength," bytes, cache ").concat(Be," bytes. ").concat(Z?"chunk done":"")),me.append(ze);me.byteLength>=188;){var Ke=me.cut(188);if(Ke){var Pt=new Zi(Ke);if(!Pt.valid()){var ir="Encounter invalid ts packet, packet_length(".concat(Ke.length,"), cache_length(").concat(this.cache_buffer_.byteLength,"), has_payload(").concat(Pt.has_payload,"), data(").concat(Ke,")");Ae.error(ir),this.reset(),le.emit("error",dn.TS_SYNC_BYTE,ir,{startByte:Ze,endByte:Ze+Ke.byteLength});break}Pe.parse(Pt),this.emit("data",Pt),Ze+=Ke.byteLength}}me.empty&&Z&&this.emit("done")}},{key:"reset",value:function(){this.cache_buffer_.clear(),this.emit("reset")}},{key:"endStream",get:function(){var L=this.elementaryStream_;return this.options_.decodeCodec&&(L=this.complexStream_),L}}]),N}(pr);(function(re){re[re.HEAD=0]="HEAD",re[re.BODY=1]="BODY"})(Ea||(Ea={})),function(re){re[re.SCRIPT_DATA=18]="SCRIPT_DATA",re[re.VIDEO=9]="VIDEO",re[re.AUDIO=8]="AUDIO"}(Qt||(Qt={}));var Ra,Oa;(function(re){re[re.AAC=10]="AAC"})(Ra||(Ra={})),function(re){re[re.MONO=0]="MONO",re[re.STEREO=1]="STEREO"}(Oa||(Oa={}));var hs;(function(re){re[re.SEQUENCE_HEAD=0]="SEQUENCE_HEAD",re[re.AAC_RAW=1]="AAC_RAW"})(hs||(hs={}));var rn;(function(re){re[re.SEQUENCE_HEAD=0]="SEQUENCE_HEAD",re[re.NALU=1]="NALU",re[re.SEQUENCE_END=2]="SEQUENCE_END"})(rn||(rn={}));var vn=new Ma;vn.on("nalu",function(re){});var Ki;(function(re){re[re.AVC=7]="AVC"})(Ki||(Ki={}));var ds=function(){function re(N){s()(this,re),g()(this,"previousPes",null),g()(this,"maxAudioPTS",0),g()(this,"maxVideoPTS",0),N?(this.init(),this.dataArray=[],this.videoArray=[],this.audioArray=[],this.decode=N):console.error("class TsDemux need pass decode parmas")}return l()(re,[{key:"init",value:function(){var N=this;try{this.demuxer=new Lu({enableWorker:!1,debug:!1,onlyDemuxElementary:!0}),this.demuxer.on(a.DEMUX_DATA,function(L){L instanceof Array?(N.dataArray.push(L),N.demuxed(N.dataArray),N.dataArray=[]):N.dataArray.push(L)}),this.demuxer.on(a.DONE,function(L){var I={};N.demuxed(N.dataArray),N.dataArray=[],N.previousPes.partEnd=!0,N.previousPes.lastTS=N.isLast,N.isLast?(N.maxPTS=Math.min(N.maxAudioPTS,N.maxVideoPTS),I.audioEnd=!0,N.audioQueue(I),self.postMessage({type:"demuxedAAC",data:N.audioArray}),N.audioArray=[],self.postMessage({type:"maxPTS",data:{maxAudioPTS:N.maxAudioPTS,maxVideoPTS:N.maxVideoPTS}})):(self.postMessage({type:"demuxedAAC",data:N.audioArray}),N.audioArray=[]),N.decode.push(N.videoArray),N.videoArray=[],N.previousPes=null})}catch{console.error("init demuxer failed.")}}},{key:"push",value:function(N){this.demuxer.push(N,{done:!0})}},{key:"demuxed",value:function(N){var L=this;N.forEach(function(I){L.tsDemuxed(I)})}},{key:"tsDemuxed",value:function(N){var L=N.stream_type,I=N.pes||{};switch(L){case 36:this.videoQueue(I);break;case 3:case 15:case 17:I.PTS=Math.round(I.PTS*c.a*1e3),this.maxAudioPTS=Math.max(I.PTS,this.maxAudioPTS),this.audioQueue(I)}}},{key:"audioQueue",value:function(N){this.audioArray.push(N)}},{key:"videoQueue",value:function(N){this.previousPes=N,this.maxVideoPTS=Math.max(this.maxVideoPTS,N.PTS),this.videoArray.push(N)}},{key:"destroy",value:function(){this.demuxer.destroy()}}]),re}();self.decode=new v,self.demuxer=new ds(self.decode),n.default=function(re){re.onmessage=function(N){var L=N.data,I=L.type,Z=L.data,oe=L.isLast;switch(I){case"startDemux":re.demuxer.isLast=oe,re.demuxer.push(Z);break;case"loadwasm":re.decode.loadWASM(N);break;case"flush":re.decode.flush()}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(r,n,i){r.exports=i(163)},function(r,n,i){r.exports=i(85).default}])})})(FR);var Gne=FR.exports;const iae=Ch(Gne);var $R=cr,fi=null;try{fi=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function cr(t,e,r){this.low=t|0,this.high=e|0,this.unsigned=!!r}cr.prototype.__isLong__;Object.defineProperty(cr.prototype,"__isLong__",{value:!0});function In(t){return(t&&t.__isLong__)===!0}cr.isLong=In;var YC={},XC={};function Mu(t,e){var r,n,i;return e?(t>>>=0,(i=0<=t&&t<256)&&(n=XC[t],n)?n:(r=fr(t,(t|0)<0?-1:0,!0),i&&(XC[t]=r),r)):(t|=0,(i=-128<=t&&t<128)&&(n=YC[t],n)?n:(r=fr(t,t<0?-1:0,!1),i&&(YC[t]=r),r))}cr.fromInt=Mu;function hi(t,e){if(isNaN(t))return e?ru:di;if(e){if(t<0)return ru;if(t>=HR)return VR}else{if(t<=-ZC)return Ln;if(t+1>=ZC)return UR}return t<0?hi(-t,e).neg():fr(t%ac|0,t/ac|0,e)}cr.fromNumber=hi;function fr(t,e,r){return new cr(t,e,r)}cr.fromBits=fr;var xp=Math.pow;function gb(t,e,r){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return di;if(typeof e=="number"?(r=e,e=!1):e=!!e,r=r||10,r<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return gb(t.substring(1),e,r).neg();for(var i=hi(xp(r,8)),a=di,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),u=parseInt(t.substring(o,o+s),r);if(s<8){var l=hi(xp(r,s));a=a.mul(l).add(hi(u))}else a=a.mul(i),a=a.add(hi(u))}return a.unsigned=e,a}cr.fromString=gb;function Yi(t,e){return typeof t=="number"?hi(t,e):typeof t=="string"?gb(t,e):fr(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}cr.fromValue=Yi;var qC=65536,jne=1<<24,ac=qC*qC,HR=ac*ac,ZC=HR/2,KC=Mu(jne),di=Mu(0);cr.ZERO=di;var ru=Mu(0,!0);cr.UZERO=ru;var Tl=Mu(1);cr.ONE=Tl;var zR=Mu(1,!0);cr.UONE=zR;var l1=Mu(-1);cr.NEG_ONE=l1;var UR=fr(-1,2147483647,!1);cr.MAX_VALUE=UR;var VR=fr(-1,-1,!0);cr.MAX_UNSIGNED_VALUE=VR;var Ln=fr(0,-2147483648,!1);cr.MIN_VALUE=Ln;var Ve=cr.prototype;Ve.toInt=function(){return this.unsigned?this.low>>>0:this.low};Ve.toNumber=function(){return this.unsigned?(this.high>>>0)*ac+(this.low>>>0):this.high*ac+(this.low>>>0)};Ve.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ln)){var r=hi(e),n=this.div(r),i=n.mul(r).sub(this);return n.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var a=hi(xp(e,6),this.unsigned),o=this,s="";;){var u=o.div(a),l=o.sub(u.mul(a)).toInt()>>>0,c=l.toString(e);if(o=u,o.isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}};Ve.getHighBits=function(){return this.high};Ve.getHighBitsUnsigned=function(){return this.high>>>0};Ve.getLowBits=function(){return this.low};Ve.getLowBitsUnsigned=function(){return this.low>>>0};Ve.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ln)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,r=31;r>0&&!(e&1<<r);r--);return this.high!=0?r+33:r+1};Ve.isZero=function(){return this.high===0&&this.low===0};Ve.eqz=Ve.isZero;Ve.isNegative=function(){return!this.unsigned&&this.high<0};Ve.isPositive=function(){return this.unsigned||this.high>=0};Ve.isOdd=function(){return(this.low&1)===1};Ve.isEven=function(){return(this.low&1)===0};Ve.equals=function(e){return In(e)||(e=Yi(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};Ve.eq=Ve.equals;Ve.notEquals=function(e){return!this.eq(e)};Ve.neq=Ve.notEquals;Ve.ne=Ve.notEquals;Ve.lessThan=function(e){return this.comp(e)<0};Ve.lt=Ve.lessThan;Ve.lessThanOrEqual=function(e){return this.comp(e)<=0};Ve.lte=Ve.lessThanOrEqual;Ve.le=Ve.lessThanOrEqual;Ve.greaterThan=function(e){return this.comp(e)>0};Ve.gt=Ve.greaterThan;Ve.greaterThanOrEqual=function(e){return this.comp(e)>=0};Ve.gte=Ve.greaterThanOrEqual;Ve.ge=Ve.greaterThanOrEqual;Ve.compare=function(e){if(In(e)||(e=Yi(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};Ve.comp=Ve.compare;Ve.negate=function(){return!this.unsigned&&this.eq(Ln)?Ln:this.not().add(Tl)};Ve.neg=Ve.negate;Ve.add=function(e){In(e)||(e=Yi(e));var r=this.high>>>16,n=this.high&65535,i=this.low>>>16,a=this.low&65535,o=e.high>>>16,s=e.high&65535,u=e.low>>>16,l=e.low&65535,c=0,h=0,f=0,v=0;return v+=a+l,f+=v>>>16,v&=65535,f+=i+u,h+=f>>>16,f&=65535,h+=n+s,c+=h>>>16,h&=65535,c+=r+o,c&=65535,fr(f<<16|v,c<<16|h,this.unsigned)};Ve.subtract=function(e){return In(e)||(e=Yi(e)),this.add(e.neg())};Ve.sub=Ve.subtract;Ve.multiply=function(e){if(this.isZero())return di;if(In(e)||(e=Yi(e)),fi){var r=fi.mul(this.low,this.high,e.low,e.high);return fr(r,fi.get_high(),this.unsigned)}if(e.isZero())return di;if(this.eq(Ln))return e.isOdd()?Ln:di;if(e.eq(Ln))return this.isOdd()?Ln:di;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(KC)&&e.lt(KC))return hi(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=this.high&65535,a=this.low>>>16,o=this.low&65535,s=e.high>>>16,u=e.high&65535,l=e.low>>>16,c=e.low&65535,h=0,f=0,v=0,p=0;return p+=o*c,v+=p>>>16,p&=65535,v+=a*c,f+=v>>>16,v&=65535,v+=o*l,f+=v>>>16,v&=65535,f+=i*c,h+=f>>>16,f&=65535,f+=a*l,h+=f>>>16,f&=65535,f+=o*u,h+=f>>>16,f&=65535,h+=n*c+i*l+a*u+o*s,h&=65535,fr(v<<16|p,h<<16|f,this.unsigned)};Ve.mul=Ve.multiply;Ve.divide=function(e){if(In(e)||(e=Yi(e)),e.isZero())throw Error("division by zero");if(fi){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?fi.div_u:fi.div_s)(this.low,this.high,e.low,e.high);return fr(r,fi.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ru:di;var n,i,a;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return ru;if(e.gt(this.shru(1)))return zR;a=ru}else{if(this.eq(Ln)){if(e.eq(Tl)||e.eq(l1))return Ln;if(e.eq(Ln))return Tl;var o=this.shr(1);return n=o.div(e).shl(1),n.eq(di)?e.isNegative()?Tl:l1:(i=this.sub(e.mul(n)),a=n.add(i.div(e)),a)}else if(e.eq(Ln))return this.unsigned?ru:di;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=di}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),u=s<=48?1:xp(2,s-48),l=hi(n),c=l.mul(e);c.isNegative()||c.gt(i);)n-=u,l=hi(n,this.unsigned),c=l.mul(e);l.isZero()&&(l=Tl),a=a.add(l),i=i.sub(c)}return a};Ve.div=Ve.divide;Ve.modulo=function(e){if(In(e)||(e=Yi(e)),fi){var r=(this.unsigned?fi.rem_u:fi.rem_s)(this.low,this.high,e.low,e.high);return fr(r,fi.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};Ve.mod=Ve.modulo;Ve.rem=Ve.modulo;Ve.not=function(){return fr(~this.low,~this.high,this.unsigned)};Ve.and=function(e){return In(e)||(e=Yi(e)),fr(this.low&e.low,this.high&e.high,this.unsigned)};Ve.or=function(e){return In(e)||(e=Yi(e)),fr(this.low|e.low,this.high|e.high,this.unsigned)};Ve.xor=function(e){return In(e)||(e=Yi(e)),fr(this.low^e.low,this.high^e.high,this.unsigned)};Ve.shiftLeft=function(e){return In(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?fr(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):fr(0,this.low<<e-32,this.unsigned)};Ve.shl=Ve.shiftLeft;Ve.shiftRight=function(e){return In(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?fr(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):fr(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};Ve.shr=Ve.shiftRight;Ve.shiftRightUnsigned=function(e){if(In(e)&&(e=e.toInt()),e&=63,e===0)return this;var r=this.high;if(e<32){var n=this.low;return fr(n>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?fr(r,0,this.unsigned):fr(r>>>e-32,0,this.unsigned)};Ve.shru=Ve.shiftRightUnsigned;Ve.shr_u=Ve.shiftRightUnsigned;Ve.toSigned=function(){return this.unsigned?fr(this.low,this.high,!1):this};Ve.toUnsigned=function(){return this.unsigned?this:fr(this.low,this.high,!0)};Ve.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};Ve.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};Ve.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};cr.fromBytes=function(e,r,n){return n?cr.fromBytesLE(e,r):cr.fromBytesBE(e,r)};cr.fromBytesLE=function(e,r){return new cr(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)};cr.fromBytesBE=function(e,r){return new cr(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)};const Wne=Ch($R),aae=rA({__proto__:null,default:Wne},[$R]);var mb={exports:{}};mb.exports;(function(t){(function(e,r,n){function i(u){var l=this,c=s();l.next=function(){var h=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=h-(l.c=h|0)},l.c=1,l.s0=c(" "),l.s1=c(" "),l.s2=c(" "),l.s0-=c(u),l.s0<0&&(l.s0+=1),l.s1-=c(u),l.s1<0&&(l.s1+=1),l.s2-=c(u),l.s2<0&&(l.s2+=1),c=null}function a(u,l){return l.c=u.c,l.s0=u.s0,l.s1=u.s1,l.s2=u.s2,l}function o(u,l){var c=new i(u),h=l&&l.state,f=c.next;return f.int32=function(){return c.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,h&&(typeof h=="object"&&a(h,c),f.state=function(){return a(c,{})}),f}function s(){var u=4022871197,l=function(c){c=String(c);for(var h=0;h<c.length;h++){u+=c.charCodeAt(h);var f=.02519603282416938*u;u=f>>>0,f-=u,f*=u,u=f>>>0,f-=u,u+=f*4294967296}return(u>>>0)*23283064365386963e-26};return l}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.alea=o})(pi,t,!1)})(mb);var Yne=mb.exports,yb={exports:{}};yb.exports;(function(t){(function(e,r,n){function i(s){var u=this,l="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var h=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^h^h>>>8},s===(s|0)?u.x=s:l+=s;for(var c=0;c<l.length+64;c++)u.x^=l.charCodeAt(c)|0,u.next()}function a(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u}function o(s,u){var l=new i(s),c=u&&u.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var f=l.next()>>>11,v=(l.next()>>>0)/4294967296,p=(f+v)/(1<<21);while(p===0);return p},h.int32=l.next,h.quick=h,c&&(typeof c=="object"&&a(c,l),h.state=function(){return a(l,{})}),h}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xor128=o})(pi,t,!1)})(yb);var Xne=yb.exports,_b={exports:{}};_b.exports;(function(t){(function(e,r,n){function i(s){var u=this,l="";u.next=function(){var h=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^(h^h<<1))|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,s===(s|0)?u.x=s:l+=s;for(var c=0;c<l.length+64;c++)u.x^=l.charCodeAt(c)|0,c==l.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function a(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u.v=s.v,u.d=s.d,u}function o(s,u){var l=new i(s),c=u&&u.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var f=l.next()>>>11,v=(l.next()>>>0)/4294967296,p=(f+v)/(1<<21);while(p===0);return p},h.int32=l.next,h.quick=h,c&&(typeof c=="object"&&a(c,l),h.state=function(){return a(l,{})}),h}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xorwow=o})(pi,t,!1)})(_b);var qne=_b.exports,bb={exports:{}};bb.exports;(function(t){(function(e,r,n){function i(s){var u=this;u.next=function(){var c=u.x,h=u.i,f,v;return f=c[h],f^=f>>>7,v=f^f<<24,f=c[h+1&7],v^=f^f>>>10,f=c[h+3&7],v^=f^f>>>3,f=c[h+4&7],v^=f^f<<7,f=c[h+7&7],f=f^f<<13,v^=f^f<<9,c[h]=v,u.i=h+1&7,v};function l(c,h){var f,v=[];if(h===(h|0))v[0]=h;else for(h=""+h,f=0;f<h.length;++f)v[f&7]=v[f&7]<<15^h.charCodeAt(f)+v[f+1&7]<<13;for(;v.length<8;)v.push(0);for(f=0;f<8&&v[f]===0;++f);for(f==8?v[7]=-1:v[f],c.x=v,c.i=0,f=256;f>0;--f)c.next()}l(u,s)}function a(s,u){return u.x=s.x.slice(),u.i=s.i,u}function o(s,u){s==null&&(s=+new Date);var l=new i(s),c=u&&u.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var f=l.next()>>>11,v=(l.next()>>>0)/4294967296,p=(f+v)/(1<<21);while(p===0);return p},h.int32=l.next,h.quick=h,c&&(c.x&&a(c,l),h.state=function(){return a(l,{})}),h}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xorshift7=o})(pi,t,!1)})(bb);var Zne=bb.exports,xb={exports:{}};xb.exports;(function(t){(function(e,r,n){function i(s){var u=this;u.next=function(){var c=u.w,h=u.X,f=u.i,v,p;return u.w=c=c+1640531527|0,p=h[f+34&127],v=h[f=f+1&127],p^=p<<13,v^=v<<17,p^=p>>>15,v^=v>>>12,p=h[f]=p^v,u.i=f,p+(c^c>>>16)|0};function l(c,h){var f,v,p,g,m,_=[],b=128;for(h===(h|0)?(v=h,h=null):(h=h+"\0",v=0,b=Math.max(b,h.length)),p=0,g=-32;g<b;++g)h&&(v^=h.charCodeAt((g+32)%h.length)),g===0&&(m=v),v^=v<<10,v^=v>>>15,v^=v<<4,v^=v>>>13,g>=0&&(m=m+1640531527|0,f=_[g&127]^=v+m,p=f==0?p+1:0);for(p>=128&&(_[(h&&h.length||0)&127]=-1),p=127,g=4*128;g>0;--g)v=_[p+34&127],f=_[p=p+1&127],v^=v<<13,f^=f<<17,v^=v>>>15,f^=f>>>12,_[p]=v^f;c.w=m,c.X=_,c.i=p}l(u,s)}function a(s,u){return u.i=s.i,u.w=s.w,u.X=s.X.slice(),u}function o(s,u){s==null&&(s=+new Date);var l=new i(s),c=u&&u.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var f=l.next()>>>11,v=(l.next()>>>0)/4294967296,p=(f+v)/(1<<21);while(p===0);return p},h.int32=l.next,h.quick=h,c&&(c.X&&a(c,l),h.state=function(){return a(l,{})}),h}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xor4096=o})(pi,t,!1)})(xb);var Kne=xb.exports,Sb={exports:{}};Sb.exports;(function(t){(function(e,r,n){function i(s){var u=this,l="";u.next=function(){var h=u.b,f=u.c,v=u.d,p=u.a;return h=h<<25^h>>>7^f,f=f-v|0,v=v<<24^v>>>8^p,p=p-h|0,u.b=h=h<<20^h>>>12^f,u.c=f=f-v|0,u.d=v<<16^f>>>16^p,u.a=p-h|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,s===Math.floor(s)?(u.a=s/4294967296|0,u.b=s|0):l+=s;for(var c=0;c<l.length+20;c++)u.b^=l.charCodeAt(c)|0,u.next()}function a(s,u){return u.a=s.a,u.b=s.b,u.c=s.c,u.d=s.d,u}function o(s,u){var l=new i(s),c=u&&u.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var f=l.next()>>>11,v=(l.next()>>>0)/4294967296,p=(f+v)/(1<<21);while(p===0);return p},h.int32=l.next,h.quick=h,c&&(typeof c=="object"&&a(c,l),h.state=function(){return a(l,{})}),h}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.tychei=o})(pi,t,!1)})(Sb);var Qne=Sb.exports,GR={exports:{}};const Jne={},eie=Object.freeze(Object.defineProperty({__proto__:null,default:Jne},Symbol.toStringTag,{value:"Module"})),tie=p7(eie);(function(t){(function(e,r,n){var i=256,a=6,o=52,s="random",u=n.pow(i,a),l=n.pow(2,o),c=l*2,h=i-1,f;function v(T,k,A){var M=[];k=k==!0?{entropy:!0}:k||{};var O=_(m(k.entropy?[T,w(r)]:T??b(),3),M),F=new p(M),$=function(){for(var B=F.g(a),U=u,H=0;B<l;)B=(B+H)*i,U*=i,H=F.g(1);for(;B>=c;)B/=2,U/=2,H>>>=1;return(B+H)/U};return $.int32=function(){return F.g(4)|0},$.quick=function(){return F.g(4)/4294967296},$.double=$,_(w(F.S),r),(k.pass||A||function(B,U,H,W){return W&&(W.S&&g(W,F),B.state=function(){return g(F,{})}),H?(n[s]=B,U):B})($,O,"global"in k?k.global:this==n,k.state)}function p(T){var k,A=T.length,M=this,O=0,F=M.i=M.j=0,$=M.S=[];for(A||(T=[A++]);O<i;)$[O]=O++;for(O=0;O<i;O++)$[O]=$[F=h&F+T[O%A]+(k=$[O])],$[F]=k;(M.g=function(B){for(var U,H=0,W=M.i,z=M.j,G=M.S;B--;)U=G[W=h&W+1],H=H*i+G[h&(G[W]=G[z=h&z+U])+(G[z]=U)];return M.i=W,M.j=z,H})(i)}function g(T,k){return k.i=T.i,k.j=T.j,k.S=T.S.slice(),k}function m(T,k){var A=[],M=typeof T,O;if(k&&M=="object")for(O in T)try{A.push(m(T[O],k-1))}catch{}return A.length?A:M=="string"?T:T+"\0"}function _(T,k){for(var A=T+"",M,O=0;O<A.length;)k[h&O]=h&(M^=k[h&O]*19)+A.charCodeAt(O++);return w(k)}function b(){try{var T;return f&&(T=f.randomBytes)?T=T(i):(T=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(T)),w(T)}catch{var k=e.navigator,A=k&&k.plugins;return[+new Date,e,A,e.screen,w(r)]}}function w(T){return String.fromCharCode.apply(0,T)}if(_(n.random(),r),t.exports){t.exports=v;try{f=tie}catch{}}else n["seed"+s]=v})(typeof self<"u"?self:pi,[],Math)})(GR);var rie=GR.exports,nie=Yne,iie=Xne,aie=qne,oie=Zne,sie=Kne,uie=Qne,Du=rie;Du.alea=nie;Du.xor128=iie;Du.xorwow=aie;Du.xorshift7=oie;Du.xor4096=sie;Du.tychei=uie;var oae=Du,sae={};(function(){var t;function e(x){var P=0;return function(){return P<x.length?{done:!1,value:x[P++]}:{done:!0}}}var r=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,P,D){return x==Array.prototype||x==Object.prototype||(x[P]=D.value),x};function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof pi=="object"&&pi];for(var P=0;P<x.length;++P){var D=x[P];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var i=n(this);function a(x,P){if(P)e:{var D=i;x=x.split(".");for(var V=0;V<x.length-1;V++){var ee=x[V];if(!(ee in D))break e;D=D[ee]}x=x[x.length-1],V=D[x],P=P(V),P!=V&&P!=null&&r(D,x,{configurable:!0,writable:!0,value:P})}}a("Symbol",function(x){function P(ne){if(this instanceof P)throw new TypeError("Symbol is not a constructor");return new D(V+(ne||"")+"_"+ee++,ne)}function D(ne,ie){this.h=ne,r(this,"description",{configurable:!0,writable:!0,value:ie})}if(x)return x;D.prototype.toString=function(){return this.h};var V="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",ee=0;return P}),a("Symbol.iterator",function(x){if(x)return x;x=Symbol("Symbol.iterator");for(var P="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),D=0;D<P.length;D++){var V=i[P[D]];typeof V=="function"&&typeof V.prototype[x]!="function"&&r(V.prototype,x,{configurable:!0,writable:!0,value:function(){return o(e(this))}})}return x});function o(x){return x={next:x},x[Symbol.iterator]=function(){return this},x}function s(x){var P=typeof Symbol<"u"&&Symbol.iterator&&x[Symbol.iterator];return P?P.call(x):{next:e(x)}}function u(x){if(!(x instanceof Array)){x=s(x);for(var P,D=[];!(P=x.next()).done;)D.push(P.value);x=D}return x}var l=typeof Object.assign=="function"?Object.assign:function(x,P){for(var D=1;D<arguments.length;D++){var V=arguments[D];if(V)for(var ee in V)Object.prototype.hasOwnProperty.call(V,ee)&&(x[ee]=V[ee])}return x};a("Object.assign",function(x){return x||l});var c=typeof Object.create=="function"?Object.create:function(x){function P(){}return P.prototype=x,new P},h;if(typeof Object.setPrototypeOf=="function")h=Object.setPrototypeOf;else{var f;e:{var v={a:!0},p={};try{p.__proto__=v,f=p.a;break e}catch{}f=!1}h=f?function(x,P){if(x.__proto__=P,x.__proto__!==P)throw new TypeError(x+" is not extensible");return x}:null}var g=h;function m(x,P){if(x.prototype=c(P.prototype),x.prototype.constructor=x,g)g(x,P);else for(var D in P)if(D!="prototype")if(Object.defineProperties){var V=Object.getOwnPropertyDescriptor(P,D);V&&Object.defineProperty(x,D,V)}else x[D]=P[D];x.za=P.prototype}function _(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function b(x){if(x.m)throw new TypeError("Generator is already running");x.m=!0}_.prototype.u=function(x){this.i=x};function w(x,P){x.l={ma:P,na:!0},x.h=x.s||x.v}_.prototype.return=function(x){this.l={return:x},this.h=this.v};function T(x,P,D){return x.h=D,{value:P}}function k(x){this.h=new _,this.i=x}function A(x,P){b(x.h);var D=x.h.j;return D?M(x,"return"in D?D.return:function(V){return{value:V,done:!0}},P,x.h.return):(x.h.return(P),O(x))}function M(x,P,D,V){try{var ee=P.call(x.h.j,D);if(!(ee instanceof Object))throw new TypeError("Iterator result "+ee+" is not an object");if(!ee.done)return x.h.m=!1,ee;var ne=ee.value}catch(ie){return x.h.j=null,w(x.h,ie),O(x)}return x.h.j=null,V.call(x.h,ne),O(x)}function O(x){for(;x.h.h;)try{var P=x.i(x.h);if(P)return x.h.m=!1,{value:P.value,done:!1}}catch(D){x.h.i=void 0,w(x.h,D)}if(x.h.m=!1,x.h.l){if(P=x.h.l,x.h.l=null,P.na)throw P.ma;return{value:P.return,done:!0}}return{value:void 0,done:!0}}function F(x){this.next=function(P){return b(x.h),x.h.j?P=M(x,x.h.j.next,P,x.h.u):(x.h.u(P),P=O(x)),P},this.throw=function(P){return b(x.h),x.h.j?P=M(x,x.h.j.throw,P,x.h.u):(w(x.h,P),P=O(x)),P},this.return=function(P){return A(x,P)},this[Symbol.iterator]=function(){return this}}function $(x){function P(V){return x.next(V)}function D(V){return x.throw(V)}return new Promise(function(V,ee){function ne(ie){ie.done?V(ie.value):Promise.resolve(ie.value).then(P,D).then(ne,ee)}ne(x.next())})}function B(x){return $(new F(new k(x)))}a("Promise",function(x){function P(ie){this.i=0,this.j=void 0,this.h=[],this.u=!1;var ue=this.l();try{ie(ue.resolve,ue.reject)}catch(ye){ue.reject(ye)}}function D(){this.h=null}function V(ie){return ie instanceof P?ie:new P(function(ue){ue(ie)})}if(x)return x;D.prototype.i=function(ie){if(this.h==null){this.h=[];var ue=this;this.j(function(){ue.m()})}this.h.push(ie)};var ee=i.setTimeout;D.prototype.j=function(ie){ee(ie,0)},D.prototype.m=function(){for(;this.h&&this.h.length;){var ie=this.h;this.h=[];for(var ue=0;ue<ie.length;++ue){var ye=ie[ue];ie[ue]=null;try{ye()}catch(Me){this.l(Me)}}}this.h=null},D.prototype.l=function(ie){this.j(function(){throw ie})},P.prototype.l=function(){function ie(Me){return function(Ue){ye||(ye=!0,Me.call(ue,Ue))}}var ue=this,ye=!1;return{resolve:ie(this.I),reject:ie(this.m)}},P.prototype.I=function(ie){if(ie===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(ie instanceof P)this.L(ie);else{e:switch(typeof ie){case"object":var ue=ie!=null;break e;case"function":ue=!0;break e;default:ue=!1}ue?this.F(ie):this.s(ie)}},P.prototype.F=function(ie){var ue=void 0;try{ue=ie.then}catch(ye){this.m(ye);return}typeof ue=="function"?this.M(ue,ie):this.s(ie)},P.prototype.m=function(ie){this.v(2,ie)},P.prototype.s=function(ie){this.v(1,ie)},P.prototype.v=function(ie,ue){if(this.i!=0)throw Error("Cannot settle("+ie+", "+ue+"): Promise already settled in state"+this.i);this.i=ie,this.j=ue,this.i===2&&this.K(),this.H()},P.prototype.K=function(){var ie=this;ee(function(){if(ie.D()){var ue=i.console;typeof ue<"u"&&ue.error(ie.j)}},1)},P.prototype.D=function(){if(this.u)return!1;var ie=i.CustomEvent,ue=i.Event,ye=i.dispatchEvent;return typeof ye>"u"?!0:(typeof ie=="function"?ie=new ie("unhandledrejection",{cancelable:!0}):typeof ue=="function"?ie=new ue("unhandledrejection",{cancelable:!0}):(ie=i.document.createEvent("CustomEvent"),ie.initCustomEvent("unhandledrejection",!1,!0,ie)),ie.promise=this,ie.reason=this.j,ye(ie))},P.prototype.H=function(){if(this.h!=null){for(var ie=0;ie<this.h.length;++ie)ne.i(this.h[ie]);this.h=null}};var ne=new D;return P.prototype.L=function(ie){var ue=this.l();ie.T(ue.resolve,ue.reject)},P.prototype.M=function(ie,ue){var ye=this.l();try{ie.call(ue,ye.resolve,ye.reject)}catch(Me){ye.reject(Me)}},P.prototype.then=function(ie,ue){function ye(tt,Xe){return typeof tt=="function"?function(st){try{Me(tt(st))}catch(bt){Ue(bt)}}:Xe}var Me,Ue,at=new P(function(tt,Xe){Me=tt,Ue=Xe});return this.T(ye(ie,Me),ye(ue,Ue)),at},P.prototype.catch=function(ie){return this.then(void 0,ie)},P.prototype.T=function(ie,ue){function ye(){switch(Me.i){case 1:ie(Me.j);break;case 2:ue(Me.j);break;default:throw Error("Unexpected state: "+Me.i)}}var Me=this;this.h==null?ne.i(ye):this.h.push(ye),this.u=!0},P.resolve=V,P.reject=function(ie){return new P(function(ue,ye){ye(ie)})},P.race=function(ie){return new P(function(ue,ye){for(var Me=s(ie),Ue=Me.next();!Ue.done;Ue=Me.next())V(Ue.value).T(ue,ye)})},P.all=function(ie){var ue=s(ie),ye=ue.next();return ye.done?V([]):new P(function(Me,Ue){function at(st){return function(bt){tt[st]=bt,Xe--,Xe==0&&Me(tt)}}var tt=[],Xe=0;do tt.push(void 0),Xe++,V(ye.value).T(at(tt.length-1),Ue),ye=ue.next();while(!ye.done)})},P});function U(x,P){x instanceof String&&(x+="");var D=0,V=!1,ee={next:function(){if(!V&&D<x.length){var ne=D++;return{value:P(ne,x[ne]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}a("Array.prototype.keys",function(x){return x||function(){return U(this,function(P){return P})}}),a("Array.prototype.fill",function(x){return x||function(P,D,V){var ee=this.length||0;for(0>D&&(D=Math.max(0,ee+D)),(V==null||V>ee)&&(V=ee),V=Number(V),0>V&&(V=Math.max(0,ee+V)),D=Number(D||0);D<V;D++)this[D]=P;return this}});function H(x){return x||Array.prototype.fill}a("Int8Array.prototype.fill",H),a("Uint8Array.prototype.fill",H),a("Uint8ClampedArray.prototype.fill",H),a("Int16Array.prototype.fill",H),a("Uint16Array.prototype.fill",H),a("Int32Array.prototype.fill",H),a("Uint32Array.prototype.fill",H),a("Float32Array.prototype.fill",H),a("Float64Array.prototype.fill",H),a("Object.is",function(x){return x||function(P,D){return P===D?P!==0||1/P===1/D:P!==P&&D!==D}}),a("Array.prototype.includes",function(x){return x||function(P,D){var V=this;V instanceof String&&(V=String(V));var ee=V.length;for(D=D||0,0>D&&(D=Math.max(D+ee,0));D<ee;D++){var ne=V[D];if(ne===P||Object.is(ne,P))return!0}return!1}}),a("String.prototype.includes",function(x){return x||function(P,D){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(P instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(P,D||0)!==-1}});var W=this||self;function z(x,P){x=x.split(".");var D=W;x[0]in D||typeof D.execScript>"u"||D.execScript("var "+x[0]);for(var V;x.length&&(V=x.shift());)x.length||P===void 0?D[V]&&D[V]!==Object.prototype[V]?D=D[V]:D=D[V]={}:D[V]=P}function G(x){var P;e:{if((P=W.navigator)&&(P=P.userAgent))break e;P=""}return P.indexOf(x)!=-1}var Y=Array.prototype.map?function(x,P){return Array.prototype.map.call(x,P,void 0)}:function(x,P){for(var D=x.length,V=Array(D),ee=typeof x=="string"?x.split(""):x,ne=0;ne<D;ne++)ne in ee&&(V[ne]=P.call(void 0,ee[ne],ne,x));return V},Q={},J=null;function ae(x){var P=x.length,D=3*P/4;D%3?D=Math.floor(D):"=.".indexOf(x[P-1])!=-1&&(D="=.".indexOf(x[P-2])!=-1?D-2:D-1);var V=new Uint8Array(D),ee=0;return he(x,function(ne){V[ee++]=ne}),ee!==D?V.subarray(0,ee):V}function he(x,P){function D(ye){for(;V<x.length;){var Me=x.charAt(V++),Ue=J[Me];if(Ue!=null)return Ue;if(!/^[\s\xa0]*$/.test(Me))throw Error("Unknown base64 encoding at char: "+Me)}return ye}ve();for(var V=0;;){var ee=D(-1),ne=D(0),ie=D(64),ue=D(64);if(ue===64&&ee===-1)break;P(ee<<2|ne>>4),ie!=64&&(P(ne<<4&240|ie>>2),ue!=64&&P(ie<<6&192|ue))}}function ve(){if(!J){J={};for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),P=["+/=","+/","-_=","-_.","-_"],D=0;5>D;D++){var V=x.concat(P[D].split(""));Q[D]=V;for(var ee=0;ee<V.length;ee++){var ne=V[ee];J[ne]===void 0&&(J[ne]=ee)}}}}var we=typeof Uint8Array<"u",Te=!(G("Trident")||G("MSIE"))&&typeof W.btoa=="function";function Le(x){if(!Te){var P;P===void 0&&(P=0),ve(),P=Q[P];for(var D=Array(Math.floor(x.length/3)),V=P[64]||"",ee=0,ne=0;ee<x.length-2;ee+=3){var ie=x[ee],ue=x[ee+1],ye=x[ee+2],Me=P[ie>>2];ie=P[(ie&3)<<4|ue>>4],ue=P[(ue&15)<<2|ye>>6],ye=P[ye&63],D[ne++]=Me+ie+ue+ye}switch(Me=0,ye=V,x.length-ee){case 2:Me=x[ee+1],ye=P[(Me&15)<<2]||V;case 1:x=x[ee],D[ne]=P[x>>2]+P[(x&3)<<4|Me>>4]+ye+V}return D.join("")}for(P="";10240<x.length;)P+=String.fromCharCode.apply(null,x.subarray(0,10240)),x=x.subarray(10240);return P+=String.fromCharCode.apply(null,x),btoa(P)}var $e=RegExp("[-_.]","g");function se(x){switch(x){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function pe(x){if(!Te)return ae(x);$e.test(x)&&(x=x.replace($e,se)),x=atob(x);for(var P=new Uint8Array(x.length),D=0;D<x.length;D++)P[D]=x.charCodeAt(D);return P}var ge;function be(){return ge||(ge=new Uint8Array(0))}var Ce={},He=typeof Uint8Array.prototype.slice=="function",Ie=0,Ne=0;function vt(x){var P=0>x;x=Math.abs(x);var D=x>>>0;x=Math.floor((x-D)/4294967296),P&&(D=s(It(D,x)),P=D.next().value,x=D.next().value,D=P),Ie=D>>>0,Ne=x>>>0}var Yt=typeof BigInt=="function";function It(x,P){return P=~P,x?x=~x+1:P+=1,[x,P]}function hn(x,P){this.i=x>>>0,this.h=P>>>0}function Yr(x){if(!x)return de||(de=new hn(0,0));if(!/^-?\d+$/.test(x))return null;if(16>x.length)vt(Number(x));else if(Yt)x=BigInt(x),Ie=Number(x&BigInt(4294967295))>>>0,Ne=Number(x>>BigInt(32)&BigInt(4294967295));else{var P=+(x[0]==="-");Ne=Ie=0;for(var D=x.length,V=P,ee=(D-P)%6+P;ee<=D;V=ee,ee+=6)V=Number(x.slice(V,ee)),Ne*=1e6,Ie=1e6*Ie+V,4294967296<=Ie&&(Ne+=Ie/4294967296|0,Ie%=4294967296);P&&(P=s(It(Ie,Ne)),x=P.next().value,P=P.next().value,Ie=x,Ne=P)}return new hn(Ie,Ne)}var de;function Vt(x,P){return Error("Invalid wire type: "+x+" (at position "+P+")")}function Ar(){return Error("Failed to read varint, encoding is invalid.")}function yr(x,P){return Error("Tried to read past the end of the data "+P+" > "+x)}function Ae(){throw Error("Invalid UTF8")}function yt(x,P){return P=String.fromCharCode.apply(null,P),x==null?P:x+P}var pr=void 0,dn,Bn=typeof TextDecoder<"u",Si,yc=typeof TextEncoder<"u",Nn;function Qn(x){if(x!==Ce)throw Error("illegal external caller")}function Mr(x,P){if(Qn(P),this.V=x,x!=null&&x.length===0)throw Error("ByteString should be constructed with non-empty values")}function ss(){return Nn||(Nn=new Mr(null,Ce))}function us(x){Qn(Ce);var P=x.V;return P=P==null||we&&P!=null&&P instanceof Uint8Array?P:typeof P=="string"?pe(P):null,P==null?P:x.V=P}function Xi(x){if(typeof x=="string")return{buffer:pe(x),C:!1};if(Array.isArray(x))return{buffer:new Uint8Array(x),C:!1};if(x.constructor===Uint8Array)return{buffer:x,C:!1};if(x.constructor===ArrayBuffer)return{buffer:new Uint8Array(x),C:!1};if(x.constructor===Mr)return{buffer:us(x)||be(),C:!0};if(x instanceof Uint8Array)return{buffer:new Uint8Array(x.buffer,x.byteOffset,x.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function mr(x,P){this.i=null,this.m=!1,this.h=this.j=this.l=0,At(this,x,P)}function At(x,P,D){D=D===void 0?{}:D,x.S=D.S===void 0?!1:D.S,P&&(P=Xi(P),x.i=P.buffer,x.m=P.C,x.l=0,x.j=x.i.length,x.h=x.l)}mr.prototype.reset=function(){this.h=this.l};function Xr(x,P){if(x.h=P,P>x.j)throw yr(x.j,P)}function Pa(x){var P=x.i,D=x.h,V=P[D++],ee=V&127;if(V&128&&(V=P[D++],ee|=(V&127)<<7,V&128&&(V=P[D++],ee|=(V&127)<<14,V&128&&(V=P[D++],ee|=(V&127)<<21,V&128&&(V=P[D++],ee|=V<<28,V&128&&P[D++]&128&&P[D++]&128&&P[D++]&128&&P[D++]&128&&P[D++]&128)))))throw Ar();return Xr(x,D),ee}function zr(x,P){if(0>P)throw Error("Tried to read a negative byte length: "+P);var D=x.h,V=D+P;if(V>x.j)throw yr(P,x.j-D);return x.h=V,D}var Fn=[];function qi(){this.h=[]}qi.prototype.length=function(){return this.h.length},qi.prototype.end=function(){var x=this.h;return this.h=[],x};function ls(x,P,D){for(;0<D||127<P;)x.h.push(P&127|128),P=(P>>>7|D<<25)>>>0,D>>>=7;x.h.push(P)}function wi(x,P){for(;127<P;)x.h.push(P&127|128),P>>>=7;x.h.push(P)}function lo(x,P){if(Fn.length){var D=Fn.pop();At(D,x,P),x=D}else x=new mr(x,P);this.h=x,this.j=this.h.h,this.i=this.l=-1,this.setOptions(P)}lo.prototype.setOptions=function(x){x=x===void 0?{}:x,this.ca=x.ca===void 0?!1:x.ca},lo.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function cs(x){var P=x.h;if(P.h==P.j)return!1;x.j=x.h.h;var D=Pa(x.h)>>>0;if(P=D>>>3,D&=7,!(0<=D&&5>=D))throw Vt(D,x.j);if(1>P)throw Error("Invalid field number: "+P+" (at position "+x.j+")");return x.l=P,x.i=D,!0}function co(x){switch(x.i){case 0:if(x.i!=0)co(x);else e:{x=x.h;for(var P=x.h,D=P+10,V=x.i;P<D;)if(!(V[P++]&128)){Xr(x,P);break e}throw Ar()}break;case 1:x=x.h,Xr(x,x.h+8);break;case 2:x.i!=2?co(x):(P=Pa(x.h)>>>0,x=x.h,Xr(x,x.h+P));break;case 5:x=x.h,Xr(x,x.h+4);break;case 3:P=x.l;do{if(!cs(x))throw Error("Unmatched start-group tag: stream EOF");if(x.i==4){if(x.l!=P)throw Error("Unmatched end-group tag");break}co(x)}while(1);break;default:throw Vt(x.i,x.j)}}var tn=[];function fs(){this.j=[],this.i=0,this.h=new qi}function Dr(x,P){P.length!==0&&(x.j.push(P),x.i+=P.length)}function Qe(x,P){if(P=P.R){Dr(x,x.h.end());for(var D=0;D<P.length;D++)Dr(x,us(P[D])||be())}}var ke=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function Jn(x,P){return ke?x[ke]|=P:x.A!==void 0?x.A|=P:(Object.defineProperties(x,{A:{value:P,configurable:!0,writable:!0,enumerable:!1}}),P)}function Ea(x,P){ke?x[ke]&&(x[ke]&=~P):x.A!==void 0&&(x.A&=~P)}function Qt(x){var P;return ke?P=x[ke]:P=x.A,P??0}function kr(x,P){ke?x[ke]=P:x.A!==void 0?x.A=P:Object.defineProperties(x,{A:{value:P,configurable:!0,writable:!0,enumerable:!1}})}function Ma(x){return Jn(x,1),x}function _c(x,P){kr(P,(x|0)&-51)}function fo(x,P){kr(P,(x|18)&-41)}var Da={};function La(x){return x!==null&&typeof x=="object"&&!Array.isArray(x)&&x.constructor===Object}var Zi,Lu=[];kr(Lu,23),Zi=Object.freeze(Lu);function Ra(x){if(Qt(x.o)&2)throw Error("Cannot mutate an immutable Message")}function Oa(x){var P=x.length;(P=P?x[P-1]:void 0)&&La(P)?P.g=1:(P={},x.push((P.g=1,P)))}function hs(x){var P=x.i+x.G;return x.B||(x.B=x.o[P]={})}function rn(x,P){return P===-1?null:P>=x.i?x.B?x.B[P]:void 0:x.o[P+x.G]}function vn(x,P,D,V){Ra(x),Ki(x,P,D,V)}function Ki(x,P,D,V){x.j&&(x.j=void 0),P>=x.i||V?hs(x)[P]=D:(x.o[P+x.G]=D,(x=x.B)&&P in x&&delete x[P])}function ds(x,P,D,V){var ee=rn(x,P);Array.isArray(ee)||(ee=Zi);var ne=Qt(ee);if(ne&1||Ma(ee),V)ne&2||Jn(ee,2),D&1||Object.freeze(ee);else{V=!(D&2);var ie=ne&2;D&1||!ie?V&&ne&16&&!ie&&Ea(ee,16):(ee=Ma(Array.prototype.slice.call(ee)),Ki(x,P,ee))}return ee}function re(x,P){var D=rn(x,P),V=D==null?D:typeof D=="number"||D==="NaN"||D==="Infinity"||D==="-Infinity"?Number(D):void 0;return V!=null&&V!==D&&Ki(x,P,V),V}function N(x,P,D,V,ee){x.h||(x.h={});var ne=x.h[D],ie=ds(x,D,3,ee);if(!ne){var ue=ie;ne=[];var ye=!!(Qt(x.o)&16);ie=!!(Qt(ue)&2);var Me=ue;!ee&&ie&&(ue=Array.prototype.slice.call(ue));for(var Ue=ie,at=0;at<ue.length;at++){var tt=ue[at],Xe=P,st=!1;if(st=st===void 0?!1:st,tt=Array.isArray(tt)?new Xe(tt):st?new Xe:void 0,tt!==void 0){Xe=tt.o;var bt=st=Qt(Xe);ie&&(bt|=2),ye&&(bt|=16),bt!=st&&kr(Xe,bt),Xe=bt,Ue=Ue||!!(2&Xe),ne.push(tt)}}return x.h[D]=ne,ye=Qt(ue),P=ye|33,P=Ue?P&-9:P|8,ye!=P&&(Ue=ue,Object.isFrozen(Ue)&&(Ue=Array.prototype.slice.call(Ue)),kr(Ue,P),ue=Ue),Me!==ue&&Ki(x,D,ue),(ee||V&&ie)&&Jn(ne,2),V&&Object.freeze(ne),ne}return ee||(ee=Object.isFrozen(ne),V&&!ee?Object.freeze(ne):!V&&ee&&(ne=Array.prototype.slice.call(ne),x.h[D]=ne)),ne}function L(x,P,D){var V=!!(Qt(x.o)&2);if(P=N(x,P,D,V,V),x=ds(x,D,3,V),!(V||Qt(x)&8)){for(V=0;V<P.length;V++){if(D=P[V],Qt(D.o)&2){var ee=Tn(D,!1);ee.j=D}else ee=D;D!==ee&&(P[V]=ee,x[V]=ee.o)}Jn(x,8)}return P}function I(x,P,D){if(D!=null&&typeof D!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof D+": "+D);vn(x,P,D)}function Z(x,P,D,V,ee){Ra(x);var ne=N(x,D,P,!1,!1);return D=V??new D,x=ds(x,P,2,!1),ee!=null?(ne.splice(ee,0,D),x.splice(ee,0,D.o)):(ne.push(D),x.push(D.o)),D.C()&&Ea(x,8),D}function oe(x,P){return x??P}function le(x,P,D){return D=D===void 0?0:D,oe(re(x,P),D)}var me;function Pe(x){switch(typeof x){case"number":return isFinite(x)?x:String(x);case"object":if(x)if(Array.isArray(x)){if(Qt(x)&128)return x=Array.prototype.slice.call(x),Oa(x),x}else{if(we&&x!=null&&x instanceof Uint8Array)return Le(x);if(x instanceof Mr){var P=x.V;return P==null?"":typeof P=="string"?P:x.V=Le(P)}}}return x}function ze(x,P,D,V){if(x!=null){if(Array.isArray(x))x=Be(x,P,D,V!==void 0);else if(La(x)){var ee={},ne;for(ne in x)ee[ne]=ze(x[ne],P,D,V);x=ee}else x=P(x,V);return x}}function Be(x,P,D,V){var ee=Qt(x);V=V?!!(ee&16):void 0,x=Array.prototype.slice.call(x);for(var ne=0;ne<x.length;ne++)x[ne]=ze(x[ne],P,D,V);return D(ee,x),x}function Ze(x){return x.ja===Da?x.toJSON():Pe(x)}function Ke(x,P){x&128&&Oa(P)}function Pt(x,P,D){if(D=D===void 0?fo:D,x!=null){if(we&&x instanceof Uint8Array)return x.length?new Mr(new Uint8Array(x),Ce):ss();if(Array.isArray(x)){var V=Qt(x);return V&2?x:P&&!(V&32)&&(V&16||V===0)?(kr(x,V|2),x):(x=Be(x,Pt,V&4?fo:D,!0),P=Qt(x),P&4&&P&2&&Object.freeze(x),x)}return x.ja===Da?nt(x):x}}function ir(x,P,D,V,ee,ne,ie){if(x=x.h&&x.h[D]){if(V=Qt(x),V&2?V=x:(ne=Y(x,nt),fo(V,ne),Object.freeze(ne),V=ne),Ra(P),ie=V==null?Zi:Ma([]),V!=null){for(ne=!!V.length,x=0;x<V.length;x++){var ue=V[x];ne=ne&&!(Qt(ue.o)&2),ie[x]=ue.o}ne=(ne?8:0)|1,x=Qt(ie),(x&ne)!==ne&&(Object.isFrozen(ie)&&(ie=Array.prototype.slice.call(ie)),kr(ie,x|ne)),P.h||(P.h={}),P.h[D]=V}else P.h&&(P.h[D]=void 0);Ki(P,D,ie,ee)}else vn(P,D,Pt(V,ne,ie),ee)}function nt(x){return Qt(x.o)&2||(x=Tn(x,!0),Jn(x.o,2)),x}function Tn(x,P){var D=x.o,V=[];Jn(V,16);var ee=x.constructor.h;if(ee&&V.push(ee),ee=x.B,ee){V.length=D.length,V.fill(void 0,V.length,D.length);var ne={};V[V.length-1]=ne}Qt(D)&128&&Oa(V),P=P||x.C()?fo:_c,ne=x.constructor,me=V,V=new ne(V),me=void 0,x.R&&(V.R=x.R.slice()),ne=!!(Qt(D)&16);for(var ie=ee?D.length-1:D.length,ue=0;ue<ie;ue++)ir(x,V,ue-x.G,D[ue],!1,ne,P);if(ee)for(var ye in ee)ir(x,V,+ye,ee[ye],!0,ne,P);return V}function pt(x,P,D){x==null&&(x=me),me=void 0;var V=this.constructor.i||0,ee=0<V,ne=this.constructor.h,ie=!1;if(x==null){x=ne?[ne]:[];var ue=48,ye=!0;ee&&(V=0,ue|=128),kr(x,ue)}else{if(!Array.isArray(x)||ne&&ne!==x[0])throw Error();var Me=ue=Jn(x,0);if((ye=(16&Me)!==0)&&((ie=(32&Me)!==0)||(Me|=32)),ee){if(128&Me)V=0;else if(0<x.length){var Ue=x[x.length-1];if(La(Ue)&&"g"in Ue){V=0,Me|=128,delete Ue.g;var at=!0,tt;for(tt in Ue){at=!1;break}at&&x.pop()}}}else if(128&Me)throw Error();ue!==Me&&kr(x,Me)}this.G=(ne?0:-1)-V,this.h=void 0,this.o=x;e:{if(ne=this.o.length,V=ne-1,ne&&(ne=this.o[V],La(ne))){this.B=ne,this.i=V-this.G;break e}P!==void 0&&-1<P?(this.i=Math.max(P,V+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!ee&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(D){P=ye&&!ie&&!0,ee=this.i;var Xe;for(ye=0;ye<D.length;ye++)ie=D[ye],ie<ee?(ie+=this.G,(V=x[ie])?ei(V,P):x[ie]=Zi):(Xe||(Xe=hs(this)),(V=Xe[ie])?ei(V,P):Xe[ie]=Zi)}}pt.prototype.toJSON=function(){return Be(this.o,Ze,Ke)},pt.prototype.C=function(){return!!(Qt(this.o)&2)};function ei(x,P){if(Array.isArray(x)){var D=Qt(x),V=1;!P||D&2||(V|=16),(D&V)!==V&&kr(x,D|V)}}pt.prototype.ja=Da,pt.prototype.toString=function(){return this.o.toString()};function Ia(x,P,D){if(D){var V={},ee;for(ee in D){var ne=D[ee],ie=ne.ra;ie||(V.J=ne.xa||ne.oa.W,ne.ia?(V.aa=Ji(ne.ia),ie=function(ue){return function(ye,Me,Ue){return ue.J(ye,Me,Ue,ue.aa)}}(V)):ne.ka?(V.Z=Ba(ne.da.P,ne.ka),ie=function(ue){return function(ye,Me,Ue){return ue.J(ye,Me,Ue,ue.Z)}}(V)):ie=V.J,ne.ra=ie),ie(P,x,ne.da),V={J:V.J,aa:V.aa,Z:V.Z}}}Qe(P,x)}var $n=Symbol();function pn(x,P,D){return x[$n]||(x[$n]=function(V,ee){return P(V,ee,D)})}function Hn(x){var P=x[$n];if(!P){var D=vo(x);P=function(V,ee){return po(V,ee,D)},x[$n]=P}return P}function ho(x){var P=x.ia;if(P)return Hn(P);if(P=x.wa)return pn(x.da.P,P,x.ka)}function Xt(x){var P=ho(x),D=x.da,V=x.oa.U;return P?function(ee,ne){return V(ee,ne,D,P)}:function(ee,ne){return V(ee,ne,D)}}function Qi(x,P){var D=x[P];return typeof D=="function"&&D.length===0&&(D=D(),x[P]=D),Array.isArray(D)&&(Fa in D||ea in D||0<D.length&&typeof D[0]=="function")?D:void 0}function Gt(x,P,D,V,ee,ne){P.P=x[0];var ie=1;if(x.length>ie&&typeof x[ie]!="number"){var ue=x[ie++];D(P,ue)}for(;ie<x.length;){D=x[ie++];for(var ye=ie+1;ye<x.length&&typeof x[ye]!="number";)ye++;switch(ue=x[ie++],ye-=ie,ye){case 0:V(P,D,ue);break;case 1:(ye=Qi(x,ie))?(ie++,ee(P,D,ue,ye)):V(P,D,ue,x[ie++]);break;case 2:ye=ie++,ye=Qi(x,ye),ee(P,D,ue,ye,x[ie++]);break;case 3:ne(P,D,ue,x[ie++],x[ie++],x[ie++]);break;case 4:ne(P,D,ue,x[ie++],x[ie++],x[ie++],x[ie++]);break;default:throw Error("unexpected number of binary field arguments: "+ye)}}return P}var gn=Symbol();function Ji(x){var P=x[gn];if(!P){var D=Na(x);P=function(V,ee){return go(V,ee,D)},x[gn]=P}return P}function Ba(x,P){var D=x[gn];return D||(D=function(V,ee){return Ia(V,ee,P)},x[gn]=D),D}var ea=Symbol();function Ru(x,P){x.push(P)}function Ou(x,P,D){x.push(P,D.W)}function Iu(x,P,D,V){var ee=Ji(V),ne=Na(V).P,ie=D.W;x.push(P,function(ue,ye,Me){return ie(ue,ye,Me,ne,ee)})}function Bu(x,P,D,V,ee,ne){var ie=Ba(V,ne),ue=D.W;x.push(P,function(ye,Me,Ue){return ue(ye,Me,Ue,V,ie)})}function Na(x){var P=x[ea];return P||(P=Gt(x,x[ea]=[],Ru,Ou,Iu,Bu),Fa in x&&ea in x&&(x.length=0),P)}var Fa=Symbol();function vs(x,P){x[0]=P}function Nu(x,P,D,V){var ee=D.U;x[P]=V?function(ne,ie,ue){return ee(ne,ie,ue,V)}:ee}function $a(x,P,D,V,ee){var ne=D.U,ie=Hn(V),ue=vo(V).P;x[P]=function(ye,Me,Ue){return ne(ye,Me,Ue,ue,ie,ee)}}function ar(x,P,D,V,ee,ne,ie){var ue=D.U,ye=pn(V,ee,ne);x[P]=function(Me,Ue,at){return ue(Me,Ue,at,V,ye,ie)}}function vo(x){var P=x[Fa];return P||(P=Gt(x,x[Fa]={},vs,Nu,$a,ar),Fa in x&&ea in x&&(x.length=0),P)}function po(x,P,D){for(;cs(P)&&P.i!=4;){var V=P.l,ee=D[V];if(!ee){var ne=D[0];ne&&(ne=ne[V])&&(ee=D[V]=Xt(ne))}if(!ee||!ee(P,x,V)){ee=P,V=x,ne=ee.j,co(ee);var ie=ee;if(!ie.ca){if(ee=ie.h.h-ne,ie.h.h=ne,ie=ie.h,ee==0)ee=ss();else{if(ne=zr(ie,ee),ie.S&&ie.m)ee=ie.i.subarray(ne,ne+ee);else{ie=ie.i;var ue=ne;ee=ne+ee,ee=ue===ee?be():He?ie.slice(ue,ee):new Uint8Array(ie.subarray(ue,ee))}ee=ee.length==0?ss():new Mr(ee,Ce)}(ne=V.R)?ne.push(ee):V.R=[ee]}}}return x}function go(x,P,D){for(var V=D.length,ee=V%2==1,ne=ee?1:0;ne<V;ne+=2)(0,D[ne+1])(P,x,D[ne]);Ia(x,P,ee?D[0]:void 0)}function ta(x,P){return{U:x,W:P}}var nn=ta(function(x,P,D){if(x.i!==5)return!1;x=x.h;var V=x.i,ee=x.h,ne=V[ee],ie=V[ee+1],ue=V[ee+2];return V=V[ee+3],Xr(x,x.h+4),ie=(ne<<0|ie<<8|ue<<16|V<<24)>>>0,x=2*(ie>>31)+1,ne=ie>>>23&255,ie&=8388607,vn(P,D,ne==255?ie?NaN:1/0*x:ne==0?x*Math.pow(2,-149)*ie:x*Math.pow(2,ne-150)*(ie+Math.pow(2,23))),!0},function(x,P,D){if(P=re(P,D),P!=null){wi(x.h,8*D+5),x=x.h;var V=+P;V===0?0<1/V?Ie=Ne=0:(Ne=0,Ie=2147483648):isNaN(V)?(Ne=0,Ie=2147483647):(V=(D=0>V?-2147483648:0)?-V:V,34028234663852886e22<V?(Ne=0,Ie=(D|2139095040)>>>0):11754943508222875e-54>V?(V=Math.round(V/Math.pow(2,-149)),Ne=0,Ie=(D|V)>>>0):(P=Math.floor(Math.log(V)/Math.LN2),V*=Math.pow(2,-P),V=Math.round(8388608*V),16777216<=V&&++P,Ne=0,Ie=(D|P+127<<23|V&8388607)>>>0)),D=Ie,x.h.push(D>>>0&255),x.h.push(D>>>8&255),x.h.push(D>>>16&255),x.h.push(D>>>24&255)}}),bc=ta(function(x,P,D){if(x.i!==0)return!1;var V=x.h,ee=0,ne=x=0,ie=V.i,ue=V.h;do{var ye=ie[ue++];ee|=(ye&127)<<ne,ne+=7}while(32>ne&&ye&128);for(32<ne&&(x|=(ye&127)>>4),ne=3;32>ne&&ye&128;ne+=7)ye=ie[ue++],x|=(ye&127)<<ne;if(Xr(V,ue),128>ye)V=ee>>>0,ye=x>>>0,(x=ye&2147483648)&&(V=~V+1>>>0,ye=~ye>>>0,V==0&&(ye=ye+1>>>0)),V=4294967296*ye+(V>>>0);else throw Ar();return vn(P,D,x?-V:V),!0},function(x,P,D){P=rn(P,D),P!=null&&(typeof P=="string"&&Yr(P),P!=null&&(wi(x.h,8*D),typeof P=="number"?(x=x.h,vt(P),ls(x,Ie,Ne)):(D=Yr(P),ls(x.h,D.i,D.h))))}),ps=ta(function(x,P,D){return x.i!==0?!1:(vn(P,D,Pa(x.h)),!0)},function(x,P,D){if(P=rn(P,D),P!=null&&P!=null)if(wi(x.h,8*D),x=x.h,D=P,0<=D)wi(x,D);else{for(P=0;9>P;P++)x.h.push(D&127|128),D>>=7;x.h.push(1)}}),gs=ta(function(x,P,D){if(x.i!==2)return!1;var V=Pa(x.h)>>>0;x=x.h;var ee=zr(x,V);if(x=x.i,Bn){var ne=x,ie;(ie=dn)||(ie=dn=new TextDecoder("utf-8",{fatal:!0})),x=ee+V,ne=ee===0&&x===ne.length?ne:ne.subarray(ee,x);try{var ue=ie.decode(ne)}catch(at){if(pr===void 0){try{ie.decode(new Uint8Array([128]))}catch{}try{ie.decode(new Uint8Array([97])),pr=!0}catch{pr=!1}}throw!pr&&(dn=void 0),at}}else{ue=ee,V=ue+V,ee=[];for(var ye=null,Me,Ue;ue<V;)Me=x[ue++],128>Me?ee.push(Me):224>Me?ue>=V?Ae():(Ue=x[ue++],194>Me||(Ue&192)!==128?(ue--,Ae()):ee.push((Me&31)<<6|Ue&63)):240>Me?ue>=V-1?Ae():(Ue=x[ue++],(Ue&192)!==128||Me===224&&160>Ue||Me===237&&160<=Ue||((ne=x[ue++])&192)!==128?(ue--,Ae()):ee.push((Me&15)<<12|(Ue&63)<<6|ne&63)):244>=Me?ue>=V-2?Ae():(Ue=x[ue++],(Ue&192)!==128||(Me<<28)+(Ue-144)>>30||((ne=x[ue++])&192)!==128||((ie=x[ue++])&192)!==128?(ue--,Ae()):(Me=(Me&7)<<18|(Ue&63)<<12|(ne&63)<<6|ie&63,Me-=65536,ee.push((Me>>10&1023)+55296,(Me&1023)+56320))):Ae(),8192<=ee.length&&(ye=yt(ye,ee),ee.length=0);ue=yt(ye,ee)}return vn(P,D,ue),!0},function(x,P,D){if(P=rn(P,D),P!=null){var V=!1;if(V=V===void 0?!1:V,yc){if(V&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(P))throw Error("Found an unpaired surrogate");P=(Si||(Si=new TextEncoder)).encode(P)}else{for(var ee=0,ne=new Uint8Array(3*P.length),ie=0;ie<P.length;ie++){var ue=P.charCodeAt(ie);if(128>ue)ne[ee++]=ue;else{if(2048>ue)ne[ee++]=ue>>6|192;else{if(55296<=ue&&57343>=ue){if(56319>=ue&&ie<P.length){var ye=P.charCodeAt(++ie);if(56320<=ye&&57343>=ye){ue=1024*(ue-55296)+ye-56320+65536,ne[ee++]=ue>>18|240,ne[ee++]=ue>>12&63|128,ne[ee++]=ue>>6&63|128,ne[ee++]=ue&63|128;continue}else ie--}if(V)throw Error("Found an unpaired surrogate");ue=65533}ne[ee++]=ue>>12|224,ne[ee++]=ue>>6&63|128}ne[ee++]=ue&63|128}}P=ee===ne.length?ne:ne.subarray(0,ee)}wi(x.h,8*D+2),wi(x.h,P.length),Dr(x,x.h.end()),Dr(x,P)}}),ms=ta(function(x,P,D,V,ee){if(x.i!==2)return!1;P=Z(P,D,V),D=x.h.j,V=Pa(x.h)>>>0;var ne=x.h.h+V,ie=ne-D;if(0>=ie&&(x.h.j=ne,ee(P,x,void 0,void 0,void 0),ie=ne-x.h.h),ie)throw Error("Message parsing ended unexpectedly. Expected to read "+(V+" bytes, instead read "+(V-ie)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return x.h.h=ne,x.h.j=D,!0},function(x,P,D,V,ee){if(P=L(P,V,D),P!=null)for(V=0;V<P.length;V++){var ne=x;wi(ne.h,8*D+2);var ie=ne.h.end();Dr(ne,ie),ie.push(ne.i),ne=ie,ee(P[V],x),ie=x;var ue=ne.pop();for(ue=ie.i+ie.h.length()-ue;127<ue;)ne.push(ue&127|128),ue>>>=7,ie.i++;ne.push(ue),ie.i++}});function ys(x){return function(P,D){e:{if(tn.length){var V=tn.pop();V.setOptions(D),At(V.h,P,D),P=V}else P=new lo(P,D);try{var ee=vo(x),ne=po(new ee.P,P,ee);break e}finally{ee=P.h,ee.i=null,ee.m=!1,ee.l=0,ee.j=0,ee.h=0,ee.S=!1,P.l=-1,P.i=-1,100>tn.length&&tn.push(P)}ne=void 0}return ne}}function mo(x){return function(){var P=new fs;go(this,P,Na(x)),Dr(P,P.h.end());for(var D=new Uint8Array(P.i),V=P.j,ee=V.length,ne=0,ie=0;ie<ee;ie++){var ue=V[ie];D.set(ue,ne),ne+=ue.length}return P.j=[D],D}}function ra(x){pt.call(this,x)}m(ra,pt);var _s=[ra,1,ps,2,nn,3,gs,4,gs];ra.prototype.l=mo(_s);function yo(x){pt.call(this,x,-1,Fu)}m(yo,pt),yo.prototype.addClassification=function(x,P){return Z(this,1,ra,x,P),this};var Fu=[1],$u=ys([yo,1,ms,_s]);function Ha(x){pt.call(this,x)}m(Ha,pt);var Hu=[Ha,1,nn,2,nn,3,nn,4,nn,5,nn];Ha.prototype.l=mo(Hu);function xc(x){pt.call(this,x,-1,pg)}m(xc,pt);var pg=[1],Fh=ys([xc,1,ms,Hu]);function zu(x){pt.call(this,x)}m(zu,pt);var Sc=[zu,1,nn,2,nn,3,nn,4,nn,5,nn,6,bc],gg=ys(Sc);zu.prototype.l=mo(Sc);function wc(x,P,D){if(D=x.createShader(D===0?x.VERTEX_SHADER:x.FRAGMENT_SHADER),x.shaderSource(D,P),x.compileShader(D),!x.getShaderParameter(D,x.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+x.getShaderInfoLog(D));return D}function mg(x){return L(x,ra,1).map(function(P){var D=rn(P,1);return{index:D??0,qa:le(P,2),label:rn(P,3)!=null?oe(rn(P,3),""):void 0,displayName:rn(P,4)!=null?oe(rn(P,4),""):void 0}})}function $h(x){return{x:le(x,1),y:le(x,2),z:le(x,3),visibility:re(x,4)!=null?le(x,4):void 0}}function Tc(x,P){this.i=x,this.h=P,this.m=0}function Cc(x,P,D){return yg(x,P),typeof x.h.canvas.transferToImageBitmap=="function"?Promise.resolve(x.h.canvas.transferToImageBitmap()):D?Promise.resolve(x.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(x.h.canvas):(x.j===void 0&&(x.j=document.createElement("canvas")),new Promise(function(V){x.j.height=x.h.canvas.height,x.j.width=x.h.canvas.width,x.j.getContext("2d",{}).drawImage(x.h.canvas,0,0,x.h.canvas.width,x.h.canvas.height),V(x.j)}))}function yg(x,P){var D=x.h;if(x.s===void 0){var V=wc(D,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),ee=wc(D,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),ne=D.createProgram();if(D.attachShader(ne,V),D.attachShader(ne,ee),D.linkProgram(ne),!D.getProgramParameter(ne,D.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+D.getProgramInfoLog(ne));V=x.s=ne,D.useProgram(V),ee=D.getUniformLocation(V,"sampler0"),x.l={O:D.getAttribLocation(V,"aVertex"),N:D.getAttribLocation(V,"aTex"),ya:ee},x.v=D.createBuffer(),D.bindBuffer(D.ARRAY_BUFFER,x.v),D.enableVertexAttribArray(x.l.O),D.vertexAttribPointer(x.l.O,2,D.FLOAT,!1,0,0),D.bufferData(D.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),D.STATIC_DRAW),D.bindBuffer(D.ARRAY_BUFFER,null),x.u=D.createBuffer(),D.bindBuffer(D.ARRAY_BUFFER,x.u),D.enableVertexAttribArray(x.l.N),D.vertexAttribPointer(x.l.N,2,D.FLOAT,!1,0,0),D.bufferData(D.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),D.STATIC_DRAW),D.bindBuffer(D.ARRAY_BUFFER,null),D.uniform1i(ee,0)}V=x.l,D.useProgram(x.s),D.canvas.width=P.width,D.canvas.height=P.height,D.viewport(0,0,P.width,P.height),D.activeTexture(D.TEXTURE0),x.i.bindTexture2d(P.glName),D.enableVertexAttribArray(V.O),D.bindBuffer(D.ARRAY_BUFFER,x.v),D.vertexAttribPointer(V.O,2,D.FLOAT,!1,0,0),D.enableVertexAttribArray(V.N),D.bindBuffer(D.ARRAY_BUFFER,x.u),D.vertexAttribPointer(V.N,2,D.FLOAT,!1,0,0),D.bindFramebuffer(D.DRAW_FRAMEBUFFER?D.DRAW_FRAMEBUFFER:D.FRAMEBUFFER,null),D.clearColor(0,0,0,0),D.clear(D.COLOR_BUFFER_BIT),D.colorMask(!0,!0,!0,!0),D.drawArrays(D.TRIANGLE_FAN,0,4),D.disableVertexAttribArray(V.O),D.disableVertexAttribArray(V.N),D.bindBuffer(D.ARRAY_BUFFER,null),x.i.bindTexture2d(0)}function Hh(x){this.h=x}var _g=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function zh(x,P){return P+x}function Ac(x,P){window[x]=P}function Uh(x){var P=document.createElement("script");return P.setAttribute("src",x),P.setAttribute("crossorigin","anonymous"),new Promise(function(D){P.addEventListener("load",function(){D()},!1),P.addEventListener("error",function(){D()},!1),document.body.appendChild(P)})}function Vh(){return B(function(x){switch(x.h){case 1:return x.s=2,T(x,WebAssembly.instantiate(_g),4);case 4:x.h=3,x.s=0;break;case 2:return x.s=0,x.l=null,x.return(!1);case 3:return x.return(!0)}})}function kc(x){if(this.h=x,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=x&&x.locateFile||zh,typeof window=="object")var P=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")P=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=P,x.options){P=s(Object.keys(x.options));for(var D=P.next();!D.done;D=P.next()){D=D.value;var V=x.options[D].default;V!==void 0&&(this.l[D]=typeof V=="function"?V():V)}}}t=kc.prototype,t.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function bg(x){var P,D,V,ee,ne,ie,ue,ye,Me,Ue,at;return B(function(tt){switch(tt.h){case 1:return x.ga?(P=x.h.files===void 0?[]:typeof x.h.files=="function"?x.h.files(x.l):x.h.files,T(tt,Vh(),2)):tt.return();case 2:if(D=tt.i,typeof window=="object")return Ac("createMediapipeSolutionsWasm",{locateFile:x.locateFile}),Ac("createMediapipeSolutionsPackedAssets",{locateFile:x.locateFile}),ie=P.filter(function(Xe){return Xe.data!==void 0}),ue=P.filter(function(Xe){return Xe.data===void 0}),ye=Promise.all(ie.map(function(Xe){var st=Uu(x,Xe.url);if(Xe.path!==void 0){var bt=Xe.path;st=st.then(function(nr){return x.overrideFile(bt,nr),Promise.resolve(nr)})}return st})),Me=Promise.all(ue.map(function(Xe){return Xe.simd===void 0||Xe.simd&&D||!Xe.simd&&!D?Uh(x.locateFile(Xe.url,x.ha)):Promise.resolve()})).then(function(){var Xe,st,bt;return B(function(nr){if(nr.h==1)return Xe=window.createMediapipeSolutionsWasm,st=window.createMediapipeSolutionsPackedAssets,bt=x,T(nr,Xe(st),2);bt.i=nr.i,nr.h=0})}),Ue=function(){return B(function(Xe){return x.h.graph&&x.h.graph.url?Xe=T(Xe,Uu(x,x.h.graph.url),0):(Xe.h=0,Xe=void 0),Xe})}(),T(tt,Promise.all([Me,ye,Ue]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return V=P.filter(function(Xe){return Xe.simd===void 0||Xe.simd&&D||!Xe.simd&&!D}).map(function(Xe){return x.locateFile(Xe.url,x.ha)}),importScripts.apply(null,u(V)),ee=x,T(tt,createMediapipeSolutionsWasm(Module),6);case 6:ee.i=tt.i,x.m=new OffscreenCanvas(1,1),x.i.canvas=x.m,ne=x.i.GL.createContext(x.m,{antialias:!1,alpha:!1,va:typeof WebGL2RenderingContext<"u"?2:1}),x.i.GL.makeContextCurrent(ne),tt.h=4;break;case 7:if(x.m=document.createElement("canvas"),at=x.m.getContext("webgl2",{}),!at&&(at=x.m.getContext("webgl",{}),!at))return alert("Failed to create WebGL canvas context when passing video frame."),tt.return();x.K=at,x.i.canvas=x.m,x.i.createContext(x.m,!0,!0,{});case 4:x.j=new x.i.SolutionWasm,x.ga=!1,tt.h=0}})}function Gh(x){var P,D,V,ee,ne,ie,ue,ye;return B(function(Me){if(Me.h==1){if(x.h.graph&&x.h.graph.url&&x.fa===x.h.graph.url)return Me.return();if(x.u=!0,!x.h.graph||!x.h.graph.url){Me.h=2;return}return x.fa=x.h.graph.url,T(Me,Uu(x,x.h.graph.url),3)}for(Me.h!=2&&(P=Me.i,x.j.loadGraph(P)),D=s(Object.keys(x.D)),V=D.next();!V.done;V=D.next())ee=V.value,x.j.overrideFile(ee,x.D[ee]);if(x.D={},x.h.listeners)for(ne=s(x.h.listeners),ie=ne.next();!ie.done;ie=ne.next())ue=ie.value,xg(x,ue);ye=x.l,x.l={},x.setOptions(ye),Me.h=0})}t.reset=function(){var x=this;return B(function(P){x.j&&(x.j.reset(),x.s={},x.v={}),P.h=0})},t.setOptions=function(x,P){var D=this;if(P=P||this.h.options){for(var V=[],ee=[],ne={},ie=s(Object.keys(x)),ue=ie.next();!ue.done;ne={X:ne.X,Y:ne.Y},ue=ie.next())if(ue=ue.value,!(ue in this.l&&this.l[ue]===x[ue])){this.l[ue]=x[ue];var ye=P[ue];ye!==void 0&&(ye.onChange&&(ne.X=ye.onChange,ne.Y=x[ue],V.push(function(Me){return function(){var Ue;return B(function(at){if(at.h==1)return T(at,Me.X(Me.Y),2);Ue=at.i,Ue===!0&&(D.u=!0),at.h=0})}}(ne))),ye.graphOptionXref&&(ue=Object.assign({},{calculatorName:"",calculatorIndex:0},ye.graphOptionXref,{valueNumber:ye.type===1?x[ue]:0,valueBoolean:ye.type===0?x[ue]:!1,valueString:ye.type===2?x[ue]:""}),ee.push(ue)))}(V.length!==0||ee.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(ee),this.F=(this.F===void 0?[]:this.F).concat(V))}};function jh(x){var P,D,V,ee,ne,ie,ue;return B(function(ye){switch(ye.h){case 1:if(!x.u)return ye.return();if(!x.F){ye.h=2;break}P=s(x.F),D=P.next();case 3:if(D.done){ye.h=5;break}return V=D.value,T(ye,V(),4);case 4:D=P.next(),ye.h=3;break;case 5:x.F=void 0;case 2:if(x.H){for(ee=new x.i.GraphOptionChangeRequestList,ne=s(x.H),ie=ne.next();!ie.done;ie=ne.next())ue=ie.value,ee.push_back(ue);x.j.changeOptions(ee),ee.delete(),x.H=void 0}x.u=!1,ye.h=0}})}t.initialize=function(){var x=this;return B(function(P){return P.h==1?T(P,bg(x),2):P.h!=3?T(P,Gh(x),3):T(P,jh(x),0)})};function Uu(x,P){var D,V;return B(function(ee){return P in x.L?ee.return(x.L[P]):(D=x.locateFile(P,""),V=fetch(D).then(function(ne){return ne.arrayBuffer()}),x.L[P]=V,ee.return(V))})}t.overrideFile=function(x,P){this.j?this.j.overrideFile(x,P):this.D[x]=P},t.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},t.send=function(x,P){var D=this,V,ee,ne,ie,ue,ye,Me,Ue,at;return B(function(tt){switch(tt.h){case 1:return D.h.inputs?(V=1e3*(P??performance.now()),T(tt,D.I,2)):tt.return();case 2:return T(tt,D.initialize(),3);case 3:for(ee=new D.i.PacketDataList,ne=s(Object.keys(x)),ie=ne.next();!ie.done;ie=ne.next())if(ue=ie.value,ye=D.h.inputs[ue]){e:{var Xe=x[ue];switch(ye.type){case"video":var st=D.s[ye.stream];if(st||(st=new Tc(D.i,D.K),D.s[ye.stream]=st),st.m===0&&(st.m=st.i.createTexture()),typeof HTMLVideoElement<"u"&&Xe instanceof HTMLVideoElement)var bt=Xe.videoWidth,nr=Xe.videoHeight;else typeof HTMLImageElement<"u"&&Xe instanceof HTMLImageElement?(bt=Xe.naturalWidth,nr=Xe.naturalHeight):(bt=Xe.width,nr=Xe.height);nr={glName:st.m,width:bt,height:nr},bt=st.h,bt.canvas.width=nr.width,bt.canvas.height=nr.height,bt.activeTexture(bt.TEXTURE0),st.i.bindTexture2d(st.m),bt.texImage2D(bt.TEXTURE_2D,0,bt.RGBA,bt.RGBA,bt.UNSIGNED_BYTE,Xe),st.i.bindTexture2d(0),st=nr;break e;case"detections":for(st=D.s[ye.stream],st||(st=new Hh(D.i),D.s[ye.stream]=st),st.data||(st.data=new st.h.DetectionListData),st.data.reset(Xe.length),nr=0;nr<Xe.length;++nr){bt=Xe[nr];var Jt=st.data,Lr=Jt.setBoundingBox,Cn=nr,an=bt.la,Bt=new zu;if(I(Bt,1,an.sa),I(Bt,2,an.ta),I(Bt,3,an.height),I(Bt,4,an.width),I(Bt,5,an.rotation),vn(Bt,6,an.pa),an=Bt.l(),Lr.call(Jt,Cn,an),bt.ea)for(Jt=0;Jt<bt.ea.length;++Jt){Bt=bt.ea[Jt],Lr=st.data,Cn=Lr.addNormalizedLandmark,an=nr,Bt=Object.assign({},Bt,{visibility:Bt.visibility?Bt.visibility:0});var Rr=new Ha;I(Rr,1,Bt.x),I(Rr,2,Bt.y),I(Rr,3,Bt.z),Bt.visibility&&I(Rr,4,Bt.visibility),Bt=Rr.l(),Cn.call(Lr,an,Bt)}if(bt.ba)for(Jt=0;Jt<bt.ba.length;++Jt)Lr=st.data,Cn=Lr.addClassification,an=nr,Bt=bt.ba[Jt],Rr=new ra,I(Rr,2,Bt.qa),Bt.index&&vn(Rr,1,Bt.index),Bt.label&&vn(Rr,3,Bt.label),Bt.displayName&&vn(Rr,4,Bt.displayName),Bt=Rr.l(),Cn.call(Lr,an,Bt)}st=st.data;break e;default:st={}}}switch(Me=st,Ue=ye.stream,ye.type){case"video":ee.pushTexture2d(Object.assign({},Me,{stream:Ue,timestamp:V}));break;case"detections":at=Me,at.stream=Ue,at.timestamp=V,ee.pushDetectionList(at);break;default:throw Error("Unknown input config type: '"+ye.type+"'")}}return D.j.send(ee),T(tt,D.I,4);case 4:ee.delete(),tt.h=0}})};function Wh(x,P,D){var V,ee,ne,ie,ue,ye,Me,Ue,at,tt,Xe,st,bt,nr;return B(function(Jt){switch(Jt.h){case 1:if(!D)return Jt.return(P);for(V={},ee=0,ne=s(Object.keys(D)),ie=ne.next();!ie.done;ie=ne.next())ue=ie.value,ye=D[ue],typeof ye!="string"&&ye.type==="texture"&&P[ye.stream]!==void 0&&++ee;1<ee&&(x.M=!1),Me=s(Object.keys(D)),ie=Me.next();case 2:if(ie.done){Jt.h=4;break}if(Ue=ie.value,at=D[Ue],typeof at=="string")return bt=V,nr=Ue,T(Jt,Yh(x,Ue,P[at]),14);if(tt=P[at.stream],at.type==="detection_list"){if(tt){for(var Lr=tt.getRectList(),Cn=tt.getLandmarksList(),an=tt.getClassificationsList(),Bt=[],Rr=0;Rr<Lr.size();++Rr){var na=gg(Lr.get(Rr)),Sg=le(na,1),Vu=le(na,2),Ec=le(na,3),Mc=le(na,4),Dc=le(na,5,0),_o=void 0;_o=_o===void 0?0:_o,na={la:{sa:Sg,ta:Vu,height:Ec,width:Mc,rotation:Dc,pa:oe(rn(na,6),_o)},ea:L(Fh(Cn.get(Rr)),Ha,1).map($h),ba:mg($u(an.get(Rr)))},Bt.push(na)}Lr=Bt}else Lr=[];V[Ue]=Lr,Jt.h=7;break}if(at.type==="proto_list"){if(tt){for(Lr=Array(tt.size()),Cn=0;Cn<tt.size();Cn++)Lr[Cn]=tt.get(Cn);tt.delete()}else Lr=[];V[Ue]=Lr,Jt.h=7;break}if(tt===void 0){Jt.h=3;break}if(at.type==="float_list"){V[Ue]=tt,Jt.h=7;break}if(at.type==="proto"){V[Ue]=tt,Jt.h=7;break}if(at.type!=="texture")throw Error("Unknown output config type: '"+at.type+"'");return Xe=x.v[Ue],Xe||(Xe=new Tc(x.i,x.K),x.v[Ue]=Xe),T(Jt,Cc(Xe,tt,x.M),13);case 13:st=Jt.i,V[Ue]=st;case 7:at.transform&&V[Ue]&&(V[Ue]=at.transform(V[Ue])),Jt.h=3;break;case 14:bt[nr]=Jt.i;case 3:ie=Me.next(),Jt.h=2;break;case 4:return Jt.return(V)}})}function Yh(x,P,D){var V;return B(function(ee){return typeof D=="number"||D instanceof Uint8Array||D instanceof x.i.Uint8BlobList?ee.return(D):D instanceof x.i.Texture2dDataOut?(V=x.v[P],V||(V=new Tc(x.i,x.K),x.v[P]=V),ee.return(Cc(V,D,x.M))):ee.return(void 0)})}function xg(x,P){for(var D=P.name||"$",V=[].concat(u(P.wants)),ee=new x.i.StringList,ne=s(P.wants),ie=ne.next();!ie.done;ie=ne.next())ee.push_back(ie.value);ne=x.i.PacketListener.implement({onResults:function(ue){for(var ye={},Me=0;Me<P.wants.length;++Me)ye[V[Me]]=ue.get(Me);var Ue=x.listeners[D];Ue&&(x.I=Wh(x,ye,P.outs).then(function(at){at=Ue(at);for(var tt=0;tt<P.wants.length;++tt){var Xe=ye[V[tt]];typeof Xe=="object"&&Xe.hasOwnProperty&&Xe.hasOwnProperty("delete")&&Xe.delete()}at&&(x.I=at)}))}}),x.j.attachMultiListener(ee,ne),ee.delete()}t.onResults=function(x,P){this.listeners[P||"$"]=x},z("Solution",kc),z("OptionType",{BOOL:0,NUMBER:1,ua:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Xh(x){switch(x===void 0&&(x=0),x){case 1:return"selfie_segmentation_landscape.tflite";default:return"selfie_segmentation.tflite"}}function Pc(x){var P=this;x=x||{},this.h=new kc({locateFile:x.locateFile,files:function(D){return[{simd:!0,url:"selfie_segmentation_solution_simd_wasm_bin.js"},{simd:!1,url:"selfie_segmentation_solution_wasm_bin.js"},{data:!0,url:Xh(D.modelSelection)}]},graph:{url:"selfie_segmentation.binarypb"},listeners:[{wants:["segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelSelection:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelSelection",fieldName:"int_value"},onChange:function(D){var V,ee,ne;return B(function(ie){return ie.h==1?(V=Xh(D),ee="third_party/mediapipe/modules/selfie_segmentation/"+V,T(ie,Uu(P.h,V),2)):(ne=ie.i,P.h.overrideFile(ee,ne),ie.return(!0))})}}}})}t=Pc.prototype,t.close=function(){return this.h.close(),Promise.resolve()},t.onResults=function(x){this.h.onResults(x)},t.initialize=function(){var x=this;return B(function(P){return T(P,x.h.initialize(),0)})},t.reset=function(){this.h.reset()},t.send=function(x){var P=this;return B(function(D){return T(D,P.h.send(x),0)})},t.setOptions=function(x){this.h.setOptions(x)},z("SelfieSegmentation",Pc),z("VERSION","0.1.1675465747")}).call(pi);export{gie as A,Iie as B,Bie as C,fM as D,Nie as E,io as F,Qie as G,Kie as H,Xie as I,tae as J,eae as K,aae as L,Wie as M,Gie as N,rae as O,nae as P,qie as Q,Jie as R,Zie as S,jie as T,Yie as U,Uie as V,Vie as W,iae as X,yie as Y,mie as Z,Hie as _,sae as a,Fie as b,bie as c,Rie as d,Oie as e,Lie as f,Aie as g,kie as h,Tie as i,fie as j,cie as k,Wne as l,Ng as m,zie as n,_ie as o,xie as p,$ie as q,wie as r,oae as s,Sie as t,hie as u,Cie as v,Pie as w,vie as x,die as y,pie as z};
