import{s as Af,u as X,c as ce,r as co,n as fn,i as Ht,d as Xe,h as vr,p as Qr,a as Ye,w as xt,g as NO,o as TA,b as CA,e as Ui,f as Gr,j as Tr,k as FO,l as Ce,m as Ve,q as pt,t as Ta,v as Ub,x as $O,N as Xo,y as Dl,z as Vp,A as E1,B as HO,C as pa,D as xi,E as zO,F as rt,G as Kr,H as Bi,I as UO,J as P1,K as Ge,L as VO,M as ur,O as Jr,P as Ah,Q as yt,R as At,S as Xn,T as qr,U as Ml,V as Er,W as vt,X as GO,Y as jO,Z as ss,_ as wu,$ as D1,a0 as WO,a1 as AA,a2 as YO,a3 as Tu,a4 as kA,a5 as XO,a6 as Ll,a7 as ky,a8 as Vb,a9 as df,aa as qO,ab as pf,ac as KO,ad as ZO,ae as QO,af as JO,ag as Gb}from"./@vue-8492d132.js";function EA(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const dl=typeof window<"u";function eI(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Kt=Object.assign;function Ng(t,e){const r={};for(const n in e){const i=e[n];r[n]=Hi(i)?i.map(t):t(i)}return r}const kf=()=>{},Hi=Array.isArray,tI=/\/$/,rI=t=>t.replace(tI,"");function Fg(t,e,r="/"){let n,i={},a="",o="";const s=e.indexOf("#");let u=e.indexOf("?");return s<u&&s>=0&&(u=-1),u>-1&&(n=e.slice(0,u),a=e.slice(u+1,s>-1?s:e.length),i=t(a)),s>-1&&(n=n||e.slice(0,s),o=e.slice(s,e.length)),n=oI(n??e,r),{fullPath:n+(a&&"?")+a+o,path:n,query:i,hash:o}}function nI(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function jb(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function iI(t,e,r){const n=e.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&Vl(e.matched[n],r.matched[i])&&PA(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Vl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function PA(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!aI(t[r],e[r]))return!1;return!0}function aI(t,e){return Hi(t)?Wb(t,e):Hi(e)?Wb(e,t):t===e}function Wb(t,e){return Hi(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function oI(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let a=r.length-1,o,s;for(o=0;o<n.length;o++)if(s=n[o],s!==".")if(s==="..")a>1&&a--;else break;return r.slice(0,a).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var qf;(function(t){t.pop="pop",t.push="push"})(qf||(qf={}));var Ef;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ef||(Ef={}));function sI(t){if(!t)if(dl){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),rI(t)}const uI=/^[^#]+#/;function lI(t,e){return t.replace(uI,"#")+e}function cI(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const Ov=()=>({left:window.pageXOffset,top:window.pageYOffset});function fI(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=cI(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Yb(t,e){return(history.state?history.state.position-e:-1)+t}const Ey=new Map;function hI(t,e){Ey.set(t,e)}function dI(t){const e=Ey.get(t);return Ey.delete(t),e}let pI=()=>location.protocol+"//"+location.host;function DA(t,e){const{pathname:r,search:n,hash:i}=e,a=t.indexOf("#");if(a>-1){let s=i.includes(t.slice(a))?t.slice(a).length:1,u=i.slice(s);return u[0]!=="/"&&(u="/"+u),jb(u,"")}return jb(r,t)+n+i}function vI(t,e,r,n){let i=[],a=[],o=null;const s=({state:f})=>{const p=DA(t,location),v=r.value,g=e.value;let m=0;if(f){if(r.value=p,e.value=f,o&&o===v){o=null;return}m=g?f.position-g.position:0}else n(p);i.forEach(_=>{_(r.value,v,{delta:m,type:qf.pop,direction:m?m>0?Ef.forward:Ef.back:Ef.unknown})})};function u(){o=r.value}function l(f){i.push(f);const p=()=>{const v=i.indexOf(f);v>-1&&i.splice(v,1)};return a.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(Kt({},f.state,{scroll:Ov()}),"")}function h(){for(const f of a)f();a=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:u,listen:l,destroy:h}}function Xb(t,e,r,n=!1,i=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:i?Ov():null}}function gI(t){const{history:e,location:r}=window,n={value:DA(t,r)},i={value:e.state};i.value||a(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(u,l,c){const h=t.indexOf("#"),f=h>-1?(r.host&&document.querySelector("base")?t:t.slice(h))+u:pI()+t+u;try{e[c?"replaceState":"pushState"](l,"",f),i.value=l}catch(p){console.error(p),r[c?"replace":"assign"](f)}}function o(u,l){const c=Kt({},e.state,Xb(i.value.back,u,i.value.forward,!0),l,{position:i.value.position});a(u,c,!0),n.value=u}function s(u,l){const c=Kt({},i.value,e.state,{forward:u,scroll:Ov()});a(c.current,c,!0);const h=Kt({},Xb(n.value,u,null),{position:c.position+1},l);a(u,h,!1),n.value=u}return{location:n,state:i,push:s,replace:o}}function mI(t){t=sI(t);const e=gI(t),r=vI(t,e.state,e.location,e.replace);function n(a,o=!0){o||r.pauseListeners(),history.go(a)}const i=Kt({location:"",base:t,go:n,createHref:lI.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function nae(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),mI(t)}function yI(t){return typeof t=="string"||t&&typeof t=="object"}function MA(t){return typeof t=="string"||typeof t=="symbol"}const Ao={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},LA=Symbol("");var qb;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(qb||(qb={}));function Gl(t,e){return Kt(new Error,{type:t,[LA]:!0},e)}function Wa(t,e){return t instanceof Error&&LA in t&&(e==null||!!(t.type&e))}const Kb="[^/]+?",_I={sensitive:!1,strict:!1,start:!0,end:!0},bI=/[.+*?^${}()[\]/\\]/g;function xI(t,e){const r=Kt({},_I,e),n=[];let i=r.start?"^":"";const a=[];for(const l of t){const c=l.length?[]:[90];r.strict&&!l.length&&(i+="/");for(let h=0;h<l.length;h++){const f=l[h];let p=40+(r.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(bI,"\\$&"),p+=40;else if(f.type===1){const{value:v,repeatable:g,optional:m,regexp:_}=f;a.push({name:v,repeatable:g,optional:m});const b=_||Kb;if(b!==Kb){p+=10;try{new RegExp(`(${b})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${v}" (${b}): `+T.message)}}let w=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;h||(w=m&&l.length<2?`(?:/${w})`:"/"+w),m&&(w+="?"),i+=w,p+=20,m&&(p+=-8),g&&(p+=-20),b===".*"&&(p+=-50)}c.push(p)}n.push(c)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const o=new RegExp(i,r.sensitive?"":"i");function s(l){const c=l.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",v=a[f-1];h[v.name]=p&&v.repeatable?p.split("/"):p}return h}function u(l){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:v,repeatable:g,optional:m}=p,_=v in l?l[v]:"";if(Hi(_)&&!g)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const b=Hi(_)?_.join("/"):_;if(!b)if(m)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);c+=b}}return c||"/"}return{re:o,score:n,keys:a,parse:s,stringify:u}}function SI(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function wI(t,e){let r=0;const n=t.score,i=e.score;for(;r<n.length&&r<i.length;){const a=SI(n[r],i[r]);if(a)return a;r++}if(Math.abs(i.length-n.length)===1){if(Zb(n))return 1;if(Zb(i))return-1}return i.length-n.length}function Zb(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const TI={type:0,value:""},CI=/[a-zA-Z0-9_]/;function AI(t){if(!t)return[[]];if(t==="/")return[[TI]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${r})/"${l}": ${p}`)}let r=0,n=r;const i=[];let a;function o(){a&&i.push(a),a=[]}let s=0,u,l="",c="";function h(){l&&(r===0?a.push({type:0,value:l}):r===1||r===2||r===3?(a.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:l,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=u}for(;s<t.length;){if(u=t[s++],u==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:u==="/"?(l&&h(),o()):u===":"?(h(),r=1):f();break;case 4:f(),r=n;break;case 1:u==="("?r=2:CI.test(u)?f():(h(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&s--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:r=3:c+=u;break;case 3:h(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&s--,c="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),o(),i}function kI(t,e,r){const n=xI(AI(t.path),r),i=Kt(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function EI(t,e){const r=[],n=new Map;e=ex({strict:!1,end:!0,sensitive:!1},e);function i(c){return n.get(c)}function a(c,h,f){const p=!f,v=PI(c);v.aliasOf=f&&f.record;const g=ex(e,c),m=[v];if("alias"in c){const w=typeof c.alias=="string"?[c.alias]:c.alias;for(const T of w)m.push(Kt({},v,{components:f?f.record.components:v.components,path:T,aliasOf:f?f.record:v}))}let _,b;for(const w of m){const{path:T}=w;if(h&&T[0]!=="/"){const k=h.record.path,A=k[k.length-1]==="/"?"":"/";w.path=h.record.path+(T&&A+T)}if(_=kI(w,h,g),f?f.alias.push(_):(b=b||_,b!==_&&b.alias.push(_),p&&c.name&&!Jb(_)&&o(c.name)),v.children){const k=v.children;for(let A=0;A<k.length;A++)a(k[A],_,f&&f.children[A])}f=f||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&u(_)}return b?()=>{o(b)}:kf}function o(c){if(MA(c)){const h=n.get(c);h&&(n.delete(c),r.splice(r.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=r.indexOf(c);h>-1&&(r.splice(h,1),c.record.name&&n.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function s(){return r}function u(c){let h=0;for(;h<r.length&&wI(c,r[h])>=0&&(c.record.path!==r[h].record.path||!RA(c,r[h]));)h++;r.splice(h,0,c),c.record.name&&!Jb(c)&&n.set(c.record.name,c)}function l(c,h){let f,p={},v,g;if("name"in c&&c.name){if(f=n.get(c.name),!f)throw Gl(1,{location:c});g=f.record.name,p=Kt(Qb(h.params,f.keys.filter(b=>!b.optional).map(b=>b.name)),c.params&&Qb(c.params,f.keys.map(b=>b.name))),v=f.stringify(p)}else if("path"in c)v=c.path,f=r.find(b=>b.re.test(v)),f&&(p=f.parse(v),g=f.record.name);else{if(f=h.name?n.get(h.name):r.find(b=>b.re.test(h.path)),!f)throw Gl(1,{location:c,currentLocation:h});g=f.record.name,p=Kt({},h.params,c.params),v=f.stringify(p)}const m=[];let _=f;for(;_;)m.unshift(_.record),_=_.parent;return{name:g,path:v,params:p,matched:m,meta:MI(m)}}return t.forEach(c=>a(c)),{addRoute:a,resolve:l,removeRoute:o,getRoutes:s,getRecordMatcher:i}}function Qb(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function PI(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:DI(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function DI(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="boolean"?r:r[n];return e}function Jb(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function MI(t){return t.reduce((e,r)=>Kt(e,r.meta),{})}function ex(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function RA(t,e){return e.children.some(r=>r===t||RA(t,r))}const OA=/#/g,LI=/&/g,RI=/\//g,OI=/=/g,II=/\?/g,IA=/\+/g,BI=/%5B/g,NI=/%5D/g,BA=/%5E/g,FI=/%60/g,NA=/%7B/g,$I=/%7C/g,FA=/%7D/g,HI=/%20/g;function M1(t){return encodeURI(""+t).replace($I,"|").replace(BI,"[").replace(NI,"]")}function zI(t){return M1(t).replace(NA,"{").replace(FA,"}").replace(BA,"^")}function Py(t){return M1(t).replace(IA,"%2B").replace(HI,"+").replace(OA,"%23").replace(LI,"%26").replace(FI,"`").replace(NA,"{").replace(FA,"}").replace(BA,"^")}function UI(t){return Py(t).replace(OI,"%3D")}function VI(t){return M1(t).replace(OA,"%23").replace(II,"%3F")}function GI(t){return t==null?"":VI(t).replace(RI,"%2F")}function Gp(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function jI(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const a=n[i].replace(IA," "),o=a.indexOf("="),s=Gp(o<0?a:a.slice(0,o)),u=o<0?null:Gp(a.slice(o+1));if(s in e){let l=e[s];Hi(l)||(l=e[s]=[l]),l.push(u)}else e[s]=u}return e}function tx(t){let e="";for(let r in t){const n=t[r];if(r=UI(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Hi(n)?n.map(a=>a&&Py(a)):[n&&Py(n)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+r,a!=null&&(e+="="+a))})}return e}function WI(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Hi(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const YI=Symbol(""),rx=Symbol(""),Iv=Symbol(""),$A=Symbol(""),Dy=Symbol("");function Fc(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t,reset:r}}function $o(t,e,r,n,i){const a=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((o,s)=>{const u=h=>{h===!1?s(Gl(4,{from:r,to:e})):h instanceof Error?s(h):yI(h)?s(Gl(2,{from:e,to:h})):(a&&n.enterCallbacks[i]===a&&typeof h=="function"&&a.push(h),o())},l=t.call(n&&n.instances[i],e,r,u);let c=Promise.resolve(l);t.length<3&&(c=c.then(u)),c.catch(h=>s(h))})}function $g(t,e,r,n){const i=[];for(const a of t)for(const o in a.components){let s=a.components[o];if(!(e!=="beforeRouteEnter"&&!a.instances[o]))if(XI(s)){const l=(s.__vccOpts||s)[e];l&&i.push($o(l,r,n,a,o))}else{let u=s();i.push(()=>u.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${a.path}"`));const c=eI(l)?l.default:l;a.components[o]=c;const f=(c.__vccOpts||c)[e];return f&&$o(f,r,n,a,o)()}))}}return i}function XI(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function nx(t){const e=Ht(Iv),r=Ht($A),n=ce(()=>e.resolve(X(t.to))),i=ce(()=>{const{matched:u}=n.value,{length:l}=u,c=u[l-1],h=r.matched;if(!c||!h.length)return-1;const f=h.findIndex(Vl.bind(null,c));if(f>-1)return f;const p=ix(u[l-2]);return l>1&&ix(c)===p&&h[h.length-1].path!==p?h.findIndex(Vl.bind(null,u[l-2])):f}),a=ce(()=>i.value>-1&&QI(r.params,n.value.params)),o=ce(()=>i.value>-1&&i.value===r.matched.length-1&&PA(r.params,n.value.params));function s(u={}){return ZI(u)?e[X(t.replace)?"replace":"push"](X(t.to)).catch(kf):Promise.resolve()}return{route:n,href:ce(()=>n.value.href),isActive:a,isExactActive:o,navigate:s}}const qI=Xe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:nx,setup(t,{slots:e}){const r=co(nx(t)),{options:n}=Ht(Iv),i=ce(()=>({[ax(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[ax(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const a=e.default&&e.default(r);return t.custom?a:vr("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},a)}}}),KI=qI;function ZI(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function QI(t,e){for(const r in e){const n=e[r],i=t[r];if(typeof n=="string"){if(n!==i)return!1}else if(!Hi(i)||i.length!==n.length||n.some((a,o)=>a!==i[o]))return!1}return!0}function ix(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ax=(t,e,r)=>t??e??r,JI=Xe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=Ht(Dy),i=ce(()=>t.route||n.value),a=Ht(rx,0),o=ce(()=>{let l=X(a);const{matched:c}=i.value;let h;for(;(h=c[l])&&!h.components;)l++;return l}),s=ce(()=>i.value.matched[o.value]);Qr(rx,ce(()=>o.value+1)),Qr(YI,s),Qr(Dy,i);const u=Ye();return xt(()=>[u.value,s.value,t.name],([l,c,h],[f,p,v])=>{c&&(c.instances[h]=l,p&&p!==c&&l&&l===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),l&&c&&(!p||!Vl(c,p)||!f)&&(c.enterCallbacks[h]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=i.value,c=t.name,h=s.value,f=h&&h.components[c];if(!f)return ox(r.default,{Component:f,route:l});const p=h.props[c],v=p?p===!0?l.params:typeof p=="function"?p(l):p:null,m=vr(f,Kt({},v,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(h.instances[c]=null)},ref:u}));return ox(r.default,{Component:m,route:l})||m}}});function ox(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const eB=JI;function iae(t){const e=EI(t.routes,t),r=t.parseQuery||jI,n=t.stringifyQuery||tx,i=t.history,a=Fc(),o=Fc(),s=Fc(),u=Af(Ao);let l=Ao;dl&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ng.bind(null,se=>""+se),h=Ng.bind(null,GI),f=Ng.bind(null,Gp);function p(se,ve){let ge,be;return MA(se)?(ge=e.getRecordMatcher(se),be=ve):be=se,e.addRoute(be,ge)}function v(se){const ve=e.getRecordMatcher(se);ve&&e.removeRoute(ve)}function g(){return e.getRoutes().map(se=>se.record)}function m(se){return!!e.getRecordMatcher(se)}function _(se,ve){if(ve=Kt({},ve||u.value),typeof se=="string"){const Ne=Fg(r,se,ve.path),ht=e.resolve({path:Ne.path},ve),Xt=i.createHref(Ne.fullPath);return Kt(Ne,ht,{params:f(ht.params),hash:Gp(Ne.hash),redirectedFrom:void 0,href:Xt})}let ge;if("path"in se)ge=Kt({},se,{path:Fg(r,se.path,ve.path).path});else{const Ne=Kt({},se.params);for(const ht in Ne)Ne[ht]==null&&delete Ne[ht];ge=Kt({},se,{params:h(Ne)}),ve.params=h(ve.params)}const be=e.resolve(ge,ve),Te=se.hash||"";be.params=c(f(be.params));const $e=nI(n,Kt({},se,{hash:zI(Te),path:be.path})),Ie=i.createHref($e);return Kt({fullPath:$e,hash:Te,query:n===tx?WI(se.query):se.query||{}},be,{redirectedFrom:void 0,href:Ie})}function b(se){return typeof se=="string"?Fg(r,se,u.value.path):Kt({},se)}function w(se,ve){if(l!==se)return Gl(8,{from:ve,to:se})}function T(se){return D(se)}function k(se){return T(Kt(b(se),{replace:!0}))}function A(se){const ve=se.matched[se.matched.length-1];if(ve&&ve.redirect){const{redirect:ge}=ve;let be=typeof ge=="function"?ge(se):ge;return typeof be=="string"&&(be=be.includes("?")||be.includes("#")?be=b(be):{path:be},be.params={}),Kt({query:se.query,hash:se.hash,params:"path"in be?{}:se.params},be)}}function D(se,ve){const ge=l=_(se),be=u.value,Te=se.state,$e=se.force,Ie=se.replace===!0,Ne=A(ge);if(Ne)return D(Kt(b(Ne),{state:typeof Ne=="object"?Kt({},Te,Ne.state):Te,force:$e,replace:Ie}),ve||ge);const ht=ge;ht.redirectedFrom=ve;let Xt;return!$e&&iI(n,be,ge)&&(Xt=Gl(16,{to:ht,from:be}),he(be,be,!0,!1)),(Xt?Promise.resolve(Xt):$(ht,be)).catch(Rt=>Wa(Rt)?Wa(Rt,2)?Rt:ae(Rt):Q(Rt,ht,be)).then(Rt=>{if(Rt){if(Wa(Rt,2))return D(Kt({replace:Ie},b(Rt.to),{state:typeof Rt.to=="object"?Kt({},Te,Rt.to.state):Te,force:$e}),ve||ht)}else Rt=U(ht,be,!0,Ie,Te);return B(ht,be,Rt),Rt})}function O(se,ve){const ge=w(se,ve);return ge?Promise.reject(ge):Promise.resolve()}function F(se){const ve=we.values().next().value;return ve&&typeof ve.runWithContext=="function"?ve.runWithContext(se):se()}function $(se,ve){let ge;const[be,Te,$e]=tB(se,ve);ge=$g(be.reverse(),"beforeRouteLeave",se,ve);for(const Ne of be)Ne.leaveGuards.forEach(ht=>{ge.push($o(ht,se,ve))});const Ie=O.bind(null,se,ve);return ge.push(Ie),Fe(ge).then(()=>{ge=[];for(const Ne of a.list())ge.push($o(Ne,se,ve));return ge.push(Ie),Fe(ge)}).then(()=>{ge=$g(Te,"beforeRouteUpdate",se,ve);for(const Ne of Te)Ne.updateGuards.forEach(ht=>{ge.push($o(ht,se,ve))});return ge.push(Ie),Fe(ge)}).then(()=>{ge=[];for(const Ne of se.matched)if(Ne.beforeEnter&&!ve.matched.includes(Ne))if(Hi(Ne.beforeEnter))for(const ht of Ne.beforeEnter)ge.push($o(ht,se,ve));else ge.push($o(Ne.beforeEnter,se,ve));return ge.push(Ie),Fe(ge)}).then(()=>(se.matched.forEach(Ne=>Ne.enterCallbacks={}),ge=$g($e,"beforeRouteEnter",se,ve),ge.push(Ie),Fe(ge))).then(()=>{ge=[];for(const Ne of o.list())ge.push($o(Ne,se,ve));return ge.push(Ie),Fe(ge)}).catch(Ne=>Wa(Ne,8)?Ne:Promise.reject(Ne))}function B(se,ve,ge){for(const be of s.list())F(()=>be(se,ve,ge))}function U(se,ve,ge,be,Te){const $e=w(se,ve);if($e)return $e;const Ie=ve===Ao,Ne=dl?history.state:{};ge&&(be||Ie?i.replace(se.fullPath,Kt({scroll:Ie&&Ne&&Ne.scroll},Te)):i.push(se.fullPath,Te)),u.value=se,he(se,ve,ge,Ie),ae()}let H;function W(){H||(H=i.listen((se,ve,ge)=>{if(!Le.listening)return;const be=_(se),Te=A(be);if(Te){D(Kt(Te,{replace:!0}),be).catch(kf);return}l=be;const $e=u.value;dl&&hI(Yb($e.fullPath,ge.delta),Ov()),$(be,$e).catch(Ie=>Wa(Ie,12)?Ie:Wa(Ie,2)?(D(Ie.to,be).then(Ne=>{Wa(Ne,20)&&!ge.delta&&ge.type===qf.pop&&i.go(-1,!1)}).catch(kf),Promise.reject()):(ge.delta&&i.go(-ge.delta,!1),Q(Ie,be,$e))).then(Ie=>{Ie=Ie||U(be,$e,!1),Ie&&(ge.delta&&!Wa(Ie,8)?i.go(-ge.delta,!1):ge.type===qf.pop&&Wa(Ie,20)&&i.go(-1,!1)),B(be,$e,Ie)}).catch(kf)}))}let z=Fc(),G=Fc(),Y;function Q(se,ve,ge){ae(se);const be=G.list();return be.length?be.forEach(Te=>Te(se,ve,ge)):console.error(se),Promise.reject(se)}function J(){return Y&&u.value!==Ao?Promise.resolve():new Promise((se,ve)=>{z.add([se,ve])})}function ae(se){return Y||(Y=!se,W(),z.list().forEach(([ve,ge])=>se?ge(se):ve()),z.reset()),se}function he(se,ve,ge,be){const{scrollBehavior:Te}=t;if(!dl||!Te)return Promise.resolve();const $e=!ge&&dI(Yb(se.fullPath,0))||(be||!ge)&&history.state&&history.state.scroll||null;return fn().then(()=>Te(se,ve,$e)).then(Ie=>Ie&&fI(Ie)).catch(Ie=>Q(Ie,se,ve))}const pe=se=>i.go(se);let Se;const we=new Set,Le={currentRoute:u,listening:!0,addRoute:p,removeRoute:v,hasRoute:m,getRoutes:g,resolve:_,options:t,push:T,replace:k,go:pe,back:()=>pe(-1),forward:()=>pe(1),beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:G.add,isReady:J,install(se){const ve=this;se.component("RouterLink",KI),se.component("RouterView",eB),se.config.globalProperties.$router=ve,Object.defineProperty(se.config.globalProperties,"$route",{enumerable:!0,get:()=>X(u)}),dl&&!Se&&u.value===Ao&&(Se=!0,T(i.location).catch(Te=>{}));const ge={};for(const Te in Ao)ge[Te]=ce(()=>u.value[Te]);se.provide(Iv,ve),se.provide($A,co(ge)),se.provide(Dy,u);const be=se.unmount;we.add(se),se.unmount=function(){we.delete(se),we.size<1&&(l=Ao,H&&H(),H=null,u.value=Ao,Se=!1,Y=!1),be()}}};function Fe(se){return se.reduce((ve,ge)=>ve.then(()=>F(ge)),Promise.resolve())}return Le}function tB(t,e){const r=[],n=[],i=[],a=Math.max(e.matched.length,t.matched.length);for(let o=0;o<a;o++){const s=e.matched[o];s&&(t.matched.find(l=>Vl(l,s))?n.push(s):r.push(s));const u=t.matched[o];u&&(e.matched.find(l=>Vl(l,u))||i.push(u))}return[r,n,i]}function aae(){return Ht(Iv)}const fp=function(t,e,...r){let n;e.includes("mouse")||e.includes("click")?n="MouseEvents":e.includes("key")?n="KeyboardEvent":n="HTMLEvents";const i=document.createEvent(n);return i.initEvent(e,...r),t.dispatchEvent(i),t},Za=(t,e,{checkForDefaultPrevented:r=!0}={})=>i=>{const a=t==null?void 0:t(i);if(r===!1||!a)return e==null?void 0:e(i)};var sx;const Nr=typeof window<"u",rB=t=>typeof t=="string",jp=()=>{},nB=Nr&&((sx=window==null?void 0:window.navigator)==null?void 0:sx.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Kf(t){return typeof t=="function"?t():X(t)}function iB(t,e){function r(...n){return new Promise((i,a)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(i).catch(a)})}return r}function aB(t,e={}){let r,n,i=jp;const a=s=>{clearTimeout(s),i(),i=jp};return s=>{const u=Kf(t),l=Kf(e.maxWait);return r&&a(r),u<=0||l!==void 0&&l<=0?(n&&(a(n),n=null),Promise.resolve(s())):new Promise((c,h)=>{i=e.rejectOnCancel?h:c,l&&!n&&(n=setTimeout(()=>{r&&a(r),n=null,c(s())},l)),r=setTimeout(()=>{n&&a(n),n=null,c(s())},u)})}}function oB(t){return t}function Bv(t){return NO()?(TA(t),!0):!1}function sB(t,e=200,r={}){return iB(aB(e,r),t)}function uB(t,e=200,r={}){const n=Ye(t.value),i=sB(()=>{n.value=t.value},e,r);return xt(t,()=>i()),n}function lB(t,e=!0){Ui()?Gr(t):e?t():fn(t)}function Zf(t,e,r={}){const{immediate:n=!0}=r,i=Ye(!1);let a=null;function o(){a&&(clearTimeout(a),a=null)}function s(){i.value=!1,o()}function u(...l){o(),i.value=!0,a=setTimeout(()=>{i.value=!1,a=null,t(...l)},Kf(e))}return n&&(i.value=!0,Nr&&u()),Bv(s),{isPending:CA(i),start:u,stop:s}}function Vo(t){var e;const r=Kf(t);return(e=r==null?void 0:r.$el)!=null?e:r}const L1=Nr?window:void 0;function hp(...t){let e,r,n,i;if(rB(t[0])||Array.isArray(t[0])?([r,n,i]=t,e=L1):[e,r,n,i]=t,!e)return jp;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const a=[],o=()=>{a.forEach(c=>c()),a.length=0},s=(c,h,f,p)=>(c.addEventListener(h,f,p),()=>c.removeEventListener(h,f,p)),u=xt(()=>[Vo(e),Kf(i)],([c,h])=>{o(),c&&a.push(...r.flatMap(f=>n.map(p=>s(c,f,p,h))))},{immediate:!0,flush:"post"}),l=()=>{u(),o()};return Bv(l),l}let ux=!1;function cB(t,e,r={}){const{window:n=L1,ignore:i=[],capture:a=!0,detectIframe:o=!1}=r;if(!n)return;nB&&!ux&&(ux=!0,Array.from(n.document.body.children).forEach(f=>f.addEventListener("click",jp)));let s=!0;const u=f=>i.some(p=>{if(typeof p=="string")return Array.from(n.document.querySelectorAll(p)).some(v=>v===f.target||f.composedPath().includes(v));{const v=Vo(p);return v&&(f.target===v||f.composedPath().includes(v))}}),c=[hp(n,"click",f=>{const p=Vo(t);if(!(!p||p===f.target||f.composedPath().includes(p))){if(f.detail===0&&(s=!u(f)),!s){s=!0;return}e(f)}},{passive:!0,capture:a}),hp(n,"pointerdown",f=>{const p=Vo(t);p&&(s=!f.composedPath().includes(p)&&!u(f))},{passive:!0}),o&&hp(n,"blur",f=>{var p;const v=Vo(t);((p=n.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(v!=null&&v.contains(n.document.activeElement))&&e(f)})].filter(Boolean);return()=>c.forEach(f=>f())}function fB(t,e=!1){const r=Ye(),n=()=>r.value=!!t();return n(),lB(n,e),r}const lx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cx="__vueuse_ssr_handlers__";lx[cx]=lx[cx]||{};var fx=Object.getOwnPropertySymbols,hB=Object.prototype.hasOwnProperty,dB=Object.prototype.propertyIsEnumerable,pB=(t,e)=>{var r={};for(var n in t)hB.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&fx)for(var n of fx(t))e.indexOf(n)<0&&dB.call(t,n)&&(r[n]=t[n]);return r};function Nv(t,e,r={}){const n=r,{window:i=L1}=n,a=pB(n,["window"]);let o;const s=fB(()=>i&&"ResizeObserver"in i),u=()=>{o&&(o.disconnect(),o=void 0)},l=xt(()=>Vo(t),h=>{u(),s.value&&i&&h&&(o=new ResizeObserver(e),o.observe(h,a))},{immediate:!0,flush:"post"}),c=()=>{u(),l()};return Bv(c),{isSupported:s,stop:c}}var hx;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(hx||(hx={}));var vB=Object.defineProperty,dx=Object.getOwnPropertySymbols,gB=Object.prototype.hasOwnProperty,mB=Object.prototype.propertyIsEnumerable,px=(t,e,r)=>e in t?vB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yB=(t,e)=>{for(var r in e||(e={}))gB.call(e,r)&&px(t,r,e[r]);if(dx)for(var r of dx(e))mB.call(e,r)&&px(t,r,e[r]);return t};const _B={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};yB({linear:oB},_B);const bB=()=>Nr&&/firefox/i.test(window.navigator.userAgent);var xB=typeof global=="object"&&global&&global.Object===Object&&global;const HA=xB;var SB=typeof self=="object"&&self&&self.Object===Object&&self,wB=HA||SB||Function("return this")();const Pa=wB;var TB=Pa.Symbol;const Jo=TB;var zA=Object.prototype,CB=zA.hasOwnProperty,AB=zA.toString,$c=Jo?Jo.toStringTag:void 0;function kB(t){var e=CB.call(t,$c),r=t[$c];try{t[$c]=void 0;var n=!0}catch{}var i=AB.call(t);return n&&(e?t[$c]=r:delete t[$c]),i}var EB=Object.prototype,PB=EB.toString;function DB(t){return PB.call(t)}var MB="[object Null]",LB="[object Undefined]",vx=Jo?Jo.toStringTag:void 0;function fc(t){return t==null?t===void 0?LB:MB:vx&&vx in Object(t)?kB(t):DB(t)}function hc(t){return t!=null&&typeof t=="object"}var RB="[object Symbol]";function R1(t){return typeof t=="symbol"||hc(t)&&fc(t)==RB}function OB(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var IB=Array.isArray;const Cu=IB;var BB=1/0,gx=Jo?Jo.prototype:void 0,mx=gx?gx.toString:void 0;function UA(t){if(typeof t=="string")return t;if(Cu(t))return OB(t,UA)+"";if(R1(t))return mx?mx.call(t):"";var e=t+"";return e=="0"&&1/t==-BB?"-0":e}function du(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var NB="[object AsyncFunction]",FB="[object Function]",$B="[object GeneratorFunction]",HB="[object Proxy]";function VA(t){if(!du(t))return!1;var e=fc(t);return e==FB||e==$B||e==NB||e==HB}var zB=Pa["__core-js_shared__"];const Hg=zB;var yx=function(){var t=/[^.]+$/.exec(Hg&&Hg.keys&&Hg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function UB(t){return!!yx&&yx in t}var VB=Function.prototype,GB=VB.toString;function Au(t){if(t!=null){try{return GB.call(t)}catch{}try{return t+""}catch{}}return""}var jB=/[\\^$.*+?()[\]{}|]/g,WB=/^\[object .+?Constructor\]$/,YB=Function.prototype,XB=Object.prototype,qB=YB.toString,KB=XB.hasOwnProperty,ZB=RegExp("^"+qB.call(KB).replace(jB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function QB(t){if(!du(t)||UB(t))return!1;var e=VA(t)?ZB:WB;return e.test(Au(t))}function JB(t,e){return t==null?void 0:t[e]}function ku(t,e){var r=JB(t,e);return QB(r)?r:void 0}var e3=ku(Pa,"WeakMap");const My=e3;var _x=Object.create,t3=function(){function t(){}return function(e){if(!du(e))return{};if(_x)return _x(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const r3=t3;function n3(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var i3=function(){try{var t=ku(Object,"defineProperty");return t({},"",{}),t}catch{}}();const bx=i3;function a3(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var o3=9007199254740991,s3=/^(?:0|[1-9]\d*)$/;function GA(t,e){var r=typeof t;return e=e??o3,!!e&&(r=="number"||r!="symbol"&&s3.test(t))&&t>-1&&t%1==0&&t<e}function jA(t,e,r){e=="__proto__"&&bx?bx(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function WA(t,e){return t===e||t!==t&&e!==e}var u3=Object.prototype,l3=u3.hasOwnProperty;function O1(t,e,r){var n=t[e];(!(l3.call(t,e)&&WA(n,r))||r===void 0&&!(e in t))&&jA(t,e,r)}function Fv(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],u=n?n(r[s],t[s],s,r,t):void 0;u===void 0&&(u=t[s]),i?jA(r,s,u):O1(r,s,u)}return r}var c3=9007199254740991;function YA(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=c3}function XA(t){return t!=null&&YA(t.length)&&!VA(t)}var f3=Object.prototype;function I1(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||f3;return t===r}function h3(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var d3="[object Arguments]";function xx(t){return hc(t)&&fc(t)==d3}var qA=Object.prototype,p3=qA.hasOwnProperty,v3=qA.propertyIsEnumerable,g3=xx(function(){return arguments}())?xx:function(t){return hc(t)&&p3.call(t,"callee")&&!v3.call(t,"callee")};const m3=g3;function y3(){return!1}var KA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Sx=KA&&typeof module=="object"&&module&&!module.nodeType&&module,_3=Sx&&Sx.exports===KA,Tx=_3?Pa.Buffer:void 0,b3=Tx?Tx.isBuffer:void 0,x3=b3||y3;const ZA=x3;var S3="[object Arguments]",w3="[object Array]",T3="[object Boolean]",C3="[object Date]",A3="[object Error]",k3="[object Function]",E3="[object Map]",P3="[object Number]",D3="[object Object]",M3="[object RegExp]",L3="[object Set]",R3="[object String]",O3="[object WeakMap]",I3="[object ArrayBuffer]",B3="[object DataView]",N3="[object Float32Array]",F3="[object Float64Array]",$3="[object Int8Array]",H3="[object Int16Array]",z3="[object Int32Array]",U3="[object Uint8Array]",V3="[object Uint8ClampedArray]",G3="[object Uint16Array]",j3="[object Uint32Array]",pr={};pr[N3]=pr[F3]=pr[$3]=pr[H3]=pr[z3]=pr[U3]=pr[V3]=pr[G3]=pr[j3]=!0;pr[S3]=pr[w3]=pr[I3]=pr[T3]=pr[B3]=pr[C3]=pr[A3]=pr[k3]=pr[E3]=pr[P3]=pr[D3]=pr[M3]=pr[L3]=pr[R3]=pr[O3]=!1;function W3(t){return hc(t)&&YA(t.length)&&!!pr[fc(t)]}function B1(t){return function(e){return t(e)}}var QA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Pf=QA&&typeof module=="object"&&module&&!module.nodeType&&module,Y3=Pf&&Pf.exports===QA,zg=Y3&&HA.process,X3=function(){try{var t=Pf&&Pf.require&&Pf.require("util").types;return t||zg&&zg.binding&&zg.binding("util")}catch{}}();const jl=X3;var Cx=jl&&jl.isTypedArray,q3=Cx?B1(Cx):W3;const K3=q3;var Z3=Object.prototype,Q3=Z3.hasOwnProperty;function JA(t,e){var r=Cu(t),n=!r&&m3(t),i=!r&&!n&&ZA(t),a=!r&&!n&&!i&&K3(t),o=r||n||i||a,s=o?h3(t.length,String):[],u=s.length;for(var l in t)(e||Q3.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||GA(l,u)))&&s.push(l);return s}function ek(t,e){return function(r){return t(e(r))}}var J3=ek(Object.keys,Object);const e5=J3;var t5=Object.prototype,r5=t5.hasOwnProperty;function n5(t){if(!I1(t))return e5(t);var e=[];for(var r in Object(t))r5.call(t,r)&&r!="constructor"&&e.push(r);return e}function N1(t){return XA(t)?JA(t):n5(t)}function i5(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var a5=Object.prototype,o5=a5.hasOwnProperty;function s5(t){if(!du(t))return i5(t);var e=I1(t),r=[];for(var n in t)n=="constructor"&&(e||!o5.call(t,n))||r.push(n);return r}function F1(t){return XA(t)?JA(t,!0):s5(t)}var u5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l5=/^\w*$/;function c5(t,e){if(Cu(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||R1(t)?!0:l5.test(t)||!u5.test(t)||e!=null&&t in Object(e)}var f5=ku(Object,"create");const Qf=f5;function h5(){this.__data__=Qf?Qf(null):{},this.size=0}function d5(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var p5="__lodash_hash_undefined__",v5=Object.prototype,g5=v5.hasOwnProperty;function m5(t){var e=this.__data__;if(Qf){var r=e[t];return r===p5?void 0:r}return g5.call(e,t)?e[t]:void 0}var y5=Object.prototype,_5=y5.hasOwnProperty;function b5(t){var e=this.__data__;return Qf?e[t]!==void 0:_5.call(e,t)}var x5="__lodash_hash_undefined__";function S5(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Qf&&e===void 0?x5:e,this}function pu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pu.prototype.clear=h5;pu.prototype.delete=d5;pu.prototype.get=m5;pu.prototype.has=b5;pu.prototype.set=S5;function w5(){this.__data__=[],this.size=0}function $v(t,e){for(var r=t.length;r--;)if(WA(t[r][0],e))return r;return-1}var T5=Array.prototype,C5=T5.splice;function A5(t){var e=this.__data__,r=$v(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():C5.call(e,r,1),--this.size,!0}function k5(t){var e=this.__data__,r=$v(e,t);return r<0?void 0:e[r][1]}function E5(t){return $v(this.__data__,t)>-1}function P5(t,e){var r=this.__data__,n=$v(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function fo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fo.prototype.clear=w5;fo.prototype.delete=A5;fo.prototype.get=k5;fo.prototype.has=E5;fo.prototype.set=P5;var D5=ku(Pa,"Map");const Jf=D5;function M5(){this.size=0,this.__data__={hash:new pu,map:new(Jf||fo),string:new pu}}function L5(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Hv(t,e){var r=t.__data__;return L5(e)?r[typeof e=="string"?"string":"hash"]:r.map}function R5(t){var e=Hv(this,t).delete(t);return this.size-=e?1:0,e}function O5(t){return Hv(this,t).get(t)}function I5(t){return Hv(this,t).has(t)}function B5(t,e){var r=Hv(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function us(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}us.prototype.clear=M5;us.prototype.delete=R5;us.prototype.get=O5;us.prototype.has=I5;us.prototype.set=B5;var N5="Expected a function";function $1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(N5);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new($1.Cache||us),r}$1.Cache=us;var F5=500;function $5(t){var e=$1(t,function(n){return r.size===F5&&r.clear(),n}),r=e.cache;return e}var H5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z5=/\\(\\)?/g,U5=$5(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(H5,function(r,n,i,a){e.push(i?a.replace(z5,"$1"):n||r)}),e});const V5=U5;function G5(t){return t==null?"":UA(t)}function tk(t,e){return Cu(t)?t:c5(t,e)?[t]:V5(G5(t))}var j5=1/0;function rk(t){if(typeof t=="string"||R1(t))return t;var e=t+"";return e=="0"&&1/t==-j5?"-0":e}function W5(t,e){e=tk(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[rk(e[r++])];return r&&r==n?t:void 0}function nk(t,e,r){var n=t==null?void 0:W5(t,e);return n===void 0?r:n}function ik(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var Y5=ek(Object.getPrototypeOf,Object);const ak=Y5;function Ly(){if(!arguments.length)return[];var t=arguments[0];return Cu(t)?t:[t]}function X5(){this.__data__=new fo,this.size=0}function q5(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function K5(t){return this.__data__.get(t)}function Z5(t){return this.__data__.has(t)}var Q5=200;function J5(t,e){var r=this.__data__;if(r instanceof fo){var n=r.__data__;if(!Jf||n.length<Q5-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new us(n)}return r.set(t,e),this.size=r.size,this}function dc(t){var e=this.__data__=new fo(t);this.size=e.size}dc.prototype.clear=X5;dc.prototype.delete=q5;dc.prototype.get=K5;dc.prototype.has=Z5;dc.prototype.set=J5;function e4(t,e){return t&&Fv(e,N1(e),t)}function t4(t,e){return t&&Fv(e,F1(e),t)}var ok=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ax=ok&&typeof module=="object"&&module&&!module.nodeType&&module,r4=Ax&&Ax.exports===ok,kx=r4?Pa.Buffer:void 0,Ex=kx?kx.allocUnsafe:void 0;function n4(t,e){if(e)return t.slice();var r=t.length,n=Ex?Ex(r):new t.constructor(r);return t.copy(n),n}function i4(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}function sk(){return[]}var a4=Object.prototype,o4=a4.propertyIsEnumerable,Px=Object.getOwnPropertySymbols,s4=Px?function(t){return t==null?[]:(t=Object(t),i4(Px(t),function(e){return o4.call(t,e)}))}:sk;const H1=s4;function u4(t,e){return Fv(t,H1(t),e)}var l4=Object.getOwnPropertySymbols,c4=l4?function(t){for(var e=[];t;)ik(e,H1(t)),t=ak(t);return e}:sk;const uk=c4;function f4(t,e){return Fv(t,uk(t),e)}function lk(t,e,r){var n=e(t);return Cu(t)?n:ik(n,r(t))}function h4(t){return lk(t,N1,H1)}function d4(t){return lk(t,F1,uk)}var p4=ku(Pa,"DataView");const Ry=p4;var v4=ku(Pa,"Promise");const Oy=v4;var g4=ku(Pa,"Set");const Iy=g4;var Dx="[object Map]",m4="[object Object]",Mx="[object Promise]",Lx="[object Set]",Rx="[object WeakMap]",Ox="[object DataView]",y4=Au(Ry),_4=Au(Jf),b4=Au(Oy),x4=Au(Iy),S4=Au(My),Zs=fc;(Ry&&Zs(new Ry(new ArrayBuffer(1)))!=Ox||Jf&&Zs(new Jf)!=Dx||Oy&&Zs(Oy.resolve())!=Mx||Iy&&Zs(new Iy)!=Lx||My&&Zs(new My)!=Rx)&&(Zs=function(t){var e=fc(t),r=e==m4?t.constructor:void 0,n=r?Au(r):"";if(n)switch(n){case y4:return Ox;case _4:return Dx;case b4:return Mx;case x4:return Lx;case S4:return Rx}return e});const z1=Zs;var w4=Object.prototype,T4=w4.hasOwnProperty;function C4(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&T4.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var A4=Pa.Uint8Array;const Ix=A4;function U1(t){var e=new t.constructor(t.byteLength);return new Ix(e).set(new Ix(t)),e}function k4(t,e){var r=e?U1(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var E4=/\w*$/;function P4(t){var e=new t.constructor(t.source,E4.exec(t));return e.lastIndex=t.lastIndex,e}var Bx=Jo?Jo.prototype:void 0,Nx=Bx?Bx.valueOf:void 0;function D4(t){return Nx?Object(Nx.call(t)):{}}function M4(t,e){var r=e?U1(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var L4="[object Boolean]",R4="[object Date]",O4="[object Map]",I4="[object Number]",B4="[object RegExp]",N4="[object Set]",F4="[object String]",$4="[object Symbol]",H4="[object ArrayBuffer]",z4="[object DataView]",U4="[object Float32Array]",V4="[object Float64Array]",G4="[object Int8Array]",j4="[object Int16Array]",W4="[object Int32Array]",Y4="[object Uint8Array]",X4="[object Uint8ClampedArray]",q4="[object Uint16Array]",K4="[object Uint32Array]";function Z4(t,e,r){var n=t.constructor;switch(e){case H4:return U1(t);case L4:case R4:return new n(+t);case z4:return k4(t,r);case U4:case V4:case G4:case j4:case W4:case Y4:case X4:case q4:case K4:return M4(t,r);case O4:return new n;case I4:case F4:return new n(t);case B4:return P4(t);case N4:return new n;case $4:return D4(t)}}function Q4(t){return typeof t.constructor=="function"&&!I1(t)?r3(ak(t)):{}}var J4="[object Map]";function eN(t){return hc(t)&&z1(t)==J4}var Fx=jl&&jl.isMap,tN=Fx?B1(Fx):eN;const rN=tN;var nN="[object Set]";function iN(t){return hc(t)&&z1(t)==nN}var $x=jl&&jl.isSet,aN=$x?B1($x):iN;const oN=aN;var sN=1,uN=2,lN=4,ck="[object Arguments]",cN="[object Array]",fN="[object Boolean]",hN="[object Date]",dN="[object Error]",fk="[object Function]",pN="[object GeneratorFunction]",vN="[object Map]",gN="[object Number]",hk="[object Object]",mN="[object RegExp]",yN="[object Set]",_N="[object String]",bN="[object Symbol]",xN="[object WeakMap]",SN="[object ArrayBuffer]",wN="[object DataView]",TN="[object Float32Array]",CN="[object Float64Array]",AN="[object Int8Array]",kN="[object Int16Array]",EN="[object Int32Array]",PN="[object Uint8Array]",DN="[object Uint8ClampedArray]",MN="[object Uint16Array]",LN="[object Uint32Array]",sr={};sr[ck]=sr[cN]=sr[SN]=sr[wN]=sr[fN]=sr[hN]=sr[TN]=sr[CN]=sr[AN]=sr[kN]=sr[EN]=sr[vN]=sr[gN]=sr[hk]=sr[mN]=sr[yN]=sr[_N]=sr[bN]=sr[PN]=sr[DN]=sr[MN]=sr[LN]=!0;sr[dN]=sr[fk]=sr[xN]=!1;function dp(t,e,r,n,i,a){var o,s=e&sN,u=e&uN,l=e&lN;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!du(t))return t;var c=Cu(t);if(c){if(o=C4(t),!s)return n3(t,o)}else{var h=z1(t),f=h==fk||h==pN;if(ZA(t))return n4(t,s);if(h==hk||h==ck||f&&!i){if(o=u||f?{}:Q4(t),!s)return u?f4(t,t4(o,t)):u4(t,e4(o,t))}else{if(!sr[h])return i?t:{};o=Z4(t,h,s)}}a||(a=new dc);var p=a.get(t);if(p)return p;a.set(t,o),oN(t)?t.forEach(function(m){o.add(dp(m,e,r,m,t,a))}):rN(t)&&t.forEach(function(m,_){o.set(_,dp(m,e,r,_,t,a))});var v=l?u?d4:h4:u?F1:N1,g=c?void 0:v(t);return a3(g||t,function(m,_){g&&(_=m,m=t[_]),O1(o,_,dp(m,e,r,_,t,a))}),o}var RN=4;function Hx(t){return dp(t,RN)}function Wp(t){for(var e=-1,r=t==null?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n}function Wl(t){return t==null}function ON(t){return t===void 0}function IN(t,e,r,n){if(!du(t))return t;e=tk(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var u=rk(e[i]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(i!=o){var c=s[u];l=n?n(c,u,s):void 0,l===void 0&&(l=du(c)?c:GA(e[i+1])?[]:{})}O1(s,u,l),s=s[u]}return t}function BN(t,e,r){return t==null?t:IN(t,e,r)}const NN=t=>t===void 0,kh=t=>typeof t=="boolean",Ca=t=>typeof t=="number",eh=t=>typeof Element>"u"?!1:t instanceof Element,FN=t=>Tr(t)?!Number.isNaN(Number(t)):!1,zx=t=>Object.keys(t),Ug=(t,e,r)=>({get value(){return nk(t,e,r)},set value(n){BN(t,e,n)}});class $N extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function Yl(t,e){throw new $N(`[${t}] ${e}`)}const dk=(t="")=>t.split(" ").filter(e=>!!e.trim()),By=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},tu=(t,e)=>{!t||!e.trim()||t.classList.add(...dk(e))},qo=(t,e)=>{!t||!e.trim()||t.classList.remove(...dk(e))},pl=(t,e)=>{var r;if(!Nr||!t||!e)return"";let n=FO(e);n==="float"&&(n="cssFloat");try{const i=t.style[n];if(i)return i;const a=(r=document.defaultView)==null?void 0:r.getComputedStyle(t,"");return a?a[n]:""}catch{return t.style[n]}};function th(t,e="px"){if(!t)return"";if(Ca(t)||FN(t))return`${t}${e}`;if(Tr(t))return t}let ad;const HN=t=>{var e;if(!Nr)return 0;if(ad!==void 0)return ad;const r=document.createElement("div");r.className=`${t}-scrollbar__wrap`,r.style.visibility="hidden",r.style.width="100px",r.style.position="absolute",r.style.top="-9999px",document.body.appendChild(r);const n=r.offsetWidth;r.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",r.appendChild(i);const a=i.offsetWidth;return(e=r.parentNode)==null||e.removeChild(r),ad=n-a,ad};/*! Element Plus Icons Vue v2.1.0 */var Cn=(t,e)=>{let r=t.__vccOpts||t;for(let[n,i]of e)r[n]=i;return r},zN={name:"ArrowDown"},UN={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},VN=pt("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),GN=[VN];function jN(t,e,r,n,i,a){return Ce(),Ve("svg",UN,GN)}var WN=Cn(zN,[["render",jN],["__file","arrow-down.vue"]]),YN={name:"ArrowRight"},XN={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qN=pt("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),KN=[qN];function ZN(t,e,r,n,i,a){return Ce(),Ve("svg",XN,KN)}var QN=Cn(YN,[["render",ZN],["__file","arrow-right.vue"]]),JN={name:"Check"},e6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},t6=pt("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),r6=[t6];function n6(t,e,r,n,i,a){return Ce(),Ve("svg",e6,r6)}var i6=Cn(JN,[["render",n6],["__file","check.vue"]]),a6={name:"CircleCheck"},o6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},s6=pt("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),u6=pt("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),l6=[s6,u6];function c6(t,e,r,n,i,a){return Ce(),Ve("svg",o6,l6)}var pk=Cn(a6,[["render",c6],["__file","circle-check.vue"]]),f6={name:"CircleCloseFilled"},h6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},d6=pt("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),p6=[d6];function v6(t,e,r,n,i,a){return Ce(),Ve("svg",h6,p6)}var vk=Cn(f6,[["render",v6],["__file","circle-close-filled.vue"]]),g6={name:"CircleClose"},m6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},y6=pt("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),_6=pt("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),b6=[y6,_6];function x6(t,e,r,n,i,a){return Ce(),Ve("svg",m6,b6)}var V1=Cn(g6,[["render",x6],["__file","circle-close.vue"]]),S6={name:"Close"},w6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},T6=pt("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),C6=[T6];function A6(t,e,r,n,i,a){return Ce(),Ve("svg",w6,C6)}var G1=Cn(S6,[["render",A6],["__file","close.vue"]]),k6={name:"Hide"},E6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},P6=pt("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),D6=pt("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),M6=[P6,D6];function L6(t,e,r,n,i,a){return Ce(),Ve("svg",E6,M6)}var R6=Cn(k6,[["render",L6],["__file","hide.vue"]]),O6={name:"InfoFilled"},I6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},B6=pt("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),N6=[B6];function F6(t,e,r,n,i,a){return Ce(),Ve("svg",I6,N6)}var gk=Cn(O6,[["render",F6],["__file","info-filled.vue"]]),$6={name:"Loading"},H6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},z6=pt("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),U6=[z6];function V6(t,e,r,n,i,a){return Ce(),Ve("svg",H6,U6)}var mk=Cn($6,[["render",V6],["__file","loading.vue"]]),G6={name:"More"},j6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},W6=pt("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),Y6=[W6];function X6(t,e,r,n,i,a){return Ce(),Ve("svg",j6,Y6)}var q6=Cn(G6,[["render",X6],["__file","more.vue"]]),K6={name:"PictureFilled"},Z6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Q6=pt("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32H96zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112zM256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384z"},null,-1),J6=[Q6];function e8(t,e,r,n,i,a){return Ce(),Ve("svg",Z6,J6)}var t8=Cn(K6,[["render",e8],["__file","picture-filled.vue"]]),r8={name:"SuccessFilled"},n8={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},i8=pt("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),a8=[i8];function o8(t,e,r,n,i,a){return Ce(),Ve("svg",n8,a8)}var yk=Cn(r8,[["render",o8],["__file","success-filled.vue"]]),s8={name:"View"},u8={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},l8=pt("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),c8=[l8];function f8(t,e,r,n,i,a){return Ce(),Ve("svg",u8,c8)}var h8=Cn(s8,[["render",f8],["__file","view.vue"]]),d8={name:"WarningFilled"},p8={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},v8=pt("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),g8=[v8];function m8(t,e,r,n,i,a){return Ce(),Ve("svg",p8,g8)}var j1=Cn(d8,[["render",m8],["__file","warning-filled.vue"]]);const _k="__epPropKey",ot=t=>t,y8=t=>Ta(t)&&!!t[_k],zv=(t,e)=>{if(!Ta(t)||y8(t))return t;const{values:r,required:n,default:i,type:a,validator:o}=t,u={type:a,required:!!n,validator:r||o?l=>{let c=!1,h=[];if(r&&(h=Array.from(r),Ub(t,"default")&&h.push(i),c||(c=h.includes(l))),o&&(c||(c=o(l))),!c&&h.length>0){const f=[...new Set(h)].map(p=>JSON.stringify(p)).join(", ");$O(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(l)}.`)}return c}:void 0,[_k]:!0};return Ub(t,"default")&&(u.default=i),u},Vt=t=>Wp(Object.entries(t).map(([e,r])=>[e,zv(r,e)])),va=ot([String,Object,Function]),_8={Close:G1,SuccessFilled:yk,InfoFilled:gk,WarningFilled:j1,CircleCloseFilled:vk},Ux={success:yk,warning:j1,error:vk,info:gk},b8={validating:mk,success:pk,error:V1},tn=(t,e)=>{if(t.install=r=>{for(const n of[t,...Object.values(e??{})])r.component(n.name,n)},e)for(const[r,n]of Object.entries(e))t[r]=n;return t},x8=(t,e)=>(t.install=r=>{t._context=r._context,r.config.globalProperties[e]=t},t),Da=t=>(t.install=Xo,t),xn={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},Vg=["sun","mon","tue","wed","thu","fri","sat"],vu="update:modelValue",bk="input",Uv=["","default","small","large"];var pp=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(pp||{});const vp=t=>{const e=Dl(t)?t:[t],r=[];return e.forEach(n=>{var i;Dl(n)?r.push(...vp(n)):Vp(n)&&Dl(n.children)?r.push(...vp(n.children)):(r.push(n),Vp(n)&&((i=n.component)!=null&&i.subTree)&&r.push(...vp(n.component.subTree)))}),r},S8=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),zo=t=>t,w8=["class","style"],T8=/^on[A-Z]/,C8=(t={})=>{const{excludeListeners:e=!1,excludeKeys:r}=t,n=ce(()=>((r==null?void 0:r.value)||[]).concat(w8)),i=Ui();return i?ce(()=>{var a;return Wp(Object.entries((a=i.proxy)==null?void 0:a.$attrs).filter(([o])=>!n.value.includes(o)&&!(e&&T8.test(o))))}):ce(()=>({}))},rh=({from:t,replacement:e,scope:r,version:n,ref:i,type:a="API"},o)=>{xt(()=>X(o),s=>{},{immediate:!0})};var A8={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const k8=t=>(e,r)=>E8(e,r,X(t)),E8=(t,e,r)=>nk(r,t,t).replace(/\{(\w+)\}/g,(n,i)=>{var a;return`${(a=e==null?void 0:e[i])!=null?a:`{${i}}`}`}),P8=t=>{const e=ce(()=>X(t).name),r=E1(t)?t:Ye(t);return{lang:e,locale:r,t:k8(t)}},xk=Symbol("localeContextKey"),Eh=t=>{const e=t||Ht(xk,Ye());return P8(ce(()=>e.value||A8))},Yp="el",D8="is-",As=(t,e,r,n,i)=>{let a=`${t}-${e}`;return r&&(a+=`-${r}`),n&&(a+=`__${n}`),i&&(a+=`--${i}`),a},Sk=Symbol("namespaceContextKey"),W1=t=>{const e=t||Ht(Sk,Ye(Yp));return ce(()=>X(e)||Yp)},gt=(t,e)=>{const r=W1(e);return{namespace:r,b:(g="")=>As(r.value,t,g,"",""),e:g=>g?As(r.value,t,"",g,""):"",m:g=>g?As(r.value,t,"","",g):"",be:(g,m)=>g&&m?As(r.value,t,g,m,""):"",em:(g,m)=>g&&m?As(r.value,t,"",g,m):"",bm:(g,m)=>g&&m?As(r.value,t,g,"",m):"",bem:(g,m,_)=>g&&m&&_?As(r.value,t,g,m,_):"",is:(g,...m)=>{const _=m.length>=1?m[0]:!0;return g&&_?`${D8}${g}`:""},cssVar:g=>{const m={};for(const _ in g)g[_]&&(m[`--${r.value}-${_}`]=g[_]);return m},cssVarName:g=>`--${r.value}-${g}`,cssVarBlock:g=>{const m={};for(const _ in g)g[_]&&(m[`--${r.value}-${t}-${_}`]=g[_]);return m},cssVarBlockName:g=>`--${r.value}-${t}-${g}`}},M8=(t,e={})=>{E1(t)||Yl("[useLockscreen]","You need to pass a ref param to this function");const r=e.ns||gt("popup"),n=HO(()=>r.bm("parent","hidden"));if(!Nr||By(document.body,n.value))return;let i=0,a=!1,o="0";const s=()=>{setTimeout(()=>{qo(document==null?void 0:document.body,n.value),a&&document&&(document.body.style.width=o)},200)};xt(t,u=>{if(!u){s();return}a=!By(document.body,n.value),a&&(o=document.body.style.width),i=HN(r.namespace.value);const l=document.documentElement.clientHeight<document.body.scrollHeight,c=pl(document.body,"overflowY");i>0&&(l||c==="scroll")&&a&&(document.body.style.width=`calc(100% - ${i}px)`),tu(document.body,n.value)}),TA(()=>s())},L8=zv({type:ot(Boolean),default:null}),R8=zv({type:ot(Function)}),wk=t=>{const e=`update:${t}`,r=`onUpdate:${t}`,n=[e],i={[t]:L8,[r]:R8};return{useModelToggle:({indicator:o,toggleReason:s,shouldHideWhenRouteChanges:u,shouldProceed:l,onShow:c,onHide:h})=>{const f=Ui(),{emit:p}=f,v=f.props,g=ce(()=>pa(v[r])),m=ce(()=>v[t]===null),_=D=>{o.value!==!0&&(o.value=!0,s&&(s.value=D),pa(c)&&c(D))},b=D=>{o.value!==!1&&(o.value=!1,s&&(s.value=D),pa(h)&&h(D))},w=D=>{if(v.disabled===!0||pa(l)&&!l())return;const O=g.value&&Nr;O&&p(e,!0),(m.value||!O)&&_(D)},T=D=>{if(v.disabled===!0||!Nr)return;const O=g.value&&Nr;O&&p(e,!1),(m.value||!O)&&b(D)},k=D=>{kh(D)&&(v.disabled&&D?g.value&&p(e,!1):o.value!==D&&(D?_():b()))},A=()=>{o.value?T():w()};return xt(()=>v[t],k),u&&f.appContext.config.globalProperties.$route!==void 0&&xt(()=>({...f.proxy.$route}),()=>{u.value&&o.value&&T()}),Gr(()=>{k(v[t])}),{hide:T,show:w,toggle:A,hasUpdateHandler:g}},useModelToggleProps:i,useModelToggleEmits:n}};wk("modelValue");const Tk=t=>{const e=Ui();return ce(()=>{var r,n;return(n=(r=e==null?void 0:e.proxy)==null?void 0:r.$props)==null?void 0:n[t]})};var In="top",yi="bottom",_i="right",Bn="left",Y1="auto",Ph=[In,yi,_i,Bn],Xl="start",nh="end",O8="clippingParents",Ck="viewport",Hc="popper",I8="reference",Vx=Ph.reduce(function(t,e){return t.concat([e+"-"+Xl,e+"-"+nh])},[]),X1=[].concat(Ph,[Y1]).reduce(function(t,e){return t.concat([e,e+"-"+Xl,e+"-"+nh])},[]),B8="beforeRead",N8="read",F8="afterRead",$8="beforeMain",H8="main",z8="afterMain",U8="beforeWrite",V8="write",G8="afterWrite",j8=[B8,N8,F8,$8,H8,z8,U8,V8,G8];function Aa(t){return t?(t.nodeName||"").toLowerCase():null}function Vi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ql(t){var e=Vi(t).Element;return t instanceof e||t instanceof Element}function vi(t){var e=Vi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function q1(t){if(typeof ShadowRoot>"u")return!1;var e=Vi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function W8(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},a=e.elements[r];!vi(a)||!Aa(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(o){var s=i[o];s===!1?a.removeAttribute(o):a.setAttribute(o,s===!0?"":s)}))})}function Y8(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],a=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),s=o.reduce(function(u,l){return u[l]="",u},{});!vi(i)||!Aa(i)||(Object.assign(i.style,s),Object.keys(a).forEach(function(u){i.removeAttribute(u)}))})}}var Ak={name:"applyStyles",enabled:!0,phase:"write",fn:W8,effect:Y8,requires:["computeStyles"]};function _a(t){return t.split("-")[0]}var uu=Math.max,Xp=Math.min,Kl=Math.round;function Zl(t,e){e===void 0&&(e=!1);var r=t.getBoundingClientRect(),n=1,i=1;if(vi(t)&&e){var a=t.offsetHeight,o=t.offsetWidth;o>0&&(n=Kl(r.width)/o||1),a>0&&(i=Kl(r.height)/a||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function K1(t){var e=Zl(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function kk(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&q1(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function io(t){return Vi(t).getComputedStyle(t)}function X8(t){return["table","td","th"].indexOf(Aa(t))>=0}function ls(t){return((ql(t)?t.ownerDocument:t.document)||window.document).documentElement}function Vv(t){return Aa(t)==="html"?t:t.assignedSlot||t.parentNode||(q1(t)?t.host:null)||ls(t)}function Gx(t){return!vi(t)||io(t).position==="fixed"?null:t.offsetParent}function q8(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&vi(t)){var n=io(t);if(n.position==="fixed")return null}var i=Vv(t);for(q1(i)&&(i=i.host);vi(i)&&["html","body"].indexOf(Aa(i))<0;){var a=io(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Dh(t){for(var e=Vi(t),r=Gx(t);r&&X8(r)&&io(r).position==="static";)r=Gx(r);return r&&(Aa(r)==="html"||Aa(r)==="body"&&io(r).position==="static")?e:r||q8(t)||e}function Z1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Df(t,e,r){return uu(t,Xp(e,r))}function K8(t,e,r){var n=Df(t,e,r);return n>r?r:n}function Ek(){return{top:0,right:0,bottom:0,left:0}}function Pk(t){return Object.assign({},Ek(),t)}function Dk(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var Z8=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,Pk(typeof t!="number"?t:Dk(t,Ph))};function Q8(t){var e,r=t.state,n=t.name,i=t.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,s=_a(r.placement),u=Z1(s),l=[Bn,_i].indexOf(s)>=0,c=l?"height":"width";if(!(!a||!o)){var h=Z8(i.padding,r),f=K1(a),p=u==="y"?In:Bn,v=u==="y"?yi:_i,g=r.rects.reference[c]+r.rects.reference[u]-o[u]-r.rects.popper[c],m=o[u]-r.rects.reference[u],_=Dh(a),b=_?u==="y"?_.clientHeight||0:_.clientWidth||0:0,w=g/2-m/2,T=h[p],k=b-f[c]-h[v],A=b/2-f[c]/2+w,D=Df(T,A,k),O=u;r.modifiersData[n]=(e={},e[O]=D,e.centerOffset=D-A,e)}}function J8(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!kk(e.elements.popper,i)||(e.elements.arrow=i))}var eF={name:"arrow",enabled:!0,phase:"main",fn:Q8,effect:J8,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ql(t){return t.split("-")[1]}var tF={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rF(t){var e=t.x,r=t.y,n=window,i=n.devicePixelRatio||1;return{x:Kl(e*i)/i||0,y:Kl(r*i)/i||0}}function jx(t){var e,r=t.popper,n=t.popperRect,i=t.placement,a=t.variation,o=t.offsets,s=t.position,u=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,h=t.isFixed,f=o.x,p=f===void 0?0:f,v=o.y,g=v===void 0?0:v,m=typeof c=="function"?c({x:p,y:g}):{x:p,y:g};p=m.x,g=m.y;var _=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),w=Bn,T=In,k=window;if(l){var A=Dh(r),D="clientHeight",O="clientWidth";if(A===Vi(r)&&(A=ls(r),io(A).position!=="static"&&s==="absolute"&&(D="scrollHeight",O="scrollWidth")),A=A,i===In||(i===Bn||i===_i)&&a===nh){T=yi;var F=h&&A===k&&k.visualViewport?k.visualViewport.height:A[D];g-=F-n.height,g*=u?1:-1}if(i===Bn||(i===In||i===yi)&&a===nh){w=_i;var $=h&&A===k&&k.visualViewport?k.visualViewport.width:A[O];p-=$-n.width,p*=u?1:-1}}var B=Object.assign({position:s},l&&tF),U=c===!0?rF({x:p,y:g}):{x:p,y:g};if(p=U.x,g=U.y,u){var H;return Object.assign({},B,(H={},H[T]=b?"0":"",H[w]=_?"0":"",H.transform=(k.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",H))}return Object.assign({},B,(e={},e[T]=b?g+"px":"",e[w]=_?p+"px":"",e.transform="",e))}function nF(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,s=r.roundOffsets,u=s===void 0?!0:s,l={placement:_a(e.placement),variation:Ql(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,jx(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,jx(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Mk={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:nF,data:{}},od={passive:!0};function iF(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,a=i===void 0?!0:i,o=n.resize,s=o===void 0?!0:o,u=Vi(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&l.forEach(function(c){c.addEventListener("scroll",r.update,od)}),s&&u.addEventListener("resize",r.update,od),function(){a&&l.forEach(function(c){c.removeEventListener("scroll",r.update,od)}),s&&u.removeEventListener("resize",r.update,od)}}var Lk={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:iF,data:{}},aF={left:"right",right:"left",bottom:"top",top:"bottom"};function gp(t){return t.replace(/left|right|bottom|top/g,function(e){return aF[e]})}var oF={start:"end",end:"start"};function Wx(t){return t.replace(/start|end/g,function(e){return oF[e]})}function Q1(t){var e=Vi(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function J1(t){return Zl(ls(t)).left+Q1(t).scrollLeft}function sF(t){var e=Vi(t),r=ls(t),n=e.visualViewport,i=r.clientWidth,a=r.clientHeight,o=0,s=0;return n&&(i=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,s=n.offsetTop)),{width:i,height:a,x:o+J1(t),y:s}}function uF(t){var e,r=ls(t),n=Q1(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=uu(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=uu(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+J1(t),u=-n.scrollTop;return io(i||r).direction==="rtl"&&(s+=uu(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}function e_(t){var e=io(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function Rk(t){return["html","body","#document"].indexOf(Aa(t))>=0?t.ownerDocument.body:vi(t)&&e_(t)?t:Rk(Vv(t))}function Mf(t,e){var r;e===void 0&&(e=[]);var n=Rk(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),a=Vi(n),o=i?[a].concat(a.visualViewport||[],e_(n)?n:[]):n,s=e.concat(o);return i?s:s.concat(Mf(Vv(o)))}function Ny(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function lF(t){var e=Zl(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Yx(t,e){return e===Ck?Ny(sF(t)):ql(e)?lF(e):Ny(uF(ls(t)))}function cF(t){var e=Mf(Vv(t)),r=["absolute","fixed"].indexOf(io(t).position)>=0,n=r&&vi(t)?Dh(t):t;return ql(n)?e.filter(function(i){return ql(i)&&kk(i,n)&&Aa(i)!=="body"}):[]}function fF(t,e,r){var n=e==="clippingParents"?cF(t):[].concat(e),i=[].concat(n,[r]),a=i[0],o=i.reduce(function(s,u){var l=Yx(t,u);return s.top=uu(l.top,s.top),s.right=Xp(l.right,s.right),s.bottom=Xp(l.bottom,s.bottom),s.left=uu(l.left,s.left),s},Yx(t,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Ok(t){var e=t.reference,r=t.element,n=t.placement,i=n?_a(n):null,a=n?Ql(n):null,o=e.x+e.width/2-r.width/2,s=e.y+e.height/2-r.height/2,u;switch(i){case In:u={x:o,y:e.y-r.height};break;case yi:u={x:o,y:e.y+e.height};break;case _i:u={x:e.x+e.width,y:s};break;case Bn:u={x:e.x-r.width,y:s};break;default:u={x:e.x,y:e.y}}var l=i?Z1(i):null;if(l!=null){var c=l==="y"?"height":"width";switch(a){case Xl:u[l]=u[l]-(e[c]/2-r[c]/2);break;case nh:u[l]=u[l]+(e[c]/2-r[c]/2);break}}return u}function ih(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,a=r.boundary,o=a===void 0?O8:a,s=r.rootBoundary,u=s===void 0?Ck:s,l=r.elementContext,c=l===void 0?Hc:l,h=r.altBoundary,f=h===void 0?!1:h,p=r.padding,v=p===void 0?0:p,g=Pk(typeof v!="number"?v:Dk(v,Ph)),m=c===Hc?I8:Hc,_=t.rects.popper,b=t.elements[f?m:c],w=fF(ql(b)?b:b.contextElement||ls(t.elements.popper),o,u),T=Zl(t.elements.reference),k=Ok({reference:T,element:_,strategy:"absolute",placement:i}),A=Ny(Object.assign({},_,k)),D=c===Hc?A:T,O={top:w.top-D.top+g.top,bottom:D.bottom-w.bottom+g.bottom,left:w.left-D.left+g.left,right:D.right-w.right+g.right},F=t.modifiersData.offset;if(c===Hc&&F){var $=F[i];Object.keys(O).forEach(function(B){var U=[_i,yi].indexOf(B)>=0?1:-1,H=[In,yi].indexOf(B)>=0?"y":"x";O[B]+=$[H]*U})}return O}function hF(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,u=r.allowedAutoPlacements,l=u===void 0?X1:u,c=Ql(n),h=c?s?Vx:Vx.filter(function(v){return Ql(v)===c}):Ph,f=h.filter(function(v){return l.indexOf(v)>=0});f.length===0&&(f=h);var p=f.reduce(function(v,g){return v[g]=ih(t,{placement:g,boundary:i,rootBoundary:a,padding:o})[_a(g)],v},{});return Object.keys(p).sort(function(v,g){return p[v]-p[g]})}function dF(t){if(_a(t)===Y1)return[];var e=gp(t);return[Wx(t),e,Wx(e)]}function pF(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!0:o,u=r.fallbackPlacements,l=r.padding,c=r.boundary,h=r.rootBoundary,f=r.altBoundary,p=r.flipVariations,v=p===void 0?!0:p,g=r.allowedAutoPlacements,m=e.options.placement,_=_a(m),b=_===m,w=u||(b||!v?[gp(m)]:dF(m)),T=[m].concat(w).reduce(function(we,Le){return we.concat(_a(Le)===Y1?hF(e,{placement:Le,boundary:c,rootBoundary:h,padding:l,flipVariations:v,allowedAutoPlacements:g}):Le)},[]),k=e.rects.reference,A=e.rects.popper,D=new Map,O=!0,F=T[0],$=0;$<T.length;$++){var B=T[$],U=_a(B),H=Ql(B)===Xl,W=[In,yi].indexOf(U)>=0,z=W?"width":"height",G=ih(e,{placement:B,boundary:c,rootBoundary:h,altBoundary:f,padding:l}),Y=W?H?_i:Bn:H?yi:In;k[z]>A[z]&&(Y=gp(Y));var Q=gp(Y),J=[];if(a&&J.push(G[U]<=0),s&&J.push(G[Y]<=0,G[Q]<=0),J.every(function(we){return we})){F=B,O=!1;break}D.set(B,J)}if(O)for(var ae=v?3:1,he=function(we){var Le=T.find(function(Fe){var se=D.get(Fe);if(se)return se.slice(0,we).every(function(ve){return ve})});if(Le)return F=Le,"break"},pe=ae;pe>0;pe--){var Se=he(pe);if(Se==="break")break}e.placement!==F&&(e.modifiersData[n]._skip=!0,e.placement=F,e.reset=!0)}}var vF={name:"flip",enabled:!0,phase:"main",fn:pF,requiresIfExists:["offset"],data:{_skip:!1}};function Xx(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function qx(t){return[In,_i,yi,Bn].some(function(e){return t[e]>=0})}function gF(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=ih(e,{elementContext:"reference"}),s=ih(e,{altBoundary:!0}),u=Xx(o,n),l=Xx(s,i,a),c=qx(u),h=qx(l);e.modifiersData[r]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}var mF={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:gF};function yF(t,e,r){var n=_a(t),i=[Bn,In].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Bn,_i].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function _F(t){var e=t.state,r=t.options,n=t.name,i=r.offset,a=i===void 0?[0,0]:i,o=X1.reduce(function(c,h){return c[h]=yF(h,e.rects,a),c},{}),s=o[e.placement],u=s.x,l=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=l),e.modifiersData[n]=o}var bF={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_F};function xF(t){var e=t.state,r=t.name;e.modifiersData[r]=Ok({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Ik={name:"popperOffsets",enabled:!0,phase:"read",fn:xF,data:{}};function SF(t){return t==="x"?"y":"x"}function wF(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!1:o,u=r.boundary,l=r.rootBoundary,c=r.altBoundary,h=r.padding,f=r.tether,p=f===void 0?!0:f,v=r.tetherOffset,g=v===void 0?0:v,m=ih(e,{boundary:u,rootBoundary:l,padding:h,altBoundary:c}),_=_a(e.placement),b=Ql(e.placement),w=!b,T=Z1(_),k=SF(T),A=e.modifiersData.popperOffsets,D=e.rects.reference,O=e.rects.popper,F=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,$=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(A){if(a){var H,W=T==="y"?In:Bn,z=T==="y"?yi:_i,G=T==="y"?"height":"width",Y=A[T],Q=Y+m[W],J=Y-m[z],ae=p?-O[G]/2:0,he=b===Xl?D[G]:O[G],pe=b===Xl?-O[G]:-D[G],Se=e.elements.arrow,we=p&&Se?K1(Se):{width:0,height:0},Le=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Ek(),Fe=Le[W],se=Le[z],ve=Df(0,D[G],we[G]),ge=w?D[G]/2-ae-ve-Fe-$.mainAxis:he-ve-Fe-$.mainAxis,be=w?-D[G]/2+ae+ve+se+$.mainAxis:pe+ve+se+$.mainAxis,Te=e.elements.arrow&&Dh(e.elements.arrow),$e=Te?T==="y"?Te.clientTop||0:Te.clientLeft||0:0,Ie=(H=B==null?void 0:B[T])!=null?H:0,Ne=Y+ge-Ie-$e,ht=Y+be-Ie,Xt=Df(p?Xp(Q,Ne):Q,Y,p?uu(J,ht):J);A[T]=Xt,U[T]=Xt-Y}if(s){var Rt,dn=T==="x"?In:Bn,jr=T==="x"?yi:_i,de=A[k],Gt=k==="y"?"height":"width",Ar=de+m[dn],_r=de-m[jr],Ae=[In,Bn].indexOf(_)!==-1,mt=(Rt=B==null?void 0:B[k])!=null?Rt:0,gr=Ae?Ar:de-D[Gt]-O[Gt]-mt+$.altAxis,pn=Ae?de+D[Gt]+O[Gt]-mt-$.altAxis:_r,Fn=p&&Ae?K8(gr,de,pn):Df(p?gr:Ar,de,p?pn:_r);A[k]=Fn,U[k]=Fn-de}e.modifiersData[n]=U}}var TF={name:"preventOverflow",enabled:!0,phase:"main",fn:wF,requiresIfExists:["offset"]};function CF(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function AF(t){return t===Vi(t)||!vi(t)?Q1(t):CF(t)}function kF(t){var e=t.getBoundingClientRect(),r=Kl(e.width)/t.offsetWidth||1,n=Kl(e.height)/t.offsetHeight||1;return r!==1||n!==1}function EF(t,e,r){r===void 0&&(r=!1);var n=vi(e),i=vi(e)&&kF(e),a=ls(e),o=Zl(t,i),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!r)&&((Aa(e)!=="body"||e_(a))&&(s=AF(e)),vi(e)?(u=Zl(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):a&&(u.x=J1(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function PF(t){var e=new Map,r=new Set,n=[];t.forEach(function(a){e.set(a.name,a)});function i(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var u=e.get(s);u&&i(u)}}),n.push(a)}return t.forEach(function(a){r.has(a.name)||i(a)}),n}function DF(t){var e=PF(t);return j8.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function MF(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function LF(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var Kx={placement:"bottom",modifiers:[],strategy:"absolute"};function Zx(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function t_(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,a=i===void 0?Kx:i;return function(o,s,u){u===void 0&&(u=a);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},Kx,a),modifiersData:{},elements:{reference:o,popper:s},attributes:{},styles:{}},c=[],h=!1,f={state:l,setOptions:function(g){var m=typeof g=="function"?g(l.options):g;v(),l.options=Object.assign({},a,l.options,m),l.scrollParents={reference:ql(o)?Mf(o):o.contextElement?Mf(o.contextElement):[],popper:Mf(s)};var _=DF(LF([].concat(n,l.options.modifiers)));return l.orderedModifiers=_.filter(function(b){return b.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var g=l.elements,m=g.reference,_=g.popper;if(Zx(m,_)){l.rects={reference:EF(m,Dh(_),l.options.strategy==="fixed"),popper:K1(_)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(O){return l.modifiersData[O.name]=Object.assign({},O.data)});for(var b=0;b<l.orderedModifiers.length;b++){if(l.reset===!0){l.reset=!1,b=-1;continue}var w=l.orderedModifiers[b],T=w.fn,k=w.options,A=k===void 0?{}:k,D=w.name;typeof T=="function"&&(l=T({state:l,options:A,name:D,instance:f})||l)}}}},update:MF(function(){return new Promise(function(g){f.forceUpdate(),g(l)})}),destroy:function(){v(),h=!0}};if(!Zx(o,s))return f;f.setOptions(u).then(function(g){!h&&u.onFirstUpdate&&u.onFirstUpdate(g)});function p(){l.orderedModifiers.forEach(function(g){var m=g.name,_=g.options,b=_===void 0?{}:_,w=g.effect;if(typeof w=="function"){var T=w({state:l,name:m,instance:f,options:b}),k=function(){};c.push(T||k)}})}function v(){c.forEach(function(g){return g()}),c=[]}return f}}t_();var RF=[Lk,Ik,Mk,Ak];t_({defaultModifiers:RF});var OF=[Lk,Ik,Mk,Ak,bF,vF,TF,eF,mF],IF=t_({defaultModifiers:OF});const BF=(t,e,r={})=>{const n={name:"updateState",enabled:!0,phase:"write",fn:({state:u})=>{const l=NF(u);Object.assign(o.value,l)},requires:["computeStyles"]},i=ce(()=>{const{onFirstUpdate:u,placement:l,strategy:c,modifiers:h}=X(r);return{onFirstUpdate:u,placement:l||"bottom",strategy:c||"absolute",modifiers:[...h||[],n,{name:"applyStyles",enabled:!1}]}}),a=Af(),o=Ye({styles:{popper:{position:X(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return xt(i,u=>{const l=X(a);l&&l.setOptions(u)},{deep:!0}),xt([t,e],([u,l])=>{s(),!(!u||!l)&&(a.value=IF(u,l,X(i)))}),xi(()=>{s()}),{state:ce(()=>{var u;return{...((u=X(a))==null?void 0:u.state)||{}}}),styles:ce(()=>X(o).styles),attributes:ce(()=>X(o).attributes),update:()=>{var u;return(u=X(a))==null?void 0:u.update()},forceUpdate:()=>{var u;return(u=X(a))==null?void 0:u.forceUpdate()},instanceRef:ce(()=>X(a))}};function NF(t){const e=Object.keys(t.elements),r=Wp(e.map(i=>[i,t.styles[i]||{}])),n=Wp(e.map(i=>[i,t.attributes[i]]));return{styles:r,attributes:n}}const FF=t=>{if(!t)return{onClick:Xo,onMousedown:Xo,onMouseup:Xo};let e=!1,r=!1;return{onClick:o=>{e&&r&&t(o),e=r=!1},onMousedown:o=>{e=o.target===o.currentTarget},onMouseup:o=>{r=o.target===o.currentTarget}}},$F=(t,e=0)=>{if(e===0)return t;const r=Ye(!1);let n=0;const i=()=>{n&&clearTimeout(n),n=window.setTimeout(()=>{r.value=t.value},e)};return Gr(i),xt(()=>t.value,a=>{a?i():r.value=a}),r};function Qx(){let t;const e=(n,i)=>{r(),t=window.setTimeout(n,i)},r=()=>window.clearTimeout(t);return Bv(()=>r()),{registerTimeout:e,cancelTimeout:r}}const Jx={prefix:Math.floor(Math.random()*1e4),current:0},HF=Symbol("elIdInjection"),Bk=()=>Ui()?Ht(HF,Jx):Jx,ah=t=>{const e=Bk(),r=W1();return ce(()=>X(t)||`${r.value}-id-${e.prefix}-${e.current++}`)};let vl=[];const eS=t=>{const e=t;e.key===xn.esc&&vl.forEach(r=>r(e))},zF=t=>{Gr(()=>{vl.length===0&&document.addEventListener("keydown",eS),Nr&&vl.push(t)}),xi(()=>{vl=vl.filter(e=>e!==t),vl.length===0&&Nr&&document.removeEventListener("keydown",eS)})};let tS;const Nk=()=>{const t=W1(),e=Bk(),r=ce(()=>`${t.value}-popper-container-${e.prefix}`),n=ce(()=>`#${r.value}`);return{id:r,selector:n}},UF=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},VF=()=>{const{id:t,selector:e}=Nk();return zO(()=>{Nr&&!tS&&!document.body.querySelector(e.value)&&(tS=UF(t.value))}),{id:t,selector:e}},GF=Vt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),jF=({showAfter:t,hideAfter:e,autoClose:r,open:n,close:i})=>{const{registerTimeout:a}=Qx(),{registerTimeout:o,cancelTimeout:s}=Qx();return{onOpen:c=>{a(()=>{n(c);const h=X(r);Ca(h)&&h>0&&o(()=>{i(c)},h)},X(t))},onClose:c=>{s(),a(()=>{i(c)},X(e))}}},Fk=Symbol("elForwardRef"),WF=t=>{Qr(Fk,{setForwardRef:r=>{t.value=r}})},YF=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),rS=Ye(0),$k=2e3,Hk=Symbol("zIndexContextKey"),r_=t=>{const e=t||Ht(Hk,void 0),r=ce(()=>{const a=X(e);return Ca(a)?a:$k}),n=ce(()=>r.value+rS.value);return{initialZIndex:r,currentZIndex:n,nextZIndex:()=>(rS.value++,n.value)}};function XF(t){const e=Ye();function r(){if(t.value==null)return;const{selectionStart:i,selectionEnd:a,value:o}=t.value;if(i==null||a==null)return;const s=o.slice(0,Math.max(0,i)),u=o.slice(Math.max(0,a));e.value={selectionStart:i,selectionEnd:a,value:o,beforeTxt:s,afterTxt:u}}function n(){if(t.value==null||e.value==null)return;const{value:i}=t.value,{beforeTxt:a,afterTxt:o,selectionStart:s}=e.value;if(a==null||o==null||s==null)return;let u=i.length;if(i.endsWith(o))u=i.length-o.length;else if(i.startsWith(a))u=a.length;else{const l=a[s-1],c=i.indexOf(l,s-1);c!==-1&&(u=c+1)}t.value.setSelectionRange(u,u)}return[r,n]}const zk=zv({type:String,values:Uv,required:!1}),Uk=Symbol("size"),qF=()=>{const t=Ht(Uk,{});return ce(()=>X(t.size)||"")},Vk=Symbol(),qp=Ye();function Gv(t,e=void 0){const r=Ui()?Ht(Vk,qp):qp;return t?ce(()=>{var n,i;return(i=(n=r.value)==null?void 0:n[t])!=null?i:e}):r}function Gk(t,e){const r=Gv(),n=gt(t,ce(()=>{var s;return((s=r.value)==null?void 0:s.namespace)||Yp})),i=Eh(ce(()=>{var s;return(s=r.value)==null?void 0:s.locale})),a=r_(ce(()=>{var s;return((s=r.value)==null?void 0:s.zIndex)||$k})),o=ce(()=>{var s;return X(e)||((s=r.value)==null?void 0:s.size)||""});return KF(ce(()=>X(r)||{})),{ns:n,locale:i,zIndex:a,size:o}}const KF=(t,e,r=!1)=>{var n;const i=!!Ui(),a=i?Gv():void 0,o=(n=e==null?void 0:e.provide)!=null?n:i?Qr:void 0;if(!o)return;const s=ce(()=>{const u=X(t);return a!=null&&a.value?ZF(a.value,u):u});return o(Vk,s),o(xk,ce(()=>s.value.locale)),o(Sk,ce(()=>s.value.namespace)),o(Hk,ce(()=>s.value.zIndex)),o(Uk,{size:ce(()=>s.value.size||"")}),(r||!qp.value)&&(qp.value=s.value),s},ZF=(t,e)=>{var r;const n=[...new Set([...zx(t),...zx(e)])],i={};for(const a of n)i[a]=(r=e[a])!=null?r:t[a];return i},nS={};var Nt=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r};const QF=Vt({size:{type:ot([Number,String])},color:{type:String}}),JF=Xe({name:"ElIcon",inheritAttrs:!1}),e$=Xe({...JF,props:QF,setup(t){const e=t,r=gt("icon"),n=ce(()=>{const{size:i,color:a}=e;return!i&&!a?{}:{fontSize:NN(i)?void 0:th(i),"--color":a}});return(i,a)=>(Ce(),Ve("i",Kr({class:X(r).b(),style:X(n)},i.$attrs),[rt(i.$slots,"default")],16))}});var t$=Nt(e$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const Wn=tn(t$),pc=Symbol("formContextKey"),gu=Symbol("formItemContextKey"),Mh=(t,e={})=>{const r=Ye(void 0),n=e.prop?r:Tk("size"),i=e.global?r:qF(),a=e.form?{size:void 0}:Ht(pc,void 0),o=e.formItem?{size:void 0}:Ht(gu,void 0);return ce(()=>n.value||X(t)||(o==null?void 0:o.size)||(a==null?void 0:a.size)||i.value||"")},n_=t=>{const e=Tk("disabled"),r=Ht(pc,void 0);return ce(()=>e.value||X(t)||(r==null?void 0:r.disabled)||!1)},jk=()=>{const t=Ht(pc,void 0),e=Ht(gu,void 0);return{form:t,formItem:e}},r$=(t,{formItemContext:e,disableIdGeneration:r,disableIdManagement:n})=>{r||(r=Ye(!1)),n||(n=Ye(!1));const i=Ye();let a;const o=ce(()=>{var s;return!!(!t.label&&e&&e.inputIds&&((s=e.inputIds)==null?void 0:s.length)<=1)});return Gr(()=>{a=xt([Bi(t,"id"),r],([s,u])=>{const l=s??(u?void 0:ah().value);l!==i.value&&(e!=null&&e.removeInputId&&(i.value&&e.removeInputId(i.value),!(n!=null&&n.value)&&!u&&l&&e.addInputId(l)),i.value=l)},{immediate:!0})}),UO(()=>{a&&a(),e!=null&&e.removeInputId&&i.value&&e.removeInputId(i.value)}),{isLabeledByFormItem:o,inputId:i}},n$=Vt({size:{type:String,values:Uv},disabled:Boolean}),i$=Vt({...n$,model:Object,rules:{type:ot(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),a$={validate:(t,e,r)=>(Dl(t)||Tr(t))&&kh(e)&&Tr(r)};function o$(){const t=Ye([]),e=ce(()=>{if(!t.value.length)return"0";const a=Math.max(...t.value);return a?`${a}px`:""});function r(a){const o=t.value.indexOf(a);return o===-1&&e.value,o}function n(a,o){if(a&&o){const s=r(o);t.value.splice(s,1,a)}else a&&t.value.push(a)}function i(a){const o=r(a);o>-1&&t.value.splice(o,1)}return{autoLabelWidth:e,registerLabelWidth:n,deregisterLabelWidth:i}}const sd=(t,e)=>{const r=Ly(e);return r.length>0?t.filter(n=>n.prop&&r.includes(n.prop)):t},s$="ElForm",u$=Xe({name:s$}),l$=Xe({...u$,props:i$,emits:a$,setup(t,{expose:e,emit:r}){const n=t,i=[],a=Mh(),o=gt("form"),s=ce(()=>{const{labelPosition:b,inline:w}=n;return[o.b(),o.m(a.value||"default"),{[o.m(`label-${b}`)]:b,[o.m("inline")]:w}]}),u=b=>{i.push(b)},l=b=>{b.prop&&i.splice(i.indexOf(b),1)},c=(b=[])=>{n.model&&sd(i,b).forEach(w=>w.resetField())},h=(b=[])=>{sd(i,b).forEach(w=>w.clearValidate())},f=ce(()=>!!n.model),p=b=>{if(i.length===0)return[];const w=sd(i,b);return w.length?w:[]},v=async b=>m(void 0,b),g=async(b=[])=>{if(!f.value)return!1;const w=p(b);if(w.length===0)return!0;let T={};for(const k of w)try{await k.validate("")}catch(A){T={...T,...A}}return Object.keys(T).length===0?!0:Promise.reject(T)},m=async(b=[],w)=>{const T=!pa(w);try{const k=await g(b);return k===!0&&(w==null||w(k)),k}catch(k){if(k instanceof Error)throw k;const A=k;return n.scrollToError&&_(Object.keys(A)[0]),w==null||w(!1,A),T&&Promise.reject(A)}},_=b=>{var w;const T=sd(i,b)[0];T&&((w=T.$el)==null||w.scrollIntoView(n.scrollIntoViewOptions))};return xt(()=>n.rules,()=>{n.validateOnRuleChange&&v().catch(b=>void 0)},{deep:!0}),Qr(pc,co({...P1(n),emit:r,resetFields:c,clearValidate:h,validateField:m,addField:u,removeField:l,...o$()})),e({validate:v,validateField:m,resetFields:c,clearValidate:h,scrollToField:_}),(b,w)=>(Ce(),Ve("form",{class:Ge(X(s))},[rt(b.$slots,"default")],2))}});var c$=Nt(l$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function ru(){return ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ru.apply(this,arguments)}function f$(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,oh(t,e)}function Fy(t){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fy(t)}function oh(t,e){return oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oh(t,e)}function h$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mp(t,e,r){return h$()?mp=Reflect.construct.bind():mp=function(i,a,o){var s=[null];s.push.apply(s,a);var u=Function.bind.apply(i,s),l=new u;return o&&oh(l,o.prototype),l},mp.apply(null,arguments)}function d$(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function $y(t){var e=typeof Map=="function"?new Map:void 0;return $y=function(n){if(n===null||!d$(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return mp(n,arguments,Fy(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),oh(i,n)},$y(t)}var p$=/%[sdj%]/g,v$=function(){};typeof process<"u"&&process.env;function Hy(t){if(!t||!t.length)return null;var e={};return t.forEach(function(r){var n=r.field;e[n]=e[n]||[],e[n].push(r)}),e}function qn(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=0,a=r.length;if(typeof t=="function")return t.apply(null,r);if(typeof t=="string"){var o=t.replace(p$,function(s){if(s==="%%")return"%";if(i>=a)return s;switch(s){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch{return"[Circular]"}break;default:return s}});return o}return t}function g$(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Fr(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||g$(e)&&typeof t=="string"&&!t)}function m$(t,e,r){var n=[],i=0,a=t.length;function o(s){n.push.apply(n,s||[]),i++,i===a&&r(n)}t.forEach(function(s){e(s,o)})}function iS(t,e,r){var n=0,i=t.length;function a(o){if(o&&o.length){r(o);return}var s=n;n=n+1,s<i?e(t[s],a):r([])}a([])}function y$(t){var e=[];return Object.keys(t).forEach(function(r){e.push.apply(e,t[r]||[])}),e}var aS=function(t){f$(e,t);function e(r,n){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=r,i.fields=n,i}return e}($y(Error));function _$(t,e,r,n,i){if(e.first){var a=new Promise(function(f,p){var v=function(_){return n(_),_.length?p(new aS(_,Hy(_))):f(i)},g=y$(t);iS(g,r,v)});return a.catch(function(f){return f}),a}var o=e.firstFields===!0?Object.keys(t):e.firstFields||[],s=Object.keys(t),u=s.length,l=0,c=[],h=new Promise(function(f,p){var v=function(m){if(c.push.apply(c,m),l++,l===u)return n(c),c.length?p(new aS(c,Hy(c))):f(i)};s.length||(n(c),f(i)),s.forEach(function(g){var m=t[g];o.indexOf(g)!==-1?iS(m,r,v):m$(m,r,v)})});return h.catch(function(f){return f}),h}function b$(t){return!!(t&&t.message!==void 0)}function x$(t,e){for(var r=t,n=0;n<e.length;n++){if(r==null)return r;r=r[e[n]]}return r}function oS(t,e){return function(r){var n;return t.fullFields?n=x$(e,t.fullFields):n=e[r.field||t.fullField],b$(r)?(r.field=r.field||t.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||t.fullField}}}function sS(t,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];typeof n=="object"&&typeof t[r]=="object"?t[r]=ru({},t[r],n):t[r]=n}}return t}var Wk=function(e,r,n,i,a,o){e.required&&(!n.hasOwnProperty(e.field)||Fr(r,o||e.type))&&i.push(qn(a.messages.required,e.fullField))},S$=function(e,r,n,i,a){(/^\s+$/.test(r)||r==="")&&i.push(qn(a.messages.whitespace,e.fullField))},ud,w$=function(){if(ud)return ud;var t="[a-fA-F\\d:]",e=function(T){return T&&T.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+r+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+r+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+r+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+r+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+r+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+r+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+r+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+r+"$)|(?:^"+i+"$)"),o=new RegExp("^"+r+"$"),s=new RegExp("^"+i+"$"),u=function(T){return T&&T.exact?a:new RegExp("(?:"+e(T)+r+e(T)+")|(?:"+e(T)+i+e(T)+")","g")};u.v4=function(w){return w&&w.exact?o:new RegExp(""+e(w)+r+e(w),"g")},u.v6=function(w){return w&&w.exact?s:new RegExp(""+e(w)+i+e(w),"g")};var l="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",h=u.v4().source,f=u.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",v="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",m="(?::\\d{2,5})?",_='(?:[/?#][^\\s"]*)?',b="(?:"+l+"|www\\.)"+c+"(?:localhost|"+h+"|"+f+"|"+p+v+g+")"+m+_;return ud=new RegExp("(?:^"+b+"$)","i"),ud},uS={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},vf={integer:function(e){return vf.number(e)&&parseInt(e,10)===e},float:function(e){return vf.number(e)&&!vf.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!vf.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(uS.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(w$())},hex:function(e){return typeof e=="string"&&!!e.match(uS.hex)}},T$=function(e,r,n,i,a){if(e.required&&r===void 0){Wk(e,r,n,i,a);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;o.indexOf(s)>-1?vf[s](r)||i.push(qn(a.messages.types[s],e.fullField,e.type)):s&&typeof r!==e.type&&i.push(qn(a.messages.types[s],e.fullField,e.type))},C$=function(e,r,n,i,a){var o=typeof e.len=="number",s=typeof e.min=="number",u=typeof e.max=="number",l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=r,h=null,f=typeof r=="number",p=typeof r=="string",v=Array.isArray(r);if(f?h="number":p?h="string":v&&(h="array"),!h)return!1;v&&(c=r.length),p&&(c=r.replace(l,"_").length),o?c!==e.len&&i.push(qn(a.messages[h].len,e.fullField,e.len)):s&&!u&&c<e.min?i.push(qn(a.messages[h].min,e.fullField,e.min)):u&&!s&&c>e.max?i.push(qn(a.messages[h].max,e.fullField,e.max)):s&&u&&(c<e.min||c>e.max)&&i.push(qn(a.messages[h].range,e.fullField,e.min,e.max))},Xu="enum",A$=function(e,r,n,i,a){e[Xu]=Array.isArray(e[Xu])?e[Xu]:[],e[Xu].indexOf(r)===-1&&i.push(qn(a.messages[Xu],e.fullField,e[Xu].join(", ")))},k$=function(e,r,n,i,a){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||i.push(qn(a.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(r)||i.push(qn(a.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},Pt={required:Wk,whitespace:S$,type:T$,range:C$,enum:A$,pattern:k$},E$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Fr(r,"string")&&!e.required)return n();Pt.required(e,r,i,o,a,"string"),Fr(r,"string")||(Pt.type(e,r,i,o,a),Pt.range(e,r,i,o,a),Pt.pattern(e,r,i,o,a),e.whitespace===!0&&Pt.whitespace(e,r,i,o,a))}n(o)},P$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Fr(r)&&!e.required)return n();Pt.required(e,r,i,o,a),r!==void 0&&Pt.type(e,r,i,o,a)}n(o)},D$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(r===""&&(r=void 0),Fr(r)&&!e.required)return n();Pt.required(e,r,i,o,a),r!==void 0&&(Pt.type(e,r,i,o,a),Pt.range(e,r,i,o,a))}n(o)},M$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Fr(r)&&!e.required)return n();Pt.required(e,r,i,o,a),r!==void 0&&Pt.type(e,r,i,o,a)}n(o)},L$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Fr(r)&&!e.required)return n();Pt.required(e,r,i,o,a),Fr(r)||Pt.type(e,r,i,o,a)}n(o)},R$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Fr(r)&&!e.required)return n();Pt.required(e,r,i,o,a),r!==void 0&&(Pt.type(e,r,i,o,a),Pt.range(e,r,i,o,a))}n(o)},O$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Fr(r)&&!e.required)return n();Pt.required(e,r,i,o,a),r!==void 0&&(Pt.type(e,r,i,o,a),Pt.range(e,r,i,o,a))}n(o)},I$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(r==null&&!e.required)return n();Pt.required(e,r,i,o,a,"array"),r!=null&&(Pt.type(e,r,i,o,a),Pt.range(e,r,i,o,a))}n(o)},B$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Fr(r)&&!e.required)return n();Pt.required(e,r,i,o,a),r!==void 0&&Pt.type(e,r,i,o,a)}n(o)},N$="enum",F$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Fr(r)&&!e.required)return n();Pt.required(e,r,i,o,a),r!==void 0&&Pt[N$](e,r,i,o,a)}n(o)},$$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Fr(r,"string")&&!e.required)return n();Pt.required(e,r,i,o,a),Fr(r,"string")||Pt.pattern(e,r,i,o,a)}n(o)},H$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Fr(r,"date")&&!e.required)return n();if(Pt.required(e,r,i,o,a),!Fr(r,"date")){var u;r instanceof Date?u=r:u=new Date(r),Pt.type(e,u,i,o,a),u&&Pt.range(e,u.getTime(),i,o,a)}}n(o)},z$=function(e,r,n,i,a){var o=[],s=Array.isArray(r)?"array":typeof r;Pt.required(e,r,i,o,a,s),n(o)},Gg=function(e,r,n,i,a){var o=e.type,s=[],u=e.required||!e.required&&i.hasOwnProperty(e.field);if(u){if(Fr(r,o)&&!e.required)return n();Pt.required(e,r,i,s,a,o),Fr(r,o)||Pt.type(e,r,i,s,a)}n(s)},U$=function(e,r,n,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Fr(r)&&!e.required)return n();Pt.required(e,r,i,o,a)}n(o)},Lf={string:E$,method:P$,number:D$,boolean:M$,regexp:L$,integer:R$,float:O$,array:I$,object:B$,enum:F$,pattern:$$,date:H$,url:Gg,hex:Gg,email:Gg,required:z$,any:U$};function zy(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Uy=zy(),Lh=function(){function t(r){this.rules=null,this._messages=Uy,this.define(r)}var e=t.prototype;return e.define=function(n){var i=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(a){var o=n[a];i.rules[a]=Array.isArray(o)?o:[o]})},e.messages=function(n){return n&&(this._messages=sS(zy(),n)),this._messages},e.validate=function(n,i,a){var o=this;i===void 0&&(i={}),a===void 0&&(a=function(){});var s=n,u=i,l=a;if(typeof u=="function"&&(l=u,u={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,s),Promise.resolve(s);function c(g){var m=[],_={};function b(T){if(Array.isArray(T)){var k;m=(k=m).concat.apply(k,T)}else m.push(T)}for(var w=0;w<g.length;w++)b(g[w]);m.length?(_=Hy(m),l(m,_)):l(null,s)}if(u.messages){var h=this.messages();h===Uy&&(h=zy()),sS(h,u.messages),u.messages=h}else u.messages=this.messages();var f={},p=u.keys||Object.keys(this.rules);p.forEach(function(g){var m=o.rules[g],_=s[g];m.forEach(function(b){var w=b;typeof w.transform=="function"&&(s===n&&(s=ru({},s)),_=s[g]=w.transform(_)),typeof w=="function"?w={validator:w}:w=ru({},w),w.validator=o.getValidationMethod(w),w.validator&&(w.field=g,w.fullField=w.fullField||g,w.type=o.getType(w),f[g]=f[g]||[],f[g].push({rule:w,value:_,source:s,field:g}))})});var v={};return _$(f,u,function(g,m){var _=g.rule,b=(_.type==="object"||_.type==="array")&&(typeof _.fields=="object"||typeof _.defaultField=="object");b=b&&(_.required||!_.required&&g.value),_.field=g.field;function w(A,D){return ru({},D,{fullField:_.fullField+"."+A,fullFields:_.fullFields?[].concat(_.fullFields,[A]):[A]})}function T(A){A===void 0&&(A=[]);var D=Array.isArray(A)?A:[A];!u.suppressWarning&&D.length&&t.warning("async-validator:",D),D.length&&_.message!==void 0&&(D=[].concat(_.message));var O=D.map(oS(_,s));if(u.first&&O.length)return v[_.field]=1,m(O);if(!b)m(O);else{if(_.required&&!g.value)return _.message!==void 0?O=[].concat(_.message).map(oS(_,s)):u.error&&(O=[u.error(_,qn(u.messages.required,_.field))]),m(O);var F={};_.defaultField&&Object.keys(g.value).map(function(U){F[U]=_.defaultField}),F=ru({},F,g.rule.fields);var $={};Object.keys(F).forEach(function(U){var H=F[U],W=Array.isArray(H)?H:[H];$[U]=W.map(w.bind(null,U))});var B=new t($);B.messages(u.messages),g.rule.options&&(g.rule.options.messages=u.messages,g.rule.options.error=u.error),B.validate(g.value,g.rule.options||u,function(U){var H=[];O&&O.length&&H.push.apply(H,O),U&&U.length&&H.push.apply(H,U),m(H.length?H:null)})}}var k;if(_.asyncValidator)k=_.asyncValidator(_,g.value,T,g.source,u);else if(_.validator){try{k=_.validator(_,g.value,T,g.source,u)}catch(A){console.error==null||console.error(A),u.suppressValidatorError||setTimeout(function(){throw A},0),T(A.message)}k===!0?T():k===!1?T(typeof _.message=="function"?_.message(_.fullField||_.field):_.message||(_.fullField||_.field)+" fails"):k instanceof Array?T(k):k instanceof Error&&T(k.message)}k&&k.then&&k.then(function(){return T()},function(A){return T(A)})},function(g){c(g)},s)},e.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!Lf.hasOwnProperty(n.type))throw new Error(qn("Unknown rule type %s",n.type));return n.type||"string"},e.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var i=Object.keys(n),a=i.indexOf("message");return a!==-1&&i.splice(a,1),i.length===1&&i[0]==="required"?Lf.required:Lf[this.getType(n)]||void 0},t}();Lh.register=function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Lf[e]=r};Lh.warning=v$;Lh.messages=Uy;Lh.validators=Lf;const V$=["","error","validating","success"],G$=Vt({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:ot([String,Array])},required:{type:Boolean,default:void 0},rules:{type:ot([Object,Array])},error:String,validateStatus:{type:String,values:V$},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Uv}}),lS="ElLabelWrap";var j$=Xe({name:lS,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const r=Ht(pc,void 0),n=Ht(gu);n||Yl(lS,"usage: <el-form-item><label-wrap /></el-form-item>");const i=gt("form"),a=Ye(),o=Ye(0),s=()=>{var c;if((c=a.value)!=null&&c.firstElementChild){const h=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(h))}else return 0},u=(c="update")=>{fn(()=>{e.default&&t.isAutoWidth&&(c==="update"?o.value=s():c==="remove"&&(r==null||r.deregisterLabelWidth(o.value)))})},l=()=>u("update");return Gr(()=>{l()}),xi(()=>{u("remove")}),VO(()=>l()),xt(o,(c,h)=>{t.updateAll&&(r==null||r.registerLabelWidth(c,h))}),Nv(ce(()=>{var c,h;return(h=(c=a.value)==null?void 0:c.firstElementChild)!=null?h:null}),l),()=>{var c,h;if(!e)return null;const{isAutoWidth:f}=t;if(f){const p=r==null?void 0:r.autoLabelWidth,v=n==null?void 0:n.hasLabel,g={};if(v&&p&&p!=="auto"){const m=Math.max(0,Number.parseInt(p,10)-o.value),_=r.labelPosition==="left"?"marginRight":"marginLeft";m&&(g[_]=`${m}px`)}return ur("div",{ref:a,class:[i.be("item","label-wrap")],style:g},[(c=e.default)==null?void 0:c.call(e)])}else return ur(Jr,{ref:a},[(h=e.default)==null?void 0:h.call(e)])}}});const W$=["role","aria-labelledby"],Y$=Xe({name:"ElFormItem"}),X$=Xe({...Y$,props:G$,setup(t,{expose:e}){const r=t,n=Ah(),i=Ht(pc,void 0),a=Ht(gu,void 0),o=Mh(void 0,{formItem:!1}),s=gt("form-item"),u=ah().value,l=Ye([]),c=Ye(""),h=uB(c,100),f=Ye(""),p=Ye();let v,g=!1;const m=ce(()=>{if((i==null?void 0:i.labelPosition)==="top")return{};const se=th(r.labelWidth||(i==null?void 0:i.labelWidth)||"");return se?{width:se}:{}}),_=ce(()=>{if((i==null?void 0:i.labelPosition)==="top"||i!=null&&i.inline)return{};if(!r.label&&!r.labelWidth&&F)return{};const se=th(r.labelWidth||(i==null?void 0:i.labelWidth)||"");return!r.label&&!n.label?{marginLeft:se}:{}}),b=ce(()=>[s.b(),s.m(o.value),s.is("error",c.value==="error"),s.is("validating",c.value==="validating"),s.is("success",c.value==="success"),s.is("required",W.value||r.required),s.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[s.m("feedback")]:i==null?void 0:i.statusIcon}]),w=ce(()=>kh(r.inlineMessage)?r.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),T=ce(()=>[s.e("error"),{[s.em("error","inline")]:w.value}]),k=ce(()=>r.prop?Tr(r.prop)?r.prop:r.prop.join("."):""),A=ce(()=>!!(r.label||n.label)),D=ce(()=>r.for||l.value.length===1?l.value[0]:void 0),O=ce(()=>!D.value&&A.value),F=!!a,$=ce(()=>{const se=i==null?void 0:i.model;if(!(!se||!r.prop))return Ug(se,r.prop).value}),B=ce(()=>{const{required:se}=r,ve=[];r.rules&&ve.push(...Ly(r.rules));const ge=i==null?void 0:i.rules;if(ge&&r.prop){const be=Ug(ge,r.prop).value;be&&ve.push(...Ly(be))}if(se!==void 0){const be=ve.map((Te,$e)=>[Te,$e]).filter(([Te])=>Object.keys(Te).includes("required"));if(be.length>0)for(const[Te,$e]of be)Te.required!==se&&(ve[$e]={...Te,required:se});else ve.push({required:se})}return ve}),U=ce(()=>B.value.length>0),H=se=>B.value.filter(ge=>!ge.trigger||!se?!0:Array.isArray(ge.trigger)?ge.trigger.includes(se):ge.trigger===se).map(({trigger:ge,...be})=>be),W=ce(()=>B.value.some(se=>se.required)),z=ce(()=>{var se;return h.value==="error"&&r.showMessage&&((se=i==null?void 0:i.showMessage)!=null?se:!0)}),G=ce(()=>`${r.label||""}${(i==null?void 0:i.labelSuffix)||""}`),Y=se=>{c.value=se},Q=se=>{var ve,ge;const{errors:be,fields:Te}=se;(!be||!Te)&&console.error(se),Y("error"),f.value=be?(ge=(ve=be==null?void 0:be[0])==null?void 0:ve.message)!=null?ge:`${r.prop} is required`:"",i==null||i.emit("validate",r.prop,!1,f.value)},J=()=>{Y("success"),i==null||i.emit("validate",r.prop,!0,"")},ae=async se=>{const ve=k.value;return new Lh({[ve]:se}).validate({[ve]:$.value},{firstFields:!0}).then(()=>(J(),!0)).catch(be=>(Q(be),Promise.reject(be)))},he=async(se,ve)=>{if(g||!r.prop)return!1;const ge=pa(ve);if(!U.value)return ve==null||ve(!1),!1;const be=H(se);return be.length===0?(ve==null||ve(!0),!0):(Y("validating"),ae(be).then(()=>(ve==null||ve(!0),!0)).catch(Te=>{const{fields:$e}=Te;return ve==null||ve(!1,$e),ge?!1:Promise.reject($e)}))},pe=()=>{Y(""),f.value="",g=!1},Se=async()=>{const se=i==null?void 0:i.model;if(!se||!r.prop)return;const ve=Ug(se,r.prop);g=!0,ve.value=Hx(v),await fn(),pe(),g=!1},we=se=>{l.value.includes(se)||l.value.push(se)},Le=se=>{l.value=l.value.filter(ve=>ve!==se)};xt(()=>r.error,se=>{f.value=se||"",Y(se?"error":"")},{immediate:!0}),xt(()=>r.validateStatus,se=>Y(se||""));const Fe=co({...P1(r),$el:p,size:o,validateState:c,labelId:u,inputIds:l,isGroup:O,hasLabel:A,addInputId:we,removeInputId:Le,resetField:Se,clearValidate:pe,validate:he});return Qr(gu,Fe),Gr(()=>{r.prop&&(i==null||i.addField(Fe),v=Hx($.value))}),xi(()=>{i==null||i.removeField(Fe)}),e({size:o,validateMessage:f,validateState:c,validate:he,clearValidate:pe,resetField:Se}),(se,ve)=>{var ge;return Ce(),Ve("div",{ref_key:"formItemRef",ref:p,class:Ge(X(b)),role:X(O)?"group":void 0,"aria-labelledby":X(O)?X(u):void 0},[ur(X(j$),{"is-auto-width":X(m).width==="auto","update-all":((ge=X(i))==null?void 0:ge.labelWidth)==="auto"},{default:yt(()=>[X(A)?(Ce(),At(Xn(X(D)?"label":"div"),{key:0,id:X(u),for:X(D),class:Ge(X(s).e("label")),style:qr(X(m))},{default:yt(()=>[rt(se.$slots,"label",{label:X(G)},()=>[Ml(Er(X(G)),1)])]),_:3},8,["id","for","class","style"])):vt("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),pt("div",{class:Ge(X(s).e("content")),style:qr(X(_))},[rt(se.$slots,"default"),ur(GO,{name:`${X(s).namespace.value}-zoom-in-top`},{default:yt(()=>[X(z)?rt(se.$slots,"error",{key:0,error:f.value},()=>[pt("div",{class:Ge(X(T))},Er(f.value),3)]):vt("v-if",!0)]),_:3},8,["name"])],6)],10,W$)}}});var Yk=Nt(X$,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const oae=tn(c$,{FormItem:Yk}),sae=Da(Yk);let Ai;const q$=`
  height:0 !important;
  visibility:hidden !important;
  ${bB()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,K$=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Z$(t){const e=window.getComputedStyle(t),r=e.getPropertyValue("box-sizing"),n=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),i=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:K$.map(o=>`${o}:${e.getPropertyValue(o)}`).join(";"),paddingSize:n,borderSize:i,boxSizing:r}}function cS(t,e=1,r){var n;Ai||(Ai=document.createElement("textarea"),document.body.appendChild(Ai));const{paddingSize:i,borderSize:a,boxSizing:o,contextStyle:s}=Z$(t);Ai.setAttribute("style",`${s};${q$}`),Ai.value=t.value||t.placeholder||"";let u=Ai.scrollHeight;const l={};o==="border-box"?u=u+a:o==="content-box"&&(u=u-i),Ai.value="";const c=Ai.scrollHeight-i;if(Ca(e)){let h=c*e;o==="border-box"&&(h=h+i+a),u=Math.max(h,u),l.minHeight=`${h}px`}if(Ca(r)){let h=c*r;o==="border-box"&&(h=h+i+a),u=Math.min(h,u)}return l.height=`${u}px`,(n=Ai.parentNode)==null||n.removeChild(Ai),Ai=void 0,l}const Q$=Vt({id:{type:String,default:void 0},size:zk,disabled:Boolean,modelValue:{type:ot([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ot([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:va},prefixIcon:{type:va},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ot([Object,Array,String]),default:()=>zo({})}}),J$={[vu]:t=>Tr(t),input:t=>Tr(t),change:t=>Tr(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},e9=["role"],t9=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],r9=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],n9=Xe({name:"ElInput",inheritAttrs:!1}),i9=Xe({...n9,props:Q$,emits:J$,setup(t,{expose:e,emit:r}){const n=t,i=jO(),a=Ah(),o=ce(()=>{const Ae={};return n.containerRole==="combobox"&&(Ae["aria-haspopup"]=i["aria-haspopup"],Ae["aria-owns"]=i["aria-owns"],Ae["aria-expanded"]=i["aria-expanded"]),Ae}),s=ce(()=>[n.type==="textarea"?m.b():g.b(),g.m(p.value),g.is("disabled",v.value),g.is("exceed",he.value),{[g.b("group")]:a.prepend||a.append,[g.bm("group","append")]:a.append,[g.bm("group","prepend")]:a.prepend,[g.m("prefix")]:a.prefix||n.prefixIcon,[g.m("suffix")]:a.suffix||n.suffixIcon||n.clearable||n.showPassword,[g.bm("suffix","password-clear")]:Y.value&&Q.value},i.class]),u=ce(()=>[g.e("wrapper"),g.is("focus",w.value)]),l=C8({excludeKeys:ce(()=>Object.keys(o.value))}),{form:c,formItem:h}=jk(),{inputId:f}=r$(n,{formItemContext:h}),p=Mh(),v=n_(),g=gt("input"),m=gt("textarea"),_=Af(),b=Af(),w=Ye(!1),T=Ye(!1),k=Ye(!1),A=Ye(!1),D=Ye(),O=Af(n.inputStyle),F=ce(()=>_.value||b.value),$=ce(()=>{var Ae;return(Ae=c==null?void 0:c.statusIcon)!=null?Ae:!1}),B=ce(()=>(h==null?void 0:h.validateState)||""),U=ce(()=>B.value&&b8[B.value]),H=ce(()=>A.value?h8:R6),W=ce(()=>[i.style,n.inputStyle]),z=ce(()=>[n.inputStyle,O.value,{resize:n.resize}]),G=ce(()=>Wl(n.modelValue)?"":String(n.modelValue)),Y=ce(()=>n.clearable&&!v.value&&!n.readonly&&!!G.value&&(w.value||T.value)),Q=ce(()=>n.showPassword&&!v.value&&!n.readonly&&!!G.value&&(!!G.value||w.value)),J=ce(()=>n.showWordLimit&&!!l.value.maxlength&&(n.type==="text"||n.type==="textarea")&&!v.value&&!n.readonly&&!n.showPassword),ae=ce(()=>G.value.length),he=ce(()=>!!J.value&&ae.value>Number(l.value.maxlength)),pe=ce(()=>!!a.suffix||!!n.suffixIcon||Y.value||n.showPassword||J.value||!!B.value&&$.value),[Se,we]=XF(_);Nv(b,Ae=>{if(se(),!J.value||n.resize!=="both")return;const mt=Ae[0],{width:gr}=mt.contentRect;D.value={right:`calc(100% - ${gr+15+6}px)`}});const Le=()=>{const{type:Ae,autosize:mt}=n;if(!(!Nr||Ae!=="textarea"||!b.value))if(mt){const gr=Ta(mt)?mt.minRows:void 0,pn=Ta(mt)?mt.maxRows:void 0,Fn=cS(b.value,gr,pn);O.value={overflowY:"hidden",...Fn},fn(()=>{b.value.offsetHeight,O.value=Fn})}else O.value={minHeight:cS(b.value).minHeight}},se=(Ae=>{let mt=!1;return()=>{var gr;if(mt||!n.autosize)return;((gr=b.value)==null?void 0:gr.offsetParent)===null||(Ae(),mt=!0)}})(Le),ve=()=>{const Ae=F.value;!Ae||Ae.value===G.value||(Ae.value=G.value)},ge=async Ae=>{Se();let{value:mt}=Ae.target;if(n.formatter&&(mt=n.parser?n.parser(mt):mt,mt=n.formatter(mt)),!k.value){if(mt===G.value){ve();return}r(vu,mt),r("input",mt),await fn(),ve(),we()}},be=Ae=>{r("change",Ae.target.value)},Te=Ae=>{r("compositionstart",Ae),k.value=!0},$e=Ae=>{var mt;r("compositionupdate",Ae);const gr=(mt=Ae.target)==null?void 0:mt.value,pn=gr[gr.length-1]||"";k.value=!S8(pn)},Ie=Ae=>{r("compositionend",Ae),k.value&&(k.value=!1,ge(Ae))},Ne=()=>{A.value=!A.value,ht()},ht=async()=>{var Ae;await fn(),(Ae=F.value)==null||Ae.focus()},Xt=()=>{var Ae;return(Ae=F.value)==null?void 0:Ae.blur()},Rt=Ae=>{w.value=!0,r("focus",Ae)},dn=Ae=>{var mt;w.value=!1,r("blur",Ae),n.validateEvent&&((mt=h==null?void 0:h.validate)==null||mt.call(h,"blur").catch(gr=>void 0))},jr=Ae=>{T.value=!1,r("mouseleave",Ae)},de=Ae=>{T.value=!0,r("mouseenter",Ae)},Gt=Ae=>{r("keydown",Ae)},Ar=()=>{var Ae;(Ae=F.value)==null||Ae.select()},_r=()=>{r(vu,""),r("change",""),r("clear"),r("input","")};return xt(()=>n.modelValue,()=>{var Ae;fn(()=>Le()),n.validateEvent&&((Ae=h==null?void 0:h.validate)==null||Ae.call(h,"change").catch(mt=>void 0))}),xt(G,()=>ve()),xt(()=>n.type,async()=>{await fn(),ve(),Le()}),Gr(()=>{!n.formatter&&n.parser,ve(),fn(Le)}),e({input:_,textarea:b,ref:F,textareaStyle:z,autosize:Bi(n,"autosize"),focus:ht,blur:Xt,select:Ar,clear:_r,resizeTextarea:Le}),(Ae,mt)=>ss((Ce(),Ve("div",Kr(X(o),{class:X(s),style:X(W),role:Ae.containerRole,onMouseenter:de,onMouseleave:jr}),[vt(" input "),Ae.type!=="textarea"?(Ce(),Ve(Jr,{key:0},[vt(" prepend slot "),Ae.$slots.prepend?(Ce(),Ve("div",{key:0,class:Ge(X(g).be("group","prepend"))},[rt(Ae.$slots,"prepend")],2)):vt("v-if",!0),pt("div",{class:Ge(X(u))},[vt(" prefix slot "),Ae.$slots.prefix||Ae.prefixIcon?(Ce(),Ve("span",{key:0,class:Ge(X(g).e("prefix"))},[pt("span",{class:Ge(X(g).e("prefix-inner")),onClick:ht},[rt(Ae.$slots,"prefix"),Ae.prefixIcon?(Ce(),At(X(Wn),{key:0,class:Ge(X(g).e("icon"))},{default:yt(()=>[(Ce(),At(Xn(Ae.prefixIcon)))]),_:1},8,["class"])):vt("v-if",!0)],2)],2)):vt("v-if",!0),pt("input",Kr({id:X(f),ref_key:"input",ref:_,class:X(g).e("inner")},X(l),{type:Ae.showPassword?A.value?"text":"password":Ae.type,disabled:X(v),formatter:Ae.formatter,parser:Ae.parser,readonly:Ae.readonly,autocomplete:Ae.autocomplete,tabindex:Ae.tabindex,"aria-label":Ae.label,placeholder:Ae.placeholder,style:Ae.inputStyle,form:n.form,onCompositionstart:Te,onCompositionupdate:$e,onCompositionend:Ie,onInput:ge,onFocus:Rt,onBlur:dn,onChange:be,onKeydown:Gt}),null,16,t9),vt(" suffix slot "),X(pe)?(Ce(),Ve("span",{key:1,class:Ge(X(g).e("suffix"))},[pt("span",{class:Ge(X(g).e("suffix-inner")),onClick:ht},[!X(Y)||!X(Q)||!X(J)?(Ce(),Ve(Jr,{key:0},[rt(Ae.$slots,"suffix"),Ae.suffixIcon?(Ce(),At(X(Wn),{key:0,class:Ge(X(g).e("icon"))},{default:yt(()=>[(Ce(),At(Xn(Ae.suffixIcon)))]),_:1},8,["class"])):vt("v-if",!0)],64)):vt("v-if",!0),X(Y)?(Ce(),At(X(Wn),{key:1,class:Ge([X(g).e("icon"),X(g).e("clear")]),onMousedown:D1(X(Xo),["prevent"]),onClick:_r},{default:yt(()=>[ur(X(V1))]),_:1},8,["class","onMousedown"])):vt("v-if",!0),X(Q)?(Ce(),At(X(Wn),{key:2,class:Ge([X(g).e("icon"),X(g).e("password")]),onClick:Ne},{default:yt(()=>[(Ce(),At(Xn(X(H))))]),_:1},8,["class"])):vt("v-if",!0),X(J)?(Ce(),Ve("span",{key:3,class:Ge(X(g).e("count"))},[pt("span",{class:Ge(X(g).e("count-inner"))},Er(X(ae))+" / "+Er(X(l).maxlength),3)],2)):vt("v-if",!0),X(B)&&X(U)&&X($)?(Ce(),At(X(Wn),{key:4,class:Ge([X(g).e("icon"),X(g).e("validateIcon"),X(g).is("loading",X(B)==="validating")])},{default:yt(()=>[(Ce(),At(Xn(X(U))))]),_:1},8,["class"])):vt("v-if",!0)],2)],2)):vt("v-if",!0)],2),vt(" append slot "),Ae.$slots.append?(Ce(),Ve("div",{key:1,class:Ge(X(g).be("group","append"))},[rt(Ae.$slots,"append")],2)):vt("v-if",!0)],64)):(Ce(),Ve(Jr,{key:1},[vt(" textarea "),pt("textarea",Kr({id:X(f),ref_key:"textarea",ref:b,class:X(m).e("inner")},X(l),{tabindex:Ae.tabindex,disabled:X(v),readonly:Ae.readonly,autocomplete:Ae.autocomplete,style:X(z),"aria-label":Ae.label,placeholder:Ae.placeholder,form:n.form,onCompositionstart:Te,onCompositionupdate:$e,onCompositionend:Ie,onInput:ge,onFocus:Rt,onBlur:dn,onChange:be,onKeydown:Gt}),null,16,r9),X(J)?(Ce(),Ve("span",{key:0,style:qr(D.value),class:Ge(X(g).e("count"))},Er(X(ae))+" / "+Er(X(l).maxlength),7)):vt("v-if",!0)],64))],16,e9)),[[wu,Ae.type!=="hidden"]])}});var a9=Nt(i9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const uae=tn(a9),i_=Symbol("popper"),Xk=Symbol("popperContent"),o9=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],qk=Vt({role:{type:String,values:o9,default:"tooltip"}}),s9=Xe({name:"ElPopper",inheritAttrs:!1}),u9=Xe({...s9,props:qk,setup(t,{expose:e}){const r=t,n=Ye(),i=Ye(),a=Ye(),o=Ye(),s=ce(()=>r.role),u={triggerRef:n,popperInstanceRef:i,contentRef:a,referenceRef:o,role:s};return e(u),Qr(i_,u),(l,c)=>rt(l.$slots,"default")}});var l9=Nt(u9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const Kk=Vt({arrowOffset:{type:Number,default:5}}),c9=Xe({name:"ElPopperArrow",inheritAttrs:!1}),f9=Xe({...c9,props:Kk,setup(t,{expose:e}){const r=t,n=gt("popper"),{arrowOffset:i,arrowRef:a,arrowStyle:o}=Ht(Xk,void 0);return xt(()=>r.arrowOffset,s=>{i.value=s}),xi(()=>{a.value=void 0}),e({arrowRef:a}),(s,u)=>(Ce(),Ve("span",{ref_key:"arrowRef",ref:a,class:Ge(X(n).e("arrow")),style:qr(X(o)),"data-popper-arrow":""},null,6))}});var h9=Nt(f9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const d9="ElOnlyChild",p9=Xe({name:d9,setup(t,{slots:e,attrs:r}){var n;const i=Ht(Fk),a=YF((n=i==null?void 0:i.setForwardRef)!=null?n:Xo);return()=>{var o;const s=(o=e.default)==null?void 0:o.call(e,r);if(!s||s.length>1)return null;const u=Zk(s);return u?ss(WO(u,r),[[a]]):null}}});function Zk(t){if(!t)return null;const e=t;for(const r of e){if(Ta(r))switch(r.type){case YO:continue;case AA:case"svg":return fS(r);case Jr:return Zk(r.children);default:return r}return fS(r)}return null}function fS(t){const e=gt("only-child");return ur("span",{class:e.e("content")},[t])}const Qk=Vt({virtualRef:{type:ot(Object)},virtualTriggering:Boolean,onMouseenter:{type:ot(Function)},onMouseleave:{type:ot(Function)},onClick:{type:ot(Function)},onKeydown:{type:ot(Function)},onFocus:{type:ot(Function)},onBlur:{type:ot(Function)},onContextmenu:{type:ot(Function)},id:String,open:Boolean}),v9=Xe({name:"ElPopperTrigger",inheritAttrs:!1}),g9=Xe({...v9,props:Qk,setup(t,{expose:e}){const r=t,{role:n,triggerRef:i}=Ht(i_,void 0);WF(i);const a=ce(()=>s.value?r.id:void 0),o=ce(()=>{if(n&&n.value==="tooltip")return r.open&&r.id?r.id:void 0}),s=ce(()=>{if(n&&n.value!=="tooltip")return n.value}),u=ce(()=>s.value?`${r.open}`:void 0);let l;return Gr(()=>{xt(()=>r.virtualRef,c=>{c&&(i.value=Vo(c))},{immediate:!0}),xt(i,(c,h)=>{l==null||l(),l=void 0,eh(c)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(f=>{var p;const v=r[f];v&&(c.addEventListener(f.slice(2).toLowerCase(),v),(p=h==null?void 0:h.removeEventListener)==null||p.call(h,f.slice(2).toLowerCase(),v))}),l=xt([a,o,s,u],f=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,v)=>{Wl(f[v])?c.removeAttribute(p):c.setAttribute(p,f[v])})},{immediate:!0})),eh(h)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(f=>h.removeAttribute(f))},{immediate:!0})}),xi(()=>{l==null||l(),l=void 0}),e({triggerRef:i}),(c,h)=>c.virtualTriggering?vt("v-if",!0):(Ce(),At(X(p9),Kr({key:0},c.$attrs,{"aria-controls":X(a),"aria-describedby":X(o),"aria-expanded":X(u),"aria-haspopup":X(s)}),{default:yt(()=>[rt(c.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var m9=Nt(g9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const jg="focus-trap.focus-after-trapped",Wg="focus-trap.focus-after-released",y9="focus-trap.focusout-prevented",hS={cancelable:!0,bubbles:!1},_9={cancelable:!0,bubbles:!1},dS="focusAfterTrapped",pS="focusAfterReleased",b9=Symbol("elFocusTrap"),a_=Ye(),jv=Ye(0),o_=Ye(0);let ld=0;const Jk=t=>{const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0||n===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e},vS=(t,e)=>{for(const r of t)if(!x9(r,e))return r},x9=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},S9=t=>{const e=Jk(t),r=vS(e,t),n=vS(e.reverse(),t);return[r,n]},w9=t=>t instanceof HTMLInputElement&&"select"in t,Bo=(t,e)=>{if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),o_.value=window.performance.now(),t!==r&&w9(t)&&e&&t.select()}};function gS(t,e){const r=[...t],n=t.indexOf(e);return n!==-1&&r.splice(n,1),r}const T9=()=>{let t=[];return{push:n=>{const i=t[0];i&&n!==i&&i.pause(),t=gS(t,n),t.unshift(n)},remove:n=>{var i,a;t=gS(t,n),(a=(i=t[0])==null?void 0:i.resume)==null||a.call(i)}}},C9=(t,e=!1)=>{const r=document.activeElement;for(const n of t)if(Bo(n,e),document.activeElement!==r)return},mS=T9(),A9=()=>jv.value>o_.value,cd=()=>{a_.value="pointer",jv.value=window.performance.now()},yS=()=>{a_.value="keyboard",jv.value=window.performance.now()},k9=()=>(Gr(()=>{ld===0&&(document.addEventListener("mousedown",cd),document.addEventListener("touchstart",cd),document.addEventListener("keydown",yS)),ld++}),xi(()=>{ld--,ld<=0&&(document.removeEventListener("mousedown",cd),document.removeEventListener("touchstart",cd),document.removeEventListener("keydown",yS))}),{focusReason:a_,lastUserFocusTimestamp:jv,lastAutomatedFocusTimestamp:o_}),fd=t=>new CustomEvent(y9,{..._9,detail:t}),E9=Xe({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[dS,pS,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const r=Ye();let n,i;const{focusReason:a}=k9();zF(v=>{t.trapped&&!o.paused&&e("release-requested",v)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},s=v=>{if(!t.loop&&!t.trapped||o.paused)return;const{key:g,altKey:m,ctrlKey:_,metaKey:b,currentTarget:w,shiftKey:T}=v,{loop:k}=t,A=g===xn.tab&&!m&&!_&&!b,D=document.activeElement;if(A&&D){const O=w,[F,$]=S9(O);if(F&&$){if(!T&&D===$){const U=fd({focusReason:a.value});e("focusout-prevented",U),U.defaultPrevented||(v.preventDefault(),k&&Bo(F,!0))}else if(T&&[F,O].includes(D)){const U=fd({focusReason:a.value});e("focusout-prevented",U),U.defaultPrevented||(v.preventDefault(),k&&Bo($,!0))}}else if(D===O){const U=fd({focusReason:a.value});e("focusout-prevented",U),U.defaultPrevented||v.preventDefault()}}};Qr(b9,{focusTrapRef:r,onKeydown:s}),xt(()=>t.focusTrapEl,v=>{v&&(r.value=v)},{immediate:!0}),xt([r],([v],[g])=>{v&&(v.addEventListener("keydown",s),v.addEventListener("focusin",c),v.addEventListener("focusout",h)),g&&(g.removeEventListener("keydown",s),g.removeEventListener("focusin",c),g.removeEventListener("focusout",h))});const u=v=>{e(dS,v)},l=v=>e(pS,v),c=v=>{const g=X(r);if(!g)return;const m=v.target,_=v.relatedTarget,b=m&&g.contains(m);t.trapped||_&&g.contains(_)||(n=_),b&&e("focusin",v),!o.paused&&t.trapped&&(b?i=m:Bo(i,!0))},h=v=>{const g=X(r);if(!(o.paused||!g))if(t.trapped){const m=v.relatedTarget;!Wl(m)&&!g.contains(m)&&setTimeout(()=>{if(!o.paused&&t.trapped){const _=fd({focusReason:a.value});e("focusout-prevented",_),_.defaultPrevented||Bo(i,!0)}},0)}else{const m=v.target;m&&g.contains(m)||e("focusout",v)}};async function f(){await fn();const v=X(r);if(v){mS.push(o);const g=v.contains(document.activeElement)?n:document.activeElement;if(n=g,!v.contains(g)){const _=new Event(jg,hS);v.addEventListener(jg,u),v.dispatchEvent(_),_.defaultPrevented||fn(()=>{let b=t.focusStartEl;Tr(b)||(Bo(b),document.activeElement!==b&&(b="first")),b==="first"&&C9(Jk(v),!0),(document.activeElement===g||b==="container")&&Bo(v)})}}}function p(){const v=X(r);if(v){v.removeEventListener(jg,u);const g=new CustomEvent(Wg,{...hS,detail:{focusReason:a.value}});v.addEventListener(Wg,l),v.dispatchEvent(g),!g.defaultPrevented&&(a.value=="keyboard"||!A9()||v.contains(document.activeElement))&&Bo(n??document.body),v.removeEventListener(Wg,u),mS.remove(o)}}return Gr(()=>{t.trapped&&f(),xt(()=>t.trapped,v=>{v?f():p()})}),xi(()=>{t.trapped&&p()}),{onKeydown:s}}});function P9(t,e,r,n,i,a){return rt(t.$slots,"default",{handleKeydown:t.onKeydown})}var eE=Nt(E9,[["render",P9],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const D9=["fixed","absolute"],M9=Vt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:ot(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:X1,default:"bottom"},popperOptions:{type:ot(Object),default:()=>({})},strategy:{type:String,values:D9,default:"absolute"}}),tE=Vt({...M9,id:String,style:{type:ot([String,Array,Object])},className:{type:ot([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:ot([String,Array,Object])},popperStyle:{type:ot([String,Array,Object])},referenceEl:{type:ot(Object)},triggerTargetEl:{type:ot(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),L9={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},R9=(t,e=[])=>{const{placement:r,strategy:n,popperOptions:i}=t,a={placement:r,strategy:n,...i,modifiers:[...I9(t),...e]};return B9(a,i==null?void 0:i.modifiers),a},O9=t=>{if(Nr)return Vo(t)};function I9(t){const{offset:e,gpuAcceleration:r,fallbackPlacements:n}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function B9(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const N9=0,F9=t=>{const{popperInstanceRef:e,contentRef:r,triggerRef:n,role:i}=Ht(i_,void 0),a=Ye(),o=Ye(),s=ce(()=>({name:"eventListeners",enabled:!!t.visible})),u=ce(()=>{var _;const b=X(a),w=(_=X(o))!=null?_:N9;return{name:"arrow",enabled:!ON(b),options:{element:b,padding:w}}}),l=ce(()=>({onFirstUpdate:()=>{v()},...R9(t,[X(u),X(s)])})),c=ce(()=>O9(t.referenceEl)||X(n)),{attributes:h,state:f,styles:p,update:v,forceUpdate:g,instanceRef:m}=BF(c,r,l);return xt(m,_=>e.value=_),Gr(()=>{xt(()=>{var _;return(_=X(c))==null?void 0:_.getBoundingClientRect()},()=>{v()})}),{attributes:h,arrowRef:a,contentRef:r,instanceRef:m,state:f,styles:p,role:i,forceUpdate:g,update:v}},$9=(t,{attributes:e,styles:r,role:n})=>{const{nextZIndex:i}=r_(),a=gt("popper"),o=ce(()=>X(e).popper),s=Ye(t.zIndex||i()),u=ce(()=>[a.b(),a.is("pure",t.pure),a.is(t.effect),t.popperClass]),l=ce(()=>[{zIndex:X(s)},t.popperStyle||{},X(r).popper]),c=ce(()=>n.value==="dialog"?"false":void 0),h=ce(()=>X(r).arrow||{});return{ariaModal:c,arrowStyle:h,contentAttrs:o,contentClass:u,contentStyle:l,contentZIndex:s,updateZIndex:()=>{s.value=t.zIndex||i()}}},H9=(t,e)=>{const r=Ye(!1),n=Ye();return{focusStartRef:n,trapped:r,onFocusAfterReleased:l=>{var c;((c=l.detail)==null?void 0:c.focusReason)!=="pointer"&&(n.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:l=>{t.visible&&!r.value&&(l.target&&(n.value=l.target),r.value=!0)},onFocusoutPrevented:l=>{t.trapping||(l.detail.focusReason==="pointer"&&l.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,e("close")}}},z9=Xe({name:"ElPopperContent"}),U9=Xe({...z9,props:tE,emits:L9,setup(t,{expose:e,emit:r}){const n=t,{focusStartRef:i,trapped:a,onFocusAfterReleased:o,onFocusAfterTrapped:s,onFocusInTrap:u,onFocusoutPrevented:l,onReleaseRequested:c}=H9(n,r),{attributes:h,arrowRef:f,contentRef:p,styles:v,instanceRef:g,role:m,update:_}=F9(n),{ariaModal:b,arrowStyle:w,contentAttrs:T,contentClass:k,contentStyle:A,updateZIndex:D}=$9(n,{styles:v,attributes:h,role:m}),O=Ht(gu,void 0),F=Ye();Qr(Xk,{arrowStyle:w,arrowRef:f,arrowOffset:F}),O&&(O.addInputId||O.removeInputId)&&Qr(gu,{...O,addInputId:Xo,removeInputId:Xo});let $;const B=(H=!0)=>{_(),H&&D()},U=()=>{B(!1),n.visible&&n.focusOnShow?a.value=!0:n.visible===!1&&(a.value=!1)};return Gr(()=>{xt(()=>n.triggerTargetEl,(H,W)=>{$==null||$(),$=void 0;const z=X(H||p.value),G=X(W||p.value);eh(z)&&($=xt([m,()=>n.ariaLabel,b,()=>n.id],Y=>{["role","aria-label","aria-modal","id"].forEach((Q,J)=>{Wl(Y[J])?z.removeAttribute(Q):z.setAttribute(Q,Y[J])})},{immediate:!0})),G!==z&&eh(G)&&["role","aria-label","aria-modal","id"].forEach(Y=>{G.removeAttribute(Y)})},{immediate:!0}),xt(()=>n.visible,U,{immediate:!0})}),xi(()=>{$==null||$(),$=void 0}),e({popperContentRef:p,popperInstanceRef:g,updatePopper:B,contentStyle:A}),(H,W)=>(Ce(),Ve("div",Kr({ref_key:"contentRef",ref:p},X(T),{style:X(A),class:X(k),tabindex:"-1",onMouseenter:W[0]||(W[0]=z=>H.$emit("mouseenter",z)),onMouseleave:W[1]||(W[1]=z=>H.$emit("mouseleave",z))}),[ur(X(eE),{trapped:X(a),"trap-on-focus-in":!0,"focus-trap-el":X(p),"focus-start-el":X(i),onFocusAfterTrapped:X(s),onFocusAfterReleased:X(o),onFocusin:X(u),onFocusoutPrevented:X(l),onReleaseRequested:X(c)},{default:yt(()=>[rt(H.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var V9=Nt(U9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const G9=tn(l9),s_=Symbol("elTooltip"),rE=Vt({...GF,...tE,appendTo:{type:ot([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:ot(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),nE=Vt({...Qk,disabled:Boolean,trigger:{type:ot([String,Array]),default:"hover"},triggerKeys:{type:ot(Array),default:()=>[xn.enter,xn.space]}}),{useModelToggleProps:j9,useModelToggleEmits:W9,useModelToggle:Y9}=wk("visible"),X9=Vt({...qk,...j9,...rE,...nE,...Kk,showArrow:{type:Boolean,default:!0}}),q9=[...W9,"before-show","before-hide","show","hide","open","close"],K9=(t,e)=>Dl(t)?t.includes(e):t===e,qu=(t,e,r)=>n=>{K9(X(t),e)&&r(n)},Z9=Xe({name:"ElTooltipTrigger"}),Q9=Xe({...Z9,props:nE,setup(t,{expose:e}){const r=t,n=gt("tooltip"),{controlled:i,id:a,open:o,onOpen:s,onClose:u,onToggle:l}=Ht(s_,void 0),c=Ye(null),h=()=>{if(X(i)||r.disabled)return!0},f=Bi(r,"trigger"),p=Za(h,qu(f,"hover",s)),v=Za(h,qu(f,"hover",u)),g=Za(h,qu(f,"click",T=>{T.button===0&&l(T)})),m=Za(h,qu(f,"focus",s)),_=Za(h,qu(f,"focus",u)),b=Za(h,qu(f,"contextmenu",T=>{T.preventDefault(),l(T)})),w=Za(h,T=>{const{code:k}=T;r.triggerKeys.includes(k)&&(T.preventDefault(),l(T))});return e({triggerRef:c}),(T,k)=>(Ce(),At(X(m9),{id:X(a),"virtual-ref":T.virtualRef,open:X(o),"virtual-triggering":T.virtualTriggering,class:Ge(X(n).e("trigger")),onBlur:X(_),onClick:X(g),onContextmenu:X(b),onFocus:X(m),onMouseenter:X(p),onMouseleave:X(v),onKeydown:X(w)},{default:yt(()=>[rt(T.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var J9=Nt(Q9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const e7=Xe({name:"ElTooltipContent",inheritAttrs:!1}),t7=Xe({...e7,props:rE,setup(t,{expose:e}){const r=t,{selector:n}=Nk(),i=gt("tooltip"),a=Ye(null),o=Ye(!1),{controlled:s,id:u,open:l,trigger:c,onClose:h,onOpen:f,onShow:p,onHide:v,onBeforeShow:g,onBeforeHide:m}=Ht(s_,void 0),_=ce(()=>r.transition||`${i.namespace.value}-fade-in-linear`),b=ce(()=>r.persistent);xi(()=>{o.value=!0});const w=ce(()=>X(b)?!0:X(l)),T=ce(()=>r.disabled?!1:X(l)),k=ce(()=>r.appendTo||n.value),A=ce(()=>{var Y;return(Y=r.style)!=null?Y:{}}),D=ce(()=>!X(l)),O=()=>{v()},F=()=>{if(X(s))return!0},$=Za(F,()=>{r.enterable&&X(c)==="hover"&&f()}),B=Za(F,()=>{X(c)==="hover"&&h()}),U=()=>{var Y,Q;(Q=(Y=a.value)==null?void 0:Y.updatePopper)==null||Q.call(Y),g==null||g()},H=()=>{m==null||m()},W=()=>{p(),G=cB(ce(()=>{var Y;return(Y=a.value)==null?void 0:Y.popperContentRef}),()=>{if(X(s))return;X(c)!=="hover"&&h()})},z=()=>{r.virtualTriggering||h()};let G;return xt(()=>X(l),Y=>{Y||G==null||G()},{flush:"post"}),xt(()=>r.content,()=>{var Y,Q;(Q=(Y=a.value)==null?void 0:Y.updatePopper)==null||Q.call(Y)}),e({contentRef:a}),(Y,Q)=>(Ce(),At(kA,{disabled:!Y.teleported,to:X(k)},[ur(Tu,{name:X(_),onAfterLeave:O,onBeforeEnter:U,onAfterEnter:W,onBeforeLeave:H},{default:yt(()=>[X(w)?ss((Ce(),At(X(V9),Kr({key:0,id:X(u),ref_key:"contentRef",ref:a},Y.$attrs,{"aria-label":Y.ariaLabel,"aria-hidden":X(D),"boundaries-padding":Y.boundariesPadding,"fallback-placements":Y.fallbackPlacements,"gpu-acceleration":Y.gpuAcceleration,offset:Y.offset,placement:Y.placement,"popper-options":Y.popperOptions,strategy:Y.strategy,effect:Y.effect,enterable:Y.enterable,pure:Y.pure,"popper-class":Y.popperClass,"popper-style":[Y.popperStyle,X(A)],"reference-el":Y.referenceEl,"trigger-target-el":Y.triggerTargetEl,visible:X(T),"z-index":Y.zIndex,onMouseenter:X($),onMouseleave:X(B),onBlur:z,onClose:X(h)}),{default:yt(()=>[o.value?vt("v-if",!0):rt(Y.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[wu,X(T)]]):vt("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var r7=Nt(t7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const n7=["innerHTML"],i7={key:1},a7=Xe({name:"ElTooltip"}),o7=Xe({...a7,props:X9,emits:q9,setup(t,{expose:e,emit:r}){const n=t;VF();const i=ah(),a=Ye(),o=Ye(),s=()=>{var _;const b=X(a);b&&((_=b.popperInstanceRef)==null||_.update())},u=Ye(!1),l=Ye(),{show:c,hide:h,hasUpdateHandler:f}=Y9({indicator:u,toggleReason:l}),{onOpen:p,onClose:v}=jF({showAfter:Bi(n,"showAfter"),hideAfter:Bi(n,"hideAfter"),autoClose:Bi(n,"autoClose"),open:c,close:h}),g=ce(()=>kh(n.visible)&&!f.value);Qr(s_,{controlled:g,id:i,open:CA(u),trigger:Bi(n,"trigger"),onOpen:_=>{p(_)},onClose:_=>{v(_)},onToggle:_=>{X(u)?v(_):p(_)},onShow:()=>{r("show",l.value)},onHide:()=>{r("hide",l.value)},onBeforeShow:()=>{r("before-show",l.value)},onBeforeHide:()=>{r("before-hide",l.value)},updatePopper:s}),xt(()=>n.disabled,_=>{_&&u.value&&(u.value=!1)});const m=()=>{var _,b;const w=(b=(_=o.value)==null?void 0:_.contentRef)==null?void 0:b.popperContentRef;return w&&w.contains(document.activeElement)};return XO(()=>u.value&&h()),e({popperRef:a,contentRef:o,isFocusInsideContent:m,updatePopper:s,onOpen:p,onClose:v,hide:h}),(_,b)=>(Ce(),At(X(G9),{ref_key:"popperRef",ref:a,role:_.role},{default:yt(()=>[ur(J9,{disabled:_.disabled,trigger:_.trigger,"trigger-keys":_.triggerKeys,"virtual-ref":_.virtualRef,"virtual-triggering":_.virtualTriggering},{default:yt(()=>[_.$slots.default?rt(_.$slots,"default",{key:0}):vt("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ur(r7,{ref_key:"contentRef",ref:o,"aria-label":_.ariaLabel,"boundaries-padding":_.boundariesPadding,content:_.content,disabled:_.disabled,effect:_.effect,enterable:_.enterable,"fallback-placements":_.fallbackPlacements,"hide-after":_.hideAfter,"gpu-acceleration":_.gpuAcceleration,offset:_.offset,persistent:_.persistent,"popper-class":_.popperClass,"popper-style":_.popperStyle,placement:_.placement,"popper-options":_.popperOptions,pure:_.pure,"raw-content":_.rawContent,"reference-el":_.referenceEl,"trigger-target-el":_.triggerTargetEl,"show-after":_.showAfter,strategy:_.strategy,teleported:_.teleported,transition:_.transition,"virtual-triggering":_.virtualTriggering,"z-index":_.zIndex,"append-to":_.appendTo},{default:yt(()=>[rt(_.$slots,"content",{},()=>[_.rawContent?(Ce(),Ve("span",{key:0,innerHTML:_.content},null,8,n7)):(Ce(),Ve("span",i7,Er(_.content),1))]),_.showArrow?(Ce(),At(X(h9),{key:0,"arrow-offset":_.arrowOffset},null,8,["arrow-offset"])):vt("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var s7=Nt(o7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const iE=tn(s7),u7=Vt({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),l7=["textContent"],c7=Xe({name:"ElBadge"}),f7=Xe({...c7,props:u7,setup(t,{expose:e}){const r=t,n=gt("badge"),i=ce(()=>r.isDot?"":Ca(r.value)&&Ca(r.max)?r.max<r.value?`${r.max}+`:`${r.value}`:`${r.value}`);return e({content:i}),(a,o)=>(Ce(),Ve("div",{class:Ge(X(n).b())},[rt(a.$slots,"default"),ur(Tu,{name:`${X(n).namespace.value}-zoom-in-center`,persisted:""},{default:yt(()=>[ss(pt("sup",{class:Ge([X(n).e("content"),X(n).em("content",a.type),X(n).is("fixed",!!a.$slots.default),X(n).is("dot",a.isDot)]),textContent:Er(X(i))},null,10,l7),[[wu,!a.hidden&&(X(i)||a.isDot)]])]),_:1},8,["name"])],2))}});var h7=Nt(f7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const d7=tn(h7),aE=Symbol("buttonGroupContextKey"),p7=(t,e)=>{rh({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},ce(()=>t.type==="text"));const r=Ht(aE,void 0),n=Gv("button"),{form:i}=jk(),a=Mh(ce(()=>r==null?void 0:r.size)),o=n_(),s=Ye(),u=Ah(),l=ce(()=>t.type||(r==null?void 0:r.type)||""),c=ce(()=>{var v,g,m;return(m=(g=t.autoInsertSpace)!=null?g:(v=n.value)==null?void 0:v.autoInsertSpace)!=null?m:!1}),h=ce(()=>t.tag==="button"?{ariaDisabled:o.value||t.loading,disabled:o.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),f=ce(()=>{var v;const g=(v=u.default)==null?void 0:v.call(u);if(c.value&&(g==null?void 0:g.length)===1){const m=g[0];if((m==null?void 0:m.type)===AA){const _=m.children;return/^\p{Unified_Ideograph}{2}$/u.test(_.trim())}}return!1});return{_disabled:o,_size:a,_type:l,_ref:s,_props:h,shouldAddSpace:f,handleClick:v=>{t.nativeType==="reset"&&(i==null||i.resetFields()),e("click",v)}}},v7=["default","primary","success","warning","info","danger","text",""],g7=["button","submit","reset"],Vy=Vt({size:zk,disabled:Boolean,type:{type:String,values:v7,default:""},icon:{type:va},nativeType:{type:String,values:g7,default:"button"},loading:Boolean,loadingIcon:{type:va,default:()=>mk},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:ot([String,Object]),default:"button"}}),m7={click:t=>t instanceof MouseEvent};function en(t,e){y7(t)&&(t="100%");var r=_7(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function hd(t){return Math.min(1,Math.max(0,t))}function y7(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function _7(t){return typeof t=="string"&&t.indexOf("%")!==-1}function oE(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function dd(t){return t<=1?"".concat(Number(t)*100,"%"):t}function nu(t){return t.length===1?"0"+t:String(t)}function b7(t,e,r){return{r:en(t,255)*255,g:en(e,255)*255,b:en(r,255)*255}}function _S(t,e,r){t=en(t,255),e=en(e,255),r=en(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),a=0,o=0,s=(n+i)/2;if(n===i)o=0,a=0;else{var u=n-i;switch(o=s>.5?u/(2-n-i):u/(n+i),n){case t:a=(e-r)/u+(e<r?6:0);break;case e:a=(r-t)/u+2;break;case r:a=(t-e)/u+4;break}a/=6}return{h:a,s:o,l:s}}function Yg(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*(6*r):r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function x7(t,e,r){var n,i,a;if(t=en(t,360),e=en(e,100),r=en(r,100),e===0)i=r,a=r,n=r;else{var o=r<.5?r*(1+e):r+e-r*e,s=2*r-o;n=Yg(s,o,t+1/3),i=Yg(s,o,t),a=Yg(s,o,t-1/3)}return{r:n*255,g:i*255,b:a*255}}function bS(t,e,r){t=en(t,255),e=en(e,255),r=en(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),a=0,o=n,s=n-i,u=n===0?0:s/n;if(n===i)a=0;else{switch(n){case t:a=(e-r)/s+(e<r?6:0);break;case e:a=(r-t)/s+2;break;case r:a=(t-e)/s+4;break}a/=6}return{h:a,s:u,v:o}}function S7(t,e,r){t=en(t,360)*6,e=en(e,100),r=en(r,100);var n=Math.floor(t),i=t-n,a=r*(1-e),o=r*(1-i*e),s=r*(1-(1-i)*e),u=n%6,l=[r,o,a,a,s,r][u],c=[s,r,r,o,a,a][u],h=[a,a,s,r,r,o][u];return{r:l*255,g:c*255,b:h*255}}function xS(t,e,r,n){var i=[nu(Math.round(t).toString(16)),nu(Math.round(e).toString(16)),nu(Math.round(r).toString(16))];return n&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function w7(t,e,r,n,i){var a=[nu(Math.round(t).toString(16)),nu(Math.round(e).toString(16)),nu(Math.round(r).toString(16)),nu(T7(n))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function T7(t){return Math.round(parseFloat(t)*255).toString(16)}function SS(t){return jn(t)/255}function jn(t){return parseInt(t,16)}function C7(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var Gy={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function A7(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,a=null,o=!1,s=!1;return typeof t=="string"&&(t=P7(t)),typeof t=="object"&&(Ya(t.r)&&Ya(t.g)&&Ya(t.b)?(e=b7(t.r,t.g,t.b),o=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Ya(t.h)&&Ya(t.s)&&Ya(t.v)?(n=dd(t.s),i=dd(t.v),e=S7(t.h,n,i),o=!0,s="hsv"):Ya(t.h)&&Ya(t.s)&&Ya(t.l)&&(n=dd(t.s),a=dd(t.l),e=x7(t.h,n,a),o=!0,s="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=oE(r),{ok:o,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}var k7="[-\\+]?\\d+%?",E7="[-\\+]?\\d*\\.\\d+%?",Go="(?:".concat(E7,")|(?:").concat(k7,")"),Xg="[\\s|\\(]+(".concat(Go,")[,|\\s]+(").concat(Go,")[,|\\s]+(").concat(Go,")\\s*\\)?"),qg="[\\s|\\(]+(".concat(Go,")[,|\\s]+(").concat(Go,")[,|\\s]+(").concat(Go,")[,|\\s]+(").concat(Go,")\\s*\\)?"),Pi={CSS_UNIT:new RegExp(Go),rgb:new RegExp("rgb"+Xg),rgba:new RegExp("rgba"+qg),hsl:new RegExp("hsl"+Xg),hsla:new RegExp("hsla"+qg),hsv:new RegExp("hsv"+Xg),hsva:new RegExp("hsva"+qg),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function P7(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(Gy[t])t=Gy[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=Pi.rgb.exec(t);return r?{r:r[1],g:r[2],b:r[3]}:(r=Pi.rgba.exec(t),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Pi.hsl.exec(t),r?{h:r[1],s:r[2],l:r[3]}:(r=Pi.hsla.exec(t),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Pi.hsv.exec(t),r?{h:r[1],s:r[2],v:r[3]}:(r=Pi.hsva.exec(t),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Pi.hex8.exec(t),r?{r:jn(r[1]),g:jn(r[2]),b:jn(r[3]),a:SS(r[4]),format:e?"name":"hex8"}:(r=Pi.hex6.exec(t),r?{r:jn(r[1]),g:jn(r[2]),b:jn(r[3]),format:e?"name":"hex"}:(r=Pi.hex4.exec(t),r?{r:jn(r[1]+r[1]),g:jn(r[2]+r[2]),b:jn(r[3]+r[3]),a:SS(r[4]+r[4]),format:e?"name":"hex8"}:(r=Pi.hex3.exec(t),r?{r:jn(r[1]+r[1]),g:jn(r[2]+r[2]),b:jn(r[3]+r[3]),format:e?"name":"hex"}:!1)))))))))}function Ya(t){return!!Pi.CSS_UNIT.exec(String(t))}var sE=function(){function t(e,r){e===void 0&&(e=""),r===void 0&&(r={});var n;if(e instanceof t)return e;typeof e=="number"&&(e=C7(e)),this.originalInput=e;var i=A7(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=r.format)!==null&&n!==void 0?n:i.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),r,n,i,a=e.r/255,o=e.g/255,s=e.b/255;return a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),.2126*r+.7152*n+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=oE(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=bS(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=bS(this.r,this.g,this.b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=_S(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=_S(this.r,this.g,this.b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),xS(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),w7(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),r=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(r,", ").concat(n,")"):"rgba(".concat(e,", ").concat(r,", ").concat(n,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(r){return"".concat(Math.round(en(r,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(r){return Math.round(en(r,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+xS(this.r,this.g,this.b,!1),r=0,n=Object.entries(Gy);r<n.length;r++){var i=n[r],a=i[0],o=i[1];if(e===o)return a}return!1},t.prototype.toString=function(e){var r=!!e;e=e??this.format;var n=!1,i=this.a<1&&this.a>=0,a=!r&&i&&(e.startsWith("hex")||e==="name");return a?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l+=e/100,r.l=hd(r.l),new t(r)},t.prototype.brighten=function(e){e===void 0&&(e=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new t(r)},t.prototype.darken=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l-=e/100,r.l=hd(r.l),new t(r)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s-=e/100,r.s=hd(r.s),new t(r)},t.prototype.saturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s+=e/100,r.s=hd(r.s),new t(r)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var r=this.toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,new t(r)},t.prototype.mix=function(e,r){r===void 0&&(r=50);var n=this.toRgb(),i=new t(e).toRgb(),a=r/100,o={r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a};return new t(o)},t.prototype.analogous=function(e,r){e===void 0&&(e=6),r===void 0&&(r=30);var n=this.toHsl(),i=360/r,a=[this];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,a.push(new t(n));return a},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var r=this.toHsv(),n=r.h,i=r.s,a=r.v,o=[],s=1/e;e--;)o.push(new t({h:n,s:i,v:a})),a=(a+s)%1;return o},t.prototype.splitcomplement=function(){var e=this.toHsl(),r=e.h;return[this,new t({h:(r+72)%360,s:e.s,l:e.l}),new t({h:(r+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var r=this.toRgb(),n=new t(e).toRgb(),i=r.a+n.a*(1-r.a);return new t({r:(r.r*r.a+n.r*n.a*(1-r.a))/i,g:(r.g*r.a+n.g*n.a*(1-r.a))/i,b:(r.b*r.a+n.b*n.a*(1-r.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var r=this.toHsl(),n=r.h,i=[this],a=360/e,o=1;o<e;o++)i.push(new t({h:(n+o*a)%360,s:r.s,l:r.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function ko(t,e=20){return t.mix("#141414",e).toString()}function D7(t){const e=n_(),r=gt("button");return ce(()=>{let n={};const i=t.color;if(i){const a=new sE(i),o=t.dark?a.tint(20).toString():ko(a,20);if(t.plain)n=r.cssVarBlock({"bg-color":t.dark?ko(a,90):a.tint(90).toString(),"text-color":i,"border-color":t.dark?ko(a,50):a.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":o,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":o}),e.value&&(n[r.cssVarBlockName("disabled-bg-color")]=t.dark?ko(a,90):a.tint(90).toString(),n[r.cssVarBlockName("disabled-text-color")]=t.dark?ko(a,50):a.tint(50).toString(),n[r.cssVarBlockName("disabled-border-color")]=t.dark?ko(a,80):a.tint(80).toString());else{const s=t.dark?ko(a,30):a.tint(30).toString(),u=a.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(n=r.cssVarBlock({"bg-color":i,"text-color":u,"border-color":i,"hover-bg-color":s,"hover-text-color":u,"hover-border-color":s,"active-bg-color":o,"active-border-color":o}),e.value){const l=t.dark?ko(a,50):a.tint(50).toString();n[r.cssVarBlockName("disabled-bg-color")]=l,n[r.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,n[r.cssVarBlockName("disabled-border-color")]=l}}}return n})}const M7=Xe({name:"ElButton"}),L7=Xe({...M7,props:Vy,emits:m7,setup(t,{expose:e,emit:r}){const n=t,i=D7(n),a=gt("button"),{_ref:o,_size:s,_type:u,_disabled:l,_props:c,shouldAddSpace:h,handleClick:f}=p7(n,r);return e({ref:o,size:s,type:u,disabled:l,shouldAddSpace:h}),(p,v)=>(Ce(),At(Xn(p.tag),Kr({ref_key:"_ref",ref:o},X(c),{class:[X(a).b(),X(a).m(X(u)),X(a).m(X(s)),X(a).is("disabled",X(l)),X(a).is("loading",p.loading),X(a).is("plain",p.plain),X(a).is("round",p.round),X(a).is("circle",p.circle),X(a).is("text",p.text),X(a).is("link",p.link),X(a).is("has-bg",p.bg)],style:X(i),onClick:X(f)}),{default:yt(()=>[p.loading?(Ce(),Ve(Jr,{key:0},[p.$slots.loading?rt(p.$slots,"loading",{key:0}):(Ce(),At(X(Wn),{key:1,class:Ge(X(a).is("loading"))},{default:yt(()=>[(Ce(),At(Xn(p.loadingIcon)))]),_:1},8,["class"]))],64)):p.icon||p.$slots.icon?(Ce(),At(X(Wn),{key:1},{default:yt(()=>[p.icon?(Ce(),At(Xn(p.icon),{key:0})):rt(p.$slots,"icon",{key:1})]),_:3})):vt("v-if",!0),p.$slots.default?(Ce(),Ve("span",{key:2,class:Ge({[X(a).em("text","expand")]:X(h)})},[rt(p.$slots,"default")],2)):vt("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var R7=Nt(L7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const O7={size:Vy.size,type:Vy.type},I7=Xe({name:"ElButtonGroup"}),B7=Xe({...I7,props:O7,setup(t){const e=t;Qr(aE,co({size:Bi(e,"size"),type:Bi(e,"type")}));const r=gt("button");return(n,i)=>(Ce(),Ve("div",{class:Ge(`${X(r).b("group")}`)},[rt(n.$slots,"default")],2))}});var uE=Nt(B7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const Kg=tn(R7,{ButtonGroup:uE}),N7=Da(uE);var gi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function F7(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(e,i);return new a}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var lE={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(gi,function(){var r=1e3,n=6e4,i=36e5,a="millisecond",o="second",s="minute",u="hour",l="day",c="week",h="month",f="quarter",p="year",v="date",g="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(H){var W=["th","st","nd","rd"],z=H%100;return"["+H+(W[(z-20)%10]||W[z]||W[0])+"]"}},w=function(H,W,z){var G=String(H);return!G||G.length>=W?H:""+Array(W+1-G.length).join(z)+H},T={s:w,z:function(H){var W=-H.utcOffset(),z=Math.abs(W),G=Math.floor(z/60),Y=z%60;return(W<=0?"+":"-")+w(G,2,"0")+":"+w(Y,2,"0")},m:function H(W,z){if(W.date()<z.date())return-H(z,W);var G=12*(z.year()-W.year())+(z.month()-W.month()),Y=W.clone().add(G,h),Q=z-Y<0,J=W.clone().add(G+(Q?-1:1),h);return+(-(G+(z-Y)/(Q?Y-J:J-Y))||0)},a:function(H){return H<0?Math.ceil(H)||0:Math.floor(H)},p:function(H){return{M:h,y:p,w:c,d:l,D:v,h:u,m:s,s:o,ms:a,Q:f}[H]||String(H||"").toLowerCase().replace(/s$/,"")},u:function(H){return H===void 0}},k="en",A={};A[k]=b;var D=function(H){return H instanceof B},O=function H(W,z,G){var Y;if(!W)return k;if(typeof W=="string"){var Q=W.toLowerCase();A[Q]&&(Y=Q),z&&(A[Q]=z,Y=Q);var J=W.split("-");if(!Y&&J.length>1)return H(J[0])}else{var ae=W.name;A[ae]=W,Y=ae}return!G&&Y&&(k=Y),Y||!G&&k},F=function(H,W){if(D(H))return H.clone();var z=typeof W=="object"?W:{};return z.date=H,z.args=arguments,new B(z)},$=T;$.l=O,$.i=D,$.w=function(H,W){return F(H,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var B=function(){function H(z){this.$L=O(z.locale,null,!0),this.parse(z)}var W=H.prototype;return W.parse=function(z){this.$d=function(G){var Y=G.date,Q=G.utc;if(Y===null)return new Date(NaN);if($.u(Y))return new Date;if(Y instanceof Date)return new Date(Y);if(typeof Y=="string"&&!/Z$/i.test(Y)){var J=Y.match(m);if(J){var ae=J[2]-1||0,he=(J[7]||"0").substring(0,3);return Q?new Date(Date.UTC(J[1],ae,J[3]||1,J[4]||0,J[5]||0,J[6]||0,he)):new Date(J[1],ae,J[3]||1,J[4]||0,J[5]||0,J[6]||0,he)}}return new Date(Y)}(z),this.$x=z.x||{},this.init()},W.init=function(){var z=this.$d;this.$y=z.getFullYear(),this.$M=z.getMonth(),this.$D=z.getDate(),this.$W=z.getDay(),this.$H=z.getHours(),this.$m=z.getMinutes(),this.$s=z.getSeconds(),this.$ms=z.getMilliseconds()},W.$utils=function(){return $},W.isValid=function(){return this.$d.toString()!==g},W.isSame=function(z,G){var Y=F(z);return this.startOf(G)<=Y&&Y<=this.endOf(G)},W.isAfter=function(z,G){return F(z)<this.startOf(G)},W.isBefore=function(z,G){return this.endOf(G)<F(z)},W.$g=function(z,G,Y){return $.u(z)?this[G]:this.set(Y,z)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(z,G){var Y=this,Q=!!$.u(G)||G,J=$.p(z),ae=function(ve,ge){var be=$.w(Y.$u?Date.UTC(Y.$y,ge,ve):new Date(Y.$y,ge,ve),Y);return Q?be:be.endOf(l)},he=function(ve,ge){return $.w(Y.toDate()[ve].apply(Y.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(ge)),Y)},pe=this.$W,Se=this.$M,we=this.$D,Le="set"+(this.$u?"UTC":"");switch(J){case p:return Q?ae(1,0):ae(31,11);case h:return Q?ae(1,Se):ae(0,Se+1);case c:var Fe=this.$locale().weekStart||0,se=(pe<Fe?pe+7:pe)-Fe;return ae(Q?we-se:we+(6-se),Se);case l:case v:return he(Le+"Hours",0);case u:return he(Le+"Minutes",1);case s:return he(Le+"Seconds",2);case o:return he(Le+"Milliseconds",3);default:return this.clone()}},W.endOf=function(z){return this.startOf(z,!1)},W.$set=function(z,G){var Y,Q=$.p(z),J="set"+(this.$u?"UTC":""),ae=(Y={},Y[l]=J+"Date",Y[v]=J+"Date",Y[h]=J+"Month",Y[p]=J+"FullYear",Y[u]=J+"Hours",Y[s]=J+"Minutes",Y[o]=J+"Seconds",Y[a]=J+"Milliseconds",Y)[Q],he=Q===l?this.$D+(G-this.$W):G;if(Q===h||Q===p){var pe=this.clone().set(v,1);pe.$d[ae](he),pe.init(),this.$d=pe.set(v,Math.min(this.$D,pe.daysInMonth())).$d}else ae&&this.$d[ae](he);return this.init(),this},W.set=function(z,G){return this.clone().$set(z,G)},W.get=function(z){return this[$.p(z)]()},W.add=function(z,G){var Y,Q=this;z=Number(z);var J=$.p(G),ae=function(Se){var we=F(Q);return $.w(we.date(we.date()+Math.round(Se*z)),Q)};if(J===h)return this.set(h,this.$M+z);if(J===p)return this.set(p,this.$y+z);if(J===l)return ae(1);if(J===c)return ae(7);var he=(Y={},Y[s]=n,Y[u]=i,Y[o]=r,Y)[J]||1,pe=this.$d.getTime()+z*he;return $.w(pe,this)},W.subtract=function(z,G){return this.add(-1*z,G)},W.format=function(z){var G=this,Y=this.$locale();if(!this.isValid())return Y.invalidDate||g;var Q=z||"YYYY-MM-DDTHH:mm:ssZ",J=$.z(this),ae=this.$H,he=this.$m,pe=this.$M,Se=Y.weekdays,we=Y.months,Le=function(ge,be,Te,$e){return ge&&(ge[be]||ge(G,Q))||Te[be].slice(0,$e)},Fe=function(ge){return $.s(ae%12||12,ge,"0")},se=Y.meridiem||function(ge,be,Te){var $e=ge<12?"AM":"PM";return Te?$e.toLowerCase():$e},ve={YY:String(this.$y).slice(-2),YYYY:this.$y,M:pe+1,MM:$.s(pe+1,2,"0"),MMM:Le(Y.monthsShort,pe,we,3),MMMM:Le(we,pe),D:this.$D,DD:$.s(this.$D,2,"0"),d:String(this.$W),dd:Le(Y.weekdaysMin,this.$W,Se,2),ddd:Le(Y.weekdaysShort,this.$W,Se,3),dddd:Se[this.$W],H:String(ae),HH:$.s(ae,2,"0"),h:Fe(1),hh:Fe(2),a:se(ae,he,!0),A:se(ae,he,!1),m:String(he),mm:$.s(he,2,"0"),s:String(this.$s),ss:$.s(this.$s,2,"0"),SSS:$.s(this.$ms,3,"0"),Z:J};return Q.replace(_,function(ge,be){return be||ve[ge]||J.replace(":","")})},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(z,G,Y){var Q,J=$.p(G),ae=F(z),he=(ae.utcOffset()-this.utcOffset())*n,pe=this-ae,Se=$.m(this,ae);return Se=(Q={},Q[p]=Se/12,Q[h]=Se,Q[f]=Se/3,Q[c]=(pe-he)/6048e5,Q[l]=(pe-he)/864e5,Q[u]=pe/i,Q[s]=pe/n,Q[o]=pe/r,Q)[J]||pe,Y?Se:$.a(Se)},W.daysInMonth=function(){return this.endOf(h).$D},W.$locale=function(){return A[this.$L]},W.locale=function(z,G){if(!z)return this.$L;var Y=this.clone(),Q=O(z,G,!0);return Q&&(Y.$L=Q),Y},W.clone=function(){return $.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},H}(),U=B.prototype;return F.prototype=U,[["$ms",a],["$s",o],["$m",s],["$H",u],["$W",l],["$M",h],["$y",p],["$D",v]].forEach(function(H){U[H[1]]=function(W){return this.$g(W,H[0],H[1])}}),F.extend=function(H,W){return H.$i||(H(W,B,F),H.$i=!0),F},F.locale=O,F.isDayjs=D,F.unix=function(H){return F(1e3*H)},F.en=A[k],F.Ls=A,F.p={},F})})(lE);var $7=lE.exports;const Rl=Rh($7),Ol=t=>Array.from(Array.from({length:t}).keys()),H7=(t,e)=>{const r=t.subtract(1,"month").endOf("month").date();return Ol(e).map((n,i)=>r-(e-i-1))},z7=t=>{const e=t.daysInMonth();return Ol(e).map((r,n)=>n+1)},U7=t=>Ol(t.length/7).map(e=>{const r=e*7;return t.slice(r,r+7)}),V7=Vt({selectedDay:{type:ot(Object)},range:{type:ot(Array)},date:{type:ot(Object),required:!0},hideHeader:{type:Boolean}}),G7={pick:t=>Ta(t)};var cE={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(gi,function(){return function(r,n,i){var a=n.prototype,o=function(h){return h&&(h.indexOf?h:h.s)},s=function(h,f,p,v,g){var m=h.name?h:h.$locale(),_=o(m[f]),b=o(m[p]),w=_||b.map(function(k){return k.slice(0,v)});if(!g)return w;var T=m.weekStart;return w.map(function(k,A){return w[(A+(T||0))%7]})},u=function(){return i.Ls[i.locale()]},l=function(h,f){return h.formats[f]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,g,m){return g||m.slice(1)})}(h.formats[f.toUpperCase()])},c=function(){var h=this;return{months:function(f){return f?f.format("MMMM"):s(h,"months")},monthsShort:function(f){return f?f.format("MMM"):s(h,"monthsShort","months",3)},firstDayOfWeek:function(){return h.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):s(h,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):s(h,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):s(h,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return l(h.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return c.bind(this)()},i.localeData=function(){var h=u();return{firstDayOfWeek:function(){return h.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(f){return l(h,f)},meridiem:h.meridiem,ordinal:h.ordinal}},i.months=function(){return s(u(),"months")},i.monthsShort=function(){return s(u(),"monthsShort","months",3)},i.weekdays=function(h){return s(u(),"weekdays",null,null,h)},i.weekdaysShort=function(h){return s(u(),"weekdaysShort","weekdays",3,h)},i.weekdaysMin=function(h){return s(u(),"weekdaysMin","weekdays",2,h)}}})})(cE);var j7=cE.exports;const W7=Rh(j7),Y7=(t,e)=>{Rl.extend(W7);const r=Rl.localeData().firstDayOfWeek(),{t:n,lang:i}=Eh(),a=Rl().locale(i.value),o=ce(()=>!!t.range&&!!t.range.length),s=ce(()=>{let f=[];if(o.value){const[p,v]=t.range,g=Ol(v.date()-p.date()+1).map(b=>({text:p.date()+b,type:"current"}));let m=g.length%7;m=m===0?0:7-m;const _=Ol(m).map((b,w)=>({text:w+1,type:"next"}));f=g.concat(_)}else{const p=t.date.startOf("month").day(),v=H7(t.date,(p-r+7)%7).map(b=>({text:b,type:"prev"})),g=z7(t.date).map(b=>({text:b,type:"current"}));f=[...v,...g];const m=7-(f.length%7||7),_=Ol(m).map((b,w)=>({text:w+1,type:"next"}));f=f.concat(_)}return U7(f)}),u=ce(()=>{const f=r;return f===0?Vg.map(p=>n(`el.datepicker.weeks.${p}`)):Vg.slice(f).concat(Vg.slice(0,f)).map(p=>n(`el.datepicker.weeks.${p}`))}),l=(f,p)=>{switch(p){case"prev":return t.date.startOf("month").subtract(1,"month").date(f);case"next":return t.date.startOf("month").add(1,"month").date(f);case"current":return t.date.date(f)}};return{now:a,isInRange:o,rows:s,weekDays:u,getFormattedDate:l,handlePickDay:({text:f,type:p})=>{const v=l(f,p);e("pick",v)},getSlotData:({text:f,type:p})=>{const v=l(f,p);return{isSelected:v.isSame(t.selectedDay),type:`${p}-month`,day:v.format("YYYY-MM-DD"),date:v.toDate()}}}},X7={key:0},q7=["onClick"],K7=Xe({name:"DateTable"}),Z7=Xe({...K7,props:V7,emits:G7,setup(t,{expose:e,emit:r}){const n=t,{isInRange:i,now:a,rows:o,weekDays:s,getFormattedDate:u,handlePickDay:l,getSlotData:c}=Y7(n,r),h=gt("calendar-table"),f=gt("calendar-day"),p=({text:v,type:g})=>{const m=[g];if(g==="current"){const _=u(v,g);_.isSame(n.selectedDay,"day")&&m.push(f.is("selected")),_.isSame(a,"day")&&m.push(f.is("today"))}return m};return e({getFormattedDate:u}),(v,g)=>(Ce(),Ve("table",{class:Ge([X(h).b(),X(h).is("range",X(i))]),cellspacing:"0",cellpadding:"0"},[v.hideHeader?vt("v-if",!0):(Ce(),Ve("thead",X7,[(Ce(!0),Ve(Jr,null,Ll(X(s),m=>(Ce(),Ve("th",{key:m},Er(m),1))),128))])),pt("tbody",null,[(Ce(!0),Ve(Jr,null,Ll(X(o),(m,_)=>(Ce(),Ve("tr",{key:_,class:Ge({[X(h).e("row")]:!0,[X(h).em("row","hide-border")]:_===0&&v.hideHeader})},[(Ce(!0),Ve(Jr,null,Ll(m,(b,w)=>(Ce(),Ve("td",{key:w,class:Ge(p(b)),onClick:T=>X(l)(b)},[pt("div",{class:Ge(X(f).b())},[rt(v.$slots,"date-cell",{data:X(c)(b)},()=>[pt("span",null,Er(b.text),1)])],2)],10,q7))),128))],2))),128))])],2))}});var wS=Nt(Z7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const Q7=(t,e)=>{const r=t.endOf("month"),n=e.startOf("month"),a=r.isSame(n,"week")?n.add(1,"week"):n;return[[t,r],[a.startOf("week"),e]]},J7=(t,e)=>{const r=t.endOf("month"),n=t.add(1,"month").startOf("month"),i=r.isSame(n,"week")?n.add(1,"week"):n,a=i.endOf("month"),o=e.startOf("month"),s=a.isSame(o,"week")?o.add(1,"week"):o;return[[t,r],[i.startOf("week"),a],[s.startOf("week"),e]]},eH=(t,e,r)=>{const n=Ah(),{lang:i}=Eh(),a=Ye(),o=Rl().locale(i.value),s=ce({get(){return t.modelValue?l.value:a.value},set(_){if(!_)return;a.value=_;const b=_.toDate();e(bk,b),e(vu,b)}}),u=ce(()=>{if(!t.range)return[];const _=t.range.map(T=>Rl(T).locale(i.value)),[b,w]=_;return b.isAfter(w)?[]:b.isSame(w,"month")?v(b,w):b.add(1,"month").month()!==w.month()?[]:v(b,w)}),l=ce(()=>t.modelValue?Rl(t.modelValue).locale(i.value):s.value||(u.value.length?u.value[0][0]:o)),c=ce(()=>l.value.subtract(1,"month").date(1)),h=ce(()=>l.value.add(1,"month").date(1)),f=ce(()=>l.value.subtract(1,"year").date(1)),p=ce(()=>l.value.add(1,"year").date(1)),v=(_,b)=>{const w=_.startOf("week"),T=b.endOf("week"),k=w.get("month"),A=T.get("month");return k===A?[[w,T]]:(k+1)%12===A?Q7(w,T):k+2===A||(k+1)%11===A?J7(w,T):[]},g=_=>{s.value=_},m=_=>{const w={"prev-month":c.value,"next-month":h.value,"prev-year":f.value,"next-year":p.value,today:o}[_];w.isSame(l.value,"day")||g(w)};return rh({from:'"dateCell"',replacement:'"date-cell"',scope:"ElCalendar",version:"2.3.0",ref:"https://element-plus.org/en-US/component/calendar.html#slots",type:"Slot"},ce(()=>!!n.dateCell)),{calculateValidatedDateRange:v,date:l,realSelectedDay:s,pickDay:g,selectDate:m,validatedRange:u}},tH=t=>Dl(t)&&t.length===2&&t.every(e=>ky(e)),rH=Vt({modelValue:{type:Date},range:{type:ot(Array),validator:tH}}),nH={[vu]:t=>ky(t),[bk]:t=>ky(t)},iH="ElCalendar",aH=Xe({name:iH}),oH=Xe({...aH,props:rH,emits:nH,setup(t,{expose:e,emit:r}){const n=t,i=gt("calendar"),{calculateValidatedDateRange:a,date:o,pickDay:s,realSelectedDay:u,selectDate:l,validatedRange:c}=eH(n,r),{t:h}=Eh(),f=ce(()=>{const p=`el.datepicker.month${o.value.format("M")}`;return`${o.value.year()} ${h("el.datepicker.year")} ${h(p)}`});return e({selectedDay:u,pickDay:s,selectDate:l,calculateValidatedDateRange:a}),(p,v)=>(Ce(),Ve("div",{class:Ge(X(i).b())},[pt("div",{class:Ge(X(i).e("header"))},[rt(p.$slots,"header",{date:X(f)},()=>[pt("div",{class:Ge(X(i).e("title"))},Er(X(f)),3),X(c).length===0?(Ce(),Ve("div",{key:0,class:Ge(X(i).e("button-group"))},[ur(X(N7),null,{default:yt(()=>[ur(X(Kg),{size:"small",onClick:v[0]||(v[0]=g=>X(l)("prev-month"))},{default:yt(()=>[Ml(Er(X(h)("el.datepicker.prevMonth")),1)]),_:1}),ur(X(Kg),{size:"small",onClick:v[1]||(v[1]=g=>X(l)("today"))},{default:yt(()=>[Ml(Er(X(h)("el.datepicker.today")),1)]),_:1}),ur(X(Kg),{size:"small",onClick:v[2]||(v[2]=g=>X(l)("next-month"))},{default:yt(()=>[Ml(Er(X(h)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):vt("v-if",!0)])],2),X(c).length===0?(Ce(),Ve("div",{key:0,class:Ge(X(i).e("body"))},[ur(wS,{date:X(o),"selected-day":X(u),onPick:X(s)},Vb({_:2},[p.$slots["date-cell"]||p.$slots.dateCell?{name:"date-cell",fn:yt(g=>[p.$slots["date-cell"]?rt(p.$slots,"date-cell",df(Kr({key:0},g))):rt(p.$slots,"dateCell",df(Kr({key:1},g)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(Ce(),Ve("div",{key:1,class:Ge(X(i).e("body"))},[(Ce(!0),Ve(Jr,null,Ll(X(c),(g,m)=>(Ce(),At(wS,{key:m,date:g[0],"selected-day":X(u),range:g,"hide-header":m!==0,onPick:X(s)},Vb({_:2},[p.$slots["date-cell"]||p.$slots.dateCell?{name:"date-cell",fn:yt(_=>[p.$slots["date-cell"]?rt(p.$slots,"date-cell",df(Kr({key:0},_))):rt(p.$slots,"dateCell",df(Kr({key:1},_)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var sH=Nt(oH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const lae=tn(sH),uH=Vt({header:{type:String,default:""},bodyStyle:{type:ot([String,Object,Array]),default:""},shadow:{type:String,values:["always","hover","never"],default:"always"}}),lH=Xe({name:"ElCard"}),cH=Xe({...lH,props:uH,setup(t){const e=gt("card");return(r,n)=>(Ce(),Ve("div",{class:Ge([X(e).b(),X(e).is(`${r.shadow}-shadow`)])},[r.$slots.header||r.header?(Ce(),Ve("div",{key:0,class:Ge(X(e).e("header"))},[rt(r.$slots,"header",{},()=>[Ml(Er(r.header),1)])],2)):vt("v-if",!0),pt("div",{class:Ge(X(e).e("body")),style:qr(r.bodyStyle)},[rt(r.$slots,"default")],6)],2))}});var fH=Nt(cH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const cae=tn(fH),fE=Symbol("rowContextKey"),hH=["start","center","end","space-around","space-between","space-evenly"],dH=["top","middle","bottom"],pH=Vt({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:hH,default:"start"},align:{type:String,values:dH,default:"top"}}),vH=Xe({name:"ElRow"}),gH=Xe({...vH,props:pH,setup(t){const e=t,r=gt("row"),n=ce(()=>e.gutter);Qr(fE,{gutter:n});const i=ce(()=>{const o={};return e.gutter&&(o.marginRight=o.marginLeft=`-${e.gutter/2}px`),o}),a=ce(()=>[r.b(),r.is(`justify-${e.justify}`,e.justify!=="start"),r.is(`align-${e.align}`,e.align!=="top")]);return(o,s)=>(Ce(),At(Xn(o.tag),{class:Ge(X(a)),style:qr(X(i))},{default:yt(()=>[rt(o.$slots,"default")]),_:3},8,["class","style"]))}});var mH=Nt(gH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const fae=tn(mH),yH=Vt({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:ot([Number,Object]),default:()=>zo({})},sm:{type:ot([Number,Object]),default:()=>zo({})},md:{type:ot([Number,Object]),default:()=>zo({})},lg:{type:ot([Number,Object]),default:()=>zo({})},xl:{type:ot([Number,Object]),default:()=>zo({})}}),_H=Xe({name:"ElCol"}),bH=Xe({..._H,props:yH,setup(t){const e=t,{gutter:r}=Ht(fE,{gutter:ce(()=>0)}),n=gt("col"),i=ce(()=>{const o={};return r.value&&(o.paddingLeft=o.paddingRight=`${r.value/2}px`),o}),a=ce(()=>{const o=[];return["span","offset","pull","push"].forEach(l=>{const c=e[l];Ca(c)&&(l==="span"?o.push(n.b(`${e[l]}`)):c>0&&o.push(n.b(`${l}-${e[l]}`)))}),["xs","sm","md","lg","xl"].forEach(l=>{Ca(e[l])?o.push(n.b(`${l}-${e[l]}`)):Ta(e[l])&&Object.entries(e[l]).forEach(([c,h])=>{o.push(c!=="span"?n.b(`${l}-${c}-${h}`):n.b(`${l}-${h}`))})}),r.value&&o.push(n.is("guttered")),[n.b(),o]});return(o,s)=>(Ce(),At(Xn(o.tag),{class:Ge(X(a)),style:qr(X(i))},{default:yt(()=>[rt(o.$slots,"default")]),_:3},8,["class","style"]))}});var xH=Nt(bH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const hae=tn(xH),SH=Xe({name:"ElCollapseTransition"}),wH=Xe({...SH,setup(t){const e=gt("collapse-transition"),r={beforeEnter(n){n.dataset||(n.dataset={}),n.dataset.oldPaddingTop=n.style.paddingTop,n.dataset.oldPaddingBottom=n.style.paddingBottom,n.style.maxHeight=0,n.style.paddingTop=0,n.style.paddingBottom=0},enter(n){n.dataset.oldOverflow=n.style.overflow,n.scrollHeight!==0?(n.style.maxHeight=`${n.scrollHeight}px`,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom):(n.style.maxHeight=0,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom),n.style.overflow="hidden"},afterEnter(n){n.style.maxHeight="",n.style.overflow=n.dataset.oldOverflow},beforeLeave(n){n.dataset||(n.dataset={}),n.dataset.oldPaddingTop=n.style.paddingTop,n.dataset.oldPaddingBottom=n.style.paddingBottom,n.dataset.oldOverflow=n.style.overflow,n.style.maxHeight=`${n.scrollHeight}px`,n.style.overflow="hidden"},leave(n){n.scrollHeight!==0&&(n.style.maxHeight=0,n.style.paddingTop=0,n.style.paddingBottom=0)},afterLeave(n){n.style.maxHeight="",n.style.overflow=n.dataset.oldOverflow,n.style.paddingTop=n.dataset.oldPaddingTop,n.style.paddingBottom=n.dataset.oldPaddingBottom}};return(n,i)=>(Ce(),At(Tu,Kr({name:X(e).b()},qO(r)),{default:yt(()=>[rt(n.$slots,"default")]),_:3},16,["name"]))}});var yp=Nt(wH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);yp.install=t=>{t.component(yp.name,yp)};const TH=yp,CH=Xe({name:"ElContainer"}),AH=Xe({...CH,props:{direction:{type:String}},setup(t){const e=t,r=Ah(),n=gt("container"),i=ce(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:r&&r.default?r.default().some(o=>{const s=o.type.name;return s==="ElHeader"||s==="ElFooter"}):!1);return(a,o)=>(Ce(),Ve("section",{class:Ge([X(n).b(),X(n).is("vertical",X(i))])},[rt(a.$slots,"default")],2))}});var kH=Nt(AH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const EH=Xe({name:"ElAside"}),PH=Xe({...EH,props:{width:{type:String,default:null}},setup(t){const e=t,r=gt("aside"),n=ce(()=>e.width?r.cssVarBlock({width:e.width}):{});return(i,a)=>(Ce(),Ve("aside",{class:Ge(X(r).b()),style:qr(X(n))},[rt(i.$slots,"default")],6))}});var hE=Nt(PH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const DH=Xe({name:"ElFooter"}),MH=Xe({...DH,props:{height:{type:String,default:null}},setup(t){const e=t,r=gt("footer"),n=ce(()=>e.height?r.cssVarBlock({height:e.height}):{});return(i,a)=>(Ce(),Ve("footer",{class:Ge(X(r).b()),style:qr(X(n))},[rt(i.$slots,"default")],6))}});var dE=Nt(MH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const LH=Xe({name:"ElHeader"}),RH=Xe({...LH,props:{height:{type:String,default:null}},setup(t){const e=t,r=gt("header"),n=ce(()=>e.height?r.cssVarBlock({height:e.height}):{});return(i,a)=>(Ce(),Ve("header",{class:Ge(X(r).b()),style:qr(X(n))},[rt(i.$slots,"default")],6))}});var pE=Nt(RH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const OH=Xe({name:"ElMain"}),IH=Xe({...OH,setup(t){const e=gt("main");return(r,n)=>(Ce(),Ve("main",{class:Ge(X(e).b())},[rt(r.$slots,"default")],2))}});var vE=Nt(IH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const dae=tn(kH,{Aside:hE,Footer:dE,Header:pE,Main:vE});Da(hE);const pae=Da(dE),vae=Da(pE),gae=Da(vE),BH=Vt({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:ot([String,Array,Object])},zIndex:{type:ot([String,Number])}}),NH={click:t=>t instanceof MouseEvent},FH="overlay";var $H=Xe({name:"ElOverlay",props:BH,emits:NH,setup(t,{slots:e,emit:r}){const n=gt(FH),i=u=>{r("click",u)},{onClick:a,onMousedown:o,onMouseup:s}=FF(t.customMaskEvent?void 0:i);return()=>t.mask?ur("div",{class:[n.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:a,onMousedown:o,onMouseup:s},[rt(e,"default")],pp.STYLE|pp.CLASS|pp.PROPS,["onClick","onMouseup","onMousedown"]):vr("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[rt(e,"default")])}});const HH=$H,zH=Vt({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:va},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),UH=Vt({...zH,appendToBody:{type:Boolean,default:!1},beforeClose:{type:ot(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),VH={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[vu]:t=>kh(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},GH=(t,e)=>{const n=Ui().emit,{nextZIndex:i}=r_();let a="";const o=ah(),s=ah(),u=Ye(!1),l=Ye(!1),c=Ye(!1),h=Ye(t.zIndex||i());let f,p;const v=Gv("namespace",Yp),g=ce(()=>{const W={},z=`--${v.value}-dialog`;return t.fullscreen||(t.top&&(W[`${z}-margin-top`]=t.top),t.width&&(W[`${z}-width`]=th(t.width))),W}),m=ce(()=>t.alignCenter?{display:"flex"}:{});function _(){n("opened")}function b(){n("closed"),n(vu,!1),t.destroyOnClose&&(c.value=!1)}function w(){n("close")}function T(){p==null||p(),f==null||f(),t.openDelay&&t.openDelay>0?{stop:f}=Zf(()=>O(),t.openDelay):O()}function k(){f==null||f(),p==null||p(),t.closeDelay&&t.closeDelay>0?{stop:p}=Zf(()=>F(),t.closeDelay):F()}function A(){function W(z){z||(l.value=!0,u.value=!1)}t.beforeClose?t.beforeClose(W):k()}function D(){t.closeOnClickModal&&A()}function O(){Nr&&(u.value=!0)}function F(){u.value=!1}function $(){n("openAutoFocus")}function B(){n("closeAutoFocus")}function U(W){var z;((z=W.detail)==null?void 0:z.focusReason)==="pointer"&&W.preventDefault()}t.lockScroll&&M8(u);function H(){t.closeOnPressEscape&&A()}return xt(()=>t.modelValue,W=>{W?(l.value=!1,T(),c.value=!0,h.value=t.zIndex?h.value++:i(),fn(()=>{n("open"),e.value&&(e.value.scrollTop=0)})):u.value&&k()}),xt(()=>t.fullscreen,W=>{e.value&&(W?(a=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=a)}),Gr(()=>{t.modelValue&&(u.value=!0,c.value=!0,T())}),{afterEnter:_,afterLeave:b,beforeLeave:w,handleClose:A,onModalClick:D,close:k,doClose:F,onOpenAutoFocus:$,onCloseAutoFocus:B,onCloseRequested:H,onFocusoutPrevented:U,titleId:o,bodyId:s,closed:l,style:g,overlayDialogStyle:m,rendered:c,visible:u,zIndex:h}},jH=Vt({...UH,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),WH=VH,YH=Xe({name:"ElDrawer",components:{ElOverlay:HH,ElFocusTrap:eE,ElIcon:Wn,Close:G1},inheritAttrs:!1,props:jH,emits:WH,setup(t,{slots:e}){rh({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},ce(()=>!!e.title)),rh({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},ce(()=>!!t.customClass));const r=Ye(),n=Ye(),i=gt("drawer"),{t:a}=Eh(),o=ce(()=>t.direction==="rtl"||t.direction==="ltr"),s=ce(()=>th(t.size));return{...GH(t,r),drawerRef:r,focusStartRef:n,isHorizontal:o,drawerSize:s,ns:i,t:a}}}),XH=["aria-label","aria-labelledby","aria-describedby"],qH=["id"],KH=["aria-label"],ZH=["id"];function QH(t,e,r,n,i,a){const o=pf("close"),s=pf("el-icon"),u=pf("el-focus-trap"),l=pf("el-overlay");return Ce(),At(kA,{to:"body",disabled:!t.appendToBody},[ur(Tu,{name:t.ns.b("fade"),onAfterEnter:t.afterEnter,onAfterLeave:t.afterLeave,onBeforeLeave:t.beforeLeave,persisted:""},{default:yt(()=>[ss(ur(l,{mask:t.modal,"overlay-class":t.modalClass,"z-index":t.zIndex,onClick:t.onModalClick},{default:yt(()=>[ur(u,{loop:"",trapped:t.visible,"focus-trap-el":t.drawerRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:yt(()=>[pt("div",Kr({ref:"drawerRef","aria-modal":"true","aria-label":t.title||void 0,"aria-labelledby":t.title?void 0:t.titleId,"aria-describedby":t.bodyId},t.$attrs,{class:[t.ns.b(),t.direction,t.visible&&"open",t.customClass],style:t.isHorizontal?"width: "+t.drawerSize:"height: "+t.drawerSize,role:"dialog",onClick:e[1]||(e[1]=D1(()=>{},["stop"]))}),[pt("span",{ref:"focusStartRef",class:Ge(t.ns.e("sr-focus")),tabindex:"-1"},null,2),t.withHeader?(Ce(),Ve("header",{key:0,class:Ge(t.ns.e("header"))},[t.$slots.title?rt(t.$slots,"title",{key:1},()=>[vt(" DEPRECATED SLOT ")]):rt(t.$slots,"header",{key:0,close:t.handleClose,titleId:t.titleId,titleClass:t.ns.e("title")},()=>[t.$slots.title?vt("v-if",!0):(Ce(),Ve("span",{key:0,id:t.titleId,role:"heading",class:Ge(t.ns.e("title"))},Er(t.title),11,qH))]),t.showClose?(Ce(),Ve("button",{key:2,"aria-label":t.t("el.drawer.close"),class:Ge(t.ns.e("close-btn")),type:"button",onClick:e[0]||(e[0]=(...c)=>t.handleClose&&t.handleClose(...c))},[ur(s,{class:Ge(t.ns.e("close"))},{default:yt(()=>[ur(o)]),_:1},8,["class"])],10,KH)):vt("v-if",!0)],2)):vt("v-if",!0),t.rendered?(Ce(),Ve("div",{key:1,id:t.bodyId,class:Ge(t.ns.e("body"))},[rt(t.$slots,"default")],10,ZH)):vt("v-if",!0),t.$slots.footer?(Ce(),Ve("div",{key:2,class:Ge(t.ns.e("footer"))},[rt(t.$slots,"footer")],2)):vt("v-if",!0)],16,XH)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[wu,t.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var JH=Nt(YH,[["render",QH],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const mae=tn(JH);let ez=class{constructor(e,r){this.parent=e,this.domNode=r,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,r=>{r.addEventListener("keydown",n=>{let i=!1;switch(n.code){case xn.down:{this.gotoSubIndex(this.subIndex+1),i=!0;break}case xn.up:{this.gotoSubIndex(this.subIndex-1),i=!0;break}case xn.tab:{fp(e,"mouseleave");break}case xn.enter:case xn.space:{i=!0,n.currentTarget.click();break}}return i&&(n.preventDefault(),n.stopPropagation()),!1})})}},tz=class{constructor(e,r){this.domNode=e,this.submenu=null,this.submenu=null,this.init(r)}init(e){this.domNode.setAttribute("tabindex","0");const r=this.domNode.querySelector(`.${e}-menu`);r&&(this.submenu=new ez(this,r)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let r=!1;switch(e.code){case xn.down:{fp(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),r=!0;break}case xn.up:{fp(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),r=!0;break}case xn.tab:{fp(e.currentTarget,"mouseleave");break}case xn.enter:case xn.space:{r=!0,e.currentTarget.click();break}}r&&e.preventDefault()})}},rz=class{constructor(e,r){this.domNode=e,this.init(r)}init(e){const r=this.domNode.childNodes;Array.from(r).forEach(n=>{n.nodeType===1&&new tz(n,e)})}};const nz=Xe({name:"ElMenuCollapseTransition",setup(){const t=gt("menu");return{listeners:{onBeforeEnter:r=>r.style.opacity="0.2",onEnter(r,n){tu(r,`${t.namespace.value}-opacity-transition`),r.style.opacity="1",n()},onAfterEnter(r){qo(r,`${t.namespace.value}-opacity-transition`),r.style.opacity=""},onBeforeLeave(r){r.dataset||(r.dataset={}),By(r,t.m("collapse"))?(qo(r,t.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),tu(r,t.m("collapse"))):(tu(r,t.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),qo(r,t.m("collapse"))),r.style.width=`${r.scrollWidth}px`,r.style.overflow="hidden"},onLeave(r){tu(r,"horizontal-collapse-transition"),r.style.width=`${r.dataset.scrollWidth}px`}}}}});function iz(t,e,r,n,i,a){return Ce(),At(Tu,Kr({mode:"out-in"},t.listeners),{default:yt(()=>[rt(t.$slots,"default")]),_:3},16)}var az=Nt(nz,[["render",iz],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function gE(t,e){const r=ce(()=>{let i=t.parent;const a=[e.value];for(;i.type.name!=="ElMenu";)i.props.index&&a.unshift(i.props.index),i=i.parent;return a});return{parentMenu:ce(()=>{let i=t.parent;for(;i&&!["ElMenu","ElSubMenu"].includes(i.type.name);)i=i.parent;return i}),indexPath:r}}function oz(t){return ce(()=>{const r=t.backgroundColor;return r?new sE(r).shade(20).toString():""})}const mE=(t,e)=>{const r=gt("menu");return ce(()=>r.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":oz(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},sz=Vt({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:va},expandOpenIcon:{type:va},collapseCloseIcon:{type:va},collapseOpenIcon:{type:va}}),pd="ElSubMenu";var u_=Xe({name:pd,props:sz,setup(t,{slots:e,expose:r}){rh({from:"popper-append-to-body",replacement:"teleported",scope:pd,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},ce(()=>t.popperAppendToBody!==void 0));const n=Ui(),{indexPath:i,parentMenu:a}=gE(n,ce(()=>t.index)),o=gt("menu"),s=gt("sub-menu"),u=Ht("rootMenu");u||Yl(pd,"can not inject root menu");const l=Ht(`subMenu:${a.value.uid}`);l||Yl(pd,"can not inject sub menu");const c=Ye({}),h=Ye({});let f;const p=Ye(!1),v=Ye(),g=Ye(null),m=ce(()=>B.value==="horizontal"&&b.value?"bottom-start":"right-start"),_=ce(()=>B.value==="horizontal"&&b.value||B.value==="vertical"&&!u.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?A.value?t.expandOpenIcon:t.expandCloseIcon:WN:t.collapseCloseIcon&&t.collapseOpenIcon?A.value?t.collapseOpenIcon:t.collapseCloseIcon:QN),b=ce(()=>l.level===0),w=ce(()=>{var ae;const he=(ae=t.teleported)!=null?ae:t.popperAppendToBody;return he===void 0?b.value:he}),T=ce(()=>u.props.collapse?`${o.namespace.value}-zoom-in-left`:`${o.namespace.value}-zoom-in-top`),k=ce(()=>B.value==="horizontal"&&b.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),A=ce(()=>u.openedMenus.includes(t.index)),D=ce(()=>{let ae=!1;return Object.values(c.value).forEach(he=>{he.active&&(ae=!0)}),Object.values(h.value).forEach(he=>{he.active&&(ae=!0)}),ae}),O=ce(()=>u.props.backgroundColor||""),F=ce(()=>u.props.activeTextColor||""),$=ce(()=>u.props.textColor||""),B=ce(()=>u.props.mode),U=co({index:t.index,indexPath:i,active:D}),H=mE(u.props,l.level+1),W=ce(()=>B.value!=="horizontal"?{color:$.value}:{borderBottomColor:D.value?u.props.activeTextColor?F.value:"":"transparent",color:D.value?F.value:$.value}),z=()=>{var ae,he,pe;return(pe=(he=(ae=g.value)==null?void 0:ae.popperRef)==null?void 0:he.popperInstanceRef)==null?void 0:pe.destroy()},G=ae=>{ae||z()},Y=()=>{u.props.menuTrigger==="hover"&&u.props.mode==="horizontal"||u.props.collapse&&u.props.mode==="vertical"||t.disabled||u.handleSubMenuClick({index:t.index,indexPath:i.value,active:D.value})},Q=(ae,he=t.showTimeout)=>{var pe;ae.type!=="focus"&&(u.props.menuTrigger==="click"&&u.props.mode==="horizontal"||!u.props.collapse&&u.props.mode==="vertical"||t.disabled||(l.mouseInChild.value=!0,f==null||f(),{stop:f}=Zf(()=>{u.openMenu(t.index,i.value)},he),w.value&&((pe=a.value.vnode.el)==null||pe.dispatchEvent(new MouseEvent("mouseenter")))))},J=(ae=!1)=>{var he,pe;u.props.menuTrigger==="click"&&u.props.mode==="horizontal"||!u.props.collapse&&u.props.mode==="vertical"||(f==null||f(),l.mouseInChild.value=!1,{stop:f}=Zf(()=>!p.value&&u.closeMenu(t.index,i.value),t.hideTimeout),w.value&&ae&&((he=n.parent)==null?void 0:he.type.name)==="ElSubMenu"&&((pe=l.handleMouseleave)==null||pe.call(l,!0)))};xt(()=>u.props.collapse,ae=>G(!!ae));{const ae=pe=>{h.value[pe.index]=pe},he=pe=>{delete h.value[pe.index]};Qr(`subMenu:${n.uid}`,{addSubMenu:ae,removeSubMenu:he,handleMouseleave:J,mouseInChild:p,level:l.level+1})}return r({opened:A}),Gr(()=>{u.addSubMenu(U),l.addSubMenu(U)}),xi(()=>{l.removeSubMenu(U),u.removeSubMenu(U)}),()=>{var ae;const he=[(ae=e.title)==null?void 0:ae.call(e),vr(Wn,{class:s.e("icon-arrow"),style:{transform:A.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&u.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Tr(_.value)?vr(n.appContext.components[_.value]):vr(_.value)})],pe=u.isMenuPopup?vr(iE,{ref:g,visible:A.value,effect:"light",pure:!0,offset:t.popperOffset,showArrow:!1,persistent:!0,popperClass:t.popperClass,placement:m.value,teleported:w.value,fallbackPlacements:k.value,transition:T.value,gpuAcceleration:!1},{content:()=>{var Se;return vr("div",{class:[o.m(B.value),o.m("popup-container"),t.popperClass],onMouseenter:we=>Q(we,100),onMouseleave:()=>J(!0),onFocus:we=>Q(we,100)},[vr("ul",{class:[o.b(),o.m("popup"),o.m(`popup-${m.value}`)],style:H.value},[(Se=e.default)==null?void 0:Se.call(e)])])},default:()=>vr("div",{class:s.e("title"),style:[W.value,{backgroundColor:O.value}],onClick:Y},he)}):vr(Jr,{},[vr("div",{class:s.e("title"),style:[W.value,{backgroundColor:O.value}],ref:v,onClick:Y},he),vr(TH,{},{default:()=>{var Se;return ss(vr("ul",{role:"menu",class:[o.b(),o.m("inline")],style:H.value},[(Se=e.default)==null?void 0:Se.call(e)]),[[wu,A.value]])}})]);return vr("li",{class:[s.b(),s.is("active",D.value),s.is("opened",A.value),s.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:A.value,onMouseenter:Q,onMouseleave:()=>J(!0),onFocus:Q},[pe])}}});const uz=Vt({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:ot(Array),default:()=>zo([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),Zg=t=>Array.isArray(t)&&t.every(e=>Tr(e)),lz={close:(t,e)=>Tr(t)&&Zg(e),open:(t,e)=>Tr(t)&&Zg(e),select:(t,e,r,n)=>Tr(t)&&Zg(e)&&Ta(r)&&(n===void 0||n instanceof Promise)};var cz=Xe({name:"ElMenu",props:uz,emits:lz,setup(t,{emit:e,slots:r,expose:n}){const i=Ui(),a=i.appContext.config.globalProperties.$router,o=Ye(),s=gt("menu"),u=gt("sub-menu"),l=Ye(-1),c=Ye(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),h=Ye(t.defaultActive),f=Ye({}),p=Ye({}),v=ce(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),g=()=>{const B=h.value&&f.value[h.value];if(!B||t.mode==="horizontal"||t.collapse)return;B.indexPath.forEach(H=>{const W=p.value[H];W&&m(H,W.indexPath)})},m=(B,U)=>{c.value.includes(B)||(t.uniqueOpened&&(c.value=c.value.filter(H=>U.includes(H))),c.value.push(B),e("open",B,U))},_=B=>{const U=c.value.indexOf(B);U!==-1&&c.value.splice(U,1)},b=(B,U)=>{_(B),e("close",B,U)},w=({index:B,indexPath:U})=>{c.value.includes(B)?b(B,U):m(B,U)},T=B=>{(t.mode==="horizontal"||t.collapse)&&(c.value=[]);const{index:U,indexPath:H}=B;if(!(Wl(U)||Wl(H)))if(t.router&&a){const W=B.route||U,z=a.push(W).then(G=>(G||(h.value=U),G));e("select",U,H,{index:U,indexPath:H,route:W},z)}else h.value=U,e("select",U,H,{index:U,indexPath:H})},k=B=>{const U=f.value,H=U[B]||h.value&&U[h.value]||U[t.defaultActive];H?h.value=H.index:h.value=B},A=()=>{var B,U;if(!o.value)return-1;const H=Array.from((U=(B=o.value)==null?void 0:B.childNodes)!=null?U:[]).filter(ae=>ae.nodeName!=="#comment"&&(ae.nodeName!=="#text"||ae.nodeValue)),W=64,z=Number.parseInt(getComputedStyle(o.value).paddingLeft,10),G=Number.parseInt(getComputedStyle(o.value).paddingRight,10),Y=o.value.clientWidth-z-G;let Q=0,J=0;return H.forEach((ae,he)=>{Q+=ae.offsetWidth||0,Q<=Y-W&&(J=he+1)}),J===H.length?-1:J},D=(B,U=33.34)=>{let H;return()=>{H&&clearTimeout(H),H=setTimeout(()=>{B()},U)}};let O=!0;const F=()=>{const B=()=>{l.value=-1,fn(()=>{l.value=A()})};O?B():D(B)(),O=!1};xt(()=>t.defaultActive,B=>{f.value[B]||(h.value=""),k(B)}),xt(()=>t.collapse,B=>{B&&(c.value=[])}),xt(f.value,g);let $;KO(()=>{t.mode==="horizontal"&&t.ellipsis?$=Nv(o,F).stop:$==null||$()});{const B=z=>{p.value[z.index]=z},U=z=>{delete p.value[z.index]};Qr("rootMenu",co({props:t,openedMenus:c,items:f,subMenus:p,activeIndex:h,isMenuPopup:v,addMenuItem:z=>{f.value[z.index]=z},removeMenuItem:z=>{delete f.value[z.index]},addSubMenu:B,removeSubMenu:U,openMenu:m,closeMenu:b,handleMenuItemClick:T,handleSubMenuClick:w})),Qr(`subMenu:${i.uid}`,{addSubMenu:B,removeSubMenu:U,mouseInChild:Ye(!1),level:0})}return Gr(()=>{t.mode==="horizontal"&&new rz(i.vnode.el,s.namespace.value)}),n({open:U=>{const{indexPath:H}=p.value[U];H.forEach(W=>m(W,H))},close:_,handleResize:F}),()=>{var B,U;let H=(U=(B=r.default)==null?void 0:B.call(r))!=null?U:[];const W=[];if(t.mode==="horizontal"&&o.value){const Y=vp(H),Q=l.value===-1?Y:Y.slice(0,l.value),J=l.value===-1?[]:Y.slice(l.value);J!=null&&J.length&&t.ellipsis&&(H=Q,W.push(vr(u_,{index:"sub-menu-more",class:u.e("hide-arrow")},{title:()=>vr(Wn,{class:u.e("icon-more")},{default:()=>vr(q6)}),default:()=>J})))}const z=mE(t,0),G=vr("ul",{key:String(t.collapse),role:"menubar",ref:o,style:z.value,class:{[s.b()]:!0,[s.m(t.mode)]:!0,[s.m("collapse")]:t.collapse}},[...H,...W]);return t.collapseTransition&&t.mode==="vertical"?vr(az,()=>G):G}}});const fz=Vt({index:{type:ot([String,null]),default:null},route:{type:ot([String,Object])},disabled:Boolean}),hz={click:t=>Tr(t.index)&&Array.isArray(t.indexPath)},Qg="ElMenuItem",dz=Xe({name:Qg,components:{ElTooltip:iE},props:fz,emits:hz,setup(t,{emit:e}){const r=Ui(),n=Ht("rootMenu"),i=gt("menu"),a=gt("menu-item");n||Yl(Qg,"can not inject root menu");const{parentMenu:o,indexPath:s}=gE(r,Bi(t,"index")),u=Ht(`subMenu:${o.value.uid}`);u||Yl(Qg,"can not inject sub menu");const l=ce(()=>t.index===n.activeIndex),c=co({index:t.index,indexPath:s,active:l}),h=()=>{t.disabled||(n.handleMenuItemClick({index:t.index,indexPath:s.value,route:t.route}),e("click",c))};return Gr(()=>{u.addSubMenu(c),n.addMenuItem(c)}),xi(()=>{u.removeSubMenu(c),n.removeMenuItem(c)}),{parentMenu:o,rootMenu:n,active:l,nsMenu:i,nsMenuItem:a,handleClick:h}}});function pz(t,e,r,n,i,a){const o=pf("el-tooltip");return Ce(),Ve("li",{class:Ge([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:e[0]||(e[0]=(...s)=>t.handleClick&&t.handleClick(...s))},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(Ce(),At(o,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:yt(()=>[rt(t.$slots,"title")]),default:yt(()=>[pt("div",{class:Ge(t.nsMenu.be("tooltip","trigger"))},[rt(t.$slots,"default")],2)]),_:3},8,["effect"])):(Ce(),Ve(Jr,{key:1},[rt(t.$slots,"default"),rt(t.$slots,"title")],64))],2)}var yE=Nt(dz,[["render",pz],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const vz={title:String},gz="ElMenuItemGroup",mz=Xe({name:gz,props:vz,setup(){return{ns:gt("menu-item-group")}}});function yz(t,e,r,n,i,a){return Ce(),Ve("li",{class:Ge(t.ns.b())},[pt("div",{class:Ge(t.ns.e("title"))},[t.$slots.title?rt(t.$slots,"title",{key:1}):(Ce(),Ve(Jr,{key:0},[Ml(Er(t.title),1)],64))],2),pt("ul",null,[rt(t.$slots,"default")])],2)}var _E=Nt(mz,[["render",yz],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const xae=tn(cz,{MenuItem:yE,MenuItemGroup:_E,SubMenu:u_}),Sae=Da(yE);Da(_E);const wae=Da(u_),_z=Vt({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:ot(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:ot([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:ot(Function),default:t=>`${t}%`}}),bz=["aria-valuenow"],xz={viewBox:"0 0 100 100"},Sz=["d","stroke","stroke-width"],wz=["d","stroke","opacity","stroke-linecap","stroke-width"],Tz={key:0},Cz=Xe({name:"ElProgress"}),Az=Xe({...Cz,props:_z,setup(t){const e=t,r={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=gt("progress"),i=ce(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,backgroundColor:b(e.percentage)})),a=ce(()=>(e.strokeWidth/e.width*100).toFixed(1)),o=ce(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),s=ce(()=>{const w=o.value,T=e.type==="dashboard";return`
          M 50 50
          m 0 ${T?"":"-"}${w}
          a ${w} ${w} 0 1 1 0 ${T?"-":""}${w*2}
          a ${w} ${w} 0 1 1 0 ${T?"":"-"}${w*2}
          `}),u=ce(()=>2*Math.PI*o.value),l=ce(()=>e.type==="dashboard"?.75:1),c=ce(()=>`${-1*u.value*(1-l.value)/2}px`),h=ce(()=>({strokeDasharray:`${u.value*l.value}px, ${u.value}px`,strokeDashoffset:c.value})),f=ce(()=>({strokeDasharray:`${u.value*l.value*(e.percentage/100)}px, ${u.value}px`,strokeDashoffset:c.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),p=ce(()=>{let w;return e.color?w=b(e.percentage):w=r[e.status]||r.default,w}),v=ce(()=>e.status==="warning"?j1:e.type==="line"?e.status==="success"?pk:V1:e.status==="success"?i6:G1),g=ce(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),m=ce(()=>e.format(e.percentage));function _(w){const T=100/w.length;return w.map((A,D)=>Tr(A)?{color:A,percentage:(D+1)*T}:A).sort((A,D)=>A.percentage-D.percentage)}const b=w=>{var T;const{color:k}=e;if(pa(k))return k(w);if(Tr(k))return k;{const A=_(k);for(const D of A)if(D.percentage>w)return D.color;return(T=A[A.length-1])==null?void 0:T.color}};return(w,T)=>(Ce(),Ve("div",{class:Ge([X(n).b(),X(n).m(w.type),X(n).is(w.status),{[X(n).m("without-text")]:!w.showText,[X(n).m("text-inside")]:w.textInside}]),role:"progressbar","aria-valuenow":w.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[w.type==="line"?(Ce(),Ve("div",{key:0,class:Ge(X(n).b("bar"))},[pt("div",{class:Ge(X(n).be("bar","outer")),style:qr({height:`${w.strokeWidth}px`})},[pt("div",{class:Ge([X(n).be("bar","inner"),{[X(n).bem("bar","inner","indeterminate")]:w.indeterminate},{[X(n).bem("bar","inner","striped")]:w.striped},{[X(n).bem("bar","inner","striped-flow")]:w.stripedFlow}]),style:qr(X(i))},[(w.showText||w.$slots.default)&&w.textInside?(Ce(),Ve("div",{key:0,class:Ge(X(n).be("bar","innerText"))},[rt(w.$slots,"default",{percentage:w.percentage},()=>[pt("span",null,Er(X(m)),1)])],2)):vt("v-if",!0)],6)],6)],2)):(Ce(),Ve("div",{key:1,class:Ge(X(n).b("circle")),style:qr({height:`${w.width}px`,width:`${w.width}px`})},[(Ce(),Ve("svg",xz,[pt("path",{class:Ge(X(n).be("circle","track")),d:X(s),stroke:`var(${X(n).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":X(a),fill:"none",style:qr(X(h))},null,14,Sz),pt("path",{class:Ge(X(n).be("circle","path")),d:X(s),stroke:X(p),fill:"none",opacity:w.percentage?1:0,"stroke-linecap":w.strokeLinecap,"stroke-width":X(a),style:qr(X(f))},null,14,wz)]))],6)),(w.showText||w.$slots.default)&&!w.textInside?(Ce(),Ve("div",{key:2,class:Ge(X(n).e("text")),style:qr({fontSize:`${X(g)}px`})},[rt(w.$slots,"default",{percentage:w.percentage},()=>[w.status?(Ce(),At(X(Wn),{key:1},{default:yt(()=>[(Ce(),At(Xn(X(v))))]),_:1})):(Ce(),Ve("span",Tz,Er(X(m)),1))])],6)):vt("v-if",!0)],10,bz))}});var kz=Nt(Az,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const Tae=tn(kz),Ez=Vt({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),Pz=Vt({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),Dz=Xe({name:"ElSkeletonItem"}),Mz=Xe({...Dz,props:Pz,setup(t){const e=gt("skeleton");return(r,n)=>(Ce(),Ve("div",{class:Ge([X(e).e("item"),X(e).e(r.variant)])},[r.variant==="image"?(Ce(),At(X(t8),{key:0})):vt("v-if",!0)],2))}});var Kp=Nt(Mz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const Lz=Xe({name:"ElSkeleton"}),Rz=Xe({...Lz,props:Ez,setup(t,{expose:e}){const r=t,n=gt("skeleton"),i=$F(Bi(r,"loading"),r.throttle);return e({uiLoading:i}),(a,o)=>X(i)?(Ce(),Ve("div",Kr({key:0,class:[X(n).b(),X(n).is("animated",a.animated)]},a.$attrs),[(Ce(!0),Ve(Jr,null,Ll(a.count,s=>(Ce(),Ve(Jr,{key:s},[a.loading?rt(a.$slots,"template",{key:s},()=>[ur(Kp,{class:Ge(X(n).is("first")),variant:"p"},null,8,["class"]),(Ce(!0),Ve(Jr,null,Ll(a.rows,u=>(Ce(),At(Kp,{key:u,class:Ge([X(n).e("paragraph"),X(n).is("last",u===a.rows&&a.rows>1)]),variant:"p"},null,8,["class"]))),128))]):vt("v-if",!0)],64))),128))],16)):rt(a.$slots,"default",df(Kr({key:1},a.$attrs)))}});var Oz=Nt(Rz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const Cae=tn(Oz,{SkeletonItem:Kp}),Aae=Da(Kp),Iz=Vt({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Uv,default:""},truncated:{type:Boolean},tag:{type:String,default:"span"}}),Bz=Xe({name:"ElText"}),Nz=Xe({...Bz,props:Iz,setup(t){const e=t,r=Mh(),n=gt("text"),i=ce(()=>[n.b(),n.m(e.type),n.m(r.value),n.is("truncated",e.truncated)]);return(a,o)=>(Ce(),At(Xn(a.tag),{class:Ge(X(i))},{default:yt(()=>[rt(a.$slots,"default")]),_:3},8,["class"]))}});var Fz=Nt(Nz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/text/src/text.vue"]]);const kae=tn(Fz);function $z(t){let e;const r=Ye(!1),n=co({...t,originalPosition:"",originalOverflow:"",visible:!1});function i(f){n.text=f}function a(){const f=n.parent,p=h.ns;if(!f.vLoadingAddClassList){let v=f.getAttribute("loading-number");v=Number.parseInt(v)-1,v?f.setAttribute("loading-number",v.toString()):(qo(f,p.bm("parent","relative")),f.removeAttribute("loading-number")),qo(f,p.bm("parent","hidden"))}o(),c.unmount()}function o(){var f,p;(p=(f=h.$el)==null?void 0:f.parentNode)==null||p.removeChild(h.$el)}function s(){var f;t.beforeClose&&!t.beforeClose()||(r.value=!0,clearTimeout(e),e=window.setTimeout(u,400),n.visible=!1,(f=t.closed)==null||f.call(t))}function u(){if(!r.value)return;const f=n.parent;r.value=!1,f.vLoadingAddClassList=void 0,a()}const l=Xe({name:"ElLoading",setup(f,{expose:p}){const{ns:v,zIndex:g}=Gk("loading");return p({ns:v,zIndex:g}),()=>{const m=n.spinner||n.svg,_=vr("svg",{class:"circular",viewBox:n.svgViewBox?n.svgViewBox:"0 0 50 50",...m?{innerHTML:m}:{}},[vr("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),b=n.text?vr("p",{class:v.b("text")},[n.text]):void 0;return vr(Tu,{name:v.b("fade"),onAfterLeave:u},{default:yt(()=>[ss(ur("div",{style:{backgroundColor:n.background||""},class:[v.b("mask"),n.customClass,n.fullscreen?"is-fullscreen":""]},[vr("div",{class:v.b("spinner")},[_,b])]),[[wu,n.visible]])])})}}}),c=ZO(l),h=c.mount(document.createElement("div"));return{...P1(n),setText:i,removeElLoadingChild:o,close:s,handleAfterLeave:u,vm:h,get $el(){return h.$el}}}let vd;const Hz=function(t={}){if(!Nr)return;const e=zz(t);if(e.fullscreen&&vd)return vd;const r=$z({...e,closed:()=>{var i;(i=e.closed)==null||i.call(e),e.fullscreen&&(vd=void 0)}});Uz(e,e.parent,r),TS(e,e.parent,r),e.parent.vLoadingAddClassList=()=>TS(e,e.parent,r);let n=e.parent.getAttribute("loading-number");return n?n=`${Number.parseInt(n)+1}`:n="1",e.parent.setAttribute("loading-number",n),e.parent.appendChild(r.$el),fn(()=>r.visible.value=e.visible),e.fullscreen&&(vd=r),r},zz=t=>{var e,r,n,i;let a;return Tr(t.target)?a=(e=document.querySelector(t.target))!=null?e:document.body:a=t.target||document.body,{parent:a===document.body||t.body?document.body:a,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:a===document.body&&((r=t.fullscreen)!=null?r:!0),lock:(n=t.lock)!=null?n:!1,customClass:t.customClass||"",visible:(i=t.visible)!=null?i:!0,target:a}},Uz=async(t,e,r)=>{const{nextZIndex:n}=r.vm.zIndex||r.vm._.exposed.zIndex,i={};if(t.fullscreen)r.originalPosition.value=pl(document.body,"position"),r.originalOverflow.value=pl(document.body,"overflow"),i.zIndex=n();else if(t.parent===document.body){r.originalPosition.value=pl(document.body,"position"),await fn();for(const a of["top","left"]){const o=a==="top"?"scrollTop":"scrollLeft";i[a]=`${t.target.getBoundingClientRect()[a]+document.body[o]+document.documentElement[o]-Number.parseInt(pl(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])i[a]=`${t.target.getBoundingClientRect()[a]}px`}else r.originalPosition.value=pl(e,"position");for(const[a,o]of Object.entries(i))r.$el.style[a]=o},TS=(t,e,r)=>{const n=r.vm.ns||r.vm._.exposed.ns;["absolute","fixed","sticky"].includes(r.originalPosition.value)?qo(e,n.bm("parent","relative")):tu(e,n.bm("parent","relative")),t.fullscreen&&t.lock?tu(e,n.bm("parent","hidden")):qo(e,n.bm("parent","hidden"))},jy=Symbol("ElLoading"),CS=(t,e)=>{var r,n,i,a;const o=e.instance,s=f=>Ta(e.value)?e.value[f]:void 0,u=f=>{const p=Tr(f)&&(o==null?void 0:o[f])||f;return p&&Ye(p)},l=f=>u(s(f)||t.getAttribute(`element-loading-${QO(f)}`)),c=(r=s("fullscreen"))!=null?r:e.modifiers.fullscreen,h={text:l("text"),svg:l("svg"),svgViewBox:l("svgViewBox"),spinner:l("spinner"),background:l("background"),customClass:l("customClass"),fullscreen:c,target:(n=s("target"))!=null?n:c?void 0:t,body:(i=s("body"))!=null?i:e.modifiers.body,lock:(a=s("lock"))!=null?a:e.modifiers.lock};t[jy]={options:h,instance:Hz(h)}},Vz=(t,e)=>{for(const r of Object.keys(e))E1(e[r])&&(e[r].value=t[r])},Eae={mounted(t,e){e.value&&CS(t,e)},updated(t,e){const r=t[jy];e.oldValue!==e.value&&(e.value&&!e.oldValue?CS(t,e):e.value&&e.oldValue?Ta(e.value)&&Vz(e.value,r.options):r==null||r.instance.close())},unmounted(t){var e;(e=t[jy])==null||e.instance.close()}},bE=["success","info","warning","error"],Dn=zo({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Nr?document.body:void 0}),Gz=Vt({customClass:{type:String,default:Dn.customClass},center:{type:Boolean,default:Dn.center},dangerouslyUseHTMLString:{type:Boolean,default:Dn.dangerouslyUseHTMLString},duration:{type:Number,default:Dn.duration},icon:{type:va,default:Dn.icon},id:{type:String,default:Dn.id},message:{type:ot([String,Object,Function]),default:Dn.message},onClose:{type:ot(Function),required:!1},showClose:{type:Boolean,default:Dn.showClose},type:{type:String,values:bE,default:Dn.type},offset:{type:Number,default:Dn.offset},zIndex:{type:Number,default:Dn.zIndex},grouping:{type:Boolean,default:Dn.grouping},repeatNum:{type:Number,default:Dn.repeatNum}}),jz={destroy:()=>!0},Ni=JO([]),Wz=t=>{const e=Ni.findIndex(i=>i.id===t),r=Ni[e];let n;return e>0&&(n=Ni[e-1]),{current:r,prev:n}},Yz=t=>{const{prev:e}=Wz(t);return e?e.vm.exposed.bottom.value:0},Xz=(t,e)=>Ni.findIndex(n=>n.id===t)>0?20:e,qz=["id"],Kz=["innerHTML"],Zz=Xe({name:"ElMessage"}),Qz=Xe({...Zz,props:Gz,emits:jz,setup(t,{expose:e}){const r=t,{Close:n}=_8,{ns:i,zIndex:a}=Gk("message"),{currentZIndex:o,nextZIndex:s}=a,u=Ye(),l=Ye(!1),c=Ye(0);let h;const f=ce(()=>r.type?r.type==="error"?"danger":r.type:"info"),p=ce(()=>{const D=r.type;return{[i.bm("icon",D)]:D&&Ux[D]}}),v=ce(()=>r.icon||Ux[r.type]||""),g=ce(()=>Yz(r.id)),m=ce(()=>Xz(r.id,r.offset)+g.value),_=ce(()=>c.value+m.value),b=ce(()=>({top:`${m.value}px`,zIndex:o.value}));function w(){r.duration!==0&&({stop:h}=Zf(()=>{k()},r.duration))}function T(){h==null||h()}function k(){l.value=!1}function A({code:D}){D===xn.esc&&k()}return Gr(()=>{w(),s(),l.value=!0}),xt(()=>r.repeatNum,()=>{T(),w()}),hp(document,"keydown",A),Nv(u,()=>{c.value=u.value.getBoundingClientRect().height}),e({visible:l,bottom:_,close:k}),(D,O)=>(Ce(),At(Tu,{name:X(i).b("fade"),onBeforeLeave:D.onClose,onAfterLeave:O[0]||(O[0]=F=>D.$emit("destroy")),persisted:""},{default:yt(()=>[ss(pt("div",{id:D.id,ref_key:"messageRef",ref:u,class:Ge([X(i).b(),{[X(i).m(D.type)]:D.type&&!D.icon},X(i).is("center",D.center),X(i).is("closable",D.showClose),D.customClass]),style:qr(X(b)),role:"alert",onMouseenter:T,onMouseleave:w},[D.repeatNum>1?(Ce(),At(X(d7),{key:0,value:D.repeatNum,type:X(f),class:Ge(X(i).e("badge"))},null,8,["value","type","class"])):vt("v-if",!0),X(v)?(Ce(),At(X(Wn),{key:1,class:Ge([X(i).e("icon"),X(p)])},{default:yt(()=>[(Ce(),At(Xn(X(v))))]),_:1},8,["class"])):vt("v-if",!0),rt(D.$slots,"default",{},()=>[D.dangerouslyUseHTMLString?(Ce(),Ve(Jr,{key:1},[vt(" Caution here, message could've been compromised, never use user's input as message "),pt("p",{class:Ge(X(i).e("content")),innerHTML:D.message},null,10,Kz)],2112)):(Ce(),Ve("p",{key:0,class:Ge(X(i).e("content"))},Er(D.message),3))]),D.showClose?(Ce(),At(X(Wn),{key:2,class:Ge(X(i).e("closeBtn")),onClick:D1(k,["stop"])},{default:yt(()=>[ur(X(n))]),_:1},8,["class","onClick"])):vt("v-if",!0)],46,qz),[[wu,l.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Jz=Nt(Qz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let eU=1;const xE=t=>{const e=!t||Tr(t)||Vp(t)||pa(t)?{message:t}:t,r={...Dn,...e};if(!r.appendTo)r.appendTo=document.body;else if(Tr(r.appendTo)){let n=document.querySelector(r.appendTo);eh(n)||(n=document.body),r.appendTo=n}return r},tU=t=>{const e=Ni.indexOf(t);if(e===-1)return;Ni.splice(e,1);const{handler:r}=t;r.close()},rU=({appendTo:t,...e},r)=>{const n=`message_${eU++}`,i=e.onClose,a=document.createElement("div"),o={...e,id:n,onClose:()=>{i==null||i(),tU(c)},onDestroy:()=>{Gb(null,a)}},s=ur(Jz,o,pa(o.message)||Vp(o.message)?{default:pa(o.message)?o.message:()=>o.message}:null);s.appContext=r||Jl._context,Gb(s,a),t.appendChild(a.firstElementChild);const u=s.component,c={id:n,vnode:s,vm:u,handler:{close:()=>{u.exposed.visible.value=!1}},props:s.component.props};return c},Jl=(t={},e)=>{if(!Nr)return{close:()=>{}};if(Ca(nS.max)&&Ni.length>=nS.max)return{close:()=>{}};const r=xE(t);if(r.grouping&&Ni.length){const i=Ni.find(({vnode:a})=>{var o;return((o=a.props)==null?void 0:o.message)===r.message});if(i)return i.props.repeatNum+=1,i.props.type=r.type,i.handler}const n=rU(r,e);return Ni.push(n),n.handler};bE.forEach(t=>{Jl[t]=(e={},r)=>{const n=xE(e);return Jl({...n,type:t},r)}});function nU(t){for(const e of Ni)(!t||t===e.props.type)&&e.handler.close()}Jl.closeAll=nU;Jl._context=null;const Pae=x8(Jl,"$message");let SE=!0,wE=!0;function _p(t,e,r){const n=t.match(e);return n&&n.length>=r&&parseInt(n[r],10)}function Eu(t,e,r){if(!t.RTCPeerConnection)return;const n=t.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(o,s){if(o!==e)return i.apply(this,arguments);const u=l=>{const c=r(l);c&&(s.handleEvent?s.handleEvent(c):s(c))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(s,u),i.apply(this,[o,u])};const a=n.removeEventListener;n.removeEventListener=function(o,s){if(o!==e||!this._eventMap||!this._eventMap[e])return a.apply(this,arguments);if(!this._eventMap[e].has(s))return a.apply(this,arguments);const u=this._eventMap[e].get(s);return this._eventMap[e].delete(s),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,a.apply(this,[o,u])},Object.defineProperty(n,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function iU(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(SE=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function aU(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(wE=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function TE(){if(typeof window=="object"){if(SE)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function l_(t,e){wE&&console.warn(t+" is deprecated, please use "+e+" instead.")}function oU(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator)return e.browser="Not a browser.",e;const{navigator:r}=t;if(r.mozGetUserMedia)e.browser="firefox",e.version=_p(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=_p(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.RTCPeerConnection&&r.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=_p(r.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function AS(t){return Object.prototype.toString.call(t)==="[object Object]"}function CE(t){return AS(t)?Object.keys(t).reduce(function(e,r){const n=AS(t[r]),i=n?CE(t[r]):t[r],a=n&&!Object.keys(i).length;return i===void 0||a?e:Object.assign(e,{[r]:i})},{}):t}function Wy(t,e,r){!e||r.has(e.id)||(r.set(e.id,e),Object.keys(e).forEach(n=>{n.endsWith("Id")?Wy(t,t.get(e[n]),r):n.endsWith("Ids")&&e[n].forEach(i=>{Wy(t,t.get(i),r)})}))}function kS(t,e,r){const n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const a=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&a.push(o)}),a.forEach(o=>{t.forEach(s=>{s.type===n&&s.trackId===o.id&&Wy(t,s,i)})}),i}const ES=TE;function AE(t,e){const r=t&&t.navigator;if(!r.mediaDevices)return;const n=function(s){if(typeof s!="object"||s.mandatory||s.optional)return s;const u={};return Object.keys(s).forEach(l=>{if(l==="require"||l==="advanced"||l==="mediaSource")return;const c=typeof s[l]=="object"?s[l]:{ideal:s[l]};c.exact!==void 0&&typeof c.exact=="number"&&(c.min=c.max=c.exact);const h=function(f,p){return f?f+p.charAt(0).toUpperCase()+p.slice(1):p==="deviceId"?"sourceId":p};if(c.ideal!==void 0){u.optional=u.optional||[];let f={};typeof c.ideal=="number"?(f[h("min",l)]=c.ideal,u.optional.push(f),f={},f[h("max",l)]=c.ideal,u.optional.push(f)):(f[h("",l)]=c.ideal,u.optional.push(f))}c.exact!==void 0&&typeof c.exact!="number"?(u.mandatory=u.mandatory||{},u.mandatory[h("",l)]=c.exact):["min","max"].forEach(f=>{c[f]!==void 0&&(u.mandatory=u.mandatory||{},u.mandatory[h(f,l)]=c[f])})}),s.advanced&&(u.optional=(u.optional||[]).concat(s.advanced)),u},i=function(s,u){if(e.version>=61)return u(s);if(s=JSON.parse(JSON.stringify(s)),s&&typeof s.audio=="object"){const l=function(c,h,f){h in c&&!(f in c)&&(c[f]=c[h],delete c[h])};s=JSON.parse(JSON.stringify(s)),l(s.audio,"autoGainControl","googAutoGainControl"),l(s.audio,"noiseSuppression","googNoiseSuppression"),s.audio=n(s.audio)}if(s&&typeof s.video=="object"){let l=s.video.facingMode;l=l&&(typeof l=="object"?l:{ideal:l});const c=e.version<66;if(l&&(l.exact==="user"||l.exact==="environment"||l.ideal==="user"||l.ideal==="environment")&&!(r.mediaDevices.getSupportedConstraints&&r.mediaDevices.getSupportedConstraints().facingMode&&!c)){delete s.video.facingMode;let h;if(l.exact==="environment"||l.ideal==="environment"?h=["back","rear"]:(l.exact==="user"||l.ideal==="user")&&(h=["front"]),h)return r.mediaDevices.enumerateDevices().then(f=>{f=f.filter(v=>v.kind==="videoinput");let p=f.find(v=>h.some(g=>v.label.toLowerCase().includes(g)));return!p&&f.length&&h.includes("back")&&(p=f[f.length-1]),p&&(s.video.deviceId=l.exact?{exact:p.deviceId}:{ideal:p.deviceId}),s.video=n(s.video),ES("chrome: "+JSON.stringify(s)),u(s)})}s.video=n(s.video)}return ES("chrome: "+JSON.stringify(s)),u(s)},a=function(s){return e.version>=64?s:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[s.name]||s.name,message:s.message,constraint:s.constraint||s.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(s,u,l){i(s,c=>{r.webkitGetUserMedia(c,u,h=>{l&&l(a(h))})})};if(r.getUserMedia=o.bind(r),r.mediaDevices.getUserMedia){const s=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(u){return i(u,l=>s(l).then(c=>{if(l.audio&&!c.getAudioTracks().length||l.video&&!c.getVideoTracks().length)throw c.getTracks().forEach(h=>{h.stop()}),new DOMException("","NotFoundError");return c},c=>Promise.reject(a(c))))}}}function sU(t,e){if(!(t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices)&&t.navigator.mediaDevices){if(typeof e!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}t.navigator.mediaDevices.getDisplayMedia=function(n){return e(n).then(i=>{const a=n.video&&n.video.width,o=n.video&&n.video.height,s=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:s||3}},a&&(n.video.mandatory.maxWidth=a),o&&(n.video.mandatory.maxHeight=o),t.navigator.mediaDevices.getUserMedia(n)})}}}function kE(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function EE(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(r){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=r)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",i=>{let a;t.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(s=>s.track&&s.track.id===i.track.id):a={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=a,o.transceiver={receiver:a},o.streams=[n.stream],this.dispatchEvent(o)}),n.stream.getTracks().forEach(i=>{let a;t.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(s=>s.track&&s.track.id===i.id):a={track:i};const o=new Event("track");o.track=i,o.receiver=a,o.transceiver={receiver:a},o.streams=[n.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Eu(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function PE(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,a){return{track:a,get dtmf(){return this._dtmf===void 0&&(a.kind==="audio"?this._dtmf=i.createDTMFSender(a):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(s,u){let l=i.apply(this,arguments);return l||(l=e(this,s),this._senders.push(l)),l};const a=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(s){a.apply(this,arguments);const u=this._senders.indexOf(s);u!==-1&&this._senders.splice(u,1)}}const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(a){this._senders=this._senders||[],r.apply(this,[a]),a.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const n=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(a){this._senders=this._senders||[],n.apply(this,[a]),a.getTracks().forEach(o=>{const s=this._senders.find(u=>u.track===o);s&&this._senders.splice(this._senders.indexOf(s),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function DE(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[n,i,a]=arguments;if(arguments.length>0&&typeof n=="function")return e.apply(this,arguments);if(e.length===0&&(arguments.length===0||typeof n!="function"))return e.apply(this,[]);const o=function(u){const l={};return u.result().forEach(h=>{const f={id:h.id,timestamp:h.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[h.type]||h.type};h.names().forEach(p=>{f[p]=h.stat(p)}),l[f.id]=f}),l},s=function(u){return new Map(Object.keys(u).map(l=>[l,u[l]]))};if(arguments.length>=2){const u=function(l){i(s(o(l)))};return e.apply(this,[u,n])}return new Promise((u,l)=>{e.apply(this,[function(c){u(s(o(c)))},l])}).then(i,a)}}function ME(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const r=t.RTCPeerConnection.prototype.getSenders;r&&(t.RTCPeerConnection.prototype.getSenders=function(){const a=r.apply(this,[]);return a.forEach(o=>o._pc=this),a});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const a=n.apply(this,arguments);return a._pc=this,a}),t.RTCRtpSender.prototype.getStats=function(){const a=this;return this._pc.getStats().then(o=>kS(o,a.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const r=t.RTCPeerConnection.prototype.getReceivers;r&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=r.apply(this,[]);return i.forEach(a=>a._pc=this),i}),Eu(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(a=>kS(a,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const n=arguments[0];let i,a,o;return this.getSenders().forEach(s=>{s.track===n&&(i?o=!0:i=s)}),this.getReceivers().forEach(s=>(s.track===n&&(a?o=!0:a=s),s.track===n)),o||i&&a?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():a?a.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function LE(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,s){if(!s)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const u=e.apply(this,arguments);return this._shimmedLocalStreams[s.id]?this._shimmedLocalStreams[s.id].indexOf(u)===-1&&this._shimmedLocalStreams[s.id].push(u):this._shimmedLocalStreams[s.id]=[s,u],u};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(l=>{if(this.getSenders().find(h=>h.track===l))throw new DOMException("Track already exists.","InvalidAccessError")});const s=this.getSenders();r.apply(this,arguments);const u=this.getSenders().filter(l=>s.indexOf(l)===-1);this._shimmedLocalStreams[o.id]=[o].concat(u)};const n=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],n.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(s=>{const u=this._shimmedLocalStreams[s].indexOf(o);u!==-1&&this._shimmedLocalStreams[s].splice(u,1),this._shimmedLocalStreams[s].length===1&&delete this._shimmedLocalStreams[s]}),i.apply(this,arguments)}}function RE(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return LE(t);const r=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const c=r.apply(this);return this._reverseStreams=this._reverseStreams||{},c.map(h=>this._reverseStreams[h.id])};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(c){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},c.getTracks().forEach(h=>{if(this.getSenders().find(p=>p.track===h))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[c.id]){const h=new t.MediaStream(c.getTracks());this._streams[c.id]=h,this._reverseStreams[h.id]=c,c=h}n.apply(this,[c])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(c){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[c.id]||c]),delete this._reverseStreams[this._streams[c.id]?this._streams[c.id].id:c.id],delete this._streams[c.id]},t.RTCPeerConnection.prototype.addTrack=function(c,h){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const f=[].slice.call(arguments,1);if(f.length!==1||!f[0].getTracks().find(g=>g===c))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(g=>g.track===c))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const v=this._streams[h.id];if(v)v.addTrack(c),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const g=new t.MediaStream([c]);this._streams[h.id]=g,this._reverseStreams[g.id]=h,this.addStream(g)}return this.getSenders().find(g=>g.track===c)};function a(l,c){let h=c.sdp;return Object.keys(l._reverseStreams||[]).forEach(f=>{const p=l._reverseStreams[f],v=l._streams[p.id];h=h.replace(new RegExp(v.id,"g"),p.id)}),new RTCSessionDescription({type:c.type,sdp:h})}function o(l,c){let h=c.sdp;return Object.keys(l._reverseStreams||[]).forEach(f=>{const p=l._reverseStreams[f],v=l._streams[p.id];h=h.replace(new RegExp(p.id,"g"),v.id)}),new RTCSessionDescription({type:c.type,sdp:h})}["createOffer","createAnswer"].forEach(function(l){const c=t.RTCPeerConnection.prototype[l],h={[l](){const f=arguments;return arguments.length&&typeof arguments[0]=="function"?c.apply(this,[v=>{const g=a(this,v);f[0].apply(null,[g])},v=>{f[1]&&f[1].apply(null,v)},arguments[2]]):c.apply(this,arguments).then(v=>a(this,v))}};t.RTCPeerConnection.prototype[l]=h[l]});const s=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?s.apply(this,arguments):(arguments[0]=o(this,arguments[0]),s.apply(this,arguments))};const u=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const l=u.get.apply(this);return l.type===""?l:a(this,l)}}),t.RTCPeerConnection.prototype.removeTrack=function(c){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!c._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(c._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let f;Object.keys(this._streams).forEach(p=>{this._streams[p].getTracks().find(g=>c.track===g)&&(f=this._streams[p])}),f&&(f.getTracks().length===1?this.removeStream(this._reverseStreams[f.id]):f.removeTrack(c.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Yy(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const n=t.RTCPeerConnection.prototype[r],i={[r](){return arguments[0]=new(r==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};t.RTCPeerConnection.prototype[r]=i[r]})}function OE(t,e){Eu(t,"negotiationneeded",r=>{const n=r.target;if(!((e.version<72||n.getConfiguration&&n.getConfiguration().sdpSemantics==="plan-b")&&n.signalingState!=="stable"))return r})}const PS=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:OE,shimAddTrackRemoveTrack:RE,shimAddTrackRemoveTrackWithNative:LE,shimGetDisplayMedia:sU,shimGetSendersWithDtmf:PE,shimGetStats:DE,shimGetUserMedia:AE,shimMediaStream:kE,shimOnTrack:EE,shimPeerConnection:Yy,shimSenderReceiverGetStats:ME},Symbol.toStringTag,{value:"Module"}));function IE(t,e){const r=t&&t.navigator,n=t&&t.MediaStreamTrack;if(r.getUserMedia=function(i,a,o){l_("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(i).then(a,o)},!(e.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const i=function(o,s,u){s in o&&!(u in o)&&(o[u]=o[s],delete o[s])},a=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),a(o)},n&&n.prototype.getSettings){const o=n.prototype.getSettings;n.prototype.getSettings=function(){const s=o.apply(this,arguments);return i(s,"mozAutoGainControl","autoGainControl"),i(s,"mozNoiseSuppression","noiseSuppression"),s}}if(n&&n.prototype.applyConstraints){const o=n.prototype.applyConstraints;n.prototype.applyConstraints=function(s){return this.kind==="audio"&&typeof s=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s,"autoGainControl","mozAutoGainControl"),i(s,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[s])}}}}function uU(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return n.video===!0?n.video={mediaSource:e}:n.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(n)})}function BE(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Xy(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const a=t.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),a.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=o[i]});const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[a,o,s]=arguments;return n.apply(this,[a||null]).then(u=>{if(e.version<53&&!o)try{u.forEach(l=>{l.type=r[l.type]||l.type})}catch(l){if(l.name!=="TypeError")throw l;u.forEach((c,h)=>{u.set(h,Object.assign({},c,{type:r[c.type]||c.type}))})}return u}).then(o,s)}}function NE(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(a=>a._pc=this),i});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function FE(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const n=e.apply(this,[]);return n.forEach(i=>i._pc=this),n}),Eu(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function $E(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(r){l_("removeStream","removeTrack"),this.getSenders().forEach(n=>{n.track&&r.getTracks().includes(n.track)&&this.removeTrack(n)})})}function HE(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function zE(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let n=arguments[1]&&arguments[1].sendEncodings;n===void 0&&(n=[]),n=[...n];const i=n.length>0;i&&n.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const a=e.apply(this,arguments);if(i){const{sender:o}=a,s=o.getParameters();(!("encodings"in s)||s.encodings.length===1&&Object.keys(s.encodings[0]).length===0)&&(s.encodings=n,o.sendEncodings=n,this.setParametersPromises.push(o.setParameters(s).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return a})}function UE(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const n=e.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function VE(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function GE(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const DS=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:zE,shimCreateAnswer:GE,shimCreateOffer:VE,shimGetDisplayMedia:uU,shimGetParameters:UE,shimGetUserMedia:IE,shimOnTrack:BE,shimPeerConnection:Xy,shimRTCDataChannel:HE,shimReceiverGetStats:FE,shimRemoveStream:$E,shimSenderGetStats:NE},Symbol.toStringTag,{value:"Module"}));function jE(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(n){this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(i=>e.call(this,i,n)),n.getVideoTracks().forEach(i=>e.call(this,i,n))},t.RTCPeerConnection.prototype.addTrack=function(n,...i){return i&&i.forEach(a=>{this._localStreams?this._localStreams.includes(a)||this._localStreams.push(a):this._localStreams=[a]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(r){this._localStreams||(this._localStreams=[]);const n=this._localStreams.indexOf(r);if(n===-1)return;this._localStreams.splice(n,1);const i=r.getTracks();this.getSenders().forEach(a=>{i.includes(a.track)&&this.removeTrack(a)})})}}function WE(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(r){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=r),this.addEventListener("track",this._onaddstreampoly=n=>{n.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const a=new Event("addstream");a.stream=i,this.dispatchEvent(a)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(a=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(a)>=0)return;n._remoteStreams.push(a);const o=new Event("addstream");o.stream=a,n.dispatchEvent(o)})}),e.apply(n,arguments)}}}function YE(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,r=e.createOffer,n=e.createAnswer,i=e.setLocalDescription,a=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(l,c){const h=arguments.length>=2?arguments[2]:arguments[0],f=r.apply(this,[h]);return c?(f.then(l,c),Promise.resolve()):f},e.createAnswer=function(l,c){const h=arguments.length>=2?arguments[2]:arguments[0],f=n.apply(this,[h]);return c?(f.then(l,c),Promise.resolve()):f};let s=function(u,l,c){const h=i.apply(this,[u]);return c?(h.then(l,c),Promise.resolve()):h};e.setLocalDescription=s,s=function(u,l,c){const h=a.apply(this,[u]);return c?(h.then(l,c),Promise.resolve()):h},e.setRemoteDescription=s,s=function(u,l,c){const h=o.apply(this,[u]);return c?(h.then(l,c),Promise.resolve()):h},e.addIceCandidate=s}function XE(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const r=e.mediaDevices,n=r.getUserMedia.bind(r);e.mediaDevices.getUserMedia=i=>n(qE(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=function(n,i,a){e.mediaDevices.getUserMedia(n).then(i,a)}.bind(e))}function qE(t){return t&&t.video!==void 0?Object.assign({},t,{video:CE(t.video)}):t}function KE(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(n,i){if(n&&n.iceServers){const a=[];for(let o=0;o<n.iceServers.length;o++){let s=n.iceServers[o];s.urls===void 0&&s.url?(l_("RTCIceServer.url","RTCIceServer.urls"),s=JSON.parse(JSON.stringify(s)),s.urls=s.url,delete s.url,a.push(s)):a.push(n.iceServers[o])}n.iceServers=a}return new e(n,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function ZE(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function QE(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):n.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);const a=this.getTransceivers().find(o=>o.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):n.offerToReceiveVideo===!0&&!a&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function JE(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const MS=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:JE,shimCallbacksAPI:YE,shimConstraints:qE,shimCreateOfferLegacy:QE,shimGetUserMedia:XE,shimLocalStreamsAPI:jE,shimRTCIceServerUrls:KE,shimRemoteStreamsAPI:WE,shimTrackEventTransceiver:ZE},Symbol.toStringTag,{value:"Module"}));var eP={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(r){return r.trim().split(`
`).map(n=>n.trim())},e.splitSections=function(r){return r.split(`
m=`).map((i,a)=>(a>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(r){const n=e.splitSections(r);return n&&n[0]},e.getMediaSections=function(r){const n=e.splitSections(r);return n.shift(),n},e.matchPrefix=function(r,n){return e.splitLines(r).filter(i=>i.indexOf(n)===0)},e.parseCandidate=function(r){let n;r.indexOf("a=candidate:")===0?n=r.substring(12).split(" "):n=r.substring(10).split(" ");const i={foundation:n[0],component:{1:"rtp",2:"rtcp"}[n[1]]||n[1],protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]};for(let a=8;a<n.length;a+=2)switch(n[a]){case"raddr":i.relatedAddress=n[a+1];break;case"rport":i.relatedPort=parseInt(n[a+1],10);break;case"tcptype":i.tcpType=n[a+1];break;case"ufrag":i.ufrag=n[a+1],i.usernameFragment=n[a+1];break;default:i[n[a]]===void 0&&(i[n[a]]=n[a+1]);break}return i},e.writeCandidate=function(r){const n=[];n.push(r.foundation);const i=r.component;i==="rtp"?n.push(1):i==="rtcp"?n.push(2):n.push(i),n.push(r.protocol.toUpperCase()),n.push(r.priority),n.push(r.address||r.ip),n.push(r.port);const a=r.type;return n.push("typ"),n.push(a),a!=="host"&&r.relatedAddress&&r.relatedPort&&(n.push("raddr"),n.push(r.relatedAddress),n.push("rport"),n.push(r.relatedPort)),r.tcpType&&r.protocol.toLowerCase()==="tcp"&&(n.push("tcptype"),n.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(n.push("ufrag"),n.push(r.usernameFragment||r.ufrag)),"candidate:"+n.join(" ")},e.parseIceOptions=function(r){return r.substring(14).split(" ")},e.parseRtpMap=function(r){let n=r.substring(9).split(" ");const i={payloadType:parseInt(n.shift(),10)};return n=n[0].split("/"),i.name=n[0],i.clockRate=parseInt(n[1],10),i.channels=n.length===3?parseInt(n[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(r){let n=r.payloadType;r.preferredPayloadType!==void 0&&(n=r.preferredPayloadType);const i=r.channels||r.numChannels||1;return"a=rtpmap:"+n+" "+r.name+"/"+r.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(r){const n=r.substring(9).split(" ");return{id:parseInt(n[0],10),direction:n[0].indexOf("/")>0?n[0].split("/")[1]:"sendrecv",uri:n[1],attributes:n.slice(2).join(" ")}},e.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&r.direction!=="sendrecv"?"/"+r.direction:"")+" "+r.uri+(r.attributes?" "+r.attributes:"")+`\r
`},e.parseFmtp=function(r){const n={};let i;const a=r.substring(r.indexOf(" ")+1).split(";");for(let o=0;o<a.length;o++)i=a[o].trim().split("="),n[i[0].trim()]=i[1];return n},e.writeFmtp=function(r){let n="",i=r.payloadType;if(r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){const a=[];Object.keys(r.parameters).forEach(o=>{r.parameters[o]!==void 0?a.push(o+"="+r.parameters[o]):a.push(o)}),n+="a=fmtp:"+i+" "+a.join(";")+`\r
`}return n},e.parseRtcpFb=function(r){const n=r.substring(r.indexOf(" ")+1).split(" ");return{type:n.shift(),parameter:n.join(" ")}},e.writeRtcpFb=function(r){let n="",i=r.payloadType;return r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(a=>{n+="a=rtcp-fb:"+i+" "+a.type+(a.parameter&&a.parameter.length?" "+a.parameter:"")+`\r
`}),n},e.parseSsrcMedia=function(r){const n=r.indexOf(" "),i={ssrc:parseInt(r.substring(7,n),10)},a=r.indexOf(":",n);return a>-1?(i.attribute=r.substring(n+1,a),i.value=r.substring(a+1)):i.attribute=r.substring(n+1),i},e.parseSsrcGroup=function(r){const n=r.substring(13).split(" ");return{semantics:n.shift(),ssrcs:n.map(i=>parseInt(i,10))}},e.getMid=function(r){const n=e.matchPrefix(r,"a=mid:")[0];if(n)return n.substring(6)},e.parseFingerprint=function(r){const n=r.substring(14).split(" ");return{algorithm:n[0].toLowerCase(),value:n[1].toUpperCase()}},e.getDtlsParameters=function(r,n){return{role:"auto",fingerprints:e.matchPrefix(r+n,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(r,n){let i="a=setup:"+n+`\r
`;return r.fingerprints.forEach(a=>{i+="a=fingerprint:"+a.algorithm+" "+a.value+`\r
`}),i},e.parseCryptoLine=function(r){const n=r.substring(9).split(" ");return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}},e.writeCryptoLine=function(r){return"a=crypto:"+r.tag+" "+r.cryptoSuite+" "+(typeof r.keyParams=="object"?e.writeCryptoKeyParams(r.keyParams):r.keyParams)+(r.sessionParams?" "+r.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(r){if(r.indexOf("inline:")!==0)return null;const n=r.substring(7).split("|");return{keyMethod:"inline",keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(":")[0]:void 0,mkiLength:n[2]?n[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(r){return r.keyMethod+":"+r.keySalt+(r.lifeTime?"|"+r.lifeTime:"")+(r.mkiValue&&r.mkiLength?"|"+r.mkiValue+":"+r.mkiLength:"")},e.getCryptoParameters=function(r,n){return e.matchPrefix(r+n,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(r,n){const i=e.matchPrefix(r+n,"a=ice-ufrag:")[0],a=e.matchPrefix(r+n,"a=ice-pwd:")[0];return i&&a?{usernameFragment:i.substring(12),password:a.substring(10)}:null},e.writeIceParameters=function(r){let n="a=ice-ufrag:"+r.usernameFragment+`\r
a=ice-pwd:`+r.password+`\r
`;return r.iceLite&&(n+=`a=ice-lite\r
`),n},e.parseRtpParameters=function(r){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},a=e.splitLines(r)[0].split(" ");n.profile=a[2];for(let s=3;s<a.length;s++){const u=a[s],l=e.matchPrefix(r,"a=rtpmap:"+u+" ")[0];if(l){const c=e.parseRtpMap(l),h=e.matchPrefix(r,"a=fmtp:"+u+" ");switch(c.parameters=h.length?e.parseFmtp(h[0]):{},c.rtcpFeedback=e.matchPrefix(r,"a=rtcp-fb:"+u+" ").map(e.parseRtcpFb),n.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(c.name.toUpperCase());break}}}e.matchPrefix(r,"a=extmap:").forEach(s=>{n.headerExtensions.push(e.parseExtmap(s))});const o=e.matchPrefix(r,"a=rtcp-fb:* ").map(e.parseRtcpFb);return n.codecs.forEach(s=>{o.forEach(u=>{s.rtcpFeedback.find(c=>c.type===u.type&&c.parameter===u.parameter)||s.rtcpFeedback.push(u)})}),n},e.writeRtpDescription=function(r,n){let i="";i+="m="+r+" ",i+=n.codecs.length>0?"9":"0",i+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=n.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,n.codecs.forEach(o=>{i+=e.writeRtpMap(o),i+=e.writeFmtp(o),i+=e.writeRtcpFb(o)});let a=0;return n.codecs.forEach(o=>{o.maxptime>a&&(a=o.maxptime)}),a>0&&(i+="a=maxptime:"+a+`\r
`),n.headerExtensions&&n.headerExtensions.forEach(o=>{i+=e.writeExtmap(o)}),i},e.parseRtpEncodingParameters=function(r){const n=[],i=e.parseRtpParameters(r),a=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,s=e.matchPrefix(r,"a=ssrc:").map(f=>e.parseSsrcMedia(f)).filter(f=>f.attribute==="cname"),u=s.length>0&&s[0].ssrc;let l;const c=e.matchPrefix(r,"a=ssrc-group:FID").map(f=>f.substring(17).split(" ").map(v=>parseInt(v,10)));c.length>0&&c[0].length>1&&c[0][0]===u&&(l=c[0][1]),i.codecs.forEach(f=>{if(f.name.toUpperCase()==="RTX"&&f.parameters.apt){let p={ssrc:u,codecPayloadType:parseInt(f.parameters.apt,10)};u&&l&&(p.rtx={ssrc:l}),n.push(p),a&&(p=JSON.parse(JSON.stringify(p)),p.fec={ssrc:u,mechanism:o?"red+ulpfec":"red"},n.push(p))}}),n.length===0&&u&&n.push({ssrc:u});let h=e.matchPrefix(r,"b=");return h.length&&(h[0].indexOf("b=TIAS:")===0?h=parseInt(h[0].substring(7),10):h[0].indexOf("b=AS:")===0?h=parseInt(h[0].substring(5),10)*1e3*.95-50*40*8:h=void 0,n.forEach(f=>{f.maxBitrate=h})),n},e.parseRtcpParameters=function(r){const n={},i=e.matchPrefix(r,"a=ssrc:").map(s=>e.parseSsrcMedia(s)).filter(s=>s.attribute==="cname")[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);const a=e.matchPrefix(r,"a=rtcp-rsize");n.reducedSize=a.length>0,n.compound=a.length===0;const o=e.matchPrefix(r,"a=rtcp-mux");return n.mux=o.length>0,n},e.writeRtcpParameters=function(r){let n="";return r.reducedSize&&(n+=`a=rtcp-rsize\r
`),r.mux&&(n+=`a=rtcp-mux\r
`),r.ssrc!==void 0&&r.cname&&(n+="a=ssrc:"+r.ssrc+" cname:"+r.cname+`\r
`),n},e.parseMsid=function(r){let n;const i=e.matchPrefix(r,"a=msid:");if(i.length===1)return n=i[0].substring(7).split(" "),{stream:n[0],track:n[1]};const a=e.matchPrefix(r,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(a.length>0)return n=a[0].value.split(" "),{stream:n[0],track:n[1]}},e.parseSctpDescription=function(r){const n=e.parseMLine(r),i=e.matchPrefix(r,"a=max-message-size:");let a;i.length>0&&(a=parseInt(i[0].substring(19),10)),isNaN(a)&&(a=65536);const o=e.matchPrefix(r,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:n.fmt,maxMessageSize:a};const s=e.matchPrefix(r,"a=sctpmap:");if(s.length>0){const u=s[0].substring(10).split(" ");return{port:parseInt(u[0],10),protocol:u[1],maxMessageSize:a}}},e.writeSctpDescription=function(r,n){let i=[];return r.protocol!=="DTLS/SCTP"?i=["m="+r.kind+" 9 "+r.protocol+" "+n.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+n.port+`\r
`]:i=["m="+r.kind+" 9 "+r.protocol+" "+n.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+n.port+" "+n.protocol+` 65535\r
`],n.maxMessageSize!==void 0&&i.push("a=max-message-size:"+n.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(r,n,i){let a;const o=n!==void 0?n:2;return r?a=r:a=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+a+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(r,n){const i=e.splitLines(r);for(let a=0;a<i.length;a++)switch(i[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[a].substring(2)}return n?e.getDirection(n):"sendrecv"},e.getKind=function(r){return e.splitLines(r)[0].split(" ")[0].substring(2)},e.isRejected=function(r){return r.split(" ",2)[1]==="0"},e.parseMLine=function(r){const i=e.splitLines(r)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(r){const i=e.matchPrefix(r,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(r){if(typeof r!="string"||r.length===0)return!1;const n=e.splitLines(r);for(let i=0;i<n.length;i++)if(n[i].length<2||n[i].charAt(1)!=="=")return!1;return!0},t.exports=e})(eP);var tP=eP.exports;const Il=Rh(tP),lU=EA({__proto__:null,default:Il},[tP]);function bp(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&(n=JSON.parse(JSON.stringify(n)),n.candidate=n.candidate.substring(2)),n.candidate&&n.candidate.length){const i=new e(n),a=Il.parseCandidate(n.candidate);for(const o in a)o in i||Object.defineProperty(i,o,{value:a[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(n)},t.RTCIceCandidate.prototype=e.prototype,Eu(t,"icecandidate",r=>(r.candidate&&Object.defineProperty(r,"candidate",{value:new t.RTCIceCandidate(r.candidate),writable:"false"}),r))}function qy(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||Eu(t,"icecandidate",e=>{if(e.candidate){const r=Il.parseCandidate(e.candidate.candidate);r.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[r.priority>>24])}return e})}function xp(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const r=function(s){if(!s||!s.sdp)return!1;const u=Il.splitSections(s.sdp);return u.shift(),u.some(l=>{const c=Il.parseMLine(l);return c&&c.kind==="application"&&c.protocol.indexOf("SCTP")!==-1})},n=function(s){const u=s.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(u===null||u.length<2)return-1;const l=parseInt(u[1],10);return l!==l?-1:l},i=function(s){let u=65536;return e.browser==="firefox"&&(e.version<57?s===-1?u=16384:u=2147483637:e.version<60?u=e.version===57?65535:65536:u=2147483637),u},a=function(s,u){let l=65536;e.browser==="firefox"&&e.version===57&&(l=65535);const c=Il.matchPrefix(s.sdp,"a=max-message-size:");return c.length>0?l=parseInt(c[0].substring(19),10):e.browser==="firefox"&&u!==-1&&(l=2147483637),l},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:u}=this.getConfiguration();u==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(r(arguments[0])){const u=n(arguments[0]),l=i(u),c=a(arguments[0],u);let h;l===0&&c===0?h=Number.POSITIVE_INFINITY:l===0||c===0?h=Math.max(l,c):h=Math.min(l,c);const f={};Object.defineProperty(f,"maxMessageSize",{get(){return h}}),this._sctp=f}return o.apply(this,arguments)}}function Sp(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(n,i){const a=n.send;n.send=function(){const s=arguments[0],u=s.length||s.size||s.byteLength;if(n.readyState==="open"&&i.sctp&&u>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return a.apply(n,arguments)}}const r=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=r.apply(this,arguments);return e(i,this),i},Eu(t,"datachannel",n=>(e(n.channel,n.target),n))}function Ky(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(r){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),r&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=r)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(r=>{const n=e[r];e[r]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const a=i.target;if(a._lastConnectionState!==a.connectionState){a._lastConnectionState=a.connectionState;const o=new Event("connectionstatechange",i);a.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function Zy(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const r=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const a=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:a}):i.sdp=a}return r.apply(this,arguments)}}function wp(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const r=t.RTCPeerConnection.prototype.addIceCandidate;!r||r.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Tp(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const r=t.RTCPeerConnection.prototype.setLocalDescription;!r||r.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return r.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?r.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>r.apply(this,[o]))})}const cU=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Zy,shimAddIceCandidateNullOrEmpty:wp,shimConnectionState:Ky,shimMaxMessageSize:xp,shimParameterlessSetLocalDescription:Tp,shimRTCIceCandidate:bp,shimRTCIceCandidateRelayProtocol:qy,shimSendThrowTypeError:Sp},Symbol.toStringTag,{value:"Module"}));function fU({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const r=TE,n=oU(t),i={browserDetails:n,commonShim:cU,extractVersion:_p,disableLog:iU,disableWarnings:aU,sdp:lU};switch(n.browser){case"chrome":if(!PS||!Yy||!e.shimChrome)return r("Chrome shim is not included in this adapter release."),i;if(n.version===null)return r("Chrome shim can not determine version, not shimming."),i;r("adapter.js shimming chrome."),i.browserShim=PS,wp(t,n),Tp(t),AE(t,n),kE(t),Yy(t,n),EE(t),RE(t,n),PE(t),DE(t),ME(t),OE(t,n),bp(t),qy(t),Ky(t),xp(t,n),Sp(t),Zy(t,n);break;case"firefox":if(!DS||!Xy||!e.shimFirefox)return r("Firefox shim is not included in this adapter release."),i;r("adapter.js shimming firefox."),i.browserShim=DS,wp(t,n),Tp(t),IE(t,n),Xy(t,n),BE(t),$E(t),NE(t),FE(t),HE(t),zE(t),UE(t),VE(t),GE(t),bp(t),Ky(t),xp(t,n),Sp(t);break;case"safari":if(!MS||!e.shimSafari)return r("Safari shim is not included in this adapter release."),i;r("adapter.js shimming safari."),i.browserShim=MS,wp(t,n),Tp(t),KE(t),QE(t),YE(t),jE(t),WE(t),ZE(t),XE(t),JE(t),bp(t),qy(t),xp(t,n),Sp(t),Zy(t,n);break;default:r("Unsupported browser!");break}return i}fU({window:typeof window>"u"?void 0:window});const ka=Object.create(null);ka.open="0";ka.close="1";ka.ping="2";ka.pong="3";ka.message="4";ka.upgrade="5";ka.noop="6";const Cp=Object.create(null);Object.keys(ka).forEach(t=>{Cp[ka[t]]=t});const hU={type:"error",data:"parser error"},dU=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",pU=typeof ArrayBuffer=="function",vU=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,rP=({type:t,data:e},r,n)=>dU&&e instanceof Blob?r?n(e):LS(e,n):pU&&(e instanceof ArrayBuffer||vU(e))?r?n(e):LS(new Blob([e]),n):n(ka[t]+(e||"")),LS=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)},RS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<RS.length;t++)gf[RS.charCodeAt(t)]=t;const gU=t=>{let e=t.length*.75,r=t.length,n,i=0,a,o,s,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const l=new ArrayBuffer(e),c=new Uint8Array(l);for(n=0;n<r;n+=4)a=gf[t.charCodeAt(n)],o=gf[t.charCodeAt(n+1)],s=gf[t.charCodeAt(n+2)],u=gf[t.charCodeAt(n+3)],c[i++]=a<<2|o>>4,c[i++]=(o&15)<<4|s>>2,c[i++]=(s&3)<<6|u&63;return l},mU=typeof ArrayBuffer=="function",nP=(t,e)=>{if(typeof t!="string")return{type:"message",data:iP(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:yU(t.substring(1),e)}:Cp[r]?t.length>1?{type:Cp[r],data:t.substring(1)}:{type:Cp[r]}:hU},yU=(t,e)=>{if(mU){const r=gU(t);return iP(r,e)}else return{base64:!0,data:t}},iP=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}},aP=String.fromCharCode(30),_U=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((a,o)=>{rP(a,!1,s=>{n[o]=s,++i===r&&e(n.join(aP))})})},bU=(t,e)=>{const r=t.split(aP),n=[];for(let i=0;i<r.length;i++){const a=nP(r[i],e);if(n.push(a),a.type==="error")break}return n},oP=4;function Pr(t){if(t)return xU(t)}function xU(t){for(var e in Pr.prototype)t[e]=Pr.prototype[e];return t}Pr.prototype.on=Pr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Pr.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Pr.prototype.off=Pr.prototype.removeListener=Pr.prototype.removeAllListeners=Pr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Pr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};Pr.prototype.emitReserved=Pr.prototype.emit;Pr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Pr.prototype.hasListeners=function(t){return!!this.listeners(t).length};const ui=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function sP(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const SU=ui.setTimeout,wU=ui.clearTimeout;function Wv(t,e){e.useNativeTimers?(t.setTimeoutFn=SU.bind(ui),t.clearTimeoutFn=wU.bind(ui)):(t.setTimeoutFn=ui.setTimeout.bind(ui),t.clearTimeoutFn=ui.clearTimeout.bind(ui))}const TU=1.33;function CU(t){return typeof t=="string"?AU(t):Math.ceil((t.byteLength||t.size)*TU)}function AU(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}class kU extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class uP extends Pr{constructor(e){super(),this.writable=!1,Wv(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,r,n){return super.emitReserved("error",new kU(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=nP(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}}const lP="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Qy=64,EU={};let OS=0,gd=0,IS;function BS(t){let e="";do e=lP[t%Qy]+e,t=Math.floor(t/Qy);while(t>0);return e}function cP(){const t=BS(+new Date);return t!==IS?(OS=0,IS=t):t+"."+BS(OS++)}for(;gd<Qy;gd++)EU[lP[gd]]=gd;function fP(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function PU(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}let hP=!1;try{hP=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const DU=hP;function dP(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||DU))return new XMLHttpRequest}catch{}if(!e)try{return new ui[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function MU(){}const LU=function(){return new dP({xdomain:!1}).responseType!=null}();class RU extends uP{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==n}const r=e&&e.forceBase64;this.supportsBinary=LU&&!r}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};bU(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,_U(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const r=this.opts.secure?"https":"http";let n="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=cP()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port);const i=fP(e),a=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(a?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new ba(this.uri(),e)}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class ba extends Pr{constructor(e,r){super(),Wv(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){const e=sP(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const r=this.xhr=new dP(e);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&r.setRequestHeader(n,this.opts.extraHeaders[n])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(n){this.setTimeoutFn(()=>{this.onError(n)},0);return}typeof document<"u"&&(this.index=ba.requestsCount++,ba.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=MU,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete ba.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}ba.requestsCount=0;ba.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",NS);else if(typeof addEventListener=="function"){const t="onpagehide"in ui?"pagehide":"unload";addEventListener(t,NS,!1)}}function NS(){for(let t in ba.requests)ba.requests.hasOwnProperty(t)&&ba.requests[t].abort()}const pP=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0))(),md=ui.WebSocket||ui.MozWebSocket,FS=!0,OU="arraybuffer",$S=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class IU extends uP{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,n=$S?{}:sP(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=FS&&!$S?r?new md(e,r):new md(e):new md(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||OU,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;rP(n,this.supportsBinary,a=>{const o={};try{FS&&this.ws.send(a)}catch{}i&&pP(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const r=this.opts.secure?"wss":"ws";let n="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=cP()),this.supportsBinary||(e.b64=1);const i=fP(e),a=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(a?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}check(){return!!md}}const BU={websocket:IU,polling:RU},NU=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,FU=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Jy(t){const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=NU.exec(t||""),a={},o=14;for(;o--;)a[FU[o]]=i[o]||"";return r!=-1&&n!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=$U(a,a.path),a.queryKey=HU(a,a.query),a}function $U(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function HU(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}let vP=class gl extends Pr{constructor(e,r={}){super(),this.writeBuffer=[],e&&typeof e=="object"&&(r=e,e=null),e?(e=Jy(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=Jy(r.host).host),Wv(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=PU(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=oP,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new BU[e](n)}open(){let e;if(this.opts.rememberUpgrade&&gl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),n=!1;gl.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;gl.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(c(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function a(){n||(n=!0,c(),r.close(),r=null)}const o=h=>{const f=new Error("probe error: "+h);f.transport=r.name,a(),this.emitReserved("upgradeError",f)};function s(){o("transport closed")}function u(){o("socket closed")}function l(h){r&&h.name!==r.name&&a()}const c=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",s),this.off("close",u),this.off("upgrading",l)};r.once("open",i),r.once("error",o),r.once("close",s),this.once("close",u),this.once("upgrading",l),r.open()}onOpen(){if(this.readyState="open",gl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=CU(i)),n>0&&r>this.maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:e,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){gl.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};vP.protocol=oP;function zU(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=Jy(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+e,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const UU=typeof ArrayBuffer=="function",VU=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,gP=Object.prototype.toString,GU=typeof Blob=="function"||typeof Blob<"u"&&gP.call(Blob)==="[object BlobConstructor]",jU=typeof File=="function"||typeof File<"u"&&gP.call(File)==="[object FileConstructor]";function c_(t){return UU&&(t instanceof ArrayBuffer||VU(t))||GU&&t instanceof Blob||jU&&t instanceof File}function Ap(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Ap(t[r]))return!0;return!1}if(c_(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ap(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Ap(t[r]))return!0;return!1}function WU(t){const e=[],r=t.data,n=t;return n.data=e0(r,e),n.attachments=e.length,{packet:n,buffers:e}}function e0(t,e){if(!t)return t;if(c_(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e0(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=e0(t[n],e));return r}return t}function YU(t,e){return t.data=t0(t.data,e),delete t.attachments,t}function t0(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=t0(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=t0(t[r],e));return t}const XU=5;var It;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(It||(It={}));class qU{constructor(e){this.replacer=e}encode(e){return(e.type===It.EVENT||e.type===It.ACK)&&Ap(e)?this.encodeAsBinary({type:e.type===It.EVENT?It.BINARY_EVENT:It.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===It.BINARY_EVENT||e.type===It.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=WU(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}class f_ extends Pr{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===It.BINARY_EVENT;n||r.type===It.BINARY_ACK?(r.type=n?It.EVENT:It.ACK,this.reconstructor=new KU(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(c_(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(It[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===It.BINARY_EVENT||n.type===It.BINARY_ACK){const a=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(a,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(a,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(a,r+1))}if(e.charAt(++r)){const a=this.tryParse(e.substr(r));if(f_.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case It.CONNECT:return typeof r=="object";case It.DISCONNECT:return r===void 0;case It.CONNECT_ERROR:return typeof r=="string"||typeof r=="object";case It.EVENT:case It.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="string"||typeof r[0]=="number");case It.ACK:case It.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class KU{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=YU(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const ZU=Object.freeze(Object.defineProperty({__proto__:null,Decoder:f_,Encoder:qU,get PacketType(){return It},protocol:XU},Symbol.toStringTag,{value:"Module"}));function Oi(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const QU=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class mP extends Pr{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Oi(e,"open",this.onopen.bind(this)),Oi(e,"packet",this.onpacket.bind(this)),Oi(e,"error",this.onerror.bind(this)),Oi(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(QU.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const n={type:It.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const o=this.ids++,s=r.pop();this._registerAckCallback(o,s),n.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},i);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(a),r.apply(this,[null,...o])}}emitWithAck(e,...r){const n=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,a)=>{r.push((o,s)=>n?o?a(o):i(s):i(o)),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:It.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case It.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case It.EVENT:case It.BINARY_EVENT:this.onevent(e);break;case It.ACK:case It.BINARY_ACK:this.onack(e);break;case It.DISCONNECT:this.ondisconnect();break;case It.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:It.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(r.apply(this,e.data),delete this.acks[e.id])}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:It.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function vc(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}vc.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0};vc.prototype.reset=function(){this.attempts=0};vc.prototype.setMin=function(t){this.ms=t};vc.prototype.setMax=function(t){this.max=t};vc.prototype.setJitter=function(t){this.jitter=t};class r0 extends Pr{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Wv(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new vc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||ZU;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new vP(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Oi(r,"open",function(){n.onopen(),e&&e()}),a=Oi(r,"error",o=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",o),e?e(o):n.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&i();const s=this.setTimeoutFn(()=>{i(),r.close(),r.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&s.unref(),this.subs.push(function(){clearTimeout(s)})}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Oi(e,"ping",this.onping.bind(this)),Oi(e,"data",this.ondata.bind(this)),Oi(e,"error",this.onerror.bind(this)),Oi(e,"close",this.onclose.bind(this)),Oi(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){pP(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new mP(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const zc={};function Jg(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=zU(t,e.path||"/socket.io"),n=r.source,i=r.id,a=r.path,o=zc[i]&&a in zc[i].nsps,s=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let u;return s?u=new r0(n,e):(zc[i]||(zc[i]=new r0(n,e)),u=zc[i]),r.query&&!e.query&&(e.query=r.queryKey),u.socket(r.path,e)}Object.assign(Jg,{Manager:r0,Socket:mP,io:Jg,connect:Jg});function JU(t){if(t&&!(typeof window>"u")){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}}function Sl(t,e){var r=t.__state.conversionName.toString(),n=Math.round(t.r),i=Math.round(t.g),a=Math.round(t.b),o=t.a,s=Math.round(t.h),u=t.s.toFixed(1),l=t.v.toFixed(1);if(e||r==="THREE_CHAR_HEX"||r==="SIX_CHAR_HEX"){for(var c=t.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}else{if(r==="CSS_RGB")return"rgb("+n+","+i+","+a+")";if(r==="CSS_RGBA")return"rgba("+n+","+i+","+a+","+o+")";if(r==="HEX")return"0x"+t.hex.toString(16);if(r==="RGB_ARRAY")return"["+n+","+i+","+a+"]";if(r==="RGBA_ARRAY")return"["+n+","+i+","+a+","+o+"]";if(r==="RGB_OBJ")return"{r:"+n+",g:"+i+",b:"+a+"}";if(r==="RGBA_OBJ")return"{r:"+n+",g:"+i+",b:"+a+",a:"+o+"}";if(r==="HSV_OBJ")return"{h:"+s+",s:"+u+",v:"+l+"}";if(r==="HSVA_OBJ")return"{h:"+s+",s:"+u+",v:"+l+",a:"+o+"}"}return"unknown format"}var HS=Array.prototype.forEach,Uc=Array.prototype.slice,Pe={BREAK:{},extend:function(e){return this.each(Uc.call(arguments,1),function(r){var n=this.isObject(r)?Object.keys(r):[];n.forEach(function(i){this.isUndefined(r[i])||(e[i]=r[i])}.bind(this))},this),e},defaults:function(e){return this.each(Uc.call(arguments,1),function(r){var n=this.isObject(r)?Object.keys(r):[];n.forEach(function(i){this.isUndefined(e[i])&&(e[i]=r[i])}.bind(this))},this),e},compose:function(){var e=Uc.call(arguments);return function(){for(var r=Uc.call(arguments),n=e.length-1;n>=0;n--)r=[e[n].apply(this,r)];return r[0]}},each:function(e,r,n){if(e){if(HS&&e.forEach&&e.forEach===HS)e.forEach(r,n);else if(e.length===e.length+0){var i=void 0,a=void 0;for(i=0,a=e.length;i<a;i++)if(i in e&&r.call(n,e[i],i)===this.BREAK)return}else for(var o in e)if(r.call(n,e[o],o)===this.BREAK)return}},defer:function(e){setTimeout(e,0)},debounce:function(e,r,n){var i=void 0;return function(){var a=this,o=arguments;function s(){i=null,n||e.apply(a,o)}var u=n||!i;clearTimeout(i),i=setTimeout(s,r),u&&e.apply(a,o)}},toArray:function(e){return e.toArray?e.toArray():Uc.call(e)},isUndefined:function(e){return e===void 0},isNull:function(e){return e===null},isNaN:function(t){function e(r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return isNaN(t)}),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return e instanceof Function}},eV=[{litmus:Pe.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var r=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return r===null?!1:{space:"HEX",hex:parseInt("0x"+r[1].toString()+r[1].toString()+r[2].toString()+r[2].toString()+r[3].toString()+r[3].toString(),0)}},write:Sl},SIX_CHAR_HEX:{read:function(e){var r=e.match(/^#([A-F0-9]{6})$/i);return r===null?!1:{space:"HEX",hex:parseInt("0x"+r[1].toString(),0)}},write:Sl},CSS_RGB:{read:function(e){var r=e.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return r===null?!1:{space:"RGB",r:parseFloat(r[1]),g:parseFloat(r[2]),b:parseFloat(r[3])}},write:Sl},CSS_RGBA:{read:function(e){var r=e.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return r===null?!1:{space:"RGB",r:parseFloat(r[1]),g:parseFloat(r[2]),b:parseFloat(r[3]),a:parseFloat(r[4])}},write:Sl}}},{litmus:Pe.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:Pe.isArray,conversions:{RGB_ARRAY:{read:function(e){return e.length!==3?!1:{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return e.length!==4?!1:{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:Pe.isObject,conversions:{RGBA_OBJ:{read:function(e){return Pe.isNumber(e.r)&&Pe.isNumber(e.g)&&Pe.isNumber(e.b)&&Pe.isNumber(e.a)?{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return Pe.isNumber(e.r)&&Pe.isNumber(e.g)&&Pe.isNumber(e.b)?{space:"RGB",r:e.r,g:e.g,b:e.b}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return Pe.isNumber(e.h)&&Pe.isNumber(e.s)&&Pe.isNumber(e.v)&&Pe.isNumber(e.a)?{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return Pe.isNumber(e.h)&&Pe.isNumber(e.s)&&Pe.isNumber(e.v)?{space:"HSV",h:e.h,s:e.s,v:e.v}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],Vc=void 0,yd=void 0,n0=function(){yd=!1;var e=arguments.length>1?Pe.toArray(arguments):arguments[0];return Pe.each(eV,function(r){if(r.litmus(e))return Pe.each(r.conversions,function(n,i){if(Vc=n.read(e),yd===!1&&Vc!==!1)return yd=Vc,Vc.conversionName=i,Vc.conversion=n,Pe.BREAK}),Pe.BREAK}),yd},zS=void 0,Zp={hsv_to_rgb:function(e,r,n){var i=Math.floor(e/60)%6,a=e/60-Math.floor(e/60),o=n*(1-r),s=n*(1-a*r),u=n*(1-(1-a)*r),l=[[n,u,o],[s,n,o],[o,n,u],[o,s,n],[u,o,n],[n,o,s]][i];return{r:l[0]*255,g:l[1]*255,b:l[2]*255}},rgb_to_hsv:function(e,r,n){var i=Math.min(e,r,n),a=Math.max(e,r,n),o=a-i,s=void 0,u=void 0;if(a!==0)u=o/a;else return{h:NaN,s:0,v:0};return e===a?s=(r-n)/o:r===a?s=2+(n-e)/o:s=4+(e-r)/o,s/=6,s<0&&(s+=1),{h:s*360,s:u,v:a/255}},rgb_to_hex:function(e,r,n){var i=this.hex_with_component(0,2,e);return i=this.hex_with_component(i,1,r),i=this.hex_with_component(i,0,n),i},component_from_hex:function(e,r){return e>>r*8&255},hex_with_component:function(e,r,n){return n<<(zS=r*8)|e&~(255<<zS)}},tV=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},ji=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),es=function t(e,r,n){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(i===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,r,n)}else{if("value"in i)return i.value;var o=i.get;return o===void 0?void 0:o.call(n)}},cs=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},fs=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Ur=function(){function t(){if(Gi(this,t),this.__state=n0.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return ji(t,[{key:"toString",value:function(){return Sl(this)}},{key:"toHexString",value:function(){return Sl(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function h_(t,e,r){Object.defineProperty(t,e,{get:function(){return this.__state.space==="RGB"?this.__state[e]:(Ur.recalculateRGB(this,e,r),this.__state[e])},set:function(i){this.__state.space!=="RGB"&&(Ur.recalculateRGB(this,e,r),this.__state.space="RGB"),this.__state[e]=i}})}function d_(t,e){Object.defineProperty(t,e,{get:function(){return this.__state.space==="HSV"?this.__state[e]:(Ur.recalculateHSV(this),this.__state[e])},set:function(n){this.__state.space!=="HSV"&&(Ur.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=n}})}Ur.recalculateRGB=function(t,e,r){if(t.__state.space==="HEX")t.__state[e]=Zp.component_from_hex(t.__state.hex,r);else if(t.__state.space==="HSV")Pe.extend(t.__state,Zp.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v));else throw new Error("Corrupted color state")};Ur.recalculateHSV=function(t){var e=Zp.rgb_to_hsv(t.r,t.g,t.b);Pe.extend(t.__state,{s:e.s,v:e.v}),Pe.isNaN(e.h)?Pe.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h};Ur.COMPONENTS=["r","g","b","h","s","v","hex","a"];h_(Ur.prototype,"r",2);h_(Ur.prototype,"g",1);h_(Ur.prototype,"b",0);d_(Ur.prototype,"h");d_(Ur.prototype,"s");d_(Ur.prototype,"v");Object.defineProperty(Ur.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}});Object.defineProperty(Ur.prototype,"hex",{get:function(){return this.__state.space!=="HEX"&&(this.__state.hex=Zp.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var Pu=function(){function t(e,r){Gi(this,t),this.initialValue=e[r],this.domElement=document.createElement("div"),this.object=e,this.property=r,this.__onChange=void 0,this.__onFinishChange=void 0}return ji(t,[{key:"onChange",value:function(r){return this.__onChange=r,this}},{key:"onFinishChange",value:function(r){return this.__onFinishChange=r,this}},{key:"setValue",value:function(r){return this.object[this.property]=r,this.__onChange&&this.__onChange.call(this,r),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),rV={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},yP={};Pe.each(rV,function(t,e){Pe.each(t,function(r){yP[r]=e})});var nV=/(\d+(\.\d+)?)px/;function oa(t){if(t==="0"||Pe.isUndefined(t))return 0;var e=t.match(nV);return Pe.isNull(e)?0:parseFloat(e[1])}var _e={makeSelectable:function(e,r){e===void 0||e.style===void 0||(e.onselectstart=r?function(){return!1}:function(){},e.style.MozUserSelect=r?"auto":"none",e.style.KhtmlUserSelect=r?"auto":"none",e.unselectable=r?"on":"off")},makeFullscreen:function(e,r,n){var i=n,a=r;Pe.isUndefined(a)&&(a=!0),Pe.isUndefined(i)&&(i=!0),e.style.position="absolute",a&&(e.style.left=0,e.style.right=0),i&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,r,n,i){var a=n||{},o=yP[r];if(!o)throw new Error("Event type "+r+" not supported.");var s=document.createEvent(o);switch(o){case"MouseEvents":{var u=a.x||a.clientX||0,l=a.y||a.clientY||0;s.initMouseEvent(r,a.bubbles||!1,a.cancelable||!0,window,a.clickCount||1,0,0,u,l,!1,!1,!1,!1,0,null);break}case"KeyboardEvents":{var c=s.initKeyboardEvent||s.initKeyEvent;Pe.defaults(a,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(r,a.bubbles||!1,a.cancelable,window,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.keyCode,a.charCode);break}default:{s.initEvent(r,a.bubbles||!1,a.cancelable||!0);break}}Pe.defaults(s,i),e.dispatchEvent(s)},bind:function(e,r,n,i){var a=i||!1;return e.addEventListener?e.addEventListener(r,n,a):e.attachEvent&&e.attachEvent("on"+r,n),_e},unbind:function(e,r,n,i){var a=i||!1;return e.removeEventListener?e.removeEventListener(r,n,a):e.detachEvent&&e.detachEvent("on"+r,n),_e},addClass:function(e,r){if(e.className===void 0)e.className=r;else if(e.className!==r){var n=e.className.split(/ +/);n.indexOf(r)===-1&&(n.push(r),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return _e},removeClass:function(e,r){if(r)if(e.className===r)e.removeAttribute("class");else{var n=e.className.split(/ +/),i=n.indexOf(r);i!==-1&&(n.splice(i,1),e.className=n.join(" "))}else e.className=void 0;return _e},hasClass:function(e,r){return new RegExp("(?:^|\\s+)"+r+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var r=getComputedStyle(e);return oa(r["border-left-width"])+oa(r["border-right-width"])+oa(r["padding-left"])+oa(r["padding-right"])+oa(r.width)},getHeight:function(e){var r=getComputedStyle(e);return oa(r["border-top-width"])+oa(r["border-bottom-width"])+oa(r["padding-top"])+oa(r["padding-bottom"])+oa(r.height)},getOffset:function(e){var r=e,n={left:0,top:0};if(r.offsetParent)do n.left+=r.offsetLeft,n.top+=r.offsetTop,r=r.offsetParent;while(r);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},_P=function(t){cs(e,t);function e(r,n){Gi(this,e);var i=fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n)),a=i;i.__prev=i.getValue(),i.__checkbox=document.createElement("input"),i.__checkbox.setAttribute("type","checkbox");function o(){a.setValue(!a.__prev)}return _e.bind(i.__checkbox,"change",o,!1),i.domElement.appendChild(i.__checkbox),i.updateDisplay(),i}return ji(e,[{key:"setValue",value:function(n){var i=es(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),i}},{key:"updateDisplay",value:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),es(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Pu),iV=function(t){cs(e,t);function e(r,n,i){Gi(this,e);var a=fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n)),o=i,s=a;if(a.__select=document.createElement("select"),Pe.isArray(o)){var u={};Pe.each(o,function(l){u[l]=l}),o=u}return Pe.each(o,function(l,c){var h=document.createElement("option");h.innerHTML=c,h.setAttribute("value",l),s.__select.appendChild(h)}),a.updateDisplay(),_e.bind(a.__select,"change",function(){var l=this.options[this.selectedIndex].value;s.setValue(l)}),a.domElement.appendChild(a.__select),a}return ji(e,[{key:"setValue",value:function(n){var i=es(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),i}},{key:"updateDisplay",value:function(){return _e.isActive(this.__select)?this:(this.__select.value=this.getValue(),es(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(Pu),aV=function(t){cs(e,t);function e(r,n){Gi(this,e);var i=fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n)),a=i;function o(){a.setValue(a.__input.value)}function s(){a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),_e.bind(i.__input,"keyup",o),_e.bind(i.__input,"change",o),_e.bind(i.__input,"blur",s),_e.bind(i.__input,"keydown",function(u){u.keyCode===13&&this.blur()}),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return ji(e,[{key:"updateDisplay",value:function(){return _e.isActive(this.__input)||(this.__input.value=this.getValue()),es(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Pu);function US(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var bP=function(t){cs(e,t);function e(r,n,i){Gi(this,e);var a=fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n)),o=i||{};return a.__min=o.min,a.__max=o.max,a.__step=o.step,Pe.isUndefined(a.__step)?a.initialValue===0?a.__impliedStep=1:a.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(a.initialValue))/Math.LN10))/10:a.__impliedStep=a.__step,a.__precision=US(a.__impliedStep),a}return ji(e,[{key:"setValue",value:function(n){var i=n;return this.__min!==void 0&&i<this.__min?i=this.__min:this.__max!==void 0&&i>this.__max&&(i=this.__max),this.__step!==void 0&&i%this.__step!==0&&(i=Math.round(i/this.__step)*this.__step),es(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,i)}},{key:"min",value:function(n){return this.__min=n,this}},{key:"max",value:function(n){return this.__max=n,this}},{key:"step",value:function(n){return this.__step=n,this.__impliedStep=n,this.__precision=US(n),this}}]),e}(Pu);function oV(t,e){var r=Math.pow(10,e);return Math.round(t*r)/r}var Qp=function(t){cs(e,t);function e(r,n,i){Gi(this,e);var a=fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n,i));a.__truncationSuspended=!1;var o=a,s=void 0;function u(){var v=parseFloat(o.__input.value);Pe.isNaN(v)||o.setValue(v)}function l(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function c(){l()}function h(v){var g=s-v.clientY;o.setValue(o.getValue()+g*o.__impliedStep),s=v.clientY}function f(){_e.unbind(window,"mousemove",h),_e.unbind(window,"mouseup",f),l()}function p(v){_e.bind(window,"mousemove",h),_e.bind(window,"mouseup",f),s=v.clientY}return a.__input=document.createElement("input"),a.__input.setAttribute("type","text"),_e.bind(a.__input,"change",u),_e.bind(a.__input,"blur",c),_e.bind(a.__input,"mousedown",p),_e.bind(a.__input,"keydown",function(v){v.keyCode===13&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,l())}),a.updateDisplay(),a.domElement.appendChild(a.__input),a}return ji(e,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():oV(this.getValue(),this.__precision),es(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(bP);function VS(t,e,r,n,i){return n+(i-n)*((t-e)/(r-e))}var i0=function(t){cs(e,t);function e(r,n,i,a,o){Gi(this,e);var s=fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n,{min:i,max:a,step:o})),u=s;s.__background=document.createElement("div"),s.__foreground=document.createElement("div"),_e.bind(s.__background,"mousedown",l),_e.bind(s.__background,"touchstart",f),_e.addClass(s.__background,"slider"),_e.addClass(s.__foreground,"slider-fg");function l(g){document.activeElement.blur(),_e.bind(window,"mousemove",c),_e.bind(window,"mouseup",h),c(g)}function c(g){g.preventDefault();var m=u.__background.getBoundingClientRect();return u.setValue(VS(g.clientX,m.left,m.right,u.__min,u.__max)),!1}function h(){_e.unbind(window,"mousemove",c),_e.unbind(window,"mouseup",h),u.__onFinishChange&&u.__onFinishChange.call(u,u.getValue())}function f(g){g.touches.length===1&&(_e.bind(window,"touchmove",p),_e.bind(window,"touchend",v),p(g))}function p(g){var m=g.touches[0].clientX,_=u.__background.getBoundingClientRect();u.setValue(VS(m,_.left,_.right,u.__min,u.__max))}function v(){_e.unbind(window,"touchmove",p),_e.unbind(window,"touchend",v),u.__onFinishChange&&u.__onFinishChange.call(u,u.getValue())}return s.updateDisplay(),s.__background.appendChild(s.__foreground),s.domElement.appendChild(s.__background),s}return ji(e,[{key:"updateDisplay",value:function(){var n=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=n*100+"%",es(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(bP),xP=function(t){cs(e,t);function e(r,n,i){Gi(this,e);var a=fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n)),o=a;return a.__button=document.createElement("div"),a.__button.innerHTML=i===void 0?"Fire":i,_e.bind(a.__button,"click",function(s){return s.preventDefault(),o.fire(),!1}),_e.addClass(a.__button,"button"),a.domElement.appendChild(a.__button),a}return ji(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(Pu),a0=function(t){cs(e,t);function e(r,n){Gi(this,e);var i=fs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));i.__color=new Ur(i.getValue()),i.__temp=new Ur(0);var a=i;i.domElement=document.createElement("div"),_e.makeSelectable(i.domElement,!1),i.__selector=document.createElement("div"),i.__selector.className="selector",i.__saturation_field=document.createElement("div"),i.__saturation_field.className="saturation-field",i.__field_knob=document.createElement("div"),i.__field_knob.className="field-knob",i.__field_knob_border="2px solid ",i.__hue_knob=document.createElement("div"),i.__hue_knob.className="hue-knob",i.__hue_field=document.createElement("div"),i.__hue_field.className="hue-field",i.__input=document.createElement("input"),i.__input.type="text",i.__input_textShadow="0 1px 1px ",_e.bind(i.__input,"keydown",function(g){g.keyCode===13&&h.call(this)}),_e.bind(i.__input,"blur",h),_e.bind(i.__selector,"mousedown",function(){_e.addClass(this,"drag").bind(window,"mouseup",function(){_e.removeClass(a.__selector,"drag")})}),_e.bind(i.__selector,"touchstart",function(){_e.addClass(this,"drag").bind(window,"touchend",function(){_e.removeClass(a.__selector,"drag")})});var o=document.createElement("div");Pe.extend(i.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),Pe.extend(i.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:i.__field_knob_border+(i.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),Pe.extend(i.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),Pe.extend(i.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),Pe.extend(o.style,{width:"100%",height:"100%",background:"none"}),GS(o,"top","rgba(0,0,0,0)","#000"),Pe.extend(i.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),uV(i.__hue_field),Pe.extend(i.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:i.__input_textShadow+"rgba(0,0,0,0.7)"}),_e.bind(i.__saturation_field,"mousedown",s),_e.bind(i.__saturation_field,"touchstart",s),_e.bind(i.__field_knob,"mousedown",s),_e.bind(i.__field_knob,"touchstart",s),_e.bind(i.__hue_field,"mousedown",u),_e.bind(i.__hue_field,"touchstart",u);function s(g){p(g),_e.bind(window,"mousemove",p),_e.bind(window,"touchmove",p),_e.bind(window,"mouseup",l),_e.bind(window,"touchend",l)}function u(g){v(g),_e.bind(window,"mousemove",v),_e.bind(window,"touchmove",v),_e.bind(window,"mouseup",c),_e.bind(window,"touchend",c)}function l(){_e.unbind(window,"mousemove",p),_e.unbind(window,"touchmove",p),_e.unbind(window,"mouseup",l),_e.unbind(window,"touchend",l),f()}function c(){_e.unbind(window,"mousemove",v),_e.unbind(window,"touchmove",v),_e.unbind(window,"mouseup",c),_e.unbind(window,"touchend",c),f()}function h(){var g=n0(this.value);g!==!1?(a.__color.__state=g,a.setValue(a.__color.toOriginal())):this.value=a.__color.toString()}function f(){a.__onFinishChange&&a.__onFinishChange.call(a,a.__color.toOriginal())}i.__saturation_field.appendChild(o),i.__selector.appendChild(i.__field_knob),i.__selector.appendChild(i.__saturation_field),i.__selector.appendChild(i.__hue_field),i.__hue_field.appendChild(i.__hue_knob),i.domElement.appendChild(i.__input),i.domElement.appendChild(i.__selector),i.updateDisplay();function p(g){g.type.indexOf("touch")===-1&&g.preventDefault();var m=a.__saturation_field.getBoundingClientRect(),_=g.touches&&g.touches[0]||g,b=_.clientX,w=_.clientY,T=(b-m.left)/(m.right-m.left),k=1-(w-m.top)/(m.bottom-m.top);return k>1?k=1:k<0&&(k=0),T>1?T=1:T<0&&(T=0),a.__color.v=k,a.__color.s=T,a.setValue(a.__color.toOriginal()),!1}function v(g){g.type.indexOf("touch")===-1&&g.preventDefault();var m=a.__hue_field.getBoundingClientRect(),_=g.touches&&g.touches[0]||g,b=_.clientY,w=1-(b-m.top)/(m.bottom-m.top);return w>1?w=1:w<0&&(w=0),a.__color.h=w*360,a.setValue(a.__color.toOriginal()),!1}return i}return ji(e,[{key:"updateDisplay",value:function(){var n=n0(this.getValue());if(n!==!1){var i=!1;Pe.each(Ur.COMPONENTS,function(s){if(!Pe.isUndefined(n[s])&&!Pe.isUndefined(this.__color.__state[s])&&n[s]!==this.__color.__state[s])return i=!0,{}},this),i&&Pe.extend(this.__color.__state,n)}Pe.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var a=this.__color.v<.5||this.__color.s>.5?255:0,o=255-a;Pe.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+a+","+a+","+a+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,GS(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),Pe.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+a+","+a+","+a+")",textShadow:this.__input_textShadow+"rgba("+o+","+o+","+o+",.7)"})}}]),e}(Pu),sV=["-moz-","-o-","-webkit-","-ms-",""];function GS(t,e,r,n){t.style.background="",Pe.each(sV,function(i){t.style.cssText+="background: "+i+"linear-gradient("+e+", "+r+" 0%, "+n+" 100%); "})}function uV(t){t.style.background="",t.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",t.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var lV={load:function(e,r){var n=r||document,i=n.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=e,n.getElementsByTagName("head")[0].appendChild(i)},inject:function(e,r){var n=r||document,i=document.createElement("style");i.type="text/css",i.innerHTML=e;var a=n.getElementsByTagName("head")[0];try{a.appendChild(i)}catch{}}},cV=`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.

    </div>

  </div>

</div>`,fV=function(e,r){var n=e[r];return Pe.isArray(arguments[2])||Pe.isObject(arguments[2])?new iV(e,r,arguments[2]):Pe.isNumber(n)?Pe.isNumber(arguments[2])&&Pe.isNumber(arguments[3])?Pe.isNumber(arguments[4])?new i0(e,r,arguments[2],arguments[3],arguments[4]):new i0(e,r,arguments[2],arguments[3]):Pe.isNumber(arguments[4])?new Qp(e,r,{min:arguments[2],max:arguments[3],step:arguments[4]}):new Qp(e,r,{min:arguments[2],max:arguments[3]}):Pe.isString(n)?new aV(e,r):Pe.isFunction(n)?new xP(e,r,""):Pe.isBoolean(n)?new _P(e,r):null};function hV(t){setTimeout(t,1e3/60)}var dV=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||hV,pV=function(){function t(){Gi(this,t),this.backgroundElement=document.createElement("div"),Pe.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),_e.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),Pe.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;_e.bind(this.backgroundElement,"click",function(){e.hide()})}return ji(t,[{key:"show",value:function(){var r=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),Pe.defer(function(){r.backgroundElement.style.opacity=1,r.domElement.style.opacity=1,r.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var r=this,n=function i(){r.domElement.style.display="none",r.backgroundElement.style.display="none",_e.unbind(r.domElement,"webkitTransitionEnd",i),_e.unbind(r.domElement,"transitionend",i),_e.unbind(r.domElement,"oTransitionEnd",i)};_e.bind(this.domElement,"webkitTransitionEnd",n),_e.bind(this.domElement,"transitionend",n),_e.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-_e.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-_e.getHeight(this.domElement)/2+"px"}}]),t}(),vV=JU(`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`);lV.inject(vV);var jS="dg",WS=72,YS=20,sh="Default",mf=function(){try{return!!window.localStorage}catch{return!1}}(),Rf=void 0,XS=!0,ml=void 0,em=!1,SP=[],lr=function t(e){var r=this,n=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),_e.addClass(this.domElement,jS),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],n=Pe.defaults(n,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),n=Pe.defaults(n,{resizable:n.autoPlace,hideable:n.autoPlace}),Pe.isUndefined(n.load)?n.load={preset:sh}:n.preset&&(n.load.preset=n.preset),Pe.isUndefined(n.parent)&&n.hideable&&SP.push(this),n.resizable=Pe.isUndefined(n.parent)&&n.resizable,n.autoPlace&&Pe.isUndefined(n.scrollable)&&(n.scrollable=!0);var i=mf&&localStorage.getItem(yl(this,"isLocal"))==="true",a=void 0,o=void 0;if(Object.defineProperties(this,{parent:{get:function(){return n.parent}},scrollable:{get:function(){return n.scrollable}},autoPlace:{get:function(){return n.autoPlace}},closeOnTop:{get:function(){return n.closeOnTop}},preset:{get:function(){return r.parent?r.getRoot().preset:n.load.preset},set:function(f){r.parent?r.getRoot().preset=f:n.load.preset=f,_V(this),r.revert()}},width:{get:function(){return n.width},set:function(f){n.width=f,u0(r,f)}},name:{get:function(){return n.name},set:function(f){n.name=f,o&&(o.innerHTML=n.name)}},closed:{get:function(){return n.closed},set:function(f){n.closed=f,n.closed?_e.addClass(r.__ul,t.CLASS_CLOSED):_e.removeClass(r.__ul,t.CLASS_CLOSED),this.onResize(),r.__closeButton&&(r.__closeButton.innerHTML=f?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return n.load}},useLocalStorage:{get:function(){return i},set:function(f){mf&&(i=f,f?_e.bind(window,"unload",a):_e.unbind(window,"unload",a),localStorage.setItem(yl(r,"isLocal"),f))}}}),Pe.isUndefined(n.parent)){if(this.closed=n.closed||!1,_e.addClass(this.domElement,t.CLASS_MAIN),_e.makeSelectable(this.domElement,!1),mf&&i){r.useLocalStorage=!0;var s=localStorage.getItem(yl(this,"gui"));s&&(n.load=JSON.parse(s))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,_e.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),n.closeOnTop?(_e.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(_e.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),_e.bind(this.__closeButton,"click",function(){r.closed=!r.closed})}else{n.closed===void 0&&(n.closed=!0);var u=document.createTextNode(n.name);_e.addClass(u,"controller-name"),o=p_(r,u);var l=function(f){return f.preventDefault(),r.closed=!r.closed,!1};_e.addClass(this.__ul,t.CLASS_CLOSED),_e.addClass(o,"title"),_e.bind(o,"click",l),n.closed||(this.closed=!1)}n.autoPlace&&(Pe.isUndefined(n.parent)&&(XS&&(ml=document.createElement("div"),_e.addClass(ml,jS),_e.addClass(ml,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ml),XS=!1),ml.appendChild(this.domElement),_e.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||u0(r,n.width)),this.__resizeHandler=function(){r.onResizeDebounced()},_e.bind(window,"resize",this.__resizeHandler),_e.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),_e.bind(this.__ul,"transitionend",this.__resizeHandler),_e.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),n.resizable&&yV(this),a=function(){mf&&localStorage.getItem(yl(r,"isLocal"))==="true"&&localStorage.setItem(yl(r,"gui"),JSON.stringify(r.getSaveObject()))},this.saveToLocalStorageIfPossible=a;function c(){var h=r.getRoot();h.width+=1,Pe.defer(function(){h.width-=1})}n.parent||c()};lr.toggleHide=function(){em=!em,Pe.each(SP,function(t){t.domElement.style.display=em?"none":""})};lr.CLASS_AUTO_PLACE="a";lr.CLASS_AUTO_PLACE_CONTAINER="ac";lr.CLASS_MAIN="main";lr.CLASS_CONTROLLER_ROW="cr";lr.CLASS_TOO_TALL="taller-than-window";lr.CLASS_CLOSED="closed";lr.CLASS_CLOSE_BUTTON="close-button";lr.CLASS_CLOSE_TOP="close-top";lr.CLASS_CLOSE_BOTTOM="close-bottom";lr.CLASS_DRAG="drag";lr.DEFAULT_WIDTH=245;lr.TEXT_CLOSED="Close Controls";lr.TEXT_OPEN="Open Controls";lr._keydownHandler=function(t){document.activeElement.type!=="text"&&(t.which===WS||t.keyCode===WS)&&lr.toggleHide()};_e.bind(window,"keydown",lr._keydownHandler,!1);Pe.extend(lr.prototype,{add:function(e,r){return Of(this,e,r,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,r){return Of(this,e,r,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var r=this;Pe.defer(function(){r.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&ml.removeChild(this.domElement);var e=this;Pe.each(this.__folders,function(r){e.removeFolder(r)}),_e.unbind(window,"keydown",lr._keydownHandler,!1),qS(this)},addFolder:function(e){if(this.__folders[e]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+e+'"');var r={name:e,parent:this};r.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(r.closed=this.load.folders[e].closed,r.load=this.load.folders[e]);var n=new lr(r);this.__folders[e]=n;var i=p_(this,n.domElement);return _e.addClass(i,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],qS(e);var r=this;Pe.each(e.__folders,function(n){e.removeFolder(n)}),Pe.defer(function(){r.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var r=_e.getOffset(e.__ul).top,n=0;Pe.each(e.__ul.childNodes,function(i){e.autoPlace&&i===e.__save_row||(n+=_e.getHeight(i))}),window.innerHeight-r-YS<n?(_e.addClass(e.domElement,lr.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-r-YS+"px"):(_e.removeClass(e.domElement,lr.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&Pe.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:Pe.debounce(function(){this.onResize()},50),remember:function(){if(Pe.isUndefined(Rf)&&(Rf=new pV,Rf.domElement.innerHTML=cV),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;Pe.each(Array.prototype.slice.call(arguments),function(r){e.__rememberedObjects.length===0&&mV(e),e.__rememberedObjects.indexOf(r)===-1&&e.__rememberedObjects.push(r)}),this.autoPlace&&u0(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=_d(this)),e.folders={},Pe.each(this.__folders,function(r,n){e.folders[n]=r.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=_d(this),o0(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[sh]=_d(this,!0)),this.load.remembered[e]=_d(this),this.preset=e,s0(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){Pe.each(this.__controllers,function(r){this.getRoot().load.remembered?wP(e||this.getRoot(),r):r.setValue(r.initialValue),r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())},this),Pe.each(this.__folders,function(r){r.revert(r)}),e||o0(this.getRoot(),!1)},listen:function(e){var r=this.__listening.length===0;this.__listening.push(e),r&&TP(this.__listening)},updateDisplay:function(){Pe.each(this.__controllers,function(e){e.updateDisplay()}),Pe.each(this.__folders,function(e){e.updateDisplay()})}});function p_(t,e,r){var n=document.createElement("li");return e&&n.appendChild(e),r?t.__ul.insertBefore(n,r):t.__ul.appendChild(n),t.onResize(),n}function qS(t){_e.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&_e.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function o0(t,e){var r=t.__preset_select[t.__preset_select.selectedIndex];e?r.innerHTML=r.value+"*":r.innerHTML=r.value}function gV(t,e,r){if(r.__li=e,r.__gui=t,Pe.extend(r,{options:function(o){if(arguments.length>1){var s=r.__li.nextElementSibling;return r.remove(),Of(t,r.object,r.property,{before:s,factoryArgs:[Pe.toArray(arguments)]})}if(Pe.isArray(o)||Pe.isObject(o)){var u=r.__li.nextElementSibling;return r.remove(),Of(t,r.object,r.property,{before:u,factoryArgs:[o]})}},name:function(o){return r.__li.firstElementChild.firstElementChild.innerHTML=o,r},listen:function(){return r.__gui.listen(r),r},remove:function(){return r.__gui.remove(r),r}}),r instanceof i0){var n=new Qp(r.object,r.property,{min:r.__min,max:r.__max,step:r.__step});Pe.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(a){var o=r[a],s=n[a];r[a]=n[a]=function(){var u=Array.prototype.slice.call(arguments);return s.apply(n,u),o.apply(r,u)}}),_e.addClass(e,"has-slider"),r.domElement.insertBefore(n.domElement,r.domElement.firstElementChild)}else if(r instanceof Qp){var i=function(o){if(Pe.isNumber(r.__min)&&Pe.isNumber(r.__max)){var s=r.__li.firstElementChild.firstElementChild.innerHTML,u=r.__gui.__listening.indexOf(r)>-1;r.remove();var l=Of(t,r.object,r.property,{before:r.__li.nextElementSibling,factoryArgs:[r.__min,r.__max,r.__step]});return l.name(s),u&&l.listen(),l}return o};r.min=Pe.compose(i,r.min),r.max=Pe.compose(i,r.max)}else r instanceof _P?(_e.bind(e,"click",function(){_e.fakeEvent(r.__checkbox,"click")}),_e.bind(r.__checkbox,"click",function(a){a.stopPropagation()})):r instanceof xP?(_e.bind(e,"click",function(){_e.fakeEvent(r.__button,"click")}),_e.bind(e,"mouseover",function(){_e.addClass(r.__button,"hover")}),_e.bind(e,"mouseout",function(){_e.removeClass(r.__button,"hover")})):r instanceof a0&&(_e.addClass(e,"color"),r.updateDisplay=Pe.compose(function(a){return e.style.borderLeftColor=r.__color.toString(),a},r.updateDisplay),r.updateDisplay());r.setValue=Pe.compose(function(a){return t.getRoot().__preset_select&&r.isModified()&&o0(t.getRoot(),!0),a},r.setValue)}function wP(t,e){var r=t.getRoot(),n=r.__rememberedObjects.indexOf(e.object);if(n!==-1){var i=r.__rememberedObjectIndecesToControllers[n];if(i===void 0&&(i={},r.__rememberedObjectIndecesToControllers[n]=i),i[e.property]=e,r.load&&r.load.remembered){var a=r.load.remembered,o=void 0;if(a[t.preset])o=a[t.preset];else if(a[sh])o=a[sh];else return;if(o[n]&&o[n][e.property]!==void 0){var s=o[n][e.property];e.initialValue=s,e.setValue(s)}}}}function Of(t,e,r,n){if(e[r]===void 0)throw new Error('Object "'+e+'" has no property "'+r+'"');var i=void 0;if(n.color)i=new a0(e,r);else{var a=[e,r].concat(n.factoryArgs);i=fV.apply(t,a)}n.before instanceof Pu&&(n.before=n.before.__li),wP(t,i),_e.addClass(i.domElement,"c");var o=document.createElement("span");_e.addClass(o,"property-name"),o.innerHTML=i.property;var s=document.createElement("div");s.appendChild(o),s.appendChild(i.domElement);var u=p_(t,s,n.before);return _e.addClass(u,lr.CLASS_CONTROLLER_ROW),i instanceof a0?_e.addClass(u,"color"):_e.addClass(u,tV(i.getValue())),gV(t,u,i),t.__controllers.push(i),i}function yl(t,e){return document.location.href+"."+e}function s0(t,e,r){var n=document.createElement("option");n.innerHTML=e,n.value=e,t.__preset_select.appendChild(n),r&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function KS(t,e){e.style.display=t.useLocalStorage?"block":"none"}function mV(t){var e=t.__save_row=document.createElement("li");_e.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),_e.addClass(e,"save-row");var r=document.createElement("span");r.innerHTML="&nbsp;",_e.addClass(r,"button gears");var n=document.createElement("span");n.innerHTML="Save",_e.addClass(n,"button"),_e.addClass(n,"save");var i=document.createElement("span");i.innerHTML="New",_e.addClass(i,"button"),_e.addClass(i,"save-as");var a=document.createElement("span");a.innerHTML="Revert",_e.addClass(a,"button"),_e.addClass(a,"revert");var o=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?Pe.each(t.load.remembered,function(h,f){s0(t,f,f===t.preset)}):s0(t,sh,!1),_e.bind(o,"change",function(){for(var h=0;h<t.__preset_select.length;h++)t.__preset_select[h].innerHTML=t.__preset_select[h].value;t.preset=this.value}),e.appendChild(o),e.appendChild(r),e.appendChild(n),e.appendChild(i),e.appendChild(a),mf){var s=document.getElementById("dg-local-explain"),u=document.getElementById("dg-local-storage"),l=document.getElementById("dg-save-locally");l.style.display="block",localStorage.getItem(yl(t,"isLocal"))==="true"&&u.setAttribute("checked","checked"),KS(t,s),_e.bind(u,"change",function(){t.useLocalStorage=!t.useLocalStorage,KS(t,s)})}var c=document.getElementById("dg-new-constructor");_e.bind(c,"keydown",function(h){h.metaKey&&(h.which===67||h.keyCode===67)&&Rf.hide()}),_e.bind(r,"click",function(){c.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),Rf.show(),c.focus(),c.select()}),_e.bind(n,"click",function(){t.save()}),_e.bind(i,"click",function(){var h=prompt("Enter a new preset name.");h&&t.saveAs(h)}),_e.bind(a,"click",function(){t.revert()})}function yV(t){var e=void 0;t.__resize_handle=document.createElement("div"),Pe.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});function r(a){return a.preventDefault(),t.width+=e-a.clientX,t.onResize(),e=a.clientX,!1}function n(){_e.removeClass(t.__closeButton,lr.CLASS_DRAG),_e.unbind(window,"mousemove",r),_e.unbind(window,"mouseup",n)}function i(a){return a.preventDefault(),e=a.clientX,_e.addClass(t.__closeButton,lr.CLASS_DRAG),_e.bind(window,"mousemove",r),_e.bind(window,"mouseup",n),!1}_e.bind(t.__resize_handle,"mousedown",i),_e.bind(t.__closeButton,"mousedown",i),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function u0(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function _d(t,e){var r={};return Pe.each(t.__rememberedObjects,function(n,i){var a={},o=t.__rememberedObjectIndecesToControllers[i];Pe.each(o,function(s,u){a[u]=e?s.initialValue:s.getValue()}),r[i]=a}),r}function _V(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}function TP(t){t.length!==0&&dV.call(window,function(){TP(t)}),Pe.each(t,function(e){e.updateDisplay()})}var Dae=lr;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var l0=function(t,e){return l0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},l0(t,e)};function Me(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");l0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var bV=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),xV=function(){function t(){this.browser=new bV,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t}(),Qs=new xV;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Qs.wxa=!0,Qs.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Qs.worker=!0:typeof navigator>"u"?(Qs.node=!0,Qs.svgSupported=!0):SV(navigator.userAgent,Qs);function SV(t,e){var r=e.browser,n=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),a=t.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(t);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),a&&(r.edge=!0,r.version=a[1],r.newEdge=+a[1].split(".")[0]>18),o&&(r.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,e.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(r.ie&&"transition"in s||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||r.ie&&+r.version>=9}const wt=Qs;var v_=12,wV="sans-serif",mu=v_+"px "+wV,TV=20,CV=100,AV="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function kV(t){var e={};if(typeof JSON>"u")return e;for(var r=0;r<t.length;r++){var n=String.fromCharCode(r+32),i=(t.charCodeAt(r)-TV)/CV;e[n]=i}return e}var EV=kV(AV),gc={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var t,e;return function(r,n){if(!t){var i=gc.createCanvas();t=i&&i.getContext("2d")}if(t)return e!==n&&(e=t.font=n||mu),t.measureText(r);r=r||"",n=n||mu;var a=/(\d+)px/.exec(n),o=a&&+a[1]||v_,s=0;if(n.indexOf("mono")>=0)s=o*r.length;else for(var u=0;u<r.length;u++){var l=EV[r[u]];s+=l==null?o:l*o}return{width:s}}}(),loadImage:function(t,e,r){var n=new Image;return n.onload=e,n.onerror=r,n.src=t,n}},CP=ts(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),AP=ts(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),mc=Object.prototype.toString,Yv=Array.prototype,PV=Yv.forEach,DV=Yv.filter,g_=Yv.slice,MV=Yv.map,ZS=function(){}.constructor,bd=ZS?ZS.prototype:null,m_="__proto__",LV=2311;function kP(){return LV++}function y_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console<"u"&&console.error.apply(console,t)}function _t(t){if(t==null||typeof t!="object")return t;var e=t,r=mc.call(t);if(r==="[object Array]"){if(!Bf(t)){e=[];for(var n=0,i=t.length;n<i;n++)e[n]=_t(t[n])}}else if(AP[r]){if(!Bf(t)){var a=t.constructor;if(a.from)e=a.from(t);else{e=new a(t.length);for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}}}else if(!CP[r]&&!Bf(t)&&!uh(t)){e={};for(var o in t)t.hasOwnProperty(o)&&o!==m_&&(e[o]=_t(t[o]))}return e}function Tt(t,e,r){if(!nt(e)||!nt(t))return r?_t(e):t;for(var n in e)if(e.hasOwnProperty(n)&&n!==m_){var i=t[n],a=e[n];nt(a)&&nt(i)&&!je(a)&&!je(i)&&!uh(a)&&!uh(i)&&!QS(a)&&!QS(i)&&!Bf(a)&&!Bf(i)?Tt(i,a,r):(r||!(n in t))&&(t[n]=_t(e[n]))}return t}function Oe(t,e){if(Object.assign)Object.assign(t,e);else for(var r in e)e.hasOwnProperty(r)&&r!==m_&&(t[r]=e[r]);return t}function lt(t,e,r){for(var n=cr(e),i=0;i<n.length;i++){var a=n[i];(r?e[a]!=null:t[a]==null)&&(t[a]=e[a])}return t}function Dt(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r}return-1}function RV(t,e){var r=t.prototype;function n(){}n.prototype=e.prototype,t.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(t.prototype[i]=r[i]);t.prototype.constructor=t,t.superClass=e}function Wi(t,e,r){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&(r?e[a]!=null:t[a]==null)&&(t[a]=e[a])}else lt(t,e,r)}function wn(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function Z(t,e,r){if(t&&e)if(t.forEach&&t.forEach===PV)t.forEach(e,r);else if(t.length===+t.length)for(var n=0,i=t.length;n<i;n++)e.call(r,t[n],n,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(r,t[a],a,t)}function qe(t,e,r){if(!t)return[];if(!e)return __(t);if(t.map&&t.map===MV)return t.map(e,r);for(var n=[],i=0,a=t.length;i<a;i++)n.push(e.call(r,t[i],i,t));return n}function ts(t,e,r,n){if(t&&e){for(var i=0,a=t.length;i<a;i++)r=e.call(n,r,t[i],i,t);return r}}function xr(t,e,r){if(!t)return[];if(!e)return __(t);if(t.filter&&t.filter===DV)return t.filter(e,r);for(var n=[],i=0,a=t.length;i<a;i++)e.call(r,t[i],i,t)&&n.push(t[i]);return n}function cr(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}function OV(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return t.apply(e,r.concat(g_.call(arguments)))}}var nr=bd&&ft(bd.bind)?bd.call.bind(bd.bind):OV;function zt(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return function(){return t.apply(this,e.concat(g_.call(arguments)))}}function je(t){return Array.isArray?Array.isArray(t):mc.call(t)==="[object Array]"}function ft(t){return typeof t=="function"}function Je(t){return typeof t=="string"}function c0(t){return mc.call(t)==="[object String]"}function Yt(t){return typeof t=="number"}function nt(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function QS(t){return!!CP[mc.call(t)]}function Zn(t){return!!AP[mc.call(t)]}function uh(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function Xv(t){return t.colorStops!=null}function IV(t){return t.image!=null}function BV(t){return mc.call(t)==="[object RegExp]"}function Jp(t){return t!==t}function lh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,n=t.length;r<n;r++)if(t[r]!=null)return t[r]}function Mt(t,e){return t??e}function If(t,e,r){return t??e??r}function __(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return g_.apply(t,e)}function EP(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function Ea(t,e){if(!t)throw new Error(e)}function ga(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var PP="__ec_primitive__";function ev(t){t[PP]=!0}function Bf(t){return t[PP]}var NV=function(){function t(){this.data={}}return t.prototype.delete=function(e){var r=this.has(e);return r&&delete this.data[e],r},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,r){return this.data[e]=r,this},t.prototype.keys=function(){return cr(this.data)},t.prototype.forEach=function(e){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&e(r[n],n)},t}(),DP=typeof Map=="function";function FV(){return DP?new Map:new NV}var $V=function(){function t(e){var r=je(e);this.data=FV();var n=this;e instanceof t?e.each(i):e&&Z(e,i);function i(a,o){r?n.set(a,o):n.set(o,a)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,r){return this.data.set(e,r),r},t.prototype.each=function(e,r){this.data.forEach(function(n,i){e.call(r,n,i)})},t.prototype.keys=function(){var e=this.data.keys();return DP?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t}();function ct(t){return new $V(t)}function HV(t,e){for(var r=new t.constructor(t.length+e.length),n=0;n<t.length;n++)r[n]=t[n];for(var i=t.length,n=0;n<e.length;n++)r[n+i]=e[n];return r}function qv(t,e){var r;if(Object.create)r=Object.create(t);else{var n=function(){};n.prototype=t,r=new n}return e&&Oe(r,e),r}function MP(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function ao(t,e){return t.hasOwnProperty(e)}function Sn(){}var zV=180/Math.PI;function yc(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function UV(t){return[t[0],t[1]]}function JS(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function VV(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function GV(t){return Math.sqrt(jV(t))}function jV(t){return t[0]*t[0]+t[1]*t[1]}function tm(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function WV(t,e){var r=GV(e);return r===0?(t[0]=0,t[1]=0):(t[0]=e[0]/r,t[1]=e[1]/r),t}function f0(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var h0=f0;function YV(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var Bl=YV;function kp(t,e,r,n){return t[0]=e[0]+n*(r[0]-e[0]),t[1]=e[1]+n*(r[1]-e[1]),t}function mi(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function wl(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function Tl(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}var Ku=function(){function t(e,r){this.target=e,this.topTarget=r&&r.topTarget}return t}(),XV=function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var r=e.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Ku(r,e),"dragstart",e.event))},t.prototype._drag=function(e){var r=this._draggingTarget;if(r){var n=e.offsetX,i=e.offsetY,a=n-this._x,o=i-this._y;this._x=n,this._y=i,r.drift(a,o,e),this.handler.dispatchToElement(new Ku(r,e),"drag",e.event);var s=this.handler.findHover(n,i,r).target,u=this._dropTarget;this._dropTarget=s,r!==s&&(u&&s!==u&&this.handler.dispatchToElement(new Ku(u,e),"dragleave",e.event),s&&s!==u&&this.handler.dispatchToElement(new Ku(s,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Ku(r,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Ku(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t}();const qV=XV;var KV=function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,r,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof r=="function"&&(i=n,n=r,r=null),!n||!e)return this;var o=this._$eventProcessor;r!=null&&o&&o.normalizeQuery&&(r=o.normalizeQuery(r)),a[e]||(a[e]=[]);for(var s=0;s<a[e].length;s++)if(a[e][s].h===n)return this;var u={h:n,query:r,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},l=a[e].length-1,c=a[e][l];return c&&c.callAtLast?a[e].splice(l,0,u):a[e].push(u),this},t.prototype.isSilent=function(e){var r=this._$handlers;return!r||!r[e]||!r[e].length},t.prototype.off=function(e,r){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(r){if(n[e]){for(var i=[],a=0,o=n[e].length;a<o;a++)n[e][a].h!==r&&i.push(n[e][a]);n[e]=i}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},t.prototype.trigger=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=r.length,s=i.length,u=0;u<s;u++){var l=i[u];if(!(a&&a.filter&&l.query!=null&&!a.filter(e,l.query)))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,r[0]);break;case 2:l.h.call(l.ctx,r[0],r[1]);break;default:l.h.apply(l.ctx,r);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=r.length,s=r[o-1],u=i.length,l=0;l<u;l++){var c=i[l];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,r[0]);break;case 2:c.h.call(s,r[0],r[1]);break;default:c.h.apply(s,r.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t}();const Yi=KV;var ZV=Math.log(2);function d0(t,e,r,n,i,a){var o=n+"-"+i,s=t.length;if(a.hasOwnProperty(o))return a[o];if(e===1){var u=Math.round(Math.log((1<<s)-1&~i)/ZV);return t[r][u]}for(var l=n|1<<r,c=r+1;n&1<<c;)c++;for(var h=0,f=0,p=0;f<s;f++){var v=1<<f;v&i||(h+=(p%2?-1:1)*t[r][f]*d0(t,e-1,c,l,i|v,a),p++)}return a[o]=h,h}function ew(t,e){var r=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},i=d0(r,8,0,0,0,n);if(i!==0){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)a[s]==null&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*d0(r,7,o===0?1:0,1<<o,1<<s,n)/i*e[o];return function(u,l,c){var h=l*a[6]+c*a[7]+1;u[0]=(l*a[0]+c*a[1]+a[2])/h,u[1]=(l*a[3]+c*a[4]+a[5])/h}}}var tw="___zrEVENTSAVED",rm=[];function QV(t,e,r,n,i){return p0(rm,e,n,i,!0)&&p0(t,r,rm[0],rm[1])}function p0(t,e,r,n,i){if(e.getBoundingClientRect&&wt.domSupported&&!LP(e)){var a=e[tw]||(e[tw]={}),o=JV(e,a),s=eG(o,a,i);if(s)return s(t,r,n),!0}return!1}function JV(t,e){var r=e.markers;if(r)return r;r=e.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,u=a%2,l=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[u]+":0",i[l]+":0",n[1-u]+":auto",i[1-l]+":auto",""].join("!important;"),t.appendChild(o),r.push(o)}return r}function eG(t,e,r){for(var n=r?"invTrans":"trans",i=e[n],a=e.srcCoords,o=[],s=[],u=!0,l=0;l<4;l++){var c=t[l].getBoundingClientRect(),h=2*l,f=c.left,p=c.top;o.push(f,p),u=u&&a&&f===a[h]&&p===a[h+1],s.push(t[l].offsetLeft,t[l].offsetTop)}return u&&i?i:(e.srcCoords=o,e[n]=r?ew(s,o):ew(o,s))}function LP(t){return t.nodeName.toUpperCase()==="CANVAS"}var tG=/([&<>"'])/g,rG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function li(t){return t==null?"":(t+"").replace(tG,function(e,r){return rG[r]})}var nG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,nm=[],iG=wt.browser.firefox&&+wt.browser.version.split(".")[0]<39;function v0(t,e,r,n){return r=r||{},n?rw(t,e,r):iG&&e.layerX!=null&&e.layerX!==e.offsetX?(r.zrX=e.layerX,r.zrY=e.layerY):e.offsetX!=null?(r.zrX=e.offsetX,r.zrY=e.offsetY):rw(t,e,r),r}function rw(t,e,r){if(wt.domSupported&&t.getBoundingClientRect){var n=e.clientX,i=e.clientY;if(LP(t)){var a=t.getBoundingClientRect();r.zrX=n-a.left,r.zrY=i-a.top;return}else if(p0(nm,t,n,i)){r.zrX=nm[0],r.zrY=nm[1];return}}r.zrX=r.zrY=0}function b_(t){return t||window.event}function ai(t,e,r){if(e=b_(e),e.zrX!=null)return e;var n=e.type,i=n&&n.indexOf("touch")>=0;if(i){var o=n!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&v0(t,o,e,r)}else{v0(t,e,e,r);var a=aG(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&nG.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function aG(t){var e=t.wheelDelta;if(e)return e;var r=t.deltaX,n=t.deltaY;if(r==null||n==null)return e;var i=Math.abs(n!==0?n:r),a=n>0?-1:n<0?1:r>0?-1:1;return 3*i*a}function g0(t,e,r,n){t.addEventListener(e,r,n)}function oG(t,e,r,n){t.removeEventListener(e,r,n)}var RP=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0},sG=function(){function t(){this._track=[]}return t.prototype.recognize=function(e,r,n){return this._doTrack(e,r,n),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,r,n){var i=e.touches;if(i){for(var a={points:[],touches:[],target:r,event:e},o=0,s=i.length;o<s;o++){var u=i[o],l=v0(n,u,{});a.points.push([l.zrX,l.zrY]),a.touches.push(u)}this._track.push(a)}},t.prototype._recognize=function(e){for(var r in im)if(im.hasOwnProperty(r)){var n=im[r](this._track,e);if(n)return n}},t}();function nw(t){var e=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}function uG(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var im={pinch:function(t,e){var r=t.length;if(r){var n=(t[r-1]||{}).points,i=(t[r-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=nw(n)/nw(i);!isFinite(a)&&(a=1),e.pinchScale=a;var o=uG(n);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}};function ec(){return[1,0,0,1,0,0]}function x_(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function lG(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Nl(t,e,r){var n=e[0]*r[0]+e[2]*r[1],i=e[1]*r[0]+e[3]*r[1],a=e[0]*r[2]+e[2]*r[3],o=e[1]*r[2]+e[3]*r[3],s=e[0]*r[4]+e[2]*r[5]+e[4],u=e[1]*r[4]+e[3]*r[5]+e[5];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t}function tv(t,e,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+r[0],t[5]=e[5]+r[1],t}function Kv(t,e,r){var n=e[0],i=e[2],a=e[4],o=e[1],s=e[3],u=e[5],l=Math.sin(r),c=Math.cos(r);return t[0]=n*c+o*l,t[1]=-n*l+o*c,t[2]=i*c+s*l,t[3]=-i*l+c*s,t[4]=c*a+l*u,t[5]=c*u-l*a,t}function cG(t,e,r){var n=r[0],i=r[1];return t[0]=e[0]*n,t[1]=e[1]*i,t[2]=e[2]*n,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*i,t}function Zv(t,e){var r=e[0],n=e[2],i=e[4],a=e[1],o=e[3],s=e[5],u=r*o-a*n;return u?(u=1/u,t[0]=o*u,t[1]=-a*u,t[2]=-n*u,t[3]=r*u,t[4]=(n*s-o*i)*u,t[5]=(a*i-r*s)*u,t):null}var fG=function(){function t(e,r){this.x=e||0,this.y=r||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,r){this.x+=e.x*r,this.y+=e.y*r},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)},t.prototype.distanceSquare=function(e){var r=this.x-e.x,n=this.y-e.y;return r*r+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var r=this.x,n=this.y;return this.x=e[0]*r+e[2]*n+e[4],this.y=e[1]*r+e[3]*n+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,r,n){e.x=r,e.y=n},t.copy=function(e,r){e.x=r.x,e.y=r.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,r){return e.x*r.x+e.y*r.y},t.add=function(e,r,n){e.x=r.x+n.x,e.y=r.y+n.y},t.sub=function(e,r,n){e.x=r.x-n.x,e.y=r.y-n.y},t.scale=function(e,r,n){e.x=r.x*n,e.y=r.y*n},t.scaleAndAdd=function(e,r,n,i){e.x=r.x+n.x*i,e.y=r.y+n.y*i},t.lerp=function(e,r,n,i){var a=1-i;e.x=a*r.x+i*n.x,e.y=a*r.y+i*n.y},t}();const at=fG;var xd=Math.min,Sd=Math.max,ks=new at,Es=new at,Ps=new at,Ds=new at,Gc=new at,jc=new at,hG=function(){function t(e,r,n,i){n<0&&(e=e+n,n=-n),i<0&&(r=r+i,i=-i),this.x=e,this.y=r,this.width=n,this.height=i}return t.prototype.union=function(e){var r=xd(e.x,this.x),n=xd(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Sd(e.x+e.width,this.x+this.width)-r:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=Sd(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=r,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var r=this,n=e.width/r.width,i=e.height/r.height,a=ec();return tv(a,a,[-r.x,-r.y]),cG(a,a,[n,i]),tv(a,a,[e.x,e.y]),a},t.prototype.intersect=function(e,r){if(!e)return!1;e instanceof t||(e=t.create(e));var n=this,i=n.x,a=n.x+n.width,o=n.y,s=n.y+n.height,u=e.x,l=e.x+e.width,c=e.y,h=e.y+e.height,f=!(a<u||l<i||s<c||h<o);if(r){var p=1/0,v=0,g=Math.abs(a-u),m=Math.abs(l-i),_=Math.abs(s-c),b=Math.abs(h-o),w=Math.min(g,m),T=Math.min(_,b);a<u||l<i?w>v&&(v=w,g<m?at.set(jc,-g,0):at.set(jc,m,0)):w<p&&(p=w,g<m?at.set(Gc,g,0):at.set(Gc,-m,0)),s<c||h<o?T>v&&(v=T,_<b?at.set(jc,0,-_):at.set(jc,0,b)):w<p&&(p=w,_<b?at.set(Gc,0,_):at.set(Gc,0,-b))}return r&&at.copy(r,f?Gc:jc),f},t.prototype.contain=function(e,r){var n=this;return e>=n.x&&e<=n.x+n.width&&r>=n.y&&r<=n.y+n.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,r){e.x=r.x,e.y=r.y,e.width=r.width,e.height=r.height},t.applyTransform=function(e,r,n){if(!n){e!==r&&t.copy(e,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],o=n[4],s=n[5];e.x=r.x*i+o,e.y=r.y*a+s,e.width=r.width*i,e.height=r.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}ks.x=Ps.x=r.x,ks.y=Ds.y=r.y,Es.x=Ds.x=r.x+r.width,Es.y=Ps.y=r.y+r.height,ks.transform(n),Ds.transform(n),Es.transform(n),Ps.transform(n),e.x=xd(ks.x,Es.x,Ps.x,Ds.x),e.y=xd(ks.y,Es.y,Ps.y,Ds.y);var u=Sd(ks.x,Es.x,Ps.x,Ds.x),l=Sd(ks.y,Es.y,Ps.y,Ds.y);e.width=u-e.x,e.height=l-e.y},t}();const Bt=hG;var OP="silent";function dG(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:pG}}function pG(){RP(this.event)}var vG=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handler=null,r}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Yi),Wc=function(){function t(e,r){this.x=e,this.y=r}return t}(),gG=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],am=new Bt(0,0,0,0),IP=function(t){Me(e,t);function e(r,n,i,a,o){var s=t.call(this)||this;return s._hovered=new Wc(0,0),s.storage=r,s.painter=n,s.painterRoot=a,s._pointerSize=o,i=i||new vG,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new qV(s),s}return e.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(Z(gG,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},e.prototype.mousemove=function(r){var n=r.zrX,i=r.zrY,a=BP(this,n,i),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var u=this._hovered=a?new Wc(n,i):this.findHover(n,i),l=u.target,c=this.proxy;c.setCursor&&c.setCursor(l?l.cursor:"default"),s&&l!==s&&this.dispatchToElement(o,"mouseout",r),this.dispatchToElement(u,"mousemove",r),l&&l!==s&&this.dispatchToElement(u,"mouseover",r)},e.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},e.prototype.resize=function(){this._hovered=new Wc(0,0)},e.prototype.dispatch=function(r,n){var i=this[r];i&&i.call(this,n)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},e.prototype.dispatchToElement=function(r,n,i){r=r||{};var a=r.target;if(!(a&&a.silent)){for(var o="on"+n,s=dG(n,r,i);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(n,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){typeof u[o]=="function"&&u[o].call(u,s),u.trigger&&u.trigger(n,s)}))}},e.prototype.findHover=function(r,n,i){var a=this.storage.getDisplayList(),o=new Wc(r,n);if(iw(a,o,r,n,i),this._pointerSize&&!o.target){for(var s=[],u=this._pointerSize,l=u/2,c=new Bt(r-l,n-l,u,u),h=a.length-1;h>=0;h--){var f=a[h];f!==i&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(am.copy(f.getBoundingRect()),f.transform&&am.applyTransform(f.transform),am.intersect(c)&&s.push(f))}if(s.length)for(var p=4,v=Math.PI/12,g=Math.PI*2,m=0;m<l;m+=p)for(var _=0;_<g;_+=v){var b=r+m*Math.cos(_),w=n+m*Math.sin(_);if(iw(s,o,b,w,i),o.target)return o}}return o},e.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new sG);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var o=a.type;r.gestureEvent=o;var s=new Wc;s.target=a.target,this.dispatchToElement(s,o,a.event)}},e}(Yi);Z(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){IP.prototype[t]=function(e){var r=e.zrX,n=e.zrY,i=BP(this,r,n),a,o;if((t!=="mouseup"||!i)&&(a=this.findHover(r,n),o=a.target),t==="mousedown")this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if(t==="mouseup")this._upEl=o;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||h0(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,t,e)}});function mG(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){for(var n=t,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var o=n.getClipPath();if(o&&!o.contain(e,r))return!1;n.silent&&(i=!0)}var s=n.__hostTarget;n=s||n.parent}return i?OP:!0}return!1}function iw(t,e,r,n,i){for(var a=t.length-1;a>=0;a--){var o=t[a],s=void 0;if(o!==i&&!o.ignore&&(s=mG(o,r,n))&&(!e.topTarget&&(e.topTarget=o),s!==OP)){e.target=o;break}}}function BP(t,e,r){var n=t.painter;return e<0||e>n.getWidth()||r<0||r>n.getHeight()}const yG=IP;var NP=32,Yc=7;function _G(t){for(var e=0;t>=NP;)e|=t&1,t>>=1;return t+e}function aw(t,e,r,n){var i=e+1;if(i===r)return 1;if(n(t[i++],t[e])<0){for(;i<r&&n(t[i],t[i-1])<0;)i++;bG(t,e,i)}else for(;i<r&&n(t[i],t[i-1])>=0;)i++;return i-e}function bG(t,e,r){for(r--;e<r;){var n=t[e];t[e++]=t[r],t[r--]=n}}function ow(t,e,r,n,i){for(n===e&&n++;n<r;n++){for(var a=t[n],o=e,s=n,u;o<s;)u=o+s>>>1,i(a,t[u])<0?s=u:o=u+1;var l=n-o;switch(l){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:for(;l>0;)t[o+l]=t[o+l-1],l--}t[o]=a}}function om(t,e,r,n,i,a){var o=0,s=0,u=1;if(a(t,e[r+i])>0){for(s=n-i;u<s&&a(t,e[r+i+u])>0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}else{for(s=i+1;u<s&&a(t,e[r+i-u])<=0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}for(o++;o<u;){var c=o+(u-o>>>1);a(t,e[r+c])>0?o=c+1:u=c}return u}function sm(t,e,r,n,i,a){var o=0,s=0,u=1;if(a(t,e[r+i])<0){for(s=i+1;u<s&&a(t,e[r+i-u])<0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s);var l=o;o=i-u,u=i-l}else{for(s=n-i;u<s&&a(t,e[r+i+u])>=0;)o=u,u=(u<<1)+1,u<=0&&(u=s);u>s&&(u=s),o+=i,u+=i}for(o++;o<u;){var c=o+(u-o>>>1);a(t,e[r+c])<0?u=c:o=c+1}return u}function xG(t,e){var r=Yc,n,i,a=0;t.length;var o=[];n=[],i=[];function s(p,v){n[a]=p,i[a]=v,a+=1}function u(){for(;a>1;){var p=a-2;if(p>=1&&i[p-1]<=i[p]+i[p+1]||p>=2&&i[p-2]<=i[p]+i[p-1])i[p-1]<i[p+1]&&p--;else if(i[p]>i[p+1])break;c(p)}}function l(){for(;a>1;){var p=a-2;p>0&&i[p-1]<i[p+1]&&p--,c(p)}}function c(p){var v=n[p],g=i[p],m=n[p+1],_=i[p+1];i[p]=g+_,p===a-3&&(n[p+1]=n[p+2],i[p+1]=i[p+2]),a--;var b=sm(t[m],t,v,g,0,e);v+=b,g-=b,g!==0&&(_=om(t[v+g-1],t,m,_,_-1,e),_!==0&&(g<=_?h(v,g,m,_):f(v,g,m,_)))}function h(p,v,g,m){var _=0;for(_=0;_<v;_++)o[_]=t[p+_];var b=0,w=g,T=p;if(t[T++]=t[w++],--m===0){for(_=0;_<v;_++)t[T+_]=o[b+_];return}if(v===1){for(_=0;_<m;_++)t[T+_]=t[w+_];t[T+m]=o[b];return}for(var k=r,A,D,O;;){A=0,D=0,O=!1;do if(e(t[w],o[b])<0){if(t[T++]=t[w++],D++,A=0,--m===0){O=!0;break}}else if(t[T++]=o[b++],A++,D=0,--v===1){O=!0;break}while((A|D)<k);if(O)break;do{if(A=sm(t[w],o,b,v,0,e),A!==0){for(_=0;_<A;_++)t[T+_]=o[b+_];if(T+=A,b+=A,v-=A,v<=1){O=!0;break}}if(t[T++]=t[w++],--m===0){O=!0;break}if(D=om(o[b],t,w,m,0,e),D!==0){for(_=0;_<D;_++)t[T+_]=t[w+_];if(T+=D,w+=D,m-=D,m===0){O=!0;break}}if(t[T++]=o[b++],--v===1){O=!0;break}k--}while(A>=Yc||D>=Yc);if(O)break;k<0&&(k=0),k+=2}if(r=k,r<1&&(r=1),v===1){for(_=0;_<m;_++)t[T+_]=t[w+_];t[T+m]=o[b]}else{if(v===0)throw new Error;for(_=0;_<v;_++)t[T+_]=o[b+_]}}function f(p,v,g,m){var _=0;for(_=0;_<m;_++)o[_]=t[g+_];var b=p+v-1,w=m-1,T=g+m-1,k=0,A=0;if(t[T--]=t[b--],--v===0){for(k=T-(m-1),_=0;_<m;_++)t[k+_]=o[_];return}if(m===1){for(T-=v,b-=v,A=T+1,k=b+1,_=v-1;_>=0;_--)t[A+_]=t[k+_];t[T]=o[w];return}for(var D=r;;){var O=0,F=0,$=!1;do if(e(o[w],t[b])<0){if(t[T--]=t[b--],O++,F=0,--v===0){$=!0;break}}else if(t[T--]=o[w--],F++,O=0,--m===1){$=!0;break}while((O|F)<D);if($)break;do{if(O=v-sm(o[w],t,p,v,v-1,e),O!==0){for(T-=O,b-=O,v-=O,A=T+1,k=b+1,_=O-1;_>=0;_--)t[A+_]=t[k+_];if(v===0){$=!0;break}}if(t[T--]=o[w--],--m===1){$=!0;break}if(F=m-om(t[b],o,0,m,m-1,e),F!==0){for(T-=F,w-=F,m-=F,A=T+1,k=w+1,_=0;_<F;_++)t[A+_]=o[k+_];if(m<=1){$=!0;break}}if(t[T--]=t[b--],--v===0){$=!0;break}D--}while(O>=Yc||F>=Yc);if($)break;D<0&&(D=0),D+=2}if(r=D,r<1&&(r=1),m===1){for(T-=v,b-=v,A=T+1,k=b+1,_=v-1;_>=0;_--)t[A+_]=t[k+_];t[T]=o[w]}else{if(m===0)throw new Error;for(k=T-(m-1),_=0;_<m;_++)t[k+_]=o[_]}}return{mergeRuns:u,forceMergeRuns:l,pushRun:s}}function Ep(t,e,r,n){r||(r=0),n||(n=t.length);var i=n-r;if(!(i<2)){var a=0;if(i<NP){a=aw(t,r,n,e),ow(t,r,n,r+a,e);return}var o=xG(t,e),s=_G(i);do{if(a=aw(t,r,n,e),a<s){var u=i;u>s&&(u=s),ow(t,r,r+u,r+a,e),a=u}o.pushRun(r,a),o.mergeRuns(),i-=a,r+=a}while(i!==0);o.forceMergeRuns()}}var Yn=1,yf=2,_l=4,sw=!1;function um(){sw||(sw=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function uw(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var SG=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=uw}return t.prototype.traverse=function(e,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,r)},t.prototype.getDisplayList=function(e,r){r=r||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(r),n},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var r=this._roots,n=this._displayList,i=0,a=r.length;i<a;i++)this._updateAndAddDisplayable(r[i],null,e);n.length=this._displayListLen,Ep(n,uw)},t.prototype._updateAndAddDisplayable=function(e,r,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)r=null;else if(i){r?r=r.slice():r=[];for(var a=i,o=e;a;)a.parent=o,a.updateTransform(),r.push(a),o=a,a=a.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),u=0;u<s.length;u++){var l=s[u];e.__dirty&&(l.__dirty|=Yn),this._updateAndAddDisplayable(l,r,n)}e.__dirty=0}else{var c=e;r&&r.length?c.__clipPaths=r:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(um(),c.z=0),isNaN(c.z2)&&(um(),c.z2=0),isNaN(c.zlevel)&&(um(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var h=e.getDecalElement&&e.getDecalElement();h&&this._updateAndAddDisplayable(h,r,n);var f=e.getTextGuideLine();f&&this._updateAndAddDisplayable(f,r,n);var p=e.getTextContent();p&&this._updateAndAddDisplayable(p,r,n)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var r=0,n=e.length;r<n;r++)this.delRoot(e[r]);return}var i=Dt(this._roots,e);i>=0&&this._roots.splice(i,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}();const wG=SG;var FP;FP=wt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};const m0=FP;var Pp={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},elasticOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,r=.1,n=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Pp.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?Pp.bounceIn(t*2)*.5:Pp.bounceOut(t*2-1)*.5+.5}};const $P=Pp;var wd=Math.pow,Ko=Math.sqrt,rv=1e-8,HP=1e-4,lw=Ko(3),Td=1/3,ha=yc(),ci=yc(),Fl=yc();function jo(t){return t>-rv&&t<rv}function zP(t){return t>rv||t<-rv}function Br(t,e,r,n,i){var a=1-i;return a*a*(a*t+3*i*e)+i*i*(i*n+3*a*r)}function cw(t,e,r,n,i){var a=1-i;return 3*(((e-t)*a+2*(r-e)*i)*a+(n-r)*i*i)}function nv(t,e,r,n,i,a){var o=n+3*(e-r)-t,s=3*(r-e*2+t),u=3*(e-t),l=t-i,c=s*s-3*o*u,h=s*u-9*o*l,f=u*u-3*s*l,p=0;if(jo(c)&&jo(h))if(jo(s))a[0]=0;else{var v=-u/s;v>=0&&v<=1&&(a[p++]=v)}else{var g=h*h-4*c*f;if(jo(g)){var m=h/c,v=-s/o+m,_=-m/2;v>=0&&v<=1&&(a[p++]=v),_>=0&&_<=1&&(a[p++]=_)}else if(g>0){var b=Ko(g),w=c*s+1.5*o*(-h+b),T=c*s+1.5*o*(-h-b);w<0?w=-wd(-w,Td):w=wd(w,Td),T<0?T=-wd(-T,Td):T=wd(T,Td);var v=(-s-(w+T))/(3*o);v>=0&&v<=1&&(a[p++]=v)}else{var k=(2*c*s-3*o*h)/(2*Ko(c*c*c)),A=Math.acos(k)/3,D=Ko(c),O=Math.cos(A),v=(-s-2*D*O)/(3*o),_=(-s+D*(O+lw*Math.sin(A)))/(3*o),F=(-s+D*(O-lw*Math.sin(A)))/(3*o);v>=0&&v<=1&&(a[p++]=v),_>=0&&_<=1&&(a[p++]=_),F>=0&&F<=1&&(a[p++]=F)}}return p}function UP(t,e,r,n,i){var a=6*r-12*e+6*t,o=9*e+3*n-3*t-9*r,s=3*e-3*t,u=0;if(jo(o)){if(zP(a)){var l=-s/a;l>=0&&l<=1&&(i[u++]=l)}}else{var c=a*a-4*o*s;if(jo(c))i[0]=-a/(2*o);else if(c>0){var h=Ko(c),l=(-a+h)/(2*o),f=(-a-h)/(2*o);l>=0&&l<=1&&(i[u++]=l),f>=0&&f<=1&&(i[u++]=f)}}return u}function rs(t,e,r,n,i,a){var o=(e-t)*i+t,s=(r-e)*i+e,u=(n-r)*i+r,l=(s-o)*i+o,c=(u-s)*i+s,h=(c-l)*i+l;a[0]=t,a[1]=o,a[2]=l,a[3]=h,a[4]=h,a[5]=c,a[6]=u,a[7]=n}function VP(t,e,r,n,i,a,o,s,u,l,c){var h,f=.005,p=1/0,v,g,m,_;ha[0]=u,ha[1]=l;for(var b=0;b<1;b+=.05)ci[0]=Br(t,r,i,o,b),ci[1]=Br(e,n,a,s,b),m=Bl(ha,ci),m<p&&(h=b,p=m);p=1/0;for(var w=0;w<32&&!(f<HP);w++)v=h-f,g=h+f,ci[0]=Br(t,r,i,o,v),ci[1]=Br(e,n,a,s,v),m=Bl(ci,ha),v>=0&&m<p?(h=v,p=m):(Fl[0]=Br(t,r,i,o,g),Fl[1]=Br(e,n,a,s,g),_=Bl(Fl,ha),g<=1&&_<p?(h=g,p=_):f*=.5);return c&&(c[0]=Br(t,r,i,o,h),c[1]=Br(e,n,a,s,h)),Ko(p)}function TG(t,e,r,n,i,a,o,s,u){for(var l=t,c=e,h=0,f=1/u,p=1;p<=u;p++){var v=p*f,g=Br(t,r,i,o,v),m=Br(e,n,a,s,v),_=g-l,b=m-c;h+=Math.sqrt(_*_+b*b),l=g,c=m}return h}function ln(t,e,r,n){var i=1-n;return i*(i*t+2*n*e)+n*n*r}function fw(t,e,r,n){return 2*((1-n)*(e-t)+n*(r-e))}function CG(t,e,r,n,i){var a=t-2*e+r,o=2*(e-t),s=t-n,u=0;if(jo(a)){if(zP(o)){var l=-s/o;l>=0&&l<=1&&(i[u++]=l)}}else{var c=o*o-4*a*s;if(jo(c)){var l=-o/(2*a);l>=0&&l<=1&&(i[u++]=l)}else if(c>0){var h=Ko(c),l=(-o+h)/(2*a),f=(-o-h)/(2*a);l>=0&&l<=1&&(i[u++]=l),f>=0&&f<=1&&(i[u++]=f)}}return u}function GP(t,e,r){var n=t+r-2*e;return n===0?.5:(t-e)/n}function iv(t,e,r,n,i){var a=(e-t)*n+t,o=(r-e)*n+e,s=(o-a)*n+a;i[0]=t,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=r}function jP(t,e,r,n,i,a,o,s,u){var l,c=.005,h=1/0;ha[0]=o,ha[1]=s;for(var f=0;f<1;f+=.05){ci[0]=ln(t,r,i,f),ci[1]=ln(e,n,a,f);var p=Bl(ha,ci);p<h&&(l=f,h=p)}h=1/0;for(var v=0;v<32&&!(c<HP);v++){var g=l-c,m=l+c;ci[0]=ln(t,r,i,g),ci[1]=ln(e,n,a,g);var p=Bl(ci,ha);if(g>=0&&p<h)l=g,h=p;else{Fl[0]=ln(t,r,i,m),Fl[1]=ln(e,n,a,m);var _=Bl(Fl,ha);m<=1&&_<h?(l=m,h=_):c*=.5}}return u&&(u[0]=ln(t,r,i,l),u[1]=ln(e,n,a,l)),Ko(h)}function AG(t,e,r,n,i,a,o){for(var s=t,u=e,l=0,c=1/o,h=1;h<=o;h++){var f=h*c,p=ln(t,r,i,f),v=ln(e,n,a,f),g=p-s,m=v-u;l+=Math.sqrt(g*g+m*m),s=p,u=v}return l}var kG=/cubic-bezier\(([0-9,\.e ]+)\)/;function WP(t){var e=t&&kG.exec(t);if(e){var r=e[1].split(","),n=+ga(r[0]),i=+ga(r[1]),a=+ga(r[2]),o=+ga(r[3]);if(isNaN(n+i+a+o))return;var s=[];return function(u){return u<=0?0:u>=1?1:nv(0,n,a,1,u,s)&&Br(0,i,o,1,s[0])}}}var EG=function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Sn,this.ondestroy=e.ondestroy||Sn,this.onrestart=e.onrestart||Sn,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,r){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,i=e-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var u=i%n;this._startTime=e-u,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=ft(e)?e:$P[e]||WP(e)},t}();const PG=EG;var YP=function(){function t(e){this.value=e}return t}(),DG=function(){function t(){this._len=0}return t.prototype.insert=function(e){var r=new YP(e);return this.insertEntry(r),r},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var r=e.prev,n=e.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),MG=function(){function t(e){this._list=new DG,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,r){var n=this._list,i=this._map,a=null;if(i[e]==null){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var u=n.head;n.remove(u),delete i[u.key],a=u.value,this._lastRemovedEntry=u}s?s.value=r:s=new YP(r),s.key=e,n.insertEntry(s),i[e]=s}return a},t.prototype.get=function(e){var r=this._map[e],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}();const Oh=MG;var hw={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Zo(t){return t=Math.round(t),t<0?0:t>255?255:t}function y0(t){return t<0?0:t>1?1:t}function lm(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?Zo(parseFloat(e)/100*255):Zo(parseInt(e,10))}function Nf(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?y0(parseFloat(e)/100):y0(parseFloat(e))}function cm(t,e,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?t+(e-t)*r*6:r*2<1?e:r*3<2?t+(e-t)*(2/3-r)*6:t}function Cd(t,e,r){return t+(e-t)*r}function ii(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function _0(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var XP=new Oh(20),Ad=null;function Zu(t,e){Ad&&_0(Ad,e),Ad=XP.put(t,Ad||e.slice())}function no(t,e){if(t){e=e||[];var r=XP.get(t);if(r)return _0(e,r);t=t+"";var n=t.replace(/ /g,"").toLowerCase();if(n in hw)return _0(e,hw[n]),Zu(t,e),e;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){ii(e,0,0,0,1);return}return ii(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),Zu(t,e),e}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){ii(e,0,0,0,1);return}return ii(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),Zu(t,e),e}return}var o=n.indexOf("("),s=n.indexOf(")");if(o!==-1&&s+1===i){var u=n.substr(0,o),l=n.substr(o+1,s-(o+1)).split(","),c=1;switch(u){case"rgba":if(l.length!==4)return l.length===3?ii(e,+l[0],+l[1],+l[2],1):ii(e,0,0,0,1);c=Nf(l.pop());case"rgb":if(l.length>=3)return ii(e,lm(l[0]),lm(l[1]),lm(l[2]),l.length===3?c:Nf(l[3])),Zu(t,e),e;ii(e,0,0,0,1);return;case"hsla":if(l.length!==4){ii(e,0,0,0,1);return}return l[3]=Nf(l[3]),dw(l,e),Zu(t,e),e;case"hsl":if(l.length!==3){ii(e,0,0,0,1);return}return dw(l,e),Zu(t,e),e;default:return}}ii(e,0,0,0,1)}}function dw(t,e){var r=(parseFloat(t[0])%360+360)%360/360,n=Nf(t[1]),i=Nf(t[2]),a=i<=.5?i*(n+1):i+n-i*n,o=i*2-a;return e=e||[],ii(e,Zo(cm(o,a,r+1/3)*255),Zo(cm(o,a,r)*255),Zo(cm(o,a,r-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function pw(t,e){var r=no(t);if(r){for(var n=0;n<3;n++)e<0?r[n]=r[n]*(1-e)|0:r[n]=(255-r[n])*e+r[n]|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return Qv(r,r.length===4?"rgba":"rgb")}}function LG(t,e,r){if(!(!(e&&e.length)||!(t>=0&&t<=1))){var n=t*(e.length-1),i=Math.floor(n),a=Math.ceil(n),o=no(e[i]),s=no(e[a]),u=n-i,l=Qv([Zo(Cd(o[0],s[0],u)),Zo(Cd(o[1],s[1],u)),Zo(Cd(o[2],s[2],u)),y0(Cd(o[3],s[3],u))],"rgba");return r?{color:l,leftIndex:i,rightIndex:a,value:n}:l}}function Qv(t,e){if(!(!t||!t.length)){var r=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(r+=","+t[3]),e+"("+r+")"}}function av(t,e){var r=no(t);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*e:0}function RG(t){return t.type==="linear"}function OG(t){return t.type==="radial"}(function(){return wt.hasGlobalWindow&&ft(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}})();var b0=Array.prototype.slice;function Qa(t,e,r){return(e-t)*r+t}function fm(t,e,r,n){for(var i=e.length,a=0;a<i;a++)t[a]=Qa(e[a],r[a],n);return t}function IG(t,e,r,n){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){t[o]||(t[o]=[]);for(var s=0;s<a;s++)t[o][s]=Qa(e[o][s],r[o][s],n)}return t}function kd(t,e,r,n){for(var i=e.length,a=0;a<i;a++)t[a]=e[a]+r[a]*n;return t}function vw(t,e,r,n){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){t[o]||(t[o]=[]);for(var s=0;s<a;s++)t[o][s]=e[o][s]+r[o][s]*n}return t}function BG(t,e){for(var r=t.length,n=e.length,i=r>n?e:t,a=Math.min(r,n),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(r,n);s++)i.push({offset:o.offset,color:o.color.slice()})}function NG(t,e,r){var n=t,i=e;if(!(!n.push||!i.push)){var a=n.length,o=i.length;if(a!==o){var s=a>o;if(s)n.length=o;else for(var u=a;u<o;u++)n.push(r===1?i[u]:b0.call(i[u]))}for(var l=n[0]&&n[0].length,u=0;u<n.length;u++)if(r===1)isNaN(n[u])&&(n[u]=i[u]);else for(var c=0;c<l;c++)isNaN(n[u][c])&&(n[u][c]=i[u][c])}}function Dp(t){if(wn(t)){var e=t.length;if(wn(t[0])){for(var r=[],n=0;n<e;n++)r.push(b0.call(t[n]));return r}return b0.call(t)}return t}function Mp(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function FG(t){return wn(t&&t[0])?2:1}var Ed=0,Lp=1,qP=2,_f=3,x0=4,S0=5,gw=6;function mw(t){return t===x0||t===S0}function Pd(t){return t===Lp||t===qP}var Xc=[0,0,0,0],$G=function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,r,n){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=gw,u=r;if(wn(r)){var l=FG(r);s=l,(l===1&&!Yt(r[0])||l===2&&!Yt(r[0][0]))&&(o=!0)}else if(Yt(r)&&!Jp(r))s=Ed;else if(Je(r))if(!isNaN(+r))s=Ed;else{var c=no(r);c&&(u=c,s=_f)}else if(Xv(r)){var h=Oe({},u);h.colorStops=qe(r.colorStops,function(p){return{offset:p.offset,color:no(p.color)}}),RG(r)?s=x0:OG(r)&&(s=S0),u=h}a===0?this.valType=s:(s!==this.valType||s===gw)&&(o=!0),this.discrete=this.discrete||o;var f={time:e,value:u,rawValue:r,percent:0};return n&&(f.easing=n,f.easingFunc=ft(n)?n:$P[n]||WP(n)),i.push(f),f},t.prototype.prepare=function(e,r){var n=this.keyframes;this._needsSort&&n.sort(function(g,m){return g.time-m.time});for(var i=this.valType,a=n.length,o=n[a-1],s=this.discrete,u=Pd(i),l=mw(i),c=0;c<a;c++){var h=n[c],f=h.value,p=o.value;h.percent=h.time/e,s||(u&&c!==a-1?NG(f,p,i):l&&BG(f.colorStops,p.colorStops))}if(!s&&i!==S0&&r&&this.needsAnimate()&&r.needsAnimate()&&i===r.valType&&!r._finished){this._additiveTrack=r;for(var v=n[0].value,c=0;c<a;c++)i===Ed?n[c].additiveValue=n[c].value-v:i===_f?n[c].additiveValue=kd([],n[c].value,v,-1):Pd(i)&&(n[c].additiveValue=i===Lp?kd([],n[c].value,v,-1):vw([],n[c].value,v,-1))}},t.prototype.step=function(e,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,u=this.propName,l=a===_f,c,h=this._lastFr,f=Math.min,p,v;if(s===1)p=v=o[0];else{if(r<0)c=0;else if(r<this._lastFrP){var g=f(h+1,s-1);for(c=g;c>=0&&!(o[c].percent<=r);c--);c=f(c,s-2)}else{for(c=h;c<s&&!(o[c].percent>r);c++);c=f(c-1,s-2)}v=o[c+1],p=o[c]}if(p&&v){this._lastFr=c,this._lastFrP=r;var m=v.percent-p.percent,_=m===0?1:f((r-p.percent)/m,1);v.easingFunc&&(_=v.easingFunc(_));var b=n?this._additiveValue:l?Xc:e[u];if((Pd(a)||l)&&!b&&(b=this._additiveValue=[]),this.discrete)e[u]=_<1?p.rawValue:v.rawValue;else if(Pd(a))a===Lp?fm(b,p[i],v[i],_):IG(b,p[i],v[i],_);else if(mw(a)){var w=p[i],T=v[i],k=a===x0;e[u]={type:k?"linear":"radial",x:Qa(w.x,T.x,_),y:Qa(w.y,T.y,_),colorStops:qe(w.colorStops,function(D,O){var F=T.colorStops[O];return{offset:Qa(D.offset,F.offset,_),color:Mp(fm([],D.color,F.color,_))}}),global:T.global},k?(e[u].x2=Qa(w.x2,T.x2,_),e[u].y2=Qa(w.y2,T.y2,_)):e[u].r=Qa(w.r,T.r,_)}else if(l)fm(b,p[i],v[i],_),n||(e[u]=Mp(b));else{var A=Qa(p[i],v[i],_);n?this._additiveValue=A:e[u]=A}n&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var r=this.valType,n=this.propName,i=this._additiveValue;r===Ed?e[n]=e[n]+i:r===_f?(no(e[n],Xc),kd(Xc,Xc,i,1),e[n]=Mp(Xc)):r===Lp?kd(e[n],e[n],i,1):r===qP&&vw(e[n],e[n],i,1)},t}(),HG=function(){function t(e,r,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=r,r&&i){y_("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,r,n){return this.whenWithKeys(e,r,cr(r),n)},t.prototype.whenWithKeys=function(e,r,n,i){for(var a=this._tracks,o=0;o<n.length;o++){var s=n[o],u=a[s];if(!u){u=a[s]=new $G(s);var l=void 0,c=this._getAdditiveTrack(s);if(c){var h=c.keyframes,f=h[h.length-1];l=f&&f.value,c.valType===_f&&l&&(l=Mp(l))}else l=this._target[s];if(l==null)continue;e>0&&u.addKeyframe(0,Dp(l),i),this._trackKeys.push(s)}u.addKeyframe(e,Dp(r[s]),i)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var r=e.length,n=0;n<r;n++)e[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,r=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)e[r[n]].setFinished()},t.prototype._getAdditiveTrack=function(e){var r,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(e);a&&(r=a)}return r},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],u=this._getAdditiveTrack(o),l=s.keyframes,c=l.length;if(s.prepare(i,u),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var h=l[c-1];h&&(r._target[s.propName]=h.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var f=new PG({life:i,loop:this._loop,delay:this._delay||0,onframe:function(p){r._started=2;var v=r._additiveAnimators;if(v){for(var g=!1,m=0;m<v.length;m++)if(v[m]._clip){g=!0;break}g||(r._additiveAnimators=null)}for(var m=0;m<n.length;m++)n[m].step(r._target,p);var _=r._onframeCbs;if(_)for(var m=0;m<_.length;m++)_[m](r._target,p)},ondestroy:function(){r._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),e&&f.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var r=this._clip;e&&r.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return qe(this._trackKeys,function(r){return e._tracks[r]})},t.prototype.stopTracks=function(e,r){if(!e.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var o=n[e[a]];o&&!o.isFinished()&&(r?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},t.prototype.saveTo=function(e,r,n){if(e){r=r||this._trackKeys;for(var i=0;i<r.length;i++){var a=r[i],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,u=s[n?0:s.length-1];u&&(e[a]=Dp(u.rawValue))}}}},t.prototype.__changeFinalValue=function(e,r){r=r||cr(e);for(var n=0;n<r.length;n++){var i=r[n],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},t}();const S_=HG;function Cl(){return new Date().getTime()}var zG=function(t){Me(e,t);function e(r){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return e.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},e.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},e.prototype.removeClip=function(r){if(r.animation){var n=r.prev,i=r.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},e.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},e.prototype.update=function(r){for(var n=Cl()-this._pausedTime,i=n-this._time,a=this._head;a;){var o=a.next,s=a.step(n,i);s&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=n,r||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(m0(n),!r._paused&&r.update())}m0(n)},e.prototype.start=function(){this._running||(this._time=Cl(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Cl(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Cl()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(r,n){n=n||{},this.start();var i=new S_(r,n.loop);return this.addAnimator(i),i},e}(Yi);const UG=zG;var VG=300,hm=wt.domSupported,dm=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=qe(t,function(i){var a=i.replace("mouse","pointer");return r.hasOwnProperty(a)?a:i});return{mouse:t,touch:e,pointer:n}}(),yw={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},_w=!1;function w0(t){var e=t.pointerType;return e==="pen"||e==="touch"}function GG(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function pm(t){t&&(t.zrByTouch=!0)}function jG(t,e){return ai(t.dom,new WG(t,e),!0)}function KP(t,e){for(var r=e,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==e&&r===t.painterRoot);)r=r.parentNode;return n}var WG=function(){function t(e,r){this.stopPropagation=Sn,this.stopImmediatePropagation=Sn,this.preventDefault=Sn,this.type=r.type,this.target=this.currentTarget=e.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return t}(),Mi={mousedown:function(t){t=ai(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=ai(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=ai(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=ai(this.dom,t);var e=t.toElement||t.relatedTarget;KP(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){_w=!0,t=ai(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){_w||(t=ai(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=ai(this.dom,t),pm(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Mi.mousemove.call(this,t),Mi.mousedown.call(this,t)},touchmove:function(t){t=ai(this.dom,t),pm(t),this.handler.processGesture(t,"change"),Mi.mousemove.call(this,t)},touchend:function(t){t=ai(this.dom,t),pm(t),this.handler.processGesture(t,"end"),Mi.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<VG&&Mi.click.call(this,t)},pointerdown:function(t){Mi.mousedown.call(this,t)},pointermove:function(t){w0(t)||Mi.mousemove.call(this,t)},pointerup:function(t){Mi.mouseup.call(this,t)},pointerout:function(t){w0(t)||Mi.mouseout.call(this,t)}};Z(["click","dblclick","contextmenu"],function(t){Mi[t]=function(e){e=ai(this.dom,e),this.trigger(t,e)}});var T0={pointermove:function(t){w0(t)||T0.mousemove.call(this,t)},pointerup:function(t){T0.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function YG(t,e){var r=e.domHandlers;wt.pointerEventsSupported?Z(dm.pointer,function(n){Rp(e,n,function(i){r[n].call(t,i)})}):(wt.touchEventsSupported&&Z(dm.touch,function(n){Rp(e,n,function(i){r[n].call(t,i),GG(e)})}),Z(dm.mouse,function(n){Rp(e,n,function(i){i=b_(i),e.touching||r[n].call(t,i)})}))}function XG(t,e){wt.pointerEventsSupported?Z(yw.pointer,r):wt.touchEventsSupported||Z(yw.mouse,r);function r(n){function i(a){a=b_(a),KP(t,a.target)||(a=jG(t,a),e.domHandlers[n].call(t,a))}Rp(e,n,i,{capture:!0})}}function Rp(t,e,r,n){t.mounted[e]=r,t.listenerOpts[e]=n,g0(t.domTarget,e,r,n)}function vm(t){var e=t.mounted;for(var r in e)e.hasOwnProperty(r)&&oG(t.domTarget,r,e[r],t.listenerOpts[r]);t.mounted={}}var bw=function(){function t(e,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=r}return t}(),qG=function(t){Me(e,t);function e(r,n){var i=t.call(this)||this;return i.__pointerCapturing=!1,i.dom=r,i.painterRoot=n,i._localHandlerScope=new bw(r,Mi),hm&&(i._globalHandlerScope=new bw(document,T0)),YG(i,i._localHandlerScope),i}return e.prototype.dispose=function(){vm(this._localHandlerScope),hm&&vm(this._globalHandlerScope)},e.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},e.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,hm&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?XG(this,n):vm(n)}},e}(Yi);const KG=qG;var ZP=1;wt.hasGlobalWindow&&(ZP=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var ov=ZP,C0=.4,A0="#333",k0="#ccc",ZG="#eee",xw=x_,Sw=5e-5;function Ms(t){return t>Sw||t<-Sw}var Ls=[],Qu=[],gm=ec(),mm=Math.abs,QG=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return Ms(this.rotation)||Ms(this.x)||Ms(this.y)||Ms(this.scaleX-1)||Ms(this.scaleY-1)||Ms(this.skewX)||Ms(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||e)){n&&xw(n);return}n=n||ec(),r?this.getLocalTransform(n):xw(n),e&&(r?Nl(n,e,n):lG(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)},t.prototype._resolveGlobalScaleRatio=function(e){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(Ls);var n=Ls[0]<0?-1:1,i=Ls[1]<0?-1:1,a=((Ls[0]-n)*r+n)/Ls[0]||0,o=((Ls[1]-i)*r+i)/Ls[1]||0;e[0]*=a,e[1]*=a,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||ec(),Zv(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,r=[];e;)r.push(e),e=e.parent;for(;e=r.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var r=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(a),r=Math.sqrt(r),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,r=this.transform;e&&e.transform&&(Nl(Qu,e.invTransform,r),r=Qu);var n=this.originX,i=this.originY;(n||i)&&(gm[4]=n,gm[5]=i,Nl(Qu,r,gm),Qu[4]-=n,Qu[5]-=i,r=Qu),this.setLocalTransform(r)}},t.prototype.getGlobalScale=function(e){var r=this.transform;return e=e||[],r?(e[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),e[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(e[0]=-e[0]),r[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,r){var n=[e,r],i=this.invTransform;return i&&mi(n,n,i),n},t.prototype.transformCoordToGlobal=function(e,r){var n=[e,r],i=this.transform;return i&&mi(n,n,i),n},t.prototype.getLineScale=function(){var e=this.transform;return e&&mm(e[0]-1)>1e-10&&mm(e[3]-1)>1e-10?Math.sqrt(mm(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){JG(this,e)},t.getLocalTransform=function(e,r){r=r||[];var n=e.originX||0,i=e.originY||0,a=e.scaleX,o=e.scaleY,s=e.anchorX,u=e.anchorY,l=e.rotation||0,c=e.x,h=e.y,f=e.skewX?Math.tan(e.skewX):0,p=e.skewY?Math.tan(-e.skewY):0;if(n||i||s||u){var v=n+s,g=i+u;r[4]=-v*a-f*g*o,r[5]=-g*o-p*v*a}else r[4]=r[5]=0;return r[0]=a,r[3]=o,r[1]=p*a,r[2]=f*o,l&&Kv(r,r,l),r[4]+=n+c,r[5]+=i+h,r},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),ch=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function JG(t,e){for(var r=0;r<ch.length;r++){var n=ch[r];t[n]=e[n]}}const Ih=QG;var ww={};function Kn(t,e){e=e||mu;var r=ww[e];r||(r=ww[e]=new Oh(500));var n=r.get(t);return n==null&&(n=gc.measureText(t,e).width,r.put(t,n)),n}function Tw(t,e,r,n){var i=Kn(t,e),a=w_(e),o=bf(0,i,r),s=bl(0,a,n),u=new Bt(o,s,i,a);return u}function Bh(t,e,r,n){var i=((t||"")+"").split(`
`),a=i.length;if(a===1)return Tw(i[0],e,r,n);for(var o=new Bt(0,0,0,0),s=0;s<i.length;s++){var u=Tw(i[s],e,r,n);s===0?o.copy(u):o.union(u)}return o}function bf(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function bl(t,e,r){return r==="middle"?t-=e/2:r==="bottom"&&(t-=e),t}function w_(t){return Kn("",t)}function ns(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function sv(t,e,r){var n=e.position||"inside",i=e.distance!=null?e.distance:5,a=r.height,o=r.width,s=a/2,u=r.x,l=r.y,c="left",h="top";if(n instanceof Array)u+=ns(n[0],r.width),l+=ns(n[1],r.height),c=null,h=null;else switch(n){case"left":u-=i,l+=s,c="right",h="middle";break;case"right":u+=i+o,l+=s,h="middle";break;case"top":u+=o/2,l-=i,c="center",h="bottom";break;case"bottom":u+=o/2,l+=a+i,c="center";break;case"inside":u+=o/2,l+=s,c="center",h="middle";break;case"insideLeft":u+=i,l+=s,h="middle";break;case"insideRight":u+=o-i,l+=s,c="right",h="middle";break;case"insideTop":u+=o/2,l+=i,c="center";break;case"insideBottom":u+=o/2,l+=a-i,c="center",h="bottom";break;case"insideTopLeft":u+=i,l+=i;break;case"insideTopRight":u+=o-i,l+=i,c="right";break;case"insideBottomLeft":u+=i,l+=a-i,h="bottom";break;case"insideBottomRight":u+=o-i,l+=a-i,c="right",h="bottom";break}return t=t||{},t.x=u,t.y=l,t.align=c,t.verticalAlign=h,t}var ym="__zr_normal__",_m=ch.concat(["ignore"]),ej=ts(ch,function(t,e){return t[e]=!0,t},{ignore:!1}),Ju={},tj=new Bt(0,0,0,0),T_=function(){function t(e){this.id=kP(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=r,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var r=this._textContent;if(r&&(!r.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=r.innerTransformable,o=void 0,s=void 0,u=!1;a.parent=i?this:null;var l=!1;if(a.copyTransform(r),n.position!=null){var c=tj;n.layoutRect?c.copy(n.layoutRect):c.copy(this.getBoundingRect()),i||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Ju,n,c):sv(Ju,n,c),a.x=Ju.x,a.y=Ju.y,o=Ju.align,s=Ju.verticalAlign;var h=n.origin;if(h&&n.rotation!=null){var f=void 0,p=void 0;h==="center"?(f=c.width*.5,p=c.height*.5):(f=ns(h[0],c.width),p=ns(h[1],c.height)),l=!0,a.originX=-a.x+f+(i?0:c.x),a.originY=-a.y+p+(i?0:c.y)}}n.rotation!=null&&(a.rotation=n.rotation);var v=n.offset;v&&(a.x+=v[0],a.y+=v[1],l||(a.originX=-v[0],a.originY=-v[1]));var g=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),_=void 0,b=void 0,w=void 0;g&&this.canBeInsideText()?(_=n.insideFill,b=n.insideStroke,(_==null||_==="auto")&&(_=this.getInsideTextFill()),(b==null||b==="auto")&&(b=this.getInsideTextStroke(_),w=!0)):(_=n.outsideFill,b=n.outsideStroke,(_==null||_==="auto")&&(_=this.getOutsideFill()),(b==null||b==="auto")&&(b=this.getOutsideStroke(_),w=!0)),_=_||"#000",(_!==m.fill||b!==m.stroke||w!==m.autoStroke||o!==m.align||s!==m.verticalAlign)&&(u=!0,m.fill=_,m.stroke=b,m.autoStroke=w,m.align=o,m.verticalAlign=s,r.setDefaultTextStyle(m)),r.__dirty|=Yn,u&&r.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?k0:A0},t.prototype.getOutsideStroke=function(e){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&no(r);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(a?0:255)*(1-i);return n[3]=1,Qv(n,"rgba")},t.prototype.traverse=function(e,r){},t.prototype.attrKV=function(e,r){e==="textConfig"?this.setTextConfig(r):e==="textContent"?this.setTextContent(r):e==="clipPath"?this.setClipPath(r):e==="extra"?(this.extra=this.extra||{},Oe(this.extra,r)):this[e]=r},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,r){if(typeof e=="string")this.attrKV(e,r);else if(nt(e))for(var n=e,i=cr(n),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,e[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var r=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==ym)){var o=i.targetName,s=o?r[o]:r;i.saveTo(s)}}},t.prototype._innerSaveToNormal=function(e){var r=this._normalState;r||(r=this._normalState={}),e.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(e,r,_m)},t.prototype._savePrimaryToNormal=function(e,r,n){for(var i=0;i<n.length;i++){var a=n[i];e[a]!=null&&!(a in r)&&(r[a]=this[a])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var r=this.states;return r[e]||(r[e]={}),r[e]},t.prototype.clearStates=function(e){this.useState(ym,!1,e)},t.prototype.useState=function(e,r,n,i){var a=e===ym,o=this.hasState();if(!(!o&&a)){var s=this.currentStates,u=this.stateTransition;if(!(Dt(s,e)>=0&&(r||s.length===1))){var l;if(this.stateProxy&&!a&&(l=this.stateProxy(e)),l||(l=this.states&&this.states[e]),!l&&!a){y_("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(l);var c=!!(l&&l.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,l,this._normalState,r,!n&&!this.__inHover&&u&&u.duration>0,u);var h=this._textContent,f=this._textGuide;return h&&h.useState(e,r,n,c),f&&f.useState(e,r,n,c),a?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Yn),l}}},t.prototype.useStates=function(e,r,n){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,o=e.length,s=o===a.length;if(s){for(var u=0;u<o;u++)if(e[u]!==a[u]){s=!1;break}}if(s)return;for(var u=0;u<o;u++){var l=e[u],c=void 0;this.stateProxy&&(c=this.stateProxy(l,e)),c||(c=this.states[l]),c&&i.push(c)}var h=i[o-1],f=!!(h&&h.hoverLayer||n);f&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(i),v=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(e.join(","),p,this._normalState,!1,!r&&!this.__inHover&&v&&v.duration>0,v);var g=this._textContent,m=this._textGuide;g&&g.useStates(e,r,f),m&&m.useStates(e,r,f),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Yn)}},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var r=this.animators[e];r.targetName&&r.changeTarget(this[r.targetName])}},t.prototype.removeState=function(e){var r=Dt(this.currentStates,e);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},t.prototype.replaceState=function(e,r,n){var i=this.currentStates.slice(),a=Dt(i,e),o=Dt(i,r)>=0;a>=0?o?i.splice(a,1):i[a]=r:n&&!o&&i.push(r),this.useStates(i)},t.prototype.toggleState=function(e,r){r?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var r={},n,i=0;i<e.length;i++){var a=e[i];Oe(r,a),a.textConfig&&(n=n||{},Oe(n,a.textConfig))}return n&&(r.textConfig=n),r},t.prototype._applyStateObj=function(e,r,n,i,a,o){var s=!(r&&i);r&&r.textConfig?(this.textConfig=Oe({},i?this.textConfig:n.textConfig),Oe(this.textConfig,r.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var u={},l=!1,c=0;c<_m.length;c++){var h=_m[c],f=a&&ej[h];r&&r[h]!=null?f?(l=!0,u[h]=r[h]):this[h]=r[h]:s&&n[h]!=null&&(f?(l=!0,u[h]=n[h]):this[h]=n[h])}if(!a)for(var c=0;c<this.animators.length;c++){var p=this.animators[c],v=p.targetName;p.getLoop()||p.__changeFinalValue(v?(r||n)[v]:r||n)}l&&this._transitionState(e,u,o)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var r=this.__zr;r&&e.addSelfToZr(r),e.__zr=r,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var r=this._textContent;r!==e&&(r&&r!==e&&this.removeTextContent(),e.innerTransformable=new Ih,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Oe(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=Yn;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=e),n&&(n.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)e.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,r,n){var i=e?this[e]:this,a=new S_(i,r,n);return e&&(a.targetName=e),this.addAnimator(a,e),a},t.prototype.addAnimator=function(e,r){var n=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(r)}).done(function(){var a=i.animators,o=Dt(a,e);o>=0&&a.splice(o,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,r){for(var n=this.animators,i=n.length,a=[],o=0;o<i;o++){var s=n[o];!e||e===s.scope?s.stop(r):a.push(s)}return this.animators=a,this},t.prototype.animateTo=function(e,r,n){bm(this,e,r,n)},t.prototype.animateFrom=function(e,r,n){bm(this,e,r,n,!0)},t.prototype._transitionState=function(e,r,n,i){for(var a=bm(this,r,n,i),o=0;o<a.length;o++)a[o].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Yn;function r(n,i,a,o){Object.defineProperty(e,n,{get:function(){if(!this[i]){var u=this[i]=[];s(this,u)}return this[i]},set:function(u){this[a]=u[0],this[o]=u[1],this[i]=u,s(this,u)}});function s(u,l){Object.defineProperty(l,0,{get:function(){return u[a]},set:function(c){u[a]=c}}),Object.defineProperty(l,1,{get:function(){return u[o]},set:function(c){u[o]=c}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),t}();Wi(T_,Yi);Wi(T_,Ih);function bm(t,e,r,n,i){r=r||{};var a=[];QP(t,"",t,e,r,n,a,i);var o=a.length,s=!1,u=r.done,l=r.aborted,c=function(){s=!0,o--,o<=0&&(s?u&&u():l&&l())},h=function(){o--,o<=0&&(s?u&&u():l&&l())};o||u&&u(),a.length>0&&r.during&&a[0].during(function(v,g){r.during(g)});for(var f=0;f<a.length;f++){var p=a[f];c&&p.done(c),h&&p.aborted(h),r.force&&p.duration(r.duration),p.start(r.easing)}return a}function xm(t,e,r){for(var n=0;n<r;n++)t[n]=e[n]}function rj(t){return wn(t[0])}function nj(t,e,r){if(wn(e[r]))if(wn(t[r])||(t[r]=[]),Zn(e[r])){var n=e[r].length;t[r].length!==n&&(t[r]=new e[r].constructor(n),xm(t[r],e[r],n))}else{var i=e[r],a=t[r],o=i.length;if(rj(i))for(var s=i[0].length,u=0;u<o;u++)a[u]?xm(a[u],i[u],s):a[u]=Array.prototype.slice.call(i[u]);else xm(a,i,o);a.length=i.length}else t[r]=e[r]}function ij(t,e){return t===e||wn(t)&&wn(e)&&aj(t,e)}function aj(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function QP(t,e,r,n,i,a,o,s){for(var u=cr(n),l=i.duration,c=i.delay,h=i.additive,f=i.setToFinal,p=!nt(a),v=t.animators,g=[],m=0;m<u.length;m++){var _=u[m],b=n[_];if(b!=null&&r[_]!=null&&(p||a[_]))if(nt(b)&&!wn(b)&&!Xv(b)){if(e){s||(r[_]=b,t.updateDuringAnimation(e));continue}QP(t,_,r[_],b,i,a&&a[_],o,s)}else g.push(_);else s||(r[_]=b,t.updateDuringAnimation(e),g.push(_))}var w=g.length;if(!h&&w)for(var T=0;T<v.length;T++){var k=v[T];if(k.targetName===e){var A=k.stopTracks(g);if(A){var D=Dt(v,k);v.splice(D,1)}}}if(i.force||(g=xr(g,function(B){return!ij(n[B],r[B])}),w=g.length),w>0||i.force&&!o.length){var O=void 0,F=void 0,$=void 0;if(s){F={},f&&(O={});for(var T=0;T<w;T++){var _=g[T];F[_]=r[_],f?O[_]=n[_]:r[_]=n[_]}}else if(f){$={};for(var T=0;T<w;T++){var _=g[T];$[_]=Dp(r[_]),nj(r,n,_)}}var k=new S_(r,!1,!1,h?xr(v,function(U){return U.targetName===e}):null);k.targetName=e,i.scope&&(k.scope=i.scope),f&&O&&k.whenWithKeys(0,O,g),$&&k.whenWithKeys(0,$,g),k.whenWithKeys(l??500,s?F:n,g).delay(c||0),t.addAnimator(k,e),o.push(k)}}const JP=T_;var eD=function(t){Me(e,t);function e(r){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(r){return this._children[r]},e.prototype.childOfName=function(r){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===r)return n[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},e.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,r),this._doAdd(r))}return this},e.prototype.replace=function(r,n){var i=Dt(this._children,r);return i>=0&&this.replaceAt(n,i),this},e.prototype.replaceAt=function(r,n){var i=this._children,a=i[n];if(r&&r!==this&&r.parent!==this&&r!==a){i[n]=r,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(r)}return this},e.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},e.prototype.remove=function(r){var n=this.__zr,i=this._children,a=Dt(i,r);return a<0?this:(i.splice(a,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},e.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,i=0;i<r.length;i++){var a=r[i];n&&a.removeSelfFromZr(n),a.parent=null}return r.length=0,this},e.prototype.eachChild=function(r,n){for(var i=this._children,a=0;a<i.length;a++){var o=i[a];r.call(n,o,a)}return this},e.prototype.traverse=function(r,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=r.call(n,a);a.isGroup&&!o&&a.traverse(r,n)}return this},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(r)}},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(r)}},e.prototype.getBoundingRect=function(r){for(var n=new Bt(0,0,0,0),i=r||this._children,a=[],o=null,s=0;s<i.length;s++){var u=i[s];if(!(u.ignore||u.invisible)){var l=u.getBoundingRect(),c=u.getLocalTransform(a);c?(Bt.applyTransform(n,l,c),o=o||n.clone(),o.union(n)):(o=o||l.clone(),o.union(l))}}return o||n},e}(JP);eD.prototype.type="group";const Mr=eD;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var Op={},tD={};function oj(t){delete tD[t]}function sj(t){if(!t)return!1;if(typeof t=="string")return av(t,1)<C0;if(t.colorStops){for(var e=t.colorStops,r=0,n=e.length,i=0;i<n;i++)r+=av(e[i].color,1);return r/=n,r<C0}return!1}var uj=function(){function t(e,r,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=e;var a=new wG,o=n.renderer||"canvas";Op[o]||(o=cr(Op)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var s=new Op[o](r,a,n,e),u=n.ssr||s.ssrOnly;this.storage=a,this.painter=s;var l=!wt.node&&!wt.worker&&!u?new KG(s.getViewportRoot(),s.root):null,c=n.useCoarsePointer,h=c==null||c==="auto"?wt.touchEventsSupported:!!c,f=44,p;h&&(p=Mt(n.pointerSize,f)),this.handler=new yG(a,s,l,s.root,p),this.animation=new UG({stage:{update:u?null:function(){return i._flush(!0)}}}),u||this.animation.start()}return t.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,r){this.painter.configLayer&&this.painter.configLayer(e,r),this.refresh()},t.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=sj(e)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(e){var r,n=Cl();this._needsRefresh&&(r=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var i=Cl();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},t.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,r){return this.handler.findHover(e,r)},t.prototype.on=function(e,r,n){return this.handler.on(e,r,n),this},t.prototype.off=function(e,r){this.handler.off(e,r)},t.prototype.trigger=function(e,r){this.handler.trigger(e,r)},t.prototype.clear=function(){for(var e=this.storage.getRoots(),r=0;r<e.length;r++)e[r]instanceof Mr&&e[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,oj(this.id)},t}();function Cw(t,e){var r=new uj(kP(),t,e);return tD[r.id]=r,r}function lj(t,e){Op[t]=e}var Aw=1e-4,rD=20;function cj(t){return t.replace(/^\s+|\s+$/g,"")}function Uo(t,e,r,n){var i=e[0],a=e[1],o=r[0],s=r[1],u=a-i,l=s-o;if(u===0)return l===0?o:(o+s)/2;if(n)if(u>0){if(t<=i)return o;if(t>=a)return s}else{if(t>=i)return o;if(t<=a)return s}else{if(t===i)return o;if(t===a)return s}return(t-i)/u*l+o}function $t(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return Je(t)?cj(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):t==null?NaN:+t}function Dr(t,e,r){return e==null&&(e=10),e=Math.min(Math.max(0,e),rD),t=(+t).toFixed(e),r?t:+t}function fj(t){return t.sort(function(e,r){return e-r}),t}function eo(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var e=1,r=0;r<15;r++,e*=10)if(Math.round(t*e)/e===t)return r}return hj(t)}function hj(t){var e=t.toString().toLowerCase(),r=e.indexOf("e"),n=r>0?+e.slice(r+1):0,i=r>0?r:e.length,a=e.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-n)}function nD(t,e){var r=Math.log,n=Math.LN10,i=Math.floor(r(t[1]-t[0])/n),a=Math.round(r(Math.abs(e[1]-e[0]))/n),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function dj(t,e){var r=ts(t,function(p,v){return p+(isNaN(v)?0:v)},0);if(r===0)return[];for(var n=Math.pow(10,e),i=qe(t,function(p){return(isNaN(p)?0:p)/r*n*100}),a=n*100,o=qe(i,function(p){return Math.floor(p)}),s=ts(o,function(p,v){return p+v},0),u=qe(i,function(p,v){return p-o[v]});s<a;){for(var l=Number.NEGATIVE_INFINITY,c=null,h=0,f=u.length;h<f;++h)u[h]>l&&(l=u[h],c=h);++o[c],u[c]=0,++s}return qe(o,function(p){return p/n})}function pj(t,e){var r=Math.max(eo(t),eo(e)),n=t+e;return r>rD?n:Dr(n,r)}function iD(t){var e=Math.PI*2;return(t%e+e)%e}function uv(t){return t>-Aw&&t<Aw}var vj=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function oo(t){if(t instanceof Date)return t;if(Je(t)){var e=vj.exec(t);if(!e)return new Date(NaN);if(e[8]){var r=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(r-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,r,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function gj(t){return Math.pow(10,C_(t))}function C_(t){if(t===0)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function aD(t,e){var r=C_(t),n=Math.pow(10,r),i=t/n,a;return e?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,t=a*n,r>=-20?+t.toFixed(r<0?-r:0):t}function is(t){var e=parseFloat(t);return e==t&&(e!==0||!Je(t)||t.indexOf("x")<=0)?e:NaN}function mj(t){return!isNaN(is(t))}function oD(){return Math.round(Math.random()*9)}function sD(t,e){return e===0?t:sD(e,t%e)}function kw(t,e){return t==null?e:e==null?t:t*e/sD(t,e)}function Ft(t){throw new Error(t)}function Ew(t,e,r){return(e-t)*r+t}var uD="series\0",lD="\0_ec_\0";function Cr(t){return t instanceof Array?t:t==null?[]:[t]}function E0(t,e,r){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,i=r.length;n<i;n++){var a=r[n];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}var Pw=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Nh(t){return nt(t)&&!je(t)&&!(t instanceof Date)?t.value:t}function yj(t){return nt(t)&&!(t instanceof Array)}function _j(t,e,r){var n=r==="normalMerge",i=r==="replaceMerge",a=r==="replaceAll";t=t||[],e=(e||[]).slice();var o=ct();Z(e,function(u,l){if(!nt(u)){e[l]=null;return}});var s=bj(t,o,r);return(n||i)&&xj(s,t,o,e),n&&Sj(s,e),n||i?wj(s,e,i):a&&Tj(s,e),Cj(s),s}function bj(t,e,r){var n=[];if(r==="replaceAll")return n;for(var i=0;i<t.length;i++){var a=t[i];a&&a.id!=null&&e.set(a.id,i),n.push({existing:r==="replaceMerge"||fh(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function xj(t,e,r,n){Z(n,function(i,a){if(!(!i||i.id==null)){var o=Ff(i.id),s=r.get(o);if(s!=null){var u=t[s];Ea(!u.newOption,'Duplicated option on id "'+o+'".'),u.newOption=i,u.existing=e[s],n[a]=null}}})}function Sj(t,e){Z(e,function(r,n){if(!(!r||r.name==null))for(var i=0;i<t.length;i++){var a=t[i].existing;if(!t[i].newOption&&a&&(a.id==null||r.id==null)&&!fh(r)&&!fh(a)&&cD("name",a,r)){t[i].newOption=r,e[n]=null;return}}})}function wj(t,e,r){Z(e,function(n){if(n){for(var i,a=0;(i=t[a])&&(i.newOption||fh(i.existing)||i.existing&&n.id!=null&&!cD("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=r):t.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),a++}})}function Tj(t,e){Z(e,function(r){t.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function Cj(t){var e=ct();Z(t,function(r){var n=r.existing;n&&e.set(n.id,r)}),Z(t,function(r){var n=r.newOption;Ea(!n||n.id==null||!e.get(n.id)||e.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&e.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),Z(t,function(r,n){var i=r.existing,a=r.newOption,o=r.keyInfo;if(nt(a)){if(o.name=a.name!=null?Ff(a.name):i?i.name:uD+n,i)o.id=Ff(i.id);else if(a.id!=null)o.id=Ff(a.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(e.get(o.id))}e.set(o.id,r)}})}function cD(t,e,r){var n=xa(e[t],null),i=xa(r[t],null);return n!=null&&i!=null&&n===i}function Ff(t){return xa(t,"")}function xa(t,e){return t==null?e:Je(t)?t:Yt(t)||c0(t)?t+"":e}function A_(t){var e=t.name;return!!(e&&e.indexOf(uD))}function fh(t){return t&&t.id!=null&&Ff(t.id).indexOf(lD)===0}function Aj(t){return lD+t}function kj(t,e,r){Z(t,function(n){var i=n.newOption;nt(i)&&(n.keyInfo.mainType=e,n.keyInfo.subType=Ej(e,i,n.existing,r))})}function Ej(t,e,r,n){var i=e.type?e.type:r?r.subType:n.determineSubType(t,e);return i}function yu(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return je(e.dataIndex)?qe(e.dataIndex,function(r){return t.indexOfRawIndex(r)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return je(e.name)?qe(e.name,function(r){return t.indexOfName(r)}):t.indexOfName(e.name)}function dr(){var t="__ec_inner_"+Pj++;return function(e){return e[t]||(e[t]={})}}var Pj=oD();function $f(t,e,r){var n=k_(e,r),i=n.mainTypeSpecified,a=n.queryOptionMap,o=n.others,s=o,u=r?r.defaultMainType:null;return!i&&u&&a.set(u,{}),a.each(function(l,c){var h=Fh(t,c,l,{useDefault:u===c,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});s[c+"Models"]=h.models,s[c+"Model"]=h.models[0]}),s}function k_(t,e){var r;if(Je(t)){var n={};n[t+"Index"]=0,r=n}else r=t;var i=ct(),a={},o=!1;return Z(r,function(s,u){if(u==="dataIndex"||u==="dataIndexInside"){a[u]=s;return}var l=u.match(/^(\w+)(Index|Id|Name)$/)||[],c=l[1],h=(l[2]||"").toLowerCase();if(!(!c||!h||e&&e.includeMainTypes&&Dt(e.includeMainTypes,c)<0)){o=o||!!c;var f=i.get(c)||i.set(c,{});f[h]=s}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var Zr={useDefault:!0,enableAll:!1,enableNone:!1},Dj={useDefault:!1,enableAll:!0,enableNone:!0};function Fh(t,e,r,n){n=n||Zr;var i=r.index,a=r.id,o=r.name,s={models:null,specified:i!=null||a!=null||o!=null};if(!s.specified){var u=void 0;return s.models=n.useDefault&&(u=t.getComponent(e))?[u]:[],s}return i==="none"||i===!1?(Ea(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(i==="all"&&(Ea(n.enableAll,'`"all"` is not a valid value on index option.'),i=a=o=null),s.models=t.queryComponents({mainType:e,index:i,id:a,name:o}),s)}function fD(t,e,r){t.setAttribute?t.setAttribute(e,r):t[e]=r}function Mj(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function Lj(t){return t==="auto"?wt.domSupported?"html":"richText":t||"html"}function hD(t,e,r,n,i){var a=e==null||e==="auto";if(n==null)return n;if(Yt(n)){var o=Ew(r||0,n,i);return Dr(o,a?Math.max(eo(r||0),eo(n)):e)}else{if(Je(n))return i<1?r:n;for(var s=[],u=r,l=n,c=Math.max(u?u.length:0,l.length),h=0;h<c;++h){var f=t.getDimensionInfo(h);if(f&&f.type==="ordinal")s[h]=(i<1&&u?u:l)[h];else{var p=u&&u[h]?u[h]:0,v=l[h],o=Ew(p,v,i);s[h]=Dr(o,a?Math.max(eo(p),eo(v)):e)}}return s}}var Rj=".",Rs="___EC__COMPONENT__CONTAINER___",dD="___EC__EXTENDED_CLASS___";function ma(t){var e={main:"",sub:""};if(t){var r=t.split(Rj);e.main=r[0]||"",e.sub=r[1]||""}return e}function Oj(t){Ea(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function Ij(t){return!!(t&&t[dD])}function E_(t,e){t.$constructor=t,t.extend=function(r){var n=this,i;return Bj(n)?i=function(a){Me(o,a);function o(){return a.apply(this,arguments)||this}return o}(n):(i=function(){(r.$constructor||n).apply(this,arguments)},RV(i,this)),Oe(i.prototype,r),i[dD]=!0,i.extend=this.extend,i.superCall=$j,i.superApply=Hj,i.superClass=n,i}}function Bj(t){return ft(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function pD(t,e){t.extend=e.extend}var Nj=Math.round(Math.random()*10);function Fj(t){var e=["__\0is_clz",Nj++].join("_");t.prototype[e]=!0,t.isInstance=function(r){return!!(r&&r[e])}}function $j(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[e].apply(t,r)}function Hj(t,e,r){return this.superClass.prototype[e].apply(t,r)}function Jv(t){var e={};t.registerClass=function(n){var i=n.type||n.prototype.type;if(i){Oj(i),n.prototype.type=i;var a=ma(i);if(!a.sub)e[a.main]=n;else if(a.sub!==Rs){var o=r(a);o[a.sub]=n}}return n},t.getClass=function(n,i,a){var o=e[n];if(o&&o[Rs]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return o},t.getClassesByMainType=function(n){var i=ma(n),a=[],o=e[i.main];return o&&o[Rs]?Z(o,function(s,u){u!==Rs&&a.push(s)}):a.push(o),a},t.hasClass=function(n){var i=ma(n);return!!e[i.main]},t.getAllClassMainTypes=function(){var n=[];return Z(e,function(i,a){n.push(a)}),n},t.hasSubTypes=function(n){var i=ma(n),a=e[i.main];return a&&a[Rs]};function r(n){var i=e[n.main];return(!i||!i[Rs])&&(i=e[n.main]={},i[Rs]=!0),i}}function hh(t,e){for(var r=0;r<t.length;r++)t[r][1]||(t[r][1]=t[r][0]);return e=e||!1,function(n,i,a){for(var o={},s=0;s<t.length;s++){var u=t[s][1];if(!(i&&Dt(i,u)>=0||a&&Dt(a,u)<0)){var l=n.getShallow(u,e);l!=null&&(o[t[s][0]]=l)}}return o}}var zj=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Uj=hh(zj),Vj=function(){function t(){}return t.prototype.getAreaStyle=function(e,r){return Uj(this,e,r)},t}(),P0=new Oh(50);function Gj(t){if(typeof t=="string"){var e=P0.get(t);return e&&e.image}else return t}function vD(t,e,r,n,i){if(t)if(typeof t=="string"){if(e&&e.__zrImageSrc===t||!r)return e;var a=P0.get(t),o={hostEl:r,cb:n,cbPayload:i};return a?(e=a.image,!eg(e)&&a.pending.push(o)):(e=gc.loadImage(t,Dw,Dw),e.__zrImageSrc=t,P0.put(t,e.__cachedImgObj={image:e,pending:[o]})),e}else return t;else return e}function Dw(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}t.pending.length=0}function eg(t){return t&&t.width&&t.height}var Sm=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function jj(t,e,r,n,i){if(!e)return"";var a=(t+"").split(`
`);i=gD(e,r,n,i);for(var o=0,s=a.length;o<s;o++)a[o]=mD(a[o],i);return a.join(`
`)}function gD(t,e,r,n){n=n||{};var i=Oe({},n);i.font=e,r=Mt(r,"..."),i.maxIterations=Mt(n.maxIterations,2);var a=i.minChar=Mt(n.minChar,0);i.cnCharWidth=Kn("",e);var o=i.ascCharWidth=Kn("a",e);i.placeholder=Mt(n.placeholder,"");for(var s=t=Math.max(0,t-1),u=0;u<a&&s>=o;u++)s-=o;var l=Kn(r,e);return l>s&&(r="",l=0),s=t-l,i.ellipsis=r,i.ellipsisWidth=l,i.contentWidth=s,i.containerWidth=t,i}function mD(t,e){var r=e.containerWidth,n=e.font,i=e.contentWidth;if(!r)return"";var a=Kn(t,n);if(a<=r)return t;for(var o=0;;o++){if(a<=i||o>=e.maxIterations){t+=e.ellipsis;break}var s=o===0?Wj(t,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(t.length*i/a):0;t=t.substr(0,s),a=Kn(t,n)}return t===""&&(t=e.placeholder),t}function Wj(t,e,r,n){for(var i=0,a=0,o=t.length;a<o&&i<e;a++){var s=t.charCodeAt(a);i+=0<=s&&s<=127?r:n}return a}function Yj(t,e){t!=null&&(t+="");var r=e.overflow,n=e.padding,i=e.font,a=r==="truncate",o=w_(i),s=Mt(e.lineHeight,o),u=!!e.backgroundColor,l=e.lineOverflow==="truncate",c=e.width,h;c!=null&&(r==="break"||r==="breakAll")?h=t?yD(t,e.font,c,r==="breakAll",0).lines:[]:h=t?t.split(`
`):[];var f=h.length*s,p=Mt(e.height,f);if(f>p&&l){var v=Math.floor(p/s);h=h.slice(0,v)}if(t&&a&&c!=null)for(var g=gD(c,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),m=0;m<h.length;m++)h[m]=mD(h[m],g);for(var _=p,b=0,m=0;m<h.length;m++)b=Math.max(Kn(h[m],i),b);c==null&&(c=b);var w=b;return n&&(_+=n[0]+n[2],w+=n[1]+n[3],c+=n[1]+n[3]),u&&(w=c),{lines:h,height:p,outerWidth:w,outerHeight:_,lineHeight:s,calculatedLineHeight:o,contentWidth:b,contentHeight:f,width:c}}var Xj=function(){function t(){}return t}(),Mw=function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t}(),qj=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return t}();function Kj(t,e){var r=new qj;if(t!=null&&(t+=""),!t)return r;for(var n=e.width,i=e.height,a=e.overflow,o=(a==="break"||a==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:a==="breakAll"}:null,s=Sm.lastIndex=0,u;(u=Sm.exec(t))!=null;){var l=u.index;l>s&&wm(r,t.substring(s,l),e,o),wm(r,u[2],e,o,u[1]),s=Sm.lastIndex}s<t.length&&wm(r,t.substring(s,t.length),e,o);var c=[],h=0,f=0,p=e.padding,v=a==="truncate",g=e.lineOverflow==="truncate";function m(Q,J,ae){Q.width=J,Q.lineHeight=ae,h+=ae,f=Math.max(f,J)}e:for(var _=0;_<r.lines.length;_++){for(var b=r.lines[_],w=0,T=0,k=0;k<b.tokens.length;k++){var A=b.tokens[k],D=A.styleName&&e.rich[A.styleName]||{},O=A.textPadding=D.padding,F=O?O[1]+O[3]:0,$=A.font=D.font||e.font;A.contentHeight=w_($);var B=Mt(D.height,A.contentHeight);if(A.innerHeight=B,O&&(B+=O[0]+O[2]),A.height=B,A.lineHeight=If(D.lineHeight,e.lineHeight,B),A.align=D&&D.align||e.align,A.verticalAlign=D&&D.verticalAlign||"middle",g&&i!=null&&h+A.lineHeight>i){k>0?(b.tokens=b.tokens.slice(0,k),m(b,T,w),r.lines=r.lines.slice(0,_+1)):r.lines=r.lines.slice(0,_);break e}var U=D.width,H=U==null||U==="auto";if(typeof U=="string"&&U.charAt(U.length-1)==="%")A.percentWidth=U,c.push(A),A.contentWidth=Kn(A.text,$);else{if(H){var W=D.backgroundColor,z=W&&W.image;z&&(z=Gj(z),eg(z)&&(A.width=Math.max(A.width,z.width*B/z.height)))}var G=v&&n!=null?n-T:null;G!=null&&G<A.width?!H||G<F?(A.text="",A.width=A.contentWidth=0):(A.text=jj(A.text,G-F,$,e.ellipsis,{minChar:e.truncateMinChar}),A.width=A.contentWidth=Kn(A.text,$)):A.contentWidth=Kn(A.text,$)}A.width+=F,T+=A.width,D&&(w=Math.max(w,A.lineHeight))}m(b,T,w)}r.outerWidth=r.width=Mt(n,f),r.outerHeight=r.height=Mt(i,h),r.contentHeight=h,r.contentWidth=f,p&&(r.outerWidth+=p[1]+p[3],r.outerHeight+=p[0]+p[2]);for(var _=0;_<c.length;_++){var A=c[_],Y=A.percentWidth;A.width=parseInt(Y,10)/100*r.width}return r}function wm(t,e,r,n,i){var a=e==="",o=i&&r.rich[i]||{},s=t.lines,u=o.font||r.font,l=!1,c,h;if(n){var f=o.padding,p=f?f[1]+f[3]:0;if(o.width!=null&&o.width!=="auto"){var v=ns(o.width,n.width)+p;s.length>0&&v+n.accumWidth>n.width&&(c=e.split(`
`),l=!0),n.accumWidth=v}else{var g=yD(e,u,n.width,n.breakAll,n.accumWidth);n.accumWidth=g.accumWidth+p,h=g.linesWidths,c=g.lines}}else c=e.split(`
`);for(var m=0;m<c.length;m++){var _=c[m],b=new Xj;if(b.styleName=i,b.text=_,b.isLineHolder=!_&&!a,typeof o.width=="number"?b.width=o.width:b.width=h?h[m]:Kn(_,u),!m&&!l){var w=(s[s.length-1]||(s[0]=new Mw)).tokens,T=w.length;T===1&&w[0].isLineHolder?w[0]=b:(_||!T||a)&&w.push(b)}else s.push(new Mw([b]))}}function Zj(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var Qj=ts(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function Jj(t){return Zj(t)?!!Qj[t]:!0}function yD(t,e,r,n,i){for(var a=[],o=[],s="",u="",l=0,c=0,h=0;h<t.length;h++){var f=t.charAt(h);if(f===`
`){u&&(s+=u,c+=l),a.push(s),o.push(c),s="",u="",l=0,c=0;continue}var p=Kn(f,e),v=n?!1:!Jj(f);if(a.length?c+p>r:i+c+p>r){c?(s||u)&&(v?(s||(s=u,u="",l=0,c=l),a.push(s),o.push(c-l),u+=f,l+=p,s="",c=l):(u&&(s+=u,u="",l=0),a.push(s),o.push(c),s=f,c=p)):v?(a.push(u),o.push(l),u=f,l=p):(a.push(f),o.push(p));continue}c+=p,v?(u+=f,l+=p):(u&&(s+=u,u="",l=0),s+=f)}return!a.length&&!s&&(s=t,u="",l=0),u&&(s+=u),s&&(a.push(s),o.push(c)),a.length===1&&(c+=i),{accumWidth:c,lines:a,linesWidths:o}}var D0="__zr_style_"+Math.round(Math.random()*10),lu={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},tg={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};lu[D0]=!0;var Lw=["z","z2","invisible"],eW=["invisible"],tW=function(t){Me(e,t);function e(r){return t.call(this,r)||this}return e.prototype._init=function(r){for(var n=cr(r),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(r[a]):t.prototype.attrKV.call(this,a,r[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(r,n,i,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&rW(this,r,n)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},e.prototype.contain=function(r,n){return this.rectContain(r,n)},e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.rectContain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,u=a.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new Bt(0,0,0,0)),n?Bt.applyTransform(r,i,n):r.copy(i),(o||s||u)&&(r.width+=o*2+Math.abs(s),r.height+=o*2+Math.abs(u),r.x=Math.min(r.x,r.x+s-o),r.y=Math.min(r.y,r.y+u-o));var l=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-l),r.y=Math.floor(r.y-l),r.width=Math.ceil(r.width+1+l*2),r.height=Math.ceil(r.height+1+l*2))}return r},e.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new Bt(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(r){return this.animate("style",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(r,n){r!=="style"?t.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:Oe(this.style,r),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=yf,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&yf)},e.prototype.styleUpdated=function(){this.__dirty&=~yf},e.prototype.createStyle=function(r){return qv(lu,r)},e.prototype.useStyle=function(r){r[D0]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},e.prototype.isStyleObject=function(r){return r[D0]},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,Lw)},e.prototype._applyStateObj=function(r,n,i,a,o,s){t.prototype._applyStateObj.call(this,r,n,i,a,o,s);var u=!(n&&a),l;if(n&&n.style?o?a?l=n.style:(l=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(l,n.style)):(l=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(l,n.style)):u&&(l=i.style),l)if(o){var c=this.style;if(this.style=this.createStyle(u?{}:c),u)for(var h=cr(c),f=0;f<h.length;f++){var p=h[f];p in l&&(l[p]=l[p],this.style[p]=c[p])}for(var v=cr(l),f=0;f<v.length;f++){var p=v[f];this.style[p]=this.style[p]}this._transitionState(r,{style:l},s,this.getAnimationStyleProps())}else this.useStyle(l);for(var g=this.__inHover?eW:Lw,f=0;f<g.length;f++){var p=g[f];n&&n[p]!=null?this[p]=n[p]:u&&i[p]!=null&&(this[p]=i[p])}},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var o=r[a];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(n.style=i),n},e.prototype._mergeStyle=function(r,n){return Oe(r,n),r},e.prototype.getAnimationStyleProps=function(){return tg},e.initDefaultProps=function(){var r=e.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=Yn|yf}(),e}(JP),Tm=new Bt(0,0,0,0),Cm=new Bt(0,0,0,0);function rW(t,e,r){return Tm.copy(t.getBoundingRect()),t.transform&&Tm.applyTransform(t.transform),Cm.width=e,Cm.height=r,!Tm.intersect(Cm)}const _c=tW;var Mn=Math.min,Ln=Math.max,Am=Math.sin,km=Math.cos,Os=Math.PI*2,Dd=yc(),Md=yc(),Ld=yc();function _D(t,e,r){if(t.length!==0){for(var n=t[0],i=n[0],a=n[0],o=n[1],s=n[1],u=1;u<t.length;u++)n=t[u],i=Mn(i,n[0]),a=Ln(a,n[0]),o=Mn(o,n[1]),s=Ln(s,n[1]);e[0]=i,e[1]=o,r[0]=a,r[1]=s}}function Rw(t,e,r,n,i,a){i[0]=Mn(t,r),i[1]=Mn(e,n),a[0]=Ln(t,r),a[1]=Ln(e,n)}var Ow=[],Iw=[];function nW(t,e,r,n,i,a,o,s,u,l){var c=UP,h=Br,f=c(t,r,i,o,Ow);u[0]=1/0,u[1]=1/0,l[0]=-1/0,l[1]=-1/0;for(var p=0;p<f;p++){var v=h(t,r,i,o,Ow[p]);u[0]=Mn(v,u[0]),l[0]=Ln(v,l[0])}f=c(e,n,a,s,Iw);for(var p=0;p<f;p++){var g=h(e,n,a,s,Iw[p]);u[1]=Mn(g,u[1]),l[1]=Ln(g,l[1])}u[0]=Mn(t,u[0]),l[0]=Ln(t,l[0]),u[0]=Mn(o,u[0]),l[0]=Ln(o,l[0]),u[1]=Mn(e,u[1]),l[1]=Ln(e,l[1]),u[1]=Mn(s,u[1]),l[1]=Ln(s,l[1])}function iW(t,e,r,n,i,a,o,s){var u=GP,l=ln,c=Ln(Mn(u(t,r,i),1),0),h=Ln(Mn(u(e,n,a),1),0),f=l(t,r,i,c),p=l(e,n,a,h);o[0]=Mn(t,i,f),o[1]=Mn(e,a,p),s[0]=Ln(t,i,f),s[1]=Ln(e,a,p)}function aW(t,e,r,n,i,a,o,s,u){var l=wl,c=Tl,h=Math.abs(i-a);if(h%Os<1e-4&&h>1e-4){s[0]=t-r,s[1]=e-n,u[0]=t+r,u[1]=e+n;return}if(Dd[0]=km(i)*r+t,Dd[1]=Am(i)*n+e,Md[0]=km(a)*r+t,Md[1]=Am(a)*n+e,l(s,Dd,Md),c(u,Dd,Md),i=i%Os,i<0&&(i=i+Os),a=a%Os,a<0&&(a=a+Os),i>a&&!o?a+=Os:i<a&&o&&(i+=Os),o){var f=a;a=i,i=f}for(var p=0;p<a;p+=Math.PI/2)p>i&&(Ld[0]=km(p)*r+t,Ld[1]=Am(p)*n+e,l(s,Ld,s),c(u,Ld,u))}var Wt={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Is=[],Bs=[],sa=[],Eo=[],ua=[],la=[],Em=Math.min,Pm=Math.max,Ns=Math.cos,Fs=Math.sin,Xa=Math.abs,M0=Math.PI,No=M0*2,Dm=typeof Float32Array<"u",qc=[];function Mm(t){var e=Math.round(t/M0*1e8)/1e8;return e%2*M0}function oW(t,e){var r=Mm(t[0]);r<0&&(r+=No);var n=r-t[0],i=t[1];i+=n,!e&&i-r>=No?i=r+No:e&&r-i>=No?i=r-No:!e&&r>i?i=r+(No-Mm(r-i)):e&&r<i&&(i=r-(No-Mm(i-r))),t[0]=r,t[1]=i}var sW=function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,r,n){n=n||0,n>0&&(this._ux=Xa(n/ov/e)||0,this._uy=Xa(n/ov/r)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,r){return this._drawPendingPt(),this.addData(Wt.M,e,r),this._ctx&&this._ctx.moveTo(e,r),this._x0=e,this._y0=r,this._xi=e,this._yi=r,this},t.prototype.lineTo=function(e,r){var n=Xa(e-this._xi),i=Xa(r-this._yi),a=n>this._ux||i>this._uy;if(this.addData(Wt.L,e,r),this._ctx&&a&&this._ctx.lineTo(e,r),a)this._xi=e,this._yi=r,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=r,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(e,r,n,i,a,o){return this._drawPendingPt(),this.addData(Wt.C,e,r,n,i,a,o),this._ctx&&this._ctx.bezierCurveTo(e,r,n,i,a,o),this._xi=a,this._yi=o,this},t.prototype.quadraticCurveTo=function(e,r,n,i){return this._drawPendingPt(),this.addData(Wt.Q,e,r,n,i),this._ctx&&this._ctx.quadraticCurveTo(e,r,n,i),this._xi=n,this._yi=i,this},t.prototype.arc=function(e,r,n,i,a,o){this._drawPendingPt(),qc[0]=i,qc[1]=a,oW(qc,o),i=qc[0],a=qc[1];var s=a-i;return this.addData(Wt.A,e,r,n,n,i,s,0,o?0:1),this._ctx&&this._ctx.arc(e,r,n,i,a,o),this._xi=Ns(a)*n+e,this._yi=Fs(a)*n+r,this},t.prototype.arcTo=function(e,r,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,r,n,i,a),this},t.prototype.rect=function(e,r,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,r,n,i),this.addData(Wt.R,e,r,n,i),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(Wt.Z);var e=this._ctx,r=this._x0,n=this._y0;return e&&e.closePath(),this._xi=r,this._yi=n,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){var r=e.length;!(this.data&&this.data.length===r)&&Dm&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=e[n];this._len=r},t.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var r=e.length,n=0,i=this._len,a=0;a<r;a++)n+=e[a].len();Dm&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var a=0;a<r;a++)for(var o=e[a].data,s=0;s<o.length;s++)this.data[i++]=o[s];this._len=i},t.prototype.addData=function(e,r,n,i,a,o,s,u,l){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var h=0;h<arguments.length;h++)c[this._len++]=arguments[h]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],r=0;r<this._len;r++)e[r]=this.data[r];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,Dm&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){sa[0]=sa[1]=ua[0]=ua[1]=Number.MAX_VALUE,Eo[0]=Eo[1]=la[0]=la[1]=-Number.MAX_VALUE;var e=this.data,r=0,n=0,i=0,a=0,o;for(o=0;o<this._len;){var s=e[o++],u=o===1;switch(u&&(r=e[o],n=e[o+1],i=r,a=n),s){case Wt.M:r=i=e[o++],n=a=e[o++],ua[0]=i,ua[1]=a,la[0]=i,la[1]=a;break;case Wt.L:Rw(r,n,e[o],e[o+1],ua,la),r=e[o++],n=e[o++];break;case Wt.C:nW(r,n,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],ua,la),r=e[o++],n=e[o++];break;case Wt.Q:iW(r,n,e[o++],e[o++],e[o],e[o+1],ua,la),r=e[o++],n=e[o++];break;case Wt.A:var l=e[o++],c=e[o++],h=e[o++],f=e[o++],p=e[o++],v=e[o++]+p;o+=1;var g=!e[o++];u&&(i=Ns(p)*h+l,a=Fs(p)*f+c),aW(l,c,h,f,p,v,g,ua,la),r=Ns(v)*h+l,n=Fs(v)*f+c;break;case Wt.R:i=r=e[o++],a=n=e[o++];var m=e[o++],_=e[o++];Rw(i,a,i+m,a+_,ua,la);break;case Wt.Z:r=i,n=a;break}wl(sa,sa,ua),Tl(Eo,Eo,la)}return o===0&&(sa[0]=sa[1]=Eo[0]=Eo[1]=0),new Bt(sa[0],sa[1],Eo[0]-sa[0],Eo[1]-sa[1])},t.prototype._calculateLength=function(){var e=this.data,r=this._len,n=this._ux,i=this._uy,a=0,o=0,s=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,c=0,h=0,f=0;f<r;){var p=e[f++],v=f===1;v&&(a=e[f],o=e[f+1],s=a,u=o);var g=-1;switch(p){case Wt.M:a=s=e[f++],o=u=e[f++];break;case Wt.L:{var m=e[f++],_=e[f++],b=m-a,w=_-o;(Xa(b)>n||Xa(w)>i||f===r-1)&&(g=Math.sqrt(b*b+w*w),a=m,o=_);break}case Wt.C:{var T=e[f++],k=e[f++],m=e[f++],_=e[f++],A=e[f++],D=e[f++];g=TG(a,o,T,k,m,_,A,D,10),a=A,o=D;break}case Wt.Q:{var T=e[f++],k=e[f++],m=e[f++],_=e[f++];g=AG(a,o,T,k,m,_,10),a=m,o=_;break}case Wt.A:var O=e[f++],F=e[f++],$=e[f++],B=e[f++],U=e[f++],H=e[f++],W=H+U;f+=1,e[f++],v&&(s=Ns(U)*$+O,u=Fs(U)*B+F),g=Pm($,B)*Em(No,Math.abs(H)),a=Ns(W)*$+O,o=Fs(W)*B+F;break;case Wt.R:{s=a=e[f++],u=o=e[f++];var z=e[f++],G=e[f++];g=z*2+G*2;break}case Wt.Z:{var b=s-a,w=u-o;g=Math.sqrt(b*b+w*w),a=s,o=u;break}}g>=0&&(l[h++]=g,c+=g)}return this._pathLen=c,c},t.prototype.rebuildPath=function(e,r){var n=this.data,i=this._ux,a=this._uy,o=this._len,s,u,l,c,h,f,p=r<1,v,g,m=0,_=0,b,w=0,T,k;if(!(p&&(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,g=this._pathLen,b=r*g,!b)))e:for(var A=0;A<o;){var D=n[A++],O=A===1;switch(O&&(l=n[A],c=n[A+1],s=l,u=c),D!==Wt.L&&w>0&&(e.lineTo(T,k),w=0),D){case Wt.M:s=l=n[A++],u=c=n[A++],e.moveTo(l,c);break;case Wt.L:{h=n[A++],f=n[A++];var F=Xa(h-l),$=Xa(f-c);if(F>i||$>a){if(p){var B=v[_++];if(m+B>b){var U=(b-m)/B;e.lineTo(l*(1-U)+h*U,c*(1-U)+f*U);break e}m+=B}e.lineTo(h,f),l=h,c=f,w=0}else{var H=F*F+$*$;H>w&&(T=h,k=f,w=H)}break}case Wt.C:{var W=n[A++],z=n[A++],G=n[A++],Y=n[A++],Q=n[A++],J=n[A++];if(p){var B=v[_++];if(m+B>b){var U=(b-m)/B;rs(l,W,G,Q,U,Is),rs(c,z,Y,J,U,Bs),e.bezierCurveTo(Is[1],Bs[1],Is[2],Bs[2],Is[3],Bs[3]);break e}m+=B}e.bezierCurveTo(W,z,G,Y,Q,J),l=Q,c=J;break}case Wt.Q:{var W=n[A++],z=n[A++],G=n[A++],Y=n[A++];if(p){var B=v[_++];if(m+B>b){var U=(b-m)/B;iv(l,W,G,U,Is),iv(c,z,Y,U,Bs),e.quadraticCurveTo(Is[1],Bs[1],Is[2],Bs[2]);break e}m+=B}e.quadraticCurveTo(W,z,G,Y),l=G,c=Y;break}case Wt.A:var ae=n[A++],he=n[A++],pe=n[A++],Se=n[A++],we=n[A++],Le=n[A++],Fe=n[A++],se=!n[A++],ve=pe>Se?pe:Se,ge=Xa(pe-Se)>.001,be=we+Le,Te=!1;if(p){var B=v[_++];m+B>b&&(be=we+Le*(b-m)/B,Te=!0),m+=B}if(ge&&e.ellipse?e.ellipse(ae,he,pe,Se,Fe,we,be,se):e.arc(ae,he,ve,we,be,se),Te)break e;O&&(s=Ns(we)*pe+ae,u=Fs(we)*Se+he),l=Ns(be)*pe+ae,c=Fs(be)*Se+he;break;case Wt.R:s=l=n[A],u=c=n[A+1],h=n[A++],f=n[A++];var $e=n[A++],Ie=n[A++];if(p){var B=v[_++];if(m+B>b){var Ne=b-m;e.moveTo(h,f),e.lineTo(h+Em(Ne,$e),f),Ne-=$e,Ne>0&&e.lineTo(h+$e,f+Em(Ne,Ie)),Ne-=Ie,Ne>0&&e.lineTo(h+Pm($e-Ne,0),f+Ie),Ne-=$e,Ne>0&&e.lineTo(h,f+Pm(Ie-Ne,0));break e}m+=B}e.rect(h,f,$e,Ie);break;case Wt.Z:if(p){var B=v[_++];if(m+B>b){var U=(b-m)/B;e.lineTo(l*(1-U)+s*U,c*(1-U)+u*U);break e}m+=B}e.closePath(),l=s,c=u}}},t.prototype.clone=function(){var e=new t,r=this.data;return e.data=r.slice?r.slice():Array.prototype.slice.call(r),e._len=this._len,e},t.CMD=Wt,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();const so=sW;function el(t,e,r,n,i,a,o){if(i===0)return!1;var s=i,u=0,l=t;if(o>e+s&&o>n+s||o<e-s&&o<n-s||a>t+s&&a>r+s||a<t-s&&a<r-s)return!1;if(t!==r)u=(e-n)/(t-r),l=(t*n-r*e)/(t-r);else return Math.abs(a-t)<=s/2;var c=u*a-o+l,h=c*c/(u*u+1);return h<=s/2*s/2}function uW(t,e,r,n,i,a,o,s,u,l,c){if(u===0)return!1;var h=u;if(c>e+h&&c>n+h&&c>a+h&&c>s+h||c<e-h&&c<n-h&&c<a-h&&c<s-h||l>t+h&&l>r+h&&l>i+h&&l>o+h||l<t-h&&l<r-h&&l<i-h&&l<o-h)return!1;var f=VP(t,e,r,n,i,a,o,s,l,c,null);return f<=h/2}function lW(t,e,r,n,i,a,o,s,u){if(o===0)return!1;var l=o;if(u>e+l&&u>n+l&&u>a+l||u<e-l&&u<n-l&&u<a-l||s>t+l&&s>r+l&&s>i+l||s<t-l&&s<r-l&&s<i-l)return!1;var c=jP(t,e,r,n,i,a,s,u,null);return c<=l/2}var Bw=Math.PI*2;function Wo(t){return t%=Bw,t<0&&(t+=Bw),t}var Kc=Math.PI*2;function cW(t,e,r,n,i,a,o,s,u){if(o===0)return!1;var l=o;s-=t,u-=e;var c=Math.sqrt(s*s+u*u);if(c-l>r||c+l<r)return!1;if(Math.abs(n-i)%Kc<1e-4)return!0;if(a){var h=n;n=Wo(i),i=Wo(h)}else n=Wo(n),i=Wo(i);n>i&&(i+=Kc);var f=Math.atan2(u,s);return f<0&&(f+=Kc),f>=n&&f<=i||f+Kc>=n&&f+Kc<=i}function $s(t,e,r,n,i,a){if(a>e&&a>n||a<e&&a<n||n===e)return 0;var o=(a-e)/(n-e),s=n<e?1:-1;(o===1||o===0)&&(s=n<e?.5:-.5);var u=o*(r-t)+t;return u===i?1/0:u>i?s:0}var Po=so.CMD,Hs=Math.PI*2,fW=1e-4;function hW(t,e){return Math.abs(t-e)<fW}var _n=[-1,-1,-1],si=[-1,-1];function dW(){var t=si[0];si[0]=si[1],si[1]=t}function pW(t,e,r,n,i,a,o,s,u,l){if(l>e&&l>n&&l>a&&l>s||l<e&&l<n&&l<a&&l<s)return 0;var c=nv(e,n,a,s,l,_n);if(c===0)return 0;for(var h=0,f=-1,p=void 0,v=void 0,g=0;g<c;g++){var m=_n[g],_=m===0||m===1?.5:1,b=Br(t,r,i,o,m);b<u||(f<0&&(f=UP(e,n,a,s,si),si[1]<si[0]&&f>1&&dW(),p=Br(e,n,a,s,si[0]),f>1&&(v=Br(e,n,a,s,si[1]))),f===2?m<si[0]?h+=p<e?_:-_:m<si[1]?h+=v<p?_:-_:h+=s<v?_:-_:m<si[0]?h+=p<e?_:-_:h+=s<p?_:-_)}return h}function vW(t,e,r,n,i,a,o,s){if(s>e&&s>n&&s>a||s<e&&s<n&&s<a)return 0;var u=CG(e,n,a,s,_n);if(u===0)return 0;var l=GP(e,n,a);if(l>=0&&l<=1){for(var c=0,h=ln(e,n,a,l),f=0;f<u;f++){var p=_n[f]===0||_n[f]===1?.5:1,v=ln(t,r,i,_n[f]);v<o||(_n[f]<l?c+=h<e?p:-p:c+=a<h?p:-p)}return c}else{var p=_n[0]===0||_n[0]===1?.5:1,v=ln(t,r,i,_n[0]);return v<o?0:a<e?p:-p}}function gW(t,e,r,n,i,a,o,s){if(s-=e,s>r||s<-r)return 0;var u=Math.sqrt(r*r-s*s);_n[0]=-u,_n[1]=u;var l=Math.abs(n-i);if(l<1e-4)return 0;if(l>=Hs-1e-4){n=0,i=Hs;var c=a?1:-1;return o>=_n[0]+t&&o<=_n[1]+t?c:0}if(n>i){var h=n;n=i,i=h}n<0&&(n+=Hs,i+=Hs);for(var f=0,p=0;p<2;p++){var v=_n[p];if(v+t>o){var g=Math.atan2(s,v),c=a?1:-1;g<0&&(g=Hs+g),(g>=n&&g<=i||g+Hs>=n&&g+Hs<=i)&&(g>Math.PI/2&&g<Math.PI*1.5&&(c=-c),f+=c)}}return f}function bD(t,e,r,n,i){for(var a=t.data,o=t.len(),s=0,u=0,l=0,c=0,h=0,f,p,v=0;v<o;){var g=a[v++],m=v===1;switch(g===Po.M&&v>1&&(r||(s+=$s(u,l,c,h,n,i))),m&&(u=a[v],l=a[v+1],c=u,h=l),g){case Po.M:c=a[v++],h=a[v++],u=c,l=h;break;case Po.L:if(r){if(el(u,l,a[v],a[v+1],e,n,i))return!0}else s+=$s(u,l,a[v],a[v+1],n,i)||0;u=a[v++],l=a[v++];break;case Po.C:if(r){if(uW(u,l,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],e,n,i))return!0}else s+=pW(u,l,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],n,i)||0;u=a[v++],l=a[v++];break;case Po.Q:if(r){if(lW(u,l,a[v++],a[v++],a[v],a[v+1],e,n,i))return!0}else s+=vW(u,l,a[v++],a[v++],a[v],a[v+1],n,i)||0;u=a[v++],l=a[v++];break;case Po.A:var _=a[v++],b=a[v++],w=a[v++],T=a[v++],k=a[v++],A=a[v++];v+=1;var D=!!(1-a[v++]);f=Math.cos(k)*w+_,p=Math.sin(k)*T+b,m?(c=f,h=p):s+=$s(u,l,f,p,n,i);var O=(n-_)*T/w+_;if(r){if(cW(_,b,T,k,k+A,D,e,O,i))return!0}else s+=gW(_,b,T,k,k+A,D,O,i);u=Math.cos(k+A)*w+_,l=Math.sin(k+A)*T+b;break;case Po.R:c=u=a[v++],h=l=a[v++];var F=a[v++],$=a[v++];if(f=c+F,p=h+$,r){if(el(c,h,f,h,e,n,i)||el(f,h,f,p,e,n,i)||el(f,p,c,p,e,n,i)||el(c,p,c,h,e,n,i))return!0}else s+=$s(f,h,f,p,n,i),s+=$s(c,p,c,h,n,i);break;case Po.Z:if(r){if(el(u,l,c,h,e,n,i))return!0}else s+=$s(u,l,c,h,n,i);u=c,l=h;break}}return!r&&!hW(l,h)&&(s+=$s(u,l,c,h,n,i)||0),s!==0}function mW(t,e,r){return bD(t,0,!1,e,r)}function yW(t,e,r,n){return bD(t,e,!0,r,n)}var xD=lt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},lu),_W={style:lt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},tg.style)},Lm=ch.concat(["invisible","culling","z","z2","zlevel","parent"]),bW=function(t){Me(e,t);function e(r){return t.call(this,r)||this}return e.prototype.update=function(){var r=this;t.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(u){r.buildPath(u,r.shape)}),i.silent=!0;var a=i.style;for(var o in n)a[o]!==n[o]&&(a[o]=n[o]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var s=0;s<Lm.length;++s)i[Lm[s]]=this[Lm[s]];i.__dirty|=Yn}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(r){var n=cr(r);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var o=n[a],s=r[o];o==="style"?this.style?Oe(this.style,s):this.useStyle(s):o==="shape"?Oe(this.shape,s):t.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(Je(r)){var n=av(r,0);return n>.5?A0:n>.2?ZG:k0}else if(r)return k0}return A0},e.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(Je(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),o=av(r,0)<C0;if(a===o)return n}},e.prototype.buildPath=function(r,n,i){},e.prototype.pathUpdated=function(){this.__dirty&=~_l},e.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},e.prototype.createPathProxy=function(){this.path=new so(!1)},e.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,i=!r;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&_l)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),r=o.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||i){s.copy(r);var u=n.strokeNoScale?this.getLineScale():1,l=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;l=Math.max(l,c??4)}u>1e-10&&(s.width+=l/u,s.height+=l/u,s.x-=l/u/2,s.y-=l/u/2)}return s}return r},e.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect(),o=this.style;if(r=i[0],n=i[1],a.contain(r,n)){var s=this.path;if(this.hasStroke()){var u=o.lineWidth,l=o.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),yW(s,u/l,r,n)))return!0}if(this.hasFill())return mW(s,r,n)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=_l,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(r){return this.animate("shape",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):t.prototype.attrKV.call(this,r,n)},e.prototype.setShape=function(r,n){var i=this.shape;return i||(i=this.shape={}),typeof r=="string"?i[r]=n:Oe(i,r),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&_l)},e.prototype.createStyle=function(r){return qv(xD,r)},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=Oe({},this.shape))},e.prototype._applyStateObj=function(r,n,i,a,o,s){t.prototype._applyStateObj.call(this,r,n,i,a,o,s);var u=!(n&&a),l;if(n&&n.shape?o?a?l=n.shape:(l=Oe({},i.shape),Oe(l,n.shape)):(l=Oe({},a?this.shape:i.shape),Oe(l,n.shape)):u&&(l=i.shape),l)if(o){this.shape=Oe({},this.shape);for(var c={},h=cr(l),f=0;f<h.length;f++){var p=h[f];typeof l[p]=="object"?this.shape[p]=l[p]:c[p]=l[p]}this._transitionState(r,{shape:c},s)}else this.shape=l,this.dirtyShape()},e.prototype._mergeStates=function(r){for(var n=t.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var o=r[a];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(n.shape=i),n},e.prototype.getAnimationStyleProps=function(){return _W},e.prototype.isZeroArea=function(){return!1},e.extend=function(r){var n=function(a){Me(o,a);function o(s){var u=a.call(this,s)||this;return r.init&&r.init.call(u,s),u}return o.prototype.getDefaultStyle=function(){return _t(r.style)},o.prototype.getDefaultShape=function(){return _t(r.shape)},o}(e);for(var i in r)typeof r[i]=="function"&&(n.prototype[i]=r[i]);return n},e.initDefaultProps=function(){var r=e.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=Yn|yf|_l}(),e}(_c);const Lt=bW;var xW=lt({strokeFirst:!0,font:mu,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},xD),SD=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return n!=null&&n!=="none"&&r.lineWidth>0},e.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},e.prototype.createStyle=function(r){return qv(xW,r)},e.prototype.setBoundingRect=function(r){this._rect=r},e.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var n=r.text;n!=null?n+="":n="";var i=Bh(n,r.font,r.textAlign,r.textBaseline);if(i.x+=r.x||0,i.y+=r.y||0,this.hasStroke()){var a=r.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},e.initDefaultProps=function(){var r=e.prototype;r.dirtyRectTolerance=10}(),e}(_c);SD.prototype.type="tspan";const L0=SD;var SW=lt({x:0,y:0},lu),wW={style:lt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},tg.style)};function TW(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var wD=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(r){return qv(SW,r)},e.prototype._getSize=function(r){var n=this.style,i=n[r];if(i!=null)return i;var a=TW(n.image)?n.image:this.__image;if(!a)return 0;var o=r==="width"?"height":"width",s=n[o];return s==null?a[r]:a[r]/a[o]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return wW},e.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new Bt(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},e}(_c);wD.prototype.type="image";const Du=wD;function CW(t,e){var r=e.x,n=e.y,i=e.width,a=e.height,o=e.r,s,u,l,c;i<0&&(r=r+i,i=-i),a<0&&(n=n+a,a=-a),typeof o=="number"?s=u=l=c=o:o instanceof Array?o.length===1?s=u=l=c=o[0]:o.length===2?(s=l=o[0],u=c=o[1]):o.length===3?(s=o[0],u=c=o[1],l=o[2]):(s=o[0],u=o[1],l=o[2],c=o[3]):s=u=l=c=0;var h;s+u>i&&(h=s+u,s*=i/h,u*=i/h),l+c>i&&(h=l+c,l*=i/h,c*=i/h),u+l>a&&(h=u+l,u*=a/h,l*=a/h),s+c>a&&(h=s+c,s*=a/h,c*=a/h),t.moveTo(r+s,n),t.lineTo(r+i-u,n),u!==0&&t.arc(r+i-u,n+u,u,-Math.PI/2,0),t.lineTo(r+i,n+a-l),l!==0&&t.arc(r+i-l,n+a-l,l,0,Math.PI/2),t.lineTo(r+c,n+a),c!==0&&t.arc(r+c,n+a-c,c,Math.PI/2,Math.PI),t.lineTo(r,n+s),s!==0&&t.arc(r+s,n+s,s,Math.PI,Math.PI*1.5)}var Al=Math.round;function TD(t,e,r){if(e){var n=e.x1,i=e.x2,a=e.y1,o=e.y2;t.x1=n,t.x2=i,t.y1=a,t.y2=o;var s=r&&r.lineWidth;return s&&(Al(n*2)===Al(i*2)&&(t.x1=t.x2=iu(n,s,!0)),Al(a*2)===Al(o*2)&&(t.y1=t.y2=iu(a,s,!0))),t}}function CD(t,e,r){if(e){var n=e.x,i=e.y,a=e.width,o=e.height;t.x=n,t.y=i,t.width=a,t.height=o;var s=r&&r.lineWidth;return s&&(t.x=iu(n,s,!0),t.y=iu(i,s,!0),t.width=Math.max(iu(n+a,s,!1)-t.x,a===0?0:1),t.height=Math.max(iu(i+o,s,!1)-t.y,o===0?0:1)),t}}function iu(t,e,r){if(!e)return t;var n=Al(t*2);return(n+Al(e))%2===0?n/2:(n+(r?1:-1))/2}var AW=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),kW={},AD=function(t){Me(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new AW},e.prototype.buildPath=function(r,n){var i,a,o,s;if(this.subPixelOptimize){var u=CD(kW,n,this.style);i=u.x,a=u.y,o=u.width,s=u.height,u.r=n.r,n=u}else i=n.x,a=n.y,o=n.width,s=n.height;n.r?CW(r,n):r.rect(i,a,o,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Lt);AD.prototype.type="rect";const Sr=AD;var Nw={fill:"#000"},Fw=2,EW={style:lt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},tg.style)},kD=function(t){Me(e,t);function e(r){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=Nw,n.attr(r),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):t.prototype.getLocalTransform.call(this,r)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,RW(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new Bt(0,0,0,0),n=this._children,i=[],a=null,o=0;o<n.length;o++){var s=n[o],u=s.getBoundingRect(),l=s.getLocalTransform(i);l?(r.copy(u),r.applyTransform(l),a=a||r.clone(),a.union(r)):(a=a||u.clone(),a.union(u))}this._rect=a||r}return this._rect},e.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||Nw},e.prototype.setTextContent=function(r){},e.prototype._mergeStyle=function(r,n){if(!n)return r;var i=n.rich,a=r.rich||i&&{};return Oe(r,n),i&&a?(this._mergeRich(a,i),r.rich=a):a&&(r.rich=a),r},e.prototype._mergeRich=function(r,n){for(var i=cr(n),a=0;a<i.length;a++){var o=i[a];r[o]=r[o]||{},Oe(r[o],n[o])}},e.prototype.getAnimationStyleProps=function(){return EW},e.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},e.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||mu,i=r.padding,a=jw(r),o=Yj(a,r),s=Rm(r),u=!!r.backgroundColor,l=o.outerHeight,c=o.outerWidth,h=o.contentWidth,f=o.lines,p=o.lineHeight,v=this._defaultStyle,g=r.x||0,m=r.y||0,_=r.align||v.align||"left",b=r.verticalAlign||v.verticalAlign||"top",w=g,T=bl(m,o.contentHeight,b);if(s||i){var k=bf(g,c,_),A=bl(m,l,b);s&&this._renderBackground(r,r,k,A,c,l)}T+=p/2,i&&(w=Gw(g,_,i),b==="top"?T+=i[0]:b==="bottom"&&(T-=i[2]));for(var D=0,O=!1,F=Vw("fill"in r?r.fill:(O=!0,v.fill)),$=Uw("stroke"in r?r.stroke:!u&&(!v.autoStroke||O)?(D=Fw,v.stroke):null),B=r.textShadowBlur>0,U=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),H=o.calculatedLineHeight,W=0;W<f.length;W++){var z=this._getOrCreateChild(L0),G=z.createStyle();z.useStyle(G),G.text=f[W],G.x=w,G.y=T,_&&(G.textAlign=_),G.textBaseline="middle",G.opacity=r.opacity,G.strokeFirst=!0,B&&(G.shadowBlur=r.textShadowBlur||0,G.shadowColor=r.textShadowColor||"transparent",G.shadowOffsetX=r.textShadowOffsetX||0,G.shadowOffsetY=r.textShadowOffsetY||0),G.stroke=$,G.fill=F,$&&(G.lineWidth=r.lineWidth||D,G.lineDash=r.lineDash,G.lineDashOffset=r.lineDashOffset||0),G.font=n,Hw(G,r),T+=p,U&&z.setBoundingRect(new Bt(bf(G.x,r.width,G.textAlign),bl(G.y,H,G.textBaseline),h,H))}},e.prototype._updateRichTexts=function(){var r=this.style,n=jw(r),i=Kj(n,r),a=i.width,o=i.outerWidth,s=i.outerHeight,u=r.padding,l=r.x||0,c=r.y||0,h=this._defaultStyle,f=r.align||h.align,p=r.verticalAlign||h.verticalAlign,v=bf(l,o,f),g=bl(c,s,p),m=v,_=g;u&&(m+=u[3],_+=u[0]);var b=m+a;Rm(r)&&this._renderBackground(r,r,v,g,o,s);for(var w=!!r.backgroundColor,T=0;T<i.lines.length;T++){for(var k=i.lines[T],A=k.tokens,D=A.length,O=k.lineHeight,F=k.width,$=0,B=m,U=b,H=D-1,W=void 0;$<D&&(W=A[$],!W.align||W.align==="left");)this._placeToken(W,r,O,_,B,"left",w),F-=W.width,B+=W.width,$++;for(;H>=0&&(W=A[H],W.align==="right");)this._placeToken(W,r,O,_,U,"right",w),F-=W.width,U-=W.width,H--;for(B+=(a-(B-m)-(b-U)-F)/2;$<=H;)W=A[$],this._placeToken(W,r,O,_,B+W.width/2,"center",w),B+=W.width,$++;_+=O}},e.prototype._placeToken=function(r,n,i,a,o,s,u){var l=n.rich[r.styleName]||{};l.text=r.text;var c=r.verticalAlign,h=a+i/2;c==="top"?h=a+r.height/2:c==="bottom"&&(h=a+i-r.height/2);var f=!r.isLineHolder&&Rm(l);f&&this._renderBackground(l,n,s==="right"?o-r.width:s==="center"?o-r.width/2:o,h-r.height/2,r.width,r.height);var p=!!l.backgroundColor,v=r.textPadding;v&&(o=Gw(o,s,v),h-=r.height/2-v[0]-r.innerHeight/2);var g=this._getOrCreateChild(L0),m=g.createStyle();g.useStyle(m);var _=this._defaultStyle,b=!1,w=0,T=Vw("fill"in l?l.fill:"fill"in n?n.fill:(b=!0,_.fill)),k=Uw("stroke"in l?l.stroke:"stroke"in n?n.stroke:!p&&!u&&(!_.autoStroke||b)?(w=Fw,_.stroke):null),A=l.textShadowBlur>0||n.textShadowBlur>0;m.text=r.text,m.x=o,m.y=h,A&&(m.shadowBlur=l.textShadowBlur||n.textShadowBlur||0,m.shadowColor=l.textShadowColor||n.textShadowColor||"transparent",m.shadowOffsetX=l.textShadowOffsetX||n.textShadowOffsetX||0,m.shadowOffsetY=l.textShadowOffsetY||n.textShadowOffsetY||0),m.textAlign=s,m.textBaseline="middle",m.font=r.font||mu,m.opacity=If(l.opacity,n.opacity,1),Hw(m,l),k&&(m.lineWidth=If(l.lineWidth,n.lineWidth,w),m.lineDash=Mt(l.lineDash,n.lineDash),m.lineDashOffset=n.lineDashOffset||0,m.stroke=k),T&&(m.fill=T);var D=r.contentWidth,O=r.contentHeight;g.setBoundingRect(new Bt(bf(m.x,D,m.textAlign),bl(m.y,O,m.textBaseline),D,O))},e.prototype._renderBackground=function(r,n,i,a,o,s){var u=r.backgroundColor,l=r.borderWidth,c=r.borderColor,h=u&&u.image,f=u&&!h,p=r.borderRadius,v=this,g,m;if(f||r.lineHeight||l&&c){g=this._getOrCreateChild(Sr),g.useStyle(g.createStyle()),g.style.fill=null;var _=g.shape;_.x=i,_.y=a,_.width=o,_.height=s,_.r=p,g.dirtyShape()}if(f){var b=g.style;b.fill=u||null,b.fillOpacity=Mt(r.fillOpacity,1)}else if(h){m=this._getOrCreateChild(Du),m.onload=function(){v.dirtyStyle()};var w=m.style;w.image=u.image,w.x=i,w.y=a,w.width=o,w.height=s}if(l&&c){var b=g.style;b.lineWidth=l,b.stroke=c,b.strokeOpacity=Mt(r.strokeOpacity,1),b.lineDash=r.borderDash,b.lineDashOffset=r.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(b.strokeFirst=!0,b.lineWidth*=2)}var T=(g||m).style;T.shadowBlur=r.shadowBlur||0,T.shadowColor=r.shadowColor||"transparent",T.shadowOffsetX=r.shadowOffsetX||0,T.shadowOffsetY=r.shadowOffsetY||0,T.opacity=If(r.opacity,n.opacity,1)},e.makeFont=function(r){var n="";return LW(r)&&(n=[r.fontStyle,r.fontWeight,MW(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&ga(n)||r.textFont||r.font},e}(_c),PW={left:!0,right:1,center:1},DW={top:1,bottom:1,middle:1},$w=["fontStyle","fontWeight","fontSize","fontFamily"];function MW(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?v_+"px":t+"px"}function Hw(t,e){for(var r=0;r<$w.length;r++){var n=$w[r],i=e[n];i!=null&&(t[n]=i)}}function LW(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function RW(t){return zw(t),Z(t.rich,zw),t}function zw(t){if(t){t.font=kD.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||PW[e]?e:"left";var r=t.verticalAlign;r==="center"&&(r="middle"),t.verticalAlign=r==null||DW[r]?r:"top";var n=t.padding;n&&(t.padding=EP(t.padding))}}function Uw(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function Vw(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function Gw(t,e,r){return e==="right"?t-r[1]:e==="center"?t+r[3]/2-r[1]/2:t+r[3]}function jw(t){var e=t.text;return e!=null&&(e+=""),e}function Rm(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}const $r=kD;var Ut=dr(),OW=function(t,e,r,n){if(n){var i=Ut(n);i.dataIndex=r,i.dataType=e,i.seriesIndex=t,n.type==="group"&&n.traverse(function(a){var o=Ut(a);o.seriesIndex=t,o.dataIndex=r,o.dataType=e})}},Ww=1,Yw={},ED=dr(),P_=dr(),D_=0,rg=1,ng=2,bi=["emphasis","blur","select"],lv=["normal","emphasis","blur","select"],IW=10,BW=9,cu="highlight",Ip="downplay",Hf="select",Bp="unselect",zf="toggleSelect";function tl(t){return t!=null&&t!=="none"}var Xw=new Oh(100);function qw(t){if(Je(t)){var e=Xw.get(t);return e||(e=pw(t,-.1),Xw.put(t,e)),e}else if(Xv(t)){var r=Oe({},t);return r.colorStops=qe(t.colorStops,function(n){return{offset:n.offset,color:pw(n.color,-.1)}}),r}return t}function ig(t,e,r){t.onHoverStateChange&&(t.hoverState||0)!==r&&t.onHoverStateChange(e),t.hoverState=r}function PD(t){ig(t,"emphasis",ng)}function DD(t){t.hoverState===ng&&ig(t,"normal",D_)}function M_(t){ig(t,"blur",rg)}function MD(t){t.hoverState===rg&&ig(t,"normal",D_)}function NW(t){t.selected=!0}function FW(t){t.selected=!1}function Kw(t,e,r){e(t,r)}function ho(t,e,r){Kw(t,e,r),t.isGroup&&t.traverse(function(n){Kw(n,e,r)})}function Zw(t,e){switch(e){case"emphasis":t.hoverState=ng;break;case"normal":t.hoverState=D_;break;case"blur":t.hoverState=rg;break;case"select":t.selected=!0}}function $W(t,e,r,n){for(var i=t.style,a={},o=0;o<e.length;o++){var s=e[o],u=i[s];a[s]=u??(n&&n[s])}for(var o=0;o<t.animators.length;o++){var l=t.animators[o];l.__fromStateTransition&&l.__fromStateTransition.indexOf(r)<0&&l.targetName==="style"&&l.saveTo(a,e)}return a}function HW(t,e,r,n){var i=r&&Dt(r,"select")>=0,a=!1;if(t instanceof Lt){var o=ED(t),s=i&&o.selectFill||o.normalFill,u=i&&o.selectStroke||o.normalStroke;if(tl(s)||tl(u)){n=n||{};var l=n.style||{};l.fill==="inherit"?(a=!0,n=Oe({},n),l=Oe({},l),l.fill=s):!tl(l.fill)&&tl(s)?(a=!0,n=Oe({},n),l=Oe({},l),l.fill=qw(s)):!tl(l.stroke)&&tl(u)&&(a||(n=Oe({},n),l=Oe({},l)),l.stroke=qw(u)),n.style=l}}if(n&&n.z2==null){a||(n=Oe({},n));var c=t.z2EmphasisLift;n.z2=t.z2+(c??IW)}return n}function zW(t,e,r){if(r&&r.z2==null){r=Oe({},r);var n=t.z2SelectLift;r.z2=t.z2+(n??BW)}return r}function UW(t,e,r){var n=Dt(t.currentStates,e)>=0,i=t.style.opacity,a=n?null:$W(t,["opacity"],e,{opacity:1});r=r||{};var o=r.style||{};return o.opacity==null&&(r=Oe({},r),o=Oe({opacity:n?i:a.opacity*.1},o),r.style=o),r}function Om(t,e){var r=this.states[t];if(this.style){if(t==="emphasis")return HW(this,t,e,r);if(t==="blur")return UW(this,t,r);if(t==="select")return zW(this,t,r)}return r}function VW(t){t.stateProxy=Om;var e=t.getTextContent(),r=t.getTextGuideLine();e&&(e.stateProxy=Om),r&&(r.stateProxy=Om)}function Qw(t,e){!ID(t,e)&&!t.__highByOuter&&ho(t,PD)}function Jw(t,e){!ID(t,e)&&!t.__highByOuter&&ho(t,DD)}function tc(t,e){t.__highByOuter|=1<<(e||0),ho(t,PD)}function rc(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&ho(t,DD)}function GW(t){ho(t,M_)}function LD(t){ho(t,MD)}function RD(t){ho(t,NW)}function OD(t){ho(t,FW)}function ID(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function BD(t){var e=t.getModel(),r=[],n=[];e.eachComponent(function(i,a){var o=P_(a),s=i==="series",u=s?t.getViewOfSeriesModel(a):t.getViewOfComponentModel(a);!s&&n.push(u),o.isBlured&&(u.group.traverse(function(l){MD(l)}),s&&r.push(a)),o.isBlured=!1}),Z(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(r,!1,e)})}function R0(t,e,r,n){var i=n.getModel();r=r||"coordinateSystem";function a(l,c){for(var h=0;h<c.length;h++){var f=l.getItemGraphicEl(c[h]);f&&LD(f)}}if(t!=null&&!(!e||e==="none")){var o=i.getSeriesByIndex(t),s=o.coordinateSystem;s&&s.master&&(s=s.master);var u=[];i.eachSeries(function(l){var c=o===l,h=l.coordinateSystem;h&&h.master&&(h=h.master);var f=h&&s?h===s:c;if(!(r==="series"&&!c||r==="coordinateSystem"&&!f||e==="series"&&c)){var p=n.getViewOfSeriesModel(l);if(p.group.traverse(function(m){M_(m)}),wn(e))a(l.getData(),e);else if(nt(e))for(var v=cr(e),g=0;g<v.length;g++)a(l.getData(v[g]),e[v[g]]);u.push(l),P_(l).isBlured=!0}}),i.eachComponent(function(l,c){if(l!=="series"){var h=n.getViewOfComponentModel(c);h&&h.toggleBlurSeries&&h.toggleBlurSeries(u,!0,i)}})}}function O0(t,e,r){if(!(t==null||e==null)){var n=r.getModel().getComponent(t,e);if(n){P_(n).isBlured=!0;var i=r.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){M_(a)})}}}function jW(t,e,r){var n=t.seriesIndex,i=t.getData(e.dataType);if(i){var a=yu(i,e);a=(je(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),u=0;!o&&u<s;)o=i.getItemGraphicEl(u++);if(o){var l=Ut(o);R0(n,l.focus,l.blurScope,r)}else{var c=t.get(["emphasis","focus"]),h=t.get(["emphasis","blurScope"]);c!=null&&R0(n,c,h,r)}}}function L_(t,e,r,n){var i={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||e==null||r==null)return i;var a=n.getModel().getComponent(t,e);if(!a)return i;var o=n.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var s=o.findHighDownDispatchers(r),u,l=0;l<s.length;l++)if(Ut(s[l]).focus==="self"){u=!0;break}return{focusSelf:u,dispatchers:s}}function WW(t,e,r){var n=Ut(t),i=L_(n.componentMainType,n.componentIndex,n.componentHighDownName,r),a=i.dispatchers,o=i.focusSelf;a?(o&&O0(n.componentMainType,n.componentIndex,r),Z(a,function(s){return Qw(s,e)})):(R0(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&O0(n.componentMainType,n.componentIndex,r),Qw(t,e))}function YW(t,e,r){BD(r);var n=Ut(t),i=L_(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;i?Z(i,function(a){return Jw(a,e)}):Jw(t,e)}function XW(t,e,r){if(N0(e)){var n=e.dataType,i=t.getData(n),a=yu(i,e);je(a)||(a=[a]),t[e.type===zf?"toggleSelect":e.type===Hf?"select":"unselect"](a,n)}}function e2(t){var e=t.getAllData();Z(e,function(r){var n=r.data,i=r.type;n.eachItemGraphicEl(function(a,o){t.isSelected(o,i)?RD(a):OD(a)})})}function qW(t){var e=[];return t.eachSeries(function(r){var n=r.getAllData();Z(n,function(i){i.data;var a=i.type,o=r.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:r.seriesIndex};a!=null&&(s.dataType=a),e.push(s)}})}),e}function I0(t,e,r){ND(t,!0),ho(t,VW),ZW(t,e,r)}function KW(t){ND(t,!1)}function dh(t,e,r,n){n?KW(t):I0(t,e,r)}function ZW(t,e,r){var n=Ut(t);e!=null?(n.focus=e,n.blurScope=r):n.focus&&(n.focus=null)}var t2=["emphasis","blur","select"],QW={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function cv(t,e,r,n){r=r||"itemStyle";for(var i=0;i<t2.length;i++){var a=t2[i],o=e.getModel([a,r]),s=t.ensureState(a);s.style=n?n(o):o[QW[r]]()}}function ND(t,e){var r=e===!1,n=t;t.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function B0(t){return!!(t&&t.__highDownDispatcher)}function JW(t){var e=Yw[t];return e==null&&Ww<=32&&(e=Yw[t]=Ww++),e}function N0(t){var e=t.type;return e===Hf||e===Bp||e===zf}function r2(t){var e=t.type;return e===cu||e===Ip}function eY(t){var e=ED(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var r=t.states.select||{};e.selectFill=r.style&&r.style.fill||null,e.selectStroke=r.style&&r.style.stroke||null}var rl=so.CMD,tY=[[],[],[]],n2=Math.sqrt,rY=Math.atan2;function FD(t,e){if(e){var r=t.data,n=t.len(),i,a,o,s,u,l,c=rl.M,h=rl.C,f=rl.L,p=rl.R,v=rl.A,g=rl.Q;for(o=0,s=0;o<n;){switch(i=r[o++],s=o,a=0,i){case c:a=1;break;case f:a=1;break;case h:a=3;break;case g:a=2;break;case v:var m=e[4],_=e[5],b=n2(e[0]*e[0]+e[1]*e[1]),w=n2(e[2]*e[2]+e[3]*e[3]),T=rY(-e[1]/w,e[0]/b);r[o]*=b,r[o++]+=m,r[o]*=w,r[o++]+=_,r[o++]*=b,r[o++]*=w,r[o++]+=T,r[o++]+=T,o+=2,s=o;break;case p:l[0]=r[o++],l[1]=r[o++],mi(l,l,e),r[s++]=l[0],r[s++]=l[1],l[0]+=r[o++],l[1]+=r[o++],mi(l,l,e),r[s++]=l[0],r[s++]=l[1]}for(u=0;u<a;u++){var k=tY[u];k[0]=r[o++],k[1]=r[o++],mi(k,k,e),r[s++]=k[0],r[s++]=k[1]}}t.increaseVersion()}}var Im=Math.sqrt,Rd=Math.sin,Od=Math.cos,Zc=Math.PI;function i2(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function F0(t,e){return(t[0]*e[0]+t[1]*e[1])/(i2(t)*i2(e))}function a2(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(F0(t,e))}function o2(t,e,r,n,i,a,o,s,u,l,c){var h=u*(Zc/180),f=Od(h)*(t-r)/2+Rd(h)*(e-n)/2,p=-1*Rd(h)*(t-r)/2+Od(h)*(e-n)/2,v=f*f/(o*o)+p*p/(s*s);v>1&&(o*=Im(v),s*=Im(v));var g=(i===a?-1:1)*Im((o*o*(s*s)-o*o*(p*p)-s*s*(f*f))/(o*o*(p*p)+s*s*(f*f)))||0,m=g*o*p/s,_=g*-s*f/o,b=(t+r)/2+Od(h)*m-Rd(h)*_,w=(e+n)/2+Rd(h)*m+Od(h)*_,T=a2([1,0],[(f-m)/o,(p-_)/s]),k=[(f-m)/o,(p-_)/s],A=[(-1*f-m)/o,(-1*p-_)/s],D=a2(k,A);if(F0(k,A)<=-1&&(D=Zc),F0(k,A)>=1&&(D=0),D<0){var O=Math.round(D/Zc*1e6)/1e6;D=Zc*2+O%2*Zc}c.addData(l,b,w,o,s,T,D,h,a)}var nY=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,iY=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function aY(t){var e=new so;if(!t)return e;var r=0,n=0,i=r,a=n,o,s=so.CMD,u=t.match(nY);if(!u)return e;for(var l=0;l<u.length;l++){for(var c=u[l],h=c.charAt(0),f=void 0,p=c.match(iY)||[],v=p.length,g=0;g<v;g++)p[g]=parseFloat(p[g]);for(var m=0;m<v;){var _=void 0,b=void 0,w=void 0,T=void 0,k=void 0,A=void 0,D=void 0,O=r,F=n,$=void 0,B=void 0;switch(h){case"l":r+=p[m++],n+=p[m++],f=s.L,e.addData(f,r,n);break;case"L":r=p[m++],n=p[m++],f=s.L,e.addData(f,r,n);break;case"m":r+=p[m++],n+=p[m++],f=s.M,e.addData(f,r,n),i=r,a=n,h="l";break;case"M":r=p[m++],n=p[m++],f=s.M,e.addData(f,r,n),i=r,a=n,h="L";break;case"h":r+=p[m++],f=s.L,e.addData(f,r,n);break;case"H":r=p[m++],f=s.L,e.addData(f,r,n);break;case"v":n+=p[m++],f=s.L,e.addData(f,r,n);break;case"V":n=p[m++],f=s.L,e.addData(f,r,n);break;case"C":f=s.C,e.addData(f,p[m++],p[m++],p[m++],p[m++],p[m++],p[m++]),r=p[m-2],n=p[m-1];break;case"c":f=s.C,e.addData(f,p[m++]+r,p[m++]+n,p[m++]+r,p[m++]+n,p[m++]+r,p[m++]+n),r+=p[m-2],n+=p[m-1];break;case"S":_=r,b=n,$=e.len(),B=e.data,o===s.C&&(_+=r-B[$-4],b+=n-B[$-3]),f=s.C,O=p[m++],F=p[m++],r=p[m++],n=p[m++],e.addData(f,_,b,O,F,r,n);break;case"s":_=r,b=n,$=e.len(),B=e.data,o===s.C&&(_+=r-B[$-4],b+=n-B[$-3]),f=s.C,O=r+p[m++],F=n+p[m++],r+=p[m++],n+=p[m++],e.addData(f,_,b,O,F,r,n);break;case"Q":O=p[m++],F=p[m++],r=p[m++],n=p[m++],f=s.Q,e.addData(f,O,F,r,n);break;case"q":O=p[m++]+r,F=p[m++]+n,r+=p[m++],n+=p[m++],f=s.Q,e.addData(f,O,F,r,n);break;case"T":_=r,b=n,$=e.len(),B=e.data,o===s.Q&&(_+=r-B[$-4],b+=n-B[$-3]),r=p[m++],n=p[m++],f=s.Q,e.addData(f,_,b,r,n);break;case"t":_=r,b=n,$=e.len(),B=e.data,o===s.Q&&(_+=r-B[$-4],b+=n-B[$-3]),r+=p[m++],n+=p[m++],f=s.Q,e.addData(f,_,b,r,n);break;case"A":w=p[m++],T=p[m++],k=p[m++],A=p[m++],D=p[m++],O=r,F=n,r=p[m++],n=p[m++],f=s.A,o2(O,F,r,n,A,D,w,T,k,f,e);break;case"a":w=p[m++],T=p[m++],k=p[m++],A=p[m++],D=p[m++],O=r,F=n,r+=p[m++],n+=p[m++],f=s.A,o2(O,F,r,n,A,D,w,T,k,f,e);break}}(h==="z"||h==="Z")&&(f=s.Z,e.addData(f),r=i,n=a),o=f}return e.toStatic(),e}var $D=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(r){},e}(Lt);function HD(t){return t.setData!=null}function zD(t,e){var r=aY(t),n=Oe({},e);return n.buildPath=function(i){if(HD(i)){i.setData(r.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;r.rebuildPath(a,1)}},n.applyTransform=function(i){FD(r,i),this.dirtyShape()},n}function oY(t,e){return new $D(zD(t,e))}function sY(t,e){var r=zD(t,e),n=function(i){Me(a,i);function a(o){var s=i.call(this,o)||this;return s.applyTransform=r.applyTransform,s.buildPath=r.buildPath,s}return a}($D);return n}function uY(t,e){for(var r=[],n=t.length,i=0;i<n;i++){var a=t[i];r.push(a.getUpdatedPathProxy(!0))}var o=new Lt(e);return o.createPathProxy(),o.buildPath=function(s){if(HD(s)){s.appendPath(r);var u=s.getContext();u&&s.rebuildPath(u,1)}},o}function R_(t,e){e=e||{};var r=new Lt;return t.shape&&r.setShape(t.shape),r.setStyle(t.style),e.bakeTransform?FD(r.path,t.getComputedTransform()):e.toLocal?r.setLocalTransform(t.getComputedTransform()):r.copyTransform(t),r.buildPath=t.buildPath,r.applyTransform=r.applyTransform,r.z=t.z,r.z2=t.z2,r.zlevel=t.zlevel,r}var lY=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),UD=function(t){Me(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new lY},e.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},e}(Lt);UD.prototype.type="circle";const nc=UD;var cY=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),VD=function(t){Me(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new cY},e.prototype.buildPath=function(r,n){var i=.5522848,a=n.cx,o=n.cy,s=n.rx,u=n.ry,l=s*i,c=u*i;r.moveTo(a-s,o),r.bezierCurveTo(a-s,o-c,a-l,o-u,a,o-u),r.bezierCurveTo(a+l,o-u,a+s,o-c,a+s,o),r.bezierCurveTo(a+s,o+c,a+l,o+u,a,o+u),r.bezierCurveTo(a-l,o+u,a-s,o+c,a-s,o),r.closePath()},e}(Lt);VD.prototype.type="ellipse";const GD=VD;var jD=Math.PI,Bm=jD*2,zs=Math.sin,nl=Math.cos,fY=Math.acos,sn=Math.atan2,s2=Math.abs,Uf=Math.sqrt,xf=Math.max,ca=Math.min,Di=1e-4;function hY(t,e,r,n,i,a,o,s){var u=r-t,l=n-e,c=o-i,h=s-a,f=h*u-c*l;if(!(f*f<Di))return f=(c*(e-a)-h*(t-i))/f,[t+f*u,e+f*l]}function Id(t,e,r,n,i,a,o){var s=t-r,u=e-n,l=(o?a:-a)/Uf(s*s+u*u),c=l*u,h=-l*s,f=t+c,p=e+h,v=r+c,g=n+h,m=(f+v)/2,_=(p+g)/2,b=v-f,w=g-p,T=b*b+w*w,k=i-a,A=f*g-v*p,D=(w<0?-1:1)*Uf(xf(0,k*k*T-A*A)),O=(A*w-b*D)/T,F=(-A*b-w*D)/T,$=(A*w+b*D)/T,B=(-A*b+w*D)/T,U=O-m,H=F-_,W=$-m,z=B-_;return U*U+H*H>W*W+z*z&&(O=$,F=B),{cx:O,cy:F,x0:-c,y0:-h,x1:O*(i/k-1),y1:F*(i/k-1)}}function dY(t){var e;if(je(t)){var r=t.length;if(!r)return t;r===1?e=[t[0],t[0],0,0]:r===2?e=[t[0],t[0],t[1],t[1]]:r===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function pY(t,e){var r,n=xf(e.r,0),i=xf(e.r0||0,0),a=n>0,o=i>0;if(!(!a&&!o)){if(a||(n=i,i=0),i>n){var s=n;n=i,i=s}var u=e.startAngle,l=e.endAngle;if(!(isNaN(u)||isNaN(l))){var c=e.cx,h=e.cy,f=!!e.clockwise,p=s2(l-u),v=p>Bm&&p%Bm;if(v>Di&&(p=v),!(n>Di))t.moveTo(c,h);else if(p>Bm-Di)t.moveTo(c+n*nl(u),h+n*zs(u)),t.arc(c,h,n,u,l,!f),i>Di&&(t.moveTo(c+i*nl(l),h+i*zs(l)),t.arc(c,h,i,l,u,f));else{var g=void 0,m=void 0,_=void 0,b=void 0,w=void 0,T=void 0,k=void 0,A=void 0,D=void 0,O=void 0,F=void 0,$=void 0,B=void 0,U=void 0,H=void 0,W=void 0,z=n*nl(u),G=n*zs(u),Y=i*nl(l),Q=i*zs(l),J=p>Di;if(J){var ae=e.cornerRadius;ae&&(r=dY(ae),g=r[0],m=r[1],_=r[2],b=r[3]);var he=s2(n-i)/2;if(w=ca(he,_),T=ca(he,b),k=ca(he,g),A=ca(he,m),F=D=xf(w,T),$=O=xf(k,A),(D>Di||O>Di)&&(B=n*nl(l),U=n*zs(l),H=i*nl(u),W=i*zs(u),p<jD)){var pe=hY(z,G,H,W,B,U,Y,Q);if(pe){var Se=z-pe[0],we=G-pe[1],Le=B-pe[0],Fe=U-pe[1],se=1/zs(fY((Se*Le+we*Fe)/(Uf(Se*Se+we*we)*Uf(Le*Le+Fe*Fe)))/2),ve=Uf(pe[0]*pe[0]+pe[1]*pe[1]);F=ca(D,(n-ve)/(se+1)),$=ca(O,(i-ve)/(se-1))}}}if(!J)t.moveTo(c+z,h+G);else if(F>Di){var ge=ca(_,F),be=ca(b,F),Te=Id(H,W,z,G,n,ge,f),$e=Id(B,U,Y,Q,n,be,f);t.moveTo(c+Te.cx+Te.x0,h+Te.cy+Te.y0),F<D&&ge===be?t.arc(c+Te.cx,h+Te.cy,F,sn(Te.y0,Te.x0),sn($e.y0,$e.x0),!f):(ge>0&&t.arc(c+Te.cx,h+Te.cy,ge,sn(Te.y0,Te.x0),sn(Te.y1,Te.x1),!f),t.arc(c,h,n,sn(Te.cy+Te.y1,Te.cx+Te.x1),sn($e.cy+$e.y1,$e.cx+$e.x1),!f),be>0&&t.arc(c+$e.cx,h+$e.cy,be,sn($e.y1,$e.x1),sn($e.y0,$e.x0),!f))}else t.moveTo(c+z,h+G),t.arc(c,h,n,u,l,!f);if(!(i>Di)||!J)t.lineTo(c+Y,h+Q);else if($>Di){var ge=ca(g,$),be=ca(m,$),Te=Id(Y,Q,B,U,i,-be,f),$e=Id(z,G,H,W,i,-ge,f);t.lineTo(c+Te.cx+Te.x0,h+Te.cy+Te.y0),$<O&&ge===be?t.arc(c+Te.cx,h+Te.cy,$,sn(Te.y0,Te.x0),sn($e.y0,$e.x0),!f):(be>0&&t.arc(c+Te.cx,h+Te.cy,be,sn(Te.y0,Te.x0),sn(Te.y1,Te.x1),!f),t.arc(c,h,i,sn(Te.cy+Te.y1,Te.cx+Te.x1),sn($e.cy+$e.y1,$e.cx+$e.x1),f),ge>0&&t.arc(c+$e.cx,h+$e.cy,ge,sn($e.y1,$e.x1),sn($e.y0,$e.x0),!f))}else t.lineTo(c+Y,h+Q),t.arc(c,h,i,l,u,f)}t.closePath()}}}var vY=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t}(),WD=function(t){Me(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new vY},e.prototype.buildPath=function(r,n){pY(r,n)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Lt);WD.prototype.type="sector";const zi=WD;var gY=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),YD=function(t){Me(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new gY},e.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.PI*2;r.moveTo(i+n.r,a),r.arc(i,a,n.r,0,o,!1),r.moveTo(i+n.r0,a),r.arc(i,a,n.r0,0,o,!0)},e}(Lt);YD.prototype.type="ring";const O_=YD;function mY(t,e,r,n){var i=[],a=[],o=[],s=[],u,l,c,h;if(n){c=[1/0,1/0],h=[-1/0,-1/0];for(var f=0,p=t.length;f<p;f++)wl(c,c,t[f]),Tl(h,h,t[f]);wl(c,c,n[0]),Tl(h,h,n[1])}for(var f=0,p=t.length;f<p;f++){var v=t[f];if(r)u=t[f?f-1:p-1],l=t[(f+1)%p];else if(f===0||f===p-1){i.push(UV(t[f]));continue}else u=t[f-1],l=t[f+1];VV(a,l,u),tm(a,a,e);var g=f0(v,u),m=f0(v,l),_=g+m;_!==0&&(g/=_,m/=_),tm(o,a,-g),tm(s,a,m);var b=JS([],v,o),w=JS([],v,s);n&&(Tl(b,b,c),wl(b,b,h),Tl(w,w,c),wl(w,w,h)),i.push(b),i.push(w)}return r&&i.push(i.shift()),i}function XD(t,e,r){var n=e.smooth,i=e.points;if(i&&i.length>=2){if(n){var a=mY(i,n,r,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(r?o:o-1);s++){var u=a[s*2],l=a[s*2+1],c=i[(s+1)%o];t.bezierCurveTo(u[0],u[1],l[0],l[1],c[0],c[1])}}else{t.moveTo(i[0][0],i[0][1]);for(var s=1,h=i.length;s<h;s++)t.lineTo(i[s][0],i[s][1])}r&&t.closePath()}}var yY=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),qD=function(t){Me(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new yY},e.prototype.buildPath=function(r,n){XD(r,n,!0)},e}(Lt);qD.prototype.type="polygon";const ag=qD;var _Y=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),KD=function(t){Me(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new _Y},e.prototype.buildPath=function(r,n){XD(r,n,!1)},e}(Lt);KD.prototype.type="polyline";const $h=KD;var bY={},xY=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),ZD=function(t){Me(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new xY},e.prototype.buildPath=function(r,n){var i,a,o,s;if(this.subPixelOptimize){var u=TD(bY,n,this.style);i=u.x1,a=u.y1,o=u.x2,s=u.y2}else i=n.x1,a=n.y1,o=n.x2,s=n.y2;var l=n.percent;l!==0&&(r.moveTo(i,a),l<1&&(o=i*(1-l)+o*l,s=a*(1-l)+s*l),r.lineTo(o,s))},e.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},e}(Lt);ZD.prototype.type="line";const Fi=ZD;var En=[],SY=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function u2(t,e,r){var n=t.cpx2,i=t.cpy2;return n!=null||i!=null?[(r?cw:Br)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?cw:Br)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(r?fw:ln)(t.x1,t.cpx1,t.x2,e),(r?fw:ln)(t.y1,t.cpy1,t.y2,e)]}var QD=function(t){Me(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new SY},e.prototype.buildPath=function(r,n){var i=n.x1,a=n.y1,o=n.x2,s=n.y2,u=n.cpx1,l=n.cpy1,c=n.cpx2,h=n.cpy2,f=n.percent;f!==0&&(r.moveTo(i,a),c==null||h==null?(f<1&&(iv(i,u,o,f,En),u=En[1],o=En[2],iv(a,l,s,f,En),l=En[1],s=En[2]),r.quadraticCurveTo(u,l,o,s)):(f<1&&(rs(i,u,c,o,f,En),u=En[1],c=En[2],o=En[3],rs(a,l,h,s,f,En),l=En[1],h=En[2],s=En[3]),r.bezierCurveTo(u,l,c,h,o,s)))},e.prototype.pointAt=function(r){return u2(this.shape,r,!1)},e.prototype.tangentAt=function(r){var n=u2(this.shape,r,!0);return WV(n,n)},e}(Lt);QD.prototype.type="bezier-curve";const JD=QD;var wY=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),eM=function(t){Me(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new wY},e.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.max(n.r,0),s=n.startAngle,u=n.endAngle,l=n.clockwise,c=Math.cos(s),h=Math.sin(s);r.moveTo(c*o+i,h*o+a),r.arc(i,a,o,s,u,!l)},e}(Lt);eM.prototype.type="arc";const I_=eM;var TY=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="compound",r}return e.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),i=0;i<r.length;i++)n=n||r[i].shapeChanged();n&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<r.length;i++)r[i].path||r[i].createPathProxy(),r[i].path.setScale(n[0],n[1],r[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(r,n){for(var i=n.paths||[],a=0;a<i.length;a++)i[a].buildPath(r,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Lt.prototype.getBoundingRect.call(this)},e}(Lt);const CY=TY;var AY=function(){function t(e){this.colorStops=e||[]}return t.prototype.addColorStop=function(e,r){this.colorStops.push({offset:e,color:r})},t}();const tM=AY;var kY=function(t){Me(e,t);function e(r,n,i,a,o,s){var u=t.call(this,o)||this;return u.x=r??0,u.y=n??0,u.x2=i??1,u.y2=a??0,u.type="linear",u.global=s||!1,u}return e}(tM);const rM=kY;var EY=function(t){Me(e,t);function e(r,n,i,a,o){var s=t.call(this,a)||this;return s.x=r??.5,s.y=n??.5,s.r=i??.5,s.type="radial",s.global=o||!1,s}return e}(tM);const PY=EY;var Us=[0,0],Vs=[0,0],Bd=new at,Nd=new at,DY=function(){function t(e,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new at;for(var n=0;n<2;n++)this._axes[n]=new at;e&&this.fromBoundingRect(e,r)}return t.prototype.fromBoundingRect=function(e,r){var n=this._corners,i=this._axes,a=e.x,o=e.y,s=a+e.width,u=o+e.height;if(n[0].set(a,o),n[1].set(s,o),n[2].set(s,u),n[3].set(a,u),r)for(var l=0;l<4;l++)n[l].transform(r);at.sub(i[0],n[1],n[0]),at.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var l=0;l<2;l++)this._origin[l]=i[l].dot(n[0])},t.prototype.intersect=function(e,r){var n=!0,i=!r;return Bd.set(1/0,1/0),Nd.set(0,0),!this._intersectCheckOneSide(this,e,Bd,Nd,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(e,this,Bd,Nd,i,-1)&&(n=!1,i)||i||at.copy(r,n?Bd:Nd),n},t.prototype._intersectCheckOneSide=function(e,r,n,i,a,o){for(var s=!0,u=0;u<2;u++){var l=this._axes[u];if(this._getProjMinMaxOnAxis(u,e._corners,Us),this._getProjMinMaxOnAxis(u,r._corners,Vs),Us[1]<Vs[0]||Us[0]>Vs[1]){if(s=!1,a)return s;var c=Math.abs(Vs[0]-Us[1]),h=Math.abs(Us[0]-Vs[1]);Math.min(c,h)>i.len()&&(c<h?at.scale(i,l,-c*o):at.scale(i,l,h*o))}else if(n){var c=Math.abs(Vs[0]-Us[1]),h=Math.abs(Us[0]-Vs[1]);Math.min(c,h)<n.len()&&(c<h?at.scale(n,l,c*o):at.scale(n,l,-h*o))}}return s},t.prototype._getProjMinMaxOnAxis=function(e,r,n){for(var i=this._axes[e],a=this._origin,o=r[0].dot(i)+a[e],s=o,u=o,l=1;l<r.length;l++){var c=r[l].dot(i)+a[e];s=Math.min(c,s),u=Math.max(c,u)}n[0]=s,n[1]=u},t}();const fv=DY;var MY=[],LY=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return e.prototype.traverse=function(r,n){r.call(n,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},e.prototype.addDisplayables=function(r,n){n=n||!1;for(var i=0;i<r.length;i++)this.addDisplayable(r[i],n)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},e.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new Bt(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(MY)),r.union(a)}this._rect=r}return this._rect},e.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(r,n))return!0}return!1},e}(_c);const RY=LY;var nM=dr();function og(t,e,r,n,i){var a;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();a=o&&o.animation}var s=e&&e.isAnimationEnabled(),u=t==="update";if(s){var l=void 0,c=void 0,h=void 0;n?(l=Mt(n.duration,200),c=Mt(n.easing,"cubicOut"),h=0):(l=e.getShallow(u?"animationDurationUpdate":"animationDuration"),c=e.getShallow(u?"animationEasingUpdate":"animationEasing"),h=e.getShallow(u?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(l=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(h=a.delay)),ft(h)&&(h=h(r,i)),ft(l)&&(l=l(r));var f={duration:l||0,delay:h,easing:c};return f}else return null}function B_(t,e,r,n,i,a,o){var s=!1,u;ft(i)?(o=a,a=i,i=null):nt(i)&&(a=i.cb,o=i.during,s=i.isFrom,u=i.removeOpt,i=i.dataIndex);var l=t==="leave";l||e.stopAnimation("leave");var c=og(t,n,i,l?u||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(e,i):null);if(c&&c.duration>0){var h=c.duration,f=c.delay,p=c.easing,v={duration:h,delay:f||0,easing:p,done:a,force:!!a||!!o,setToFinal:!l,scope:t,during:o};s?e.animateFrom(r,v):e.animateTo(r,v)}else e.stopAnimation(),!s&&e.attr(r),o&&o(1),a&&a()}function Vr(t,e,r,n,i,a){B_("update",t,e,r,n,i,a)}function hn(t,e,r,n,i,a){B_("enter",t,e,r,n,i,a)}function $l(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var r=t.animators[e];if(r.scope==="leave")return!0}return!1}function hv(t,e,r,n,i,a){$l(t)||B_("leave",t,e,r,n,i,a)}function l2(t,e,r,n){t.removeTextContent(),t.removeTextGuideLine(),hv(t,{style:{opacity:0}},e,r,n)}function dv(t,e,r){function n(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(i){i.isGroup||l2(i,e,r,n)}):l2(t,e,r,n)}function N_(t){nM(t).oldStyle=t.style}function OY(t){return nM(t).oldStyle}var pv=Math.max,vv=Math.min,$0={};function IY(t){return Lt.extend(t)}var BY=sY;function NY(t,e){return BY(t,e)}function Xi(t,e){$0[t]=e}function FY(t){if($0.hasOwnProperty(t))return $0[t]}function F_(t,e,r,n){var i=oY(t,e);return r&&(n==="center"&&(r=aM(r,i.getBoundingRect())),oM(i,r)),i}function iM(t,e,r){var n=new Du({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(r==="center"){var a={width:i.width,height:i.height};n.setStyle(aM(e,a))}}});return n}function aM(t,e){var r=e.width/e.height,n=t.height*r,i;n<=t.width?i=t.height:(n=t.width,i=n/r);var a=t.x+t.width/2,o=t.y+t.height/2;return{x:a-n/2,y:o-i/2,width:n,height:i}}var Ja=uY;function oM(t,e){if(t.applyTransform){var r=t.getBoundingRect(),n=r.calculateTransform(e);t.applyTransform(n)}}function ph(t,e){return TD(t,t,{lineWidth:e}),t}function $Y(t){return CD(t.shape,t.shape,t.style),t}var HY=iu;function $_(t,e){for(var r=x_([]);t&&t!==e;)Nl(r,t.getLocalTransform(),r),t=t.parent;return r}function sg(t,e,r){return e&&!wn(e)&&(e=Ih.getLocalTransform(e)),r&&(e=Zv([],e)),mi([],t,e)}function sM(t,e,r){var n=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),a=[t==="left"?-n:t==="right"?n:0,t==="top"?-i:t==="bottom"?i:0];return a=sg(a,e,r),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function c2(t){return!t.isGroup}function zY(t){return t.shape!=null}function H_(t,e,r){if(!t||!e)return;function n(o){var s={};return o.traverse(function(u){c2(u)&&u.anid&&(s[u.anid]=u)}),s}function i(o){var s={x:o.x,y:o.y,rotation:o.rotation};return zY(o)&&(s.shape=Oe({},o.shape)),s}var a=n(t);e.traverse(function(o){if(c2(o)&&o.anid){var s=a[o.anid];if(s){var u=i(o);o.attr(i(s)),Vr(o,u,r,Ut(o).dataIndex)}}})}function uM(t,e){return qe(t,function(r){var n=r[0];n=pv(n,e.x),n=vv(n,e.x+e.width);var i=r[1];return i=pv(i,e.y),i=vv(i,e.y+e.height),[n,i]})}function UY(t,e){var r=pv(t.x,e.x),n=vv(t.x+t.width,e.x+e.width),i=pv(t.y,e.y),a=vv(t.y+t.height,e.y+e.height);if(n>=r&&a>=i)return{x:r,y:i,width:n-r,height:a-i}}function ug(t,e,r){var n=Oe({rectHover:!0},e),i=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(i.image=t.slice(8),lt(i,r),new Du(n)):F_(t.replace("path://",""),n,r,"center")}function VY(t,e,r,n,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(lM(t,e,r,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function lM(t,e,r,n,i,a,o,s){var u=r-t,l=n-e,c=o-i,h=s-a,f=Nm(c,h,u,l);if(GY(f))return!1;var p=t-i,v=e-a,g=Nm(p,v,u,l)/f;if(g<0||g>1)return!1;var m=Nm(p,v,c,h)/f;return!(m<0||m>1)}function Nm(t,e,r,n){return t*n-r*e}function GY(t){return t<=1e-6&&t>=-1e-6}function lg(t){var e=t.itemTooltipOption,r=t.componentModel,n=t.itemName,i=Je(e)?{formatter:e}:e,a=r.mainType,o=r.componentIndex,s={componentType:a,name:n,$vars:["name"]};s[a+"Index"]=o;var u=t.formatterParamsExtra;u&&Z(cr(u),function(c){ao(s,c)||(s[c]=u[c],s.$vars.push(c))});var l=Ut(t.el);l.componentMainType=a,l.componentIndex=o,l.tooltipConfig={name:n,option:lt({content:n,formatterParams:s},i)}}function f2(t,e){var r;t.isGroup&&(r=e(t)),r||t.traverse(e)}function cg(t,e){if(t)if(je(t))for(var r=0;r<t.length;r++)f2(t[r],e);else f2(t,e)}Xi("circle",nc);Xi("ellipse",GD);Xi("sector",zi);Xi("ring",O_);Xi("polygon",ag);Xi("polyline",$h);Xi("rect",Sr);Xi("line",Fi);Xi("bezierCurve",JD);Xi("arc",I_);const jY=Object.freeze(Object.defineProperty({__proto__:null,Arc:I_,BezierCurve:JD,BoundingRect:Bt,Circle:nc,CompoundPath:CY,Ellipse:GD,Group:Mr,Image:Du,IncrementalDisplayable:RY,Line:Fi,LinearGradient:rM,OrientedBoundingRect:fv,Path:Lt,Point:at,Polygon:ag,Polyline:$h,RadialGradient:PY,Rect:Sr,Ring:O_,Sector:zi,Text:$r,applyTransform:sg,clipPointsByRect:uM,clipRectByRect:UY,createIcon:ug,extendPath:NY,extendShape:IY,getShapeClass:FY,getTransform:$_,groupTransition:H_,initProps:hn,isElementRemoved:$l,lineLineIntersect:lM,linePolygonIntersect:VY,makeImage:iM,makePath:F_,mergePath:Ja,registerShape:Xi,removeElement:hv,removeElementWithFadeOut:dv,resizePath:oM,setTooltipConfig:lg,subPixelOptimize:HY,subPixelOptimizeLine:ph,subPixelOptimizeRect:$Y,transformDirection:sM,traverseElements:cg,updateProps:Vr},Symbol.toStringTag,{value:"Module"}));var fg={};function cM(t,e){for(var r=0;r<bi.length;r++){var n=bi[r],i=e[n],a=t.ensureState(n);a.style=a.style||{},a.style.text=i}var o=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(o,!0)}function H0(t,e,r){var n=t.labelFetcher,i=t.labelDataIndex,a=t.labelDimIndex,o=e.normal,s;n&&(s=n.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),r!=null?{interpolatedValue:r}:null)),s==null&&(s=ft(t.defaultText)?t.defaultText(i,t,r):t.defaultText);for(var u={normal:s},l=0;l<bi.length;l++){var c=bi[l],h=e[c];u[c]=Mt(n?n.getFormattedLabel(i,c,null,a,h&&h.get("formatter")):null,s)}return u}function Hh(t,e,r,n){r=r||fg;for(var i=t instanceof $r,a=!1,o=0;o<lv.length;o++){var s=e[lv[o]];if(s&&s.getShallow("show")){a=!0;break}}var u=i?t:t.getTextContent();if(a){i||(u||(u=new $r,t.setTextContent(u)),t.stateProxy&&(u.stateProxy=t.stateProxy));var l=H0(r,e),c=e.normal,h=!!c.getShallow("show"),f=uo(c,n&&n.normal,r,!1,!i);f.text=l.normal,i||t.setTextConfig(h2(c,r,!1));for(var o=0;o<bi.length;o++){var p=bi[o],s=e[p];if(s){var v=u.ensureState(p),g=!!Mt(s.getShallow("show"),h);if(g!==h&&(v.ignore=!g),v.style=uo(s,n&&n[p],r,!0,!i),v.style.text=l[p],!i){var m=t.ensureState(p);m.textConfig=h2(s,r,!0)}}}u.silent=!!c.getShallow("silent"),u.style.x!=null&&(f.x=u.style.x),u.style.y!=null&&(f.y=u.style.y),u.ignore=!h,u.useStyle(f),u.dirty(),r.enableTextSetter&&(bc(u).setLabelText=function(_){var b=H0(r,e,_);cM(u,b)})}else u&&(u.ignore=!0);t.dirty()}function zh(t,e){e=e||"label";for(var r={normal:t.getModel(e)},n=0;n<bi.length;n++){var i=bi[n];r[i]=t.getModel([i,e])}return r}function uo(t,e,r,n,i){var a={};return WY(a,t,r,n,i),e&&Oe(a,e),a}function h2(t,e,r){e=e||{};var n={},i,a=t.getShallow("rotate"),o=Mt(t.getShallow("distance"),r?null:5),s=t.getShallow("offset");return i=t.getShallow("position")||(r?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(n.position=i),s!=null&&(n.offset=s),a!=null&&(a*=Math.PI/180,n.rotation=a),o!=null&&(n.distance=o),n.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto",n}function WY(t,e,r,n,i){r=r||fg;var a=e.ecModel,o=a&&a.option.textStyle,s=YY(e),u;if(s){u={};for(var l in s)if(s.hasOwnProperty(l)){var c=e.getModel(["rich",l]);g2(u[l]={},c,o,r,n,i,!1,!0)}}u&&(t.rich=u);var h=e.get("overflow");h&&(t.overflow=h);var f=e.get("minMargin");f!=null&&(t.margin=f),g2(t,e,o,r,n,i,!0,!1)}function YY(t){for(var e;t&&t!==t.ecModel;){var r=(t.option||fg).rich;if(r){e=e||{};for(var n=cr(r),i=0;i<n.length;i++){var a=n[i];e[a]=1}}t=t.parentModel}return e}var d2=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],p2=["align","lineHeight","width","height","tag","verticalAlign"],v2=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function g2(t,e,r,n,i,a,o,s){r=!i&&r||fg;var u=n&&n.inheritColor,l=e.getShallow("color"),c=e.getShallow("textBorderColor"),h=Mt(e.getShallow("opacity"),r.opacity);(l==="inherit"||l==="auto")&&(u?l=u:l=null),(c==="inherit"||c==="auto")&&(u?c=u:c=null),a||(l=l||r.color,c=c||r.textBorderColor),l!=null&&(t.fill=l),c!=null&&(t.stroke=c);var f=Mt(e.getShallow("textBorderWidth"),r.textBorderWidth);f!=null&&(t.lineWidth=f);var p=Mt(e.getShallow("textBorderType"),r.textBorderType);p!=null&&(t.lineDash=p);var v=Mt(e.getShallow("textBorderDashOffset"),r.textBorderDashOffset);v!=null&&(t.lineDashOffset=v),!i&&h==null&&!s&&(h=n&&n.defaultOpacity),h!=null&&(t.opacity=h),!i&&!a&&t.fill==null&&n.inheritColor&&(t.fill=n.inheritColor);for(var g=0;g<d2.length;g++){var m=d2[g],_=Mt(e.getShallow(m),r[m]);_!=null&&(t[m]=_)}for(var g=0;g<p2.length;g++){var m=p2[g],_=e.getShallow(m);_!=null&&(t[m]=_)}if(t.verticalAlign==null){var b=e.getShallow("baseline");b!=null&&(t.verticalAlign=b)}if(!o||!n.disableBox){for(var g=0;g<v2.length;g++){var m=v2[g],_=e.getShallow(m);_!=null&&(t[m]=_)}var w=e.getShallow("borderType");w!=null&&(t.borderDash=w),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&u&&(t.backgroundColor=u),(t.borderColor==="auto"||t.borderColor==="inherit")&&u&&(t.borderColor=u)}}function XY(t,e){var r=e&&e.getModel("textStyle");return ga([t.fontStyle||r&&r.getShallow("fontStyle")||"",t.fontWeight||r&&r.getShallow("fontWeight")||"",(t.fontSize||r&&r.getShallow("fontSize")||12)+"px",t.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var bc=dr();function qY(t,e,r,n){if(t){var i=bc(t);i.prevValue=i.value,i.value=r;var a=e.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=n,i.statesModels=e)}}function KY(t,e,r,n,i){var a=bc(t);if(!a.valueAnimation||a.prevValue===a.value)return;var o=a.defaultInterpolatedText,s=Mt(a.interpolatedValue,a.prevValue),u=a.value;function l(c){var h=hD(r,a.precision,s,u,c);a.interpolatedValue=c===1?null:h;var f=H0({labelDataIndex:e,labelFetcher:i,defaultText:o?o(h):h+""},a.statesModels,h);cM(t,f)}t.percent=0,(a.prevValue==null?hn:Vr)(t,{percent:1},n,e,null,l)}var ZY=["textStyle","color"],Fm=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],$m=new $r,QY=function(){function t(){}return t.prototype.getTextColor=function(e){var r=this.ecModel;return this.getShallow("color")||(!e&&r?r.get(ZY):null)},t.prototype.getFont=function(){return XY({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(e){for(var r={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<Fm.length;n++)r[Fm[n]]=this.getShallow(Fm[n]);return $m.useStyle(r),$m.update(),$m.getBoundingRect()},t}();const JY=QY;var fM=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],eX=hh(fM),tX=function(){function t(){}return t.prototype.getLineStyle=function(e){return eX(this,e)},t}(),hM=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],rX=hh(hM),nX=function(){function t(){}return t.prototype.getItemStyle=function(e,r){return rX(this,e,r)},t}(),Mu=function(){function t(e,r,n){this.parentModel=r,this.ecModel=n,this.option=e}return t.prototype.init=function(e,r,n){},t.prototype.mergeOption=function(e,r){Tt(this.option,e,!0)},t.prototype.get=function(e,r){return e==null?this.option:this._doGet(this.parsePath(e),!r&&this.parentModel)},t.prototype.getShallow=function(e,r){var n=this.option,i=n==null?n:n[e];if(i==null&&!r){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},t.prototype.getModel=function(e,r){var n=e!=null,i=n?this.parsePath(e):null,a=n?this._doGet(i):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new t(a,r,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var e=this.constructor;return new e(_t(this.option))},t.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},t.prototype.resolveParentPath=function(e){return e},t.prototype.isAnimationEnabled=function(){if(!wt.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(e,r){var n=this.option;if(!e)return n;for(var i=0;i<e.length&&!(e[i]&&(n=n&&typeof n=="object"?n[e[i]]:null,n==null));i++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(e),r.parentModel)),n},t}();E_(Mu);Fj(Mu);Wi(Mu,tX);Wi(Mu,nX);Wi(Mu,Vj);Wi(Mu,JY);const zr=Mu;var iX=Math.round(Math.random()*10);function Uh(t){return[t||"",iX++].join("_")}function aX(t){var e={};t.registerSubTypeDefaulter=function(r,n){var i=ma(r);e[i.main]=n},t.determineSubType=function(r,n){var i=n.type;if(!i){var a=ma(r).main;t.hasSubTypes(r)&&e[a]&&(i=e[a](n))}return i}}function oX(t,e){t.topologicalTravel=function(a,o,s,u){if(!a.length)return;var l=r(o),c=l.graph,h=l.noEntryList,f={};for(Z(a,function(b){f[b]=!0});h.length;){var p=h.pop(),v=c[p],g=!!f[p];g&&(s.call(u,p,v.originalDeps.slice()),delete f[p]),Z(v.successor,g?_:m)}Z(f,function(){var b="";throw new Error(b)});function m(b){c[b].entryCount--,c[b].entryCount===0&&h.push(b)}function _(b){f[b]=!0,m(b)}};function r(a){var o={},s=[];return Z(a,function(u){var l=n(o,u),c=l.originalDeps=e(u),h=i(c,a);l.entryCount=h.length,l.entryCount===0&&s.push(u),Z(h,function(f){Dt(l.predecessor,f)<0&&l.predecessor.push(f);var p=n(o,f);Dt(p.successor,f)<0&&p.successor.push(u)})}),{graph:o,noEntryList:s}}function n(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function i(a,o){var s=[];return Z(a,function(u){Dt(o,u)>=0&&s.push(u)}),s}}function dM(t,e){return Tt(Tt({},t,!0),e,!0)}const sX={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},uX={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var gv="ZH",z_="EN",vh=z_,Np={},U_={},pM=wt.domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return t.indexOf(gv)>-1?gv:vh}():vh;function vM(t,e){t=t.toUpperCase(),U_[t]=new zr(e),Np[t]=e}function lX(t){if(Je(t)){var e=Np[t.toUpperCase()]||{};return t===gv||t===z_?_t(e):Tt(_t(e),_t(Np[vh]),!1)}else return Tt(_t(t),_t(Np[vh]),!1)}function cX(t){return U_[t]}function fX(){return U_[vh]}vM(z_,sX);vM(gv,uX);var V_=1e3,G_=V_*60,Vf=G_*60,fi=Vf*24,m2=fi*365,Sf={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Fd="{yyyy}-{MM}-{dd}",y2={year:"{yyyy}",month:"{yyyy}-{MM}",day:Fd,hour:Fd+" "+Sf.hour,minute:Fd+" "+Sf.minute,second:Fd+" "+Sf.second,millisecond:Sf.none},Hm=["year","month","day","hour","minute","second","millisecond"],gM=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Gs(t,e){return t+="","0000".substr(0,e-t.length)+t}function Hl(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function hX(t){return t===Hl(t)}function dX(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function hg(t,e,r,n){var i=oo(t),a=i[j_(r)](),o=i[zl(r)]()+1,s=Math.floor((o-1)/3)+1,u=i[dg(r)](),l=i["get"+(r?"UTC":"")+"Day"](),c=i[gh(r)](),h=(c-1)%12+1,f=i[pg(r)](),p=i[vg(r)](),v=i[gg(r)](),g=n instanceof zr?n:cX(n||pM)||fX(),m=g.getModel("time"),_=m.get("month"),b=m.get("monthAbbr"),w=m.get("dayOfWeek"),T=m.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,a%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,_[o-1]).replace(/{MMM}/g,b[o-1]).replace(/{MM}/g,Gs(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Gs(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,w[l]).replace(/{ee}/g,T[l]).replace(/{e}/g,l+"").replace(/{HH}/g,Gs(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Gs(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,Gs(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,Gs(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,Gs(v,3)).replace(/{S}/g,v+"")}function pX(t,e,r,n,i){var a=null;if(Je(r))a=r;else if(ft(r))a=r(t.value,e,{level:t.level});else{var o=Oe({},Sf);if(t.level>0)for(var s=0;s<Hm.length;++s)o[Hm[s]]="{primary|"+o[Hm[s]]+"}";var u=r?r.inherit===!1?r:lt(r,o):o,l=mM(t.value,i);if(u[l])a=u[l];else if(u.inherit){for(var c=gM.indexOf(l),s=c-1;s>=0;--s)if(u[l]){a=u[l];break}a=a||o.none}if(je(a)){var h=t.level==null?0:t.level>=0?t.level:a.length+t.level;h=Math.min(h,a.length-1),a=a[h]}}return hg(new Date(t.value),a,i,n)}function mM(t,e){var r=oo(t),n=r[zl(e)]()+1,i=r[dg(e)](),a=r[gh(e)](),o=r[pg(e)](),s=r[vg(e)](),u=r[gg(e)](),l=u===0,c=l&&s===0,h=c&&o===0,f=h&&a===0,p=f&&i===1,v=p&&n===1;return v?"year":p?"month":f?"day":h?"hour":c?"minute":l?"second":"millisecond"}function _2(t,e,r){var n=Yt(t)?oo(t):t;switch(e=e||mM(t,r),e){case"year":return n[j_(r)]();case"half-year":return n[zl(r)]()>=6?1:0;case"quarter":return Math.floor((n[zl(r)]()+1)/4);case"month":return n[zl(r)]();case"day":return n[dg(r)]();case"half-day":return n[gh(r)]()/24;case"hour":return n[gh(r)]();case"minute":return n[pg(r)]();case"second":return n[vg(r)]();case"millisecond":return n[gg(r)]()}}function j_(t){return t?"getUTCFullYear":"getFullYear"}function zl(t){return t?"getUTCMonth":"getMonth"}function dg(t){return t?"getUTCDate":"getDate"}function gh(t){return t?"getUTCHours":"getHours"}function pg(t){return t?"getUTCMinutes":"getMinutes"}function vg(t){return t?"getUTCSeconds":"getSeconds"}function gg(t){return t?"getUTCMilliseconds":"getMilliseconds"}function vX(t){return t?"setUTCFullYear":"setFullYear"}function yM(t){return t?"setUTCMonth":"setMonth"}function _M(t){return t?"setUTCDate":"setDate"}function bM(t){return t?"setUTCHours":"setHours"}function xM(t){return t?"setUTCMinutes":"setMinutes"}function SM(t){return t?"setUTCSeconds":"setSeconds"}function wM(t){return t?"setUTCMilliseconds":"setMilliseconds"}function TM(t){if(!mj(t))return Je(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function CM(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var mg=EP;function z0(t,e,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&ga(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=e==="time",s=t instanceof Date;if(o||s){var u=o?oo(t):t;if(isNaN(+u)){if(s)return"-"}else return hg(u,n,r)}if(e==="ordinal")return c0(t)?i(t):Yt(t)&&a(t)?t+"":"-";var l=is(t);return a(l)?TM(l):c0(t)?i(t):typeof t=="boolean"?t+"":"-"}var b2=["a","b","c","d","e","f","g"],zm=function(t,e){return"{"+t+(e??"")+"}"};function AM(t,e,r){je(e)||(e=[e]);var n=e.length;if(!n)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var o=b2[a];t=t.replace(zm(o),zm(o,0))}for(var s=0;s<n;s++)for(var u=0;u<i.length;u++){var l=e[s][i[u]];t=t.replace(zm(b2[u],s),r?li(l):l)}return t}function gX(t,e){var r=Je(t)?{color:t,extraCssText:e}:t||{},n=r.color,i=r.type;e=r.extraCssText;var a=r.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+li(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+li(n)+";"+(e||"")+'"></span>';var o=r.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function _u(t,e){return e=e||"transparent",Je(t)?t:nt(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function x2(t,e){if(e==="_blank"||e==="blank"){var r=window.open();r.opener=null,r.location.href=t}else window.open(t,e)}var Fp=Z,mX=["left","right","top","bottom","width","height"],$d=[["width","left","right"],["height","top","bottom"]];function W_(t,e,r,n,i){var a=0,o=0;n==null&&(n=1/0),i==null&&(i=1/0);var s=0;e.eachChild(function(u,l){var c=u.getBoundingRect(),h=e.childAt(l+1),f=h&&h.getBoundingRect(),p,v;if(t==="horizontal"){var g=c.width+(f?-f.x+c.x:0);p=a+g,p>n||u.newline?(a=0,p=g,o+=s+r,s=c.height):s=Math.max(s,c.height)}else{var m=c.height+(f?-f.y+c.y:0);v=o+m,v>i||u.newline?(a+=s+r,o=0,v=m,s=c.width):s=Math.max(s,c.width)}u.newline||(u.x=a,u.y=o,u.markRedraw(),t==="horizontal"?a=p+r:o=v+r)})}var Ul=W_;zt(W_,"vertical");zt(W_,"horizontal");function as(t,e,r){r=mg(r||0);var n=e.width,i=e.height,a=$t(t.left,n),o=$t(t.top,i),s=$t(t.right,n),u=$t(t.bottom,i),l=$t(t.width,n),c=$t(t.height,i),h=r[2]+r[0],f=r[1]+r[3],p=t.aspect;switch(isNaN(l)&&(l=n-s-f-a),isNaN(c)&&(c=i-u-h-o),p!=null&&(isNaN(l)&&isNaN(c)&&(p>n/i?l=n*.8:c=i*.8),isNaN(l)&&(l=p*c),isNaN(c)&&(c=l/p)),isNaN(a)&&(a=n-s-l-f),isNaN(o)&&(o=i-u-c-h),t.left||t.right){case"center":a=n/2-l/2-r[3];break;case"right":a=n-l-f;break}switch(t.top||t.bottom){case"middle":case"center":o=i/2-c/2-r[0];break;case"bottom":o=i-c-h;break}a=a||0,o=o||0,isNaN(l)&&(l=n-f-a-(s||0)),isNaN(c)&&(c=i-h-o-(u||0));var v=new Bt(a+r[3],o+r[0],l,c);return v.margin=r,v}function yX(t,e,r,n,i,a){var o=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],u=i&&i.boundingMode||"all";if(a=a||t,a.x=t.x,a.y=t.y,!o&&!s)return!1;var l;if(u==="raw")l=t.type==="group"?new Bt(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(l=t.getBoundingRect(),t.needLocalTransform()){var c=t.getLocalTransform();l=l.clone(),l.applyTransform(c)}var h=as(lt({width:l.width,height:l.height},e),r,n),f=o?h.x-l.x:0,p=s?h.y-l.y:0;return u==="raw"?(a.x=f,a.y=p):(a.x+=f,a.y+=p),a===t&&t.markRedraw(),!0}function mh(t){var e=t.layoutMode||t.constructor.layoutMode;return nt(e)?e:e?{type:e}:null}function ic(t,e,r){var n=r&&r.ignoreSize;!je(n)&&(n=[n,n]);var i=o($d[0],0),a=o($d[1],1);l($d[0],t,i),l($d[1],t,a);function o(c,h){var f={},p=0,v={},g=0,m=2;if(Fp(c,function(w){v[w]=t[w]}),Fp(c,function(w){s(e,w)&&(f[w]=v[w]=e[w]),u(f,w)&&p++,u(v,w)&&g++}),n[h])return u(e,c[1])?v[c[2]]=null:u(e,c[2])&&(v[c[1]]=null),v;if(g===m||!p)return v;if(p>=m)return f;for(var _=0;_<c.length;_++){var b=c[_];if(!s(f,b)&&s(t,b)){f[b]=t[b];break}}return f}function s(c,h){return c.hasOwnProperty(h)}function u(c,h){return c[h]!=null&&c[h]!=="auto"}function l(c,h,f){Fp(c,function(p){h[p]=f[p]})}}function yg(t){return _X({},t)}function _X(t,e){return e&&t&&Fp(mX,function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t}var bX=dr(),xc=function(t){Me(e,t);function e(r,n,i){var a=t.call(this,r,n,i)||this;return a.uid=Uh("ec_cpt_model"),a}return e.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},e.prototype.mergeDefaultAndTheme=function(r,n){var i=mh(this),a=i?yg(r):{},o=n.getTheme();Tt(r,o.get(this.mainType)),Tt(r,this.getDefaultOption()),i&&ic(r,a,i)},e.prototype.mergeOption=function(r,n){Tt(this.option,r,!0);var i=mh(this);i&&ic(this.option,r,i)},e.prototype.optionUpdated=function(r,n){},e.prototype.getDefaultOption=function(){var r=this.constructor;if(!Ij(r))return r.defaultOption;var n=bX(this);if(!n.defaultOption){for(var i=[],a=r;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var s={},u=i.length-1;u>=0;u--)s=Tt(s,i[u],!0);n.defaultOption=s}return n.defaultOption},e.prototype.getReferringComponents=function(r,n){var i=r+"Index",a=r+"Id";return Fh(this.ecModel,r,{index:this.get(i,!0),id:this.get(a,!0)},n)},e.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(r){this.option.zlevel=r},e.protoInitialize=function(){var r=e.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),e}(zr);pD(xc,zr);Jv(xc);aX(xc);oX(xc,xX);function xX(t){var e=[];return Z(xc.getClassesByMainType(t),function(r){e=e.concat(r.dependencies||r.prototype.dependencies||[])}),e=qe(e,function(r){return ma(r).main}),t!=="dataset"&&Dt(e,"dataset")<=0&&e.unshift("dataset"),e}const Qt=xc;var kM="";typeof navigator<"u"&&(kM=navigator.platform||"");var il="rgba(0, 0, 0, 0.2)";const SX={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:il,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:il,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:il,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:il,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:il,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:il,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:kM.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var EM=ct(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Si="original",Tn="arrayRows",wi="objectRows",Ma="keyedColumns",Qo="typedArray",PM="unknown",Sa="column",Sc="row",Xr={Must:1,Might:2,Not:3},DM=dr();function wX(t){DM(t).datasetMap=ct()}function TX(t,e,r){var n={},i=Y_(e);if(!i||!t)return n;var a=[],o=[],s=e.ecModel,u=DM(s).datasetMap,l=i.uid+"_"+r.seriesLayoutBy,c,h;t=t.slice(),Z(t,function(g,m){var _=nt(g)?g:t[m]={name:g};_.type==="ordinal"&&c==null&&(c=m,h=v(_)),n[_.name]=[]});var f=u.get(l)||u.set(l,{categoryWayDim:h,valueWayDim:0});Z(t,function(g,m){var _=g.name,b=v(g);if(c==null){var w=f.valueWayDim;p(n[_],w,b),p(o,w,b),f.valueWayDim+=b}else if(c===m)p(n[_],0,b),p(a,0,b);else{var w=f.categoryWayDim;p(n[_],w,b),p(o,w,b),f.categoryWayDim+=b}});function p(g,m,_){for(var b=0;b<_;b++)g.push(m+b)}function v(g){var m=g.dimsDef;return m?m.length:1}return a.length&&(n.itemName=a),o.length&&(n.seriesName=o),n}function CX(t,e,r){var n={},i=Y_(t);if(!i)return n;var a=e.sourceFormat,o=e.dimensionsDefine,s;(a===wi||a===Ma)&&Z(o,function(c,h){(nt(c)?c.name:c)==="name"&&(s=h)});var u=function(){for(var c={},h={},f=[],p=0,v=Math.min(5,r);p<v;p++){var g=LM(e.data,a,e.seriesLayoutBy,o,e.startIndex,p);f.push(g);var m=g===Xr.Not;if(m&&c.v==null&&p!==s&&(c.v=p),(c.n==null||c.n===c.v||!m&&f[c.n]===Xr.Not)&&(c.n=p),_(c)&&f[c.n]!==Xr.Not)return c;m||(g===Xr.Might&&h.v==null&&p!==s&&(h.v=p),(h.n==null||h.n===h.v)&&(h.n=p))}function _(b){return b.v!=null&&b.n!=null}return _(c)?c:_(h)?h:null}();if(u){n.value=[u.v];var l=s??u.n;n.itemName=[l],n.seriesName=[l]}return n}function Y_(t){var e=t.get("data",!0);if(!e)return Fh(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},Zr).models[0]}function AX(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:Fh(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},Zr).models}function MM(t,e){return LM(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function LM(t,e,r,n,i,a){var o,s=5;if(Zn(t))return Xr.Not;var u,l;if(n){var c=n[a];nt(c)?(u=c.name,l=c.type):Je(c)&&(u=c)}if(l!=null)return l==="ordinal"?Xr.Must:Xr.Not;if(e===Tn){var h=t;if(r===Sc){for(var f=h[a],p=0;p<(f||[]).length&&p<s;p++)if((o=T(f[i+p]))!=null)return o}else for(var p=0;p<h.length&&p<s;p++){var v=h[i+p];if(v&&(o=T(v[a]))!=null)return o}}else if(e===wi){var g=t;if(!u)return Xr.Not;for(var p=0;p<g.length&&p<s;p++){var m=g[p];if(m&&(o=T(m[u]))!=null)return o}}else if(e===Ma){var _=t;if(!u)return Xr.Not;var f=_[u];if(!f||Zn(f))return Xr.Not;for(var p=0;p<f.length&&p<s;p++)if((o=T(f[p]))!=null)return o}else if(e===Si)for(var b=t,p=0;p<b.length&&p<s;p++){var m=b[p],w=Nh(m);if(!je(w))return Xr.Not;if((o=T(w[a]))!=null)return o}function T(k){var A=Je(k);if(k!=null&&isFinite(k)&&k!=="")return A?Xr.Might:Xr.Not;if(A&&k!=="-")return Xr.Must}return Xr.Not}var U0=ct();function kX(t,e){Ea(U0.get(t)==null&&e),U0.set(t,e)}function EX(t,e,r){var n=U0.get(e);if(!n)return r;var i=n(t);return i?r.concat(i):r}var S2=dr();dr();var X_=function(){function t(){}return t.prototype.getColorFromPalette=function(e,r,n){var i=Cr(this.get("color",!0)),a=this.get("colorLayer",!0);return DX(this,S2,i,a,e,r,n)},t.prototype.clearColorPalette=function(){MX(this,S2)},t}();function PX(t,e){for(var r=t.length,n=0;n<r;n++)if(t[n].length>e)return t[n];return t[r-1]}function DX(t,e,r,n,i,a,o){a=a||t;var s=e(a),u=s.paletteIdx||0,l=s.paletteNameMap=s.paletteNameMap||{};if(l.hasOwnProperty(i))return l[i];var c=o==null||!n?r:PX(n,o);if(c=c||r,!(!c||!c.length)){var h=c[u];return i&&(l[i]=h),s.paletteIdx=(u+1)%c.length,h}}function MX(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var Hd,Qc,w2,T2="\0_ec_inner",LX=1,RM=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r,n,i,a,o,s){a=a||{},this.option=null,this._theme=new zr(a),this._locale=new zr(o),this._optionManager=s},e.prototype.setOption=function(r,n,i){var a=k2(n);this._optionManager.setOption(r,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(r,n){return this._resetOption(r,k2(n))},e.prototype._resetOption=function(r,n){var i=!1,a=this._optionManager;if(!r||r==="recreate"){var o=a.mountOption(r==="recreate");!this.option||r==="recreate"?w2(this,o):(this.restoreData(),this._mergeOption(o,n)),i=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var s=a.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,n))}if(!r||r==="recreate"||r==="media"){var u=a.getMediaOption(this);u.length&&Z(u,function(l){i=!0,this._mergeOption(l,n)},this)}return i},e.prototype.mergeOption=function(r){this._mergeOption(r,null)},e.prototype._mergeOption=function(r,n){var i=this.option,a=this._componentsMap,o=this._componentsCount,s=[],u=ct(),l=n&&n.replaceMergeMainTypeMap;wX(this),Z(r,function(h,f){h!=null&&(Qt.hasClass(f)?f&&(s.push(f),u.set(f,!0)):i[f]=i[f]==null?_t(h):Tt(i[f],h,!0))}),l&&l.each(function(h,f){Qt.hasClass(f)&&!u.get(f)&&(s.push(f),u.set(f,!0))}),Qt.topologicalTravel(s,Qt.getAllClassMainTypes(),c,this);function c(h){var f=EX(this,h,Cr(r[h])),p=a.get(h),v=p?l&&l.get(h)?"replaceMerge":"normalMerge":"replaceAll",g=_j(p,f,v);kj(g,h,Qt),i[h]=null,a.set(h,null),o.set(h,0);var m=[],_=[],b=0,w;Z(g,function(T,k){var A=T.existing,D=T.newOption;if(!D)A&&(A.mergeOption({},this),A.optionUpdated({},!1));else{var O=h==="series",F=Qt.getClass(h,T.keyInfo.subType,!O);if(!F)return;if(h==="tooltip"){if(w)return;w=!0}if(A&&A.constructor===F)A.name=T.keyInfo.name,A.mergeOption(D,this),A.optionUpdated(D,!1);else{var $=Oe({componentIndex:k},T.keyInfo);A=new F(D,this,this,$),Oe(A,$),T.brandNew&&(A.__requireNewView=!0),A.init(D,this,this),A.optionUpdated(null,!0)}}A?(m.push(A.option),_.push(A),b++):(m.push(void 0),_.push(void 0))},this),i[h]=m,a.set(h,_),o.set(h,b),h==="series"&&Hd(this)}this._seriesIndices||Hd(this)},e.prototype.getOption=function(){var r=_t(this.option);return Z(r,function(n,i){if(Qt.hasClass(i)){for(var a=Cr(n),o=a.length,s=!1,u=o-1;u>=0;u--)a[u]&&!fh(a[u])?s=!0:(a[u]=null,!s&&o--);a.length=o,r[i]=a}}),delete r[T2],r},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(r){this._payload=r},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(r,n){var i=this._componentsMap.get(r);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var o=0;o<i.length;o++)if(i[o])return i[o]}}},e.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var i=r.index,a=r.id,o=r.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var u;return i!=null?(u=[],Z(Cr(i),function(l){s[l]&&u.push(s[l])})):a!=null?u=C2("id",a,s):o!=null?u=C2("name",o,s):u=xr(s,function(l){return!!l}),A2(u,r)},e.prototype.findComponents=function(r){var n=r.query,i=r.mainType,a=s(n),o=a?this.queryComponents(a):xr(this._componentsMap.get(i),function(l){return!!l});return u(A2(o,r));function s(l){var c=i+"Index",h=i+"Id",f=i+"Name";return l&&(l[c]!=null||l[h]!=null||l[f]!=null)?{mainType:i,index:l[c],id:l[h],name:l[f]}:null}function u(l){return r.filter?xr(l,r.filter):l}},e.prototype.eachComponent=function(r,n,i){var a=this._componentsMap;if(ft(r)){var o=n,s=r;a.each(function(h,f){for(var p=0;h&&p<h.length;p++){var v=h[p];v&&s.call(o,f,v,v.componentIndex)}})}else for(var u=Je(r)?a.get(r):nt(r)?this.findComponents(r):null,l=0;u&&l<u.length;l++){var c=u[l];c&&n.call(i,c,c.componentIndex)}},e.prototype.getSeriesByName=function(r){var n=xa(r,null);return xr(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},e.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},e.prototype.getSeriesByType=function(r){return xr(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},e.prototype.getSeries=function(){return xr(this._componentsMap.get("series"),function(r){return!!r})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(r,n){Qc(this),Z(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];r.call(n,a,i)},this)},e.prototype.eachRawSeries=function(r,n){Z(this._componentsMap.get("series"),function(i){i&&r.call(n,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(r,n,i){Qc(this),Z(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===r&&n.call(i,o,a)},this)},e.prototype.eachRawSeriesByType=function(r,n,i){return Z(this.getSeriesByType(r),n,i)},e.prototype.isSeriesFiltered=function(r){return Qc(this),this._seriesIndicesMap.get(r.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(r,n){Qc(this);var i=[];Z(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];r.call(n,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=ct(i)},e.prototype.restoreData=function(r){Hd(this);var n=this._componentsMap,i=[];n.each(function(a,o){Qt.hasClass(o)&&i.push(o)}),Qt.topologicalTravel(i,Qt.getAllClassMainTypes(),function(a){Z(n.get(a),function(o){o&&(a!=="series"||!RX(o,r))&&o.restoreData()})})},e.internalField=function(){Hd=function(r){var n=r._seriesIndices=[];Z(r._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),r._seriesIndicesMap=ct(n)},Qc=function(r){},w2=function(r,n){r.option={},r.option[T2]=LX,r._componentsMap=ct({series:[]}),r._componentsCount=ct();var i=n.aria;nt(i)&&i.enabled==null&&(i.enabled=!0),OX(n,r._theme.option),Tt(n,SX,!1),r._mergeOption(n,null)}}(),e}(zr);function RX(t,e){if(e){var r=e.seriesIndex,n=e.seriesId,i=e.seriesName;return r!=null&&t.componentIndex!==r||n!=null&&t.id!==n||i!=null&&t.name!==i}}function OX(t,e){var r=t.color&&!t.colorLayer;Z(e,function(n,i){i==="colorLayer"&&r||Qt.hasClass(i)||(typeof n=="object"?t[i]=t[i]?Tt(t[i],n,!1):_t(n):t[i]==null&&(t[i]=n))})}function C2(t,e,r){if(je(e)){var n=ct();return Z(e,function(a){if(a!=null){var o=xa(a,null);o!=null&&n.set(a,!0)}}),xr(r,function(a){return a&&n.get(a[t])})}else{var i=xa(e,null);return xr(r,function(a){return a&&i!=null&&a[t]===i})}}function A2(t,e){return e.hasOwnProperty("subType")?xr(t,function(r){return r&&r.subType===e.subType}):t}function k2(t){var e=ct();return t&&Z(Cr(t.replaceMerge),function(r){e.set(r,!0)}),{replaceMergeMainTypeMap:e}}Wi(RM,X_);const OM=RM;var IX=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],BX=function(){function t(e){Z(IX,function(r){this[r]=nr(e[r],e)},this)}return t}();const IM=BX;var Um={},NX=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(e,r){var n=[];Z(Um,function(i,a){var o=i.create(e,r);n=n.concat(o||[])}),this._coordinateSystems=n},t.prototype.update=function(e,r){Z(this._coordinateSystems,function(n){n.update&&n.update(e,r)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(e,r){Um[e]=r},t.get=function(e){return Um[e]},t}();const q_=NX;var FX=/^(min|max)?(.+)$/,$X=function(){function t(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return t.prototype.setOption=function(e,r,n){e&&(Z(Cr(e.series),function(o){o&&o.data&&Zn(o.data)&&ev(o.data)}),Z(Cr(e.dataset),function(o){o&&o.source&&Zn(o.source)&&ev(o.source)})),e=_t(e);var i=this._optionBackup,a=HX(e,r,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},t.prototype.mountOption=function(e){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],_t(e?r.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(e){var r,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(r=_t(n[i.getCurrentIndex()]))}return r},t.prototype.getMediaOption=function(e){var r=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!i.length&&!a)return s;for(var u=0,l=i.length;u<l;u++)zX(i[u].query,r,n)&&o.push(u);return!o.length&&a&&(o=[-1]),o.length&&!VX(o,this._currentMediaIndices)&&(s=qe(o,function(c){return _t(c===-1?a.option:i[c].option)})),this._currentMediaIndices=o,s},t}();function HX(t,e,r){var n=[],i,a,o=t.baseOption,s=t.timeline,u=t.options,l=t.media,c=!!t.media,h=!!(u||s||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=s)):((h||c)&&(t.options=t.media=null),a=t),c&&je(l)&&Z(l,function(p){p&&p.option&&(p.query?n.push(p):i||(i=p))}),f(a),Z(u,function(p){return f(p)}),Z(n,function(p){return f(p.option)});function f(p){Z(e,function(v){v(p,r)})}return{baseOption:a,timelineOptions:u||[],mediaDefault:i,mediaList:n}}function zX(t,e,r){var n={width:e,height:r,aspectratio:e/r},i=!0;return Z(t,function(a,o){var s=o.match(FX);if(!(!s||!s[1]||!s[2])){var u=s[1],l=s[2].toLowerCase();UX(n[l],a,u)||(i=!1)}}),i}function UX(t,e,r){return r==="min"?t>=e:r==="max"?t<=e:t===e}function VX(t,e){return t.join(",")===e.join(",")}const GX=$X;var ki=Z,yh=nt,E2=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Vm(t){var e=t&&t.itemStyle;if(e)for(var r=0,n=E2.length;r<n;r++){var i=E2[r],a=e.normal,o=e.emphasis;a&&a[i]&&(t[i]=t[i]||{},t[i].normal?Tt(t[i].normal,a[i]):t[i].normal=a[i],a[i]=null),o&&o[i]&&(t[i]=t[i]||{},t[i].emphasis?Tt(t[i].emphasis,o[i]):t[i].emphasis=o[i],o[i]=null)}}function cn(t,e,r){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,i=t[e].emphasis;n&&(r?(t[e].normal=t[e].emphasis=null,lt(t[e],n)):t[e]=n),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i,i.focus&&(t.emphasis.focus=i.focus),i.blurScope&&(t.emphasis.blurScope=i.blurScope))}}function wf(t){cn(t,"itemStyle"),cn(t,"lineStyle"),cn(t,"areaStyle"),cn(t,"label"),cn(t,"labelLine"),cn(t,"upperLabel"),cn(t,"edgeLabel")}function wr(t,e){var r=yh(t)&&t[e],n=yh(r)&&r.textStyle;if(n)for(var i=0,a=Pw.length;i<a;i++){var o=Pw[i];n.hasOwnProperty(o)&&(r[o]=n[o])}}function oi(t){t&&(wf(t),wr(t,"label"),t.emphasis&&wr(t.emphasis,"label"))}function jX(t){if(yh(t)){Vm(t),wf(t),wr(t,"label"),wr(t,"upperLabel"),wr(t,"edgeLabel"),t.emphasis&&(wr(t.emphasis,"label"),wr(t.emphasis,"upperLabel"),wr(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(Vm(e),oi(e));var r=t.markLine;r&&(Vm(r),oi(r));var n=t.markArea;n&&oi(n);var i=t.data;if(t.type==="graph"){i=i||t.nodes;var a=t.links||t.edges;if(a&&!Zn(a))for(var o=0;o<a.length;o++)oi(a[o]);Z(t.categories,function(l){wf(l)})}if(i&&!Zn(i))for(var o=0;o<i.length;o++)oi(i[o]);if(e=t.markPoint,e&&e.data)for(var s=e.data,o=0;o<s.length;o++)oi(s[o]);if(r=t.markLine,r&&r.data)for(var u=r.data,o=0;o<u.length;o++)je(u[o])?(oi(u[o][0]),oi(u[o][1])):oi(u[o]);t.type==="gauge"?(wr(t,"axisLabel"),wr(t,"title"),wr(t,"detail")):t.type==="treemap"?(cn(t.breadcrumb,"itemStyle"),Z(t.levels,function(l){wf(l)})):t.type==="tree"&&wf(t.leaves)}}function qa(t){return je(t)?t:t?[t]:[]}function P2(t){return(je(t)?t[0]:t)||{}}function WX(t,e){ki(qa(t.series),function(n){yh(n)&&jX(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),ki(r,function(n){ki(qa(t[n]),function(i){i&&(wr(i,"axisLabel"),wr(i.axisPointer,"label"))})}),ki(qa(t.parallel),function(n){var i=n&&n.parallelAxisDefault;wr(i,"axisLabel"),wr(i&&i.axisPointer,"label")}),ki(qa(t.calendar),function(n){cn(n,"itemStyle"),wr(n,"dayLabel"),wr(n,"monthLabel"),wr(n,"yearLabel")}),ki(qa(t.radar),function(n){wr(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),ki(qa(t.geo),function(n){yh(n)&&(oi(n),ki(qa(n.regions),function(i){oi(i)}))}),ki(qa(t.timeline),function(n){oi(n),cn(n,"label"),cn(n,"itemStyle"),cn(n,"controlStyle",!0);var i=n.data;je(i)&&Z(i,function(a){nt(a)&&(cn(a,"label"),cn(a,"itemStyle"))})}),ki(qa(t.toolbox),function(n){cn(n,"iconStyle"),ki(n.feature,function(i){cn(i,"iconStyle")})}),wr(P2(t.axisPointer),"label"),wr(P2(t.tooltip).axisPointer,"label")}function YX(t,e){for(var r=e.split(","),n=t,i=0;i<r.length&&(n=n&&n[r[i]],n!=null);i++);return n}function XX(t,e,r,n){for(var i=e.split(","),a=t,o,s=0;s<i.length-1;s++)o=i[s],a[o]==null&&(a[o]={}),a=a[o];(n||a[i[s]]==null)&&(a[i[s]]=r)}function D2(t){t&&Z(qX,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var qX=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],KX=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Gm=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Jc(t){var e=t&&t.itemStyle;if(e)for(var r=0;r<Gm.length;r++){var n=Gm[r][1],i=Gm[r][0];e[n]!=null&&(e[i]=e[n])}}function M2(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function L2(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function ZX(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function BM(t,e){if(t)for(var r=0;r<t.length;r++)e(t[r]),t[r]&&BM(t[r].children,e)}function NM(t,e){WX(t,e),t.series=Cr(t.series),Z(t.series,function(r){if(nt(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),M2(r.label);var i=r.data;if(i&&!Zn(i))for(var a=0;a<i.length;a++)M2(i[a]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var o=YX(r,"pointer.color");o!=null&&XX(r,"itemStyle.color",o)}else if(n==="bar"){Jc(r),Jc(r.backgroundStyle),Jc(r.emphasis);var i=r.data;if(i&&!Zn(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(Jc(i[a]),Jc(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var s=r.highlightPolicy;s&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=s)),L2(r),BM(r.data,L2)}else n==="graph"||n==="sankey"?ZX(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&lt(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),D2(r)}}),t.dataRange&&(t.visualMap=t.dataRange),Z(KX,function(r){var n=t[r];n&&(je(n)||(n=[n]),Z(n,function(i){D2(i)}))})}function QX(t){var e=ct();t.eachSeries(function(r){var n=r.get("stack");if(n){var i=e.get(n)||e.set(n,[]),a=r.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:r};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}}),e.each(JX)}function JX(t){Z(t,function(e,r){var n=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,u=e.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(l,c,h){var f=o.get(e.stackedDimension,h);if(isNaN(f))return i;var p,v;s?v=o.getRawIndex(h):p=o.get(e.stackedByDimension,h);for(var g=NaN,m=r-1;m>=0;m--){var _=t[m];if(s||(v=_.data.rawIndexOf(_.stackedByDimension,p)),v>=0){var b=_.data.getByRawIndex(_.stackResultDimension,v);if(u==="all"||u==="positive"&&b>0||u==="negative"&&b<0||u==="samesign"&&f>=0&&b>0||u==="samesign"&&f<=0&&b<0){f=pj(f,b),g=b;break}}}return n[0]=f,n[1]=g,n})})}var _g=function(){function t(e){this.data=e.data||(e.sourceFormat===Ma?{}:[]),this.sourceFormat=e.sourceFormat||PM,this.seriesLayoutBy=e.seriesLayoutBy||Sa,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var r=this.dimensionsDefine=e.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var i=r[n];i.type==null&&MM(this,n)===Xr.Must&&(i.type="ordinal")}}return t}();function K_(t){return t instanceof _g}function V0(t,e,r){r=r||FM(t);var n=e.seriesLayoutBy,i=tq(t,r,n,e.sourceHeader,e.dimensions),a=new _g({data:t,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:_t(e)});return a}function Z_(t){return new _g({data:t,sourceFormat:Zn(t)?Qo:Si})}function eq(t){return new _g({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:_t(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function FM(t){var e=PM;if(Zn(t))e=Qo;else if(je(t)){t.length===0&&(e=Tn);for(var r=0,n=t.length;r<n;r++){var i=t[r];if(i!=null){if(je(i)){e=Tn;break}else if(nt(i)){e=wi;break}}}}else if(nt(t)){for(var a in t)if(ao(t,a)&&wn(t[a])){e=Ma;break}}return e}function tq(t,e,r,n,i){var a,o;if(!t)return{dimensionsDefine:R2(i),startIndex:o,dimensionsDetectedCount:a};if(e===Tn){var s=t;n==="auto"||n==null?O2(function(l){l!=null&&l!=="-"&&(Je(l)?o==null&&(o=1):o=0)},r,s,10):o=Yt(n)?n:n?1:0,!i&&o===1&&(i=[],O2(function(l,c){i[c]=l!=null?l+"":""},r,s,1/0)),a=i?i.length:r===Sc?s.length:s[0]?s[0].length:null}else if(e===wi)i||(i=rq(t));else if(e===Ma)i||(i=[],Z(t,function(l,c){i.push(c)}));else if(e===Si){var u=Nh(t[0]);a=je(u)&&u.length||1}return{startIndex:o,dimensionsDefine:R2(i),dimensionsDetectedCount:a}}function rq(t){for(var e=0,r;e<t.length&&!(r=t[e++]););if(r)return cr(r)}function R2(t){if(t){var e=ct();return qe(t,function(r,n){r=nt(r)?r:{name:r};var i={name:r.name,displayName:r.displayName,type:r.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function O2(t,e,r,n){if(e===Sc)for(var i=0;i<r.length&&i<n;i++)t(r[i]?r[i][0]:null,i);else for(var a=r[0]||[],i=0;i<a.length&&i<n;i++)t(a[i],i)}function $M(t){var e=t.sourceFormat;return e===wi||e===Ma}var js,Ws,Ys,I2,B2,HM=function(){function t(e,r){var n=K_(e)?e:Z_(e);this._source=n;var i=this._data=n.data;n.sourceFormat===Qo&&(this._offset=0,this._dimSize=r,this._data=i),B2(this,i,n)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,r){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var e;B2=function(o,s,u){var l=u.sourceFormat,c=u.seriesLayoutBy,h=u.startIndex,f=u.dimensionsDefine,p=I2[Q_(l,c)];if(Oe(o,p),l===Qo)o.getItem=r,o.count=i,o.fillStorage=n;else{var v=zM(l,c);o.getItem=nr(v,null,s,h,f);var g=UM(l,c);o.count=nr(g,null,s,h,f)}};var r=function(o,s){o=o-this._offset,s=s||[];for(var u=this._data,l=this._dimSize,c=l*o,h=0;h<l;h++)s[h]=u[c+h];return s},n=function(o,s,u,l){for(var c=this._data,h=this._dimSize,f=0;f<h;f++){for(var p=l[f],v=p[0]==null?1/0:p[0],g=p[1]==null?-1/0:p[1],m=s-o,_=u[f],b=0;b<m;b++){var w=c[b*h+f];_[o+b]=w,w<v&&(v=w),w>g&&(g=w)}p[0]=v,p[1]=g}},i=function(){return this._data?this._data.length/this._dimSize:0};I2=(e={},e[Tn+"_"+Sa]={pure:!0,appendData:a},e[Tn+"_"+Sc]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[wi]={pure:!0,appendData:a},e[Ma]={pure:!0,appendData:function(o){var s=this._data;Z(o,function(u,l){for(var c=s[l]||(s[l]=[]),h=0;h<(u||[]).length;h++)c.push(u[h])})}},e[Si]={appendData:a},e[Qo]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),t}(),N2=function(t,e,r,n){return t[n]},nq=(js={},js[Tn+"_"+Sa]=function(t,e,r,n){return t[n+e]},js[Tn+"_"+Sc]=function(t,e,r,n,i){n+=e;for(var a=i||[],o=t,s=0;s<o.length;s++){var u=o[s];a[s]=u?u[n]:null}return a},js[wi]=N2,js[Ma]=function(t,e,r,n,i){for(var a=i||[],o=0;o<r.length;o++){var s=r[o].name,u=t[s];a[o]=u?u[n]:null}return a},js[Si]=N2,js);function zM(t,e){var r=nq[Q_(t,e)];return r}var F2=function(t,e,r){return t.length},iq=(Ws={},Ws[Tn+"_"+Sa]=function(t,e,r){return Math.max(0,t.length-e)},Ws[Tn+"_"+Sc]=function(t,e,r){var n=t[0];return n?Math.max(0,n.length-e):0},Ws[wi]=F2,Ws[Ma]=function(t,e,r){var n=r[0].name,i=t[n];return i?i.length:0},Ws[Si]=F2,Ws);function UM(t,e){var r=iq[Q_(t,e)];return r}var jm=function(t,e,r){return t[e]},aq=(Ys={},Ys[Tn]=jm,Ys[wi]=function(t,e,r){return t[r]},Ys[Ma]=jm,Ys[Si]=function(t,e,r){var n=Nh(t);return n instanceof Array?n[e]:n},Ys[Qo]=jm,Ys);function VM(t){var e=aq[t];return e}function Q_(t,e){return t===Tn?t+"_"+e:t}function ac(t,e,r){if(t){var n=t.getRawDataItem(e);if(n!=null){var i=t.getStore(),a=i.getSource().sourceFormat;if(r!=null){var o=t.getDimensionIndex(r),s=i.getDimensionProperty(o);return VM(a)(n,o,s)}else{var u=n;return a===Si&&(u=Nh(n)),u}}}}var oq=/\{@(.+?)\}/g,sq=function(){function t(){}return t.prototype.getDataParams=function(e,r){var n=this.getData(r),i=this.getRawValue(e,r),a=n.getRawIndex(e),o=n.getName(e),s=n.getRawDataItem(e),u=n.getItemVisual(e,"style"),l=u&&u[n.getItemVisual(e,"drawType")||"fill"],c=u&&u.stroke,h=this.mainType,f=h==="series",p=n.userOutput&&n.userOutput.get();return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:o,dataIndex:a,data:s,dataType:r,value:i,color:l,borderColor:c,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,r,n,i,a,o){r=r||"normal";var s=this.getData(n),u=this.getDataParams(e,n);if(o&&(u.value=o.interpolatedValue),i!=null&&je(u.value)&&(u.value=u.value[i]),!a){var l=s.getItemModel(e);a=l.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(ft(a))return u.status=r,u.dimensionIndex=i,a(u);if(Je(a)){var c=AM(a,u);return c.replace(oq,function(h,f){var p=f.length,v=f;v.charAt(0)==="["&&v.charAt(p-1)==="]"&&(v=+v.slice(1,p-1));var g=ac(s,e,v);if(o&&je(o.interpolatedValue)){var m=s.getDimensionIndex(v);m>=0&&(g=o.interpolatedValue[m])}return g!=null?g+"":""})}},t.prototype.getRawValue=function(e,r){return ac(this.getData(r),e)},t.prototype.formatTooltip=function(e,r,n){},t}();function $2(t){var e,r;return nt(t)?t.type&&(r=t):e=t,{text:e,frag:r}}function Gf(t){return new uq(t)}var uq=function(){function t(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return t.prototype.perform=function(e){var r=this._upstream,n=e&&e.skip;if(this._dirty&&r){var i=this.context;i.data=i.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,u=c(e&&e.modBy),l=e&&e.modDataCount||0;(o!==u||s!==l)&&(a="reset");function c(b){return!(b>=1)&&(b=1),b}var h;(this._dirty||a==="reset")&&(this._dirty=!1,h=this._doReset(n)),this._modBy=u,this._modDataCount=l;var f=e&&e.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,v=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd);if(!n&&(h||p<v)){var g=this._progress;if(je(g))for(var m=0;m<g.length;m++)this._doProgress(g[m],p,v,u,l);else this._doProgress(g,p,v,u,l)}this._dueIndex=v;var _=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=_}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(e,r,n,i,a){H2.reset(r,n,i,a),this._callingProgress=e,this._callingProgress({start:r,end:n,count:n-r,next:H2.next},this.context)},t.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!e&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),je(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t}(),H2=function(){var t,e,r,n,i,a={reset:function(u,l,c,h){e=u,t=l,r=c,n=h,i=Math.ceil(n/r),a.next=r>1&&n>0?s:o}};return a;function o(){return e<t?e++:null}function s(){var u=e%i*r+Math.ceil(e/i),l=e>=t?null:u<n?u:e;return e++,l}}();function $p(t,e){var r=e&&e.type;return r==="ordinal"?t:(r==="time"&&!Yt(t)&&t!=null&&t!=="-"&&(t=+oo(t)),t==null||t===""?NaN:+t)}var lq=ct({number:function(t){return parseFloat(t)},time:function(t){return+oo(t)},trim:function(t){return Je(t)?ga(t):t}});function GM(t){return lq.get(t)}var jM={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},cq=function(){function t(e,r){if(!Yt(r)){var n="";Ft(n)}this._opFn=jM[e],this._rvalFloat=is(r)}return t.prototype.evaluate=function(e){return Yt(e)?this._opFn(e,this._rvalFloat):this._opFn(is(e),this._rvalFloat)},t}(),WM=function(){function t(e,r){var n=e==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return t.prototype.evaluate=function(e,r){var n=Yt(e)?e:is(e),i=Yt(r)?r:is(r),a=isNaN(n),o=isNaN(i);if(a&&(n=this._incomparable),o&&(i=this._incomparable),a&&o){var s=Je(e),u=Je(r);s&&(n=u?e:0),u&&(i=s?r:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},t}(),fq=function(){function t(e,r){this._rval=r,this._isEQ=e,this._rvalTypeof=typeof r,this._rvalFloat=is(r)}return t.prototype.evaluate=function(e){var r=e===this._rval;if(!r){var n=typeof e;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(r=is(e)===this._rvalFloat)}return this._isEQ?r:!r},t}();function hq(t,e){return t==="eq"||t==="ne"?new fq(t==="eq",e):ao(jM,t)?new cq(t,e):null}var dq=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(e){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(e){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(e,r){},t.prototype.retrieveValueFromItem=function(e,r){},t.prototype.convertValue=function(e,r){return $p(e,r)},t}();function pq(t,e){var r=new dq,n=t.data,i=r.sourceFormat=t.sourceFormat,a=t.startIndex,o="";t.seriesLayoutBy!==Sa&&Ft(o);var s=[],u={},l=t.dimensionsDefine;if(l)Z(l,function(g,m){var _=g.name,b={index:m,name:_,displayName:g.displayName};if(s.push(b),_!=null){var w="";ao(u,_)&&Ft(w),u[_]=b}});else for(var c=0;c<t.dimensionsDetectedCount;c++)s.push({index:c});var h=zM(i,Sa);e.__isBuiltIn&&(r.getRawDataItem=function(g){return h(n,a,s,g)},r.getRawData=nr(vq,null,t)),r.cloneRawData=nr(gq,null,t);var f=UM(i,Sa);r.count=nr(f,null,n,a,s);var p=VM(i);r.retrieveValue=function(g,m){var _=h(n,a,s,g);return v(_,m)};var v=r.retrieveValueFromItem=function(g,m){if(g!=null){var _=s[m];if(_)return p(g,m,_.name)}};return r.getDimensionInfo=nr(mq,null,s,u),r.cloneAllDimensionInfo=nr(yq,null,s),r}function vq(t){var e=t.sourceFormat;if(!J_(e)){var r="";Ft(r)}return t.data}function gq(t){var e=t.sourceFormat,r=t.data;if(!J_(e)){var n="";Ft(n)}if(e===Tn){for(var i=[],a=0,o=r.length;a<o;a++)i.push(r[a].slice());return i}else if(e===wi){for(var i=[],a=0,o=r.length;a<o;a++)i.push(Oe({},r[a]));return i}}function mq(t,e,r){if(r!=null){if(Yt(r)||!isNaN(r)&&!ao(e,r))return t[r];if(ao(e,r))return e[r]}}function yq(t){return _t(t)}var YM=ct();function _q(t){t=_t(t);var e=t.type,r="";e||Ft(r);var n=e.split(":");n.length!==2&&Ft(r);var i=!1;n[0]==="echarts"&&(e=n[1],i=!0),t.__isBuiltIn=i,YM.set(e,t)}function bq(t,e,r){var n=Cr(t),i=n.length,a="";i||Ft(a);for(var o=0,s=i;o<s;o++){var u=n[o];e=xq(u,e),o!==s-1&&(e.length=Math.max(e.length,1))}return e}function xq(t,e,r,n){var i="";e.length||Ft(i),nt(t)||Ft(i);var a=t.type,o=YM.get(a);o||Ft(i);var s=qe(e,function(l){return pq(l,o)}),u=Cr(o.transform({upstream:s[0],upstreamList:s,config:_t(t.config)}));return qe(u,function(l,c){var h="";nt(l)||Ft(h),l.data||Ft(h);var f=FM(l.data);J_(f)||Ft(h);var p,v=e[0];if(v&&c===0&&!l.dimensions){var g=v.startIndex;g&&(l.data=v.data.slice(0,g).concat(l.data)),p={seriesLayoutBy:Sa,sourceHeader:g,dimensions:v.metaRawOption.dimensions}}else p={seriesLayoutBy:Sa,sourceHeader:0,dimensions:l.dimensions};return V0(l.data,p,null)})}function J_(t){return t===Tn||t===wi}var bg="undefined",Sq=typeof Uint32Array===bg?Array:Uint32Array,wq=typeof Uint16Array===bg?Array:Uint16Array,XM=typeof Int32Array===bg?Array:Int32Array,z2=typeof Float64Array===bg?Array:Float64Array,qM={float:z2,int:XM,ordinal:Array,number:Array,time:z2},Wm;function ef(t){return t>65535?Sq:wq}function al(){return[1/0,-1/0]}function Tq(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function U2(t,e,r,n,i){var a=qM[r||"float"];if(i){var o=t[e],s=o&&o.length;if(s!==n){for(var u=new a(n),l=0;l<s;l++)u[l]=o[l];t[e]=u}}else t[e]=new a(n)}var G0=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=ct()}return t.prototype.initData=function(e,r,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=Wm[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],$M(i),this._dimensions=qe(r,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,e.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(e,r){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(e);if(a!=null){if(i[a].type===r)return a}else a=i.length;return i[a]={type:r},n.set(e,a),this._chunks[a]=new qM[r||"float"](this._rawCount),this._rawExtent[a]=al(),a},t.prototype.collectOrdinalMeta=function(e,r){var n=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,o=i.ordinalOffset||0,s=n.length;o===0&&(a[e]=al());for(var u=a[e],l=o;l<s;l++){var c=n[l]=r.parseAndCollect(n[l]);isNaN(c)||(u[0]=Math.min(c,u[0]),u[1]=Math.max(c,u[1]))}i.ordinalMeta=r,i.ordinalOffset=s,i.type="ordinal"},t.prototype.getOrdinalMeta=function(e){var r=this._dimensions[e],n=r.ordinalMeta;return n},t.prototype.getDimensionProperty=function(e){var r=this._dimensions[e];return r&&r.property},t.prototype.appendData=function(e){var r=this._provider,n=this.count();r.appendData(e);var i=r.count();return r.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},t.prototype.appendValues=function(e,r){for(var n=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),u=s+Math.max(e.length,r||0),l=0;l<a;l++){var c=i[l];U2(n,l,c.type,u,!0)}for(var h=[],f=s;f<u;f++)for(var p=f-s,v=0;v<a;v++){var c=i[v],g=Wm.arrayRows.call(this,e[p]||h,c.property,p,v);n[v][f]=g;var m=o[v];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}return this._rawCount=this._count=u,{start:s,end:u}},t.prototype._initDataFromProvider=function(e,r,n){for(var i=this._provider,a=this._chunks,o=this._dimensions,s=o.length,u=this._rawExtent,l=qe(o,function(b){return b.property}),c=0;c<s;c++){var h=o[c];u[c]||(u[c]=al()),U2(a,c,h.type,r,n)}if(i.fillStorage)i.fillStorage(e,r,a,u);else for(var f=[],p=e;p<r;p++){f=i.getItem(p,f);for(var v=0;v<s;v++){var g=a[v],m=this._dimValueGetter(f,l[v],p,v);g[p]=m;var _=u[v];m<_[0]&&(_[0]=m),m>_[1]&&(_[1]=m)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=r,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(e,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(r)]:NaN},t.prototype.getValues=function(e,r){var n=[],i=[];if(r==null){r=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,o=i.length;a<o;a++)n.push(this.get(i[a],r));return n},t.prototype.getByRawIndex=function(e,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[e];return n?n[r]:NaN},t.prototype.getSum=function(e){var r=this._chunks[e],n=0;if(r)for(var i=0,a=this.count();i<a;i++){var o=this.get(e,i);isNaN(o)||(n+=o)}return n},t.prototype.getMedian=function(e){var r=[];this.each([e],function(a){isNaN(a)||r.push(a)});var n=r.sort(function(a,o){return a-o}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},t.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var r=this._indices,n=r[e];if(n!=null&&n<this._count&&n===e)return e;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(r[o]<e)i=o+1;else if(r[o]>e)a=o-1;else return o}return-1},t.prototype.indicesOfNearest=function(e,r,n){var i=this._chunks,a=i[e],o=[];if(!a)return o;n==null&&(n=1/0);for(var s=1/0,u=-1,l=0,c=0,h=this.count();c<h;c++){var f=this.getRawIndex(c),p=r-a[f],v=Math.abs(p);v<=n&&((v<s||v===s&&p>=0&&u<0)&&(s=v,u=p,l=0),p===u&&(o[l++]=c))}return o.length=l,o},t.prototype.getIndices=function(){var e,r=this._indices;if(r){var n=r.constructor,i=this._count;if(n===Array){e=new n(i);for(var a=0;a<i;a++)e[a]=r[a]}else e=new n(r.buffer,0,i)}else{var n=ef(this._rawCount);e=new n(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},t.prototype.filter=function(e,r){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=ef(n._rawCount),o=new a(i),s=[],u=e.length,l=0,c=e[0],h=n._chunks,f=0;f<i;f++){var p=void 0,v=n.getRawIndex(f);if(u===0)p=r(f);else if(u===1){var g=h[c][v];p=r(g,f)}else{for(var m=0;m<u;m++)s[m]=h[e[m]][v];s[m]=f,p=r.apply(null,s)}p&&(o[l++]=v)}return l<i&&(n._indices=o),n._count=l,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(e){var r=this.clone(),n=r._count;if(!n)return this;var i=cr(e),a=i.length;if(!a)return this;var o=r.count(),s=ef(r._rawCount),u=new s(o),l=0,c=i[0],h=e[c][0],f=e[c][1],p=r._chunks,v=!1;if(!r._indices){var g=0;if(a===1){for(var m=p[i[0]],_=0;_<n;_++){var b=m[_];(b>=h&&b<=f||isNaN(b))&&(u[l++]=g),g++}v=!0}else if(a===2){for(var m=p[i[0]],w=p[i[1]],T=e[i[1]][0],k=e[i[1]][1],_=0;_<n;_++){var b=m[_],A=w[_];(b>=h&&b<=f||isNaN(b))&&(A>=T&&A<=k||isNaN(A))&&(u[l++]=g),g++}v=!0}}if(!v)if(a===1)for(var _=0;_<o;_++){var D=r.getRawIndex(_),b=p[i[0]][D];(b>=h&&b<=f||isNaN(b))&&(u[l++]=D)}else for(var _=0;_<o;_++){for(var O=!0,D=r.getRawIndex(_),F=0;F<a;F++){var $=i[F],b=p[$][D];(b<e[$][0]||b>e[$][1])&&(O=!1)}O&&(u[l++]=r.getRawIndex(_))}return l<o&&(r._indices=u),r._count=l,r._extent=[],r._updateGetRawIdx(),r},t.prototype.map=function(e,r){var n=this.clone(e);return this._updateDims(n,e,r),n},t.prototype.modify=function(e,r){this._updateDims(this,e,r)},t.prototype._updateDims=function(e,r,n){for(var i=e._chunks,a=[],o=r.length,s=e.count(),u=[],l=e._rawExtent,c=0;c<r.length;c++)l[r[c]]=al();for(var h=0;h<s;h++){for(var f=e.getRawIndex(h),p=0;p<o;p++)u[p]=i[r[p]][f];u[o]=h;var v=n&&n.apply(null,u);if(v!=null){typeof v!="object"&&(a[0]=v,v=a);for(var c=0;c<v.length;c++){var g=r[c],m=v[c],_=l[g],b=i[g];b&&(b[f]=m),m<_[0]&&(_[0]=m),m>_[1]&&(_[1]=m)}}}},t.prototype.lttbDownSample=function(e,r){var n=this.clone([e],!0),i=n._chunks,a=i[e],o=this.count(),s=0,u=Math.floor(1/r),l=this.getRawIndex(0),c,h,f,p=new(ef(this._rawCount))(Math.min((Math.ceil(o/u)+2)*2,o));p[s++]=l;for(var v=1;v<o-1;v+=u){for(var g=Math.min(v+u,o-1),m=Math.min(v+u*2,o),_=(m+g)/2,b=0,w=g;w<m;w++){var T=this.getRawIndex(w),k=a[T];isNaN(k)||(b+=k)}b/=m-g;var A=v,D=Math.min(v+u,o),O=v-1,F=a[l];c=-1,f=A;for(var $=-1,B=0,w=A;w<D;w++){var T=this.getRawIndex(w),k=a[T];if(isNaN(k)){B++,$<0&&($=T);continue}h=Math.abs((O-_)*(k-F)-(O-w)*(b-F)),h>c&&(c=h,f=T)}B>0&&B<D-A&&(p[s++]=Math.min($,f),f=Math.max($,f)),p[s++]=f,l=f}return p[s++]=this.getRawIndex(o-1),n._count=s,n._indices=p,n.getRawIndex=this._getRawIdx,n},t.prototype.downSample=function(e,r,n,i){for(var a=this.clone([e],!0),o=a._chunks,s=[],u=Math.floor(1/r),l=o[e],c=this.count(),h=a._rawExtent[e]=al(),f=new(ef(this._rawCount))(Math.ceil(c/u)),p=0,v=0;v<c;v+=u){u>c-v&&(u=c-v,s.length=u);for(var g=0;g<u;g++){var m=this.getRawIndex(v+g);s[g]=l[m]}var _=n(s),b=this.getRawIndex(Math.min(v+i(s,_)||0,c-1));l[b]=_,_<h[0]&&(h[0]=_),_>h[1]&&(h[1]=_),f[p++]=b}return a._count=p,a._indices=f,a._updateGetRawIdx(),a},t.prototype.each=function(e,r){if(this._count)for(var n=e.length,i=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(n){case 0:r(a);break;case 1:r(i[e[0]][s],a);break;case 2:r(i[e[0]][s],i[e[1]][s],a);break;default:for(var u=0,l=[];u<n;u++)l[u]=i[e[u]][s];l[u]=a,r.apply(null,l)}}},t.prototype.getDataExtent=function(e){var r=this._chunks[e],n=al();if(!r)return n;var i=this.count(),a=!this._indices,o;if(a)return this._rawExtent[e].slice();if(o=this._extent[e],o)return o.slice();o=n;for(var s=o[0],u=o[1],l=0;l<i;l++){var c=this.getRawIndex(l),h=r[c];h<s&&(s=h),h>u&&(u=h)}return o=[s,u],this._extent[e]=o,o},t.prototype.getRawDataItem=function(e){var r=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][r]);return n},t.prototype.clone=function(e,r){var n=new t,i=this._chunks,a=e&&ts(e,function(s,u){return s[u]=!0,s},{});if(a)for(var o=0;o<i.length;o++)n._chunks[o]=a[o]?Tq(i[o]):i[o];else n._chunks=i;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},t.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=_t(this._extent),e._rawExtent=_t(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,r=void 0;if(e===Array){var n=this._indices.length;r=new e(n);for(var i=0;i<n;i++)r[i]=this._indices[i]}else r=new e(this._indices);return r}return null},t.prototype._getRawIdxIdentity=function(e){return e},t.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function e(r,n,i,a){return $p(r[a],this._dimensions[a])}Wm={arrayRows:e,objectRows:function(r,n,i,a){return $p(r[n],this._dimensions[a])},keyedColumns:e,original:function(r,n,i,a){var o=r&&(r.value==null?r:r.value);return $p(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(r,n,i,a){return r[a]}}}(),t}(),KM=function(){function t(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(e,r){this._sourceList=e,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,i,a;if(zd(e)){var o=e,s=void 0,u=void 0,l=void 0;if(n){var c=r[0];c.prepareSource(),l=c.getSource(),s=l.data,u=l.sourceFormat,a=[c._getVersionSign()]}else s=o.get("data",!0),u=Zn(s)?Qo:Si,a=[];var h=this._getSourceMetaRawOption()||{},f=l&&l.metaRawOption||{},p=Mt(h.seriesLayoutBy,f.seriesLayoutBy)||null,v=Mt(h.sourceHeader,f.sourceHeader),g=Mt(h.dimensions,f.dimensions),m=p!==f.seriesLayoutBy||!!v!=!!f.sourceHeader||g;i=m?[V0(s,{seriesLayoutBy:p,sourceHeader:v,dimensions:g},u)]:[]}else{var _=e;if(n){var b=this._applyTransform(r);i=b.sourceList,a=b.upstreamSignList}else{var w=_.get("source",!0);i=[V0(w,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},t.prototype._applyTransform=function(e){var r=this._sourceHost,n=r.get("transform",!0),i=r.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&G2(a)}var o,s=[],u=[];return Z(e,function(l){l.prepareSource();var c=l.getSource(i||0),h="";i!=null&&!c&&G2(h),s.push(c),u.push(l._getVersionSign())}),n?o=bq(n,s,{datasetIndex:r.componentIndex}):i!=null&&(o=[eq(s[0])]),{sourceList:o,upstreamSignList:u}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),r=0;r<e.length;r++){var n=e[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},t.prototype.getSource=function(e){e=e||0;var r=this._sourceList[e];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return r},t.prototype.getSharedDataStore=function(e){var r=e.makeStoreSchema();return this._innerGetDataStore(r.dimensions,e.source,r.hash)},t.prototype._innerGetDataStore=function(e,r,n){var i=0,a=this._storeList,o=a[i];o||(o=a[i]={});var s=o[n];if(!s){var u=this._getUpstreamSourceManagers()[0];zd(this._sourceHost)&&u?s=u._innerGetDataStore(e,r,n):(s=new G0,s.initData(new HM(r,e.length),e)),o[n]=s}return s},t.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(zd(e)){var r=Y_(e);return r?[r.getSourceManager()]:[]}else return qe(AX(e),function(n){return n.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,r,n,i;if(zd(e))r=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;r=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:i}},t}();function V2(t){var e=t.option.transform;e&&ev(t.option.transform)}function zd(t){return t.mainType==="series"}function G2(t){throw new Error(t)}var ZM="line-height:1";function QM(t,e){var r=t.color||"#6e7079",n=t.fontSize||12,i=t.fontWeight||"400",a=t.color||"#464646",o=t.fontSize||14,s=t.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+li(n+"")+"px;color:"+li(r)+";font-weight:"+li(i+""),valueStyle:"font-size:"+li(o+"")+"px;color:"+li(a)+";font-weight:"+li(s+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var Cq=[0,10,20,30],Aq=["",`
`,`

`,`


`];function _h(t,e){return e.type=t,e}function j0(t){return t.type==="section"}function JM(t){return j0(t)?kq:Eq}function eL(t){if(j0(t)){var e=0,r=t.blocks.length,n=r>1||r>0&&!t.noHeader;return Z(t.blocks,function(i){var a=eL(i);a>=e&&(e=a+ +(n&&(!a||j0(i)&&!i.noHeader)))}),e}return 0}function kq(t,e,r,n){var i=e.noHeader,a=Pq(eL(e)),o=[],s=e.blocks||[];Ea(!s||je(s)),s=s||[];var u=t.orderMode;if(e.sortBlocks&&u){s=s.slice();var l={valueAsc:"asc",valueDesc:"desc"};if(ao(l,u)){var c=new WM(l[u],null);s.sort(function(v,g){return c.evaluate(v.sortParam,g.sortParam)})}else u==="seriesDesc"&&s.reverse()}Z(s,function(v,g){var m=e.valueFormatter,_=JM(v)(m?Oe(Oe({},t),{valueFormatter:m}):t,v,g>0?a.html:0,n);_!=null&&o.push(_)});var h=t.renderMode==="richText"?o.join(a.richText):W0(o.join(""),i?r:a.html);if(i)return h;var f=z0(e.header,"ordinal",t.useUTC),p=QM(n,t.renderMode).nameStyle;return t.renderMode==="richText"?tL(t,f,p)+a.richText+h:W0('<div style="'+p+";"+ZM+';">'+li(f)+"</div>"+h,r)}function Eq(t,e,r,n){var i=t.renderMode,a=e.noName,o=e.noValue,s=!e.markerType,u=e.name,l=t.useUTC,c=e.valueFormatter||t.valueFormatter||function(T){return T=je(T)?T:[T],qe(T,function(k,A){return z0(k,je(p)?p[A]:p,l)})};if(!(a&&o)){var h=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),f=a?"":z0(u,"ordinal",l),p=e.valueType,v=o?[]:c(e.value),g=!s||!a,m=!s&&a,_=QM(n,i),b=_.nameStyle,w=_.valueStyle;return i==="richText"?(s?"":h)+(a?"":tL(t,f,b))+(o?"":Lq(t,v,g,m,w)):W0((s?"":h)+(a?"":Dq(f,!s,b))+(o?"":Mq(v,g,m,w)),r)}}function j2(t,e,r,n,i,a){if(t){var o=JM(t),s={useUTC:i,renderMode:r,orderMode:n,markupStyleCreator:e,valueFormatter:t.valueFormatter};return o(s,t,0,a)}}function Pq(t){return{html:Cq[t],richText:Aq[t]}}function W0(t,e){var r='<div style="clear:both"></div>',n="margin: "+e+"px 0 0";return'<div style="'+n+";"+ZM+';">'+t+r+"</div>"}function Dq(t,e,r){var n=e?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+li(t)+"</span>"}function Mq(t,e,r,n){var i=r?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return t=je(t)?t:[t],'<span style="'+a+";"+n+'">'+qe(t,function(o){return li(o)}).join("&nbsp;&nbsp;")+"</span>"}function tL(t,e,r){return t.markupStyleCreator.wrapRichTextStyle(e,r)}function Lq(t,e,r,n,i){var a=[i],o=n?10:20;return r&&a.push({padding:[0,0,0,o],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(je(e)?e.join("  "):e,a)}function Rq(t,e){var r=t.getData().getItemVisual(e,"style"),n=r[t.visualDrawType];return _u(n)}function rL(t,e){var r=t.get("padding");return r??(e==="richText"?[8,10]:10)}var Ym=function(){function t(){this.richTextStyles={},this._nextStyleNameId=oD()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(e,r,n){var i=n==="richText"?this._generateStyleName():null,a=gX({color:r,type:e,renderMode:n,markerId:i});return Je(a)?a:(this.richTextStyles[i]=a.style,a.content)},t.prototype.wrapRichTextStyle=function(e,r){var n={};je(r)?Z(r,function(a){return Oe(n,a)}):Oe(n,r);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+e+"}"},t}();function Oq(t){var e=t.series,r=t.dataIndex,n=t.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,s=e.getRawValue(r),u=je(s),l=Rq(e,r),c,h,f,p;if(o>1||u&&!o){var v=Iq(s,e,r,a,l);c=v.inlineValues,h=v.inlineValueTypes,f=v.blocks,p=v.inlineValues[0]}else if(o){var g=i.getDimensionInfo(a[0]);p=c=ac(i,r,a[0]),h=g.type}else p=c=u?s[0]:s;var m=A_(e),_=m&&e.name||"",b=i.getName(r),w=n?_:b;return _h("section",{header:_,noHeader:n||!m,sortParam:p,blocks:[_h("nameValue",{markerType:"item",markerColor:l,name:w,noName:!ga(w),value:c,valueType:h})].concat(f||[])})}function Iq(t,e,r,n,i){var a=e.getData(),o=ts(t,function(h,f,p){var v=a.getDimensionInfo(p);return h=h||v&&v.tooltip!==!1&&v.displayName!=null},!1),s=[],u=[],l=[];n.length?Z(n,function(h){c(ac(a,r,h),h)}):Z(t,c);function c(h,f){var p=a.getDimensionInfo(f);!p||p.otherDims.tooltip===!1||(o?l.push(_h("nameValue",{markerType:"subItem",markerColor:i,name:p.displayName,value:h,valueType:p.type})):(s.push(h),u.push(p.type)))}return{inlineValues:s,inlineValueTypes:u,blocks:l}}var Do=dr();function Ud(t,e){return t.getName(e)||t.getId(e)}var Hp="__universalTransitionEnabled",xg=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return e.prototype.init=function(r,n,i){this.seriesIndex=this.componentIndex,this.dataTask=Gf({count:Nq,reset:Fq}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,i);var a=Do(this).sourceManager=new KM(this);a.prepareSource();var o=this.getInitialData(r,i);Y2(o,this),this.dataTask.context.data=o,Do(this).dataBeforeProcessed=o,W2(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(r,n){var i=mh(this),a=i?yg(r):{},o=this.subType;Qt.hasClass(o)&&(o+="Series"),Tt(r,n.getTheme().get(this.subType)),Tt(r,this.getDefaultOption()),E0(r,"label",["show"]),this.fillDataTextStyle(r.data),i&&ic(r,a,i)},e.prototype.mergeOption=function(r,n){r=Tt(this.option,r,!0),this.fillDataTextStyle(r.data);var i=mh(this);i&&ic(this.option,r,i);var a=Do(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(r,n);Y2(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Do(this).dataBeforeProcessed=o,W2(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(r){if(r&&!Zn(r))for(var n=["show"],i=0;i<r.length;i++)r[i]&&r[i].label&&E0(r[i],"label",n)},e.prototype.getInitialData=function(r,n){},e.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},e.prototype.getData=function(r){var n=Y0(this);if(n){var i=n.context.data;return r==null?i:i.getLinkedData(r)}else return Do(this).data},e.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},e.prototype.setData=function(r){var n=Y0(this);if(n){var i=n.context;i.outputData=r,n!==this.dataTask&&(i.data=r)}Do(this).data=r},e.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return ct(r)},e.prototype.getSourceManager=function(){return Do(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Do(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},e.prototype.formatTooltip=function(r,n,i){return Oq({series:this,dataIndex:r,multipleSeries:n})},e.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(wt.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(r,n,i){var a=this.ecModel,o=X_.prototype.getColorFromPalette.call(this,r,n,i);return o||(o=a.getColorFromPalette(r,n,i)),o},e.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},e.prototype.unselect=function(r,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<r.length;s++){var u=r[s],l=Ud(o,u);i[l]=!1,this._selectedDataIndicesMap[l]=-1}}},e.prototype.toggleSelect=function(r,n){for(var i=[],a=0;a<r.length;a++)i[0]=r[a],this.isSelected(r[a],n)?this.unselect(i,n):this.select(i,n)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=cr(r),i=[],a=0;a<n.length;a++){var o=r[n[a]];o>=0&&i.push(o)}return i},e.prototype.isSelected=function(r,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[Ud(a,r)])&&!a.getItemModel(r).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[Hp])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},e.prototype._innerSelect=function(r,n){var i,a,o=this.option,s=o.selectedMode,u=n.length;if(!(!s||!u)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){nt(o.selectedMap)||(o.selectedMap={});for(var l=o.selectedMap,c=0;c<u;c++){var h=n[c],f=Ud(r,h);l[f]=!0,this._selectedDataIndicesMap[f]=r.getRawIndex(h)}}else if(s==="single"||s===!0){var p=n[u-1],f=Ud(r,p);o.selectedMap=(i={},i[f]=!0,i),this._selectedDataIndicesMap=(a={},a[f]=r.getRawIndex(p),a)}}},e.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(i){var a=r.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(r,n)}},e.registerClass=function(r){return Qt.registerClass(r)},e.protoInitialize=function(){var r=e.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),e}(Qt);Wi(xg,sq);Wi(xg,X_);pD(xg,Qt);function W2(t){var e=t.name;A_(t)||(t.name=Bq(t)||e)}function Bq(t){var e=t.getRawData(),r=e.mapDimensionsAll("seriesName"),n=[];return Z(r,function(i){var a=e.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function Nq(t){return t.model.getRawData().count()}function Fq(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),$q}function $q(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Y2(t,e){Z(HV(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(r){t.wrapMethod(r,zt(Hq,e))})}function Hq(t,e){var r=Y0(t);return r&&r.setOutputEnd((e||this).count()),e}function Y0(t){var e=(t.ecModel||{}).scheduler,r=e&&e.getPipeline(t.uid);if(r){var n=r.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(t.uid))}return n}}const os=xg;var eb=function(){function t(){this.group=new Mr,this.uid=Uh("viewComponent")}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,n,i){},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,n,i){},t.prototype.updateLayout=function(e,r,n,i){},t.prototype.updateVisual=function(e,r,n,i){},t.prototype.toggleBlurSeries=function(e,r,n){},t.prototype.eachRendered=function(e){var r=this.group;r&&r.traverse(e)},t}();E_(eb);Jv(eb);const Qn=eb;function tb(){var t=dr();return function(e){var r=t(e),n=e.pipelineContext,i=!!r.large,a=!!r.progressiveRender,o=r.large=!!(n&&n.large),s=r.progressiveRender=!!(n&&n.progressiveRender);return(i!==o||a!==s)&&"reset"}}var nL=dr(),zq=tb(),rb=function(){function t(){this.group=new Mr,this.uid=Uh("viewChart"),this.renderTask=Gf({plan:Uq,reset:Vq}),this.renderTask.context={view:this}}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,n,i){},t.prototype.highlight=function(e,r,n,i){var a=e.getData(i&&i.dataType);a&&q2(a,i,"emphasis")},t.prototype.downplay=function(e,r,n,i){var a=e.getData(i&&i.dataType);a&&q2(a,i,"normal")},t.prototype.remove=function(e,r){this.group.removeAll()},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.updateLayout=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.updateVisual=function(e,r,n,i){this.render(e,r,n,i)},t.prototype.eachRendered=function(e){cg(this.group,e)},t.markUpdateMethod=function(e,r){nL(e).updateMethod=r},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function X2(t,e,r){t&&B0(t)&&(e==="emphasis"?tc:rc)(t,r)}function q2(t,e,r){var n=yu(t,e),i=e&&e.highlightKey!=null?JW(e.highlightKey):null;n!=null?Z(Cr(n),function(a){X2(t.getItemGraphicEl(a),r,i)}):t.eachItemGraphicEl(function(a){X2(a,r,i)})}E_(rb);Jv(rb);function Uq(t){return zq(t.model)}function Vq(t){var e=t.model,r=t.ecModel,n=t.api,i=t.payload,a=e.pipelineContext.progressiveRender,o=t.view,s=i&&nL(i).updateMethod,u=a?"incrementalPrepareRender":s&&o[s]?s:"render";return u!=="render"&&o[u](e,r,n,i),Gq[u]}var Gq={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const wa=rb;var mv="\0__throttleOriginMethod",K2="\0__throttleRate",Z2="\0__throttleType";function nb(t,e,r){var n,i=0,a=0,o=null,s,u,l,c;e=e||0;function h(){a=new Date().getTime(),o=null,t.apply(u,l||[])}var f=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];n=new Date().getTime(),u=this,l=p;var g=c||e,m=c||r;c=null,s=n-(m?i:a)-g,clearTimeout(o),m?o=setTimeout(h,g):s>=0?h():o=setTimeout(h,-s),i=n};return f.clear=function(){o&&(clearTimeout(o),o=null)},f.debounceNextCall=function(p){c=p},f}function iL(t,e,r,n){var i=t[e];if(i){var a=i[mv]||i,o=i[Z2],s=i[K2];if(s!==r||o!==n){if(r==null||!n)return t[e]=a;i=t[e]=nb(a,r,n==="debounce"),i[mv]=a,i[Z2]=n,i[K2]=r}return i}}function X0(t,e){var r=t[e];r&&r[mv]&&(r.clear&&r.clear(),t[e]=r[mv])}var Q2=dr(),J2={itemStyle:hh(hM,!0),lineStyle:hh(fM,!0)},jq={lineStyle:"stroke",itemStyle:"fill"};function aL(t,e){var r=t.visualStyleMapper||J2[e];return r||(console.warn("Unknown style type '"+e+"'."),J2.itemStyle)}function oL(t,e){var r=t.visualDrawType||jq[e];return r||(console.warn("Unknown style type '"+e+"'."),"fill")}var Wq={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData(),n=t.visualStyleAccessPath||"itemStyle",i=t.getModel(n),a=aL(t,n),o=a(i),s=i.getShallow("decal");s&&(r.setVisual("decal",s),s.dirty=!0);var u=oL(t,n),l=o[u],c=ft(l)?l:null,h=o.fill==="auto"||o.stroke==="auto";if(!o[u]||c||h){var f=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[u]||(o[u]=f,r.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||ft(o.fill)?f:o.fill,o.stroke=o.stroke==="auto"||ft(o.stroke)?f:o.stroke}if(r.setVisual("style",o),r.setVisual("drawType",u),!e.isSeriesFiltered(t)&&c)return r.setVisual("colorFromPalette",!1),{dataEach:function(p,v){var g=t.getDataParams(v),m=Oe({},o);m[u]=c(g),p.setItemVisual(v,"style",m)}}}},tf=new zr,Yq={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!(t.ignoreStyleOnData||e.isSeriesFiltered(t))){var r=t.getData(),n=t.visualStyleAccessPath||"itemStyle",i=aL(t,n),a=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(o,s){var u=o.getRawDataItem(s);if(u&&u[n]){tf.option=u[n];var l=i(tf),c=o.ensureUniqueItemVisual(s,"style");Oe(c,l),tf.option.decal&&(o.setItemVisual(s,"decal",tf.option.decal),tf.option.decal.dirty=!0),a in l&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},Xq={performRawSeries:!0,overallReset:function(t){var e=ct();t.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var i=r.type+"-"+n,a=e.get(i);a||(a={},e.set(i,a)),Q2(r).scope=a}}),t.eachSeries(function(r){if(!(r.isColorBySeries()||t.isSeriesFiltered(r))){var n=r.getRawData(),i={},a=r.getData(),o=Q2(r).scope,s=r.visualStyleAccessPath||"itemStyle",u=oL(r,s);a.each(function(l){var c=a.getRawIndex(l);i[c]=l}),n.each(function(l){var c=i[l],h=a.getItemVisual(c,"colorFromPalette");if(h){var f=a.ensureUniqueItemVisual(c,"style"),p=n.getName(l)||l+"",v=n.count();f[u]=r.getColorFromPalette(p,o,v)}})}})}},Vd=Math.PI;function qq(t,e){e=e||{},lt(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Mr,n=new Sr({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});r.add(n);var i=new $r({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new Sr({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});r.add(a);var o;return e.showSpinner&&(o=new I_({shape:{startAngle:-Vd/2,endAngle:-Vd/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:Vd*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:Vd*3/2}).delay(300).start("circularInOut"),r.add(o)),r.resize=function(){var s=i.getBoundingRect().width,u=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-u*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:u),c=t.getHeight()/2;e.showSpinner&&o.setShape({cx:l,cy:c}),a.setShape({x:l-u,y:c-u,width:u*2,height:u*2}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},r.resize(),r}var Kq=function(){function t(e,r,n,i){this._stageTaskMap=ct(),this.ecInstance=e,this.api=r,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return t.prototype.restoreData=function(e,r){e.restoreData(r),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},t.prototype.getPerformArgs=function(e,r){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,a=!r&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex,o=a?n.step:null,s=i&&i.modDataCount,u=s!=null?Math.ceil(s/o):null;return{step:o,modBy:u,modDataCount:s}}},t.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},t.prototype.updateStreamModes=function(e,r){var n=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),o=n.progressiveEnabled&&r.incrementalPrepareRender&&a>=n.threshold,s=e.get("large")&&a>=e.get("largeThreshold"),u=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=n.context={progressiveRender:o,modDataCount:u,large:s}},t.prototype.restorePipelines=function(e){var r=this,n=r._pipelineMap=ct();e.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;n.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),r._pipe(i,i.dataTask)})},t.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,r=this.api.getModel(),n=this.api;Z(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),o="";Ea(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,a,r,n),i.overallReset&&this._createOverallStageTask(i,a,r,n)},this)},t.prototype.prepareView=function(e,r,n,i){var a=e.renderTask,o=a.context;o.model=r,o.ecModel=n,o.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(r,a)},t.prototype.performDataProcessorTasks=function(e,r){this._performStageTasks(this._dataProcessorHandlers,e,r,{block:!0})},t.prototype.performVisualTasks=function(e,r,n){this._performStageTasks(this._visualHandlers,e,r,n)},t.prototype._performStageTasks=function(e,r,n,i){i=i||{};var a=!1,o=this;Z(e,function(u,l){if(!(i.visualType&&i.visualType!==u.visualType)){var c=o._stageTaskMap.get(u.uid),h=c.seriesTaskMap,f=c.overallTask;if(f){var p,v=f.agentStubMap;v.each(function(m){s(i,m)&&(m.dirty(),p=!0)}),p&&f.dirty(),o.updatePayload(f,n);var g=o.getPerformArgs(f,i.block);v.each(function(m){m.perform(g)}),f.perform(g)&&(a=!0)}else h&&h.each(function(m,_){s(i,m)&&m.dirty();var b=o.getPerformArgs(m,i.block);b.skip=!u.performRawSeries&&r.isSeriesFiltered(m.context.model),o.updatePayload(m,n),m.perform(b)&&(a=!0)})}});function s(u,l){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(l.__pipeline.id))}this.unfinished=a||this.unfinished},t.prototype.performSeriesTasks=function(e){var r;e.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(e){var r=e.tail;do{if(r.__block){e.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},t.prototype.updatePayload=function(e,r){r!=="remain"&&(e.context.payload=r)},t.prototype._createSeriesStageTask=function(e,r,n,i){var a=this,o=r.seriesTaskMap,s=r.seriesTaskMap=ct(),u=e.seriesType,l=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(c):u?n.eachRawSeriesByType(u,c):l&&l(n,i).each(c);function c(h){var f=h.uid,p=s.set(f,o&&o.get(f)||Gf({plan:tK,reset:rK,count:iK}));p.context={model:h,ecModel:n,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(h,p)}},t.prototype._createOverallStageTask=function(e,r,n,i){var a=this,o=r.overallTask=r.overallTask||Gf({reset:Zq});o.context={ecModel:n,api:i,overallReset:e.overallReset,scheduler:a};var s=o.agentStubMap,u=o.agentStubMap=ct(),l=e.seriesType,c=e.getTargetSeries,h=!0,f=!1,p="";Ea(!e.createOnAllSeries,p),l?n.eachRawSeriesByType(l,v):c?c(n,i).each(v):(h=!1,Z(n.getSeries(),v));function v(g){var m=g.uid,_=u.set(m,s&&s.get(m)||(f=!0,Gf({reset:Qq,onDirty:eK})));_.context={model:g,overallProgress:h},_.agent=o,_.__block=h,a._pipe(g,_)}f&&o.dirty()},t.prototype._pipe=function(e,r){var n=e.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i},t.wrapStageHandler=function(e,r){return ft(e)&&(e={overallReset:e,seriesType:aK(e)}),e.uid=Uh("stageHandler"),r&&(e.visualType=r),e},t}();function Zq(t){t.overallReset(t.ecModel,t.api,t.payload)}function Qq(t){return t.overallProgress&&Jq}function Jq(){this.agent.dirty(),this.getDownstream().dirty()}function eK(){this.agent&&this.agent.dirty()}function tK(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function rK(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Cr(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?qe(e,function(r,n){return sL(n)}):nK}var nK=sL(0);function sL(t){return function(e,r){var n=r.data,i=r.resetDefines[t];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(e,n)}}function iK(t){return t.data.count()}function aK(t){yv=null;try{t(bh,uL)}catch{}return yv}var bh={},uL={},yv;lL(bh,OM);lL(uL,IM);bh.eachSeriesByType=bh.eachRawSeriesByType=function(t){yv=t};bh.eachComponent=function(t){t.mainType==="series"&&t.subType&&(yv=t.subType)};function lL(t,e){for(var r in e.prototype)t[r]=Sn}const cL=Kq;var eT=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const oK={color:eT,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],eT]};var yn="#B9B8CE",tT="#100C2A",Gd=function(){return{axisLine:{lineStyle:{color:yn}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},rT=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],fL={darkMode:!0,color:rT,backgroundColor:tT,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:yn}},textStyle:{color:yn},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:yn}},dataZoom:{borderColor:"#71708A",textStyle:{color:yn},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:yn}},timeline:{lineStyle:{color:yn},label:{color:yn},controlStyle:{color:yn,borderColor:yn}},calendar:{itemStyle:{color:tT},dayLabel:{color:yn},monthLabel:{color:yn},yearLabel:{color:yn}},timeAxis:Gd(),logAxis:Gd(),valueAxis:Gd(),categoryAxis:Gd(),line:{symbol:"circle"},graph:{color:rT},gauge:{title:{color:yn},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:yn},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};fL.categoryAxis.splitLine.show=!1;const sK=fL;var uK=function(){function t(){}return t.prototype.normalizeQuery=function(e){var r={},n={},i={};if(Je(e)){var a=ma(e);r.mainType=a.main||null,r.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};Z(e,function(u,l){for(var c=!1,h=0;h<o.length;h++){var f=o[h],p=l.lastIndexOf(f);if(p>0&&p===l.length-f.length){var v=l.slice(0,p);v!=="data"&&(r.mainType=v,r[f.toLowerCase()]=u,c=!0)}}s.hasOwnProperty(l)&&(n[l]=u,c=!0),c||(i[l]=u)})}return{cptQuery:r,dataQuery:n,otherQuery:i}},t.prototype.filter=function(e,r){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var u=r.cptQuery,l=r.dataQuery;return c(u,o,"mainType")&&c(u,o,"subType")&&c(u,o,"index","componentIndex")&&c(u,o,"name")&&c(u,o,"id")&&c(l,a,"name")&&c(l,a,"dataIndex")&&c(l,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,r.otherQuery,i,a));function c(h,f,p,v){return h[p]==null||f[v||p]===h[p]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),q0=["symbol","symbolSize","symbolRotate","symbolOffset"],nT=q0.concat(["symbolKeepAspect"]),lK={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData();if(t.legendIcon&&r.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var n={},i={},a=!1,o=0;o<q0.length;o++){var s=q0[o],u=t.get(s);ft(u)?(a=!0,i[s]=u):n[s]=u}if(n.symbol=n.symbol||t.defaultSymbol,r.setVisual(Oe({legendIcon:t.legendIcon||n.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},n)),e.isSeriesFiltered(t))return;var l=cr(i);function c(h,f){for(var p=t.getRawValue(f),v=t.getDataParams(f),g=0;g<l.length;g++){var m=l[g];h.setItemVisual(f,m,i[m](p,v))}}return{dataEach:a?c:null}}},cK={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.hasSymbolVisual||e.isSeriesFiltered(t))return;var r=t.getData();function n(i,a){for(var o=i.getItemModel(a),s=0;s<nT.length;s++){var u=nT[s],l=o.getShallow(u,!0);l!=null&&i.setItemVisual(a,u,l)}}return{dataEach:r.hasItemOption?n:null}}};function fK(t,e,r){switch(r){case"color":var n=t.getItemVisual(e,"style");return n[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,r)}}function hK(t,e){switch(e){case"color":var r=t.getVisual("style");return r[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function dK(t,e){function r(n,i){var a=[];return n.eachComponent({mainType:"series",subType:t,query:i},function(o){a.push(o.seriesIndex)}),a}Z([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(n){e(n[0],function(i,a,o){i=Oe({},i),o.dispatchAction(Oe(i,{type:n[1],seriesIndex:r(a,i)}))})})}function ol(t,e,r,n,i){var a=t+e;r.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,u=o.option.selectedMap,l=i.selected,c=0;c<l.length;c++)if(l[c].seriesIndex===s){var h=o.getData(),f=yu(h,i.fromActionPayload);r.trigger(a,{type:a,seriesId:o.id,name:je(f)?h.getName(f[0]):h.getName(f),selected:Je(u)?u:Oe({},u)})}})}function pK(t,e,r){t.on("selectchanged",function(n){var i=r.getModel();n.isFromClick?(ol("map","selectchanged",e,i,n),ol("pie","selectchanged",e,i,n)):n.fromAction==="select"?(ol("map","selected",e,i,n),ol("pie","selected",e,i,n)):n.fromAction==="unselect"&&(ol("map","unselected",e,i,n),ol("pie","unselected",e,i,n))})}function Tf(t,e,r){for(var n;t&&!(e(t)&&(n=t,r));)t=t.__hostTarget||t.parent;return n}var vK=Math.round(Math.random()*9),gK=typeof Object.defineProperty=="function",mK=function(){function t(){this._id="__ec_inner_"+vK++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,r){var n=this._guard(e);return gK?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t}();const yK=mK;var _K=Lt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=e.width/2,a=e.height/2;t.moveTo(r,n-a),t.lineTo(r+i,n+a),t.lineTo(r-i,n+a),t.closePath()}}),bK=Lt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=e.width/2,a=e.height/2;t.moveTo(r,n-a),t.lineTo(r+i,n),t.lineTo(r,n+a),t.lineTo(r-i,n),t.closePath()}}),xK=Lt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.x,n=e.y,i=e.width/5*3,a=Math.max(i,e.height),o=i/2,s=o*o/(a-o),u=n-a+o+s,l=Math.asin(s/o),c=Math.cos(l)*o,h=Math.sin(l),f=Math.cos(l),p=o*.6,v=o*.7;t.moveTo(r-c,u+s),t.arc(r,u,o,Math.PI-l,Math.PI*2+l),t.bezierCurveTo(r+c-h*p,u+s+f*p,r,n-v,r,n),t.bezierCurveTo(r,n-v,r-c+h*p,u+s+f*p,r-c,u+s),t.closePath()}}),SK=Lt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.height,n=e.width,i=e.x,a=e.y,o=n/3*2;t.moveTo(i,a),t.lineTo(i+o,a+r),t.lineTo(i,a+r/4*3),t.lineTo(i-o,a+r),t.lineTo(i,a),t.closePath()}}),wK={line:Fi,rect:Sr,roundRect:Sr,square:Sr,circle:nc,diamond:bK,pin:xK,arrow:SK,triangle:_K},TK={line:function(t,e,r,n,i){i.x1=t,i.y1=e+n/2,i.x2=t+r,i.y2=e+n/2},rect:function(t,e,r,n,i){i.x=t,i.y=e,i.width=r,i.height=n},roundRect:function(t,e,r,n,i){i.x=t,i.y=e,i.width=r,i.height=n,i.r=Math.min(r,n)/4},square:function(t,e,r,n,i){var a=Math.min(r,n);i.x=t,i.y=e,i.width=a,i.height=a},circle:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.r=Math.min(r,n)/2},diamond:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.width=r,i.height=n},pin:function(t,e,r,n,i){i.x=t+r/2,i.y=e+n/2,i.width=r,i.height=n},arrow:function(t,e,r,n,i){i.x=t+r/2,i.y=e+n/2,i.width=r,i.height=n},triangle:function(t,e,r,n,i){i.cx=t+r/2,i.cy=e+n/2,i.width=r,i.height=n}},K0={};Z(wK,function(t,e){K0[e]=new t});var CK=Lt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,r){var n=sv(t,e,r),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(t,e,r){var n=e.symbolType;if(n!=="none"){var i=K0[n];i||(n="rect",i=K0[n]),TK[n](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,r)}}});function AK(t,e){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=t,r.fill=e||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=t:r.fill=t,this.markRedraw()}}function oc(t,e,r,n,i,a,o){var s=t.indexOf("empty")===0;s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var u;return t.indexOf("image://")===0?u=iM(t.slice(8),new Bt(e,r,n,i),o?"center":"cover"):t.indexOf("path://")===0?u=F_(t.slice(7),{},new Bt(e,r,n,i),o?"center":"cover"):u=new CK({shape:{symbolType:t,x:e,y:r,width:n,height:i}}),u.__isEmptyBrush=s,u.setColor=AK,a&&u.setColor(a),u}function kK(t){return je(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function hL(t,e){if(t!=null)return je(t)||(t=[t,t]),[$t(t[0],e[0])||0,$t(Mt(t[1],t[0]),e[1])||0]}function au(t){return isFinite(t)}function EK(t,e,r){var n=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,o=e.y2==null?0:e.y2;e.global||(n=n*r.width+r.x,i=i*r.width+r.x,a=a*r.height+r.y,o=o*r.height+r.y),n=au(n)?n:0,i=au(i)?i:1,a=au(a)?a:0,o=au(o)?o:0;var s=t.createLinearGradient(n,a,i,o);return s}function PK(t,e,r){var n=r.width,i=r.height,a=Math.min(n,i),o=e.x==null?.5:e.x,s=e.y==null?.5:e.y,u=e.r==null?.5:e.r;e.global||(o=o*n+r.x,s=s*i+r.y,u=u*a),o=au(o)?o:.5,s=au(s)?s:.5,u=u>=0&&au(u)?u:.5;var l=t.createRadialGradient(o,s,0,o,s,u);return l}function Z0(t,e,r){for(var n=e.type==="radial"?PK(t,e,r):EK(t,e,r),i=e.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function DK(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!0;return!1}function jd(t){return parseInt(t,10)}function Wd(t,e,r){var n=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var s=document.defaultView.getComputedStyle(t);return(t[i]||jd(s[n])||jd(t.style[n]))-(jd(s[a])||0)-(jd(s[o])||0)|0}function MK(t,e){return!t||t==="solid"||!(e>0)?null:t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:Yt(t)?[t]:je(t)?t:null}function dL(t){var e=t.style,r=e.lineDash&&e.lineWidth>0&&MK(e.lineDash,e.lineWidth),n=e.lineDashOffset;if(r){var i=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;i&&i!==1&&(r=qe(r,function(a){return a/i}),n/=i)}return[r,n]}var LK=new so(!0);function _v(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function iT(t){return typeof t=="string"&&t!=="none"}function bv(t){var e=t.fill;return e!=null&&e!=="none"}function aT(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=r}else t.fill()}function oT(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=r}else t.stroke()}function Q0(t,e,r){var n=vD(e.image,e.__image,r);if(eg(n)){var i=t.createPattern(n,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*zV),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function RK(t,e,r,n){var i,a=_v(r),o=bv(r),s=r.strokePercent,u=s<1,l=!e.path;(!e.silent||u)&&l&&e.createPathProxy();var c=e.path||LK,h=e.__dirty;if(!n){var f=r.fill,p=r.stroke,v=o&&!!f.colorStops,g=a&&!!p.colorStops,m=o&&!!f.image,_=a&&!!p.image,b=void 0,w=void 0,T=void 0,k=void 0,A=void 0;(v||g)&&(A=e.getBoundingRect()),v&&(b=h?Z0(t,f,A):e.__canvasFillGradient,e.__canvasFillGradient=b),g&&(w=h?Z0(t,p,A):e.__canvasStrokeGradient,e.__canvasStrokeGradient=w),m&&(T=h||!e.__canvasFillPattern?Q0(t,f,e):e.__canvasFillPattern,e.__canvasFillPattern=T),_&&(k=h||!e.__canvasStrokePattern?Q0(t,p,e):e.__canvasStrokePattern,e.__canvasStrokePattern=T),v?t.fillStyle=b:m&&(T?t.fillStyle=T:o=!1),g?t.strokeStyle=w:_&&(k?t.strokeStyle=k:a=!1)}var D=e.getGlobalScale();c.setScale(D[0],D[1],e.segmentIgnoreThreshold);var O,F;t.setLineDash&&r.lineDash&&(i=dL(e),O=i[0],F=i[1]);var $=!0;(l||h&_l)&&(c.setDPR(t.dpr),u?c.setContext(null):(c.setContext(t),$=!1),c.reset(),e.buildPath(c,e.shape,n),c.toStatic(),e.pathUpdated()),$&&c.rebuildPath(t,u?s:1),O&&(t.setLineDash(O),t.lineDashOffset=F),n||(r.strokeFirst?(a&&oT(t,r),o&&aT(t,r)):(o&&aT(t,r),a&&oT(t,r))),O&&t.setLineDash([])}function OK(t,e,r){var n=e.__image=vD(r.image,e.__image,e,e.onload);if(!(!n||!eg(n))){var i=r.x||0,a=r.y||0,o=e.getWidth(),s=e.getHeight(),u=n.width/n.height;if(o==null&&s!=null?o=s*u:s==null&&o!=null?s=o/u:o==null&&s==null&&(o=n.width,s=n.height),r.sWidth&&r.sHeight){var l=r.sx||0,c=r.sy||0;t.drawImage(n,l,c,r.sWidth,r.sHeight,i,a,o,s)}else if(r.sx&&r.sy){var l=r.sx,c=r.sy,h=o-l,f=s-c;t.drawImage(n,l,c,h,f,i,a,o,s)}else t.drawImage(n,i,a,o,s)}}function IK(t,e,r){var n,i=r.text;if(i!=null&&(i+=""),i){t.font=r.font||mu,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline;var a=void 0,o=void 0;t.setLineDash&&r.lineDash&&(n=dL(e),a=n[0],o=n[1]),a&&(t.setLineDash(a),t.lineDashOffset=o),r.strokeFirst?(_v(r)&&t.strokeText(i,r.x,r.y),bv(r)&&t.fillText(i,r.x,r.y)):(bv(r)&&t.fillText(i,r.x,r.y),_v(r)&&t.strokeText(i,r.x,r.y)),a&&t.setLineDash([])}}var sT=["shadowBlur","shadowOffsetX","shadowOffsetY"],uT=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function pL(t,e,r,n,i){var a=!1;if(!n&&(r=r||{},e===r))return!1;if(n||e.opacity!==r.opacity){Rn(t,i),a=!0;var o=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(o)?lu.opacity:o}(n||e.blend!==r.blend)&&(a||(Rn(t,i),a=!0),t.globalCompositeOperation=e.blend||lu.blend);for(var s=0;s<sT.length;s++){var u=sT[s];(n||e[u]!==r[u])&&(a||(Rn(t,i),a=!0),t[u]=t.dpr*(e[u]||0))}return(n||e.shadowColor!==r.shadowColor)&&(a||(Rn(t,i),a=!0),t.shadowColor=e.shadowColor||lu.shadowColor),a}function lT(t,e,r,n,i){var a=xh(e,i.inHover),o=n?null:r&&xh(r,i.inHover)||{};if(a===o)return!1;var s=pL(t,a,o,n,i);if((n||a.fill!==o.fill)&&(s||(Rn(t,i),s=!0),iT(a.fill)&&(t.fillStyle=a.fill)),(n||a.stroke!==o.stroke)&&(s||(Rn(t,i),s=!0),iT(a.stroke)&&(t.strokeStyle=a.stroke)),(n||a.opacity!==o.opacity)&&(s||(Rn(t,i),s=!0),t.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var u=a.lineWidth,l=u/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==l&&(s||(Rn(t,i),s=!0),t.lineWidth=l)}for(var c=0;c<uT.length;c++){var h=uT[c],f=h[0];(n||a[f]!==o[f])&&(s||(Rn(t,i),s=!0),t[f]=a[f]||h[1])}return s}function BK(t,e,r,n,i){return pL(t,xh(e,i.inHover),r&&xh(r,i.inHover),n,i)}function vL(t,e){var r=e.transform,n=t.dpr||1;r?t.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):t.setTransform(n,0,0,n,0,0)}function NK(t,e,r){for(var n=!1,i=0;i<t.length;i++){var a=t[i];n=n||a.isZeroArea(),vL(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}r.allClipped=n}function FK(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var cT=1,fT=2,hT=3,dT=4;function $K(t){var e=bv(t),r=_v(t);return!(t.lineDash||!(+e^+r)||e&&typeof t.fill!="string"||r&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function Rn(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function xh(t,e){return e&&t.__hoverStyle||t.style}function gL(t,e){ou(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function ou(t,e,r,n){var i=e.transform;if(!e.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){e.__dirty&=~Yn,e.__isRendered=!1;return}var a=e.__clipPaths,o=r.prevElClipPaths,s=!1,u=!1;if((!o||DK(a,o))&&(o&&o.length&&(Rn(t,r),t.restore(),u=s=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),a&&a.length&&(Rn(t,r),t.save(),NK(a,t,r),s=!0),r.prevElClipPaths=a),r.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var l=r.prevEl;l||(u=s=!0);var c=e instanceof Lt&&e.autoBatch&&$K(e.style);s||FK(i,l.transform)?(Rn(t,r),vL(t,e)):c||Rn(t,r);var h=xh(e,r.inHover);e instanceof Lt?(r.lastDrawType!==cT&&(u=!0,r.lastDrawType=cT),lT(t,e,l,u,r),(!c||!r.batchFill&&!r.batchStroke)&&t.beginPath(),RK(t,e,h,c),c&&(r.batchFill=h.fill||"",r.batchStroke=h.stroke||"")):e instanceof L0?(r.lastDrawType!==hT&&(u=!0,r.lastDrawType=hT),lT(t,e,l,u,r),IK(t,e,h)):e instanceof Du?(r.lastDrawType!==fT&&(u=!0,r.lastDrawType=fT),BK(t,e,l,u,r),OK(t,e,h)):e.getTemporalDisplayables&&(r.lastDrawType!==dT&&(u=!0,r.lastDrawType=dT),HK(t,e,r)),c&&n&&Rn(t,r),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),r.prevEl=e,e.__dirty=0,e.__isRendered=!0}function HK(t,e,r){var n=e.getDisplayables(),i=e.getTemporalDisplayables();t.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},o,s;for(o=e.getCursor(),s=n.length;o<s;o++){var u=n[o];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),ou(t,u,a,o===s-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}for(var l=0,c=i.length;l<c;l++){var u=i[l];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),ou(t,u,a,l===c-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var Xm=new yK,pT=new Oh(100),vT=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function J0(t,e){if(t==="none")return null;var r=e.getDevicePixelRatio(),n=e.getZr(),i=n.painter.type==="svg";t.dirty&&Xm.delete(t);var a=Xm.get(t);if(a)return a;var o=lt(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return u(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/r,Xm.set(t,s),t.dirty=!1,s;function u(l){for(var c=[r],h=!0,f=0;f<vT.length;++f){var p=o[vT[f]];if(p!=null&&!je(p)&&!Je(p)&&!Yt(p)&&typeof p!="boolean"){h=!1;break}c.push(p)}var v;if(h){v=c.join(",")+(i?"-svg":"");var g=pT.get(v);g&&(i?l.svgElement=g:l.image=g)}var m=yL(o.dashArrayX),_=zK(o.dashArrayY),b=mL(o.symbol),w=UK(m),T=_L(_),k=!i&&gc.createCanvas(),A=i&&{tag:"g",attrs:{},key:"dcl",children:[]},D=F(),O;k&&(k.width=D.width*r,k.height=D.height*r,O=k.getContext("2d")),$(),h&&pT.put(v,k||A),l.image=k,l.svgElement=A,l.svgWidth=D.width,l.svgHeight=D.height;function F(){for(var B=1,U=0,H=w.length;U<H;++U)B=kw(B,w[U]);for(var W=1,U=0,H=b.length;U<H;++U)W=kw(W,b[U].length);B*=W;var z=T*w.length*b.length;return{width:Math.max(1,Math.min(B,o.maxTileWidth)),height:Math.max(1,Math.min(z,o.maxTileHeight))}}function $(){O&&(O.clearRect(0,0,k.width,k.height),o.backgroundColor&&(O.fillStyle=o.backgroundColor,O.fillRect(0,0,k.width,k.height)));for(var B=0,U=0;U<_.length;++U)B+=_[U];if(B<=0)return;for(var H=-T,W=0,z=0,G=0;H<D.height;){if(W%2===0){for(var Y=z/2%b.length,Q=0,J=0,ae=0;Q<D.width*2;){for(var he=0,U=0;U<m[G].length;++U)he+=m[G][U];if(he<=0)break;if(J%2===0){var pe=(1-o.symbolSize)*.5,Se=Q+m[G][J]*pe,we=H+_[W]*pe,Le=m[G][J]*o.symbolSize,Fe=_[W]*o.symbolSize,se=ae/2%b[Y].length;ve(Se,we,Le,Fe,b[Y][se])}Q+=m[G][J],++ae,++J,J===m[G].length&&(J=0)}++G,G===m.length&&(G=0)}H+=_[W],++z,++W,W===_.length&&(W=0)}function ve(ge,be,Te,$e,Ie){var Ne=i?1:r,ht=oc(Ie,ge*Ne,be*Ne,Te*Ne,$e*Ne,o.color,o.symbolKeepAspect);if(i){var Xt=n.painter.renderOneToVNode(ht);Xt&&A.children.push(Xt)}else gL(O,ht)}}}}function mL(t){if(!t||t.length===0)return[["rect"]];if(Je(t))return[[t]];for(var e=!0,r=0;r<t.length;++r)if(!Je(t[r])){e=!1;break}if(e)return mL([t]);for(var n=[],r=0;r<t.length;++r)Je(t[r])?n.push([t[r]]):n.push(t[r]);return n}function yL(t){if(!t||t.length===0)return[[0,0]];if(Yt(t)){var e=Math.ceil(t);return[[e,e]]}for(var r=!0,n=0;n<t.length;++n)if(!Yt(t[n])){r=!1;break}if(r)return yL([t]);for(var i=[],n=0;n<t.length;++n)if(Yt(t[n])){var e=Math.ceil(t[n]);i.push([e,e])}else{var e=qe(t[n],function(s){return Math.ceil(s)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function zK(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(Yt(t)){var e=Math.ceil(t);return[e,e]}var r=qe(t,function(n){return Math.ceil(n)});return t.length%2?r.concat(r):r}function UK(t){return qe(t,function(e){return _L(e)})}function _L(t){for(var e=0,r=0;r<t.length;++r)e+=t[r];return t.length%2===1?e*2:e}function VK(t,e){t.eachRawSeries(function(r){if(!t.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");if(s){var u=n.ensureUniqueItemVisual(o,"style");u.decal=J0(s,e)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=J0(i,e)}}})}var GK=new Yi;const Li=GK;var bL={};function jK(t,e){bL[t]=e}function WK(t){return bL[t]}var YK=1,XK=800,qK=900,KK=1e3,ZK=2e3,QK=5e3,xL=1e3,JK=1100,ib=2e3,SL=3e3,eZ=4e3,Sg=4500,tZ=4600,rZ=5e3,nZ=6e3,wL=7e3,iZ={PROCESSOR:{FILTER:KK,SERIES_FILTER:XK,STATISTIC:QK},VISUAL:{LAYOUT:xL,PROGRESSIVE_LAYOUT:JK,GLOBAL:ib,CHART:SL,POST_CHART_LAYOUT:tZ,COMPONENT:eZ,BRUSH:rZ,CHART_ITEM:Sg,ARIA:nZ,DECAL:wL}},un="__flagInMainProcess",Pn="__pendingUpdate",qm="__needsUpdateStatus",gT=/^[a-zA-Z0-9_]+$/,Km="__connectUpdateStatus",mT=0,aZ=1,oZ=2;function TL(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(this.isDisposed()){this.id;return}return AL(this,t,e)}}function CL(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return AL(this,t,e)}}function AL(t,e,r){return r[0]=r[0]&&r[0].toLowerCase(),Yi.prototype[e].apply(t,r)}var kL=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Yi),EL=kL.prototype;EL.on=CL("on");EL.off=CL("off");var sl,Zm,Yd,Mo,Qm,Jm,ey,rf,nf,yT,_T,ty,bT,Xd,xT,PL,ri,ST,DL=function(t){Me(e,t);function e(r,n,i){var a=t.call(this,new uK)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},Je(n)&&(n=ML[n]),a._dom=r;var o="canvas",s="auto",u=!1,l=a._zr=Cw(r,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Mt(i.useDirtyRect,u),useCoarsePointer:Mt(i.useCoarsePointer,s),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=nb(nr(l.flush,l),17),n=_t(n),n&&NM(n,!0),a._theme=n,a._locale=lX(i.locale||pM),a._coordSysMgr=new q_;var c=a._api=xT(a);function h(f,p){return f.__prio-p.__prio}return Ep(Sv,h),Ep(e1,h),a._scheduler=new cL(a,c,e1,Sv),a._messageCenter=new kL,a._initEvents(),a.resize=nr(a.resize,a),l.animation.on("frame",a._onframe,a),yT(l,a),_T(l,a),ev(a),a}return e.prototype._onframe=function(){if(!this._disposed){ST(this);var r=this._scheduler;if(this[Pn]){var n=this[Pn].silent;this[un]=!0;try{sl(this),Mo.update.call(this,null,this[Pn].updateParams)}catch(u){throw this[un]=!1,this[Pn]=null,u}this._zr.flush(),this[un]=!1,this[Pn]=null,rf.call(this,n),nf.call(this,n)}else if(r.unfinished){var i=YK,a=this._model,o=this._api;r.unfinished=!1;do{var s=+new Date;r.performSeriesTasks(a),r.performDataProcessorTasks(a),Jm(this,a),r.performVisualTasks(a),Xd(this,this._model,o,"remain",{}),i-=+new Date-s}while(i>0&&r.unfinished);r.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(r,n,i){if(!this[un]){if(this._disposed){this.id;return}var a,o,s;if(nt(n)&&(i=n.lazyUpdate,a=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[un]=!0,!this._model||n){var u=new GX(this._api),l=this._theme,c=this._model=new OM;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,l,this._locale,u)}this._model.setOption(r,{replaceMerge:o},t1);var h={seriesTransition:s,optionChanged:!0};if(i)this[Pn]={silent:a,updateParams:h},this[un]=!1,this.getZr().wakeUp();else{try{sl(this),Mo.update.call(this,null,h)}catch(f){throw this[Pn]=null,this[un]=!1,f}this._ssr||this._zr.flush(),this[Pn]=null,this[un]=!1,rf.call(this,a),nf.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||wt.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},e.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},e.prototype.getSvgDataURL=function(){if(wt.svgSupported){var r=this._zr,n=r.storage.getDisplayList();return Z(n,function(i){i.stopAnimation(null,!0)}),r.painter.toDataURL()}},e.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,i=this._model,a=[],o=this;Z(n,function(u){i.eachComponent({mainType:u},function(l){var c=o._componentsMap[l.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return Z(a,function(u){u.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",i=this.group,a=Math.min,o=Math.max,s=1/0;if(wT[i]){var u=s,l=s,c=-s,h=-s,f=[],p=r&&r.pixelRatio||this.getDevicePixelRatio();Z(Wf,function(w,T){if(w.group===i){var k=n?w.getZr().painter.getSvgDom().innerHTML:w.renderToCanvas(_t(r)),A=w.getDom().getBoundingClientRect();u=a(A.left,u),l=a(A.top,l),c=o(A.right,c),h=o(A.bottom,h),f.push({dom:k,left:A.left,top:A.top})}}),u*=p,l*=p,c*=p,h*=p;var v=c-u,g=h-l,m=gc.createCanvas(),_=Cw(m,{renderer:n?"svg":"canvas"});if(_.resize({width:v,height:g}),n){var b="";return Z(f,function(w){var T=w.left-u,k=w.top-l;b+='<g transform="translate('+T+","+k+')">'+w.dom+"</g>"}),_.painter.getSvgRoot().innerHTML=b,r.connectedBackgroundColor&&_.painter.setBackgroundColor(r.connectedBackgroundColor),_.refreshImmediately(),_.painter.toDataURL()}else return r.connectedBackgroundColor&&_.add(new Sr({shape:{x:0,y:0,width:v,height:g},style:{fill:r.connectedBackgroundColor}})),Z(f,function(w){var T=new Du({style:{x:w.left*p-u,y:w.top*p-l,image:w.dom}});_.add(T)}),_.refreshImmediately(),m.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},e.prototype.convertToPixel=function(r,n){return Qm(this,"convertToPixel",r,n)},e.prototype.convertFromPixel=function(r,n){return Qm(this,"convertFromPixel",r,n)},e.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var i=this._model,a,o=$f(i,r);return Z(o,function(s,u){u.indexOf("Models")>=0&&Z(s,function(l){var c=l.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(n);else if(u==="seriesModels"){var h=this._chartsMap[l.__viewId];h&&h.containPoint&&(a=a||h.containPoint(n,l))}},this)},this),!!a},e.prototype.getVisual=function(r,n){var i=this._model,a=$f(i,r,{defaultMainType:"series"}),o=a.seriesModel,s=o.getData(),u=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return u!=null?fK(s,u,n):hK(s,n)},e.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},e.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},e.prototype._initEvents=function(){var r=this;Z(sZ,function(n){var i=function(a){var o=r.getModel(),s=a.target,u,l=n==="globalout";if(l?u={}:s&&Tf(s,function(v){var g=Ut(v);if(g&&g.dataIndex!=null){var m=g.dataModel||o.getSeriesByIndex(g.seriesIndex);return u=m&&m.getDataParams(g.dataIndex,g.dataType)||{},!0}else if(g.eventData)return u=Oe({},g.eventData),!0},!0),u){var c=u.componentType,h=u.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",h=u.seriesIndex);var f=c&&h!=null&&o.getComponent(c,h),p=f&&r[f.mainType==="series"?"_chartsMap":"_componentsMap"][f.__viewId];u.event=a,u.type=n,r._$eventProcessor.eventInfo={targetEl:s,packedEvent:u,model:f,view:p},r.trigger(n,u)}};i.zrEventfulCallAtLast=!0,r._zr.on(n,i,r)}),Z(jf,function(n,i){r._messageCenter.on(i,function(a){this.trigger(i,a)},r)}),Z(["selectchanged"],function(n){r._messageCenter.on(n,function(i){this.trigger(n,i)},r)}),pK(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&fD(this.getDom(),ob,"");var n=this,i=n._api,a=n._model;Z(n._componentsViews,function(o){o.dispose(a,i)}),Z(n._chartsViews,function(o){o.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete Wf[n.id]},e.prototype.resize=function(r){if(!this[un]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=r&&r.silent;this[Pn]&&(a==null&&(a=this[Pn].silent),i=!0,this[Pn]=null),this[un]=!0;try{i&&sl(this),Mo.update.call(this,{type:"resize",animation:Oe({duration:0},r&&r.animation)})}catch(o){throw this[un]=!1,o}this[un]=!1,rf.call(this,a),nf.call(this,a)}}},e.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(nt(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!r1[r]){var i=r1[r](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(r){var n=Oe({},r);return n.type=jf[r.type],n},e.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(nt(n)||(n={silent:!!n}),!!xv[r.type]&&this._model){if(this[un]){this._pendingActions.push(r);return}var i=n.silent;ey.call(this,r,i);var a=n.flush;a?this._zr.flush():a!==!1&&wt.browser.weChat&&this._throttledZrFlush(),rf.call(this,i),nf.call(this,i)}},e.prototype.updateLabelLayout=function(){Li.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){sl=function(h){var f=h._scheduler;f.restorePipelines(h._model),f.prepareStageTasks(),Zm(h,!0),Zm(h,!1),f.plan()},Zm=function(h,f){for(var p=h._model,v=h._scheduler,g=f?h._componentsViews:h._chartsViews,m=f?h._componentsMap:h._chartsMap,_=h._zr,b=h._api,w=0;w<g.length;w++)g[w].__alive=!1;f?p.eachComponent(function(A,D){A!=="series"&&T(D)}):p.eachSeries(T);function T(A){var D=A.__requireNewView;A.__requireNewView=!1;var O="_ec_"+A.id+"_"+A.type,F=!D&&m[O];if(!F){var $=ma(A.type),B=f?Qn.getClass($.main,$.sub):wa.getClass($.sub);F=new B,F.init(p,b),m[O]=F,g.push(F),_.add(F.group)}A.__viewId=F.__id=O,F.__alive=!0,F.__model=A,F.group.__ecComponentInfo={mainType:A.mainType,index:A.componentIndex},!f&&v.prepareView(F,A,p,b)}for(var w=0;w<g.length;){var k=g[w];k.__alive?w++:(!f&&k.renderTask.dispose(),_.remove(k.group),k.dispose(p,b),g.splice(w,1),m[k.__id]===k&&delete m[k.__id],k.__id=k.group.__ecComponentInfo=null)}},Yd=function(h,f,p,v,g){var m=h._model;if(m.setUpdatePayload(p),!v){Z([].concat(h._componentsViews).concat(h._chartsViews),k);return}var _={};_[v+"Id"]=p[v+"Id"],_[v+"Index"]=p[v+"Index"],_[v+"Name"]=p[v+"Name"];var b={mainType:v,query:_};g&&(b.subType=g);var w=p.excludeSeriesId,T;w!=null&&(T=ct(),Z(Cr(w),function(A){var D=xa(A,null);D!=null&&T.set(D,!0)})),m&&m.eachComponent(b,function(A){var D=T&&T.get(A.id)!=null;if(!D)if(r2(p))if(A instanceof os)p.type===cu&&!p.notBlur&&!A.get(["emphasis","disabled"])&&jW(A,p,h._api);else{var O=L_(A.mainType,A.componentIndex,p.name,h._api),F=O.focusSelf,$=O.dispatchers;p.type===cu&&F&&!p.notBlur&&O0(A.mainType,A.componentIndex,h._api),$&&Z($,function(B){p.type===cu?tc(B):rc(B)})}else N0(p)&&A instanceof os&&(XW(A,p,h._api),e2(A),ri(h))},h),m&&m.eachComponent(b,function(A){var D=T&&T.get(A.id)!=null;D||k(h[v==="series"?"_chartsMap":"_componentsMap"][A.__viewId])},h);function k(A){A&&A.__alive&&A[f]&&A[f](A.__model,m,h._api,p)}},Mo={prepareAndUpdate:function(h){sl(this),Mo.update.call(this,h,{optionChanged:h.newOption!=null})},update:function(h,f){var p=this._model,v=this._api,g=this._zr,m=this._coordSysMgr,_=this._scheduler;if(p){p.setUpdatePayload(h),_.restoreData(p,h),_.performSeriesTasks(p),m.create(p,v),_.performDataProcessorTasks(p,h),Jm(this,p),m.update(p,v),r(p),_.performVisualTasks(p,h),ty(this,p,v,h,f);var b=p.get("backgroundColor")||"transparent",w=p.get("darkMode");g.setBackgroundColor(b),w!=null&&w!=="auto"&&g.setDarkMode(w),Li.trigger("afterupdate",p,v)}},updateTransform:function(h){var f=this,p=this._model,v=this._api;if(p){p.setUpdatePayload(h);var g=[];p.eachComponent(function(_,b){if(_!=="series"){var w=f.getViewOfComponentModel(b);if(w&&w.__alive)if(w.updateTransform){var T=w.updateTransform(b,p,v,h);T&&T.update&&g.push(w)}else g.push(w)}});var m=ct();p.eachSeries(function(_){var b=f._chartsMap[_.__viewId];if(b.updateTransform){var w=b.updateTransform(_,p,v,h);w&&w.update&&m.set(_.uid,1)}else m.set(_.uid,1)}),r(p),this._scheduler.performVisualTasks(p,h,{setDirty:!0,dirtyMap:m}),Xd(this,p,v,h,{},m),Li.trigger("afterupdate",p,v)}},updateView:function(h){var f=this._model;f&&(f.setUpdatePayload(h),wa.markUpdateMethod(h,"updateView"),r(f),this._scheduler.performVisualTasks(f,h,{setDirty:!0}),ty(this,f,this._api,h,{}),Li.trigger("afterupdate",f,this._api))},updateVisual:function(h){var f=this,p=this._model;p&&(p.setUpdatePayload(h),p.eachSeries(function(v){v.getData().clearAllVisual()}),wa.markUpdateMethod(h,"updateVisual"),r(p),this._scheduler.performVisualTasks(p,h,{visualType:"visual",setDirty:!0}),p.eachComponent(function(v,g){if(v!=="series"){var m=f.getViewOfComponentModel(g);m&&m.__alive&&m.updateVisual(g,p,f._api,h)}}),p.eachSeries(function(v){var g=f._chartsMap[v.__viewId];g.updateVisual(v,p,f._api,h)}),Li.trigger("afterupdate",p,this._api))},updateLayout:function(h){Mo.update.call(this,h)}},Qm=function(h,f,p,v){if(h._disposed){h.id;return}for(var g=h._model,m=h._coordSysMgr.getCoordinateSystems(),_,b=$f(g,p),w=0;w<m.length;w++){var T=m[w];if(T[f]&&(_=T[f](g,b,v))!=null)return _}},Jm=function(h,f){var p=h._chartsMap,v=h._scheduler;f.eachSeries(function(g){v.updateStreamModes(g,p[g.__viewId])})},ey=function(h,f){var p=this,v=this.getModel(),g=h.type,m=h.escapeConnect,_=xv[g],b=_.actionInfo,w=(b.update||"update").split(":"),T=w.pop(),k=w[0]!=null&&ma(w[0]);this[un]=!0;var A=[h],D=!1;h.batch&&(D=!0,A=qe(h.batch,function(W){return W=lt(Oe({},W),h),W.batch=null,W}));var O=[],F,$=N0(h),B=r2(h);if(B&&BD(this._api),Z(A,function(W){if(F=_.action(W,p._model,p._api),F=F||Oe({},W),F.type=b.event||F.type,O.push(F),B){var z=k_(h),G=z.queryOptionMap,Y=z.mainTypeSpecified,Q=Y?G.keys()[0]:"series";Yd(p,T,W,Q),ri(p)}else $?(Yd(p,T,W,"series"),ri(p)):k&&Yd(p,T,W,k.main,k.sub)}),T!=="none"&&!B&&!$&&!k)try{this[Pn]?(sl(this),Mo.update.call(this,h),this[Pn]=null):Mo[T].call(this,h)}catch(W){throw this[un]=!1,W}if(D?F={type:b.event||g,escapeConnect:m,batch:O}:F=O[0],this[un]=!1,!f){var U=this._messageCenter;if(U.trigger(F.type,F),$){var H={type:"selectchanged",escapeConnect:m,selected:qW(v),isFromClick:h.isFromClick||!1,fromAction:h.type,fromActionPayload:h};U.trigger(H.type,H)}}},rf=function(h){for(var f=this._pendingActions;f.length;){var p=f.shift();ey.call(this,p,h)}},nf=function(h){!h&&this.trigger("updated")},yT=function(h,f){h.on("rendered",function(p){f.trigger("rendered",p),h.animation.isFinished()&&!f[Pn]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},_T=function(h,f){h.on("mouseover",function(p){var v=p.target,g=Tf(v,B0);g&&(WW(g,p,f._api),ri(f))}).on("mouseout",function(p){var v=p.target,g=Tf(v,B0);g&&(YW(g,p,f._api),ri(f))}).on("click",function(p){var v=p.target,g=Tf(v,function(b){return Ut(b).dataIndex!=null},!0);if(g){var m=g.selected?"unselect":"select",_=Ut(g);f._api.dispatchAction({type:m,dataType:_.dataType,dataIndexInside:_.dataIndex,seriesIndex:_.seriesIndex,isFromClick:!0})}})};function r(h){h.clearColorPalette(),h.eachSeries(function(f){f.clearColorPalette()})}function n(h){var f=[],p=[],v=!1;if(h.eachComponent(function(b,w){var T=w.get("zlevel")||0,k=w.get("z")||0,A=w.getZLevelKey();v=v||!!A,(b==="series"?p:f).push({zlevel:T,z:k,idx:w.componentIndex,type:b,key:A})}),v){var g=f.concat(p),m,_;Ep(g,function(b,w){return b.zlevel===w.zlevel?b.z-w.z:b.zlevel-w.zlevel}),Z(g,function(b){var w=h.getComponent(b.type,b.idx),T=b.zlevel,k=b.key;m!=null&&(T=Math.max(m,T)),k?(T===m&&k!==_&&T++,_=k):_&&(T===m&&T++,_=""),m=T,w.setZLevel(T)})}}ty=function(h,f,p,v,g){n(f),bT(h,f,p,v,g),Z(h._chartsViews,function(m){m.__alive=!1}),Xd(h,f,p,v,g),Z(h._chartsViews,function(m){m.__alive||m.remove(f,p)})},bT=function(h,f,p,v,g,m){Z(m||h._componentsViews,function(_){var b=_.__model;l(b,_),_.render(b,f,p,v),s(b,_),c(b,_)})},Xd=function(h,f,p,v,g,m){var _=h._scheduler;g=Oe(g||{},{updatedSeries:f.getSeries()}),Li.trigger("series:beforeupdate",f,p,g);var b=!1;f.eachSeries(function(w){var T=h._chartsMap[w.__viewId];T.__alive=!0;var k=T.renderTask;_.updatePayload(k,v),l(w,T),m&&m.get(w.uid)&&k.dirty(),k.perform(_.getPerformArgs(k))&&(b=!0),T.group.silent=!!w.get("silent"),o(w,T),e2(w)}),_.unfinished=b||_.unfinished,Li.trigger("series:layoutlabels",f,p,g),Li.trigger("series:transition",f,p,g),f.eachSeries(function(w){var T=h._chartsMap[w.__viewId];s(w,T),c(w,T)}),a(h,f),Li.trigger("series:afterupdate",f,p,g)},ri=function(h){h[qm]=!0,h.getZr().wakeUp()},ST=function(h){h[qm]&&(h.getZr().storage.traverse(function(f){$l(f)||i(f)}),h[qm]=!1)};function i(h){for(var f=[],p=h.currentStates,v=0;v<p.length;v++){var g=p[v];g==="emphasis"||g==="blur"||g==="select"||f.push(g)}h.selected&&h.states.select&&f.push("select"),h.hoverState===ng&&h.states.emphasis?f.push("emphasis"):h.hoverState===rg&&h.states.blur&&f.push("blur"),h.useStates(f)}function a(h,f){var p=h._zr,v=p.storage,g=0;v.traverse(function(m){m.isGroup||g++}),g>f.get("hoverLayerThreshold")&&!wt.node&&!wt.worker&&f.eachSeries(function(m){if(!m.preventUsingHoverLayer){var _=h._chartsMap[m.__viewId];_.__alive&&_.eachRendered(function(b){b.states.emphasis&&(b.states.emphasis.hoverLayer=!0)})}})}function o(h,f){var p=h.get("blendMode")||null;f.eachRendered(function(v){v.isGroup||(v.style.blend=p)})}function s(h,f){if(!h.preventAutoZ){var p=h.get("z")||0,v=h.get("zlevel")||0;f.eachRendered(function(g){return u(g,p,v,-1/0),!0})}}function u(h,f,p,v){var g=h.getTextContent(),m=h.getTextGuideLine(),_=h.isGroup;if(_)for(var b=h.childrenRef(),w=0;w<b.length;w++)v=Math.max(u(b[w],f,p,v),v);else h.z=f,h.zlevel=p,v=Math.max(h.z2,v);if(g&&(g.z=f,g.zlevel=p,isFinite(v)&&(g.z2=v+2)),m){var T=h.textGuideLineConfig;m.z=f,m.zlevel=p,isFinite(v)&&(m.z2=v+(T&&T.showAbove?1:-1))}return v}function l(h,f){f.eachRendered(function(p){if(!$l(p)){var v=p.getTextContent(),g=p.getTextGuideLine();p.stateTransition&&(p.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),p.hasState()?(p.prevStates=p.currentStates,p.clearStates()):p.prevStates&&(p.prevStates=null)}})}function c(h,f){var p=h.getModel("stateAnimation"),v=h.isAnimationEnabled(),g=p.get("duration"),m=g>0?{duration:g,delay:p.get("delay"),easing:p.get("easing")}:null;f.eachRendered(function(_){if(_.states&&_.states.emphasis){if($l(_))return;if(_ instanceof Lt&&eY(_),_.__dirty){var b=_.prevStates;b&&_.useStates(b)}if(v){_.stateTransition=m;var w=_.getTextContent(),T=_.getTextGuideLine();w&&(w.stateTransition=m),T&&(T.stateTransition=m)}_.__dirty&&i(_)}})}xT=function(h){return new(function(f){Me(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.prototype.getCoordinateSystems=function(){return h._coordSysMgr.getCoordinateSystems()},p.prototype.getComponentByElement=function(v){for(;v;){var g=v.__ecComponentInfo;if(g!=null)return h._model.getComponent(g.mainType,g.index);v=v.parent}},p.prototype.enterEmphasis=function(v,g){tc(v,g),ri(h)},p.prototype.leaveEmphasis=function(v,g){rc(v,g),ri(h)},p.prototype.enterBlur=function(v){GW(v),ri(h)},p.prototype.leaveBlur=function(v){LD(v),ri(h)},p.prototype.enterSelect=function(v){RD(v),ri(h)},p.prototype.leaveSelect=function(v){OD(v),ri(h)},p.prototype.getModel=function(){return h.getModel()},p.prototype.getViewOfComponentModel=function(v){return h.getViewOfComponentModel(v)},p.prototype.getViewOfSeriesModel=function(v){return h.getViewOfSeriesModel(v)},p}(IM))(h)},PL=function(h){function f(p,v){for(var g=0;g<p.length;g++){var m=p[g];m[Km]=v}}Z(jf,function(p,v){h._messageCenter.on(v,function(g){if(wT[h.group]&&h[Km]!==mT){if(g&&g.escapeConnect)return;var m=h.makeActionFromEvent(g),_=[];Z(Wf,function(b){b!==h&&b.group===h.group&&_.push(b)}),f(_,mT),Z(_,function(b){b[Km]!==aZ&&b.dispatchAction(m)}),f(_,oZ)}})})}}(),e}(Yi),ab=DL.prototype;ab.on=TL("on");ab.off=TL("off");ab.one=function(t,e,r){var n=this;function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];e&&e.apply&&e.apply(this,a),n.off(t,i)}this.on.call(this,t,i,r)};var sZ=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var xv={},jf={},e1=[],t1=[],Sv=[],ML={},r1={},Wf={},wT={},uZ=+new Date-0,ob="_echarts_instance_";function Mae(t,e,r){var n=!(r&&r.ssr);if(n){var i=lZ(t);if(i)return i}var a=new DL(t,e,r);return a.id="ec_"+uZ++,Wf[a.id]=a,n&&fD(t,ob,a.id),PL(a),Li.trigger("afterinit",a),a}function lZ(t){return Wf[Mj(t,ob)]}function LL(t,e){ML[t]=e}function RL(t){Dt(t1,t)<0&&t1.push(t)}function OL(t,e){ub(e1,t,e,ZK)}function cZ(t){sb("afterinit",t)}function fZ(t){sb("afterupdate",t)}function sb(t,e){Li.on(t,e)}function La(t,e,r){ft(e)&&(r=e,e="");var n=nt(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,!jf[e]&&(Ea(gT.test(n)&&gT.test(e)),xv[n]||(xv[n]={action:r,actionInfo:t}),jf[e]=n)}function hZ(t,e){q_.register(t,e)}function dZ(t,e){ub(Sv,t,e,xL,"layout")}function Lu(t,e){ub(Sv,t,e,SL,"visual")}var TT=[];function ub(t,e,r,n,i){if((ft(e)||nt(e))&&(r=e,e=n),!(Dt(TT,r)>=0)){TT.push(r);var a=cL.wrapStageHandler(r,i);a.__prio=e,a.__raw=r,t.push(a)}}function IL(t,e){r1[t]=e}function pZ(t,e,r){var n=WK("registerMap");n&&n(t,e,r)}var vZ=_q;Lu(ib,Wq);Lu(Sg,Yq);Lu(Sg,Xq);Lu(ib,lK);Lu(Sg,cK);Lu(wL,VK);RL(NM);OL(qK,QX);IL("default",qq);La({type:cu,event:cu,update:cu},Sn);La({type:Ip,event:Ip,update:Ip},Sn);La({type:Hf,event:Hf,update:Hf},Sn);La({type:Bp,event:Bp,update:Bp},Sn);La({type:zf,event:zf,update:zf},Sn);LL("light",oK);LL("dark",sK);function af(t){return t==null?0:t.length||1}function CT(t){return t}var gZ=function(){function t(e,r,n,i,a,o){this._old=e,this._new=r,this._oldKeyGetter=n||CT,this._newKeyGetter=i||CT,this.context=a,this._diffModeMultiple=o==="multiple"}return t.prototype.add=function(e){return this._add=e,this},t.prototype.update=function(e){return this._update=e,this},t.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},t.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},t.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},t.prototype.remove=function(e){return this._remove=e,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var e=this._old,r=this._new,n={},i=new Array(e.length),a=new Array(r.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(r,n,a,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=i[o],u=n[s],l=af(u);if(l>1){var c=u.shift();u.length===1&&(n[s]=u[0]),this._update&&this._update(c,o)}else l===1?(n[s]=null,this._update&&this._update(u,o)):this._remove&&this._remove(o)}this._performRestAdd(a,n)},t.prototype._executeMultiple=function(){var e=this._old,r=this._new,n={},i={},a=[],o=[];this._initIndexMap(e,n,a,"_oldKeyGetter"),this._initIndexMap(r,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var u=a[s],l=n[u],c=i[u],h=af(l),f=af(c);if(h>1&&f===1)this._updateManyToOne&&this._updateManyToOne(c,l),i[u]=null;else if(h===1&&f>1)this._updateOneToMany&&this._updateOneToMany(c,l),i[u]=null;else if(h===1&&f===1)this._update&&this._update(c,l),i[u]=null;else if(h>1&&f>1)this._updateManyToMany&&this._updateManyToMany(c,l),i[u]=null;else if(h>1)for(var p=0;p<h;p++)this._remove&&this._remove(l[p]);else this._remove&&this._remove(l)}this._performRestAdd(o,i)},t.prototype._performRestAdd=function(e,r){for(var n=0;n<e.length;n++){var i=e[n],a=r[i],o=af(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else o===1&&this._add&&this._add(a);r[i]=null}},t.prototype._initIndexMap=function(e,r,n,i){for(var a=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[i](e[o],o);if(a||(n[o]=s),!!r){var u=r[s],l=af(u);l===0?(r[s]=o,a&&n.push(s)):l===1?r[s]=[u,o]:u.push(o)}}},t}();const Sh=gZ;var mZ=function(){function t(e,r){this._encode=e,this._schema=r}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function yZ(t,e){var r={},n=r.encode={},i=ct(),a=[],o=[],s={};Z(t.dimensions,function(f){var p=t.getDimensionInfo(f),v=p.coordDim;if(v){var g=p.coordDimIndex;ry(n,v)[g]=f,p.isExtraCoord||(i.set(v,1),bZ(p.type)&&(a[0]=f),ry(s,v)[g]=t.getDimensionIndex(p.name)),p.defaultTooltip&&o.push(f)}EM.each(function(m,_){var b=ry(n,_),w=p.otherDims[_];w!=null&&w!==!1&&(b[w]=p.name)})});var u=[],l={};i.each(function(f,p){var v=n[p];l[p]=v[0],u=u.concat(v)}),r.dataDimsOnCoord=u,r.dataDimIndicesOnCoord=qe(u,function(f){return t.getDimensionInfo(f).storeDimIndex}),r.encodeFirstDimNotExtra=l;var c=n.label;c&&c.length&&(a=c.slice());var h=n.tooltip;return h&&h.length?o=h.slice():o.length||(o=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=o,r.userOutput=new mZ(s,e),r}function ry(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function _Z(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function bZ(t){return!(t==="ordinal"||t==="time")}var xZ=function(){function t(e){this.otherDims={},e!=null&&Oe(this,e)}return t}();const zp=xZ;var SZ=dr(),wZ={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},BL=function(){function t(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=$L(this.source)))},t.prototype.getSourceDimensionIndex=function(e){return Mt(this._dimNameMap.get(e),-1)},t.prototype.getSourceDimension=function(e){var r=this.source.dimensionsDefine;if(r)return r[e]},t.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,r=$M(this.source),n=!HL(e),i="",a=[],o=0,s=0;o<e;o++){var u=void 0,l=void 0,c=void 0,h=this.dimensions[s];if(h&&h.storeDimIndex===o)u=r?h.name:null,l=h.type,c=h.ordinalMeta,s++;else{var f=this.getSourceDimension(o);f&&(u=r?f.name:null,l=f.type)}a.push({property:u,type:l,ordinalMeta:c}),r&&u!=null&&(!h||!h.isCalculationCoord)&&(i+=n?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),i+="$",i+=wZ[l]||"f",c&&(i+=c.uid),i+="$"}var p=this.source,v=[p.seriesLayoutBy,p.startIndex,i].join("$$");return{dimensions:a,hash:v}},t.prototype.makeOutputDimensionNames=function(){for(var e=[],r=0,n=0;r<this._fullDimCount;r++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===r)a.isCalculationCoord||(i=a.name),n++;else{var o=this.getSourceDimension(r);o&&(i=o.name)}e.push(i)}return e},t.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function NL(t){return t instanceof BL}function FL(t){for(var e=ct(),r=0;r<(t||[]).length;r++){var n=t[r],i=nt(n)?n.name:n;i!=null&&e.get(i)==null&&e.set(i,r)}return e}function $L(t){var e=SZ(t);return e.dimNameMap||(e.dimNameMap=FL(t.dimensionsDefine))}function HL(t){return t>30}var of=nt,Lo=qe,TZ=typeof Int32Array>"u"?Array:Int32Array,CZ="e\0\0",AT=-1,AZ=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],kZ=["_approximateExtent"],kT,qd,sf,uf,ny,Kd,iy,EZ=function(){function t(e,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var n,i=!1;NL(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,n=e),n=n||["x","y"];for(var a={},o=[],s={},u=!1,l={},c=0;c<n.length;c++){var h=n[c],f=Je(h)?new zp({name:h}):h instanceof zp?h:new zp(h),p=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=p,f.coordDimIndex=0);var v=f.otherDims=f.otherDims||{};o.push(p),a[p]=f,l[p]!=null&&(u=!0),f.createInvertedIndices&&(s[p]=[]),v.itemName===0&&(this._nameDimIdx=c),v.itemId===0&&(this._idDimIdx=c),i&&(f.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(u),this.hostModel=r,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=ct();Z(o,function(m){g.set(a[m].storeDimIndex,m)})}}return t.prototype.getDimension=function(e){var r=this._recognizeDimIndex(e);if(r==null)return e;if(r=e,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var i=this._schema.getSourceDimension(r);if(i)return i.name},t.prototype.getDimensionIndex=function(e){var r=this._recognizeDimIndex(e);if(r!=null)return r;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},t.prototype._recognizeDimIndex=function(e){if(Yt(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},t.prototype._getStoreDimIndex=function(e){var r=this.getDimensionIndex(e);return r},t.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},t.prototype._initGetDimensionInfo=function(e){var r=this._dimInfos;this._getDimInfo=e?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(e,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return i?i[r]:null},t.prototype.mapDimensionsAll=function(e){var r=this._dimSummary,n=r.encode[e];return(n||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(e,r,n){var i=this,a;if(e instanceof G0&&(a=e),!a){var o=this.dimensions,s=K_(e)||wn(e)?new HM(e,o.length):e;a=new G0;var u=Lo(o,function(l){return{type:i._dimInfos[l].type,property:l}});a.initData(s,u,n)}this._store=a,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=yZ(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(e){var r=this._store.appendData(e);this._doInit(r[0],r[1])},t.prototype.appendValues=function(e,r){var n=this._store.appendValues(e,r.length),i=n.start,a=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var s=i;s<a;s++){var u=s-i;this._nameList[s]=r[u],o&&iy(this,s)}},t.prototype._updateOrdinalMeta=function(){for(var e=this._store,r=this.dimensions,n=0;n<r.length;n++){var i=this._dimInfos[r[n]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Qo&&!e.fillStorage},t.prototype._doInit=function(e,r){if(!(e>=r)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,s=i.getSource().sourceFormat,u=s===Si;if(u&&!i.pure)for(var l=[],c=e;c<r;c++){var h=i.getItem(c,l);if(!this.hasItemOption&&yj(h)&&(this.hasItemOption=!0),h){var f=h.name;a[c]==null&&f!=null&&(a[c]=xa(f,null));var p=h.id;o[c]==null&&p!=null&&(o[c]=xa(p,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<r;c++)iy(this,c);kT(this)}},t.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.setApproximateExtent=function(e,r){r=this.getDimension(r),this._approximateExtent[r]=e.slice()},t.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},t.prototype.setCalculationInfo=function(e,r){of(e)?Oe(this._calculationInfo,e):this._calculationInfo[e]=r},t.prototype.getName=function(e){var r=this.getRawIndex(e),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=sf(this,this._nameDimIdx,r)),n==null&&(n=""),n},t.prototype._getCategory=function(e,r){var n=this._store.get(e,r),i=this._store.getOrdinalMeta(e);return i?i.categories[n]:n},t.prototype.getId=function(e){return qd(this,this.getRawIndex(e))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(e,r){var n=this._store,i=this._dimInfos[e];if(i)return n.get(i.storeDimIndex,r)},t.prototype.getByRawIndex=function(e,r){var n=this._store,i=this._dimInfos[e];if(i)return n.getByRawIndex(i.storeDimIndex,r)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},t.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},t.prototype.getValues=function(e,r){var n=this,i=this._store;return je(e)?i.getValues(Lo(e,function(a){return n._getStoreDimIndex(a)}),r):i.getValues(e)},t.prototype.hasValue=function(e){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,i=r.length;n<i;n++)if(isNaN(this._store.get(r[n],e)))return!1;return!0},t.prototype.indexOfName=function(e){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===e)return r;return-1},t.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},t.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},t.prototype.rawIndexOf=function(e,r){var n=e&&this._invertedIndicesMap[e],i=n[r];return i==null||isNaN(i)?AT:i},t.prototype.indicesOfNearest=function(e,r,n){return this._store.indicesOfNearest(this._getStoreDimIndex(e),r,n)},t.prototype.each=function(e,r,n){ft(e)&&(n=r,r=e,e=[]);var i=n||this,a=Lo(uf(e),this._getStoreDimIndex,this);this._store.each(a,i?nr(r,i):r)},t.prototype.filterSelf=function(e,r,n){ft(e)&&(n=r,r=e,e=[]);var i=n||this,a=Lo(uf(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?nr(r,i):r),this},t.prototype.selectRange=function(e){var r=this,n={},i=cr(e);return Z(i,function(a){var o=r._getStoreDimIndex(a);n[o]=e[a]}),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(e,r,n){ft(e)&&(n=r,r=e,e=[]),n=n||this;var i=[];return this.each(e,function(){i.push(r&&r.apply(this,arguments))},n),i},t.prototype.map=function(e,r,n,i){var a=n||i||this,o=Lo(uf(e),this._getStoreDimIndex,this),s=Kd(this);return s._store=this._store.map(o,a?nr(r,a):r),s},t.prototype.modify=function(e,r,n,i){var a=n||i||this,o=Lo(uf(e),this._getStoreDimIndex,this);this._store.modify(o,a?nr(r,a):r)},t.prototype.downSample=function(e,r,n,i){var a=Kd(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),r,n,i),a},t.prototype.lttbDownSample=function(e,r){var n=Kd(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),r),n},t.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},t.prototype.getItemModel=function(e){var r=this.hostModel,n=this.getRawDataItem(e);return new zr(n,r,r&&r.ecModel)},t.prototype.diff=function(e){var r=this;return new Sh(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(n){return qd(e,n)},function(n){return qd(r,n)})},t.prototype.getVisual=function(e){var r=this._visual;return r&&r[e]},t.prototype.setVisual=function(e,r){this._visual=this._visual||{},of(e)?Oe(this._visual,e):this._visual[e]=r},t.prototype.getItemVisual=function(e,r){var n=this._itemVisuals[e],i=n&&n[r];return i??this.getVisual(r)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(e,r){var n=this._itemVisuals,i=n[e];i||(i=n[e]={});var a=i[r];return a==null&&(a=this.getVisual(r),je(a)?a=a.slice():of(a)&&(a=Oe({},a)),i[r]=a),a},t.prototype.setItemVisual=function(e,r,n){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,of(r)?Oe(i,r):i[r]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(e,r){of(e)?Oe(this._layout,e):this._layout[e]=r},t.prototype.getLayout=function(e){return this._layout[e]},t.prototype.getItemLayout=function(e){return this._itemLayouts[e]},t.prototype.setItemLayout=function(e,r,n){this._itemLayouts[e]=n?Oe(this._itemLayouts[e]||{},r):r},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(e,r){var n=this.hostModel&&this.hostModel.seriesIndex;OW(n,this.dataType,e,r),this._graphicEls[e]=r},t.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},t.prototype.eachItemGraphicEl=function(e,r){Z(this._graphicEls,function(n,i){n&&e&&e.call(r,n,i)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:Lo(this.dimensions,this._getDimInfo,this),this.hostModel)),ny(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(e,r){var n=this[e];ft(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=n.apply(this,arguments);return r.apply(this,[i].concat(__(arguments)))})},t.internalField=function(){kT=function(e){var r=e._invertedIndicesMap;Z(r,function(n,i){var a=e._dimInfos[i],o=a.ordinalMeta,s=e._store;if(o){n=r[i]=new TZ(o.categories.length);for(var u=0;u<n.length;u++)n[u]=AT;for(var u=0;u<s.count();u++)n[s.get(a.storeDimIndex,u)]=u}})},sf=function(e,r,n){return xa(e._getCategory(r,n),null)},qd=function(e,r){var n=e._idList[r];return n==null&&e._idDimIdx!=null&&(n=sf(e,e._idDimIdx,r)),n==null&&(n=CZ+r),n},uf=function(e){return je(e)||(e=e!=null?[e]:[]),e},Kd=function(e){var r=new t(e._schema?e._schema:Lo(e.dimensions,e._getDimInfo,e),e.hostModel);return ny(r,e),r},ny=function(e,r){Z(AZ.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(e[n]=r[n])}),e.__wrappedMethods=r.__wrappedMethods,Z(kZ,function(n){e[n]=_t(r[n])}),e._calculationInfo=Oe({},r._calculationInfo)},iy=function(e,r){var n=e._nameList,i=e._idList,a=e._nameDimIdx,o=e._idDimIdx,s=n[r],u=i[r];if(s==null&&a!=null&&(n[r]=s=sf(e,a,r)),u==null&&o!=null&&(i[r]=u=sf(e,o,r)),u==null&&s!=null){var l=e._nameRepeatCount,c=l[s]=(l[s]||0)+1;u=s,c>1&&(u+="__ec__"+c),i[r]=u}}}(),t}();const zL=EZ;function UL(t,e){K_(t)||(t=Z_(t)),e=e||{};var r=e.coordDimensions||[],n=e.dimensionsDefine||t.dimensionsDefine||[],i=ct(),a=[],o=DZ(t,r,n,e.dimensionsCount),s=e.canOmitUnusedDimensions&&HL(o),u=n===t.dimensionsDefine,l=u?$L(t):FL(n),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(t,o));for(var h=ct(c),f=new XM(o),p=0;p<f.length;p++)f[p]=-1;function v(F){var $=f[F];if($<0){var B=n[F],U=nt(B)?B:{name:B},H=new zp,W=U.name;W!=null&&l.get(W)!=null&&(H.name=H.displayName=W),U.type!=null&&(H.type=U.type),U.displayName!=null&&(H.displayName=U.displayName);var z=a.length;return f[F]=z,H.storeDimIndex=F,a.push(H),H}return a[$]}if(!s)for(var p=0;p<o;p++)v(p);h.each(function(F,$){var B=Cr(F).slice();if(B.length===1&&!Je(B[0])&&B[0]<0){h.set($,!1);return}var U=h.set($,[]);Z(B,function(H,W){var z=Je(H)?l.get(H):H;z!=null&&z<o&&(U[W]=z,m(v(z),$,W))})});var g=0;Z(r,function(F){var $,B,U,H;if(Je(F))$=F,H={};else{H=F,$=H.name;var W=H.ordinalMeta;H.ordinalMeta=null,H=Oe({},H),H.ordinalMeta=W,B=H.dimsDef,U=H.otherDims,H.name=H.coordDim=H.coordDimIndex=H.dimsDef=H.otherDims=null}var z=h.get($);if(z!==!1){if(z=Cr(z),!z.length)for(var G=0;G<(B&&B.length||1);G++){for(;g<o&&v(g).coordDim!=null;)g++;g<o&&z.push(g++)}Z(z,function(Y,Q){var J=v(Y);if(u&&H.type!=null&&(J.type=H.type),m(lt(J,H),$,Q),J.name==null&&B){var ae=B[Q];!nt(ae)&&(ae={name:ae}),J.name=J.displayName=ae.name,J.defaultTooltip=ae.defaultTooltip}U&&lt(J.otherDims,U)})}});function m(F,$,B){EM.get($)!=null?F.otherDims[$]=B:(F.coordDim=$,F.coordDimIndex=B,i.set($,!0))}var _=e.generateCoord,b=e.generateCoordCount,w=b!=null;b=_?b||1:0;var T=_||"value";function k(F){F.name==null&&(F.name=F.coordDim)}if(s)Z(a,function(F){k(F)}),a.sort(function(F,$){return F.storeDimIndex-$.storeDimIndex});else for(var A=0;A<o;A++){var D=v(A),O=D.coordDim;O==null&&(D.coordDim=MZ(T,i,w),D.coordDimIndex=0,(!_||b<=0)&&(D.isExtraCoord=!0),b--),k(D),D.type==null&&(MM(t,A)===Xr.Must||D.isExtraCoord&&(D.otherDims.itemName!=null||D.otherDims.seriesName!=null))&&(D.type="ordinal")}return PZ(a),new BL({source:t,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function PZ(t){for(var e=ct(),r=0;r<t.length;r++){var n=t[r],i=n.name,a=e.get(i)||0;a>0&&(n.name=i+(a-1)),a++,e.set(i,a)}}function DZ(t,e,r,n){var i=Math.max(t.dimensionsDetectedCount||1,e.length,r.length,n||0);return Z(e,function(a){var o;nt(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}function MZ(t,e,r){if(r||e.hasKey(t)){for(var n=0;e.hasKey(t+n);)n++;t+=n}return e.set(t,!0),t}var LZ=function(){function t(e){this.coordSysDims=[],this.axisMap=ct(),this.categoryAxisMap=ct(),this.coordSysName=e}return t}();function RZ(t){var e=t.get("coordinateSystem"),r=new LZ(e),n=OZ[e];if(n)return n(t,r,r.axisMap,r.categoryAxisMap),r}var OZ={cartesian2d:function(t,e,r,n){var i=t.getReferringComponents("xAxis",Zr).models[0],a=t.getReferringComponents("yAxis",Zr).models[0];e.coordSysDims=["x","y"],r.set("x",i),r.set("y",a),ul(i)&&(n.set("x",i),e.firstCategoryDimIndex=0),ul(a)&&(n.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,r,n){var i=t.getReferringComponents("singleAxis",Zr).models[0];e.coordSysDims=["single"],r.set("single",i),ul(i)&&(n.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,r,n){var i=t.getReferringComponents("polar",Zr).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],r.set("radius",a),r.set("angle",o),ul(a)&&(n.set("radius",a),e.firstCategoryDimIndex=0),ul(o)&&(n.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,r,n){e.coordSysDims=["lng","lat"]},parallel:function(t,e,r,n){var i=t.ecModel,a=i.getComponent("parallel",t.get("parallelIndex")),o=e.coordSysDims=a.dimensions.slice();Z(a.parallelAxisIndex,function(s,u){var l=i.getComponent("parallelAxis",s),c=o[u];r.set(c,l),ul(l)&&(n.set(c,l),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=u))})}};function ul(t){return t.get("type")==="category"}function IZ(t,e,r){r=r||{};var n=r.byIndex,i=r.stackedCoordDimension,a,o,s;BZ(e)?a=e:(o=e.schema,a=o.dimensions,s=e.store);var u=!!(t&&t.get("stack")),l,c,h,f;if(Z(a,function(b,w){Je(b)&&(a[w]=b={name:b}),u&&!b.isExtraCoord&&(!n&&!l&&b.ordinalMeta&&(l=b),!c&&b.type!=="ordinal"&&b.type!=="time"&&(!i||i===b.coordDim)&&(c=b))}),c&&!n&&!l&&(n=!0),c){h="__\0ecstackresult_"+t.id,f="__\0ecstackedover_"+t.id,l&&(l.createInvertedIndices=!0);var p=c.coordDim,v=c.type,g=0;Z(a,function(b){b.coordDim===p&&g++});var m={name:h,coordDim:p,coordDimIndex:g,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},_={name:f,coordDim:f,coordDimIndex:g+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(m.storeDimIndex=s.ensureCalculationDimension(f,v),_.storeDimIndex=s.ensureCalculationDimension(h,v)),o.appendCalculationDimension(m),o.appendCalculationDimension(_)):(a.push(m),a.push(_))}return{stackedDimension:c&&c.name,stackedByDimension:l&&l.name,isStackedByIndex:n,stackedOverDimension:f,stackResultDimension:h}}function BZ(t){return!NL(t.schema)}function bu(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function NZ(t,e){return bu(t,e)?t.getCalculationInfo("stackResultDimension"):e}function FZ(t,e){var r=t.get("coordinateSystem"),n=q_.get(r),i;return e&&e.coordSysDims&&(i=qe(e.coordSysDims,function(a){var o={name:a},s=e.axisMap.get(a);if(s){var u=s.get("type");o.type=_Z(u)}return o})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function $Z(t,e,r){var n,i;return r&&Z(t,function(a,o){var s=a.coordDim,u=r.categoryAxisMap.get(s);u&&(n==null&&(n=o),a.ordinalMeta=u.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(t[n].otherDims.itemName=0),n}function lb(t,e,r){r=r||{};var n=e.getSourceManager(),i,a=!1;t?(a=!0,i=Z_(t)):(i=n.getSource(),a=i.sourceFormat===Si);var o=RZ(e),s=FZ(e,o),u=r.useEncodeDefaulter,l=ft(u)?u:u?zt(TX,s,e):null,c={coordDimensions:s,generateCoord:r.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!a},h=UL(i,c),f=$Z(h.dimensions,r.createInvertedIndices,o),p=a?null:n.getSharedDataStore(h),v=IZ(e,{schema:h,store:p}),g=new zL(h,e);g.setCalculationInfo(v);var m=f!=null&&HZ(i)?function(_,b,w,T){return T===f?w:this.defaultDimValueGetter(_,b,w,T)}:null;return g.hasItemOption=!1,g.initData(a?i:p,null,m),g}function HZ(t){if(t.sourceFormat===Si){var e=zZ(t.data||[]);return!je(Nh(e))}}function zZ(t){for(var e=0;e<t.length&&t[e]==null;)e++;return t[e]}var VL=function(){function t(e){this._setting=e||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(e){return this._setting[e]},t.prototype.unionExtent=function(e){var r=this._extent;e[0]<r[0]&&(r[0]=e[0]),e[1]>r[1]&&(r[1]=e[1])},t.prototype.unionExtentFromData=function(e,r){this.unionExtent(e.getApproximateExtent(r))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(e,r){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(r)||(n[1]=r)},t.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(e){this._isBlank=e},t}();Jv(VL);const po=VL;var UZ=0,VZ=function(){function t(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++UZ}return t.createByAxisModel=function(e){var r=e.option,n=r.data,i=n&&qe(n,GZ);return new t({categories:i,needCollect:!i,deduplication:r.dedplication!==!1})},t.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},t.prototype.parseAndCollect=function(e){var r,n=this._needCollect;if(!Je(e)&&!n)return e;if(n&&!this._deduplication)return r=this.categories.length,this.categories[r]=e,r;var i=this._getOrCreateMap();return r=i.get(e),r==null&&(n?(r=this.categories.length,this.categories[r]=e,i.set(e,r)):r=NaN),r},t.prototype._getOrCreateMap=function(){return this._map||(this._map=ct(this.categories))},t}();function GZ(t){return nt(t)&&t.value!=null?t.value:t+""}const n1=VZ;function i1(t){return t.type==="interval"||t.type==="log"}function jZ(t,e,r,n){var i={},a=t[1]-t[0],o=i.interval=aD(a/e,!0);r!=null&&o<r&&(o=i.interval=r),n!=null&&o>n&&(o=i.interval=n);var s=i.intervalPrecision=GL(o),u=i.niceTickExtent=[Dr(Math.ceil(t[0]/o)*o,s),Dr(Math.floor(t[1]/o)*o,s)];return WZ(u,t),i}function ay(t){var e=Math.pow(10,C_(t)),r=t/e;return r?r===2?r=3:r===3?r=5:r*=2:r=1,Dr(r*e)}function GL(t){return eo(t)+2}function ET(t,e,r){t[e]=Math.max(Math.min(t[e],r[1]),r[0])}function WZ(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),ET(t,0,e),ET(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function wg(t,e){return t>=e[0]&&t<=e[1]}function Tg(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function Cg(t,e){return t*(e[1]-e[0])+e[0]}var jL=function(t){Me(e,t);function e(r){var n=t.call(this,r)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new n1({})),je(i)&&(i=new n1({categories:qe(i,function(a){return nt(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return e.prototype.parse=function(r){return r==null?NaN:Je(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},e.prototype.contain=function(r){return r=this.parse(r),wg(r,this._extent)&&this._ordinalMeta.categories[r]!=null},e.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),Tg(r,this._extent)},e.prototype.scale=function(r){return r=Math.round(Cg(r,this._extent)),this.getRawOrdinalNumber(r)},e.prototype.getTicks=function(){for(var r=[],n=this._extent,i=n[0];i<=n[1];)r.push({value:i}),i++;return r},e.prototype.getMinorTicks=function(r){},e.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=r.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,u=Math.min(s,n.length);o<u;++o){var l=n[o];i[o]=l,a[l]=o}for(var c=0;o<s;++o){for(;a[c]!=null;)c++;i.push(c),a[c]=o}},e.prototype._getTickNumber=function(r){var n=this._ticksByOrdinalNumber;return n&&r>=0&&r<n.length?n[r]:r},e.prototype.getRawOrdinalNumber=function(r){var n=this._ordinalNumbersByTick;return n&&r>=0&&r<n.length?n[r]:r},e.prototype.getLabel=function(r){if(!this.isBlank()){var n=this.getRawOrdinalNumber(r.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},e.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(po);po.registerClass(jL);const WL=jL;var Xs=Dr,YL=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return e.prototype.parse=function(r){return r},e.prototype.contain=function(r){return wg(r,this._extent)},e.prototype.normalize=function(r){return Tg(r,this._extent)},e.prototype.scale=function(r){return Cg(r,this._extent)},e.prototype.setExtent=function(r,n){var i=this._extent;isNaN(r)||(i[0]=parseFloat(r)),isNaN(n)||(i[1]=parseFloat(n))},e.prototype.unionExtent=function(r){var n=this._extent;r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1]),this.setExtent(n[0],n[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=GL(r)},e.prototype.getTicks=function(r){var n=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=[];if(!n)return s;var u=1e4;i[0]<a[0]&&(r?s.push({value:Xs(a[0]-n,o)}):s.push({value:i[0]}));for(var l=a[0];l<=a[1]&&(s.push({value:l}),l=Xs(l+n,o),l!==s[s.length-1].value);)if(s.length>u)return[];var c=s.length?s[s.length-1].value:a[1];return i[1]>c&&(r?s.push({value:Xs(c+n,o)}):s.push({value:i[1]})),s},e.prototype.getMinorTicks=function(r){for(var n=this.getTicks(!0),i=[],a=this.getExtent(),o=1;o<n.length;o++){for(var s=n[o],u=n[o-1],l=0,c=[],h=s.value-u.value,f=h/r;l<r-1;){var p=Xs(u.value+(l+1)*f);p>a[0]&&p<a[1]&&c.push(p),l++}i.push(c)}return i},e.prototype.getLabel=function(r,n){if(r==null)return"";var i=n&&n.precision;i==null?i=eo(r.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=Xs(r.value,i,!0);return TM(a)},e.prototype.calcNiceTicks=function(r,n,i){r=r||5;var a=this._extent,o=a[1]-a[0];if(isFinite(o)){o<0&&(o=-o,a.reverse());var s=jZ(a,r,n,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);r.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var o=this._interval;r.fixMin||(n[0]=Xs(Math.floor(n[0]/o)*o)),r.fixMax||(n[1]=Xs(Math.ceil(n[1]/o)*o))},e.prototype.setNiceExtent=function(r,n){this._niceExtent=[r,n]},e.type="interval",e}(po);po.registerClass(YL);const Vh=YL;var XL=typeof Float32Array<"u",YZ=XL?Float32Array:Array;function to(t){return je(t)?XL?new Float32Array(t):t:new YZ(t)}var XZ="__ec_stack_";function cb(t){return t.get("stack")||XZ+t.seriesIndex}function fb(t){return t.dim+t.index}function qL(t,e){var r=[];return e.eachSeriesByType(t,function(n){ZL(n)&&r.push(n)}),r}function qZ(t){var e={};Z(t,function(u){var l=u.coordinateSystem,c=l.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var h=u.getData(),f=c.dim+"_"+c.index,p=h.getDimensionIndex(h.mapDimension(c.dim)),v=h.getStore(),g=0,m=v.count();g<m;++g){var _=v.get(p,g);e[f]?e[f].push(_):e[f]=[_]}});var r={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(i){i.sort(function(u,l){return u-l});for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=a===null?s:Math.min(a,s))}r[n]=a}}return r}function KL(t){var e=qZ(t),r=[];return Z(t,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),o=a.getExtent(),s;if(a.type==="category")s=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var u=a.dim+"_"+a.index,l=e[u],c=Math.abs(o[1]-o[0]),h=a.scale.getExtent(),f=Math.abs(h[1]-h[0]);s=l?c/f*l:c}else{var p=n.getData();s=Math.abs(o[1]-o[0])/p.count()}var v=$t(n.get("barWidth"),s),g=$t(n.get("barMaxWidth"),s),m=$t(n.get("barMinWidth")||(QL(n)?.5:1),s),_=n.get("barGap"),b=n.get("barCategoryGap");r.push({bandWidth:s,barWidth:v,barMaxWidth:g,barMinWidth:m,barGap:_,barCategoryGap:b,axisKey:fb(a),stackId:cb(n)})}),KZ(r)}function KZ(t){var e={};Z(t,function(n,i){var a=n.axisKey,o=n.bandWidth,s=e[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},u=s.stacks;e[a]=s;var l=n.stackId;u[l]||s.autoWidthCount++,u[l]=u[l]||{width:0,maxWidth:0};var c=n.barWidth;c&&!u[l].width&&(u[l].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var h=n.barMaxWidth;h&&(u[l].maxWidth=h);var f=n.barMinWidth;f&&(u[l].minWidth=f);var p=n.barGap;p!=null&&(s.gap=p);var v=n.barCategoryGap;v!=null&&(s.categoryGap=v)});var r={};return Z(e,function(n,i){r[i]={};var a=n.stacks,o=n.bandWidth,s=n.categoryGap;if(s==null){var u=cr(a).length;s=Math.max(35-u*4,15)+"%"}var l=$t(s,o),c=$t(n.gap,1),h=n.remainedWidth,f=n.autoWidthCount,p=(h-l)/(f+(f-1)*c);p=Math.max(p,0),Z(a,function(_){var b=_.maxWidth,w=_.minWidth;if(_.width){var T=_.width;b&&(T=Math.min(T,b)),w&&(T=Math.max(T,w)),_.width=T,h-=T+c*T,f--}else{var T=p;b&&b<T&&(T=Math.min(b,h)),w&&w>T&&(T=w),T!==p&&(_.width=T,h-=T+c*T,f--)}}),p=(h-l)/(f+(f-1)*c),p=Math.max(p,0);var v=0,g;Z(a,function(_,b){_.width||(_.width=p),g=_,v+=_.width*(1+c)}),g&&(v-=g.width*c);var m=-v/2;Z(a,function(_,b){r[i][b]=r[i][b]||{bandWidth:o,offset:m,width:_.width},m+=_.width*(1+c)})}),r}function ZZ(t,e,r){if(t&&e){var n=t[fb(e)];return n!=null&&r!=null?n[cb(r)]:n}}function QZ(t,e){var r=qL(t,e),n=KL(r);Z(r,function(i){var a=i.getData(),o=i.coordinateSystem,s=o.getBaseAxis(),u=cb(i),l=n[fb(s)][u],c=l.offset,h=l.width;a.setLayout({bandWidth:l.bandWidth,offset:c,size:h})})}function JZ(t){return{seriesType:t,plan:tb(),reset:function(e){if(ZL(e)){var r=e.getData(),n=e.coordinateSystem,i=n.getBaseAxis(),a=n.getOtherAxis(i),o=r.getDimensionIndex(r.mapDimension(a.dim)),s=r.getDimensionIndex(r.mapDimension(i.dim)),u=e.get("showBackground",!0),l=r.mapDimension(a.dim),c=r.getCalculationInfo("stackResultDimension"),h=bu(r,l)&&!!r.getCalculationInfo("stackedOnSeries"),f=a.isHorizontal(),p=eQ(i,a),v=QL(e),g=e.get("barMinHeight")||0,m=c&&r.getDimensionIndex(c),_=r.getLayout("size"),b=r.getLayout("offset");return{progress:function(w,T){for(var k=w.count,A=v&&to(k*3),D=v&&u&&to(k*3),O=v&&to(k),F=n.master.getRect(),$=f?F.width:F.height,B,U=T.getStore(),H=0;(B=w.next())!=null;){var W=U.get(h?m:o,B),z=U.get(s,B),G=p,Y=void 0;h&&(Y=+W-U.get(o,B));var Q=void 0,J=void 0,ae=void 0,he=void 0;if(f){var pe=n.dataToPoint([W,z]);if(h){var Se=n.dataToPoint([Y,z]);G=Se[0]}Q=G,J=pe[1]+b,ae=pe[0]-G,he=_,Math.abs(ae)<g&&(ae=(ae<0?-1:1)*g)}else{var pe=n.dataToPoint([z,W]);if(h){var Se=n.dataToPoint([z,Y]);G=Se[1]}Q=pe[0]+b,J=G,ae=_,he=pe[1]-G,Math.abs(he)<g&&(he=(he<=0?-1:1)*g)}v?(A[H]=Q,A[H+1]=J,A[H+2]=f?ae:he,D&&(D[H]=f?F.x:Q,D[H+1]=f?J:F.y,D[H+2]=$),O[B]=B):T.setItemLayout(B,{x:Q,y:J,width:ae,height:he}),H+=3}v&&T.setLayout({largePoints:A,largeDataIndices:O,largeBackgroundPoints:D,valueAxisHorizontal:f})}}}}}}function ZL(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function QL(t){return t.pipelineContext&&t.pipelineContext.large}function eQ(t,e){return e.toGlobalCoord(e.dataToCoord(e.type==="log"?1:0))}var tQ=function(t,e,r,n){for(;r<n;){var i=r+n>>>1;t[i][1]<e?r=i+1:n=i}return r},JL=function(t){Me(e,t);function e(r){var n=t.call(this,r)||this;return n.type="time",n}return e.prototype.getLabel=function(r){var n=this.getSetting("useUTC");return hg(r.value,y2[dX(Hl(this._minLevelUnit))]||y2.second,n,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(r,n,i){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return pX(r,n,i,o,a)},e.prototype.getTicks=function(){var r=this._interval,n=this._extent,i=[];if(!r)return i;i.push({value:n[0],level:0});var a=this.getSetting("useUTC"),o=uQ(this._minLevelUnit,this._approxInterval,a,n);return i=i.concat(o),i.push({value:n[1],level:0}),i},e.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1]&&(n[0]-=fi,n[1]+=fi),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-fi}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},e.prototype.calcNiceTicks=function(r,n,i){r=r||10;var a=this._extent,o=a[1]-a[0];this._approxInterval=o/r,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var s=Zd.length,u=Math.min(tQ(Zd,this._approxInterval,0,s),s-1);this._interval=Zd[u][1],this._minLevelUnit=Zd[Math.max(u-1,0)][0]},e.prototype.parse=function(r){return Yt(r)?r:+oo(r)},e.prototype.contain=function(r){return wg(this.parse(r),this._extent)},e.prototype.normalize=function(r){return Tg(this.parse(r),this._extent)},e.prototype.scale=function(r){return Cg(r,this._extent)},e.type="time",e}(Vh),Zd=[["second",V_],["minute",G_],["hour",Vf],["quarter-day",Vf*6],["half-day",Vf*12],["day",fi*1.2],["half-week",fi*3.5],["week",fi*7],["month",fi*31],["quarter",fi*95],["half-year",m2/2],["year",m2]];function rQ(t,e,r,n){var i=oo(e),a=oo(r),o=function(v){return _2(i,v,n)===_2(a,v,n)},s=function(){return o("year")},u=function(){return s()&&o("month")},l=function(){return u()&&o("day")},c=function(){return l()&&o("hour")},h=function(){return c()&&o("minute")},f=function(){return h()&&o("second")},p=function(){return f()&&o("millisecond")};switch(t){case"year":return s();case"month":return u();case"day":return l();case"hour":return c();case"minute":return h();case"second":return f();case"millisecond":return p()}}function nQ(t,e){return t/=fi,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function iQ(t){var e=30*fi;return t/=e,t>6?6:t>3?3:t>2?2:1}function aQ(t){return t/=Vf,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function PT(t,e){return t/=e?G_:V_,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function oQ(t){return aD(t,!0)}function sQ(t,e,r){var n=new Date(t);switch(Hl(e)){case"year":case"month":n[yM(r)](0);case"day":n[_M(r)](1);case"hour":n[bM(r)](0);case"minute":n[xM(r)](0);case"second":n[SM(r)](0),n[wM(r)](0)}return n.getTime()}function uQ(t,e,r,n){var i=1e4,a=gM,o=0;function s($,B,U,H,W,z,G){for(var Y=new Date(B),Q=B,J=Y[H]();Q<U&&Q<=n[1];)G.push({value:Q}),J+=$,Y[W](J),Q=Y.getTime();G.push({value:Q,notAdd:!0})}function u($,B,U){var H=[],W=!B.length;if(!rQ(Hl($),n[0],n[1],r)){W&&(B=[{value:sQ(new Date(n[0]),$,r)},{value:n[1]}]);for(var z=0;z<B.length-1;z++){var G=B[z].value,Y=B[z+1].value;if(G!==Y){var Q=void 0,J=void 0,ae=void 0,he=!1;switch($){case"year":Q=Math.max(1,Math.round(e/fi/365)),J=j_(r),ae=vX(r);break;case"half-year":case"quarter":case"month":Q=iQ(e),J=zl(r),ae=yM(r);break;case"week":case"half-week":case"day":Q=nQ(e),J=dg(r),ae=_M(r),he=!0;break;case"half-day":case"quarter-day":case"hour":Q=aQ(e),J=gh(r),ae=bM(r);break;case"minute":Q=PT(e,!0),J=pg(r),ae=xM(r);break;case"second":Q=PT(e,!1),J=vg(r),ae=SM(r);break;case"millisecond":Q=oQ(e),J=gg(r),ae=wM(r);break}s(Q,G,Y,J,ae,he,H),$==="year"&&U.length>1&&z===0&&U.unshift({value:U[0].value-Q})}}for(var z=0;z<H.length;z++)U.push(H[z]);return H}}for(var l=[],c=[],h=0,f=0,p=0;p<a.length&&o++<i;++p){var v=Hl(a[p]);if(hX(a[p])){u(a[p],l[l.length-1]||[],c);var g=a[p+1]?Hl(a[p+1]):null;if(v!==g){if(c.length){f=h,c.sort(function($,B){return $.value-B.value});for(var m=[],_=0;_<c.length;++_){var b=c[_].value;(_===0||c[_-1].value!==b)&&(m.push(c[_]),b>=n[0]&&b<=n[1]&&h++)}var w=(n[1]-n[0])/e;if(h>w*1.5&&f>w/1.5||(l.push(m),h>w||t===a[p]))break}c=[]}}}for(var T=xr(qe(l,function($){return xr($,function(B){return B.value>=n[0]&&B.value<=n[1]&&!B.notAdd})}),function($){return $.length>0}),k=[],A=T.length-1,p=0;p<T.length;++p)for(var D=T[p],O=0;O<D.length;++O)k.push({value:D[O].value,level:A-p});k.sort(function($,B){return $.value-B.value});for(var F=[],p=0;p<k.length;++p)(p===0||k[p].value!==k[p-1].value)&&F.push(k[p]);return F}po.registerClass(JL);const lQ=JL;var DT=po.prototype,Yf=Vh.prototype,cQ=Dr,fQ=Math.floor,hQ=Math.ceil,Qd=Math.pow,Ei=Math.log,hb=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new Vh,r._interval=0,r}return e.prototype.getTicks=function(r){var n=this._originalScale,i=this._extent,a=n.getExtent(),o=Yf.getTicks.call(this,r);return qe(o,function(s){var u=s.value,l=Dr(Qd(this.base,u));return l=u===i[0]&&this._fixMin?Jd(l,a[0]):l,l=u===i[1]&&this._fixMax?Jd(l,a[1]):l,{value:l}},this)},e.prototype.setExtent=function(r,n){var i=Ei(this.base);r=Ei(Math.max(0,r))/i,n=Ei(Math.max(0,n))/i,Yf.setExtent.call(this,r,n)},e.prototype.getExtent=function(){var r=this.base,n=DT.getExtent.call(this);n[0]=Qd(r,n[0]),n[1]=Qd(r,n[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(n[0]=Jd(n[0],a[0])),this._fixMax&&(n[1]=Jd(n[1],a[1])),n},e.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var n=this.base;r[0]=Ei(r[0])/Ei(n),r[1]=Ei(r[1])/Ei(n),DT.unionExtent.call(this,r)},e.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},e.prototype.calcNiceTicks=function(r){r=r||10;var n=this._extent,i=n[1]-n[0];if(!(i===1/0||i<=0)){var a=gj(i),o=r/i*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[Dr(hQ(n[0]/a)*a),Dr(fQ(n[1]/a)*a)];this._interval=a,this._niceExtent=s}},e.prototype.calcNiceExtent=function(r){Yf.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},e.prototype.parse=function(r){return r},e.prototype.contain=function(r){return r=Ei(r)/Ei(this.base),wg(r,this._extent)},e.prototype.normalize=function(r){return r=Ei(r)/Ei(this.base),Tg(r,this._extent)},e.prototype.scale=function(r){return r=Cg(r,this._extent),Qd(this.base,r)},e.type="log",e}(po),eR=hb.prototype;eR.getMinorTicks=Yf.getMinorTicks;eR.getLabel=Yf.getLabel;function Jd(t,e){return cQ(t,eo(e))}po.registerClass(hb);const dQ=hb;var pQ=function(){function t(e,r,n){this._prepareParams(e,r,n)}return t.prototype._prepareParams=function(e,r,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var a=this._modelMinRaw=r.get("min",!0);ft(a)?this._modelMinNum=ep(e,a({min:n[0],max:n[1]})):a!=="dataMin"&&(this._modelMinNum=ep(e,a));var o=this._modelMaxRaw=r.get("max",!0);if(ft(o)?this._modelMaxNum=ep(e,o({min:n[0],max:n[1]})):o!=="dataMax"&&(this._modelMaxNum=ep(e,o)),i)this._axisDataLen=r.getCategories().length;else{var s=r.get("boundaryGap"),u=je(s)?s:[s||0,s||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[ns(u[0],1),ns(u[1],1)]}},t.prototype.calculate=function(){var e=this._isOrdinal,r=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=e?null:n-r||Math.abs(r),s=this._modelMinRaw==="dataMin"?r:this._modelMinNum,u=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,l=s!=null,c=u!=null;s==null&&(s=e?i?0:NaN:r-a[0]*o),u==null&&(u=e?i?i-1:NaN:n+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(u==null||!isFinite(u))&&(u=NaN);var h=Jp(s)||Jp(u)||e&&!i;this._needCrossZero&&(s>0&&u>0&&!l&&(s=0),s<0&&u<0&&!c&&(u=0));var f=this._determinedMin,p=this._determinedMax;return f!=null&&(s=f,l=!0),p!=null&&(u=p,c=!0),{min:s,max:u,minFixed:l,maxFixed:c,isBlank:h}},t.prototype.modifyDataMinMax=function(e,r){this[gQ[e]]=r},t.prototype.setDeterminedMinMax=function(e,r){var n=vQ[e];this[n]=r},t.prototype.freeze=function(){this.frozen=!0},t}(),vQ={min:"_determinedMin",max:"_determinedMax"},gQ={min:"_dataMin",max:"_dataMax"};function tR(t,e,r){var n=t.rawExtentInfo;return n||(n=new pQ(t,e,r),t.rawExtentInfo=n,n)}function ep(t,e){return e==null?null:Jp(e)?NaN:t.parse(e)}function rR(t,e){var r=t.type,n=tR(t,e,t.getExtent()).calculate();t.setBlank(n.isBlank);var i=n.min,a=n.max,o=e.ecModel;if(o&&r==="time"){var s=qL("bar",o),u=!1;if(Z(s,function(h){u=u||h.getBaseAxis()===e.axis}),u){var l=KL(s),c=mQ(i,a,e,l);i=c.min,a=c.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function mQ(t,e,r,n){var i=r.axis.getExtent(),a=i[1]-i[0],o=ZZ(n,r.axis);if(o===void 0)return{min:t,max:e};var s=1/0;Z(o,function(p){s=Math.min(p.offset,s)});var u=-1/0;Z(o,function(p){u=Math.max(p.offset+p.width,u)}),s=Math.abs(s),u=Math.abs(u);var l=s+u,c=e-t,h=1-(s+u)/a,f=c/h-c;return e+=f*(u/l),t-=f*(s/l),{min:t,max:e}}function wv(t,e){var r=e,n=rR(t,r),i=n.extent,a=r.get("splitNumber");t instanceof dQ&&(t.base=r.get("logBase"));var o=t.type,s=r.get("interval"),u=o==="interval"||o==="time";t.setExtent(i[0],i[1]),t.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:u?r.get("minInterval"):null,maxInterval:u?r.get("maxInterval"):null}),s!=null&&t.setInterval&&t.setInterval(s)}function nR(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new WL({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new lQ({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(po.getClass(e)||Vh)}}function yQ(t){var e=t.scale.getExtent(),r=e[0],n=e[1];return!(r>0&&n>0||r<0&&n<0)}function Gh(t){var e=t.getLabelModel().get("formatter"),r=t.type==="category"?t.scale.getExtent()[0]:null;return t.scale.type==="time"?function(n){return function(i,a){return t.scale.getFormattedLabel(i,a,n)}}(e):Je(e)?function(n){return function(i){var a=t.scale.getLabel(i),o=n.replace("{value}",a??"");return o}}(e):ft(e)?function(n){return function(i,a){return r!=null&&(a=i.value-r),n(db(t,i),a,i.level!=null?{level:i.level}:null)}}(e):function(n){return t.scale.getLabel(n)}}function db(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function _Q(t){var e=t.model,r=t.scale;if(!(!e.get(["axisLabel","show"])||r.isBlank())){var n,i,a=r.getExtent();r instanceof WL?i=r.count():(n=r.getTicks(),i=n.length);var o=t.getLabelModel(),s=Gh(t),u,l=1;i>40&&(l=Math.ceil(i/40));for(var c=0;c<i;c+=l){var h=n?n[c]:{value:a[0]+c},f=s(h,c),p=o.getTextRect(f),v=bQ(p,o.get("rotate")||0);u?u.union(v):u=v}return u}}function bQ(t,e){var r=e*Math.PI/180,n=t.width,i=t.height,a=n*Math.abs(Math.cos(r))+Math.abs(i*Math.sin(r)),o=n*Math.abs(Math.sin(r))+Math.abs(i*Math.cos(r)),s=new Bt(t.x,t.y,a,o);return s}function pb(t){var e=t.get("interval");return e??"auto"}function iR(t){return t.type==="category"&&pb(t.getLabelModel())===0}function Tv(t,e){var r={};return Z(t.mapDimensionsAll(e),function(n){r[NZ(t,n)]=!0}),cr(r)}function xQ(t,e,r){e&&Z(Tv(e,r),function(n){var i=e.getApproximateExtent(n);i[0]<t[0]&&(t[0]=i[0]),i[1]>t[1]&&(t[1]=i[1])})}var aR=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},t.prototype.getCoordSysModel=function(){},t}(),MT=[],SQ={registerPreprocessor:RL,registerProcessor:OL,registerPostInit:cZ,registerPostUpdate:fZ,registerUpdateLifecycle:sb,registerAction:La,registerCoordinateSystem:hZ,registerLayout:dZ,registerVisual:Lu,registerTransform:vZ,registerLoading:IL,registerMap:pZ,registerImpl:jK,PRIORITY:iZ,ComponentModel:Qt,ComponentView:Qn,SeriesModel:os,ChartView:wa,registerComponentModel:function(t){Qt.registerClass(t)},registerComponentView:function(t){Qn.registerClass(t)},registerSeriesModel:function(t){os.registerClass(t)},registerChartView:function(t){wa.registerClass(t)},registerSubTypeDefaulter:function(t,e){Qt.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){lj(t,e)}};function lo(t){if(je(t)){Z(t,function(e){lo(e)});return}Dt(MT,t)>=0||(MT.push(t),ft(t)&&(t={install:t}),t.install(SQ))}var wh=dr();function wQ(t){return t.type==="category"?CQ(t):kQ(t)}function TQ(t,e){return t.type==="category"?AQ(t,e):{ticks:qe(t.scale.getTicks(),function(r){return r.value})}}function CQ(t){var e=t.getLabelModel(),r=oR(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function oR(t,e){var r=sR(t,"labels"),n=pb(e),i=uR(r,n);if(i)return i;var a,o;return ft(n)?a=fR(t,n):(o=n==="auto"?EQ(t):n,a=cR(t,o)),lR(r,n,{labels:a,labelCategoryInterval:o})}function AQ(t,e){var r=sR(t,"ticks"),n=pb(e),i=uR(r,n);if(i)return i;var a,o;if((!e.get("show")||t.scale.isBlank())&&(a=[]),ft(n))a=fR(t,n,!0);else if(n==="auto"){var s=oR(t,t.getLabelModel());o=s.labelCategoryInterval,a=qe(s.labels,function(u){return u.tickValue})}else o=n,a=cR(t,o,!0);return lR(r,n,{ticks:a,tickCategoryInterval:o})}function kQ(t){var e=t.scale.getTicks(),r=Gh(t);return{labels:qe(e,function(n,i){return{level:n.level,formattedLabel:r(n,i),rawLabel:t.scale.getLabel(n),tickValue:n.value}})}}function sR(t,e){return wh(t)[e]||(wh(t)[e]=[])}function uR(t,e){for(var r=0;r<t.length;r++)if(t[r].key===e)return t[r].value}function lR(t,e,r){return t.push({key:e,value:r}),r}function EQ(t){var e=wh(t).autoInterval;return e??(wh(t).autoInterval=t.calculateCategoryInterval())}function PQ(t){var e=DQ(t),r=Gh(t),n=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var u=a[0],l=t.dataToCoord(u+1)-t.dataToCoord(u),c=Math.abs(l*Math.cos(n)),h=Math.abs(l*Math.sin(n)),f=0,p=0;u<=a[1];u+=s){var v=0,g=0,m=Bh(r({value:u}),e.font,"center","top");v=m.width*1.3,g=m.height*1.3,f=Math.max(f,v,7),p=Math.max(p,g,7)}var _=f/c,b=p/h;isNaN(_)&&(_=1/0),isNaN(b)&&(b=1/0);var w=Math.max(0,Math.floor(Math.min(_,b))),T=wh(t.model),k=t.getExtent(),A=T.lastAutoInterval,D=T.lastTickCount;return A!=null&&D!=null&&Math.abs(A-w)<=1&&Math.abs(D-o)<=1&&A>w&&T.axisExtent0===k[0]&&T.axisExtent1===k[1]?w=A:(T.lastTickCount=o,T.lastAutoInterval=w,T.axisExtent0=k[0],T.axisExtent1=k[1]),w}function DQ(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function cR(t,e,r){var n=Gh(t),i=t.scale,a=i.getExtent(),o=t.getLabelModel(),s=[],u=Math.max((e||0)+1,1),l=a[0],c=i.count();l!==0&&u>1&&c/u>2&&(l=Math.round(Math.ceil(l/u)*u));var h=iR(t),f=o.get("showMinLabel")||h,p=o.get("showMaxLabel")||h;f&&l!==a[0]&&g(a[0]);for(var v=l;v<=a[1];v+=u)g(v);p&&v-u!==a[1]&&g(a[1]);function g(m){var _={value:m};s.push(r?m:{formattedLabel:n(_),rawLabel:i.getLabel(_),tickValue:m})}return s}function fR(t,e,r){var n=t.scale,i=Gh(t),a=[];return Z(n.getTicks(),function(o){var s=n.getLabel(o),u=o.value;e(o.value,s)&&a.push(r?u:{formattedLabel:i(o),rawLabel:s,tickValue:u})}),a}var LT=[0,1],MQ=function(){function t(e,r,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=r,this._extent=n||[0,0]}return t.prototype.contain=function(e){var r=this._extent,n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return e>=n&&e<=i},t.prototype.containData=function(e){return this.scale.contain(e)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(e){return nD(e||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(e,r){var n=this._extent;n[0]=e,n[1]=r},t.prototype.dataToCoord=function(e,r){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(n=n.slice(),RT(n,i.count())),Uo(e,LT,n,r)},t.prototype.coordToData=function(e,r){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),RT(n,i.count()));var a=Uo(e,n,LT,r);return this.scale.scale(a)},t.prototype.pointToData=function(e,r){},t.prototype.getTicksCoords=function(e){e=e||{};var r=e.tickModel||this.getTickModel(),n=TQ(this,r),i=n.ticks,a=qe(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=r.get("alignWithLabel");return LQ(this,a,o,e.clamp),a},t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),r=e.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),i=qe(n,function(a){return qe(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},t.prototype.getViewLabels=function(){return wQ(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var e=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},t.prototype.calculateCategoryInterval=function(){return PQ(this)},t}();function RT(t,e){var r=t[1]-t[0],n=e,i=r/n/2;t[0]+=i,t[1]-=i}function LQ(t,e,r,n){var i=e.length;if(!t.onBand||r||!i)return;var a=t.getExtent(),o,s;if(i===1)e[0].coord=a[0],o=e[1]={coord:a[0]};else{var u=e[i-1].tickValue-e[0].tickValue,l=(e[i-1].coord-e[0].coord)/u;Z(e,function(p){p.coord-=l/2});var c=t.scale.getExtent();s=1+c[1]-e[i-1].tickValue,o={coord:e[i-1].coord+l*s},e.push(o)}var h=a[0]>a[1];f(e[0].coord,a[0])&&(n?e[0].coord=a[0]:e.shift()),n&&f(a[0],e[0].coord)&&e.unshift({coord:a[0]}),f(a[1],o.coord)&&(n?o.coord=a[1]:e.pop()),n&&f(o.coord,a[1])&&e.push({coord:a[1]});function f(p,v){return p=Dr(p),v=Dr(v),h?p>v:p<v}}const Ru=MQ;var lf=Math.PI*2,qs=so.CMD,RQ=["top","right","bottom","left"];function OQ(t,e,r,n,i){var a=r.width,o=r.height;switch(t){case"top":n.set(r.x+a/2,r.y-e),i.set(0,-1);break;case"bottom":n.set(r.x+a/2,r.y+o+e),i.set(0,1);break;case"left":n.set(r.x-e,r.y+o/2),i.set(-1,0);break;case"right":n.set(r.x+a+e,r.y+o/2),i.set(1,0);break}}function IQ(t,e,r,n,i,a,o,s,u){o-=t,s-=e;var l=Math.sqrt(o*o+s*s);o/=l,s/=l;var c=o*r+t,h=s*r+e;if(Math.abs(n-i)%lf<1e-4)return u[0]=c,u[1]=h,l-r;if(a){var f=n;n=Wo(i),i=Wo(f)}else n=Wo(n),i=Wo(i);n>i&&(i+=lf);var p=Math.atan2(s,o);if(p<0&&(p+=lf),p>=n&&p<=i||p+lf>=n&&p+lf<=i)return u[0]=c,u[1]=h,l-r;var v=r*Math.cos(n)+t,g=r*Math.sin(n)+e,m=r*Math.cos(i)+t,_=r*Math.sin(i)+e,b=(v-o)*(v-o)+(g-s)*(g-s),w=(m-o)*(m-o)+(_-s)*(_-s);return b<w?(u[0]=v,u[1]=g,Math.sqrt(b)):(u[0]=m,u[1]=_,Math.sqrt(w))}function Cv(t,e,r,n,i,a,o,s){var u=i-t,l=a-e,c=r-t,h=n-e,f=Math.sqrt(c*c+h*h);c/=f,h/=f;var p=u*c+l*h,v=p/f;s&&(v=Math.min(Math.max(v,0),1)),v*=f;var g=o[0]=t+v*c,m=o[1]=e+v*h;return Math.sqrt((g-i)*(g-i)+(m-a)*(m-a))}function hR(t,e,r,n,i,a,o){r<0&&(t=t+r,r=-r),n<0&&(e=e+n,n=-n);var s=t+r,u=e+n,l=o[0]=Math.min(Math.max(i,t),s),c=o[1]=Math.min(Math.max(a,e),u);return Math.sqrt((l-i)*(l-i)+(c-a)*(c-a))}var Ri=[];function BQ(t,e,r){var n=hR(e.x,e.y,e.width,e.height,t.x,t.y,Ri);return r.set(Ri[0],Ri[1]),n}function NQ(t,e,r){for(var n=0,i=0,a=0,o=0,s,u,l=1/0,c=e.data,h=t.x,f=t.y,p=0;p<c.length;){var v=c[p++];p===1&&(n=c[p],i=c[p+1],a=n,o=i);var g=l;switch(v){case qs.M:a=c[p++],o=c[p++],n=a,i=o;break;case qs.L:g=Cv(n,i,c[p],c[p+1],h,f,Ri,!0),n=c[p++],i=c[p++];break;case qs.C:g=VP(n,i,c[p++],c[p++],c[p++],c[p++],c[p],c[p+1],h,f,Ri),n=c[p++],i=c[p++];break;case qs.Q:g=jP(n,i,c[p++],c[p++],c[p],c[p+1],h,f,Ri),n=c[p++],i=c[p++];break;case qs.A:var m=c[p++],_=c[p++],b=c[p++],w=c[p++],T=c[p++],k=c[p++];p+=1;var A=!!(1-c[p++]);s=Math.cos(T)*b+m,u=Math.sin(T)*w+_,p<=1&&(a=s,o=u);var D=(h-m)*w/b+m;g=IQ(m,_,w,T,T+k,A,D,f,Ri),n=Math.cos(T+k)*b+m,i=Math.sin(T+k)*w+_;break;case qs.R:a=n=c[p++],o=i=c[p++];var O=c[p++],F=c[p++];g=hR(a,o,O,F,h,f,Ri);break;case qs.Z:g=Cv(n,i,a,o,h,f,Ri,!0),n=a,i=o;break}g<l&&(l=g,r.set(Ri[0],Ri[1]))}return l}var $i=new at,Zt=new at,br=new at,ya=new at,da=new at;function OT(t,e){if(t){var r=t.getTextGuideLine(),n=t.getTextContent();if(n&&r){var i=t.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=i.candidates||RQ,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var u=1/0,l=i.anchor,c=t.getComputedTransform(),h=c&&Zv([],c),f=e.get("length2")||0;l&&br.copy(l);for(var p=0;p<o.length;p++){var v=o[p];OQ(v,0,s,$i,ya),at.scaleAndAdd(Zt,$i,ya,f),Zt.transform(h);var g=t.getBoundingRect(),m=l?l.distance(Zt):t instanceof Lt?NQ(Zt,t.path,br):BQ(Zt,g,br);m<u&&(u=m,Zt.transform(c),br.transform(c),br.toArray(a[0]),Zt.toArray(a[1]),$i.toArray(a[2]))}dR(a,e.get("minTurnAngle")),r.setShape({points:a})}}}var Av=[],bn=new at;function dR(t,e){if(e<=180&&e>0){e=e/180*Math.PI,$i.fromArray(t[0]),Zt.fromArray(t[1]),br.fromArray(t[2]),at.sub(ya,$i,Zt),at.sub(da,br,Zt);var r=ya.len(),n=da.len();if(!(r<.001||n<.001)){ya.scale(1/r),da.scale(1/n);var i=ya.dot(da),a=Math.cos(e);if(a<i){var o=Cv(Zt.x,Zt.y,br.x,br.y,$i.x,$i.y,Av,!1);bn.fromArray(Av),bn.scaleAndAdd(da,o/Math.tan(Math.PI-e));var s=br.x!==Zt.x?(bn.x-Zt.x)/(br.x-Zt.x):(bn.y-Zt.y)/(br.y-Zt.y);if(isNaN(s))return;s<0?at.copy(bn,Zt):s>1&&at.copy(bn,br),bn.toArray(t[1])}}}}function FQ(t,e,r){if(r<=180&&r>0){r=r/180*Math.PI,$i.fromArray(t[0]),Zt.fromArray(t[1]),br.fromArray(t[2]),at.sub(ya,Zt,$i),at.sub(da,br,Zt);var n=ya.len(),i=da.len();if(!(n<.001||i<.001)){ya.scale(1/n),da.scale(1/i);var a=ya.dot(e),o=Math.cos(r);if(a<o){var s=Cv(Zt.x,Zt.y,br.x,br.y,$i.x,$i.y,Av,!1);bn.fromArray(Av);var u=Math.PI/2,l=Math.acos(da.dot(e)),c=u+l-r;if(c>=u)at.copy(bn,br);else{bn.scaleAndAdd(da,s/Math.tan(Math.PI/2-c));var h=br.x!==Zt.x?(bn.x-Zt.x)/(br.x-Zt.x):(bn.y-Zt.y)/(br.y-Zt.y);if(isNaN(h))return;h<0?at.copy(bn,Zt):h>1&&at.copy(bn,br)}bn.toArray(t[1])}}}}function IT(t,e,r,n){var i=r==="normal",a=i?t:t.ensureState(r);a.ignore=e;var o=n.get("smooth");o&&o===!0&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=n.getModel("lineStyle").getLineStyle();i?t.useStyle(s):a.style=s}function $Q(t,e){var r=e.smooth,n=e.points;if(n)if(t.moveTo(n[0][0],n[0][1]),r>0&&n.length>=3){var i=h0(n[0],n[1]),a=h0(n[1],n[2]);if(!i||!a){t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]);return}var o=Math.min(i,a)*r,s=kp([],n[1],n[0],o/i),u=kp([],n[1],n[2],o/a),l=kp([],s,u,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],l[0],l[1]),t.bezierCurveTo(u[0],u[1],u[0],u[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)t.lineTo(n[c][0],n[c][1])}function pR(t,e,r){var n=t.getTextGuideLine(),i=t.getTextContent();if(!i){n&&t.removeTextGuideLine();return}for(var a=e.normal,o=a.get("show"),s=i.ignore,u=0;u<lv.length;u++){var l=lv[u],c=e[l],h=l==="normal";if(c){var f=c.get("show"),p=h?s:Mt(i.states[l]&&i.states[l].ignore,s);if(p||!Mt(f,o)){var v=h?n:n&&n.states[l];v&&(v.ignore=!0);continue}n||(n=new $h,t.setTextGuideLine(n),!h&&(s||!o)&&IT(n,!0,"normal",e.normal),t.stateProxy&&(n.stateProxy=t.stateProxy)),IT(n,!1,l,c)}}if(n){lt(n.style,r),n.style.fill=null;var g=a.get("showAbove"),m=t.textGuideLineConfig=t.textGuideLineConfig||{};m.showAbove=g||!1,n.buildPath=$Q}}function vR(t,e){e=e||"labelLine";for(var r={normal:t.getModel(e)},n=0;n<bi.length;n++){var i=bi[n];r[i]=t.getModel([i,e])}return r}function gR(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(!n.defaultAttr.ignore){var i=n.label,a=i.getComputedTransform(),o=i.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,u=i.style.margin||0,l=o.clone();l.applyTransform(a),l.x-=u/2,l.y-=u/2,l.width+=u,l.height+=u;var c=s?new fv(o,a):null;e.push({label:i,labelLine:n.labelLine,rect:l,localRect:o,obb:c,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:s,transform:a})}}return e}function mR(t,e,r,n,i,a){var o=t.length;if(o<2)return;t.sort(function(O,F){return O.rect[e]-F.rect[e]});for(var s=0,u,l=!1,c=0,h=0;h<o;h++){var f=t[h],p=f.rect;u=p[e]-s,u<0&&(p[e]-=u,f.label[e]-=u,l=!0);var v=Math.max(-u,0);c+=v,s=p[e]+p[r]}c>0&&a&&k(-c/o,0,o);var g=t[0],m=t[o-1],_,b;w(),_<0&&A(-_,.8),b<0&&A(b,.8),w(),T(_,b,1),T(b,_,-1),w(),_<0&&D(-_),b<0&&D(b);function w(){_=g.rect[e]-n,b=i-m.rect[e]-m.rect[r]}function T(O,F,$){if(O<0){var B=Math.min(F,-O);if(B>0){k(B*$,0,o);var U=B+O;U<0&&A(-U*$,1)}else A(-O*$,1)}}function k(O,F,$){O!==0&&(l=!0);for(var B=F;B<$;B++){var U=t[B],H=U.rect;H[e]+=O,U.label[e]+=O}}function A(O,F){for(var $=[],B=0,U=1;U<o;U++){var H=t[U-1].rect,W=Math.max(t[U].rect[e]-H[e]-H[r],0);$.push(W),B+=W}if(B){var z=Math.min(Math.abs(O)/B,F);if(O>0)for(var U=0;U<o-1;U++){var G=$[U]*z;k(G,0,U+1)}else for(var U=o-1;U>0;U--){var G=$[U-1]*z;k(-G,U,o)}}}function D(O){var F=O<0?-1:1;O=Math.abs(O);for(var $=Math.ceil(O/(o-1)),B=0;B<o-1;B++)if(F>0?k($,0,B+1):k(-$,o-B-1,o),O-=$,O<=0)return}return l}function HQ(t,e,r,n){return mR(t,"x","width",e,r,n)}function yR(t,e,r,n){return mR(t,"y","height",e,r,n)}function _R(t){var e=[];t.sort(function(g,m){return m.priority-g.priority});var r=new Bt(0,0,0,0);function n(g){if(!g.ignore){var m=g.ensureState("emphasis");m.ignore==null&&(m.ignore=!1)}g.ignore=!0}for(var i=0;i<t.length;i++){var a=t[i],o=a.axisAligned,s=a.localRect,u=a.transform,l=a.label,c=a.labelLine;r.copy(a.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var h=a.obb,f=!1,p=0;p<e.length;p++){var v=e[p];if(r.intersect(v.rect)){if(o&&v.axisAligned){f=!0;break}if(v.obb||(v.obb=new fv(v.localRect,v.transform)),h||(h=new fv(s,u)),h.intersect(v.obb)){f=!0;break}}}f?(n(l),c&&n(c)):(l.attr("ignore",a.defaultAttr.ignore),c&&c.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}function zQ(t){if(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].slice());return e}}function UQ(t,e){var r=t.label,n=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:zQ(n&&n.shape.points)}}var BT=["align","verticalAlign","width","height","fontSize"],Gn=new Ih,oy=dr(),VQ=dr();function tp(t,e,r){for(var n=0;n<r.length;n++){var i=r[n];e[i]!=null&&(t[i]=e[i])}}var rp=["x","y","rotation"],GQ=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(e,r,n,i,a){var o=i.style,s=i.__hostTarget,u=s.textConfig||{},l=i.getComputedTransform(),c=i.getBoundingRect().plain();Bt.applyTransform(c,c,l),l?Gn.setLocalTransform(l):(Gn.x=Gn.y=Gn.rotation=Gn.originX=Gn.originY=0,Gn.scaleX=Gn.scaleY=1);var h=i.__hostTarget,f;if(h){f=h.getBoundingRect().plain();var p=h.getComputedTransform();Bt.applyTransform(f,f,p)}var v=f&&h.getTextGuideLine();this._labelList.push({label:i,labelLine:v,seriesModel:n,dataIndex:e,dataType:r,layoutOption:a,computedLayoutOption:null,rect:c,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:v&&v.ignore,x:Gn.x,y:Gn.y,scaleX:Gn.scaleX,scaleY:Gn.scaleY,rotation:Gn.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:u.position,attachedRot:u.rotation}})},t.prototype.addLabelsOfSeries=function(e){var r=this;this._chartViewList.push(e);var n=e.__model,i=n.get("labelLayout");(ft(i)||cr(i).length)&&e.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),s=Ut(a);o&&!o.disableLabelLayout&&r._addLabel(s.dataIndex,s.dataType,n,o,i)})},t.prototype.updateLayoutConfig=function(e){var r=e.getWidth(),n=e.getHeight();function i(w,T){return function(){OT(w,T)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],s=o.label,u=s.__hostTarget,l=o.defaultAttr,c=void 0;ft(o.layoutOption)?c=o.layoutOption(UQ(o,u)):c=o.layoutOption,c=c||{},o.computedLayoutOption=c;var h=Math.PI/180;u&&u.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:l.attachedPos,rotation:c.rotate!=null?c.rotate*h:l.attachedRot,offset:[c.dx||0,c.dy||0]});var f=!1;if(c.x!=null?(s.x=$t(c.x,r),s.setStyle("x",0),f=!0):(s.x=l.x,s.setStyle("x",l.style.x)),c.y!=null?(s.y=$t(c.y,n),s.setStyle("y",0),f=!0):(s.y=l.y,s.setStyle("y",l.style.y)),c.labelLinePoints){var p=u.getTextGuideLine();p&&(p.setShape({points:c.labelLinePoints}),f=!1)}var v=oy(s);v.needsUpdateLabelLine=f,s.rotation=c.rotate!=null?c.rotate*h:l.rotation,s.scaleX=l.scaleX,s.scaleY=l.scaleY;for(var g=0;g<BT.length;g++){var m=BT[g];s.setStyle(m,c[m]!=null?c[m]:l.style[m])}if(c.draggable){if(s.draggable=!0,s.cursor="move",u){var _=o.seriesModel;if(o.dataIndex!=null){var b=o.seriesModel.getData(o.dataType);_=b.getItemModel(o.dataIndex)}s.on("drag",i(u,_.getModel("labelLine")))}}else s.off("drag"),s.cursor=l.cursor}},t.prototype.layout=function(e){var r=e.getWidth(),n=e.getHeight(),i=gR(this._labelList),a=xr(i,function(u){return u.layoutOption.moveOverlap==="shiftX"}),o=xr(i,function(u){return u.layoutOption.moveOverlap==="shiftY"});HQ(a,0,r),yR(o,0,n);var s=xr(i,function(u){return u.layoutOption.hideOverlap});_R(s)},t.prototype.processLabelsOverall=function(){var e=this;Z(this._chartViewList,function(r){var n=r.__model,i=r.ignoreLabelLineUpdate,a=n.isAnimationEnabled();r.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!i,u=o.getTextContent();!s&&u&&(s=oy(u).needsUpdateLabelLine),s&&e._updateLabelLine(o,n),a&&e._animateLabels(o,n)})})},t.prototype._updateLabelLine=function(e,r){var n=e.getTextContent(),i=Ut(e),a=i.dataIndex;if(n&&a!=null){var o=r.getData(i.dataType),s=o.getItemModel(a),u={},l=o.getItemVisual(a,"style"),c=o.getVisual("drawType");u.stroke=l[c];var h=s.getModel("labelLine");pR(e,vR(s),u),OT(e,h)}},t.prototype._animateLabels=function(e,r){var n=e.getTextContent(),i=e.getTextGuideLine();if(n&&(e.forceLabelAnimation||!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!$l(e))){var a=oy(n),o=a.oldLayout,s=Ut(e),u=s.dataIndex,l={x:n.x,y:n.y,rotation:n.rotation},c=r.getData(s.dataType);if(o){n.attr(o);var f=e.prevStates;f&&(Dt(f,"select")>=0&&n.attr(a.oldLayoutSelect),Dt(f,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),Vr(n,l,r,u)}else if(n.attr(l),!bc(n).valueAnimation){var h=Mt(n.style.opacity,1);n.style.opacity=0,hn(n,{style:{opacity:h}},r,u)}if(a.oldLayout=l,n.states.select){var p=a.oldLayoutSelect={};tp(p,l,rp),tp(p,n.states.select,rp)}if(n.states.emphasis){var v=a.oldLayoutEmphasis={};tp(v,l,rp),tp(v,n.states.emphasis,rp)}KY(n,u,c,r,r)}if(i&&!i.ignore&&!i.invisible){var a=VQ(i),o=a.oldLayout,g={points:i.shape.points};o?(i.attr({shape:o}),Vr(i,{shape:g},r)):(i.setShape(g),i.style.strokePercent=0,hn(i,{style:{strokePercent:1}},r)),a.oldLayout=g}},t}();const jQ=GQ;var sy=dr();function Lae(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,r,n){var i=sy(r).labelManager;i||(i=sy(r).labelManager=new jQ),i.clearLabels()}),t.registerUpdateLifecycle("series:layoutlabels",function(e,r,n){var i=sy(r).labelManager;n.updatedSeries.forEach(function(a){i.addLabelsOfSeries(r.getViewOfSeriesModel(a))}),i.updateLayoutConfig(r),i.layout(r),i.processLabelsOverall()})}var WQ=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r}return e.prototype.getInitialData=function(r){return lb(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(r){var n=new Mr,i=oc("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);n.add(i),i.setStyle(r.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=a==="none"?"circle":a,u=r.itemHeight*.8,l=oc(s,(r.itemWidth-u)/2,(r.itemHeight-u)/2,u,u,r.itemStyle.fill);n.add(l),l.setStyle(r.itemStyle);var c=r.iconRotate==="inherit"?o:r.iconRotate||0;return l.rotation=c*Math.PI/180,l.setOrigin([r.itemWidth/2,r.itemHeight/2]),s.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),n},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(os);const YQ=WQ;function vb(t,e){var r=t.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var i=ac(t,e,r[0]);return i!=null?i+"":null}else if(n){for(var a=[],o=0;o<r.length;o++)a.push(ac(t,e,r[o]));return a.join(" ")}}function bR(t,e){var r=t.mapDimensionsAll("defaultedLabel");if(!je(e))return e+"";for(var n=[],i=0;i<r.length;i++){var a=t.getDimensionIndex(r[i]);a>=0&&n.push(e[a])}return n.join(" ")}var XQ=function(t){Me(e,t);function e(r,n,i,a){var o=t.call(this)||this;return o.updateData(r,n,i,a),o}return e.prototype._createSymbol=function(r,n,i,a,o){this.removeAll();var s=oc(r,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),s.drift=qQ,this._symbolType=r,this.add(s)},e.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){tc(this.childAt(0))},e.prototype.downplay=function(){rc(this.childAt(0))},e.prototype.setZ=function(r,n){var i=this.childAt(0);i.zlevel=r,i.z=n},e.prototype.setDraggable=function(r,n){var i=this.childAt(0);i.draggable=r,i.cursor=!n&&r?"move":i.cursor},e.prototype.updateData=function(r,n,i,a){this.silent=!1;var o=r.getItemVisual(n,"symbol")||"circle",s=r.hostModel,u=e.getSymbolSize(r,n),l=o!==this._symbolType,c=a&&a.disableAnimation;if(l){var h=r.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,r,n,u,h)}else{var f=this.childAt(0);f.silent=!1;var p={scaleX:u[0]/2,scaleY:u[1]/2};c?f.attr(p):Vr(f,p,s,n),N_(f)}if(this._updateCommon(r,n,u,i,a),l){var f=this.childAt(0);if(!c){var p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,hn(f,p,s,n)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(r,n,i,a,o){var s=this.childAt(0),u=r.hostModel,l,c,h,f,p,v,g,m,_;if(a&&(l=a.emphasisItemStyle,c=a.blurItemStyle,h=a.selectItemStyle,f=a.focus,p=a.blurScope,g=a.labelStatesModels,m=a.hoverScale,_=a.cursorStyle,v=a.emphasisDisabled),!a||r.hasItemOption){var b=a&&a.itemModel?a.itemModel:r.getItemModel(n),w=b.getModel("emphasis");l=w.getModel("itemStyle").getItemStyle(),h=b.getModel(["select","itemStyle"]).getItemStyle(),c=b.getModel(["blur","itemStyle"]).getItemStyle(),f=w.get("focus"),p=w.get("blurScope"),v=w.get("disabled"),g=zh(b),m=w.getShallow("scale"),_=b.getShallow("cursor")}var T=r.getItemVisual(n,"symbolRotate");s.attr("rotation",(T||0)*Math.PI/180||0);var k=hL(r.getItemVisual(n,"symbolOffset"),i);k&&(s.x=k[0],s.y=k[1]),_&&s.attr("cursor",_);var A=r.getItemVisual(n,"style"),D=A.fill;if(s instanceof Du){var O=s.style;s.useStyle(Oe({image:O.image,x:O.x,y:O.y,width:O.width,height:O.height},A))}else s.__isEmptyBrush?s.useStyle(Oe({},A)):s.useStyle(A),s.style.decal=null,s.setColor(D,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var F=r.getItemVisual(n,"liftZ"),$=this._z2;F!=null?$==null&&(this._z2=s.z2,s.z2+=F):$!=null&&(s.z2=$,this._z2=null);var B=o&&o.useNameLabel;Hh(s,g,{labelFetcher:u,labelDataIndex:n,defaultText:U,inheritColor:D,defaultOpacity:A.opacity});function U(z){return B?r.getName(z):vb(r,z)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var H=s.ensureState("emphasis");H.style=l,s.ensureState("select").style=h,s.ensureState("blur").style=c;var W=m==null||m===!0?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;H.scaleX=this._sizeX*W,H.scaleY=this._sizeY*W,this.setSymbolScale(1),dh(this,f,p,v)},e.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},e.prototype.fadeOut=function(r,n,i){var a=this.childAt(0),o=Ut(this).dataIndex,s=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var u=a.getTextContent();u&&hv(u,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();hv(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:r,removeOpt:s})},e.getSymbolSize=function(r,n){return kK(r.getItemVisual(n,"symbolSize"))},e}(Mr);function qQ(t,e){this.parent.drift(t,e)}const gb=XQ;function uy(t,e,r,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(r))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&t.getItemVisual(r,"symbol")!=="none"}function NT(t){return t!=null&&!nt(t)&&(t={isIgnore:t}),t||{}}function FT(t){var e=t.hostModel,r=e.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:zh(e),cursorStyle:e.get("cursor")}}var KQ=function(){function t(e){this.group=new Mr,this._SymbolCtor=e||gb}return t.prototype.updateData=function(e,r){this._progressiveEls=null,r=NT(r);var n=this.group,i=e.hostModel,a=this._data,o=this._SymbolCtor,s=r.disableAnimation,u=FT(e),l={disableAnimation:s},c=r.getSymbolPoint||function(h){return e.getItemLayout(h)};a||n.removeAll(),e.diff(a).add(function(h){var f=c(h);if(uy(e,f,h,r)){var p=new o(e,h,u,l);p.setPosition(f),e.setItemGraphicEl(h,p),n.add(p)}}).update(function(h,f){var p=a.getItemGraphicEl(f),v=c(h);if(!uy(e,v,h,r)){n.remove(p);return}var g=e.getItemVisual(h,"symbol")||"circle",m=p&&p.getSymbolType&&p.getSymbolType();if(!p||m&&m!==g)n.remove(p),p=new o(e,h,u,l),p.setPosition(v);else{p.updateData(e,h,u,l);var _={x:v[0],y:v[1]};s?p.attr(_):Vr(p,_,i)}n.add(p),e.setItemGraphicEl(h,p)}).remove(function(h){var f=a.getItemGraphicEl(h);f&&f.fadeOut(function(){n.remove(f)},i)}).execute(),this._getSymbolPoint=c,this._data=e},t.prototype.updateLayout=function(){var e=this,r=this._data;r&&r.eachItemGraphicEl(function(n,i){var a=e._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=FT(e),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,r,n){this._progressiveEls=[],n=NT(n);function i(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var o=r.getItemLayout(a);if(uy(r,o,a,n)){var s=new this._SymbolCtor(r,a,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),r.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},t.prototype.eachRendered=function(e){cg(this._progressiveEls||this.group,e)},t.prototype.remove=function(e){var r=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(i){i.fadeOut(function(){r.remove(i)},n.hostModel)}):r.removeAll()},t}();const ZQ=KQ;function xR(t,e,r){var n=t.getBaseAxis(),i=t.getOtherAxis(n),a=QQ(i,r),o=n.dim,s=i.dim,u=e.mapDimension(s),l=e.mapDimension(o),c=s==="x"||s==="radius"?1:0,h=qe(t.dimensions,function(v){return e.mapDimension(v)}),f=!1,p=e.getCalculationInfo("stackResultDimension");return bu(e,h[0])&&(f=!0,h[0]=p),bu(e,h[1])&&(f=!0,h[1]=p),{dataDimsForPoint:h,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!f,valueDim:u,baseDim:l,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function QQ(t,e){var r=0,n=t.scale.getExtent();return e==="start"?r=n[0]:e==="end"?r=n[1]:Yt(e)&&!isNaN(e)?r=e:n[0]>0?r=n[0]:n[1]<0&&(r=n[1]),r}function SR(t,e,r,n){var i=NaN;t.stacked&&(i=r.get(r.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=t.valueStart);var a=t.baseDataOffset,o=[];return o[a]=r.get(t.baseDim,n),o[1-a]=i,e.dataToPoint(o)}function JQ(t,e){var r=[];return e.diff(t).add(function(n){r.push({cmd:"+",idx:n})}).update(function(n,i){r.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){r.push({cmd:"-",idx:n})}).execute(),r}function eJ(t,e,r,n,i,a,o,s){for(var u=JQ(t,e),l=[],c=[],h=[],f=[],p=[],v=[],g=[],m=xR(i,e,o),_=t.getLayout("points")||[],b=e.getLayout("points")||[],w=0;w<u.length;w++){var T=u[w],k=!0,A=void 0,D=void 0;switch(T.cmd){case"=":A=T.idx*2,D=T.idx1*2;var O=_[A],F=_[A+1],$=b[D],B=b[D+1];(isNaN(O)||isNaN(F))&&(O=$,F=B),l.push(O,F),c.push($,B),h.push(r[A],r[A+1]),f.push(n[D],n[D+1]),g.push(e.getRawIndex(T.idx1));break;case"+":var U=T.idx,H=m.dataDimsForPoint,W=i.dataToPoint([e.get(H[0],U),e.get(H[1],U)]);D=U*2,l.push(W[0],W[1]),c.push(b[D],b[D+1]);var z=SR(m,i,e,U);h.push(z[0],z[1]),f.push(n[D],n[D+1]),g.push(e.getRawIndex(U));break;case"-":k=!1}k&&(p.push(T),v.push(v.length))}v.sort(function(Le,Fe){return g[Le]-g[Fe]});for(var G=l.length,Y=to(G),Q=to(G),J=to(G),ae=to(G),he=[],w=0;w<v.length;w++){var pe=v[w],Se=w*2,we=pe*2;Y[Se]=l[we],Y[Se+1]=l[we+1],Q[Se]=c[we],Q[Se+1]=c[we+1],J[Se]=h[we],J[Se+1]=h[we+1],ae[Se]=f[we],ae[Se+1]=f[we+1],he[w]=p[pe]}return{current:Y,next:Q,stackedOnCurrent:J,stackedOnNext:ae,status:he}}var Ro=Math.min,Oo=Math.max;function fu(t,e){return isNaN(t)||isNaN(e)}function a1(t,e,r,n,i,a,o,s,u){for(var l,c,h,f,p,v,g=r,m=0;m<n;m++){var _=e[g*2],b=e[g*2+1];if(g>=i||g<0)break;if(fu(_,b)){if(u){g+=a;continue}break}if(g===r)t[a>0?"moveTo":"lineTo"](_,b),h=_,f=b;else{var w=_-l,T=b-c;if(w*w+T*T<.5){g+=a;continue}if(o>0){for(var k=g+a,A=e[k*2],D=e[k*2+1];A===_&&D===b&&m<n;)m++,k+=a,g+=a,A=e[k*2],D=e[k*2+1],_=e[g*2],b=e[g*2+1],w=_-l,T=b-c;var O=m+1;if(u)for(;fu(A,D)&&O<n;)O++,k+=a,A=e[k*2],D=e[k*2+1];var F=.5,$=0,B=0,U=void 0,H=void 0;if(O>=n||fu(A,D))p=_,v=b;else{$=A-l,B=D-c;var W=_-l,z=A-_,G=b-c,Y=D-b,Q=void 0,J=void 0;if(s==="x"){Q=Math.abs(W),J=Math.abs(z);var ae=$>0?1:-1;p=_-ae*Q*o,v=b,U=_+ae*J*o,H=b}else if(s==="y"){Q=Math.abs(G),J=Math.abs(Y);var he=B>0?1:-1;p=_,v=b-he*Q*o,U=_,H=b+he*J*o}else Q=Math.sqrt(W*W+G*G),J=Math.sqrt(z*z+Y*Y),F=J/(J+Q),p=_-$*o*(1-F),v=b-B*o*(1-F),U=_+$*o*F,H=b+B*o*F,U=Ro(U,Oo(A,_)),H=Ro(H,Oo(D,b)),U=Oo(U,Ro(A,_)),H=Oo(H,Ro(D,b)),$=U-_,B=H-b,p=_-$*Q/J,v=b-B*Q/J,p=Ro(p,Oo(l,_)),v=Ro(v,Oo(c,b)),p=Oo(p,Ro(l,_)),v=Oo(v,Ro(c,b)),$=_-p,B=b-v,U=_+$*J/Q,H=b+B*J/Q}t.bezierCurveTo(h,f,p,v,_,b),h=U,f=H}else t.lineTo(_,b)}l=_,c=b,g+=a}return m}var wR=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),tJ=function(t){Me(e,t);function e(r){var n=t.call(this,r)||this;return n.type="ec-polyline",n}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new wR},e.prototype.buildPath=function(r,n){var i=n.points,a=0,o=i.length/2;if(n.connectNulls){for(;o>0&&fu(i[o*2-2],i[o*2-1]);o--);for(;a<o&&fu(i[a*2],i[a*2+1]);a++);}for(;a<o;)a+=a1(r,i,a,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},e.prototype.getPointOn=function(r,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,o=so.CMD,s,u,l=n==="x",c=[],h=0;h<a.length;){var f=a[h++],p=void 0,v=void 0,g=void 0,m=void 0,_=void 0,b=void 0,w=void 0;switch(f){case o.M:s=a[h++],u=a[h++];break;case o.L:if(p=a[h++],v=a[h++],w=l?(r-s)/(p-s):(r-u)/(v-u),w<=1&&w>=0){var T=l?(v-u)*w+u:(p-s)*w+s;return l?[r,T]:[T,r]}s=p,u=v;break;case o.C:p=a[h++],v=a[h++],g=a[h++],m=a[h++],_=a[h++],b=a[h++];var k=l?nv(s,p,g,_,r,c):nv(u,v,m,b,r,c);if(k>0)for(var A=0;A<k;A++){var D=c[A];if(D<=1&&D>=0){var T=l?Br(u,v,m,b,D):Br(s,p,g,_,D);return l?[r,T]:[T,r]}}s=_,u=b;break}}},e}(Lt),rJ=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(wR),nJ=function(t){Me(e,t);function e(r){var n=t.call(this,r)||this;return n.type="ec-polygon",n}return e.prototype.getDefaultShape=function(){return new rJ},e.prototype.buildPath=function(r,n){var i=n.points,a=n.stackedOnPoints,o=0,s=i.length/2,u=n.smoothMonotone;if(n.connectNulls){for(;s>0&&fu(i[s*2-2],i[s*2-1]);s--);for(;o<s&&fu(i[o*2],i[o*2+1]);o++);}for(;o<s;){var l=a1(r,i,o,s,s,1,n.smooth,u,n.connectNulls);a1(r,a,o+l-1,l,s,-1,n.stackedOnSmooth,u,n.connectNulls),o+=l+1,r.closePath()}},e}(Lt);function TR(t,e,r,n,i){var a=t.getArea(),o=a.x,s=a.y,u=a.width,l=a.height,c=r.get(["lineStyle","width"])||2;o-=c/2,s-=c/2,u+=c,l+=c,o=Math.floor(o),u=Math.round(u);var h=new Sr({shape:{x:o,y:s,width:u,height:l}});if(e){var f=t.getBaseAxis(),p=f.isHorizontal(),v=f.inverse;p?(v&&(h.shape.x+=u),h.shape.width=0):(v||(h.shape.y+=l),h.shape.height=0);var g=ft(i)?function(m){i(m,h)}:null;hn(h,{shape:{width:u,height:l,x:o,y:s}},r,null,n,g)}return h}function CR(t,e,r){var n=t.getArea(),i=Dr(n.r0,1),a=Dr(n.r,1),o=new zi({shape:{cx:Dr(t.cx,1),cy:Dr(t.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var s=t.getBaseAxis().dim==="angle";s?o.shape.endAngle=n.startAngle:o.shape.r=i,hn(o,{shape:{endAngle:n.endAngle,r:a}},r)}return o}function iJ(t,e,r,n,i){if(t){if(t.type==="polar")return CR(t,e,r);if(t.type==="cartesian2d")return TR(t,e,r,n,i)}else return null;return null}function mb(t,e){return t.type===e}function $T(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return;return!0}}function HT(t){for(var e=1/0,r=1/0,n=-1/0,i=-1/0,a=0;a<t.length;){var o=t[a++],s=t[a++];isNaN(o)||(e=Math.min(o,e),n=Math.max(o,n)),isNaN(s)||(r=Math.min(s,r),i=Math.max(s,i))}return[[e,r],[n,i]]}function zT(t,e){var r=HT(t),n=r[0],i=r[1],a=HT(e),o=a[0],s=a[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function UT(t){return Yt(t)?t:t?.5:0}function aJ(t,e,r){if(!r.valueDim)return[];for(var n=e.count(),i=to(n*2),a=0;a<n;a++){var o=SR(r,t,e,a);i[a*2]=o[0],i[a*2+1]=o[1]}return i}function Io(t,e,r,n){var i=e.getBaseAxis(),a=i.dim==="x"||i.dim==="radius"?0:1,o=[],s=0,u=[],l=[],c=[],h=[];if(n){for(s=0;s<t.length;s+=2)!isNaN(t[s])&&!isNaN(t[s+1])&&h.push(t[s],t[s+1]);t=h}for(s=0;s<t.length-2;s+=2)switch(c[0]=t[s+2],c[1]=t[s+3],l[0]=t[s],l[1]=t[s+1],o.push(l[0],l[1]),r){case"end":u[a]=c[a],u[1-a]=l[1-a],o.push(u[0],u[1]);break;case"middle":var f=(l[a]+c[a])/2,p=[];u[a]=p[a]=f,u[1-a]=l[1-a],p[1-a]=c[1-a],o.push(u[0],u[1]),o.push(p[0],p[1]);break;default:u[a]=l[a],u[1-a]=c[1-a],o.push(u[0],u[1])}return o.push(t[s++],t[s++]),o}function oJ(t,e){var r=[],n=t.length,i,a;function o(c,h,f){var p=c.coord,v=(f-p)/(h.coord-p),g=LG(v,[c.color,h.color]);return{coord:f,color:g}}for(var s=0;s<n;s++){var u=t[s],l=u.coord;if(l<0)i=u;else if(l>e){a?r.push(o(a,u,e)):i&&r.push(o(i,u,0),o(i,u,e));break}else i&&(r.push(o(i,u,0)),i=null),r.push(u),a=u}return r}function sJ(t,e,r){var n=t.getVisual("visualMeta");if(!(!n||!n.length||!t.count())&&e.type==="cartesian2d"){for(var i,a,o=n.length-1;o>=0;o--){var s=t.getDimensionInfo(n[o].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){a=n[o];break}}if(a){var u=e.getAxis(i),l=qe(a.stops,function(w){return{coord:u.toGlobalCoord(u.dataToCoord(w.value)),color:w.color}}),c=l.length,h=a.outerColors.slice();c&&l[0].coord>l[c-1].coord&&(l.reverse(),h.reverse());var f=oJ(l,i==="x"?r.getWidth():r.getHeight()),p=f.length;if(!p&&c)return l[0].coord<0?h[1]?h[1]:l[c-1].color:h[0]?h[0]:l[0].color;var v=10,g=f[0].coord-v,m=f[p-1].coord+v,_=m-g;if(_<.001)return"transparent";Z(f,function(w){w.offset=(w.coord-g)/_}),f.push({offset:p?f[p-1].offset:.5,color:h[1]||"transparent"}),f.unshift({offset:p?f[0].offset:.5,color:h[0]||"transparent"});var b=new rM(0,0,0,0,f,!0);return b[i]=g,b[i+"2"]=m,b}}}function uJ(t,e,r){var n=t.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var a=r.getAxesByScale("ordinal")[0];if(a&&!(i&&lJ(a,e))){var o=e.mapDimension(a.dim),s={};return Z(a.getViewLabels(),function(u){var l=a.scale.getRawOrdinalNumber(u.tickValue);s[l]=1}),function(u){return!s.hasOwnProperty(e.get(o,u))}}}}function lJ(t,e){var r=t.getExtent(),n=Math.abs(r[1]-r[0])/t.scale.count();isNaN(n)&&(n=0);for(var i=e.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(gb.getSymbolSize(e,o)[t.isHorizontal()?1:0]*1.5>n)return!1;return!0}function cJ(t,e){return isNaN(t)||isNaN(e)}function fJ(t){for(var e=t.length/2;e>0&&cJ(t[e*2-2],t[e*2-1]);e--);return e-1}function VT(t,e){return[t[e*2],t[e*2+1]]}function hJ(t,e,r){for(var n=t.length/2,i=r==="x"?0:1,a,o,s=0,u=-1,l=0;l<n;l++)if(o=t[l*2+i],!(isNaN(o)||isNaN(t[l*2+1-i]))){if(l===0){a=o;continue}if(a<=e&&o>=e||a>=e&&o<=e){u=l;break}s=l,a=o}return{range:[s,u],t:(e-a)/(o-a)}}function AR(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<bi.length;e++)if(t.get([bi[e],"endLabel","show"]))return!0;return!1}function ly(t,e,r,n){if(mb(e,"cartesian2d")){var i=n.getModel("endLabel"),a=i.get("valueAnimation"),o=n.getData(),s={lastFrameIndex:0},u=AR(n)?function(p,v){t._endLabelOnDuring(p,v,o,s,a,i,e)}:null,l=e.getBaseAxis().isHorizontal(),c=TR(e,r,n,function(){var p=t._endLabel;p&&r&&s.originalX!=null&&p.attr({x:s.originalX,y:s.originalY})},u);if(!n.get("clip",!0)){var h=c.shape,f=Math.max(h.width,h.height);l?(h.y-=f,h.height+=f*2):(h.x-=f,h.width+=f*2)}return u&&u(1,c),c}else return CR(e,r,n)}function dJ(t,e){var r=e.getBaseAxis(),n=r.isHorizontal(),i=r.inverse,a=n?i?"right":"left":"center",o=n?"middle":i?"top":"bottom";return{normal:{align:t.get("align")||a,verticalAlign:t.get("verticalAlign")||o}}}var pJ=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(){var r=new Mr,n=new ZQ;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=r},e.prototype.render=function(r,n,i){var a=this,o=r.coordinateSystem,s=this.group,u=r.getData(),l=r.getModel("lineStyle"),c=r.getModel("areaStyle"),h=u.getLayout("points")||[],f=o.type==="polar",p=this._coordSys,v=this._symbolDraw,g=this._polyline,m=this._polygon,_=this._lineGroup,b=!n.ssr&&r.isAnimationEnabled(),w=!c.isEmpty(),T=c.get("origin"),k=xR(o,u,T),A=w&&aJ(o,u,k),D=r.get("showSymbol"),O=r.get("connectNulls"),F=D&&!f&&uJ(r,u,o),$=this._data;$&&$.eachItemGraphicEl(function(Fe,se){Fe.__temp&&(s.remove(Fe),$.setItemGraphicEl(se,null))}),D||v.remove(),s.add(_);var B=f?!1:r.get("step"),U;o&&o.getArea&&r.get("clip",!0)&&(U=o.getArea(),U.width!=null?(U.x-=.1,U.y-=.1,U.width+=.2,U.height+=.2):U.r0&&(U.r0-=.5,U.r+=.5)),this._clipShapeForSymbol=U;var H=sJ(u,o,i)||u.getVisual("style")[u.getVisual("drawType")];if(!(g&&p.type===o.type&&B===this._step))D&&v.updateData(u,{isIgnore:F,clipShape:U,disableAnimation:!0,getSymbolPoint:function(Fe){return[h[Fe*2],h[Fe*2+1]]}}),b&&this._initSymbolLabelAnimation(u,o,U),B&&(h=Io(h,o,B,O),A&&(A=Io(A,o,B,O))),g=this._newPolyline(h),w?m=this._newPolygon(h,A):m&&(_.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(r,o,_u(H)),_.setClipPath(ly(this,o,!0,r));else{w&&!m?m=this._newPolygon(h,A):m&&!w&&(_.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(r,o,_u(H));var W=_.getClipPath();if(W){var z=ly(this,o,!1,r);hn(W,{shape:z.shape},r)}else _.setClipPath(ly(this,o,!0,r));D&&v.updateData(u,{isIgnore:F,clipShape:U,disableAnimation:!0,getSymbolPoint:function(Fe){return[h[Fe*2],h[Fe*2+1]]}}),(!$T(this._stackedOnPoints,A)||!$T(this._points,h))&&(b?this._doUpdateAnimation(u,A,o,i,B,T,O):(B&&(h=Io(h,o,B,O),A&&(A=Io(A,o,B,O))),g.setShape({points:h}),m&&m.setShape({points:h,stackedOnPoints:A})))}var G=r.getModel("emphasis"),Y=G.get("focus"),Q=G.get("blurScope"),J=G.get("disabled");if(g.useStyle(lt(l.getLineStyle(),{fill:"none",stroke:H,lineJoin:"bevel"})),cv(g,r,"lineStyle"),g.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var ae=g.getState("emphasis").style;ae.lineWidth=+g.style.lineWidth+1}Ut(g).seriesIndex=r.seriesIndex,dh(g,Y,Q,J);var he=UT(r.get("smooth")),pe=r.get("smoothMonotone");if(g.setShape({smooth:he,smoothMonotone:pe,connectNulls:O}),m){var Se=u.getCalculationInfo("stackedOnSeries"),we=0;m.useStyle(lt(c.getAreaStyle(),{fill:H,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),Se&&(we=UT(Se.get("smooth"))),m.setShape({smooth:he,stackedOnSmooth:we,smoothMonotone:pe,connectNulls:O}),cv(m,r,"areaStyle"),Ut(m).seriesIndex=r.seriesIndex,dh(m,Y,Q,J)}var Le=function(Fe){a._changePolyState(Fe)};u.eachItemGraphicEl(function(Fe){Fe&&(Fe.onHoverStateChange=Le)}),this._polyline.onHoverStateChange=Le,this._data=u,this._coordSys=o,this._stackedOnPoints=A,this._points=h,this._step=B,this._valueOrigin=T,r.get("triggerLineEvent")&&(this.packEventData(r,g),m&&this.packEventData(r,m))},e.prototype.packEventData=function(r,n){Ut(n).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},e.prototype.highlight=function(r,n,i,a){var o=r.getData(),s=yu(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var u=o.getLayout("points"),l=o.getItemGraphicEl(s);if(!l){var c=u[s*2],h=u[s*2+1];if(isNaN(c)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,h))return;var f=r.get("zlevel")||0,p=r.get("z")||0;l=new gb(o,s),l.x=c,l.y=h,l.setZ(f,p);var v=l.getSymbolPath().getTextContent();v&&(v.zlevel=f,v.z=p,v.z2=this._polyline.z2+1),l.__temp=!0,o.setItemGraphicEl(s,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else wa.prototype.highlight.call(this,r,n,i,a)},e.prototype.downplay=function(r,n,i,a){var o=r.getData(),s=yu(o,a);if(this._changePolyState("normal"),s!=null&&s>=0){var u=o.getItemGraphicEl(s);u&&(u.__temp?(o.setItemGraphicEl(s,null),this.group.remove(u)):u.downplay())}else wa.prototype.downplay.call(this,r,n,i,a)},e.prototype._changePolyState=function(r){var n=this._polygon;Zw(this._polyline,r),n&&Zw(n,r)},e.prototype._newPolyline=function(r){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new tJ({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},e.prototype._newPolygon=function(r,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new nJ({shape:{points:r,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(r,n,i){var a,o,s=n.getBaseAxis(),u=s.inverse;n.type==="cartesian2d"?(a=s.isHorizontal(),o=!1):n.type==="polar"&&(a=s.dim==="angle",o=!0);var l=r.hostModel,c=l.get("animationDuration");ft(c)&&(c=c(null));var h=l.get("animationDelay")||0,f=ft(h)?h(null):h;r.eachItemGraphicEl(function(p,v){var g=p;if(g){var m=[p.x,p.y],_=void 0,b=void 0,w=void 0;if(i)if(o){var T=i,k=n.pointToCoord(m);a?(_=T.startAngle,b=T.endAngle,w=-k[1]/180*Math.PI):(_=T.r0,b=T.r,w=k[0])}else{var A=i;a?(_=A.x,b=A.x+A.width,w=p.x):(_=A.y+A.height,b=A.y,w=p.y)}var D=b===_?0:(w-_)/(b-_);u&&(D=1-D);var O=ft(h)?h(v):c*D+f,F=g.getSymbolPath(),$=F.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:O}),$&&$.animateFrom({style:{opacity:0}},{duration:300,delay:O}),F.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(r,n,i){var a=r.getModel("endLabel");if(AR(r)){var o=r.getData(),s=this._polyline,u=o.getLayout("points");if(!u){s.removeTextContent(),this._endLabel=null;return}var l=this._endLabel;l||(l=this._endLabel=new $r({z2:200}),l.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=fJ(u);c>=0&&(Hh(s,zh(r,"endLabel"),{inheritColor:i,labelFetcher:r,labelDataIndex:c,defaultText:function(h,f,p){return p!=null?bR(o,p):vb(o,h)},enableTextSetter:!0},dJ(a,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(r,n,i,a,o,s,u){var l=this._endLabel,c=this._polyline;if(l){r<1&&a.originalX==null&&(a.originalX=l.x,a.originalY=l.y);var h=i.getLayout("points"),f=i.hostModel,p=f.get("connectNulls"),v=s.get("precision"),g=s.get("distance")||0,m=u.getBaseAxis(),_=m.isHorizontal(),b=m.inverse,w=n.shape,T=b?_?w.x:w.y+w.height:_?w.x+w.width:w.y,k=(_?g:0)*(b?-1:1),A=(_?0:-g)*(b?-1:1),D=_?"x":"y",O=hJ(h,T,D),F=O.range,$=F[1]-F[0],B=void 0;if($>=1){if($>1&&!p){var U=VT(h,F[0]);l.attr({x:U[0]+k,y:U[1]+A}),o&&(B=f.getRawValue(F[0]))}else{var U=c.getPointOn(T,D);U&&l.attr({x:U[0]+k,y:U[1]+A});var H=f.getRawValue(F[0]),W=f.getRawValue(F[1]);o&&(B=hD(i,v,H,W,O.t))}a.lastFrameIndex=F[0]}else{var z=r===1||a.lastFrameIndex>0?F[0]:0,U=VT(h,z);o&&(B=f.getRawValue(z)),l.attr({x:U[0]+k,y:U[1]+A})}o&&bc(l).setLabelText(B)}},e.prototype._doUpdateAnimation=function(r,n,i,a,o,s,u){var l=this._polyline,c=this._polygon,h=r.hostModel,f=eJ(this._data,r,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),p=f.current,v=f.stackedOnCurrent,g=f.next,m=f.stackedOnNext;if(o&&(p=Io(f.current,i,o,u),v=Io(f.stackedOnCurrent,i,o,u),g=Io(f.next,i,o,u),m=Io(f.stackedOnNext,i,o,u)),zT(p,g)>3e3||c&&zT(v,m)>3e3){l.stopAnimation(),l.setShape({points:g}),c&&(c.stopAnimation(),c.setShape({points:g,stackedOnPoints:m}));return}l.shape.__points=f.current,l.shape.points=p;var _={shape:{points:g}};f.current!==p&&(_.shape.__points=f.next),l.stopAnimation(),Vr(l,_,h),c&&(c.setShape({points:p,stackedOnPoints:v}),c.stopAnimation(),Vr(c,{shape:{stackedOnPoints:m}},h),l.shape.points!==c.shape.points&&(c.shape.points=l.shape.points));for(var b=[],w=f.status,T=0;T<w.length;T++){var k=w[T].cmd;if(k==="="){var A=r.getItemGraphicEl(w[T].idx1);A&&b.push({el:A,ptIdx:T})}}l.animators&&l.animators.length&&l.animators[0].during(function(){c&&c.dirtyShape();for(var D=l.shape.__points,O=0;O<b.length;O++){var F=b[O].el,$=b[O].ptIdx*2;F.x=D[$],F.y=D[$+1],F.markRedraw()}})},e.prototype.remove=function(r){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,o){a.__temp&&(n.remove(a),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(wa);const vJ=pJ;function gJ(t,e){return{seriesType:t,plan:tb(),reset:function(r){var n=r.getData(),i=r.coordinateSystem,a=r.pipelineContext,o=e||a.large;if(i){var s=qe(i.dimensions,function(p){return n.mapDimension(p)}).slice(0,2),u=s.length,l=n.getCalculationInfo("stackResultDimension");bu(n,s[0])&&(s[0]=l),bu(n,s[1])&&(s[1]=l);var c=n.getStore(),h=n.getDimensionIndex(s[0]),f=n.getDimensionIndex(s[1]);return u&&{progress:function(p,v){for(var g=p.end-p.start,m=o&&to(g*u),_=[],b=[],w=p.start,T=0;w<p.end;w++){var k=void 0;if(u===1){var A=c.get(h,w);k=i.dataToPoint(A,null,b)}else _[0]=c.get(h,w),_[1]=c.get(f,w),k=i.dataToPoint(_,null,b);o?(m[T++]=k[0],m[T++]=k[1]):v.setItemLayout(w,k.slice())}o&&v.setLayout("points",m)}}}}}}var mJ={average:function(t){for(var e=0,r=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],r++);return r===0?NaN:e/r},sum:function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r]||0;return e},max:function(t){for(var e=-1/0,r=0;r<t.length;r++)t[r]>e&&(e=t[r]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,r=0;r<t.length;r++)t[r]<e&&(e=t[r]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},yJ=function(t){return Math.round(t.length/2)};function kR(t){return{seriesType:t,reset:function(e,r,n){var i=e.getData(),a=e.get("sampling"),o=e.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&a){var u=o.getBaseAxis(),l=o.getOtherAxis(u),c=u.getExtent(),h=n.getDevicePixelRatio(),f=Math.abs(c[1]-c[0])*(h||1),p=Math.round(s/f);if(isFinite(p)&&p>1){a==="lttb"&&e.setData(i.lttbDownSample(i.mapDimension(l.dim),1/p));var v=void 0;Je(a)?v=mJ[a]:ft(a)&&(v=a),v&&e.setData(i.downSample(i.mapDimension(l.dim),1/p,v,yJ))}}}}}function Rae(t){t.registerChartView(vJ),t.registerSeriesModel(YQ),t.registerLayout(gJ("line",!0)),t.registerVisual({seriesType:"line",reset:function(e){var r=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",n)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,kR("line"))}var ER=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getInitialData=function(r,n){return lb(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(r,n,i){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(r),s=a.dataToPoint(o);if(i)Z(a.getAxes(),function(f,p){if(f.type==="category"&&n!=null){var v=f.getTicksCoords(),g=o[p],m=n[p]==="x1"||n[p]==="y1";if(m&&(g+=1),v.length<2)return;if(v.length===2){s[p]=f.toGlobalCoord(f.getExtent()[m?1:0]);return}for(var _=void 0,b=void 0,w=1,T=0;T<v.length;T++){var k=v[T].coord,A=T===v.length-1?v[T-1].tickValue+w:v[T].tickValue;if(A===g){b=k;break}else if(A<g)_=k;else if(_!=null&&A>g){b=(k+_)/2;break}T===1&&(w=A-v[0].tickValue)}b==null&&(_?_&&(b=v[v.length-1].coord):b=v[0].coord),s[p]=f.toGlobalCoord(b)}});else{var u=this.getData(),l=u.getLayout("offset"),c=u.getLayout("size"),h=a.getBaseAxis().isHorizontal()?0:1;s[h]+=l+c/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(os);os.registerClass(ER);const GT=ER;var _J=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getInitialData=function(){return lb(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>r&&(r=n),r},e.prototype.brushSelector=function(r,n,i){return i.rect(n.getItemLayout(r))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=dM(GT.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(GT);const bJ=_J;var xJ=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),SJ=function(t){Me(e,t);function e(r){var n=t.call(this,r)||this;return n.type="sausage",n}return e.prototype.getDefaultShape=function(){return new xJ},e.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,o=Math.max(n.r0||0,0),s=Math.max(n.r,0),u=(s-o)*.5,l=o+u,c=n.startAngle,h=n.endAngle,f=n.clockwise,p=Math.PI*2,v=f?h-c<p:c-h<p;v||(c=h-(f?p:-p));var g=Math.cos(c),m=Math.sin(c),_=Math.cos(h),b=Math.sin(h);v?(r.moveTo(g*o+i,m*o+a),r.arc(g*l+i,m*l+a,u,-Math.PI+c,c,!f)):r.moveTo(g*s+i,m*s+a),r.arc(i,a,s,c,h,!f),r.arc(_*l+i,b*l+a,u,h-Math.PI*2,h-Math.PI,!f),o!==0&&r.arc(i,a,o,h,c,f)},e}(Lt);const jT=SJ;function wJ(t,e){e=e||{};var r=e.isRoundCap;return function(n,i,a){var o=i.position;if(!o||o instanceof Array)return sv(n,i,a);var s=t(o),u=i.distance!=null?i.distance:5,l=this.shape,c=l.cx,h=l.cy,f=l.r,p=l.r0,v=(f+p)/2,g=l.startAngle,m=l.endAngle,_=(g+m)/2,b=r?Math.abs(f-p)/2:0,w=Math.cos,T=Math.sin,k=c+f*w(g),A=h+f*T(g),D="left",O="top";switch(s){case"startArc":k=c+(p-u)*w(_),A=h+(p-u)*T(_),D="center",O="top";break;case"insideStartArc":k=c+(p+u)*w(_),A=h+(p+u)*T(_),D="center",O="bottom";break;case"startAngle":k=c+v*w(g)+np(g,u+b,!1),A=h+v*T(g)+ip(g,u+b,!1),D="right",O="middle";break;case"insideStartAngle":k=c+v*w(g)+np(g,-u+b,!1),A=h+v*T(g)+ip(g,-u+b,!1),D="left",O="middle";break;case"middle":k=c+v*w(_),A=h+v*T(_),D="center",O="middle";break;case"endArc":k=c+(f+u)*w(_),A=h+(f+u)*T(_),D="center",O="bottom";break;case"insideEndArc":k=c+(f-u)*w(_),A=h+(f-u)*T(_),D="center",O="top";break;case"endAngle":k=c+v*w(m)+np(m,u+b,!0),A=h+v*T(m)+ip(m,u+b,!0),D="left",O="middle";break;case"insideEndAngle":k=c+v*w(m)+np(m,-u+b,!0),A=h+v*T(m)+ip(m,-u+b,!0),D="right",O="middle";break;default:return sv(n,i,a)}return n=n||{},n.x=k,n.y=A,n.align=D,n.verticalAlign=O,n}}function TJ(t,e,r,n){if(Yt(n)){t.setTextConfig({rotation:n});return}else if(je(e)){t.setTextConfig({rotation:0});return}var i=t.shape,a=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(a+o)/2,u,l=r(e);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=s;break;case"startAngle":case"insideStartAngle":u=a;break;case"endAngle":case"insideEndAngle":u=o;break;default:t.setTextConfig({rotation:0});return}var c=Math.PI*1.5-u;l==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),t.setTextConfig({rotation:c})}function np(t,e,r){return e*Math.sin(t)*(r?-1:1)}function ip(t,e,r){return e*Math.cos(t)*(r?1:-1)}function Cf(t,e,r){var n=t.get("borderRadius");if(n==null)return r?{cornerRadius:0}:null;je(n)||(n=[n,n,n,n]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:qe(n,function(a){return ns(a,i)})}}var cy=Math.max,fy=Math.min;function CJ(t,e){var r=t.getArea&&t.getArea();if(mb(t,"cartesian2d")){var n=t.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=e.getLayout("bandWidth");n.isHorizontal()?(r.x-=i,r.width+=i*2):(r.y-=i,r.height+=i*2)}}return r}var AJ=function(t){Me(e,t);function e(){var r=t.call(this)||this;return r.type=e.type,r._isFirstFrame=!0,r}return e.prototype.render=function(r,n,i,a){this._model=r,this._removeOnRenderedListener(i),this._updateDrawMode(r);var o=r.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,n,i):this._renderNormal(r,n,i,a))},e.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},e.prototype.incrementalRender=function(r,n){this._progressiveEls=[],this._incrementalRenderLarge(r,n)},e.prototype.eachRendered=function(r){cg(this._progressiveEls||this.group,r)},e.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(r,n,i,a){var o=this.group,s=r.getData(),u=this._data,l=r.coordinateSystem,c=l.getBaseAxis(),h;l.type==="cartesian2d"?h=c.isHorizontal():l.type==="polar"&&(h=c.dim==="angle");var f=r.isAnimationEnabled()?r:null,p=kJ(r,l);p&&this._enableRealtimeSort(p,s,i);var v=r.get("clip",!0)||p,g=CJ(l,s);o.removeClipPath();var m=r.get("roundCap",!0),_=r.get("showBackground",!0),b=r.getModel("backgroundStyle"),w=b.get("borderRadius")||0,T=[],k=this._backgroundEls,A=a&&a.isInitSort,D=a&&a.type==="changeAxisOrder";function O(B){var U=ap[l.type](s,B),H=OJ(l,h,U);return H.useStyle(b.getItemStyle()),l.type==="cartesian2d"?H.setShape("r",w):H.setShape("cornerRadius",w),T[B]=H,H}s.diff(u).add(function(B){var U=s.getItemModel(B),H=ap[l.type](s,B,U);if(_&&O(B),!(!s.hasValue(B)||!KT[l.type](H))){var W=!1;v&&(W=WT[l.type](g,H));var z=YT[l.type](r,s,B,H,h,f,c.model,!1,m);p&&(z.forceLabelAnimation=!0),ZT(z,s,B,U,H,r,h,l.type==="polar"),A?z.attr({shape:H}):p?XT(p,f,z,H,B,h,!1,!1):hn(z,{shape:H},r,B),s.setItemGraphicEl(B,z),o.add(z),z.ignore=W}}).update(function(B,U){var H=s.getItemModel(B),W=ap[l.type](s,B,H);if(_){var z=void 0;k.length===0?z=O(U):(z=k[U],z.useStyle(b.getItemStyle()),l.type==="cartesian2d"?z.setShape("r",w):z.setShape("cornerRadius",w),T[B]=z);var G=ap[l.type](s,B),Y=DR(h,G,l);Vr(z,{shape:Y},f,B)}var Q=u.getItemGraphicEl(U);if(!s.hasValue(B)||!KT[l.type](W)){o.remove(Q);return}var J=!1;if(v&&(J=WT[l.type](g,W),J&&o.remove(Q)),Q?N_(Q):Q=YT[l.type](r,s,B,W,h,f,c.model,!!Q,m),p&&(Q.forceLabelAnimation=!0),D){var ae=Q.getTextContent();if(ae){var he=bc(ae);he.prevValue!=null&&(he.prevValue=he.value)}}else ZT(Q,s,B,H,W,r,h,l.type==="polar");A?Q.attr({shape:W}):p?XT(p,f,Q,W,B,h,!0,D):Vr(Q,{shape:W},r,B,null),s.setItemGraphicEl(B,Q),Q.ignore=J,o.add(Q)}).remove(function(B){var U=u.getItemGraphicEl(B);U&&dv(U,r,B)}).execute();var F=this._backgroundGroup||(this._backgroundGroup=new Mr);F.removeAll();for(var $=0;$<T.length;++$)F.add(T[$]);o.add(F),this._backgroundEls=T,this._data=s},e.prototype._renderLarge=function(r,n,i){this._clear(),JT(r,this.group),this._updateLargeClip(r)},e.prototype._incrementalRenderLarge=function(r,n){this._removeBackground(),JT(n,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(r){var n=r.get("clip",!0)&&iJ(r.coordinateSystem,!1,r),i=this.group;n?i.setClipPath(n):i.removeClipPath()},e.prototype._enableRealtimeSort=function(r,n,i){var a=this;if(n.count()){var o=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,r,i),this._isFirstFrame=!1;else{var s=function(u){var l=n.getItemGraphicEl(u),c=l&&l.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(r,n,i){var a=[];return r.each(r.mapDimension(n.dim),function(o,s){var u=i(s);u=u??NaN,a.push({dataIndex:s,mappedValue:u,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:qe(a,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(r,n,i){for(var a=i.scale,o=r.mapDimension(i.dim),s=Number.MAX_VALUE,u=0,l=a.getOrdinalMeta().categories.length;u<l;++u){var c=r.rawIndexOf(o,a.getRawOrdinalNumber(u)),h=c<0?Number.MIN_VALUE:n(r.indexOfRawIndex(c));if(h>s)return!0;s=h}return!1},e.prototype._isOrderDifferentInView=function(r,n){for(var i=n.scale,a=i.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(r.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(r,n,i,a){if(this._isOrderChangedWithinSameData(r,n,i)){var o=this._dataSort(r,i,n);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(r,n,i){var a=n.baseAxis,o=this._dataSort(r,a,function(s){return r.get(r.mapDimension(n.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},e.prototype.remove=function(r,n){this._clear(this._model),this._removeOnRenderedListener(n)},e.prototype.dispose=function(r,n){this._removeOnRenderedListener(n)},e.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(r){var n=this.group,i=this._data;r&&r.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){dv(a,r,Ut(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(wa),WT={cartesian2d:function(t,e){var r=e.width<0?-1:1,n=e.height<0?-1:1;r<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var i=t.x+t.width,a=t.y+t.height,o=cy(e.x,t.x),s=fy(e.x+e.width,i),u=cy(e.y,t.y),l=fy(e.y+e.height,a),c=s<o,h=l<u;return e.x=c&&o>i?s:o,e.y=h&&u>a?l:u,e.width=c?0:s-o,e.height=h?0:l-u,r<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),c||h},polar:function(t,e){var r=e.r0<=e.r?1:-1;if(r<0){var n=e.r;e.r=e.r0,e.r0=n}var i=fy(e.r,t.r),a=cy(e.r0,t.r0);e.r=i,e.r0=a;var o=i-a<0;if(r<0){var n=e.r;e.r=e.r0,e.r0=n}return o}},YT={cartesian2d:function(t,e,r,n,i,a,o,s,u){var l=new Sr({shape:Oe({},n),z2:1});if(l.__dataIndex=r,l.name="item",a){var c=l.shape,h=i?"height":"width";c[h]=0}return l},polar:function(t,e,r,n,i,a,o,s,u){var l=!i&&u?jT:zi,c=new l({shape:n,z2:1});c.name="item";var h=PR(i);if(c.calculateTextPosition=wJ(h,{isRoundCap:l===jT}),a){var f=c.shape,p=i?"r":"endAngle",v={};f[p]=i?n.r0:n.startAngle,v[p]=n[p],(s?Vr:hn)(c,{shape:v},a)}return c}};function kJ(t,e){var r=t.get("realtimeSort",!0),n=e.getBaseAxis();if(r&&n.type==="category"&&e.type==="cartesian2d")return{baseAxis:n,otherAxis:e.getOtherAxis(n)}}function XT(t,e,r,n,i,a,o,s){var u,l;a?(l={x:n.x,width:n.width},u={y:n.y,height:n.height}):(l={y:n.y,height:n.height},u={x:n.x,width:n.width}),s||(o?Vr:hn)(r,{shape:u},e,i,null);var c=e?t.baseAxis.model:null;(o?Vr:hn)(r,{shape:l},c,i)}function qT(t,e){for(var r=0;r<e.length;r++)if(!isFinite(t[e[r]]))return!0;return!1}var EJ=["x","y","width","height"],PJ=["cx","cy","r","startAngle","endAngle"],KT={cartesian2d:function(t){return!qT(t,EJ)},polar:function(t){return!qT(t,PJ)}},ap={cartesian2d:function(t,e,r){var n=t.getItemLayout(e),i=r?MJ(r,n):0,a=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+a*i/2,y:n.y+o*i/2,width:n.width-a*i,height:n.height-o*i}},polar:function(t,e,r){var n=t.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function DJ(t){return t.startAngle!=null&&t.endAngle!=null&&t.startAngle===t.endAngle}function PR(t){return function(e){var r=e?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+r;default:return n}}}(t)}function ZT(t,e,r,n,i,a,o,s){var u=e.getItemVisual(r,"style");if(s){if(!a.get("roundCap")){var c=t.shape,h=Cf(n.getModel("itemStyle"),c,!0);Oe(c,h),t.setShape(c)}}else{var l=n.get(["itemStyle","borderRadius"])||0;t.setShape("r",l)}t.useStyle(u);var f=n.getShallow("cursor");f&&t.attr("cursor",f);var p=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",v=zh(n);Hh(t,v,{labelFetcher:a,labelDataIndex:r,defaultText:vb(a.getData(),r),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:p});var g=t.getTextContent();if(s&&g){var m=n.get(["label","position"]);t.textConfig.inside=m==="middle"?!0:null,TJ(t,m==="outside"?p:m,PR(o),n.get(["label","rotate"]))}qY(g,v,a.getRawValue(r),function(b){return bR(e,b)});var _=n.getModel(["emphasis"]);dh(t,_.get("focus"),_.get("blurScope"),_.get("disabled")),cv(t,n),DJ(i)&&(t.style.fill="none",t.style.stroke="none",Z(t.states,function(b){b.style&&(b.style.fill=b.style.stroke="none")}))}function MJ(t,e){var r=t.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var n=t.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,i,a)}var LJ=function(){function t(){}return t}(),QT=function(t){Me(e,t);function e(r){var n=t.call(this,r)||this;return n.type="largeBar",n}return e.prototype.getDefaultShape=function(){return new LJ},e.prototype.buildPath=function(r,n){for(var i=n.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],u=[],l=this.barWidth,c=0;c<i.length;c+=3)u[a]=l,u[o]=i[c+2],s[a]=i[c+a],s[o]=i[c+o],r.rect(s[0],s[1],u[0],u[1])},e}(Lt);function JT(t,e,r,n){var i=t.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),u=t.getModel("backgroundStyle"),l=i.getLayout("largeBackgroundPoints");if(l){var c=new QT({shape:{points:l},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=o,c.barWidth=s,c.useStyle(u.getItemStyle()),e.add(c),r&&r.push(c)}var h=new QT({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=a,h.largeDataIndices=o,h.barWidth=s,e.add(h),h.useStyle(i.getVisual("style")),Ut(h).seriesIndex=t.seriesIndex,t.get("silent")||(h.on("mousedown",eC),h.on("mousemove",eC)),r&&r.push(h)}var eC=nb(function(t){var e=this,r=RJ(e,t.offsetX,t.offsetY);Ut(e).dataIndex=r>=0?r:null},30,!1);function RJ(t,e,r){for(var n=t.baseDimIdx,i=1-n,a=t.shape.points,o=t.largeDataIndices,s=[],u=[],l=t.barWidth,c=0,h=a.length/3;c<h;c++){var f=c*3;if(u[n]=l,u[i]=a[f+2],s[n]=a[f+n],s[i]=a[f+i],u[i]<0&&(s[i]+=u[i],u[i]=-u[i]),e>=s[0]&&e<=s[0]+u[0]&&r>=s[1]&&r<=s[1]+u[1])return o[c]}return-1}function DR(t,e,r){if(mb(r,"cartesian2d")){var n=e,i=r.getArea();return{x:t?n.x:i.x,y:t?i.y:n.y,width:t?n.width:i.width,height:t?i.height:n.height}}else{var i=r.getArea(),a=e;return{cx:i.cx,cy:i.cy,r0:t?i.r0:a.r0,r:t?i.r:a.r,startAngle:t?a.startAngle:0,endAngle:t?a.endAngle:Math.PI*2}}}function OJ(t,e,r){var n=t.type==="polar"?zi:Sr;return new n({shape:DR(e,r,t),silent:!0,z2:0})}const IJ=AJ;function Oae(t){t.registerChartView(IJ),t.registerSeriesModel(bJ),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,zt(QZ,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,JZ("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,kR("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,r){var n=e.componentType||"series";r.eachComponent({mainType:n,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var op=Math.PI*2,tC=Math.PI/180;function MR(t,e){return as(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function LR(t,e){var r=MR(t,e),n=t.get("center"),i=t.get("radius");je(i)||(i=[0,i]);var a=$t(r.width,e.getWidth()),o=$t(r.height,e.getHeight()),s=Math.min(a,o),u=$t(i[0],s/2),l=$t(i[1],s/2),c,h,f=t.coordinateSystem;if(f){var p=f.dataToPoint(n);c=p[0]||0,h=p[1]||0}else je(n)||(n=[n,n]),c=$t(n[0],a)+r.x,h=$t(n[1],o)+r.y;return{cx:c,cy:h,r0:u,r:l}}function BJ(t,e,r){e.eachSeriesByType(t,function(n){var i=n.getData(),a=i.mapDimension("value"),o=MR(n,r),s=LR(n,r),u=s.cx,l=s.cy,c=s.r,h=s.r0,f=-n.get("startAngle")*tC,p=n.get("minAngle")*tC,v=0;i.each(a,function($){!isNaN($)&&v++});var g=i.getSum(a),m=Math.PI/(g||v)*2,_=n.get("clockwise"),b=n.get("roseType"),w=n.get("stillShowZeroSum"),T=i.getDataExtent(a);T[0]=0;var k=op,A=0,D=f,O=_?1:-1;if(i.setLayout({viewRect:o,r:c}),i.each(a,function($,B){var U;if(isNaN($)){i.setItemLayout(B,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:_,cx:u,cy:l,r0:h,r:b?NaN:c});return}b!=="area"?U=g===0&&w?m:$*m:U=op/v,U<p?(U=p,k-=p):A+=$;var H=D+O*U;i.setItemLayout(B,{angle:U,startAngle:D,endAngle:H,clockwise:_,cx:u,cy:l,r0:h,r:b?Uo($,T,[h,c]):c}),D=H}),k<op&&v)if(k<=.001){var F=op/v;i.each(a,function($,B){if(!isNaN($)){var U=i.getItemLayout(B);U.angle=F,U.startAngle=f+O*B*F,U.endAngle=f+O*(B+1)*F}})}else m=k/A,D=f,i.each(a,function($,B){if(!isNaN($)){var U=i.getItemLayout(B),H=U.angle===p?p:$*m;U.startAngle=D,U.endAngle=D+O*H,D+=O*H}})})}function NJ(t){return{seriesType:t,reset:function(e,r){var n=r.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=e.getData();i.filterSelf(function(a){for(var o=i.getName(a),s=0;s<n.length;s++)if(!n[s].isSelected(o))return!1;return!0})}}}}var FJ=Math.PI/180;function rC(t,e,r,n,i,a,o,s,u,l){if(t.length<2)return;function c(g){for(var m=g.rB,_=m*m,b=0;b<g.list.length;b++){var w=g.list[b],T=Math.abs(w.label.y-r),k=n+w.len,A=k*k,D=Math.sqrt((1-Math.abs(T*T/_))*A),O=e+(D+w.len2)*i,F=O-w.label.x,$=w.targetTextWidth-F*i;RR(w,$,!0),w.label.x=O}}function h(g){for(var m={list:[],maxY:0},_={list:[],maxY:0},b=0;b<g.length;b++)if(g[b].labelAlignTo==="none"){var w=g[b],T=w.label.y>r?_:m,k=Math.abs(w.label.y-r);if(k>=T.maxY){var A=w.label.x-e-w.len2*i,D=n+w.len,O=Math.abs(A)<D?Math.sqrt(k*k/(1-A*A/D/D)):D;T.rB=O,T.maxY=k}T.list.push(w)}c(m),c(_)}for(var f=t.length,p=0;p<f;p++)if(t[p].position==="outer"&&t[p].labelAlignTo==="labelLine"){var v=t[p].label.x-l;t[p].linePoints[1][0]+=v,t[p].label.x=l}yR(t,u,u+o)&&h(t)}function $J(t,e,r,n,i,a,o,s){for(var u=[],l=[],c=Number.MAX_VALUE,h=-Number.MAX_VALUE,f=0;f<t.length;f++){var p=t[f].label;hy(t[f])||(p.x<e?(c=Math.min(c,p.x),u.push(t[f])):(h=Math.max(h,p.x),l.push(t[f])))}for(var f=0;f<t.length;f++){var v=t[f];if(!hy(v)&&v.linePoints){if(v.labelStyleWidth!=null)continue;var p=v.label,g=v.linePoints,m=void 0;v.labelAlignTo==="edge"?p.x<e?m=g[2][0]-v.labelDistance-o-v.edgeDistance:m=o+i-v.edgeDistance-g[2][0]-v.labelDistance:v.labelAlignTo==="labelLine"?p.x<e?m=c-o-v.bleedMargin:m=o+i-h-v.bleedMargin:p.x<e?m=p.x-o-v.bleedMargin:m=o+i-p.x-v.bleedMargin,v.targetTextWidth=m,RR(v,m)}}rC(l,e,r,n,1,i,a,o,s,h),rC(u,e,r,n,-1,i,a,o,s,c);for(var f=0;f<t.length;f++){var v=t[f];if(!hy(v)&&v.linePoints){var p=v.label,g=v.linePoints,_=v.labelAlignTo==="edge",b=p.style.padding,w=b?b[1]+b[3]:0,T=p.style.backgroundColor?0:w,k=v.rect.width+T,A=g[1][0]-g[2][0];_?p.x<e?g[2][0]=o+v.edgeDistance+k+v.labelDistance:g[2][0]=o+i-v.edgeDistance-k-v.labelDistance:(p.x<e?g[2][0]=p.x+v.labelDistance:g[2][0]=p.x-v.labelDistance,g[1][0]=g[2][0]+A),g[1][1]=g[2][1]=p.y}}}function RR(t,e,r){if(r===void 0&&(r=!1),t.labelStyleWidth==null){var n=t.label,i=n.style,a=t.rect,o=i.backgroundColor,s=i.padding,u=s?s[1]+s[3]:0,l=i.overflow,c=a.width+(o?0:u);if(e<c||r){var h=a.height;if(l&&l.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",e-u);var f=n.getBoundingRect();n.setStyle("width",Math.ceil(f.width)),n.setStyle("backgroundColor",o)}else{var p=e-u,v=e<c?p:r?p>t.unconstrainedWidth?null:p:null;n.setStyle("width",v)}var g=n.getBoundingRect();a.width=g.width;var m=(n.style.margin||0)+2.1;a.height=g.height+m,a.y-=(a.height-h)/2}}}function hy(t){return t.position==="center"}function HJ(t){var e=t.getData(),r=[],n,i,a=!1,o=(t.get("minShowLabelAngle")||0)*FJ,s=e.getLayout("viewRect"),u=e.getLayout("r"),l=s.width,c=s.x,h=s.y,f=s.height;function p(A){A.ignore=!0}function v(A){if(!A.ignore)return!0;for(var D in A.states)if(A.states[D].ignore===!1)return!0;return!1}e.each(function(A){var D=e.getItemGraphicEl(A),O=D.shape,F=D.getTextContent(),$=D.getTextGuideLine(),B=e.getItemModel(A),U=B.getModel("label"),H=U.get("position")||B.get(["emphasis","label","position"]),W=U.get("distanceToLabelLine"),z=U.get("alignTo"),G=$t(U.get("edgeDistance"),l),Y=U.get("bleedMargin"),Q=B.getModel("labelLine"),J=Q.get("length");J=$t(J,l);var ae=Q.get("length2");if(ae=$t(ae,l),Math.abs(O.endAngle-O.startAngle)<o){Z(F.states,p),F.ignore=!0,$&&(Z($.states,p),$.ignore=!0);return}if(v(F)){var he=(O.startAngle+O.endAngle)/2,pe=Math.cos(he),Se=Math.sin(he),we,Le,Fe,se;n=O.cx,i=O.cy;var ve=H==="inside"||H==="inner";if(H==="center")we=O.cx,Le=O.cy,se="center";else{var ge=(ve?(O.r+O.r0)/2*pe:O.r*pe)+n,be=(ve?(O.r+O.r0)/2*Se:O.r*Se)+i;if(we=ge+pe*3,Le=be+Se*3,!ve){var Te=ge+pe*(J+u-O.r),$e=be+Se*(J+u-O.r),Ie=Te+(pe<0?-1:1)*ae,Ne=$e;z==="edge"?we=pe<0?c+G:c+l-G:we=Ie+(pe<0?-W:W),Le=Ne,Fe=[[ge,be],[Te,$e],[Ie,Ne]]}se=ve?"center":z==="edge"?pe>0?"right":"left":pe>0?"left":"right"}var ht=Math.PI,Xt=0,Rt=U.get("rotate");if(Yt(Rt))Xt=Rt*(ht/180);else if(H==="center")Xt=0;else if(Rt==="radial"||Rt===!0){var dn=pe<0?-he+ht:-he;Xt=dn}else if(Rt==="tangential"&&H!=="outside"&&H!=="outer"){var jr=Math.atan2(pe,Se);jr<0&&(jr=ht*2+jr);var de=Se>0;de&&(jr=ht+jr),Xt=jr-ht}if(a=!!Xt,F.x=we,F.y=Le,F.rotation=Xt,F.setStyle({verticalAlign:"middle"}),ve){F.setStyle({align:se});var _r=F.states.select;_r&&(_r.x+=F.x,_r.y+=F.y)}else{var Gt=F.getBoundingRect().clone();Gt.applyTransform(F.getComputedTransform());var Ar=(F.style.margin||0)+2.1;Gt.y-=Ar/2,Gt.height+=Ar,r.push({label:F,labelLine:$,position:H,len:J,len2:ae,minTurnAngle:Q.get("minTurnAngle"),maxSurfaceAngle:Q.get("maxSurfaceAngle"),surfaceNormal:new at(pe,Se),linePoints:Fe,textAlign:se,labelDistance:W,labelAlignTo:z,edgeDistance:G,bleedMargin:Y,rect:Gt,unconstrainedWidth:Gt.width,labelStyleWidth:F.style.width})}D.setTextConfig({inside:ve})}}),!a&&t.get("avoidLabelOverlap")&&$J(r,n,i,u,l,f,c,h);for(var g=0;g<r.length;g++){var m=r[g],_=m.label,b=m.labelLine,w=isNaN(_.x)||isNaN(_.y);if(_){_.setStyle({align:m.textAlign}),w&&(Z(_.states,p),_.ignore=!0);var T=_.states.select;T&&(T.x+=_.x,T.y+=_.y)}if(b){var k=m.linePoints;w||!k?(Z(b.states,p),b.ignore=!0):(dR(k,m.minTurnAngle),FQ(k,m.surfaceNormal,m.maxSurfaceAngle),b.setShape({points:k}),_.__hostTarget.textGuideLineConfig={anchor:new at(k[0][0],k[0][1])})}}}var zJ=function(t){Me(e,t);function e(r,n,i){var a=t.call(this)||this;a.z2=2;var o=new $r;return a.setTextContent(o),a.updateData(r,n,i,!0),a}return e.prototype.updateData=function(r,n,i,a){var o=this,s=r.hostModel,u=r.getItemModel(n),l=u.getModel("emphasis"),c=r.getItemLayout(n),h=Oe(Cf(u.getModel("itemStyle"),c,!0),c);if(isNaN(h.startAngle)){o.setShape(h);return}if(a){o.setShape(h);var f=s.getShallow("animationType");s.ecModel.ssr?(hn(o,{scaleX:0,scaleY:0},s,{dataIndex:n,isFrom:!0}),o.originX=h.cx,o.originY=h.cy):f==="scale"?(o.shape.r=c.r0,hn(o,{shape:{r:c.r}},s,n)):i!=null?(o.setShape({startAngle:i,endAngle:i}),hn(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,n)):(o.shape.endAngle=c.startAngle,Vr(o,{shape:{endAngle:c.endAngle}},s,n))}else N_(o),Vr(o,{shape:h},s,n);o.useStyle(r.getItemVisual(n,"style")),cv(o,u);var p=(c.startAngle+c.endAngle)/2,v=s.get("selectedOffset"),g=Math.cos(p)*v,m=Math.sin(p)*v,_=u.getShallow("cursor");_&&o.attr("cursor",_),this._updateLabel(s,r,n),o.ensureState("emphasis").shape=Oe({r:c.r+(l.get("scale")&&l.get("scaleSize")||0)},Cf(l.getModel("itemStyle"),c)),Oe(o.ensureState("select"),{x:g,y:m,shape:Cf(u.getModel(["select","itemStyle"]),c)}),Oe(o.ensureState("blur"),{shape:Cf(u.getModel(["blur","itemStyle"]),c)});var b=o.getTextGuideLine(),w=o.getTextContent();b&&Oe(b.ensureState("select"),{x:g,y:m}),Oe(w.ensureState("select"),{x:g,y:m}),dh(this,l.get("focus"),l.get("blurScope"),l.get("disabled"))},e.prototype._updateLabel=function(r,n,i){var a=this,o=n.getItemModel(i),s=o.getModel("labelLine"),u=n.getItemVisual(i,"style"),l=u&&u.fill,c=u&&u.opacity;Hh(a,zh(o),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:l,defaultOpacity:c,defaultText:r.getFormattedLabel(i,"normal")||n.getName(i)});var h=a.getTextContent();a.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var f=r.get(["label","position"]);if(f!=="outside"&&f!=="outer")a.removeTextGuideLine();else{var p=this.getTextGuideLine();p||(p=new $h,this.setTextGuideLine(p)),pR(this,vR(o),{stroke:l,opacity:If(s.get(["lineStyle","opacity"]),c,1)})}},e}(zi),UJ=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return e.prototype.render=function(r,n,i,a){var o=r.getData(),s=this._data,u=this.group,l;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),h=1;isNaN(c&&c.startAngle)&&h<o.count();++h)c=o.getItemLayout(h);c&&(l=c.startAngle)}if(this._emptyCircleSector&&u.remove(this._emptyCircleSector),o.count()===0&&r.get("showEmptyCircle")){var f=new zi({shape:LR(r,i)});f.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=f,u.add(f)}o.diff(s).add(function(p){var v=new zJ(o,p,l);o.setItemGraphicEl(p,v),u.add(v)}).update(function(p,v){var g=s.getItemGraphicEl(v);g.updateData(o,p,l),g.off("click"),u.add(g),o.setItemGraphicEl(p,g)}).remove(function(p){var v=s.getItemGraphicEl(p);dv(v,r,p)}).execute(),HJ(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(r,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var o=r[0]-a.cx,s=r[1]-a.cy,u=Math.sqrt(o*o+s*s);return u<=a.r&&u>=a.r0}},e.type="pie",e}(wa);const VJ=UJ;function GJ(t,e,r){e=je(e)&&{coordDimensions:e}||Oe({encodeDefine:t.getEncode()},e);var n=t.getSource(),i=UL(n,e).dimensions,a=new zL(i,t);return a.initData(n,r),a}var jJ=function(){function t(e,r){this._getDataWithEncodedVisual=e,this._getRawData=r}return t.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},t.prototype.containName=function(e){var r=this._getRawData();return r.indexOfName(e)>=0},t.prototype.indexOfName=function(e){var r=this._getDataWithEncodedVisual();return r.indexOfName(e)},t.prototype.getItemVisual=function(e,r){var n=this._getDataWithEncodedVisual();return n.getItemVisual(e,r)},t}();const WJ=jJ;var YJ=dr(),XJ=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new WJ(nr(this.getData,this),nr(this.getRawData,this)),this._defaultLabelLine(r)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return GJ(this,{coordDimensions:["value"],encodeDefaulter:zt(CX,this)})},e.prototype.getDataParams=function(r){var n=this.getData(),i=YJ(n),a=i.seats;if(!a){var o=[];n.each(n.mapDimension("value"),function(u){o.push(u)}),a=i.seats=dj(o,n.hostModel.get("percentPrecision"))}var s=t.prototype.getDataParams.call(this,r);return s.percent=a[r]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(r){E0(r,"labelLine",["show"]);var n=r.labelLine,i=r.emphasis.labelLine;n.show=n.show&&r.label.show,i.show=i.show&&r.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(os);const qJ=XJ;function KJ(t){return{seriesType:t,reset:function(e,r){var n=e.getData();n.filterSelf(function(i){var a=n.mapDimension("value"),o=n.get(a,i);return!(Yt(o)&&!isNaN(o)&&o<0)})}}}function Iae(t){t.registerChartView(VJ),t.registerSeriesModel(qJ),dK("pie",t.registerAction),t.registerLayout(zt(BJ,"pie")),t.registerProcessor(NJ("pie")),t.registerProcessor(KJ("pie"))}var ZJ=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Qt);const QJ=ZJ;var o1=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Zr).models[0]},e.type="cartesian2dAxis",e}(Qt);Wi(o1,aR);var OR={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},JJ=Tt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},OR),yb=Tt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},OR),eee=Tt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},yb),tee=lt({logBase:10},yb);const ree={category:JJ,value:yb,time:eee,log:tee};var nee={value:1,category:1,time:1,log:1};function kv(t,e,r,n){Z(nee,function(i,a){var o=Tt(Tt({},ree[a],!0),n,!0),s=function(u){Me(l,u);function l(){var c=u!==null&&u.apply(this,arguments)||this;return c.type=e+"Axis."+a,c}return l.prototype.mergeDefaultAndTheme=function(c,h){var f=mh(this),p=f?yg(c):{},v=h.getTheme();Tt(c,v.get(a+"Axis")),Tt(c,this.getDefaultOption()),c.type=nC(c),f&&ic(c,p,f)},l.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=n1.createByAxisModel(this))},l.prototype.getCategories=function(c){var h=this.option;if(h.type==="category")return c?h.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=e+"Axis."+a,l.defaultOption=o,l}(r);t.registerComponentModel(s)}),t.registerSubTypeDefaulter(e+"Axis",nC)}function nC(t){return t.type||(t.data?"category":"value")}var iee=function(){function t(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return t.prototype.getAxis=function(e){return this._axes[e]},t.prototype.getAxes=function(){return qe(this._dimList,function(e){return this._axes[e]},this)},t.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),xr(this.getAxes(),function(r){return r.scale.type===e})},t.prototype.addAxis=function(e){var r=e.dim;this._axes[r]=e,this._dimList.push(r)},t}();const aee=iee;var s1=["x","y"];function iC(t){return t.type==="interval"||t.type==="time"}var oee=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=s1,r}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!iC(r)||!iC(n))){var i=r.getExtent(),a=n.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),u=i[1]-i[0],l=a[1]-a[0];if(!(!u||!l)){var c=(s[0]-o[0])/u,h=(s[1]-o[1])/l,f=o[0]-i[0]*c,p=o[1]-a[0]*h,v=this._transform=[c,0,0,h,f,p];this._invTransform=Zv([],v)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(r){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&i.contain(i.toLocalCoord(r[1]))},e.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},e.prototype.containZone=function(r,n){var i=this.dataToPoint(r),a=this.dataToPoint(n),o=this.getArea(),s=new Bt(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(s)},e.prototype.dataToPoint=function(r,n,i){i=i||[];var a=r[0],o=r[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return mi(i,r,this._transform);var s=this.getAxis("x"),u=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,n)),i[1]=u.toGlobalCoord(u.dataToCoord(o,n)),i},e.prototype.clampData=function(r,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),u=i.parse(r[0]),l=a.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n},e.prototype.pointToData=function(r,n){var i=[];if(this._invTransform)return mi(i,r,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(r[0]),n),i[1]=o.coordToData(o.toLocalCoord(r[1]),n),i},e.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},e.prototype.getArea=function(){var r=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),i=Math.min(r[0],r[1]),a=Math.min(n[0],n[1]),o=Math.max(r[0],r[1])-i,s=Math.max(n[0],n[1])-a;return new Bt(i,a,o,s)},e}(aee),see=function(t){Me(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},e.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},e.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},e.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},e}(Ru);const uee=see;function u1(t,e,r){r=r||{};var n=t.coordinateSystem,i=e.axis,a={},o=i.getAxesOnZeroOf()[0],s=i.position,u=o?"onZero":s,l=i.dim,c=n.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],f={left:0,right:1,top:0,bottom:1,onZero:2},p=e.get("offset")||0,v=l==="x"?[h[2]-p,h[3]+p]:[h[0]-p,h[1]+p];if(o){var g=o.toGlobalCoord(o.dataToCoord(0));v[f.onZero]=Math.max(Math.min(g,v[1]),v[0])}a.position=[l==="y"?v[f[u]]:h[0],l==="x"?v[f[u]]:h[3]],a.rotation=Math.PI/2*(l==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=m[s],a.labelOffset=o?v[f[s]]-v[f.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),lh(r.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var _=e.get(["axisLabel","rotate"]);return a.labelRotate=u==="top"?-_:_,a.z2=1,a}function aC(t){return t.get("coordinateSystem")==="cartesian2d"}function oC(t){var e={xAxisModel:null,yAxisModel:null};return Z(e,function(r,n){var i=n.replace(/Model$/,""),a=t.getReferringComponents(i,Zr).models[0];e[n]=a}),e}var dy=Math.log;function lee(t,e,r){var n=Vh.prototype,i=n.getTicks.call(r),a=n.getTicks.call(r,!0),o=i.length-1,s=n.getInterval.call(r),u=rR(t,e),l=u.extent,c=u.fixMin,h=u.fixMax;if(t.type==="log"){var f=dy(t.base);l=[dy(l[0])/f,dy(l[1])/f]}t.setExtent(l[0],l[1]),t.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:h});var p=n.getExtent.call(t);c&&(l[0]=p[0]),h&&(l[1]=p[1]);var v=n.getInterval.call(t),g=l[0],m=l[1];if(c&&h)v=(m-g)/o;else if(c)for(m=l[0]+v*o;m<l[1]&&isFinite(m)&&isFinite(l[1]);)v=ay(v),m=l[0]+v*o;else if(h)for(g=l[1]-v*o;g>l[0]&&isFinite(g)&&isFinite(l[0]);)v=ay(v),g=l[1]-v*o;else{var _=t.getTicks().length-1;_>o&&(v=ay(v));var b=v*o;m=Math.ceil(l[1]/v)*v,g=Dr(m-b),g<0&&l[0]>=0?(g=0,m=Dr(b)):m>0&&l[1]<=0&&(m=0,g=-Dr(b))}var w=(i[0].value-a[0].value)/s,T=(i[o].value-a[o].value)/s;n.setExtent.call(t,g+v*w,m+v*T),n.setInterval.call(t,v),(w||T)&&n.setNiceExtent.call(t,g+v,m-v)}var cee=function(){function t(e,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=s1,this._initCartesian(e,r,n),this.model=e}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(e,r){var n=this._axesMap;this._updateScale(e,this.model);function i(o){var s,u=cr(o),l=u.length;if(l){for(var c=[],h=l-1;h>=0;h--){var f=+u[h],p=o[f],v=p.model,g=p.scale;i1(g)&&v.get("alignTicks")&&v.get("interval")==null?c.push(p):(wv(g,v),i1(g)&&(s=p))}c.length&&(s||(s=c.pop(),wv(s.scale,s.model)),Z(c,function(m){lee(m.scale,m.model,s.scale)}))}}i(n.x),i(n.y);var a={};Z(n.x,function(o){sC(n,"y",o,a)}),Z(n.y,function(o){sC(n,"x",o,a)}),this.resize(this.model,r)},t.prototype.resize=function(e,r,n){var i=e.getBoxLayoutParams(),a=!n&&e.get("containLabel"),o=as(i,{width:r.getWidth(),height:r.getHeight()});this._rect=o;var s=this._axesList;u(),a&&(Z(s,function(l){if(!l.model.get(["axisLabel","inside"])){var c=_Q(l);if(c){var h=l.isHorizontal()?"height":"width",f=l.model.get(["axisLabel","margin"]);o[h]-=c[h]+f,l.position==="top"?o.y+=c.height+f:l.position==="left"&&(o.x+=c.width+f)}}}),u()),Z(this._coordsList,function(l){l.calcAffineTransform()});function u(){Z(s,function(l){var c=l.isHorizontal(),h=c?[0,o.width]:[0,o.height],f=l.inverse?1:0;l.setExtent(h[f],h[1-f]),fee(l,c?o.x:o.y)})}},t.prototype.getAxis=function(e,r){var n=this._axesMap[e];if(n!=null)return n[r||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(e,r){if(e!=null&&r!=null){var n="x"+e+"y"+r;return this._coordsMap[n]}nt(e)&&(r=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===r)return a[i]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(e,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(e,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(e){var r=e.seriesModel,n=e.xAxisModel||r&&r.getReferringComponents("xAxis",Zr).models[0],i=e.yAxisModel||r&&r.getReferringComponents("yAxis",Zr).models[0],a=e.gridModel,o=this._coordsList,s,u;if(r)s=r.coordinateSystem,Dt(o,s)<0&&(s=null);else if(n&&i)s=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)u=this.getAxis("x",n.componentIndex);else if(i)u=this.getAxis("y",i.componentIndex);else if(a){var l=a.coordinateSystem;l===this&&(s=this._coordsList[0])}return{cartesian:s,axis:u}},t.prototype.containPoint=function(e){var r=this._coordsList[0];if(r)return r.containPoint(e)},t.prototype._initCartesian=function(e,r,n){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},u={x:0,y:0};if(r.eachComponent("xAxis",l("x"),this),r.eachComponent("yAxis",l("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,Z(s.x,function(c,h){Z(s.y,function(f,p){var v="x"+h+"y"+p,g=new oee(v);g.master=i,g.model=e,i._coordsMap[v]=g,i._coordsList.push(g),g.addAxis(c),g.addAxis(f)})});function l(c){return function(h,f){if(py(h,e)){var p=h.get("position");c==="x"?p!=="top"&&p!=="bottom"&&(p=o.bottom?"top":"bottom"):p!=="left"&&p!=="right"&&(p=o.left?"right":"left"),o[p]=!0;var v=new uee(c,nR(h),[0,0],h.get("type"),p),g=v.type==="category";v.onBand=g&&h.get("boundaryGap"),v.inverse=h.get("inverse"),h.axis=v,v.model=h,v.grid=a,v.index=f,a._axesList.push(v),s[c][f]=v,u[c]++}}}},t.prototype._updateScale=function(e,r){Z(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(aC(i)){var a=oC(i),o=a.xAxisModel,s=a.yAxisModel;if(!py(o,r)||!py(s,r))return;var u=this.getCartesian(o.componentIndex,s.componentIndex),l=i.getData(),c=u.getAxis("x"),h=u.getAxis("y");n(l,c),n(l,h)}},this);function n(i,a){Z(Tv(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},t.prototype.getTooltipAxes=function(e){var r=[],n=[];return Z(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(a);Dt(r,a)<0&&r.push(a),Dt(n,o)<0&&n.push(o)}),{baseAxes:r,otherAxes:n}},t.create=function(e,r){var n=[];return e.eachComponent("grid",function(i,a){var o=new t(i,e,r);o.name="grid_"+a,o.resize(i,r,!0),i.coordinateSystem=o,n.push(o)}),e.eachSeries(function(i){if(aC(i)){var a=oC(i),o=a.xAxisModel,s=a.yAxisModel,u=o.getCoordSysModel(),l=u.coordinateSystem;i.coordinateSystem=l.getCartesian(o.componentIndex,s.componentIndex)}}),n},t.dimensions=s1,t}();function py(t,e){return t.getCoordSysModel()===e}function sC(t,e,r,n){r.getAxesOnZeroOf=function(){return a?[a]:[]};var i=t[e],a,o=r.model,s=o.get(["axisLine","onZero"]),u=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(u!=null)uC(i[u])&&(a=i[u]);else for(var l in i)if(i.hasOwnProperty(l)&&uC(i[l])&&!n[c(i[l])]){a=i[l];break}a&&(n[c(a)]=!0);function c(h){return h.dim+"_"+h.index}}function uC(t){return t&&t.type!=="category"&&t.type!=="time"&&yQ(t)}function fee(t,e){var r=t.getExtent(),n=r[0]+r[1];t.toGlobalCoord=t.dim==="x"?function(i){return i+e}:function(i){return n-i+e},t.toLocalCoord=t.dim==="x"?function(i){return i-e}:function(i){return n-i+e}}const hee=cee;var Yo=Math.PI,hu=function(){function t(e,r){this.group=new Mr,this.opt=r,this.axisModel=e,lt(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Mr({x:r.position[0],y:r.position[1],rotation:r.rotation});n.updateTransform(),this._transformGroup=n}return t.prototype.hasBuilder=function(e){return!!lC[e]},t.prototype.add=function(e){lC[e](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(e,r,n){var i=iD(r-e),a,o;return uv(i)?(o=n>0?"top":"bottom",a="center"):uv(i-Yo)?(o=n>0?"bottom":"top",a="center"):(o="middle",i>0&&i<Yo?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},t.makeAxisEventDataBase=function(e){var r={componentType:e.mainType,componentIndex:e.componentIndex};return r[e.mainType+"Index"]=e.componentIndex,r},t.isLabelSilent=function(e){var r=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||r&&r.show)},t}(),lC={axisLine:function(t,e,r,n){var i=e.get(["axisLine","show"]);if(i==="auto"&&t.handleAutoShown&&(i=t.handleAutoShown("axisLine")),!!i){var a=e.axis.getExtent(),o=n.transform,s=[a[0],0],u=[a[1],0],l=s[0]>u[0];o&&(mi(s,s,o),mi(u,u,o));var c=Oe({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new Fi({shape:{x1:s[0],y1:s[1],x2:u[0],y2:u[1]},style:c,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});ph(h.shape,h.style.lineWidth),h.anid="line",r.add(h);var f=e.get(["axisLine","symbol"]);if(f!=null){var p=e.get(["axisLine","symbolSize"]);Je(f)&&(f=[f,f]),(Je(p)||Yt(p))&&(p=[p,p]);var v=hL(e.get(["axisLine","symbolOffset"])||0,p),g=p[0],m=p[1];Z([{rotate:t.rotation+Math.PI/2,offset:v[0],r:0},{rotate:t.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((s[0]-u[0])*(s[0]-u[0])+(s[1]-u[1])*(s[1]-u[1]))}],function(_,b){if(f[b]!=="none"&&f[b]!=null){var w=oc(f[b],-g/2,-m/2,g,m,c.stroke,!0),T=_.r+_.offset,k=l?u:s;w.attr({rotation:_.rotate,x:k[0]+T*Math.cos(t.rotation),y:k[1]-T*Math.sin(t.rotation),silent:!0,z2:11}),r.add(w)}})}}},axisTickLabel:function(t,e,r,n){var i=vee(r,n,e,t),a=mee(r,n,e,t);if(pee(e,a,i),gee(r,n,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var o=gR(qe(a,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));_R(o)}},axisName:function(t,e,r,n){var i=lh(t.axisName,e.get("name"));if(i){var a=e.get("nameLocation"),o=t.nameDirection,s=e.getModel("nameTextStyle"),u=e.get("nameGap")||0,l=e.axis.getExtent(),c=l[0]>l[1]?-1:1,h=[a==="start"?l[0]-c*u:a==="end"?l[1]+c*u:(l[0]+l[1])/2,fC(a)?t.labelOffset+o*u:0],f,p=e.get("nameRotate");p!=null&&(p=p*Yo/180);var v;fC(a)?f=hu.innerTextLayout(t.rotation,p??t.rotation,o):(f=dee(t.rotation,a,p||0,l),v=t.axisNameAvailableWidth,v!=null&&(v=Math.abs(v/Math.sin(f.rotation)),!isFinite(v)&&(v=null)));var g=s.getFont(),m=e.get("nameTruncate",!0)||{},_=m.ellipsis,b=lh(t.nameTruncateMaxWidth,m.maxWidth,v),w=new $r({x:h[0],y:h[1],rotation:f.rotation,silent:hu.isLabelSilent(e),style:uo(s,{text:i,font:g,overflow:"truncate",width:b,ellipsis:_,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||f.textAlign,verticalAlign:s.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(lg({el:w,componentModel:e,itemName:i}),w.__fullText=i,w.anid="name",e.get("triggerEvent")){var T=hu.makeAxisEventDataBase(e);T.targetType="axisName",T.name=i,Ut(w).eventData=T}n.add(w),w.updateTransform(),r.add(w),w.decomposeTransform()}}};function dee(t,e,r,n){var i=iD(r-t),a,o,s=n[0]>n[1],u=e==="start"&&!s||e!=="start"&&s;return uv(i-Yo/2)?(o=u?"bottom":"top",a="center"):uv(i-Yo*1.5)?(o=u?"top":"bottom",a="center"):(o="middle",i<Yo*1.5&&i>Yo/2?a=u?"left":"right":a=u?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}function pee(t,e,r){if(!iR(t.axis)){var n=t.get(["axisLabel","showMinLabel"]),i=t.get(["axisLabel","showMaxLabel"]);e=e||[],r=r||[];var a=e[0],o=e[1],s=e[e.length-1],u=e[e.length-2],l=r[0],c=r[1],h=r[r.length-1],f=r[r.length-2];n===!1?(ni(a),ni(l)):cC(a,o)&&(n?(ni(o),ni(c)):(ni(a),ni(l))),i===!1?(ni(s),ni(h)):cC(u,s)&&(i?(ni(u),ni(f)):(ni(s),ni(h)))}}function ni(t){t&&(t.ignore=!0)}function cC(t,e){var r=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(!(!r||!n)){var i=x_([]);return Kv(i,i,-t.rotation),r.applyTransform(Nl([],i,t.getLocalTransform())),n.applyTransform(Nl([],i,e.getLocalTransform())),r.intersect(n)}}function fC(t){return t==="middle"||t==="center"}function IR(t,e,r,n,i){for(var a=[],o=[],s=[],u=0;u<t.length;u++){var l=t[u].coord;o[0]=l,o[1]=0,s[0]=l,s[1]=r,e&&(mi(o,o,e),mi(s,s,e));var c=new Fi({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});ph(c.shape,c.style.lineWidth),c.anid=i+"_"+t[u].tickValue,a.push(c)}return a}function vee(t,e,r,n){var i=r.axis,a=r.getModel("axisTick"),o=a.get("show");if(o==="auto"&&n.handleAutoShown&&(o=n.handleAutoShown("axisTick")),!(!o||i.scale.isBlank())){for(var s=a.getModel("lineStyle"),u=n.tickDirection*a.get("length"),l=i.getTicksCoords(),c=IR(l,e.transform,u,lt(s.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<c.length;h++)t.add(c[h]);return c}}function gee(t,e,r,n){var i=r.axis,a=r.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(o.length)for(var s=a.getModel("lineStyle"),u=n*a.get("length"),l=lt(s.getLineStyle(),lt(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var h=IR(o[c],e.transform,u,l,"minorticks_"+c),f=0;f<h.length;f++)t.add(h[f])}}function mee(t,e,r,n){var i=r.axis,a=lh(n.axisLabelShow,r.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var o=r.getModel("axisLabel"),s=o.get("margin"),u=i.getViewLabels(),l=(lh(n.labelRotate,o.get("rotate"))||0)*Yo/180,c=hu.innerTextLayout(n.rotation,l,n.labelDirection),h=r.getCategories&&r.getCategories(!0),f=[],p=hu.isLabelSilent(r),v=r.get("triggerEvent");return Z(u,function(g,m){var _=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,b=g.formattedLabel,w=g.rawLabel,T=o;if(h&&h[_]){var k=h[_];nt(k)&&k.textStyle&&(T=new zr(k.textStyle,o,r.ecModel))}var A=T.getTextColor()||r.get(["axisLine","lineStyle","color"]),D=i.dataToCoord(_),O=new $r({x:D,y:n.labelOffset+n.labelDirection*s,rotation:c.rotation,silent:p,z2:10+(g.level||0),style:uo(T,{text:b,align:T.getShallow("align",!0)||c.textAlign,verticalAlign:T.getShallow("verticalAlign",!0)||T.getShallow("baseline",!0)||c.textVerticalAlign,fill:ft(A)?A(i.type==="category"?w:i.type==="value"?_+"":_,m):A})});if(O.anid="label_"+_,v){var F=hu.makeAxisEventDataBase(r);F.targetType="axisLabel",F.value=w,F.tickIndex=m,i.type==="category"&&(F.dataIndex=_),Ut(O).eventData=F}e.add(O),O.updateTransform(),f.push(O),t.add(O),O.decomposeTransform()}),f}}const sc=hu;function yee(t,e){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return _ee(r,t,e),r.seriesInvolved&&xee(r,t),r}function _ee(t,e,r){var n=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];Z(r.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var u=Th(s.model),l=t.coordSysAxesInfo[u]={};t.coordSysMap[u]=s;var c=s.model,h=c.getModel("tooltip",n);if(Z(s.getAxes(),zt(g,!1,null)),s.getTooltipAxes&&n&&h.get("show")){var f=h.get("trigger")==="axis",p=h.get(["axisPointer","type"])==="cross",v=s.getTooltipAxes(h.get(["axisPointer","axis"]));(f||p)&&Z(v.baseAxes,zt(g,p?"cross":!0,f)),p&&Z(v.otherAxes,zt(g,"cross",!1))}function g(m,_,b){var w=b.model.getModel("axisPointer",i),T=w.get("show");if(!(!T||T==="auto"&&!m&&!l1(w))){_==null&&(_=w.get("triggerTooltip")),w=m?bee(b,h,i,e,m,_):w;var k=w.get("snap"),A=Th(b.model),D=_||k||b.type==="category",O=t.axesInfo[A]={key:A,axis:b,coordSys:s,axisPointerModel:w,triggerTooltip:_,involveSeries:D,snap:k,useHandle:l1(w),seriesModels:[],linkGroup:null};l[A]=O,t.seriesInvolved=t.seriesInvolved||D;var F=See(a,b);if(F!=null){var $=o[F]||(o[F]={axesInfo:{}});$.axesInfo[A]=O,$.mapper=a[F].mapper,O.linkGroup=$}}}})}function bee(t,e,r,n,i,a){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],u={};Z(s,function(f){u[f]=_t(o.get(f))}),u.snap=t.type!=="category"&&!!a,o.get("type")==="cross"&&(u.type="line");var l=u.label||(u.label={});if(l.show==null&&(l.show=!1),i==="cross"){var c=o.get(["label","show"]);if(l.show=c??!0,!a){var h=u.lineStyle=o.get("crossStyle");h&&lt(l,h.textStyle)}}return t.model.getModel("axisPointer",new zr(u,r,n))}function xee(t,e){e.eachSeries(function(r){var n=r.coordinateSystem,i=r.get(["tooltip","trigger"],!0),a=r.get(["tooltip","show"],!0);!n||i==="none"||i===!1||i==="item"||a===!1||r.get(["axisPointer","show"],!0)===!1||Z(t.coordSysAxesInfo[Th(n.model)],function(o){var s=o.axis;n.getAxis(s.dim)===s&&(o.seriesModels.push(r),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=r.getData().count())})})}function See(t,e){for(var r=e.model,n=e.dim,i=0;i<t.length;i++){var a=t[i]||{};if(vy(a[n+"AxisId"],r.id)||vy(a[n+"AxisIndex"],r.componentIndex)||vy(a[n+"AxisName"],r.name))return i}}function vy(t,e){return t==="all"||je(t)&&Dt(t,e)>=0||t===e}function wee(t){var e=_b(t);if(e){var r=e.axisPointerModel,n=e.axis.scale,i=r.option,a=r.get("status"),o=r.get("value");o!=null&&(o=n.parse(o));var s=l1(r);a==null&&(i.status=s?"show":"hide");var u=n.getExtent().slice();u[0]>u[1]&&u.reverse(),(o==null||o>u[1])&&(o=u[1]),o<u[0]&&(o=u[0]),i.value=o,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function _b(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Th(t)]}function Tee(t){var e=_b(t);return e&&e.axisPointerModel}function l1(t){return!!t.get(["handle","show"])}function Th(t){return t.type+"||"+t.id}var hC={},Cee=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i,a){this.axisPointerClass&&wee(r),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,i,!0)},e.prototype.updateAxisPointer=function(r,n,i,a){this._doUpdateAxisPointerClass(r,i,!1)},e.prototype.remove=function(r,n){var i=this._axisPointer;i&&i.remove(n)},e.prototype.dispose=function(r,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(r,n,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var o=Tee(r);o?(this._axisPointer||(this._axisPointer=new a)).render(r,o,n,i):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},e.registerAxisPointerClass=function(r,n){hC[r]=n},e.getAxisPointerClass=function(r){return r&&hC[r]},e.type="axis",e}(Qn);const jh=Cee;var c1=dr();function Aee(t,e,r,n){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),u=n.coordinateSystem.getRect(),l=i.getTicksCoords({tickModel:a,clamp:!0});if(l.length){var c=s.length,h=c1(t).splitAreaColors,f=ct(),p=0;if(h)for(var v=0;v<l.length;v++){var g=h.get(l[v].tickValue);if(g!=null){p=(g+(c-1)*v)%c;break}}var m=i.toGlobalCoord(l[0].coord),_=o.getAreaStyle();s=je(s)?s:[s];for(var v=1;v<l.length;v++){var b=i.toGlobalCoord(l[v].coord),w=void 0,T=void 0,k=void 0,A=void 0;i.isHorizontal()?(w=m,T=u.y,k=b-w,A=u.height,m=w+k):(w=u.x,T=m,k=u.width,A=b-T,m=T+A);var D=l[v-1].tickValue;D!=null&&f.set(D,p),e.add(new Sr({anid:D!=null?"area_"+D:null,shape:{x:w,y:T,width:k,height:A},style:lt({fill:s[p]},_),autoBatch:!0,silent:!0})),p=(p+1)%c}c1(t).splitAreaColors=f}}}function kee(t){c1(t).splitAreaColors=null}var Eee=["axisLine","axisTickLabel","axisName"],Pee=["splitArea","splitLine","minorSplitLine"],BR=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="CartesianAxisPointer",r}return e.prototype.render=function(r,n,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Mr,this.group.add(this._axisGroup),!!r.get("show")){var s=r.getCoordSysModel(),u=u1(s,r),l=new sc(r,Oe({handleAutoShown:function(h){for(var f=s.coordinateSystem.getCartesians(),p=0;p<f.length;p++)if(i1(f[p].getOtherAxis(r.axis).scale))return!0;return!1}},u));Z(Eee,l.add,l),this._axisGroup.add(l.getGroup()),Z(Pee,function(h){r.get([h,"show"])&&Dee[h](this,this._axisGroup,r,s)},this);var c=a&&a.type==="changeAxisOrder"&&a.isInitSort;c||H_(o,this._axisGroup,r),t.prototype.render.call(this,r,n,i,a)}},e.prototype.remove=function(){kee(this)},e.type="cartesianAxis",e}(jh),Dee={splitLine:function(t,e,r,n){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=je(s)?s:[s];for(var u=n.coordinateSystem.getRect(),l=i.isHorizontal(),c=0,h=i.getTicksCoords({tickModel:a}),f=[],p=[],v=o.getLineStyle(),g=0;g<h.length;g++){var m=i.toGlobalCoord(h[g].coord);l?(f[0]=m,f[1]=u.y,p[0]=m,p[1]=u.y+u.height):(f[0]=u.x,f[1]=m,p[0]=u.x+u.width,p[1]=m);var _=c++%s.length,b=h[g].tickValue,w=new Fi({anid:b!=null?"line_"+h[g].tickValue:null,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},style:lt({stroke:s[_]},v),silent:!0});ph(w.shape,v.lineWidth),e.add(w)}}},minorSplitLine:function(t,e,r,n){var i=r.axis,a=r.getModel("minorSplitLine"),o=a.getModel("lineStyle"),s=n.coordinateSystem.getRect(),u=i.isHorizontal(),l=i.getMinorTicksCoords();if(l.length)for(var c=[],h=[],f=o.getLineStyle(),p=0;p<l.length;p++)for(var v=0;v<l[p].length;v++){var g=i.toGlobalCoord(l[p][v].coord);u?(c[0]=g,c[1]=s.y,h[0]=g,h[1]=s.y+s.height):(c[0]=s.x,c[1]=g,h[0]=s.x+s.width,h[1]=g);var m=new Fi({anid:"minor_line_"+l[p][v].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:f,silent:!0});ph(m.shape,f.lineWidth),e.add(m)}},splitArea:function(t,e,r,n){Aee(t,e,r,n)}},NR=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="xAxis",e}(BR),Mee=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=NR.type,r}return e.type="yAxis",e}(BR),Lee=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="grid",r}return e.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new Sr({shape:r.coordinateSystem.getRect(),style:lt({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(Qn),dC={offset:0};function Ree(t){t.registerComponentView(Lee),t.registerComponentModel(QJ),t.registerCoordinateSystem("cartesian2d",hee),kv(t,"x",o1,dC),kv(t,"y",o1,dC),t.registerComponentView(NR),t.registerComponentView(Mee),t.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var pC="\0_ec_interaction_mutex";function Oee(t,e,r){var n=FR(t);n[e]=r}function Iee(t,e,r){var n=FR(t),i=n[e];i===r&&(n[e]=null)}function FR(t){return t[pC]||(t[pC]={})}La({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Sn);var Bee={axisPointer:1,tooltip:1,brush:1};function Nee(t,e,r){var n=e.getComponentByElement(t.topTarget),i=n&&n.coordinateSystem;return n&&n!==r&&!Bee.hasOwnProperty(n.mainType)&&i&&i.model!==r}function $R(t,e,r,n,i,a){t=t||0;var o=r[1]-r[0];if(i!=null&&(i=ll(i,[0,o])),a!=null&&(a=Math.max(a,i??0)),n==="all"){var s=Math.abs(e[1]-e[0]);s=ll(s,[0,o]),i=a=ll(s,[i,a]),n=0}e[0]=ll(e[0],r),e[1]=ll(e[1],r);var u=gy(e,n);e[n]+=t;var l=i||0,c=r.slice();u.sign<0?c[0]+=l:c[1]-=l,e[n]=ll(e[n],c);var h;return h=gy(e,n),i!=null&&(h.sign!==u.sign||h.span<i)&&(e[1-n]=e[n]+u.sign*i),h=gy(e,n),a!=null&&h.span>a&&(e[1-n]=e[n]+h.sign*a),e}function gy(t,e){var r=t[e]-t[1-e];return{span:Math.abs(r),sign:r>0?-1:r<0?1:e?-1:1}}function ll(t,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,t))}var xu=!0,Ch=Math.min,uc=Math.max,Fee=Math.pow,$ee=1e4,Hee=6,zee=6,vC="globalPan",Uee={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Vee={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},gC={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Gee=0,jee=function(t){Me(e,t);function e(r){var n=t.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=r,n.group=new Mr,n._uid="brushController_"+Gee++,Z(Qee,function(i,a){this._handlers[a]=nr(i,this)},n),n}return e.prototype.enableBrush=function(r){return this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},e.prototype._doEnableBrush=function(r){var n=this._zr;this._enableGlobalPan||Oee(n,vC,this._uid),Z(this._handlers,function(i,a){n.on(a,i)}),this._brushType=r.brushType,this._brushOption=Tt(_t(gC),r,!0)},e.prototype._doDisableBrush=function(){var r=this._zr;Iee(r,vC,this._uid),Z(this._handlers,function(n,i){r.off(i,n)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(r){if(r&&r.length){var n=this._panels={};Z(r,function(i){n[i.panelId]=_t(i)})}else this._panels=null;return this},e.prototype.mount=function(r){r=r||{},this._enableGlobalPan=r.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=n.getLocalTransform(),this},e.prototype.updateCovers=function(r){r=qe(r,function(f){return Tt(_t(gC),f,!0)});var n="\0-brush-index-",i=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new Sh(i,r,l,u).add(c).update(c).remove(h).execute(),this;function u(f,p){return(f.id!=null?f.id:n+p)+"-"+f.brushType}function l(f,p){return u(f.__brushOption,p)}function c(f,p){var v=r[f];if(p!=null&&i[p]===s)a[f]=i[p];else{var g=a[f]=p!=null?(i[p].__brushOption=v,i[p]):zR(o,HR(o,v));bb(o,g)}}function h(f){i[f]!==s&&o.group.remove(i[f])}},e.prototype.unmount=function(){return this.enableBrush(!1),f1(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(Yi);function HR(t,e){var r=Ag[e.brushType].createCover(t,e);return r.__brushOption=e,VR(r,e),t.group.add(r),r}function zR(t,e){var r=xb(e);return r.endCreating&&(r.endCreating(t,e),VR(e,e.__brushOption)),e}function UR(t,e){var r=e.__brushOption;xb(e).updateCoverShape(t,e,r.range,r)}function VR(t,e){var r=e.z;r==null&&(r=$ee),t.traverse(function(n){n.z=r,n.z2=r})}function bb(t,e){xb(e).updateCommon(t,e),UR(t,e)}function xb(t){return Ag[t.__brushOption.brushType]}function Sb(t,e,r){var n=t._panels;if(!n)return xu;var i,a=t._transform;return Z(n,function(o){o.isTargetByCursor(e,r,a)&&(i=o)}),i}function GR(t,e){var r=t._panels;if(!r)return xu;var n=e.__brushOption.panelId;return n!=null?r[n]:xu}function f1(t){var e=t._covers,r=e.length;return Z(e,function(n){t.group.remove(n)},t),e.length=0,!!r}function Su(t,e){var r=qe(t._covers,function(n){var i=n.__brushOption,a=_t(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});t.trigger("brush",{areas:r,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Wee(t){var e=t._track;if(!e.length)return!1;var r=e[e.length-1],n=e[0],i=r[0]-n[0],a=r[1]-n[1],o=Fee(i*i+a*a,.5);return o>Hee}function jR(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function WR(t,e,r,n){var i=new Mr;return i.add(new Sr({name:"main",style:wb(r),silent:!0,draggable:!0,cursor:"move",drift:zt(mC,t,e,i,["n","s","w","e"]),ondragend:zt(Su,e,{isEnd:!0})})),Z(n,function(a){i.add(new Sr({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:zt(mC,t,e,i,a),ondragend:zt(Su,e,{isEnd:!0})}))}),i}function YR(t,e,r,n){var i=n.brushStyle.lineWidth||0,a=uc(i,zee),o=r[0][0],s=r[1][0],u=o-i/2,l=s-i/2,c=r[0][1],h=r[1][1],f=c-a+i/2,p=h-a+i/2,v=c-o,g=h-s,m=v+i,_=g+i;Ka(t,e,"main",o,s,v,g),n.transformable&&(Ka(t,e,"w",u,l,a,_),Ka(t,e,"e",f,l,a,_),Ka(t,e,"n",u,l,m,a),Ka(t,e,"s",u,p,m,a),Ka(t,e,"nw",u,l,a,a),Ka(t,e,"ne",f,l,a,a),Ka(t,e,"sw",u,p,a,a),Ka(t,e,"se",f,p,a,a))}function h1(t,e){var r=e.__brushOption,n=r.transformable,i=e.childAt(0);i.useStyle(wb(r)),i.attr({silent:!n,cursor:n?"move":"default"}),Z([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=e.childOfName(a.join("")),s=a.length===1?d1(t,a[0]):Xee(t,a);o&&o.attr({silent:!n,invisible:!n,cursor:n?Vee[s]+"-resize":null})})}function Ka(t,e,r,n,i,a,o){var s=e.childOfName(r);s&&s.setShape(Kee(Tb(t,e,[[n,i],[n+a,i+o]])))}function wb(t){return lt({strokeNoScale:!0},t.brushStyle)}function XR(t,e,r,n){var i=[Ch(t,r),Ch(e,n)],a=[uc(t,r),uc(e,n)];return[[i[0],a[0]],[i[1],a[1]]]}function Yee(t){return $_(t.group)}function d1(t,e){var r={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=sM(r[e],Yee(t));return n[i]}function Xee(t,e){var r=[d1(t,e[0]),d1(t,e[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function mC(t,e,r,n,i,a){var o=r.__brushOption,s=t.toRectRange(o.range),u=qR(e,i,a);Z(n,function(l){var c=Uee[l];s[c[0]][c[1]]+=u[c[0]]}),o.range=t.fromRectRange(XR(s[0][0],s[1][0],s[0][1],s[1][1])),bb(e,r),Su(e,{isEnd:!1})}function qee(t,e,r,n){var i=e.__brushOption.range,a=qR(t,r,n);Z(i,function(o){o[0]+=a[0],o[1]+=a[1]}),bb(t,e),Su(t,{isEnd:!1})}function qR(t,e,r){var n=t.group,i=n.transformCoordToLocal(e,r),a=n.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function Tb(t,e,r){var n=GR(t,e);return n&&n!==xu?n.clipPath(r,t._transform):_t(r)}function Kee(t){var e=Ch(t[0][0],t[1][0]),r=Ch(t[0][1],t[1][1]),n=uc(t[0][0],t[1][0]),i=uc(t[0][1],t[1][1]);return{x:e,y:r,width:n-e,height:i-r}}function Zee(t,e,r){if(!(!t._brushType||Jee(t,e.offsetX,e.offsetY))){var n=t._zr,i=t._covers,a=Sb(t,e,r);if(!t._dragging)for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(a&&(a===xu||s.panelId===a.panelId)&&Ag[s.brushType].contain(i[o],r[0],r[1]))return}a&&n.setCursorStyle("crosshair")}}function p1(t){var e=t.event;e.preventDefault&&e.preventDefault()}function v1(t,e,r){return t.childOfName("main").contain(e,r)}function KR(t,e,r,n){var i=t._creatingCover,a=t._creatingPanel,o=t._brushOption,s;if(t._track.push(r.slice()),Wee(t)||i){if(a&&!i){o.brushMode==="single"&&f1(t);var u=_t(o);u.brushType=yC(u.brushType,a),u.panelId=a===xu?null:a.panelId,i=t._creatingCover=HR(t,u),t._covers.push(i)}if(i){var l=Ag[yC(t._brushType,a)],c=i.__brushOption;c.range=l.getCreatingRange(Tb(t,i,t._track)),n&&(zR(t,i),l.updateCommon(t,i)),UR(t,i),s={isEnd:n}}}else n&&o.brushMode==="single"&&o.removeOnClick&&Sb(t,e,r)&&f1(t)&&(s={isEnd:n,removeOnClick:!0});return s}function yC(t,e){return t==="auto"?e.defaultBrushType:t}var Qee={mousedown:function(t){if(this._dragging)_C(this,t);else if(!t.target||!t.target.draggable){p1(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var r=this._creatingPanel=Sb(this,t,e);r&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,r=t.offsetY,n=this.group.transformCoordToLocal(e,r);if(Zee(this,t,n),this._dragging){p1(t);var i=KR(this,t,n,!1);i&&Su(this,i)}},mouseup:function(t){_C(this,t)}};function _C(t,e){if(t._dragging){p1(e);var r=e.offsetX,n=e.offsetY,i=t.group.transformCoordToLocal(r,n),a=KR(t,e,i,!0);t._dragging=!1,t._track=[],t._creatingCover=null,a&&Su(t,a)}}function Jee(t,e,r){var n=t._zr;return e<0||e>n.getWidth()||r<0||r>n.getHeight()}var Ag={lineX:bC(0),lineY:bC(1),rect:{createCover:function(t,e){function r(n){return n}return WR({toRectRange:r,fromRectRange:r},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=jR(t);return XR(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,r,n){YR(t,e,r,n)},updateCommon:h1,contain:v1},polygon:{createCover:function(t,e){var r=new Mr;return r.add(new $h({name:"main",style:wb(e),silent:!0})),r},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new ag({name:"main",draggable:!0,drift:zt(qee,t,e),ondragend:zt(Su,t,{isEnd:!0})}))},updateCoverShape:function(t,e,r,n){e.childAt(0).setShape({points:Tb(t,e,r)})},updateCommon:h1,contain:v1}};function bC(t){return{createCover:function(e,r){return WR({toRectRange:function(n){var i=[n,[0,100]];return t&&i.reverse(),i},fromRectRange:function(n){return n[t]}},e,r,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var r=jR(e),n=Ch(r[0][t],r[1][t]),i=uc(r[0][t],r[1][t]);return[n,i]},updateCoverShape:function(e,r,n,i){var a,o=GR(e,r);if(o!==xu&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(t);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-t]]}var u=[n,a];t&&u.reverse(),YR(e,r,u,i)},updateCommon:h1,contain:v1}}const ete=jee;function tte(t){return t=Cb(t),function(e){return uM(e,t)}}function rte(t,e){return t=Cb(t),function(r){var n=e??r,i=n?t.width:t.height,a=n?t.x:t.y;return[a,a+(i||0)]}}function nte(t,e,r){var n=Cb(t);return function(i,a){return n.contain(a[0],a[1])&&!Nee(i,e,r)}}function Cb(t){return Bt.create(t)}var eu=dr(),xC=_t,my=nr,ite=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(e,r,n,i){var a=r.get("value"),o=r.get("status");if(this._axisModel=e,this._axisPointerModel=r,this._api=n,!(!i&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var s=this._group,u=this._handle;if(!o||o==="hide"){s&&s.hide(),u&&u.hide();return}s&&s.show(),u&&u.show();var l={};this.makeElOption(l,a,e,r,n);var c=l.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var h=this._moveAnimation=this.determineAnimation(e,r);if(!s)s=this._group=new Mr,this.createPointerEl(s,l,e,r),this.createLabelEl(s,l,e,r),n.getZr().add(s);else{var f=zt(SC,r,h);this.updatePointerEl(s,l,f),this.updateLabelEl(s,l,f,r)}TC(s,r,!0),this._renderHandle(a)}},t.prototype.remove=function(e){this.clear(e)},t.prototype.dispose=function(e){this.clear(e)},t.prototype.determineAnimation=function(e,r){var n=r.get("animation"),i=e.axis,a=i.type==="category",o=r.get("snap");if(!o&&!a)return!1;if(n==="auto"||n==null){var s=this.animationThreshold;if(a&&i.getBandWidth()>s)return!0;if(o){var u=_b(e).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/u>s}return!1}return n===!0},t.prototype.makeElOption=function(e,r,n,i,a){},t.prototype.createPointerEl=function(e,r,n,i){var a=r.pointer;if(a){var o=eu(e).pointerEl=new jY[a.type](xC(r.pointer));e.add(o)}},t.prototype.createLabelEl=function(e,r,n,i){if(r.label){var a=eu(e).labelEl=new $r(xC(r.label));e.add(a),wC(a,i)}},t.prototype.updatePointerEl=function(e,r,n){var i=eu(e).pointerEl;i&&r.pointer&&(i.setStyle(r.pointer.style),n(i,{shape:r.pointer.shape}))},t.prototype.updateLabelEl=function(e,r,n,i){var a=eu(e).labelEl;a&&(a.setStyle(r.label.style),n(a,{x:r.label.x,y:r.label.y}),wC(a,i))},t.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=r.getModel("handle"),o=r.get("status");if(!a.get("show")||!o||o==="hide"){i&&n.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=ug(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(l){RP(l.event)},onmousedown:my(this._onHandleDragMove,this,0,0),drift:my(this._onHandleDragMove,this),ondragend:my(this._onHandleDragEnd,this)}),n.add(i)),TC(i,r,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=a.get("size");je(u)||(u=[u,u]),i.scaleX=u[0]/2,i.scaleY=u[1]/2,iL(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},t.prototype._moveHandleToValue=function(e,r){SC(this._axisPointerModel,!r&&this._moveAnimation,this._handle,yy(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(e,r){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(yy(n),[e,r],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(yy(i)),eu(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var r=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var r=e.getZr(),n=this._group,i=this._handle;r&&n&&(this._lastGraphicKey=null,n&&r.remove(n),i&&r.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),X0(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(e,r,n){return n=n||0,{x:e[n],y:e[1-n],width:r[n],height:r[1-n]}},t}();function SC(t,e,r,n){ZR(eu(r).lastProp,n)||(eu(r).lastProp=n,e?Vr(r,n,t):(r.stopAnimation(),r.attr(n)))}function ZR(t,e){if(nt(t)&&nt(e)){var r=!0;return Z(e,function(n,i){r=r&&ZR(t[i],n)}),!!r}else return t===e}function wC(t,e){t[e.get(["label","show"])?"show":"hide"]()}function yy(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function TC(t,e,r){var n=e.get("z"),i=e.get("zlevel");t&&t.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),i!=null&&(a.zlevel=i),a.silent=r)})}const QR=ite;function JR(t){var e=t.get("type"),r=t.getModel(e+"Style"),n;return e==="line"?(n=r.getLineStyle(),n.fill=null):e==="shadow"&&(n=r.getAreaStyle(),n.stroke=null),n}function eO(t,e,r,n,i){var a=r.get("value"),o=tO(a,e.axis,e.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),s=r.getModel("label"),u=mg(s.get("padding")||0),l=s.getFont(),c=Bh(o,l),h=i.position,f=c.width+u[1]+u[3],p=c.height+u[0]+u[2],v=i.align;v==="right"&&(h[0]-=f),v==="center"&&(h[0]-=f/2);var g=i.verticalAlign;g==="bottom"&&(h[1]-=p),g==="middle"&&(h[1]-=p/2),ate(h,f,p,n);var m=s.get("backgroundColor");(!m||m==="auto")&&(m=e.get(["axisLine","lineStyle","color"])),t.label={x:h[0],y:h[1],style:uo(s,{text:o,font:l,fill:s.getTextColor(),padding:u,backgroundColor:m}),z2:10}}function ate(t,e,r,n){var i=n.getWidth(),a=n.getHeight();t[0]=Math.min(t[0]+e,i)-e,t[1]=Math.min(t[1]+r,a)-r,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function tO(t,e,r,n,i){t=e.scale.parse(t);var a=e.scale.getLabel({value:t},{precision:i.precision}),o=i.formatter;if(o){var s={value:db(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};Z(n,function(u){var l=r.getSeriesByIndex(u.seriesIndex),c=u.dataIndexInside,h=l&&l.getDataParams(c);h&&s.seriesData.push(h)}),Je(o)?a=o.replace("{value}",a):ft(o)&&(a=o(s))}return a}function rO(t,e,r){var n=ec();return Kv(n,n,r.rotation),tv(n,n,r.position),sg([t.dataToCoord(e),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],n)}function ote(t,e,r,n,i,a){var o=sc.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=i.get(["label","margin"]),eO(e,n,i,a,{position:rO(n.axis,t,r),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function nO(t,e,r){return r=r||0,{x1:t[r],y1:t[1-r],x2:e[r],y2:e[1-r]}}function ste(t,e,r){return r=r||0,{x:t[r],y:t[1-r],width:e[r],height:e[1-r]}}function CC(t,e,r,n,i,a){return{cx:t,cy:e,r0:r,r:n,startAngle:i,endAngle:a,clockwise:!0}}var ute=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(r,n,i,a,o){var s=i.axis,u=s.grid,l=a.get("type"),c=AC(u,s).getOtherAxis(s).getGlobalExtent(),h=s.toGlobalCoord(s.dataToCoord(n,!0));if(l&&l!=="none"){var f=JR(a),p=lte[l](s,h,c);p.style=f,r.graphicKey=p.type,r.pointer=p}var v=u1(u.model,i);ote(n,r,v,i,a,o)},e.prototype.getHandleTransform=function(r,n,i){var a=u1(n.axis.grid.model,n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=rO(n.axis,r,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(r,n,i,a){var o=i.axis,s=o.grid,u=o.getGlobalExtent(!0),l=AC(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,h=[r.x,r.y];h[c]+=n[c],h[c]=Math.min(u[1],h[c]),h[c]=Math.max(u[0],h[c]);var f=(l[1]+l[0])/2,p=[f,f];p[c]=h[c];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:h[0],y:h[1],rotation:r.rotation,cursorPoint:p,tooltipOption:v[c]}},e}(QR);function AC(t,e){var r={};return r[e.dim+"AxisIndex"]=e.index,t.getCartesian(r)}var lte={line:function(t,e,r){var n=nO([e,r[0]],[e,r[1]],kC(t));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(t,e,r){var n=Math.max(1,t.getBandWidth()),i=r[1]-r[0];return{type:"Rect",shape:ste([e-n/2,r[0]],[n,i],kC(t))}}};function kC(t){return t.dim==="x"?0:1}const cte=ute;var fte=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Qt);const hte=fte;var ro=dr(),dte=Z;function iO(t,e,r){if(!wt.node){var n=e.getZr();ro(n).records||(ro(n).records={}),pte(n,e);var i=ro(n).records[t]||(ro(n).records[t]={});i.handler=r}}function pte(t,e){if(ro(t).initialized)return;ro(t).initialized=!0,r("click",zt(EC,"click")),r("mousemove",zt(EC,"mousemove")),r("globalout",gte);function r(n,i){t.on(n,function(a){var o=mte(e);dte(ro(t).records,function(s){s&&i(s,a,o.dispatchAction)}),vte(o.pendings,e)})}}function vte(t,e){var r=t.showTip.length,n=t.hideTip.length,i;r?i=t.showTip[r-1]:n&&(i=t.hideTip[n-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function gte(t,e,r){t.handler("leave",null,r)}function EC(t,e,r,n){e.handler(t,r,n)}function mte(t){var e={showTip:[],hideTip:[]},r=function(n){var i=e[n.type];i?i.push(n):(n.dispatchAction=r,t.dispatchAction(n))};return{dispatchAction:r,pendings:e}}function g1(t,e){if(!wt.node){var r=e.getZr(),n=(ro(r).records||{})[t];n&&(ro(r).records[t]=null)}}var yte=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i){var a=n.getComponent("tooltip"),o=r.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";iO("axisPointer",i,function(s,u,l){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&l({type:"updateAxisPointer",currTrigger:s,x:u&&u.offsetX,y:u&&u.offsetY})})},e.prototype.remove=function(r,n){g1("axisPointer",n)},e.prototype.dispose=function(r,n){g1("axisPointer",n)},e.type="axisPointer",e}(Qn);const _te=yte;function aO(t,e){var r=[],n=t.seriesIndex,i;if(n==null||!(i=e.getSeriesByIndex(n)))return{point:[]};var a=i.getData(),o=yu(a,t);if(o==null||o<0||je(o))return{point:[]};var s=a.getItemGraphicEl(o),u=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(o)||[];else if(u&&u.dataToPoint)if(t.isStacked){var l=u.getBaseAxis(),c=u.getOtherAxis(l),h=c.dim,f=l.dim,p=h==="x"||h==="radius"?1:0,v=a.mapDimension(f),g=[];g[p]=a.get(v,o),g[1-p]=a.get(a.getCalculationInfo("stackResultDimension"),o),r=u.dataToPoint(g)||[]}else r=u.dataToPoint(a.getValues(qe(u.dimensions,function(_){return a.mapDimension(_)}),o))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),r=[m.x+m.width/2,m.y+m.height/2]}return{point:r,el:s}}var PC=dr();function bte(t,e,r){var n=t.currTrigger,i=[t.x,t.y],a=t,o=t.dispatchAction||nr(r.dispatchAction,r),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){Up(i)&&(i=aO({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var u=Up(i),l=a.axesInfo,c=s.axesInfo,h=n==="leave"||Up(i),f={},p={},v={list:[],map:{}},g={showPointer:zt(Ste,p),showTooltip:zt(wte,v)};Z(s.coordSysMap,function(_,b){var w=u||_.containPoint(i);Z(s.coordSysAxesInfo[b],function(T,k){var A=T.axis,D=kte(l,T);if(!h&&w&&(!l||D)){var O=D&&D.value;O==null&&!u&&(O=A.pointToData(i)),O!=null&&DC(T,O,g,!1,f)}})});var m={};return Z(c,function(_,b){var w=_.linkGroup;w&&!p[b]&&Z(w.axesInfo,function(T,k){var A=p[k];if(T!==_&&A){var D=A.value;w.mapper&&(D=_.axis.scale.parse(w.mapper(D,MC(T),MC(_)))),m[_.key]=D}})}),Z(m,function(_,b){DC(c[b],_,g,!0,f)}),Tte(p,c,f),Cte(v,i,t,o),Ate(c,o,r),f}}function DC(t,e,r,n,i){var a=t.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!t.involveSeries){r.showPointer(t,e);return}var o=xte(e,t),s=o.payloadBatch,u=o.snapToValue;s[0]&&i.seriesIndex==null&&Oe(i,s[0]),!n&&t.snap&&a.containData(u)&&u!=null&&(e=u),r.showPointer(t,e,s),r.showTooltip(t,o,u)}}function xte(t,e){var r=e.axis,n=r.dim,i=t,a=[],o=Number.MAX_VALUE,s=-1;return Z(e.seriesModels,function(u,l){var c=u.getData().mapDimensionsAll(n),h,f;if(u.getAxisTooltipData){var p=u.getAxisTooltipData(c,t,r);f=p.dataIndices,h=p.nestestValue}else{if(f=u.getData().indicesOfNearest(c[0],t,r.type==="category"?.5:null),!f.length)return;h=u.getData().get(c[0],f[0])}if(!(h==null||!isFinite(h))){var v=t-h,g=Math.abs(v);g<=o&&((g<o||v>=0&&s<0)&&(o=g,s=v,i=h,a.length=0),Z(f,function(m){a.push({seriesIndex:u.seriesIndex,dataIndexInside:m,dataIndex:u.getData().getRawIndex(m)})}))}}),{payloadBatch:a,snapToValue:i}}function Ste(t,e,r,n){t[e.key]={value:r,payloadBatch:n}}function wte(t,e,r,n){var i=r.payloadBatch,a=e.axis,o=a.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var u=e.coordSys.model,l=Th(u),c=t.map[l];c||(c=t.map[l]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function Tte(t,e,r){var n=r.axesInfo=[];Z(e,function(i,a){var o=i.axisPointerModel.option,s=t[a];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function Cte(t,e,r,n){if(Up(e)||!t.list.length){n({type:"hideTip"});return}var i=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:t.list})}function Ate(t,e,r){var n=r.getZr(),i="axisPointerLastHighlights",a=PC(n)[i]||{},o=PC(n)[i]={};Z(t,function(l,c){var h=l.axisPointerModel.option;h.status==="show"&&Z(h.seriesDataIndices,function(f){var p=f.seriesIndex+" | "+f.dataIndex;o[p]=f})});var s=[],u=[];Z(a,function(l,c){!o[c]&&u.push(l)}),Z(o,function(l,c){!a[c]&&s.push(l)}),u.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:u}),s.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function kte(t,e){for(var r=0;r<(t||[]).length;r++){var n=t[r];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function MC(t){var e=t.axis.model,r={},n=r.axisDim=t.axis.dim;return r.axisIndex=r[n+"AxisIndex"]=e.componentIndex,r.axisName=r[n+"AxisName"]=e.name,r.axisId=r[n+"AxisId"]=e.id,r}function Up(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function Ab(t){jh.registerAxisPointerClass("CartesianAxisPointer",cte),t.registerComponentModel(hte),t.registerComponentView(_te),t.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var r=e.axisPointer.link;r&&!je(r)&&(e.axisPointer.link=[r])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(e,r){e.getComponent("axisPointer").coordSysAxesInfo=yee(e,r)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},bte)}function Bae(t){lo(Ree),lo(Ab)}var Ete=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(r,n,i,a,o){var s=i.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var u=s.polar,l=u.getOtherAxis(s),c=l.getExtent(),h=s.dataToCoord(n),f=a.get("type");if(f&&f!=="none"){var p=JR(a),v=Dte[f](s,u,h,c);v.style=p,r.graphicKey=v.type,r.pointer=v}var g=a.get(["label","margin"]),m=Pte(n,i,a,u,g);eO(r,i,a,o,m)},e}(QR);function Pte(t,e,r,n,i){var a=e.axis,o=a.dataToCoord(t),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var u=n.getRadiusAxis().getExtent(),l,c,h;if(a.dim==="radius"){var f=ec();Kv(f,f,s),tv(f,f,[n.cx,n.cy]),l=sg([o,-i],f);var p=e.getModel("axisLabel").get("rotate")||0,v=sc.innerTextLayout(s,p*Math.PI/180,-1);c=v.textAlign,h=v.textVerticalAlign}else{var g=u[1];l=n.coordToPoint([g+i,o]);var m=n.cx,_=n.cy;c=Math.abs(l[0]-m)/g<.3?"center":l[0]>m?"left":"right",h=Math.abs(l[1]-_)/g<.3?"middle":l[1]>_?"top":"bottom"}return{position:l,align:c,verticalAlign:h}}var Dte={line:function(t,e,r,n){return t.dim==="angle"?{type:"Line",shape:nO(e.coordToPoint([n[0],r]),e.coordToPoint([n[1],r]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r}}},shadow:function(t,e,r,n){var i=Math.max(1,t.getBandWidth()),a=Math.PI/180;return t.dim==="angle"?{type:"Sector",shape:CC(e.cx,e.cy,n[0],n[1],(-r-i/2)*a,(-r+i/2)*a)}:{type:"Sector",shape:CC(e.cx,e.cy,r-i/2,r+i/2,0,Math.PI*2)}}};const Mte=Ete;var Lte=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.findAxisModel=function(r){var n,i=this.ecModel;return i.eachComponent(r,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(Qt);const Rte=Lte;var kb=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Zr).models[0]},e.type="polarAxis",e}(Qt);Wi(kb,aR);var Ote=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="angleAxis",e}(kb),Ite=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="radiusAxis",e}(kb),Eb=function(t){Me(e,t);function e(r,n){return t.call(this,"radius",r,n)||this}return e.prototype.pointToData=function(r,n){return this.polar.pointToData(r,n)[this.dim==="radius"?0:1]},e}(Ru);Eb.prototype.dataToRadius=Ru.prototype.dataToCoord;Eb.prototype.radiusToData=Ru.prototype.coordToData;const Bte=Eb;var Nte=dr(),Pb=function(t){Me(e,t);function e(r,n){return t.call(this,"angle",r,n||[0,360])||this}return e.prototype.pointToData=function(r,n){return this.polar.pointToData(r,n)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var r=this,n=r.getLabelModel(),i=r.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=a[0],u=r.dataToCoord(s+1)-r.dataToCoord(s),l=Math.abs(u),c=Bh(s==null?"":s+"",n.getFont(),"center","top"),h=Math.max(c.height,7),f=h/l;isNaN(f)&&(f=1/0);var p=Math.max(0,Math.floor(f)),v=Nte(r.model),g=v.lastAutoInterval,m=v.lastTickCount;return g!=null&&m!=null&&Math.abs(g-p)<=1&&Math.abs(m-o)<=1&&g>p?p=g:(v.lastTickCount=o,v.lastAutoInterval=p),p},e}(Ru);Pb.prototype.dataToAngle=Ru.prototype.dataToCoord;Pb.prototype.angleToData=Ru.prototype.coordToData;const Fte=Pb;var oO=["radius","angle"],$te=function(){function t(e){this.dimensions=oO,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new Bte,this._angleAxis=new Fte,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(e){var r=this.pointToCoord(e);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},t.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},t.prototype.getAxis=function(e){var r="_"+e+"Axis";return this[r]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(e){var r=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&r.push(n),i.scale.type===e&&r.push(i),r},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(e){var r=this._angleAxis;return e===r?this._radiusAxis:r},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(e){var r=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},t.prototype.dataToPoint=function(e,r){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],r),this._angleAxis.dataToAngle(e[1],r)])},t.prototype.pointToData=function(e,r){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],r),this._angleAxis.angleToData(n[1],r)]},t.prototype.pointToCoord=function(e){var r=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),o=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);i.inverse?o=s-360:s=o+360;var u=Math.sqrt(r*r+n*n);r/=u,n/=u;for(var l=Math.atan2(-n,r)/Math.PI*180,c=l<o?1:-1;l<o||l>s;)l+=c*360;return[u,l]},t.prototype.coordToPoint=function(e){var r=e[0],n=e[1]/180*Math.PI,i=Math.cos(n)*r+this.cx,a=-Math.sin(n)*r+this.cy;return[i,a]},t.prototype.getArea=function(){var e=this.getAngleAxis(),r=this.getRadiusAxis(),n=r.getExtent().slice();n[0]>n[1]&&n.reverse();var i=e.getExtent(),a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:e.inverse,contain:function(o,s){var u=o-this.cx,l=s-this.cy,c=u*u+l*l-1e-4,h=this.r,f=this.r0;return c<=h*h&&c>=f*f}}},t.prototype.convertToPixel=function(e,r,n){var i=LC(r);return i===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,r,n){var i=LC(r);return i===this?this.pointToData(n):null},t}();function LC(t){var e=t.seriesModel,r=t.polarModel;return r&&r.coordinateSystem||e&&e.coordinateSystem}const Hte=$te;function zte(t,e,r){var n=e.get("center"),i=r.getWidth(),a=r.getHeight();t.cx=$t(n[0],i),t.cy=$t(n[1],a);var o=t.getRadiusAxis(),s=Math.min(i,a)/2,u=e.get("radius");u==null?u=[0,"100%"]:je(u)||(u=[0,u]);var l=[$t(u[0],s),$t(u[1],s)];o.inverse?o.setExtent(l[1],l[0]):o.setExtent(l[0],l[1])}function Ute(t,e){var r=this,n=r.getAngleAxis(),i=r.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),t.eachSeries(function(s){if(s.coordinateSystem===r){var u=s.getData();Z(Tv(u,"radius"),function(l){i.scale.unionExtentFromData(u,l)}),Z(Tv(u,"angle"),function(l){n.scale.unionExtentFromData(u,l)})}}),wv(n.scale,n.model),wv(i.scale,i.model),n.type==="category"&&!n.onBand){var a=n.getExtent(),o=360/n.scale.count();n.inverse?a[1]+=o:a[1]-=o,n.setExtent(a[0],a[1])}}function Vte(t){return t.mainType==="angleAxis"}function RC(t,e){if(t.type=e.get("type"),t.scale=nR(e),t.onBand=e.get("boundaryGap")&&t.type==="category",t.inverse=e.get("inverse"),Vte(e)){t.inverse=t.inverse!==e.get("clockwise");var r=e.get("startAngle");t.setExtent(r,r+(t.inverse?-360:360))}e.axis=t,t.model=e}var Gte={dimensions:oO,create:function(t,e){var r=[];return t.eachComponent("polar",function(n,i){var a=new Hte(i+"");a.update=Ute;var o=a.getRadiusAxis(),s=a.getAngleAxis(),u=n.findAxisModel("radiusAxis"),l=n.findAxisModel("angleAxis");RC(o,u),RC(s,l),zte(a,n,e),r.push(a),n.coordinateSystem=a,a.model=n}),t.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var i=n.getReferringComponents("polar",Zr).models[0];n.coordinateSystem=i.coordinateSystem}}),r}};const jte=Gte;var Wte=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function sp(t,e,r){e[1]>e[0]&&(e=e.slice().reverse());var n=t.coordToPoint([e[0],r]),i=t.coordToPoint([e[1],r]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function up(t){var e=t.getRadiusAxis();return e.inverse?0:1}function OC(t){var e=t[0],r=t[t.length-1];e&&r&&Math.abs(Math.abs(e.coord-r.coord)-360)<1e-4&&t.pop()}var Yte=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="PolarAxisPointer",r}return e.prototype.render=function(r,n){if(this.group.removeAll(),!!r.get("show")){var i=r.axis,a=i.polar,o=a.getRadiusAxis().getExtent(),s=i.getTicksCoords(),u=i.getMinorTicksCoords(),l=qe(i.getViewLabels(),function(c){c=_t(c);var h=i.scale,f=h.type==="ordinal"?h.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(f),c});OC(l),OC(s),Z(Wte,function(c){r.get([c,"show"])&&(!i.scale.isBlank()||c==="axisLine")&&Xte[c](this.group,r,a,s,u,o,l)},this)}},e.type="angleAxis",e}(jh),Xte={axisLine:function(t,e,r,n,i,a){var o=e.getModel(["axisLine","lineStyle"]),s=up(r),u=s?0:1,l;a[u]===0?l=new nc({shape:{cx:r.cx,cy:r.cy,r:a[s]},style:o.getLineStyle(),z2:1,silent:!0}):l=new O_({shape:{cx:r.cx,cy:r.cy,r:a[s],r0:a[u]},style:o.getLineStyle(),z2:1,silent:!0}),l.style.fill=null,t.add(l)},axisTick:function(t,e,r,n,i,a){var o=e.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),u=a[up(r)],l=qe(n,function(c){return new Fi({shape:sp(r,[u,u+s],c.coord)})});t.add(Ja(l,{style:lt(o.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,r,n,i,a){if(i.length){for(var o=e.getModel("axisTick"),s=e.getModel("minorTick"),u=(o.get("inside")?-1:1)*s.get("length"),l=a[up(r)],c=[],h=0;h<i.length;h++)for(var f=0;f<i[h].length;f++)c.push(new Fi({shape:sp(r,[l,l+u],i[h][f].coord)}));t.add(Ja(c,{style:lt(s.getModel("lineStyle").getLineStyle(),lt(o.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,r,n,i,a,o){var s=e.getCategories(!0),u=e.getModel("axisLabel"),l=u.get("margin"),c=e.get("triggerEvent");Z(o,function(h,f){var p=u,v=h.tickValue,g=a[up(r)],m=r.coordToPoint([g+l,h.coord]),_=r.cx,b=r.cy,w=Math.abs(m[0]-_)/g<.3?"center":m[0]>_?"left":"right",T=Math.abs(m[1]-b)/g<.3?"middle":m[1]>b?"top":"bottom";if(s&&s[v]){var k=s[v];nt(k)&&k.textStyle&&(p=new zr(k.textStyle,u,u.ecModel))}var A=new $r({silent:sc.isLabelSilent(e),style:uo(p,{x:m[0],y:m[1],fill:p.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:h.formattedLabel,align:w,verticalAlign:T})});if(t.add(A),c){var D=sc.makeAxisEventDataBase(e);D.targetType="axisLabel",D.value=h.rawLabel,Ut(A).eventData=D}},this)},splitLine:function(t,e,r,n,i,a){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),u=s.get("color"),l=0;u=u instanceof Array?u:[u];for(var c=[],h=0;h<n.length;h++){var f=l++%u.length;c[f]=c[f]||[],c[f].push(new Fi({shape:sp(r,a,n[h].coord)}))}for(var h=0;h<c.length;h++)t.add(Ja(c[h],{style:lt({stroke:u[h%u.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,r,n,i,a){if(i.length){for(var o=e.getModel("minorSplitLine"),s=o.getModel("lineStyle"),u=[],l=0;l<i.length;l++)for(var c=0;c<i[l].length;c++)u.push(new Fi({shape:sp(r,a,i[l][c].coord)}));t.add(Ja(u,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,r,n,i,a){if(n.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),u=s.get("color"),l=0;u=u instanceof Array?u:[u];for(var c=[],h=Math.PI/180,f=-n[0].coord*h,p=Math.min(a[0],a[1]),v=Math.max(a[0],a[1]),g=e.get("clockwise"),m=1,_=n.length;m<=_;m++){var b=m===_?n[0].coord:n[m].coord,w=l++%u.length;c[w]=c[w]||[],c[w].push(new zi({shape:{cx:r.cx,cy:r.cy,r0:p,r:v,startAngle:f,endAngle:-b*h,clockwise:g},silent:!0})),f=-b*h}for(var m=0;m<c.length;m++)t.add(Ja(c[m],{style:lt({fill:u[m%u.length]},s.getAreaStyle()),silent:!0}))}}};const qte=Yte;var Kte=["axisLine","axisTickLabel","axisName"],Zte=["splitLine","splitArea","minorSplitLine"],Qte=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="PolarAxisPointer",r}return e.prototype.render=function(r,n){if(this.group.removeAll(),!!r.get("show")){var i=this._axisGroup,a=this._axisGroup=new Mr;this.group.add(a);var o=r.axis,s=o.polar,u=s.getAngleAxis(),l=o.getTicksCoords(),c=o.getMinorTicksCoords(),h=u.getExtent()[0],f=o.getExtent(),p=ere(s,r,h),v=new sc(r,p);Z(Kte,v.add,v),a.add(v.getGroup()),H_(i,a,r),Z(Zte,function(g){r.get([g,"show"])&&!o.scale.isBlank()&&Jte[g](this.group,r,s,h,f,l,c)},this)}},e.type="radiusAxis",e}(jh),Jte={splitLine:function(t,e,r,n,i,a){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),u=s.get("color"),l=0;u=u instanceof Array?u:[u];for(var c=[],h=0;h<a.length;h++){var f=l++%u.length;c[f]=c[f]||[],c[f].push(new nc({shape:{cx:r.cx,cy:r.cy,r:Math.max(a[h].coord,0)}}))}for(var h=0;h<c.length;h++)t.add(Ja(c[h],{style:lt({stroke:u[h%u.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,r,n,i,a,o){if(o.length){for(var s=e.getModel("minorSplitLine"),u=s.getModel("lineStyle"),l=[],c=0;c<o.length;c++)for(var h=0;h<o[c].length;h++)l.push(new nc({shape:{cx:r.cx,cy:r.cy,r:o[c][h].coord}}));t.add(Ja(l,{style:lt({fill:null},u.getLineStyle()),silent:!0}))}},splitArea:function(t,e,r,n,i,a){if(a.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),u=s.get("color"),l=0;u=u instanceof Array?u:[u];for(var c=[],h=a[0].coord,f=1;f<a.length;f++){var p=l++%u.length;c[p]=c[p]||[],c[p].push(new zi({shape:{cx:r.cx,cy:r.cy,r0:h,r:a[f].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),h=a[f].coord}for(var f=0;f<c.length;f++)t.add(Ja(c[f],{style:lt({fill:u[f%u.length]},s.getAreaStyle()),silent:!0}))}}};function ere(t,e,r){return{position:[t.cx,t.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}const tre=Qte;function sO(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function uO(t,e){return e.dim+t.model.componentIndex}function rre(t,e,r){var n={},i=nre(xr(e.getSeriesByType(t),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));e.eachSeriesByType(t,function(a){if(a.coordinateSystem.type==="polar"){var o=a.getData(),s=a.coordinateSystem,u=s.getBaseAxis(),l=uO(s,u),c=sO(a),h=i[l][c],f=h.offset,p=h.width,v=s.getOtherAxis(u),g=a.coordinateSystem.cx,m=a.coordinateSystem.cy,_=a.get("barMinHeight")||0,b=a.get("barMinAngle")||0;n[c]=n[c]||[];for(var w=o.mapDimension(v.dim),T=o.mapDimension(u.dim),k=bu(o,w),A=u.dim!=="radius"||!a.get("roundCap",!0),D=v.dataToCoord(0),O=0,F=o.count();O<F;O++){var $=o.get(w,O),B=o.get(T,O),U=$>=0?"p":"n",H=D;k&&(n[c][B]||(n[c][B]={p:D,n:D}),H=n[c][B][U]);var W=void 0,z=void 0,G=void 0,Y=void 0;if(v.dim==="radius"){var Q=v.dataToCoord($)-D,J=u.dataToCoord(B);Math.abs(Q)<_&&(Q=(Q<0?-1:1)*_),W=H,z=H+Q,G=J-f,Y=G-p,k&&(n[c][B][U]=z)}else{var ae=v.dataToCoord($,A)-D,he=u.dataToCoord(B);Math.abs(ae)<b&&(ae=(ae<0?-1:1)*b),W=he+f,z=W+p,G=H,Y=H+ae,k&&(n[c][B][U]=Y)}o.setItemLayout(O,{cx:g,cy:m,r0:W,r:z,startAngle:-G*Math.PI/180,endAngle:-Y*Math.PI/180,clockwise:G>=Y})}}})}function nre(t){var e={};Z(t,function(n,i){var a=n.getData(),o=n.coordinateSystem,s=o.getBaseAxis(),u=uO(o,s),l=s.getExtent(),c=s.type==="category"?s.getBandWidth():Math.abs(l[1]-l[0])/a.count(),h=e[u]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=h.stacks;e[u]=h;var p=sO(n);f[p]||h.autoWidthCount++,f[p]=f[p]||{width:0,maxWidth:0};var v=$t(n.get("barWidth"),c),g=$t(n.get("barMaxWidth"),c),m=n.get("barGap"),_=n.get("barCategoryGap");v&&!f[p].width&&(v=Math.min(h.remainedWidth,v),f[p].width=v,h.remainedWidth-=v),g&&(f[p].maxWidth=g),m!=null&&(h.gap=m),_!=null&&(h.categoryGap=_)});var r={};return Z(e,function(n,i){r[i]={};var a=n.stacks,o=n.bandWidth,s=$t(n.categoryGap,o),u=$t(n.gap,1),l=n.remainedWidth,c=n.autoWidthCount,h=(l-s)/(c+(c-1)*u);h=Math.max(h,0),Z(a,function(g,m){var _=g.maxWidth;_&&_<h&&(_=Math.min(_,l),g.width&&(_=Math.min(_,g.width)),l-=_,g.width=_,c--)}),h=(l-s)/(c+(c-1)*u),h=Math.max(h,0);var f=0,p;Z(a,function(g,m){g.width||(g.width=h),p=g,f+=g.width*(1+u)}),p&&(f-=p.width*u);var v=-f/2;Z(a,function(g,m){r[i][m]=r[i][m]||{offset:v,width:g.width},v+=g.width*(1+u)})}),r}var ire={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},are={splitNumber:5},ore=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="polar",e}(Qn);function Nae(t){lo(Ab),jh.registerAxisPointerClass("PolarAxisPointer",Mte),t.registerCoordinateSystem("polar",jte),t.registerComponentModel(Rte),t.registerComponentView(ore),kv(t,"angle",Ote,ire),kv(t,"radius",Ite,are),t.registerComponentView(qte),t.registerComponentView(tre),t.registerLayout(zt(rre,"bar"))}var IC=["x","y","radius","angle","single"],sre=["cartesian2d","polar","singleAxis"];function ure(t){var e=t.get("coordinateSystem");return Dt(sre,e)>=0}function kl(t){return t+"Axis"}function lre(t,e){var r=ct(),n=[],i=ct();t.eachComponent({mainType:"dataZoom",query:e},function(c){i.get(c.uid)||s(c)});var a;do a=!1,t.eachComponent("dataZoom",o);while(a);function o(c){!i.get(c.uid)&&u(c)&&(s(c),a=!0)}function s(c){i.set(c.uid,!0),n.push(c),l(c)}function u(c){var h=!1;return c.eachTargetAxis(function(f,p){var v=r.get(f);v&&v[p]&&(h=!0)}),h}function l(c){c.eachTargetAxis(function(h,f){(r.get(h)||r.set(h,[]))[f]=!0})}return n}var _y=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},t}(),cre=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return e.prototype.init=function(r,n,i){var a=BC(r);this.settledOption=a,this.mergeDefaultAndTheme(r,i),this._doInit(a)},e.prototype.mergeOption=function(r){var n=BC(r);Tt(this.option,r,!0),Tt(this.settledOption,n,!0),this._doInit(n)},e.prototype._doInit=function(r){var n=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var i=this.settledOption;Z([["start","startValue"],["end","endValue"]],function(a,o){this._rangePropMode[o]==="value"&&(n[a[0]]=i[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var r=this.get("orient",!0),n=this._targetAxisInfoMap=ct(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(r){var n=!1;return Z(IC,function(i){var a=this.getReferringComponents(kl(i),Dj);if(a.specified){n=!0;var o=new _y;Z(a.models,function(s){o.add(s.componentIndex)}),r.set(i,o)}},this),n},e.prototype._fillAutoTargetAxisByOrient=function(r,n){var i=this.ecModel,a=!0;if(a){var o=n==="vertical"?"y":"x",s=i.findComponents({mainType:o+"Axis"});u(s,o)}if(a){var s=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===n}});u(s,"single")}function u(l,c){var h=l[0];if(h){var f=new _y;if(f.add(h.componentIndex),r.set(c,f),a=!1,c==="x"||c==="y"){var p=h.getReferringComponents("grid",Zr).models[0];p&&Z(l,function(v){h.componentIndex!==v.componentIndex&&p===v.getReferringComponents("grid",Zr).models[0]&&f.add(v.componentIndex)})}}}a&&Z(IC,function(l){if(a){var c=i.findComponents({mainType:kl(l),filter:function(f){return f.get("type",!0)==="category"}});if(c[0]){var h=new _y;h.add(c[0].componentIndex),r.set(l,h),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function(n){!r&&(r=n)},this),r==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(r){var n=this._rangePropMode,i=this.get("rangeMode");Z([["start","startValue"],["end","endValue"]],function(a,o){var s=r[a[0]]!=null,u=r[a[1]]!=null;s&&!u?n[o]="percent":!s&&u?n[o]="value":i?n[o]=i[o]:s&&(n[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function(n,i){r==null&&(r=this.ecModel.getComponent(kl(n),i))},this),r},e.prototype.eachTargetAxis=function(r,n){this._targetAxisInfoMap.each(function(i,a){Z(i.indexList,function(o){r.call(n,a,o)})})},e.prototype.getAxisProxy=function(r,n){var i=this.getAxisModel(r,n);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(r,n){var i=this._targetAxisInfoMap.get(r);if(i&&i.indexMap[n])return this.ecModel.getComponent(kl(r),n)},e.prototype.setRawRange=function(r){var n=this.option,i=this.settledOption;Z([["start","startValue"],["end","endValue"]],function(a){(r[a[0]]!=null||r[a[1]]!=null)&&(n[a[0]]=i[a[0]]=r[a[0]],n[a[1]]=i[a[1]]=r[a[1]])},this),this._updateRangeUse(r)},e.prototype.setCalculatedRange=function(r){var n=this.option;Z(["start","startValue","end","endValue"],function(i){n[i]=r[i]})},e.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},e.prototype.getValueRange=function(r,n){if(r==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(r,n).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var o=i[a],s=this._targetAxisInfoMap.get(o),u=0;u<s.indexList.length;u++){var l=this.getAxisProxy(o,s.indexList[u]);if(l.hostedBy(this))return l;n||(n=l)}return n},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(Qt);function BC(t){var e={};return Z(["start","end","startValue","endValue","throttle"],function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}const fre=cre;var hre=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="dataZoom.select",e}(fre);const dre=hre;var pre=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i,a){this.dataZoomModel=r,this.ecModel=n,this.api=i},e.type="dataZoom",e}(Qn);const vre=pre;var gre=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="dataZoom.select",e}(vre);const mre=gre;var xl=Z,NC=fj,yre=function(){function t(e,r,n,i){this._dimName=e,this._axisIndex=r,this.ecModel=i,this._dataZoomModel=n}return t.prototype.hostedBy=function(e){return this._dataZoomModel===e},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(r){if(ure(r)){var n=kl(this._dimName),i=r.getReferringComponents(n,Zr).models[0];i&&this._axisIndex===i.componentIndex&&e.push(r)}},this),e},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return _t(this._minMaxSpan)},t.prototype.calculateDataWindow=function(e){var r=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],u=[],l;xl(["start","end"],function(f,p){var v=e[f],g=e[f+"Value"];a[p]==="percent"?(v==null&&(v=o[p]),g=i.parse(Uo(v,o,r))):(l=!0,g=g==null?r[p]:i.parse(g),v=Uo(g,r,o)),u[p]=g==null||isNaN(g)?r[p]:g,s[p]=v==null||isNaN(v)?o[p]:v}),NC(u),NC(s);var c=this._minMaxSpan;l?h(u,s,r,o,!1):h(s,u,o,r,!0);function h(f,p,v,g,m){var _=m?"Span":"ValueSpan";$R(0,f,v,"all",c["min"+_],c["max"+_]);for(var b=0;b<2;b++)p[b]=Uo(f[b],v,g,!0),m&&(p[b]=i.parse(p[b]))}return{valueWindow:u,percentWindow:s}},t.prototype.reset=function(e){if(e===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=_re(this,this._dimName,r),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(e,r){if(e!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),a=e.get("filterMode"),o=this._valueWindow;if(a==="none")return;xl(i,function(u){var l=u.getData(),c=l.mapDimensionsAll(n);if(c.length){if(a==="weakFilter"){var h=l.getStore(),f=qe(c,function(p){return l.getDimensionIndex(p)},l);l.filterSelf(function(p){for(var v,g,m,_=0;_<c.length;_++){var b=h.get(f[_],p),w=!isNaN(b),T=b<o[0],k=b>o[1];if(w&&!T&&!k)return!0;w&&(m=!0),T&&(v=!0),k&&(g=!0)}return m&&v&&g})}else xl(c,function(p){if(a==="empty")u.setData(l=l.map(p,function(g){return s(g)?g:NaN}));else{var v={};v[p]=o,l.selectRange(v)}});xl(c,function(p){l.setApproximateExtent(o,p)})}});function s(u){return u>=o[0]&&u<=o[1]}},t.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},r=this._dataZoomModel,n=this._dataExtent;xl(["min","max"],function(i){var a=r.get(i+"Span"),o=r.get(i+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?a=Uo(n[0]+o,n,[0,100],!0):a!=null&&(o=Uo(a,[0,100],n,!0)-n[0]),e[i+"Span"]=a,e[i+"ValueSpan"]=o},this)},t.prototype._setAxisModel=function(){var e=this.getAxisModel(),r=this._percentWindow,n=this._valueWindow;if(r){var i=nD(n,[0,500]);i=Math.min(i,20);var a=e.axis.scale.rawExtentInfo;r[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(i)),r[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(i)),a.freeze()}},t}();function _re(t,e,r){var n=[1/0,-1/0];xl(r,function(o){xQ(n,o.getData(),e)});var i=t.getAxisModel(),a=tR(i.axis.scale,i,n).calculate();return[a.min,a.max]}const bre=yre;var xre={getTargetSeries:function(t){function e(i){t.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){var u=t.getComponent(kl(o),s);i(o,s,u,a)})})}e(function(i,a,o,s){o.__dzAxisProxy=null});var r=[];e(function(i,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new bre(i,a,s,t),r.push(o.__dzAxisProxy))});var n=ct();return Z(r,function(i){Z(i.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(t,e){t.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(n,i){r.getAxisProxy(n,i).reset(r)}),r.eachTargetAxis(function(n,i){r.getAxisProxy(n,i).filterData(r,e)})}),t.eachComponent("dataZoom",function(r){var n=r.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),a=n.getDataValueWindow();r.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};const Sre=xre;function wre(t){t.registerAction("dataZoom",function(e,r){var n=lre(r,e);Z(n,function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var FC=!1;function Tre(t){FC||(FC=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,Sre),wre(t),t.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Cre(t){t.registerComponentModel(dre),t.registerComponentView(mre),Tre(t)}var Ii=function(){function t(){}return t}(),lO={};function cf(t,e){lO[t]=e}function cO(t){return lO[t]}var Are=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;Z(this.option.feature,function(n,i){var a=cO(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(r)),Tt(n,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Qt);const kre=Are;function Ere(t,e,r){var n=e.getBoxLayoutParams(),i=e.get("padding"),a={width:r.getWidth(),height:r.getHeight()},o=as(n,a,i);Ul(e.get("orient"),t,e.get("itemGap"),o.width,o.height),yX(t,n,a,i)}function fO(t,e){var r=mg(e.get("padding")),n=e.getItemStyle(["color","opacity"]);return n.fill=e.get("backgroundColor"),t=new Sr({shape:{x:t.x-r[3],y:t.y-r[0],width:t.width+r[1]+r[3],height:t.height+r[0]+r[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1}),t}var Pre=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,n,i,a){var o=this.group;if(o.removeAll(),!r.get("show"))return;var s=+r.get("itemSize"),u=r.get("orient")==="vertical",l=r.get("feature")||{},c=this._features||(this._features={}),h=[];Z(l,function(v,g){h.push(g)}),new Sh(this._featureNames||[],h).add(f).update(f).remove(zt(f,null)).execute(),this._featureNames=h;function f(v,g){var m=h[v],_=h[g],b=l[m],w=new zr(b,r,r.ecModel),T;if(a&&a.newTitle!=null&&a.featureName===m&&(b.title=a.newTitle),m&&!_){if(Dre(m))T={onclick:w.option.onclick,featureName:m};else{var k=cO(m);if(!k)return;T=new k}c[m]=T}else if(T=c[_],!T)return;T.uid=Uh("toolbox-feature"),T.model=w,T.ecModel=n,T.api=i;var A=T instanceof Ii;if(!m&&_){A&&T.dispose&&T.dispose(n,i);return}if(!w.get("show")||A&&T.unusable){A&&T.remove&&T.remove(n,i);return}p(w,T,m),w.setIconStatus=function(D,O){var F=this.option,$=this.iconPaths;F.iconStatus=F.iconStatus||{},F.iconStatus[D]=O,$[D]&&(O==="emphasis"?tc:rc)($[D])},T instanceof Ii&&T.render&&T.render(w,n,i,a)}function p(v,g,m){var _=v.getModel("iconStyle"),b=v.getModel(["emphasis","iconStyle"]),w=g instanceof Ii&&g.getIcons?g.getIcons():v.get("icon"),T=v.get("title")||{},k,A;Je(w)?(k={},k[m]=w):k=w,Je(T)?(A={},A[m]=T):A=T;var D=v.iconPaths={};Z(k,function(O,F){var $=ug(O,{},{x:-s/2,y:-s/2,width:s,height:s});$.setStyle(_.getItemStyle());var B=$.ensureState("emphasis");B.style=b.getItemStyle();var U=new $r({style:{text:A[F],align:b.get("textAlign"),borderRadius:b.get("textBorderRadius"),padding:b.get("textPadding"),fill:null},ignore:!0});$.setTextContent(U),lg({el:$,componentModel:r,itemName:F,formatterParamsExtra:{title:A[F]}}),$.__title=A[F],$.on("mouseover",function(){var H=b.getItemStyle(),W=u?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";U.setStyle({fill:b.get("textFill")||H.fill||H.stroke||"#000",backgroundColor:b.get("textBackgroundColor")}),$.setTextConfig({position:b.get("textPosition")||W}),U.ignore=!r.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){v.get(["iconStatus",F])!=="emphasis"&&i.leaveEmphasis(this),U.hide()}),(v.get(["iconStatus",F])==="emphasis"?tc:rc)($),o.add($),$.on("click",nr(g.onclick,g,n,i,F)),D[F]=$})}Ere(o,r,i),o.add(fO(o.getBoundingRect(),r)),u||o.eachChild(function(v){var g=v.__title,m=v.ensureState("emphasis"),_=m.textConfig||(m.textConfig={}),b=v.getTextContent(),w=b&&b.ensureState("emphasis");if(w&&!ft(w)&&g){var T=w.style||(w.style={}),k=Bh(g,$r.makeFont(T)),A=v.x+o.x,D=v.y+o.y+s,O=!1;D+k.height>i.getHeight()&&(_.position="top",O=!0);var F=O?-5-k.height:s+10;A+k.width/2>i.getWidth()?(_.position=["100%",F],T.align="right"):A-k.width/2<0&&(_.position=[0,F],T.align="left")}})},e.prototype.updateView=function(r,n,i,a){Z(this._features,function(o){o instanceof Ii&&o.updateView&&o.updateView(o.model,n,i,a)})},e.prototype.remove=function(r,n){Z(this._features,function(i){i instanceof Ii&&i.remove&&i.remove(r,n)}),this.group.removeAll()},e.prototype.dispose=function(r,n){Z(this._features,function(i){i instanceof Ii&&i.dispose&&i.dispose(r,n)})},e.type="toolbox",e}(Qn);function Dre(t){return t.indexOf("my")===0}const Mre=Pre;var Lre=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(r,n){var i=this.model,a=i.get("name")||r.get("title.0.text")||"echarts",o=n.getZr().painter.getType()==="svg",s=o?"svg":i.get("type",!0)||"png",u=n.getConnectedDataURL({type:s,backgroundColor:i.get("backgroundColor",!0)||r.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),l=wt.browser;if(ft(MouseEvent)&&(l.newEdge||!l.ie&&!l.edge)){var c=document.createElement("a");c.download=a+"."+s,c.target="_blank",c.href=u;var h=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(h)}else if(window.navigator.msSaveOrOpenBlob||o){var f=u.split(","),p=f[0].indexOf("base64")>-1,v=o?decodeURIComponent(f[1]):f[1];p&&(v=window.atob(v));var g=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var m=v.length,_=new Uint8Array(m);m--;)_[m]=v.charCodeAt(m);var b=new Blob([_]);window.navigator.msSaveOrOpenBlob(b,g)}else{var w=document.createElement("iframe");document.body.appendChild(w);var T=w.contentWindow,k=T.document;k.open("image/svg+xml","replace"),k.write(v),k.close(),T.focus(),k.execCommand("SaveAs",!0,g),document.body.removeChild(w)}}else{var A=i.get("lang"),D='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(A&&A[0]||"")+'" /></body>',O=window.open();O.document.write(D),O.document.title=a}},e.getDefaultOption=function(r){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},e}(Ii);const Rre=Lre;var $C="__ec_magicType_stack__",Ore=[["line","bar"],["stack"]],Ire=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getIcons=function(){var r=this.model,n=r.get("icon"),i={};return Z(r.get("type"),function(a){n[a]&&(i[a]=n[a])}),i},e.getDefaultOption=function(r){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},e.prototype.onclick=function(r,n,i){var a=this.model,o=a.get(["seriesIndex",i]);if(HC[i]){var s={series:[]},u=function(h){var f=h.subType,p=h.id,v=HC[i](f,p,h,a);v&&(lt(v,h.option),s.series.push(v));var g=h.coordinateSystem;if(g&&g.type==="cartesian2d"&&(i==="line"||i==="bar")){var m=g.getAxesByScale("ordinal")[0];if(m){var _=m.dim,b=_+"Axis",w=h.getReferringComponents(b,Zr).models[0],T=w.componentIndex;s[b]=s[b]||[];for(var k=0;k<=T;k++)s[b][T]=s[b][T]||{};s[b][T].boundaryGap=i==="bar"}}};Z(Ore,function(h){Dt(h,i)>=0&&Z(h,function(f){a.setIconStatus(f,"normal")})}),a.setIconStatus(i,"emphasis"),r.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},u);var l,c=i;i==="stack"&&(l=Tt({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),n.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:l,featureName:"magicType"})}},e}(Ii),HC={line:function(t,e,r,n){if(t==="bar")return Tt({id:e,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(t,e,r,n){if(t==="line")return Tt({id:e,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(t,e,r,n){var i=r.get("stack")===$C;if(t==="line"||t==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),Tt({id:e,stack:i?"":$C},n.get(["option","stack"])||{},!0)}};La({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)});const Bre=Ire;var kg=new Array(60).join("-"),lc="	";function Nre(t){var e={},r=[],n=[];return t.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var o=a.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;e[s]||(e[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),e[s].series.push(i)}else r.push(i)}else r.push(i)}),{seriesGroupByCategoryAxis:e,other:r,meta:n}}function Fre(t){var e=[];return Z(t,function(r,n){var i=r.categoryAxis,a=r.valueAxis,o=a.dim,s=[" "].concat(qe(r.series,function(p){return p.name})),u=[i.model.getCategories()];Z(r.series,function(p){var v=p.getRawData();u.push(p.getRawData().mapArray(v.mapDimension(o),function(g){return g}))});for(var l=[s.join(lc)],c=0;c<u[0].length;c++){for(var h=[],f=0;f<u.length;f++)h.push(u[f][c]);l.push(h.join(lc))}e.push(l.join(`
`))}),e.join(`

`+kg+`

`)}function $re(t){return qe(t,function(e){var r=e.getRawData(),n=[e.name],i=[];return r.each(r.dimensions,function(){for(var a=arguments.length,o=arguments[a-1],s=r.getName(o),u=0;u<a-1;u++)i[u]=arguments[u];n.push((s?s+lc:"")+i.join(lc))}),n.join(`
`)}).join(`

`+kg+`

`)}function Hre(t){var e=Nre(t);return{value:xr([Fre(e.seriesGroupByCategoryAxis),$re(e.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+kg+`

`),meta:e.meta}}function Ev(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function zre(t){var e=t.slice(0,t.indexOf(`
`));if(e.indexOf(lc)>=0)return!0}var m1=new RegExp("["+lc+"]+","g");function Ure(t){for(var e=t.split(/\n+/g),r=Ev(e.shift()).split(m1),n=[],i=qe(r,function(u){return{name:u,data:[]}}),a=0;a<e.length;a++){var o=Ev(e[a]).split(m1);n.push(o.shift());for(var s=0;s<o.length;s++)i[s]&&(i[s].data[a]=o[s])}return{series:i,categories:n}}function Vre(t){for(var e=t.split(/\n+/g),r=Ev(e.shift()),n=[],i=0;i<e.length;i++){var a=Ev(e[i]);if(a){var o=a.split(m1),s="",u=void 0,l=!1;isNaN(o[0])?(l=!0,s=o[0],o=o.slice(1),n[i]={name:s,value:[]},u=n[i].value):u=n[i]=[];for(var c=0;c<o.length;c++)u.push(+o[c]);u.length===1&&(l?n[i].value=u[0]:n[i]=u[0])}}return{name:r,data:n}}function Gre(t,e){var r=t.split(new RegExp(`
*`+kg+`
*`,"g")),n={series:[]};return Z(r,function(i,a){if(zre(i)){var o=Ure(i),s=e[a],u=s.axisDim+"Axis";s&&(n[u]=n[u]||[],n[u][s.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{var o=Vre(i);n.series.push(o)}}),n}var jre=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(r,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||"#fff";var s=document.createElement("h4"),u=a.get("lang")||[];s.innerHTML=u[0]||a.get("title"),s.style.cssText="margin:10px 20px",s.style.color=a.get("textColor");var l=document.createElement("div"),c=document.createElement("textarea");l.style.cssText="overflow:auto";var h=a.get("optionToContent"),f=a.get("contentToOption"),p=Hre(r);if(ft(h)){var v=h(n.getOption());Je(v)?l.innerHTML=v:uh(v)&&l.appendChild(v)}else{c.readOnly=a.get("readOnly");var g=c.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=a.get("textColor"),g.borderColor=a.get("textareaBorderColor"),g.backgroundColor=a.get("textareaColor"),c.value=p.value,l.appendChild(c)}var m=p.meta,_=document.createElement("div");_.style.cssText="position:absolute;bottom:5px;left:0;right:0";var b="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",w=document.createElement("div"),T=document.createElement("div");b+=";background-color:"+a.get("buttonColor"),b+=";color:"+a.get("buttonTextColor");var k=this;function A(){i.removeChild(o),k._dom=null}g0(w,"click",A),g0(T,"click",function(){if(f==null&&h!=null||f!=null&&h==null){A();return}var D;try{ft(f)?D=f(l,n.getOption()):D=Gre(c.value,m)}catch(O){throw A(),new Error("Data view format error "+O)}D&&n.dispatchAction({type:"changeDataView",newOption:D}),A()}),w.innerHTML=u[1],T.innerHTML=u[2],T.style.cssText=w.style.cssText=b,!a.get("readOnly")&&_.appendChild(T),_.appendChild(w),o.appendChild(s),o.appendChild(l),o.appendChild(_),l.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},e.prototype.remove=function(r,n){this._dom&&n.getDom().removeChild(this._dom)},e.prototype.dispose=function(r,n){this.remove(r,n)},e.getDefaultOption=function(r){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return n},e}(Ii);function Wre(t,e){return qe(t,function(r,n){var i=e&&e[n];if(nt(i)&&!je(i)){var a=nt(r)&&!je(r);a||(r={value:r});var o=i.name!=null&&r.name==null;return r=lt(r,i),o&&delete r.name,r}else return r})}La({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var r=[];Z(t.newOption.series,function(n){var i=e.getSeriesByName(n.name)[0];if(!i)r.push(Oe({type:"scatter"},n));else{var a=i.get("data");r.push({name:n.name,data:Wre(n.data,a)})}}),e.mergeOption(lt({series:r},t.newOption))});const Yre=jre;var hO=Z,dO=dr();function Xre(t,e){var r=Db(t);hO(e,function(n,i){for(var a=r.length-1;a>=0;a--){var o=r[a];if(o[i])break}if(a<0){var s=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var u=s.getPercentRange();r[0][i]={dataZoomId:i,start:u[0],end:u[1]}}}}),r.push(e)}function qre(t){var e=Db(t),r=e[e.length-1];e.length>1&&e.pop();var n={};return hO(r,function(i,a){for(var o=e.length-1;o>=0;o--)if(i=e[o][a],i){n[a]=i;break}}),n}function Kre(t){dO(t).snapshots=null}function Zre(t){return Db(t).length}function Db(t){var e=dO(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Qre=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(r,n){Kre(r),n.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(r){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return n},e}(Ii);La({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});const Jre=Qre;var ene=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],tne=function(){function t(e,r,n){var i=this;this._targetInfoList=[];var a=zC(r,e);Z(rne,function(o,s){(!n||!n.include||Dt(n.include,s)>=0)&&o(a,i._targetInfoList)})}return t.prototype.setOutputRanges=function(e,r){return this.matchOutputRanges(e,r,function(n,i,a){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var o=by[n.brushType](0,a,i);n.__rangeOffset={offset:jC[n.brushType](o.values,n.range,[1,1]),xyMinMax:o.xyMinMax}}}),e},t.prototype.matchOutputRanges=function(e,r,n){Z(e,function(i){var a=this.findTargetInfo(i,r);a&&a!==!0&&Z(a.coordSyses,function(o){var s=by[i.brushType](1,o,i.range,!0);n(i,s.values,o,r)})},this)},t.prototype.setInputRanges=function(e,r){Z(e,function(n){var i=this.findTargetInfo(n,r);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var a=by[n.brushType](0,i.coordSys,n.coordRange),o=n.__rangeOffset;n.range=o?jC[n.brushType](a.values,o.offset,nne(a.xyMinMax,o.xyMinMax)):a.values}},this)},t.prototype.makePanelOpts=function(e,r){return qe(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:r?r(n):null,clipPath:tte(i),isTargetByCursor:nte(i,e,n.coordSysModel),getLinearBrushOtherExtent:rte(i)}})},t.prototype.controlSeries=function(e,r,n){var i=this.findTargetInfo(e,n);return i===!0||i&&Dt(i.coordSyses,r.coordinateSystem)>=0},t.prototype.findTargetInfo=function(e,r){for(var n=this._targetInfoList,i=zC(r,e),a=0;a<n.length;a++){var o=n[a],s=e.panelId;if(s){if(o.panelId===s)return o}else for(var u=0;u<UC.length;u++)if(UC[u](i,o))return o}return!0},t}();function y1(t){return t[0]>t[1]&&t.reverse(),t}function zC(t,e){return $f(t,e,{includeMainTypes:ene})}var rne={grid:function(t,e){var r=t.xAxisModels,n=t.yAxisModels,i=t.gridModels,a=ct(),o={},s={};!r&&!n&&!i||(Z(r,function(u){var l=u.axis.grid.model;a.set(l.id,l),o[l.id]=!0}),Z(n,function(u){var l=u.axis.grid.model;a.set(l.id,l),s[l.id]=!0}),Z(i,function(u){a.set(u.id,u),o[u.id]=!0,s[u.id]=!0}),a.each(function(u){var l=u.coordinateSystem,c=[];Z(l.getCartesians(),function(h,f){(Dt(r,h.getAxis("x").model)>=0||Dt(n,h.getAxis("y").model)>=0)&&c.push(h)}),e.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:c[0],coordSyses:c,getPanelRect:VC.grid,xAxisDeclared:o[u.id],yAxisDeclared:s[u.id]})}))},geo:function(t,e){Z(t.geoModels,function(r){var n=r.coordinateSystem;e.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:n,coordSyses:[n],getPanelRect:VC.geo})})}},UC=[function(t,e){var r=t.xAxisModel,n=t.yAxisModel,i=t.gridModel;return!i&&r&&(i=r.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===e.gridModel},function(t,e){var r=t.geoModel;return r&&r===e.geoModel}],VC={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform($_(t)),e}},by={lineX:zt(GC,0),lineY:zt(GC,1),rect:function(t,e,r,n){var i=t?e.pointToData([r[0][0],r[1][0]],n):e.dataToPoint([r[0][0],r[1][0]],n),a=t?e.pointToData([r[0][1],r[1][1]],n):e.dataToPoint([r[0][1],r[1][1]],n),o=[y1([i[0],a[0]]),y1([i[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(t,e,r,n){var i=[[1/0,-1/0],[1/0,-1/0]],a=qe(r,function(o){var s=t?e.pointToData(o,n):e.dataToPoint(o,n);return i[0][0]=Math.min(i[0][0],s[0]),i[1][0]=Math.min(i[1][0],s[1]),i[0][1]=Math.max(i[0][1],s[0]),i[1][1]=Math.max(i[1][1],s[1]),s});return{values:a,xyMinMax:i}}};function GC(t,e,r,n){var i=r.getAxis(["x","y"][t]),a=y1(qe([0,1],function(s){return e?i.coordToData(i.toLocalCoord(n[s]),!0):i.toGlobalCoord(i.dataToCoord(n[s]))})),o=[];return o[t]=a,o[1-t]=[NaN,NaN],{values:a,xyMinMax:o}}var jC={lineX:zt(WC,0),lineY:zt(WC,1),rect:function(t,e,r){return[[t[0][0]-r[0]*e[0][0],t[0][1]-r[0]*e[0][1]],[t[1][0]-r[1]*e[1][0],t[1][1]-r[1]*e[1][1]]]},polygon:function(t,e,r){return qe(t,function(n,i){return[n[0]-r[0]*e[i][0],n[1]-r[1]*e[i][1]]})}};function WC(t,e,r,n){return[e[0]-n[t]*r[0],e[1]-n[t]*r[1]]}function nne(t,e){var r=YC(t),n=YC(e),i=[r[0]/n[0],r[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function YC(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}const pO=tne;var _1=Z,ine=Aj("toolbox-dataZoom_"),ane=function(t){Me(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,n,i,a){this._brushController||(this._brushController=new ete(i.getZr()),this._brushController.on("brush",nr(this._onBrush,this)).mount()),une(r,n,this,a,i),sne(r,n)},e.prototype.onclick=function(r,n,i){one[i].call(this)},e.prototype.remove=function(r,n){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(r,n){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(r){var n=r.areas;if(!r.isEnd||!n.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var o=new pO(Mb(this.model),a,{include:["grid"]});o.matchOutputRanges(n,a,function(l,c,h){if(h.type==="cartesian2d"){var f=l.brushType;f==="rect"?(s("x",h,c[0]),s("y",h,c[1])):s({lineX:"x",lineY:"y"}[f],h,c)}}),Xre(a,i),this._dispatchZoomAction(i);function s(l,c,h){var f=c.getAxis(l),p=f.model,v=u(l,p,a),g=v.findRepresentativeAxisProxy(p).getMinMaxSpan();(g.minValueSpan!=null||g.maxValueSpan!=null)&&(h=$R(0,h.slice(),f.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),v&&(i[v.id]={dataZoomId:v.id,startValue:h[0],endValue:h[1]})}function u(l,c,h){var f;return h.eachComponent({mainType:"dataZoom",subType:"select"},function(p){var v=p.getAxisModel(l,c.componentIndex);v&&(f=p)}),f}},e.prototype._dispatchZoomAction=function(r){var n=[];_1(r,function(i,a){n.push(_t(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},e.getDefaultOption=function(r){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return n},e}(Ii),one={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(qre(this.ecModel))}};function Mb(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function sne(t,e){t.setIconStatus("back",Zre(e)>1?"emphasis":"normal")}function une(t,e,r,n,i){var a=r._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),r._isZoomActive=a,t.setIconStatus("zoom",a?"emphasis":"normal");var o=new pO(Mb(t),e,{include:["grid"]}),s=o.makePanelOpts(i,function(u){return u.xAxisDeclared&&!u.yAxisDeclared?"lineX":!u.xAxisDeclared&&u.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(s).enableBrush(a&&s.length?{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()}:!1)}kX("dataZoom",function(t){var e=t.getComponent("toolbox",0),r=["feature","dataZoom"];if(!e||e.get(r)==null)return;var n=e.getModel(r),i=[],a=Mb(n),o=$f(t,a);_1(o.xAxisModels,function(u){return s(u,"xAxis","xAxisIndex")}),_1(o.yAxisModels,function(u){return s(u,"yAxis","yAxisIndex")});function s(u,l,c){var h=u.componentIndex,f={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:ine+l+h};f[c]=h,i.push(f)}return i});const lne=ane;function Fae(t){t.registerComponentModel(kre),t.registerComponentView(Mre),cf("saveAsImage",Rre),cf("magicType",Bre),cf("dataView",Yre),cf("dataZoom",lne),cf("restore",Jre),lo(Cre)}var cne=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Qt);const fne=cne;function vO(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function gO(t){if(wt.domSupported){for(var e=document.documentElement.style,r=0,n=t.length;r<n;r++)if(t[r]in e)return t[r]}}var mO=gO(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hne=gO(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function yO(t,e){if(!t)return e;e=CM(e,!0);var r=t.indexOf(e);return t=r===-1?e:"-"+t.slice(0,r)+"-"+e,t.toLowerCase()}function dne(t,e){var r=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return r?e?r[e]:r:null}var pne=yO(hne,"transition"),Lb=yO(mO,"transform"),vne="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(wt.transform3dSupported?"will-change:transform;":"");function gne(t){return t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top",t}function mne(t,e,r){if(!Je(r)||r==="inside")return"";var n=t.get("backgroundColor"),i=t.get("borderWidth");e=_u(e);var a=gne(r),o=Math.max(Math.round(i)*1.5,6),s="",u=Lb+":",l;Dt(["left","right"],a)>-1?(s+="top:50%",u+="translateY(-50%) rotate("+(l=a==="left"?-225:-45)+"deg)"):(s+="left:50%",u+="translateX(-50%) rotate("+(l=a==="top"?225:45)+"deg)");var c=l*Math.PI/180,h=o+i,f=h*Math.abs(Math.cos(c))+h*Math.abs(Math.sin(c)),p=Math.round(((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-h)/2)*100)/100;s+=";"+a+":-"+p+"px";var v=e+" solid "+i+"px;",g=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+u+";","border-bottom:"+v,"border-right:"+v,"background-color:"+n+";"];return'<div style="'+g.join("")+'"></div>'}function yne(t,e){var r="cubic-bezier(0.23,1,0.32,1)",n=" "+t/2+"s "+r,i="opacity"+n+",visibility"+n;return e||(n=" "+t+"s "+r,i+=wt.transformSupported?","+Lb+n:",left"+n+",top"+n),pne+":"+i}function XC(t,e,r){var n=t.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!wt.transformSupported)return r?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var a=wt.transform3dSupported,o="translate"+(a?"3d":"")+"("+n+","+i+(a?",0":"")+")";return r?"top:0;left:0;"+Lb+":"+o+";":[["top",0],["left",0],[mO,o]]}function _ne(t){var e=[],r=t.get("fontSize"),n=t.getTextColor();n&&e.push("color:"+n),e.push("font:"+t.getFont()),r&&e.push("line-height:"+Math.round(r*3/2)+"px");var i=t.get("textShadowColor"),a=t.get("textShadowBlur")||0,o=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return i&&a&&e.push("text-shadow:"+o+"px "+s+"px "+a+"px "+i),Z(["decoration","align"],function(u){var l=t.get(u);l&&e.push("text-"+u+":"+l)}),e.join(";")}function bne(t,e,r){var n=[],i=t.get("transitionDuration"),a=t.get("backgroundColor"),o=t.get("shadowBlur"),s=t.get("shadowColor"),u=t.get("shadowOffsetX"),l=t.get("shadowOffsetY"),c=t.getModel("textStyle"),h=rL(t,"html"),f=u+"px "+l+"px "+o+"px "+s;return n.push("box-shadow:"+f),e&&i&&n.push(yne(i,r)),a&&n.push("background-color:"+a),Z(["width","color","radius"],function(p){var v="border-"+p,g=CM(v),m=t.get(g);m!=null&&n.push(v+":"+m+(p==="color"?"":"px"))}),n.push(_ne(c)),h!=null&&n.push("padding:"+mg(h).join("px ")+"px"),n.join(";")+";"}function qC(t,e,r,n,i){var a=e&&e.painter;if(r){var o=a&&a.getViewportRoot();o&&QV(t,o,document.body,n,i)}else{t[0]=n,t[1]=i;var s=a&&a.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var xne=function(){function t(e,r,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,wt.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var a=this._zr=r.getZr(),o=this._appendToBody=n&&n.appendToBody;qC(this._styleCoord,a,o,r.getWidth()/2,r.getHeight()/2),o?document.body.appendChild(i):e.appendChild(i),this._container=e;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(u){if(u=u||window.event,!s._enterable){var l=a.handler,c=a.painter.getViewportRoot();ai(c,u,!0),l.dispatch("mousemove",u)}},i.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return t.prototype.update=function(e){var r=this._container,n=dne(r,"position"),i=r.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative");var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},t.prototype.show=function(e,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,a=this._styleCoord;n.innerHTML?i.cssText=vne+bne(e,!this._firstShow,this._longHide)+XC(a[0],a[1],!0)+("border-color:"+_u(r)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(e,r,n,i,a){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(Je(a)&&n.get("trigger")==="item"&&!vO(n)&&(s=mne(n,i,a)),Je(e))o.innerHTML=e+s;else if(e){o.innerHTML="",je(e)||(e=[e]);for(var u=0;u<e.length;u++)uh(e[u])&&e[u].parentNode!==o&&o.appendChild(e[u]);if(s&&o.childNodes.length){var l=document.createElement("div");l.innerHTML=s,o.appendChild(l)}}},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},t.prototype.moveTo=function(e,r){var n=this._styleCoord;if(qC(n,this._zr,this._appendToBody,e,r),n[0]!=null&&n[1]!=null){var i=this.el.style,a=XC(n[0],n[1]);Z(a,function(o){i[o[0]]=o[1]})}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){var e=this,r=this.el.style;r.visibility="hidden",r.opacity="0",wt.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(nr(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}();const Sne=xne;var wne=function(){function t(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),ZC(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return t.prototype.update=function(e){var r=e.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(e,r,n,i,a){var o=this;nt(e)&&Ft(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new $r({style:{rich:r.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:rL(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),Z(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(l){o.el.style[l]=n.get(l)}),Z(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(l){o.el.style[l]=s.get(l)||0}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el,r=this.el.getBoundingRect(),n=KC(e.style);return[r.width+n.left+n.right,r.height+n.top+n.bottom]},t.prototype.moveTo=function(e,r){var n=this.el;if(n){var i=this._styleCoord;ZC(i,this._zr,e,r),e=i[0],r=i[1];var a=n.style,o=Fo(a.borderWidth||0),s=KC(a);n.x=e+o+s.left,n.y=r+o+s.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(nr(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function Fo(t){return Math.max(0,t)}function KC(t){var e=Fo(t.shadowBlur||0),r=Fo(t.shadowOffsetX||0),n=Fo(t.shadowOffsetY||0);return{left:Fo(e-r),right:Fo(e+r),top:Fo(e-n),bottom:Fo(e+n)}}function ZC(t,e,r,n){t[0]=r,t[1]=n,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}const Tne=wne;var Cne=new Sr({shape:{x:-1,y:-1,width:2,height:2}}),Ane=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,n){if(!(wt.node||!n.getDom())){var i=r.getComponent("tooltip"),a=this._renderMode=Lj(i.get("renderMode"));this._tooltipContent=a==="richText"?new Tne(n):new Sne(n.getDom(),n,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(r,n,i){if(!(wt.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=n,this._api=i;var a=this._tooltipContent;a.update(r),a.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?iL(this,"_updatePosition",50,"fixRate"):X0(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var r=this._tooltipModel,n=r.get("triggerOn");iO("itemTooltip",this._api,nr(function(i,a,o){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(a,o):i==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var r=this._tooltipModel,n=this._ecModel,i=this._api,a=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(r,n,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(r,n,i,a){if(!(a.from===this.uid||wt.node||!i.getDom())){var o=QC(a,i);this._ticket="";var s=a.dataByCoordSys,u=Dne(a,n,i);if(u){var l=u.el.getBoundingRect().clone();l.applyTransform(u.el.transform),this._tryShow({offsetX:l.x+l.width/2,offsetY:l.y+l.height/2,target:u.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=Cne;c.x=a.x,c.y=a.y,c.update(),Ut(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(r,n,i,a))return;var h=aO(a,n),f=h.point[0],p=h.point[1];f!=null&&p!=null&&this._tryShow({offsetX:f,offsetY:p,target:h.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},e.prototype.manuallyHideTip=function(r,n,i,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(QC(a,i))},e.prototype._manuallyAxisShowTip=function(r,n,i,a){var o=a.seriesIndex,s=a.dataIndex,u=n.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||u==null)){var l=n.getSeriesByIndex(o);if(l){var c=l.getData(),h=ff([c.getItemModel(s),l,(l.coordinateSystem||{}).model],this._tooltipModel);if(h.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}}},e.prototype._tryShow=function(r,n){var i=r.target,a=this._tooltipModel;if(a){this._lastX=r.offsetX,this._lastY=r.offsetY;var o=r.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,r);else if(i){this._lastDataByCoordSys=null;var s,u;Tf(i,function(l){if(Ut(l).dataIndex!=null)return s=l,!0;if(Ut(l).tooltipConfig!=null)return u=l,!0},!0),s?this._showSeriesItemTooltip(r,s,n):u?this._showComponentItemTooltip(r,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},e.prototype._showOrMove=function(r,n){var i=r.get("showDelay");n=nr(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},e.prototype._showAxisTooltip=function(r,n){var i=this._ecModel,a=this._tooltipModel,o=[n.offsetX,n.offsetY],s=ff([n.tooltipOption],a),u=this._renderMode,l=[],c=_h("section",{blocks:[],noHeader:!0}),h=[],f=new Ym;Z(r,function(b){Z(b.dataByAxis,function(w){var T=i.getComponent(w.axisDim+"Axis",w.axisIndex),k=w.value;if(!(!T||k==null)){var A=tO(k,T.axis,i,w.seriesDataIndices,w.valueLabelOpt),D=_h("section",{header:A,noHeader:!ga(A),sortBlocks:!0,blocks:[]});c.blocks.push(D),Z(w.seriesDataIndices,function(O){var F=i.getSeriesByIndex(O.seriesIndex),$=O.dataIndexInside,B=F.getDataParams($);if(!(B.dataIndex<0)){B.axisDim=w.axisDim,B.axisIndex=w.axisIndex,B.axisType=w.axisType,B.axisId=w.axisId,B.axisValue=db(T.axis,{value:k}),B.axisValueLabel=A,B.marker=f.makeTooltipMarker("item",_u(B.color),u);var U=$2(F.formatTooltip($,!0,null)),H=U.frag;if(H){var W=ff([F],a).get("valueFormatter");D.blocks.push(W?Oe({valueFormatter:W},H):H)}U.text&&h.push(U.text),l.push(B)}})}})}),c.blocks.reverse(),h.reverse();var p=n.position,v=s.get("order"),g=j2(c,f,u,v,i.get("useUTC"),s.get("textStyle"));g&&h.unshift(g);var m=u==="richText"?`

`:"<br/>",_=h.join(m);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(r,l)?this._updatePosition(s,p,o[0],o[1],this._tooltipContent,l):this._showTooltipContent(s,_,l,Math.random()+"",o[0],o[1],p,null,f)})},e.prototype._showSeriesItemTooltip=function(r,n,i){var a=this._ecModel,o=Ut(n),s=o.seriesIndex,u=a.getSeriesByIndex(s),l=o.dataModel||u,c=o.dataIndex,h=o.dataType,f=l.getData(h),p=this._renderMode,v=r.positionDefault,g=ff([f.getItemModel(c),l,u&&(u.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),m=g.get("trigger");if(!(m!=null&&m!=="item")){var _=l.getDataParams(c,h),b=new Ym;_.marker=b.makeTooltipMarker("item",_u(_.color),p);var w=$2(l.formatTooltip(c,!1,h)),T=g.get("order"),k=g.get("valueFormatter"),A=w.frag,D=A?j2(k?Oe({valueFormatter:k},A):A,b,p,T,a.get("useUTC"),g.get("textStyle")):w.text,O="item_"+l.name+"_"+c;this._showOrMove(g,function(){this._showTooltipContent(g,D,_,O,r.offsetX,r.offsetY,r.position,r.target,b)}),i({type:"showTip",dataIndexInside:c,dataIndex:f.getRawIndex(c),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(r,n,i){var a=Ut(n),o=a.tooltipConfig,s=o.option||{};if(Je(s)){var u=s;s={content:u,formatter:u}}var l=[s],c=this._ecModel.getComponent(a.componentMainType,a.componentIndex);c&&l.push(c),l.push({formatter:s.content});var h=r.positionDefault,f=ff(l,this._tooltipModel,h?{position:h}:null),p=f.get("content"),v=Math.random()+"",g=new Ym;this._showOrMove(f,function(){var m=_t(f.get("formatterParams")||{});this._showTooltipContent(f,p,m,v,r.offsetX,r.offsetY,r.position,n,g)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(r,n,i,a,o,s,u,l,c){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var h=this._tooltipContent;h.setEnterable(r.get("enterable"));var f=r.get("formatter");u=u||r.get("position");var p=n,v=this._getNearestPoint([o,s],i,r.get("trigger"),r.get("borderColor")),g=v.color;if(f)if(Je(f)){var m=r.ecModel.get("useUTC"),_=je(i)?i[0]:i,b=_&&_.axisType&&_.axisType.indexOf("time")>=0;p=f,b&&(p=hg(_.axisValue,p,m)),p=AM(p,i,!0)}else if(ft(f)){var w=nr(function(T,k){T===this._ticket&&(h.setContent(k,c,r,g,u),this._updatePosition(r,u,o,s,h,i,l))},this);this._ticket=a,p=f(i,a,w)}else p=f;h.setContent(p,c,r,g,u),h.show(r,g),this._updatePosition(r,u,o,s,h,i,l)}},e.prototype._getNearestPoint=function(r,n,i,a){if(i==="axis"||je(n))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!je(n))return{color:a||n.color||n.borderColor}},e.prototype._updatePosition=function(r,n,i,a,o,s,u){var l=this._api.getWidth(),c=this._api.getHeight();n=n||r.get("position");var h=o.getSize(),f=r.get("align"),p=r.get("verticalAlign"),v=u&&u.getBoundingRect().clone();if(u&&v.applyTransform(u.transform),ft(n)&&(n=n([i,a],s,o.el,v,{viewSize:[l,c],contentSize:h.slice()})),je(n))i=$t(n[0],l),a=$t(n[1],c);else if(nt(n)){var g=n;g.width=h[0],g.height=h[1];var m=as(g,{width:l,height:c});i=m.x,a=m.y,f=null,p=null}else if(Je(n)&&u){var _=Pne(n,v,h,r.get("borderWidth"));i=_[0],a=_[1]}else{var _=kne(i,a,o,l,c,f?null:20,p?null:20);i=_[0],a=_[1]}if(f&&(i-=JC(f)?h[0]/2:f==="right"?h[0]:0),p&&(a-=JC(p)?h[1]/2:p==="bottom"?h[1]:0),vO(r)){var _=Ene(i,a,o,l,c);i=_[0],a=_[1]}o.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(r,n){var i=this._lastDataByCoordSys,a=this._cbParamsList,o=!!i&&i.length===r.length;return o&&Z(i,function(s,u){var l=s.dataByAxis||[],c=r[u]||{},h=c.dataByAxis||[];o=o&&l.length===h.length,o&&Z(l,function(f,p){var v=h[p]||{},g=f.seriesDataIndices||[],m=v.seriesDataIndices||[];o=o&&f.value===v.value&&f.axisType===v.axisType&&f.axisId===v.axisId&&g.length===m.length,o&&Z(g,function(_,b){var w=m[b];o=o&&_.seriesIndex===w.seriesIndex&&_.dataIndex===w.dataIndex}),a&&Z(f.seriesDataIndices,function(_){var b=_.seriesIndex,w=n[b],T=a[b];w&&T&&T.data!==w.data&&(o=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=n,!!o},e.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},e.prototype.dispose=function(r,n){wt.node||!n.getDom()||(X0(this,"_updatePosition"),this._tooltipContent.dispose(),g1("itemTooltip",n))},e.type="tooltip",e}(Qn);function ff(t,e,r){var n=e.ecModel,i;r?(i=new zr(r,n,n),i=new zr(e.option,i,n)):i=e;for(var a=t.length-1;a>=0;a--){var o=t[a];o&&(o instanceof zr&&(o=o.get("tooltip",!0)),Je(o)&&(o={formatter:o}),o&&(i=new zr(o,i,n)))}return i}function QC(t,e){return t.dispatchAction||nr(e.dispatchAction,e)}function kne(t,e,r,n,i,a,o){var s=r.getSize(),u=s[0],l=s[1];return a!=null&&(t+u+a+2>n?t-=u+a:t+=a),o!=null&&(e+l+o>i?e-=l+o:e+=o),[t,e]}function Ene(t,e,r,n,i){var a=r.getSize(),o=a[0],s=a[1];return t=Math.min(t+o,n)-o,e=Math.min(e+s,i)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function Pne(t,e,r,n){var i=r[0],a=r[1],o=Math.ceil(Math.SQRT2*n)+8,s=0,u=0,l=e.width,c=e.height;switch(t){case"inside":s=e.x+l/2-i/2,u=e.y+c/2-a/2;break;case"top":s=e.x+l/2-i/2,u=e.y-a-o;break;case"bottom":s=e.x+l/2-i/2,u=e.y+c+o;break;case"left":s=e.x-i-o,u=e.y+c/2-a/2;break;case"right":s=e.x+l+o,u=e.y+c/2-a/2}return[s,u]}function JC(t){return t==="center"||t==="middle"}function Dne(t,e,r){var n=k_(t).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var a=Fh(e,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var s=r.getViewOfComponentModel(o),u;if(s.group.traverse(function(l){var c=Ut(l).tooltipConfig;if(c&&c.name===t.name)return u=l,!0}),u)return{componentMainType:i,componentIndex:o.componentIndex,el:u}}}}const Mne=Ane;function $ae(t){lo(Ab),t.registerComponentModel(fne),t.registerComponentView(Mne),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Sn),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Sn)}var Lne=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode={type:"box",ignoreSize:!0},r}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Qt),Rne=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,n,i){if(this.group.removeAll(),!!r.get("show")){var a=this.group,o=r.getModel("textStyle"),s=r.getModel("subtextStyle"),u=r.get("textAlign"),l=Mt(r.get("textBaseline"),r.get("textVerticalAlign")),c=new $r({style:uo(o,{text:r.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),h=c.getBoundingRect(),f=r.get("subtext"),p=new $r({style:uo(s,{text:f,fill:s.getTextColor(),y:h.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=r.get("link"),g=r.get("sublink"),m=r.get("triggerEvent",!0);c.silent=!v&&!m,p.silent=!g&&!m,v&&c.on("click",function(){x2(v,"_"+r.get("target"))}),g&&p.on("click",function(){x2(g,"_"+r.get("subtarget"))}),Ut(c).eventData=Ut(p).eventData=m?{componentType:"title",componentIndex:r.componentIndex}:null,a.add(c),f&&a.add(p);var _=a.getBoundingRect(),b=r.getBoxLayoutParams();b.width=_.width,b.height=_.height;var w=as(b,{width:i.getWidth(),height:i.getHeight()},r.get("padding"));u||(u=r.get("left")||r.get("right"),u==="middle"&&(u="center"),u==="right"?w.x+=w.width:u==="center"&&(w.x+=w.width/2)),l||(l=r.get("top")||r.get("bottom"),l==="center"&&(l="middle"),l==="bottom"?w.y+=w.height:l==="middle"&&(w.y+=w.height/2),l=l||"top"),a.x=w.x,a.y=w.y,a.markRedraw();var T={align:u,verticalAlign:l};c.setStyle(T),p.setStyle(T),_=a.getBoundingRect();var k=w.margin,A=r.getItemStyle(["color","opacity"]);A.fill=r.get("backgroundColor");var D=new Sr({shape:{x:_.x-k[3],y:_.y-k[0],width:_.width+k[1]+k[3],height:_.height+k[0]+k[2],r:r.get("borderRadius")},style:A,subPixelOptimize:!0,silent:!0});a.add(D)}},e.type="title",e}(Qn);function Hae(t){t.registerComponentModel(Lne),t.registerComponentView(Rne)}var One=function(t,e){if(e==="all")return{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}},Ine=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode={type:"box",ignoreSize:!0},r}return e.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),r.selected=r.selected||{},this._updateSelector(r)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.call(this,r,n),this._updateSelector(r)},e.prototype._updateSelector=function(r){var n=r.selector,i=this.ecModel;n===!0&&(n=r.selector=["all","inverse"]),je(n)&&Z(n,function(a,o){Je(a)&&(a={type:a}),n[o]=Tt(a,One(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<r.length;i++){var a=r[i].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(r[0].get("name"))}},e.prototype._updateData=function(r){var n=[],i=[];r.eachRawSeries(function(u){var l=u.name;i.push(l);var c;if(u.legendVisualProvider){var h=u.legendVisualProvider,f=h.getAllNames();r.isSeriesFiltered(u)||(i=i.concat(f)),f.length?n=n.concat(f):c=!0}else c=!0;c&&A_(u)&&n.push(u.name)}),this._availableNames=i;var a=this.get("data")||n,o=ct(),s=qe(a,function(u){return(Je(u)||Yt(u))&&(u={name:u}),o.get(u.name)?null:(o.set(u.name,!0),new zr(u,this,this.ecModel))},this);this._data=xr(s,function(u){return!!u})},e.prototype.getData=function(){return this._data},e.prototype.select=function(r){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;Z(a,function(o){n[o.get("name")]=!1})}n[r]=!0},e.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},e.prototype.toggleSelected=function(r){var n=this.option.selected;n.hasOwnProperty(r)||(n[r]=!0),this[n[r]?"unSelect":"select"](r)},e.prototype.allSelect=function(){var r=this._data,n=this.option.selected;Z(r,function(i){n[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var r=this._data,n=this.option.selected;Z(r,function(i){var a=i.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},e.prototype.isSelected=function(r){var n=this.option.selected;return!(n.hasOwnProperty(r)&&!n[r])&&Dt(this._availableNames,r)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Qt);const b1=Ine;var cl=zt,x1=Z,lp=Mr,Bne=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.newlineDisabled=!1,r}return e.prototype.init=function(){this.group.add(this._contentGroup=new lp),this.group.add(this._selectorGroup=new lp),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(r,n,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var o=r.get("align"),s=r.get("orient");(!o||o==="auto")&&(o=r.get("left")==="right"&&s==="vertical"?"right":"left");var u=r.get("selector",!0),l=r.get("selectorPosition",!0);u&&(!l||l==="auto")&&(l=s==="horizontal"?"end":"start"),this.renderInner(o,r,n,i,u,s,l);var c=r.getBoxLayoutParams(),h={width:i.getWidth(),height:i.getHeight()},f=r.get("padding"),p=as(c,h,f),v=this.layoutInner(r,o,p,a,u,l),g=as(lt({width:v.width,height:v.height},c),h,f);this.group.x=g.x-v.x,this.group.y=g.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=fO(v,r))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(r,n,i,a,o,s,u){var l=this.getContentGroup(),c=ct(),h=n.get("selectedMode"),f=[];i.eachRawSeries(function(p){!p.get("legendHoverLink")&&f.push(p.id)}),x1(n.getData(),function(p,v){var g=p.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var m=new lp;m.newline=!0,l.add(m);return}var _=i.getSeriesByName(g)[0];if(!c.get(g))if(_){var b=_.getData(),w=b.getVisual("legendLineStyle")||{},T=b.getVisual("legendIcon"),k=b.getVisual("style"),A=this._createItem(_,g,v,p,n,r,w,k,T,h,a);A.on("click",cl(eA,g,null,a,f)).on("mouseover",cl(S1,_.name,null,a,f)).on("mouseout",cl(w1,_.name,null,a,f)),c.set(g,!0)}else i.eachRawSeries(function(D){if(!c.get(g)&&D.legendVisualProvider){var O=D.legendVisualProvider;if(!O.containName(g))return;var F=O.indexOfName(g),$=O.getItemVisual(F,"style"),B=O.getItemVisual(F,"legendIcon"),U=no($.fill);U&&U[3]===0&&(U[3]=.2,$=Oe(Oe({},$),{fill:Qv(U,"rgba")}));var H=this._createItem(D,g,v,p,n,r,{},$,B,h,a);H.on("click",cl(eA,null,g,a,f)).on("mouseover",cl(S1,null,g,a,f)).on("mouseout",cl(w1,null,g,a,f)),c.set(g,!0)}},this)},this),o&&this._createSelector(o,n,a,s,u)},e.prototype._createSelector=function(r,n,i,a,o){var s=this.getSelectorGroup();x1(r,function(l){var c=l.type,h=new $r({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(h);var f=n.getModel("selectorLabel"),p=n.getModel(["emphasis","selectorLabel"]);Hh(h,{normal:f,emphasis:p},{defaultText:l.title}),I0(h)})},e.prototype._createItem=function(r,n,i,a,o,s,u,l,c,h,f){var p=r.visualDrawType,v=o.get("itemWidth"),g=o.get("itemHeight"),m=o.isSelected(n),_=a.get("symbolRotate"),b=a.get("symbolKeepAspect"),w=a.get("icon");c=w||c||"roundRect";var T=Nne(c,a,u,l,p,m,f),k=new lp,A=a.getModel("textStyle");if(ft(r.getLegendIcon)&&(!w||w==="inherit"))k.add(r.getLegendIcon({itemWidth:v,itemHeight:g,icon:c,iconRotate:_,itemStyle:T.itemStyle,lineStyle:T.lineStyle,symbolKeepAspect:b}));else{var D=w==="inherit"&&r.getData().getVisual("symbol")?_==="inherit"?r.getData().getVisual("symbolRotate"):_:0;k.add(Fne({itemWidth:v,itemHeight:g,icon:c,iconRotate:D,itemStyle:T.itemStyle,lineStyle:T.lineStyle,symbolKeepAspect:b}))}var O=s==="left"?v+5:-5,F=s,$=o.get("formatter"),B=n;Je($)&&$?B=$.replace("{name}",n??""):ft($)&&(B=$(n));var U=a.get("inactiveColor");k.add(new $r({style:uo(A,{text:B,x:O,y:g/2,fill:m?A.getTextColor():U,align:F,verticalAlign:"middle"})}));var H=new Sr({shape:k.getBoundingRect(),invisible:!0}),W=a.getModel("tooltip");return W.get("show")&&lg({el:H,componentModel:o,itemName:n,itemTooltipOption:W.option}),k.add(H),k.eachChild(function(z){z.silent=!0}),H.silent=!h,this.getContentGroup().add(k),I0(k),k.__legendDataIndex=i,k},e.prototype.layoutInner=function(r,n,i,a,o,s){var u=this.getContentGroup(),l=this.getSelectorGroup();Ul(r.get("orient"),u,r.get("itemGap"),i.width,i.height);var c=u.getBoundingRect(),h=[-c.x,-c.y];if(l.markRedraw(),u.markRedraw(),o){Ul("horizontal",l,r.get("selectorItemGap",!0));var f=l.getBoundingRect(),p=[-f.x,-f.y],v=r.get("selectorButtonGap",!0),g=r.getOrient().index,m=g===0?"width":"height",_=g===0?"height":"width",b=g===0?"y":"x";s==="end"?p[g]+=c[m]+v:h[g]+=f[m]+v,p[1-g]+=c[_]/2-f[_]/2,l.x=p[0],l.y=p[1],u.x=h[0],u.y=h[1];var w={x:0,y:0};return w[m]=c[m]+v+f[m],w[_]=Math.max(c[_],f[_]),w[b]=Math.min(0,f[b]+p[1-g]),w}else return u.x=h[0],u.y=h[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(Qn);function Nne(t,e,r,n,i,a,o){function s(m,_){m.lineWidth==="auto"&&(m.lineWidth=_.lineWidth>0?2:0),x1(m,function(b,w){m[w]==="inherit"&&(m[w]=_[w])})}var u=e.getModel("itemStyle"),l=u.getItemStyle(),c=t.lastIndexOf("empty",0)===0?"fill":"stroke",h=u.getShallow("decal");l.decal=!h||h==="inherit"?n.decal:J0(h,o),l.fill==="inherit"&&(l.fill=n[i]),l.stroke==="inherit"&&(l.stroke=n[c]),l.opacity==="inherit"&&(l.opacity=(i==="fill"?n:r).opacity),s(l,n);var f=e.getModel("lineStyle"),p=f.getLineStyle();if(s(p,r),l.fill==="auto"&&(l.fill=n.fill),l.stroke==="auto"&&(l.stroke=n.fill),p.stroke==="auto"&&(p.stroke=n.fill),!a){var v=e.get("inactiveBorderWidth"),g=l[c];l.lineWidth=v==="auto"?n.lineWidth>0&&g?2:0:l.lineWidth,l.fill=e.get("inactiveColor"),l.stroke=e.get("inactiveBorderColor"),p.stroke=f.get("inactiveColor"),p.lineWidth=f.get("inactiveWidth")}return{itemStyle:l,lineStyle:p}}function Fne(t){var e=t.icon||"roundRect",r=oc(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return r.setStyle(t.itemStyle),r.rotation=(t.iconRotate||0)*Math.PI/180,r.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function eA(t,e,r,n){w1(t,e,r,n),r.dispatchAction({type:"legendToggleSelect",name:t??e}),S1(t,e,r,n)}function _O(t){for(var e=t.getZr().storage.getDisplayList(),r,n=0,i=e.length;n<i&&!(r=e[n].states.emphasis);)n++;return r&&r.hoverLayer}function S1(t,e,r,n){_O(r)||r.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:n})}function w1(t,e,r,n){_O(r)||r.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:n})}const bO=Bne;function $ne(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(r){for(var n=0;n<e.length;n++)if(!e[n].isSelected(r.name))return!1;return!0})}function hf(t,e,r){var n={},i=t==="toggleSelected",a;return r.eachComponent("legend",function(o){i&&a!=null?o[a?"select":"unSelect"](e.name):t==="allSelect"||t==="inverseSelect"?o[t]():(o[t](e.name),a=o.isSelected(e.name));var s=o.getData();Z(s,function(u){var l=u.get("name");if(!(l===`
`||l==="")){var c=o.isSelected(l);n.hasOwnProperty(l)?n[l]=n[l]&&c:n[l]=c}})}),t==="allSelect"||t==="inverseSelect"?{selected:n}:{name:e.name,selected:n}}function Hne(t){t.registerAction("legendToggleSelect","legendselectchanged",zt(hf,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",zt(hf,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",zt(hf,"inverseSelect")),t.registerAction("legendSelect","legendselected",zt(hf,"select")),t.registerAction("legendUnSelect","legendunselected",zt(hf,"unSelect"))}function xO(t){t.registerComponentModel(b1),t.registerComponentView(bO),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,$ne),t.registerSubTypeDefaulter("legend",function(){return"plain"}),Hne(t)}var zne=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},e.prototype.init=function(r,n,i){var a=yg(r);t.prototype.init.call(this,r,n,i),tA(this,r,a)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.call(this,r,n),tA(this,this.option,r)},e.type="legend.scroll",e.defaultOption=dM(b1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(b1);function tA(t,e,r){var n=t.getOrient(),i=[1,1];i[n.index]=0,ic(e,r,{type:"box",ignoreSize:!!i})}const Une=zne;var rA=Mr,xy=["width","height"],Sy=["x","y"],Vne=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.newlineDisabled=!0,r._currentIndex=0,r}return e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new rA),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new rA)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(r,n,i,a,o,s,u){var l=this;t.prototype.renderInner.call(this,r,n,i,a,o,s,u);var c=this._controllerGroup,h=n.get("pageIconSize",!0),f=je(h)?h:[h,h];v("pagePrev",0);var p=n.getModel("pageTextStyle");c.add(new $r({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(g,m){var _=g+"DataIndex",b=ug(n.get("pageIcons",!0)[n.getOrient().name][m],{onclick:nr(l._pageGo,l,_,n,a)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});b.name=g,c.add(b)}},e.prototype.layoutInner=function(r,n,i,a,o,s){var u=this.getSelectorGroup(),l=r.getOrient().index,c=xy[l],h=Sy[l],f=xy[1-l],p=Sy[1-l];o&&Ul("horizontal",u,r.get("selectorItemGap",!0));var v=r.get("selectorButtonGap",!0),g=u.getBoundingRect(),m=[-g.x,-g.y],_=_t(i);o&&(_[c]=i[c]-g[c]-v);var b=this._layoutContentAndController(r,a,_,l,c,f,p,h);if(o){if(s==="end")m[l]+=b[c]+v;else{var w=g[c]+v;m[l]-=w,b[h]-=w}b[c]+=g[c]+v,m[1-l]+=b[p]+b[f]/2-g[f]/2,b[f]=Math.max(b[f],g[f]),b[p]=Math.min(b[p],g[p]+m[1-l]),u.x=m[0],u.y=m[1],u.markRedraw()}return b},e.prototype._layoutContentAndController=function(r,n,i,a,o,s,u,l){var c=this.getContentGroup(),h=this._containerGroup,f=this._controllerGroup;Ul(r.get("orient"),c,r.get("itemGap"),a?i.width:null,a?null:i.height),Ul("horizontal",f,r.get("pageButtonItemGap",!0));var p=c.getBoundingRect(),v=f.getBoundingRect(),g=this._showController=p[o]>i[o],m=[-p.x,-p.y];n||(m[a]=c[l]);var _=[0,0],b=[-v.x,-v.y],w=Mt(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(g){var T=r.get("pageButtonPosition",!0);T==="end"?b[a]+=i[o]-v[o]:_[a]+=v[o]+w}b[1-a]+=p[s]/2-v[s]/2,c.setPosition(m),h.setPosition(_),f.setPosition(b);var k={x:0,y:0};if(k[o]=g?i[o]:p[o],k[s]=Math.max(p[s],v[s]),k[u]=Math.min(0,v[u]+b[1-a]),h.__rectSize=i[o],g){var A={x:0,y:0};A[o]=Math.max(i[o]-v[o]-w,0),A[s]=k[s],h.setClipPath(new Sr({shape:A})),h.__rectSize=A[o]}else f.eachChild(function(O){O.attr({invisible:!0,silent:!0})});var D=this._getPageInfo(r);return D.pageIndex!=null&&Vr(c,{x:D.contentPosition[0],y:D.contentPosition[1]},g?r:null),this._updatePageInfoView(r,D),k},e.prototype._pageGo=function(r,n,i){var a=this._getPageInfo(n)[r];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},e.prototype._updatePageInfoView=function(r,n){var i=this._controllerGroup;Z(["pagePrev","pageNext"],function(c){var h=c+"DataIndex",f=n[h]!=null,p=i.childOfName(c);p&&(p.setStyle("fill",f?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),p.cursor=f?"pointer":"default")});var a=i.childOfName("pageText"),o=r.get("pageFormatter"),s=n.pageIndex,u=s!=null?s+1:0,l=n.pageCount;a&&o&&a.setStyle("text",Je(o)?o.replace("{current}",u==null?"":u+"").replace("{total}",l==null?"":l+""):o({current:u,total:l}))},e.prototype._getPageInfo=function(r){var n=r.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=r.getOrient().index,s=xy[o],u=Sy[o],l=this._findTargetItemIndex(n),c=i.children(),h=c[l],f=c.length,p=f?1:0,v={contentPosition:[i.x,i.y],pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return v;var g=T(h);v.contentPosition[o]=-g.s;for(var m=l+1,_=g,b=g,w=null;m<=f;++m)w=T(c[m]),(!w&&b.e>_.s+a||w&&!k(w,_.s))&&(b.i>_.i?_=b:_=w,_&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=_.i),++v.pageCount)),b=w;for(var m=l-1,_=g,b=g,w=null;m>=-1;--m)w=T(c[m]),(!w||!k(b,w.s))&&_.i<b.i&&(b=_,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=_.i),++v.pageCount,++v.pageIndex),_=w;return v;function T(A){if(A){var D=A.getBoundingRect(),O=D[u]+A[u];return{s:O,e:O+D[s],i:A.__legendDataIndex}}}function k(A,D){return A.e>=D&&A.s<=D+a}},e.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var n,i=this.getContentGroup(),a;return i.eachChild(function(o,s){var u=o.__legendDataIndex;a==null&&u!=null&&(a=s),u===r&&(n=s)}),n??a},e.type="legend.scroll",e}(bO);const Gne=Vne;function jne(t){t.registerAction("legendScroll","legendscroll",function(e,r){var n=e.scrollDataIndex;n!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(n)})})}function Wne(t){lo(xO),t.registerComponentModel(Une),t.registerComponentView(Gne),jne(t)}function zae(t){lo(xO),lo(Wne)}var nA={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Yne=function(){function t(e){var r=this._condVal=Je(e)?new RegExp(e):BV(e)?e:null;if(r==null){var n="";Ft(n)}}return t.prototype.evaluate=function(e){var r=typeof e;return Je(r)?this._condVal.test(e):Yt(r)?this._condVal.test(e+""):!1},t}(),Xne=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),qne=function(){function t(){}return t.prototype.evaluate=function(){for(var e=this.children,r=0;r<e.length;r++)if(!e[r].evaluate())return!1;return!0},t}(),Kne=function(){function t(){}return t.prototype.evaluate=function(){for(var e=this.children,r=0;r<e.length;r++)if(e[r].evaluate())return!0;return!1},t}(),Zne=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),Qne=function(){function t(){}return t.prototype.evaluate=function(){for(var e=!!this.valueParser,r=this.getValue,n=r(this.valueGetterParam),i=e?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?i:n))return!1;return!0},t}();function Rb(t,e){if(t===!0||t===!1){var r=new Xne;return r.value=t,r}var n="";return SO(t)||Ft(n),t.and?iA("and",t,e):t.or?iA("or",t,e):t.not?Jne(t,e):eie(t,e)}function iA(t,e,r){var n=e[t],i="";je(n)||Ft(i),n.length||Ft(i);var a=t==="and"?new qne:new Kne;return a.children=qe(n,function(o){return Rb(o,r)}),a.children.length||Ft(i),a}function Jne(t,e){var r=t.not,n="";SO(r)||Ft(n);var i=new Zne;return i.child=Rb(r,e),i.child||Ft(n),i}function eie(t,e){for(var r="",n=e.prepareGetValue(t),i=[],a=cr(t),o=t.parser,s=o?GM(o):null,u=0;u<a.length;u++){var l=a[u];if(!(l==="parser"||e.valueGetterAttrMap.get(l))){var c=ao(nA,l)?nA[l]:l,h=t[l],f=s?s(h):h,p=hq(c,f)||c==="reg"&&new Yne(f);p||Ft(r),i.push(p)}}i.length||Ft(r);var v=new Qne;return v.valueGetterParam=n,v.valueParser=s,v.getValue=e.getValue,v.subCondList=i,v}function SO(t){return nt(t)&&!wn(t)}var tie=function(){function t(e,r){this._cond=Rb(e,r)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();function rie(t,e){return new tie(t,e)}var nie={type:"echarts:filter",transform:function(t){for(var e=t.upstream,r,n=rie(t.config,{valueGetterAttrMap:ct({dimension:!0}),prepareGetValue:function(s){var u="",l=s.dimension;ao(s,"dimension")||Ft(u);var c=e.getDimensionInfo(l);return c||Ft(u),{dimIdx:c.index}},getValue:function(s){return e.retrieveValueFromItem(r,s.dimIdx)}}),i=[],a=0,o=e.count();a<o;a++)r=e.getRawDataItem(a),n.evaluate()&&i.push(r);return{data:i}}},iie={type:"echarts:sort",transform:function(t){var e=t.upstream,r=t.config,n="",i=Cr(r);i.length||Ft(n);var a=[];Z(i,function(c){var h=c.dimension,f=c.order,p=c.parser,v=c.incomparable;if(h==null&&Ft(n),f!=="asc"&&f!=="desc"&&Ft(n),v&&v!=="min"&&v!=="max"){var g="";Ft(g)}if(f!=="asc"&&f!=="desc"){var m="";Ft(m)}var _=e.getDimensionInfo(h);_||Ft(n);var b=p?GM(p):null;p&&!b&&Ft(n),a.push({dimIdx:_.index,parser:b,comparator:new WM(f,v)})});var o=e.sourceFormat;o!==Tn&&o!==wi&&Ft(n);for(var s=[],u=0,l=e.count();u<l;u++)s.push(e.getRawDataItem(u));return s.sort(function(c,h){for(var f=0;f<a.length;f++){var p=a[f],v=e.retrieveValueFromItem(c,p.dimIdx),g=e.retrieveValueFromItem(h,p.dimIdx);p.parser&&(v=p.parser(v),g=p.parser(g));var m=p.comparator.evaluate(v,g);if(m!==0)return m}return 0}),{data:s}}};function Uae(t){t.registerTransform(nie),t.registerTransform(iie)}var aie=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dataset",r}return e.prototype.init=function(r,n,i){t.prototype.init.call(this,r,n,i),this._sourceManager=new KM(this),V2(this)},e.prototype.mergeOption=function(r,n){t.prototype.mergeOption.call(this,r,n),V2(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Sa},e}(Qt),oie=function(t){Me(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dataset",r}return e.type="dataset",e}(Qn);function Vae(t){t.registerComponentModel(aie),t.registerComponentView(oie)}var fa=so.CMD;function El(t,e){return Math.abs(t-e)<1e-5}function T1(t){var e=t.data,r=t.len(),n=[],i,a=0,o=0,s=0,u=0;function l(H,W){i&&i.length>2&&n.push(i),i=[H,W]}function c(H,W,z,G){El(H,z)&&El(W,G)||i.push(H,W,z,G,z,G)}function h(H,W,z,G,Y,Q){var J=Math.abs(W-H),ae=Math.tan(J/4)*4/3,he=W<H?-1:1,pe=Math.cos(H),Se=Math.sin(H),we=Math.cos(W),Le=Math.sin(W),Fe=pe*Y+z,se=Se*Q+G,ve=we*Y+z,ge=Le*Q+G,be=Y*ae*he,Te=Q*ae*he;i.push(Fe-be*Se,se+Te*pe,ve+be*Le,ge-Te*we,ve,ge)}for(var f,p,v,g,m=0;m<r;){var _=e[m++],b=m===1;switch(b&&(a=e[m],o=e[m+1],s=a,u=o,(_===fa.L||_===fa.C||_===fa.Q)&&(i=[s,u])),_){case fa.M:a=s=e[m++],o=u=e[m++],l(s,u);break;case fa.L:f=e[m++],p=e[m++],c(a,o,f,p),a=f,o=p;break;case fa.C:i.push(e[m++],e[m++],e[m++],e[m++],a=e[m++],o=e[m++]);break;case fa.Q:f=e[m++],p=e[m++],v=e[m++],g=e[m++],i.push(a+2/3*(f-a),o+2/3*(p-o),v+2/3*(f-v),g+2/3*(p-g),v,g),a=v,o=g;break;case fa.A:var w=e[m++],T=e[m++],k=e[m++],A=e[m++],D=e[m++],O=e[m++]+D;m+=1;var F=!e[m++];f=Math.cos(D)*k+w,p=Math.sin(D)*A+T,b?(s=f,u=p,l(s,u)):c(a,o,f,p),a=Math.cos(O)*k+w,o=Math.sin(O)*A+T;for(var $=(F?-1:1)*Math.PI/2,B=D;F?B>O:B<O;B+=$){var U=F?Math.max(B+$,O):Math.min(B+$,O);h(B,U,w,T,k,A)}break;case fa.R:s=a=e[m++],u=o=e[m++],f=s+e[m++],p=u+e[m++],l(f,u),c(f,u,f,p),c(f,p,s,p),c(s,p,s,u),c(s,u,f,u);break;case fa.Z:i&&c(a,o,s,u),a=s,o=u;break}}return i&&i.length>2&&n.push(i),n}function C1(t,e,r,n,i,a,o,s,u,l){if(El(t,r)&&El(e,n)&&El(i,o)&&El(a,s)){u.push(o,s);return}var c=2/l,h=c*c,f=o-t,p=s-e,v=Math.sqrt(f*f+p*p);f/=v,p/=v;var g=r-t,m=n-e,_=i-o,b=a-s,w=g*g+m*m,T=_*_+b*b;if(w<h&&T<h){u.push(o,s);return}var k=f*g+p*m,A=-f*_-p*b,D=w-k*k,O=T-A*A;if(D<h&&k>=0&&O<h&&A>=0){u.push(o,s);return}var F=[],$=[];rs(t,r,i,o,.5,F),rs(e,n,a,s,.5,$),C1(F[0],$[0],F[1],$[1],F[2],$[2],F[3],$[3],u,l),C1(F[4],$[4],F[5],$[5],F[6],$[6],F[7],$[7],u,l)}function sie(t,e){var r=T1(t),n=[];e=e||1;for(var i=0;i<r.length;i++){var a=r[i],o=[],s=a[0],u=a[1];o.push(s,u);for(var l=2;l<a.length;){var c=a[l++],h=a[l++],f=a[l++],p=a[l++],v=a[l++],g=a[l++];C1(s,u,c,h,f,p,v,g,o,e),s=v,u=g}n.push(o)}return n}function wO(t,e,r){var n=t[e],i=t[1-e],a=Math.abs(n/i),o=Math.ceil(Math.sqrt(a*r)),s=Math.floor(r/o);s===0&&(s=1,o=r);for(var u=[],l=0;l<o;l++)u.push(s);var c=o*s,h=r-c;if(h>0)for(var l=0;l<h;l++)u[l%o]+=1;return u}function aA(t,e,r){for(var n=t.r0,i=t.r,a=t.startAngle,o=t.endAngle,s=Math.abs(o-a),u=s*i,l=i-n,c=u>Math.abs(l),h=wO([u,l],c?0:1,e),f=(c?s:l)/h.length,p=0;p<h.length;p++)for(var v=(c?l:s)/h[p],g=0;g<h[p];g++){var m={};c?(m.startAngle=a+f*p,m.endAngle=a+f*(p+1),m.r0=n+v*g,m.r=n+v*(g+1)):(m.startAngle=a+v*g,m.endAngle=a+v*(g+1),m.r0=n+f*p,m.r=n+f*(p+1)),m.clockwise=t.clockwise,m.cx=t.cx,m.cy=t.cy,r.push(m)}}function uie(t,e,r){for(var n=t.width,i=t.height,a=n>i,o=wO([n,i],a?0:1,e),s=a?"width":"height",u=a?"height":"width",l=a?"x":"y",c=a?"y":"x",h=t[s]/o.length,f=0;f<o.length;f++)for(var p=t[u]/o[f],v=0;v<o[f];v++){var g={};g[l]=f*h,g[c]=v*p,g[s]=h,g[u]=p,g.x+=t.x,g.y+=t.y,r.push(g)}}function oA(t,e,r,n){return t*n-r*e}function lie(t,e,r,n,i,a,o,s){var u=r-t,l=n-e,c=o-i,h=s-a,f=oA(c,h,u,l);if(Math.abs(f)<1e-6)return null;var p=t-i,v=e-a,g=oA(p,v,c,h)/f;return g<0||g>1?null:new at(g*u+t,g*l+e)}function cie(t,e,r){var n=new at;at.sub(n,r,e),n.normalize();var i=new at;at.sub(i,t,e);var a=i.dot(n);return a}function fl(t,e){var r=t[t.length-1];r&&r[0]===e[0]&&r[1]===e[1]||t.push(e)}function fie(t,e,r){for(var n=t.length,i=[],a=0;a<n;a++){var o=t[a],s=t[(a+1)%n],u=lie(o[0],o[1],s[0],s[1],e.x,e.y,r.x,r.y);u&&i.push({projPt:cie(u,e,r),pt:u,idx:a})}if(i.length<2)return[{points:t},{points:t}];i.sort(function(m,_){return m.projPt-_.projPt});var l=i[0],c=i[i.length-1];if(c.idx<l.idx){var h=l;l=c,c=h}for(var f=[l.pt.x,l.pt.y],p=[c.pt.x,c.pt.y],v=[f],g=[p],a=l.idx+1;a<=c.idx;a++)fl(v,t[a].slice());fl(v,p),fl(v,f);for(var a=c.idx+1;a<=l.idx+n;a++)fl(g,t[a%n].slice());return fl(g,f),fl(g,p),[{points:v},{points:g}]}function sA(t){var e=t.points,r=[],n=[];_D(e,r,n);var i=new Bt(r[0],r[1],n[0]-r[0],n[1]-r[1]),a=i.width,o=i.height,s=i.x,u=i.y,l=new at,c=new at;return a>o?(l.x=c.x=s+a/2,l.y=u,c.y=u+o):(l.y=c.y=u+o/2,l.x=s,c.x=s+a),fie(e,l,c)}function Pv(t,e,r,n){if(r===1)n.push(e);else{var i=Math.floor(r/2),a=t(e);Pv(t,a[0],i,n),Pv(t,a[1],r-i,n)}return n}function hie(t,e){for(var r=[],n=0;n<e;n++)r.push(R_(t));return r}function die(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function pie(t){for(var e=[],r=0;r<t.length;)e.push([t[r++],t[r++]]);return e}function vie(t,e){var r=[],n=t.shape,i;switch(t.type){case"rect":uie(n,e,r),i=Sr;break;case"sector":aA(n,e,r),i=zi;break;case"circle":aA({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},e,r),i=zi;break;default:var a=t.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=qe(sie(t.getUpdatedPathProxy(),o),function(_){return pie(_)}),u=s.length;if(u===0)Pv(sA,{points:s[0]},e,r);else if(u===e)for(var l=0;l<u;l++)r.push({points:s[l]});else{var c=0,h=qe(s,function(_){var b=[],w=[];_D(_,b,w);var T=(w[1]-b[1])*(w[0]-b[0]);return c+=T,{poly:_,area:T}});h.sort(function(_,b){return b.area-_.area});for(var f=e,l=0;l<u;l++){var p=h[l];if(f<=0)break;var v=l===u-1?f:Math.ceil(p.area/c*e);v<0||(Pv(sA,{points:p.poly},v,r),f-=v)}}i=ag;break}if(!i)return hie(t,e);for(var g=[],l=0;l<r.length;l++){var m=new i;m.setShape(r[l]),die(t,m),g.push(m)}return g}function gie(t,e){var r=t.length,n=e.length;if(r===n)return[t,e];for(var i=[],a=[],o=r<n?t:e,s=Math.min(r,n),u=Math.abs(n-r)/6,l=(s-2)/6,c=Math.ceil(u/l)+1,h=[o[0],o[1]],f=u,p=2;p<s;){var v=o[p-2],g=o[p-1],m=o[p++],_=o[p++],b=o[p++],w=o[p++],T=o[p++],k=o[p++];if(f<=0){h.push(m,_,b,w,T,k);continue}for(var A=Math.min(f,c-1)+1,D=1;D<=A;D++){var O=D/A;rs(v,m,b,T,O,i),rs(g,_,w,k,O,a),v=i[3],g=a[3],h.push(i[1],a[1],i[2],a[2],v,g),m=i[5],_=a[5],b=i[6],w=a[6]}f-=A-1}return o===t?[h,e]:[t,h]}function uA(t,e){for(var r=t.length,n=t[r-2],i=t[r-1],a=[],o=0;o<e.length;)a[o++]=n,a[o++]=i;return a}function mie(t,e){for(var r,n,i,a=[],o=[],s=0;s<Math.max(t.length,e.length);s++){var u=t[s],l=e[s],c=void 0,h=void 0;u?l?(r=gie(u,l),c=r[0],h=r[1],n=c,i=h):(h=uA(i||u,u),c=u):(c=uA(n||l,l),h=l),a.push(c),o.push(h)}return[a,o]}function lA(t){for(var e=0,r=0,n=0,i=t.length,a=0,o=i-2;a<i;o=a,a+=2){var s=t[o],u=t[o+1],l=t[a],c=t[a+1],h=s*c-l*u;e+=h,r+=(s+l)*h,n+=(u+c)*h}return e===0?[t[0]||0,t[1]||0]:[r/e/3,n/e/3,e]}function yie(t,e,r,n){for(var i=(t.length-2)/6,a=1/0,o=0,s=t.length,u=s-2,l=0;l<i;l++){for(var c=l*6,h=0,f=0;f<s;f+=2){var p=f===0?c:(c+f-2)%u+2,v=t[p]-r[0],g=t[p+1]-r[1],m=e[f]-n[0],_=e[f+1]-n[1],b=m-v,w=_-g;h+=b*b+w*w}h<a&&(a=h,o=l)}return o}function _ie(t){for(var e=[],r=t.length,n=0;n<r;n+=2)e[n]=t[r-n-2],e[n+1]=t[r-n-1];return e}function bie(t,e,r,n){for(var i=[],a,o=0;o<t.length;o++){var s=t[o],u=e[o],l=lA(s),c=lA(u);a==null&&(a=l[2]<0!=c[2]<0);var h=[],f=[],p=0,v=1/0,g=[],m=s.length;a&&(s=_ie(s));for(var _=yie(s,u,l,c)*6,b=m-2,w=0;w<b;w+=2){var T=(_+w)%b+2;h[w+2]=s[T]-l[0],h[w+3]=s[T+1]-l[1]}if(h[0]=s[_]-l[0],h[1]=s[_+1]-l[1],r>0)for(var k=n/r,A=-n/2;A<=n/2;A+=k){for(var D=Math.sin(A),O=Math.cos(A),F=0,w=0;w<s.length;w+=2){var $=h[w],B=h[w+1],U=u[w]-c[0],H=u[w+1]-c[1],W=U*O-H*D,z=U*D+H*O;g[w]=W,g[w+1]=z;var G=W-$,Y=z-B;F+=G*G+Y*Y}if(F<v){v=F,p=A;for(var Q=0;Q<g.length;Q++)f[Q]=g[Q]}}else for(var J=0;J<m;J+=2)f[J]=u[J]-c[0],f[J+1]=u[J+1]-c[1];i.push({from:h,to:f,fromCp:l,toCp:c,rotation:-p})}return i}function Dv(t){return t.__isCombineMorphing}var TO="__mOriginal_";function Mv(t,e,r){var n=TO+e,i=t[n]||t[e];t[n]||(t[n]=t[e]);var a=r.replace,o=r.after,s=r.before;t[e]=function(){var u=arguments,l;return s&&s.apply(this,u),a?l=a.apply(this,u):l=i.apply(this,u),o&&o.apply(this,u),l}}function Xf(t,e){var r=TO+e;t[r]&&(t[e]=t[r],t[r]=null)}function cA(t,e){for(var r=0;r<t.length;r++)for(var n=t[r],i=0;i<n.length;){var a=n[i],o=n[i+1];n[i++]=e[0]*a+e[2]*o+e[4],n[i++]=e[1]*a+e[3]*o+e[5]}}function CO(t,e){var r=t.getUpdatedPathProxy(),n=e.getUpdatedPathProxy(),i=mie(T1(r),T1(n)),a=i[0],o=i[1],s=t.getComputedTransform(),u=e.getComputedTransform();function l(){this.transform=null}s&&cA(a,s),u&&cA(o,u),Mv(e,"updateTransform",{replace:l}),e.transform=null;var c=bie(a,o,10,Math.PI),h=[];Mv(e,"buildPath",{replace:function(f){for(var p=e.__morphT,v=1-p,g=[],m=0;m<c.length;m++){var _=c[m],b=_.from,w=_.to,T=_.rotation*p,k=_.fromCp,A=_.toCp,D=Math.sin(T),O=Math.cos(T);kp(g,k,A,p);for(var F=0;F<b.length;F+=2){var $=b[F],B=b[F+1],U=w[F],H=w[F+1],W=$*v+U*p,z=B*v+H*p;h[F]=W*O-z*D+g[0],h[F+1]=W*D+z*O+g[1]}var G=h[0],Y=h[1];f.moveTo(G,Y);for(var F=2;F<b.length;){var U=h[F++],H=h[F++],Q=h[F++],J=h[F++],ae=h[F++],he=h[F++];G===U&&Y===H&&Q===ae&&J===he?f.lineTo(ae,he):f.bezierCurveTo(U,H,Q,J,ae,he),G=ae,Y=he}}}})}function Ob(t,e,r){if(!t||!e)return e;var n=r.done,i=r.during;CO(t,e),e.__morphT=0;function a(){Xf(e,"buildPath"),Xf(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},lt({during:function(o){e.dirtyShape(),i&&i(o)},done:function(){a(),n&&n()}},r)),e}function xie(t,e,r,n,i,a){var o=16;t=i===r?0:Math.round(32767*(t-r)/(i-r)),e=a===n?0:Math.round(32767*(e-n)/(a-n));for(var s=0,u,l=(1<<o)/2;l>0;l/=2){var c=0,h=0;(t&l)>0&&(c=1),(e&l)>0&&(h=1),s+=l*l*(3*c^h),h===0&&(c===1&&(t=l-1-t,e=l-1-e),u=t,t=e,e=u)}return s}function Lv(t){var e=1/0,r=1/0,n=-1/0,i=-1/0,a=qe(t,function(s){var u=s.getBoundingRect(),l=s.getComputedTransform(),c=u.x+u.width/2+(l?l[4]:0),h=u.y+u.height/2+(l?l[5]:0);return e=Math.min(c,e),r=Math.min(h,r),n=Math.max(c,n),i=Math.max(h,i),[c,h]}),o=qe(a,function(s,u){return{cp:s,z:xie(s[0],s[1],e,r,n,i),path:t[u]}});return o.sort(function(s,u){return s.z-u.z}).map(function(s){return s.path})}function AO(t){return vie(t.path,t.count)}function A1(){return{fromIndividuals:[],toIndividuals:[],count:0}}function Sie(t,e,r){var n=[];function i(k){for(var A=0;A<k.length;A++){var D=k[A];Dv(D)?i(D.childrenRef()):D instanceof Lt&&n.push(D)}}i(t);var a=n.length;if(!a)return A1();var o=r.dividePath||AO,s=o({path:e,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),A1();n=Lv(n),s=Lv(s);for(var u=r.done,l=r.during,c=r.individualDelay,h=new Ih,f=0;f<a;f++){var p=n[f],v=s[f];v.parent=e,v.copyTransform(h),c||CO(p,v)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function g(k){for(var A=0;A<s.length;A++)s[A].addSelfToZr(k)}Mv(e,"addSelfToZr",{after:function(k){g(k)}}),Mv(e,"removeSelfFromZr",{after:function(k){for(var A=0;A<s.length;A++)s[A].removeSelfFromZr(k)}});function m(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,Xf(e,"addSelfToZr"),Xf(e,"removeSelfFromZr")}var _=s.length;if(c)for(var b=_,w=function(){b--,b===0&&(m(),u&&u())},f=0;f<_;f++){var T=c?lt({delay:(r.delay||0)+c(f,_,n[f],s[f]),done:w},r):r;Ob(n[f],s[f],T)}else e.__morphT=0,e.animateTo({__morphT:1},lt({during:function(k){for(var A=0;A<_;A++){var D=s[A];D.__morphT=e.__morphT,D.dirtyShape()}l&&l(k)},done:function(){m();for(var k=0;k<t.length;k++)Xf(t[k],"updateTransform");u&&u()}},r));return e.__zr&&g(e.__zr),{fromIndividuals:n,toIndividuals:s,count:_}}function wie(t,e,r){var n=e.length,i=[],a=r.dividePath||AO;function o(p){for(var v=0;v<p.length;v++){var g=p[v];Dv(g)?o(g.childrenRef()):g instanceof Lt&&i.push(g)}}if(Dv(t)){o(t.childrenRef());var s=i.length;if(s<n)for(var u=0,l=s;l<n;l++)i.push(R_(i[u++%s]));i.length=n}else{i=a({path:t,count:n});for(var c=t.getComputedTransform(),l=0;l<i.length;l++)i[l].setLocalTransform(c);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),A1()}i=Lv(i),e=Lv(e);for(var h=r.individualDelay,l=0;l<n;l++){var f=h?lt({delay:(r.delay||0)+h(l,n,i[l],e[l])},r):r;Ob(i[l],e[l],f)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}function fA(t){return je(t[0])}function hA(t,e){for(var r=[],n=t.length,i=0;i<n;i++)r.push({one:t[i],many:[]});for(var i=0;i<e.length;i++){var a=e[i].length,o=void 0;for(o=0;o<a;o++)r[o%n].many.push(e[i][o])}for(var s=0,i=n-1;i>=0;i--)if(!r[i].many.length){var u=r[s].many;if(u.length<=1)if(s)s=0;else return r;var a=u.length,l=Math.ceil(a/2);r[i].many=u.slice(l,a),r[s].many=u.slice(0,l),s++}return r}var Tie={clone:function(t){for(var e=[],r=1-Math.pow(1-t.path.style.opacity,1/t.count),n=0;n<t.count;n++){var i=R_(t.path);i.setStyle("opacity",r),e.push(i)}return e},split:null};function wy(t,e,r,n,i,a){if(!t.length||!e.length)return;var o=og("update",n,i);if(!(o&&o.duration>0))return;var s=n.getModel("universalTransition").get("delay"),u=Object.assign({setToFinal:!0},o),l,c;fA(t)&&(l=t,c=e),fA(e)&&(l=e,c=t);function h(_,b,w,T,k){var A=_.many,D=_.one;if(A.length===1&&!k){var O=b?A[0]:D,F=b?D:A[0];if(Dv(O))h({many:[O],one:F},!0,w,T,!0);else{var $=s?lt({delay:s(w,T)},u):u;Ob(O,F,$),a(O,F,O,F,$)}}else for(var B=lt({dividePath:Tie[r],individualDelay:s&&function(Y,Q,J,ae){return s(Y+w,T)}},u),U=b?Sie(A,D,B):wie(D,A,B),H=U.fromIndividuals,W=U.toIndividuals,z=H.length,G=0;G<z;G++){var $=s?lt({delay:s(G,z)},u):u;a(H[G],W[G],b?A[G]:_.one,b?_.one:A[G],$)}}for(var f=l?l===t:t.length>e.length,p=l?hA(c,l):hA(f?e:t,[f?t:e]),v=0,g=0;g<p.length;g++)v+=p[g].many.length;for(var m=0,g=0;g<p.length;g++)h(p[g],f,m,v),m+=p[g].many.length}function Js(t){if(!t)return[];if(je(t)){for(var e=[],r=0;r<t.length;r++)e.push(Js(t[r]));return e}var n=[];return t.traverse(function(i){i instanceof Lt&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var kO=1e4,Cie=dr();function Aie(t){for(var e=t.dimensions,r=0;r<e.length;r++){var n=t.getDimensionInfo(e[r]);if(n&&n.otherDims.itemGroupId===0)return e[r]}}function dA(t){var e=[];return Z(t,function(r){var n=r.data;if(!(n.count()>kO))for(var i=n.getIndices(),a=Aie(n),o=0;o<i.length;o++)e.push({dataGroupId:r.dataGroupId,data:n,dim:r.dim||a,divide:r.divide,dataIndex:o})}),e}function Ty(t,e,r){t.traverse(function(n){n instanceof Lt&&hn(n,{style:{opacity:0}},e,{dataIndex:r,isFrom:!0})})}function Cy(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function hl(t){t.stopAnimation(),t.isGroup&&t.traverse(function(e){e.stopAnimation()})}function kie(t,e,r){var n=og("update",r,e);n&&t.traverse(function(i){if(i instanceof _c){var a=OY(i);a&&i.animateFrom({style:a},n)}})}function Eie(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++){var i=t[n],a=e[n];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function EO(t,e,r){var n=dA(t),i=dA(e);function a(_,b,w,T,k){(w||_)&&b.animateFrom({style:w&&w!==_?Oe(Oe({},w.style),_.style):_.style},k)}function o(_){for(var b=0;b<_.length;b++)if(_[b].dim)return _[b].dim}var s=o(n),u=o(i),l=!1;function c(_,b){return function(w){var T=w.data,k=w.dataIndex;if(b)return T.getId(k);var A=w.dataGroupId,D=_?s||u:u||s,O=D&&T.getDimensionInfo(D),F=O&&O.ordinalMeta;if(O){var $=T.get(O.name,k);return F&&F.categories[$]||$+""}var B=T.getRawDataItem(k);return B&&B.groupId?B.groupId+"":A||T.getId(k)}}var h=Eie(n,i),f={};if(!h)for(var p=0;p<i.length;p++){var v=i[p],g=v.data.getItemGraphicEl(v.dataIndex);g&&(f[g.id]=!0)}function m(_,b){var w=n[b],T=i[_],k=T.data.hostModel,A=w.data.getItemGraphicEl(w.dataIndex),D=T.data.getItemGraphicEl(T.dataIndex);if(A===D){D&&kie(D,T.dataIndex,k);return}A&&f[A.id]||D&&(hl(D),A?(hl(A),Cy(A),l=!0,wy(Js(A),Js(D),T.divide,k,_,a)):Ty(D,k,_))}new Sh(n,i,c(!0,h),c(!1,h),null,"multiple").update(m).updateManyToOne(function(_,b){var w=i[_],T=w.data,k=T.hostModel,A=T.getItemGraphicEl(w.dataIndex),D=xr(qe(b,function(O){return n[O].data.getItemGraphicEl(n[O].dataIndex)}),function(O){return O&&O!==A&&!f[O.id]});A&&(hl(A),D.length?(Z(D,function(O){hl(O),Cy(O)}),l=!0,wy(Js(D),Js(A),w.divide,k,_,a)):Ty(A,k,w.dataIndex))}).updateOneToMany(function(_,b){var w=n[b],T=w.data.getItemGraphicEl(w.dataIndex);if(!(T&&f[T.id])){var k=xr(qe(_,function(D){return i[D].data.getItemGraphicEl(i[D].dataIndex)}),function(D){return D&&D!==T}),A=i[_[0]].data.hostModel;k.length&&(Z(k,function(D){return hl(D)}),T?(hl(T),Cy(T),l=!0,wy(Js(T),Js(k),w.divide,A,_[0],a)):Z(k,function(D){return Ty(D,A,_[0])}))}}).updateManyToMany(function(_,b){new Sh(b,_,function(w){return n[w].data.getId(n[w].dataIndex)},function(w){return i[w].data.getId(i[w].dataIndex)}).update(function(w,T){m(_[w],b[T])}).execute()}).execute(),l&&Z(e,function(_){var b=_.data,w=b.hostModel,T=w&&r.getViewOfSeriesModel(w),k=og("update",w,0);T&&w.isAnimationEnabled()&&k&&k.duration>0&&T.group.traverse(function(A){A instanceof Lt&&!A.animators.length&&A.animateFrom({style:{opacity:0}},k)})})}function pA(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function vA(t){return je(t)?t.sort().join(","):t}function Ho(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function Pie(t,e){var r=ct(),n=ct(),i=ct();return Z(t.oldSeries,function(a,o){var s=t.oldDataGroupIds[o],u=t.oldData[o],l=pA(a),c=vA(l);n.set(c,{dataGroupId:s,data:u}),je(l)&&Z(l,function(h){i.set(h,{key:c,dataGroupId:s,data:u})})}),Z(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var o=a.get("dataGroupId"),s=a.getData(),u=pA(a),l=vA(u),c=n.get(l);if(c)r.set(l,{oldSeries:[{dataGroupId:c.dataGroupId,divide:Ho(c.data),data:c.data}],newSeries:[{dataGroupId:o,divide:Ho(s),data:s}]});else if(je(u)){var h=[];Z(u,function(v){var g=n.get(v);g.data&&h.push({dataGroupId:g.dataGroupId,divide:Ho(g.data),data:g.data})}),h.length&&r.set(l,{oldSeries:h,newSeries:[{dataGroupId:o,data:s,divide:Ho(s)}]})}else{var f=i.get(u);if(f){var p=r.get(f.key);p||(p={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:Ho(f.data)}],newSeries:[]},r.set(f.key,p)),p.newSeries.push({dataGroupId:o,data:s,divide:Ho(s)})}}}}),r}function gA(t,e){for(var r=0;r<t.length;r++){var n=e.seriesIndex!=null&&e.seriesIndex===t[r].seriesIndex||e.seriesId!=null&&e.seriesId===t[r].id;if(n)return r}}function Die(t,e,r,n){var i=[],a=[];Z(Cr(t.from),function(o){var s=gA(e.oldSeries,o);s>=0&&i.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:Ho(e.oldData[s]),dim:o.dimension})}),Z(Cr(t.to),function(o){var s=gA(r.updatedSeries,o);if(s>=0){var u=r.updatedSeries[s].getData();a.push({dataGroupId:e.oldDataGroupIds[s],data:u,divide:Ho(u),dim:o.dimension})}}),i.length>0&&a.length>0&&EO(i,a,n)}function Gae(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,r,n){Z(Cr(n.seriesTransition),function(i){Z(Cr(i.to),function(a){for(var o=n.updatedSeries,s=0;s<o.length;s++)(a.seriesIndex!=null&&a.seriesIndex===o[s].seriesIndex||a.seriesId!=null&&a.seriesId===o[s].id)&&(o[s][Hp]=!0)})})}),t.registerUpdateLifecycle("series:transition",function(e,r,n){var i=Cie(r);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)Z(Cr(a),function(p){Die(p,i,n,r)});else{var o=Pie(i,n);Z(o.keys(),function(p){var v=o.get(p);EO(v.oldSeries,v.newSeries,r)})}Z(n.updatedSeries,function(p){p[Hp]&&(p[Hp]=!1)})}for(var s=e.getSeries(),u=i.oldSeries=[],l=i.oldDataGroupIds=[],c=i.oldData=[],h=0;h<s.length;h++){var f=s[h].getData();f.count()<kO&&(u.push(s[h]),l.push(s[h].get("dataGroupId")),c.push(f))}})}function mA(t,e,r){var n=gc.createCanvas(),i=e.getWidth(),a=e.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",n.setAttribute("data-zr-dom-id",t)),n.width=i*r,n.height=a*r,n}var Mie=function(t){Me(e,t);function e(r,n,i){var a=t.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;i=i||ov,typeof r=="string"?o=mA(r,n,i):nt(r)&&(o=r,r=o.id),a.id=r,a.dom=o;var s=o.style;return s&&(MP(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=n,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=mA("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},e.prototype.createRepaintRects=function(r,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,u=!1,l=new Bt(0,0,0,0);function c(b){if(!(!b.isFinite()||b.isZero()))if(o.length===0){var w=new Bt(0,0,0,0);w.copy(b),o.push(w)}else{for(var T=!1,k=1/0,A=0,D=0;D<o.length;++D){var O=o[D];if(O.intersect(b)){var F=new Bt(0,0,0,0);F.copy(O),F.union(b),o[D]=F,T=!0;break}else if(u){l.copy(b),l.union(O);var $=b.width*b.height,B=O.width*O.height,U=l.width*l.height,H=U-$-B;H<k&&(k=H,A=D)}}if(u&&(o[A].union(b),T=!0),!T){var w=new Bt(0,0,0,0);w.copy(b),o.push(w)}u||(u=o.length>=s)}}for(var h=this.__startIndex;h<this.__endIndex;++h){var f=r[h];if(f){var p=f.shouldBePainted(i,a,!0,!0),v=f.__isRendered&&(f.__dirty&Yn||!p)?f.getPrevPaintRect():null;v&&c(v);var g=p&&(f.__dirty&Yn||!f.__isRendered)?f.getPaintRect():null;g&&c(g)}}for(var h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var f=n[h],p=f.shouldBePainted(i,a,!0,!0);if(f&&(!p||!f.__zr)&&f.__isRendered){var v=f.getPrevPaintRect();v&&c(v)}}var m;do{m=!1;for(var h=0;h<o.length;){if(o[h].isZero()){o.splice(h,1);continue}for(var _=h+1;_<o.length;)o[h].intersect(o[_])?(m=!0,o[h].union(o[_]),o.splice(_,1)):_++;h++}}while(m);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(r,n){var i=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=r+"px",o.height=n+"px"),a.width=r*i,a.height=n*i,s&&(s.width=r*i,s.height=n*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(r,n,i){var a=this.dom,o=this.ctx,s=a.width,u=a.height;n=n||this.clearColor;var l=this.motionBlur&&!r,c=this.lastFrameAlpha,h=this.dpr,f=this;l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/h,u/h));var p=this.domBack;function v(g,m,_,b){if(o.clearRect(g,m,_,b),n&&n!=="transparent"){var w=void 0;if(Xv(n)){var T=n.global||n.__width===_&&n.__height===b;w=T&&n.__canvasGradient||Z0(o,n,{x:0,y:0,width:_,height:b}),n.__canvasGradient=w,n.__width=_,n.__height=b}else IV(n)&&(n.scaleX=n.scaleX||h,n.scaleY=n.scaleY||h,w=Q0(o,n,{dirty:function(){f.setUnpainted(),f.__painter.refresh()}}));o.save(),o.fillStyle=w||n,o.fillRect(g,m,_,b),o.restore()}l&&(o.save(),o.globalAlpha=c,o.drawImage(p,g,m,_,b),o.restore())}!i||l?v(0,0,s,u):i.length&&Z(i,function(g){v(g.x*h,g.y*h,g.width*h,g.height*h)})},e}(Yi);const Ay=Mie;var yA=1e5,Ks=314159,cp=.01,Lie=.001;function Rie(t){return t?t.__builtin__?!0:!(typeof t.resize!="function"||typeof t.refresh!="function"):!1}function Oie(t,e){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var Iie=function(){function t(e,r,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=Oe({},n||{}),this.dpr=n.devicePixelRatio||ov,this._singleCanvas=a,this.root=e;var o=e.style;o&&(MP(e),e.innerHTML=""),this.storage=r;var s=this._zlevelList;this._prevDisplayList=[];var u=this._layers;if(a){var c=e,h=c.width,f=c.height;n.width!=null&&(h=n.width),n.height!=null&&(f=n.height),this.dpr=n.devicePixelRatio||1,c.width=h*this.dpr,c.height=f*this.dpr,this._width=h,this._height=f;var p=new Ay(c,this,this.dpr);p.__builtin__=!0,p.initContext(),u[Ks]=p,p.zlevel=Ks,s.push(Ks),this._domRoot=e}else{this._width=Wd(e,0,n),this._height=Wd(e,1,n);var l=this._domRoot=Oie(this._width,this._height);e.appendChild(l)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.refresh=function(e){var r=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,n,e,this._redrawId);for(var a=0;a<i.length;a++){var o=i[a],s=this._layers[o];if(!s.__builtin__&&s.refresh){var u=a===0?this._backgroundColor:null;s.refresh(u)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(e){var r=e.length,n=this._hoverlayer;if(n&&n.clear(),!!r){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<r;o++){var s=e[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(yA)),a||(a=n.ctx,a.save()),ou(a,s,i,o===r-1))}a&&a.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(yA)},t.prototype.paintOne=function(e,r){gL(e,r)},t.prototype._paintList=function(e,r,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,r,n),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(l){l.afterBrush&&l.afterBrush()});else{var u=this;m0(function(){u._paintList(e,r,n,i)})}}},t.prototype._compositeManually=function(){var e=this.getLayer(Ks).ctx,r=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,r,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,r,n)})},t.prototype._doPaintList=function(e,r,n){for(var i=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var u=this._zlevelList[s],l=this._layers[u];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||n)&&a.push(l)}for(var c=!0,h=!1,f=function(g){var m=a[g],_=m.ctx,b=o&&m.createRepaintRects(e,r,p._width,p._height),w=n?m.__startIndex:m.__drawIndex,T=!n&&m.incremental&&Date.now,k=T&&Date.now(),A=m.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,A,b);else if(w===m.__startIndex){var D=e[w];(!D.incremental||!D.notClear||n)&&m.clear(!1,A,b)}w===-1&&(console.error("For some unknown reason. drawIndex is -1"),w=m.__startIndex);var O,F=function(H){var W={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(O=w;O<m.__endIndex;O++){var z=e[O];if(z.__inHover&&(h=!0),i._doPaintEl(z,m,o,H,W,O===m.__endIndex-1),T){var G=Date.now()-k;if(G>15)break}}W.prevElClipPaths&&_.restore()};if(b)if(b.length===0)O=m.__endIndex;else for(var $=p.dpr,B=0;B<b.length;++B){var U=b[B];_.save(),_.beginPath(),_.rect(U.x*$,U.y*$,U.width*$,U.height*$),_.clip(),F(U),_.restore()}else _.save(),F(),_.restore();m.__drawIndex=O,m.__drawIndex<m.__endIndex&&(c=!1)},p=this,v=0;v<a.length;v++)f(v);return wt.wxa&&Z(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:c,needsRefreshHover:h}},t.prototype._doPaintEl=function(e,r,n,i,a,o){var s=r.ctx;if(n){var u=e.getPaintRect();(!i||u&&u.intersect(i))&&(ou(s,e,a,o),e.setPrevPaintRect(u))}else ou(s,e,a,o)},t.prototype.getLayer=function(e,r){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Ks);var n=this._layers[e];return n||(n=new Ay("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?Tt(n,this._layerConfig[e],!0):this._layerConfig[e-cp]&&Tt(n,this._layerConfig[e-cp],!0),r&&(n.virtual=r),this.insertLayer(e,n),n.initContext()),n},t.prototype.insertLayer=function(e,r){var n=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,s=null,u=-1;if(!n[e]&&Rie(r)){if(a>0&&e>i[0]){for(u=0;u<a-1&&!(i[u]<e&&i[u+1]>e);u++);s=n[i[u]]}if(i.splice(u+1,0,e),n[e]=r,!r.virtual)if(s){var l=s.dom;l.nextSibling?o.insertBefore(r.dom,l.nextSibling):o.appendChild(r.dom)}else o.firstChild?o.insertBefore(r.dom,o.firstChild):o.appendChild(r.dom);r.__painter=this}},t.prototype.eachLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];e.call(r,this._layers[a],a)}},t.prototype.eachBuiltinLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__&&e.call(r,o,a)}},t.prototype.eachOtherLayer=function(e,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__||e.call(r,o,a)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(h,f){h.__dirty=h.__used=!1});function r(h){a&&(a.__endIndex!==h&&(a.__dirty=!0),a.__endIndex=h)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var i=e[n];if(i.zlevel!==e[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,s,u;for(u=0;u<e.length;u++){var i=e[u],l=i.zlevel,c=void 0;s!==l&&(s=l,o=0),i.incremental?(c=this.getLayer(l+Lie,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(l+(o>0?cp:0),this._needsManuallyCompositing),c.__builtin__||y_("ZLevel "+l+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==u&&(c.__dirty=!0),c.__startIndex=u,c.incremental?c.__drawIndex=-1:c.__drawIndex=u,r(u),a=c),i.__dirty&Yn&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=u))}r(u),this.eachBuiltinLayer(function(h,f){!h.__used&&h.getElementCount()>0&&(h.__dirty=!0,h.__startIndex=h.__endIndex=h.__drawIndex=0),h.__dirty&&h.__drawIndex<0&&(h.__drawIndex=h.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(e){e.clear()},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e,Z(this._layers,function(r){r.setUnpainted()})},t.prototype.configLayer=function(e,r){if(r){var n=this._layerConfig;n[e]?Tt(n[e],r,!0):n[e]=r;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+cp){var o=this._layers[a];Tt(o,n[e],!0)}}}},t.prototype.delLayer=function(e){var r=this._layers,n=this._zlevelList,i=r[e];i&&(i.dom.parentNode.removeChild(i.dom),delete r[e],n.splice(Dt(n,e),1))},t.prototype.resize=function(e,r){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),r!=null&&(i.height=r),e=Wd(a,0,i),r=Wd(a,1,i),n.style.display="",this._width!==e||r!==this._height){n.style.width=e+"px",n.style.height=r+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,r);this.refresh(!0)}this._width=e,this._height=r}else{if(e==null||r==null)return;this._width=e,this._height=r,this.getLayer(Ks).resize(e,r)}return this},t.prototype.clearLayer=function(e){var r=this._layers[e];r&&r.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Ks].dom;var r=new Ay("image",this,e.pixelRatio||this.dpr);r.initContext(),r.clear(!1,e.backgroundColor||this._backgroundColor);var n=r.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=r.dom.width,a=r.dom.height;this.eachLayer(function(h){h.__builtin__?n.drawImage(h.dom,0,0,i,a):h.renderToCanvas&&(n.save(),h.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),u=0,l=s.length;u<l;u++){var c=s[u];ou(n,c,o,u===l-1)}return r.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();const Bie=Iie;function jae(t){t.registerPainter("canvas",Bie)}var PO={exports:{}};/*! GoldPlay built @6/28/2020, 11:46:42 AM */(function(t,e){(function(r,n){t.exports=n()})(window,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:s})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,o){if(1&o&&(a=i(a)),8&o||4&o&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),2&o&&typeof a!="string")for(var u in a)i.d(s,u,function(l){return a[l]}.bind(null,u));return s},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=162)}([function(r,n){r.exports=function(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}},function(r,n){r.exports=function(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}},function(r,n){r.exports=function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}},function(r,n){function i(a,o){for(var s=0;s<o.length;s++){var u=o[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}r.exports=function(a,o,s){return o&&i(a.prototype,o),s&&i(a,s),a}},function(r,n){function i(a){return r.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},i(a)}r.exports=i},function(r,n,i){var a=i(11),o=i(1);r.exports=function(s,u){return!u||a(u)!=="object"&&typeof u!="function"?o(s):u}},function(r,n,i){var a=i(48);r.exports=function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),s&&a(o,s)}},,function(r,n){r.exports=function(i,a){return a||(a=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(a)}}))}},function(r,n,i){i.d(n,"c",function(){return a}),i.d(n,"b",function(){return o}),i.d(n,"a",function(){return s}),i.d(n,"d",function(){return u});var a={projectName:"GOLDPLAY",projectAbbreviation:"GP",mode:"production",basePath:"./",get distPath(){var l="";return(this.mode=="development"||this.mode=="test")&&(l="/dist/"),l},get libPath(){return this.distPath+"lib/"},hideBarBoxTime:300,speedList:[{name:"0.5X",value:.5},{name:"1.0X",value:1},{name:"1.5X",value:1.5},{name:"2.0X",value:2},{name:"3.0X",value:3}]},o={maxDuration:30,maxSize:1024e6,maxRetryCount:3},s=1/9e4,u={READYBUFFERLENGTH:1e3,MAXBUFFERLENGTH:5e3}},function(r,n,i){var a=i(2),o=i.n(a),s=i(3),u=i.n(s),l=i(0),c=i.n(l),h=i(9),f=console||{};function p(g,m){if(f[g]){if(this.disabled||this.level<0||h.c.mode==="production"&&(g!=="error"||g!=="warn")||this.level===1&&["info"].includes(g)||this.level===2&&["log","info"].includes(g)||this.level>2&&g!=="error")return;for(var _=new Date().toLocaleString(),b=arguments.length,w=new Array(b>2?b-2:0),T=2;T<b;T++)w[T-2]=arguments[T];var k=["\x1B[32m".concat(m,"\x1B[39m")].concat(w,[_]);g!=="error"&&g!=="warn"||(k=[m].concat(w,[_])),typeof f[g]=="function"&&f[g].apply(f,k)}}var v=function(){function g(m){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o()(this,g),c()(this,"prefix",h.c.projectName),c()(this,"joiner",">"),c()(this,"left","["),c()(this,"right","]"),c()(this,"disabled",!1),c()(this,"level",0),Object.assign(this,_),typeof m=="string"?this.file=m:m&&m.constructor&&(this.file=m.constructor.name)}return u()(g,[{key:"setDisabled",value:function(m){this.disabled=m}},{key:"setLevel",value:function(m){this.level=m}}],[{key:"get",value:function(m,_){return new g(m,_)}}]),g}();["info","log","debug","warn","error"].forEach(function(g){v.prototype[g]=function(m,_){_=_===void 0?"":this.joiner+_;for(var b=this.left+m+_+this.right,w=this.left+this.prefix+" "+this.file+this.right+b,T=arguments.length,k=new Array(T>2?T-2:0),A=2;A<T;A++)k[A-2]=arguments[A];p.apply(this,[g,w].concat(k))}}),n.a=v},function(r,n){function i(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r.exports=i=function(o){return typeof o}:r.exports=i=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i(a)}r.exports=i},,,,,,,function(r,n,i){r.exports=i(88)},,,,,function(r,n,i){i.d(n,"a",function(){return v});var a=i(2),o=i.n(a),s=i(3),u=i.n(s),l=i(0),c=i.n(l),h=i(9),f={eval:EvalError,range:RangeError,reference:ReferenceError,syntax:SyntaxError,type:TypeError,uri:URIError,default:Error},p=null,v=(p||(p=new(function(){function g(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1001;return o()(this,g),c()(this,"type",""),c()(this,"errorName","DefaultError"),c()(this,"code",null),c()(this,"message",""),c()(this,"stack",""),this.type=m,this.code=_,this.throws.bind(this)}return u()(g,[{key:"throws",value:function(m){for(var _="",b=Error,w=arguments.length,T=new Array(w>1?w-1:0),k=1;k<w;k++)T[k-1]=arguments[k];if(m instanceof Error){for(var A in f)if(m instanceof f[A]){this.errorName=f[A].name,b=m.constructor;break}this.stack=m.stack,T&&T.splice&&(_=T[0],T.splice(0,1))}else _=m.toString();this.message="[".concat(h.c.projectName," ERROR:")+this.type+"-"+this.code+"]"+_;try{throw new b(this.message,"[args]:",T)}catch(D){this.stack=this.stack||D.stack,console.error(D,"[message]:",_,"[args]:",T)}}}]),g}())),p)},function(r,n){r.exports=function(i,a){var o=a.get(i);if(!o)throw new TypeError("attempted to get private field on non-instance");return o.get?o.get.call(i):o.value}},,,function(r,n,i){var a=i(48),o=i(86);function s(u,l,c){return o()?r.exports=s=Reflect.construct:r.exports=s=function(h,f,p){var v=[null];v.push.apply(v,f);var g=new(Function.bind.apply(h,v));return p&&a(g,p.prototype),g},s.apply(null,arguments)}r.exports=s},function(r,n){function i(a,o,s,u,l,c,h){try{var f=a[c](h),p=f.value}catch(v){return void s(v)}f.done?o(p):Promise.resolve(p).then(u,l)}r.exports=function(a){return function(){var o=this,s=arguments;return new Promise(function(u,l){var c=a.apply(o,s);function h(p){i(c,u,l,h,f,"next",p)}function f(p){i(c,u,l,h,f,"throw",p)}h(void 0)})}}},function(r,n){r.exports=function(i,a,o){var s=a.get(i);if(!s)throw new TypeError("attempted to set private field on non-instance");if(s.set)s.set.call(i,o);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=o}return o}},,,,,function(r,n,i){var a=i(4),o=i(48),s=i(87),u=i(27);function l(c){var h=typeof Map=="function"?new Map:void 0;return r.exports=l=function(f){if(f===null||!s(f))return f;if(typeof f!="function")throw new TypeError("Super expression must either be null or a function");if(h!==void 0){if(h.has(f))return h.get(f);h.set(f,p)}function p(){return u(f,arguments,a(this).constructor)}return p.prototype=Object.create(f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),o(p,f)},l(c)}r.exports=l},,,,,,,,,,function(r,n,i){function a(c){var h={};function f(v){if(h[v])return h[v].exports;var g=h[v]={i:v,l:!1,exports:{}};return c[v].call(g.exports,g,g.exports,f),g.l=!0,g.exports}f.m=c,f.c=h,f.i=function(v){return v},f.d=function(v,g,m){f.o(v,g)||Object.defineProperty(v,g,{configurable:!1,enumerable:!0,get:m})},f.r=function(v){Object.defineProperty(v,"__esModule",{value:!0})},f.n=function(v){var g=v&&v.__esModule?function(){return v.default}:function(){return v};return f.d(g,"a",g),g},f.o=function(v,g){return Object.prototype.hasOwnProperty.call(v,g)},f.p="/",f.oe=function(v){throw console.error(v),v};var p=f(f.s=ENTRY_MODULE);return p.default||p}var o="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function s(c){return(c+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function u(c,h,f){var p={};p[f]=[];var v=h.toString(),g=v.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!g)return p;for(var m,_=g[1],b=new RegExp("(\\\\n|\\W)"+s(_)+o,"g");m=b.exec(v);)m[3]!=="dll-reference"&&p[f].push(m[3]);for(b=new RegExp("\\("+s(_)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)'+o,"g");m=b.exec(v);)c[m[2]]||(p[f].push(m[1]),c[m[2]]=i(m[1]).m),p[m[2]]=p[m[2]]||[],p[m[2]].push(m[4]);for(var w,T=Object.keys(p),k=0;k<T.length;k++)for(var A=0;A<p[T[k]].length;A++)w=p[T[k]][A],isNaN(1*w)||(p[T[k]][A]=1*p[T[k]][A]);return p}function l(c){return Object.keys(c).reduce(function(h,f){return h||c[f].length>0},!1)}r.exports=function(c,h){h=h||{};var f={main:i.m},p=h.all?{main:Object.keys(f.main)}:function(b,w){for(var T={main:[w]},k={main:[]},A={main:{}};l(T);)for(var D=Object.keys(T),O=0;O<D.length;O++){var F=D[O],$=T[F].pop();if(A[F]=A[F]||{},!A[F][$]&&b[F][$]){A[F][$]=!0,k[F]=k[F]||[],k[F].push($);for(var B=u(b,b[F][$],F),U=Object.keys(B),H=0;H<U.length;H++)T[U[H]]=T[U[H]]||[],T[U[H]]=T[U[H]].concat(B[U[H]])}}return k}(f,c),v="";Object.keys(p).filter(function(b){return b!=="main"}).forEach(function(b){for(var w=0;p[b][w];)w++;p[b].push(w),f[b][w]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",v=v+"var "+b+" = ("+a.toString().replace("ENTRY_MODULE",JSON.stringify(w))+")({"+p[b].map(function(T){return JSON.stringify(T)+": "+f[b][T].toString()}).join(",")+`});
`}),v=v+"new (("+a.toString().replace("ENTRY_MODULE",JSON.stringify(c))+")({"+p.main.map(function(b){return JSON.stringify(b)+": "+f.main[b].toString()}).join(",")+"}))(self);";var g=new window.Blob([v],{type:"text/javascript"});if(h.bare)return g;var m=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(g),_=new window.Worker(m);return _.objectURL=m,_}},function(r,n,i){var a,o,s;o=[],(s=typeof(a=function(){var u=function(){},l={},c={},h={};function f(m,_){if(m){var b=h[m];if(c[m]=_,b)for(;b.length;)b[0](m,_),b.splice(0,1)}}function p(m,_){m.call&&(m={success:m}),_.length?(m.error||u)(_):(m.success||u)(m)}function v(m,_,b,w){var T,k,A=document,D=b.async,O=(b.numRetries||0)+1,F=b.before||u,$=m.replace(/[\?|#].*$/,""),B=m.replace(/^(css|img)!/,"");w=w||0,/(^css!|\.css$)/.test($)?((k=A.createElement("link")).rel="stylesheet",k.href=B,(T="hideFocus"in k)&&k.relList&&(T=0,k.rel="preload",k.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test($)?(k=A.createElement("img")).src=B:((k=A.createElement("script")).src=m,k.async=D===void 0||D),k.onload=k.onerror=k.onbeforeload=function(U){var H=U.type[0];if(T)try{k.sheet.cssText.length||(H="e")}catch(W){W.code!=18&&(H="e")}if(H=="e"){if((w+=1)<O)return v(m,_,b,w)}else if(k.rel=="preload"&&k.as=="style")return k.rel="stylesheet";_(m,H,U.defaultPrevented)},F(m,k)!==!1&&A.head.appendChild(k)}function g(m,_,b){var w,T;if(_&&_.trim&&(w=_),T=(w?b:_)||{},w){if(w in l)throw"LoadJS";l[w]=!0}function k(A,D){(function(O,F,$){var B,U,H=(O=O.push?O:[O]).length,W=H,z=[];for(B=function(G,Y,Q){if(Y=="e"&&z.push(G),Y=="b"){if(!Q)return;z.push(G)}--H||F(z)},U=0;U<W;U++)v(O[U],B,$)})(m,function(O){p(T,O),A&&p({success:A,error:D},O),f(w,O)},T)}if(T.returnPromise)return new Promise(k);k()}return g.ready=function(m,_){return function(b,w){b=b.push?b:[b];var T,k,A,D=[],O=b.length,F=O;for(T=function($,B){B.length&&D.push($),--F||w(D)};O--;)k=b[O],(A=c[k])?T(k,A):(h[k]=h[k]||[]).push(T)}(m,function(b){p(_,b)}),g},g.done=function(m){f(m,[])},g.reset=function(){l={},c={},h={}},g.isDefined=function(m){return m in l},g})=="function"?a.apply(n,o):a)===void 0||(r.exports=s)},,,function(r,n){function i(a,o){return r.exports=i=Object.setPrototypeOf||function(s,u){return s.__proto__=u,s},i(a,o)}r.exports=i},function(r,n){(function(){function i(a,o){throw new Error("abstract")}i.prototype.drawFrame=function(a){throw new Error("abstract")},i.prototype.clear=function(){throw new Error("abstract")},r.exports=i})()},,,,,,,,,,,function(r,n){var i={validateDimension:function(a){if(a<=0||a!==(0|a))throw"YUV plane dimensions must be a positive integer"},validateOffset:function(a){if(a<0||a!==(0|a))throw"YUV plane offsets must be a non-negative integer"},format:function(a){var o=a.width,s=a.height,u=a.chromaWidth||o,l=a.chromaHeight||s,c=a.cropLeft||0,h=a.cropTop||0,f=a.cropWidth||o-c,p=a.cropHeight||s-h,v=a.displayWidth||f,g=a.displayHeight||p;return this.validateDimension(o),this.validateDimension(s),this.validateDimension(u),this.validateDimension(l),this.validateOffset(c),this.validateOffset(h),this.validateDimension(f),this.validateDimension(p),this.validateDimension(v),this.validateDimension(g),{width:o,height:s,chromaWidth:u,chromaHeight:l,cropLeft:c,cropTop:h,cropWidth:f,cropHeight:p,displayWidth:v,displayHeight:g}},allocPlane:function(a,o){return i.validateDimension(a),i.validateDimension(o),{bytes:new Uint8Array(a*o),stride:a}},suitableStride:function(a){i.validateDimension(a);var o=a%4;return o==0?a:a+(4-o)},allocPlane:function(a,o,s,u,l){var c,h;if(this.validateDimension(a),this.validateDimension(o),l=l||0,u=u||this.suitableStride(a),this.validateDimension(u),u<a)throw"Invalid input stride for YUV plane; must be larger than width";if(c=u*o,s){if(s.length-l<c)throw"Invalid input buffer for YUV plane; must be large enough for stride times height";h=s.slice(l,l+c)}else h=new Uint8Array(c),u=u||this.suitableStride(a);return{bytes:h,stride:u}},lumaPlane:function(a,o,s,u){return this.allocPlane(a.width,a.height,o,s,u)},chromaPlane:function(a,o,s,u){return this.allocPlane(a.chromaWidth,a.chromaHeight,o,s,u)},frame:function(a,o,s,u){return{format:a,y:o=o||this.lumaPlane(a),u:s=s||this.chromaPlane(a),v:u=u||this.chromaPlane(a)}},copyPlane:function(a){return{bytes:a.bytes.slice(),stride:a.stride}},copyFrame:function(a){return{format:a.format,y:this.copyPlane(a.y),u:this.copyPlane(a.u),v:this.copyPlane(a.v)}},transferables:function(a){return[a.y.bytes.buffer,a.u.bytes.buffer,a.v.bytes.buffer]}};r.exports=i},function(r,n,i){var a=i(95),o=i(96),s=i(97),u=i(99);r.exports=function(l,c){return a(l)||o(l,c)||s(l,c)||u()}},,,,,,,,,,,function(r,n,i){(function(){var a=i(49),o=i(89),s=i(92),u={FrameSink:a,SoftwareFrameSink:o,WebGLFrameSink:s,attach:function(l,c){return("webGL"in(c=c||{})?c.webGL:s.isAvailable())?new s(l,c):new o(l,c)}};r.exports=u})()},,,,,,,,,,,,,function(r,n,i){i.r(n);var a=i(2),o=i.n(a),s=i(3),u=i.n(s),l=i(5),c=i.n(l),h=i(4),f=i.n(h),p=i(1),v=i.n(p),g=i(6),m=i.n(g),_=i(0),b=i.n(_),w=i(24),T=i.n(w),k=i(29),A=i.n(k),D=i(10),O=D.a.get("Events.js"),F=function(){function P(S){o()(this,P),b()(this,"eventsQueue",{}),b()(this,"target",{}),b()(this,"disallowRepeat",!1),this.target=S}return u()(P,[{key:"add",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0,y=arguments.length>2?arguments[2]:void 0,C=!0,R=!1,j=void 0;try{for(var q,te=S[Symbol.iterator]();!(C=(q=te.next()).done);C=!0){var fe=q.value;this.on(fe,d,y)}}catch(xe){R=!0,j=xe}finally{try{C||te.return==null||te.return()}finally{if(R)throw j}}}},{key:"on",value:function(S,d,y){if(this.eventsQueue[S]===void 0&&(this.eventsQueue[S]={methods:[],once:!1}),typeof d=="function"){if(!this.disallowRepeat||!this.eventsQueue[S].methods.includes(d))return this.eventsQueue[S].methods.push(d),y!==void 0&&(this.eventsQueue[S].once=y),this.target}else O.error("on","the argument is not function.",d)}},{key:"once",value:function(S,d){this.on(S,d,!0)}},{key:"off",value:function(S,d){var y=this.eventsQueue[S];if(y){var C=y.methods;if(d)for(var R=C.length;R--;)C[R]===d&&C.splice(R,1);else delete this.eventsQueue[S];return this.target}}},{key:"emit",value:function(S){for(var d=this,y=arguments.length,C=new Array(y>1?y-1:0),R=1;R<y;R++)C[R-1]=arguments[R];var j=this.eventsQueue[S];if(j){var q=j.methods;return q.forEach(function(te){te.apply(d.target,C)}),j.once&&this.off(S),this.target}}},{key:"clear",value:function(S){delete this.eventsQueue[S]}},{key:"clearAll",value:function(){this.eventsQueue={}}}]),P}(),$=function(P){var S=new F(P);return function(d){return S.target=d,S}},B=i(11),U=i.n(B),H=D.a.get("Element.js"),W=function(){function P(){o()(this,P)}return u()(P,null,[{key:"createEl",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div",d=arguments.length>1?arguments[1]:void 0;if(typeof S!="string")return H.error("please input element name"),null;var y=document.createElement(S,d);return y}},{key:"registerElement",value:function(S){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HTMLElement,y=arguments.length>2?arguments[2]:void 0,C=document.registerElement(S,{prototype:Object.create(d.prototype),extends:y});return C}},{key:"addEl",value:function(S,d){if(S&&d)try{d.appendChild(S)}catch(y){H.error(y)}}},{key:"removeEl",value:function(S){try{var d=S.parentNode;d&&d.removeChild(S)}catch(y){H.error(y)}}},{key:"addClass",value:function(S){try{for(var d,y=arguments.length,C=new Array(y>1?y-1:0),R=1;R<y;R++)C[R-1]=arguments[R];(d=S.classList).add.apply(d,C)}catch(j){H.error(j)}}},{key:"removeClass",value:function(){}},{key:"hasClass",value:function(){}},{key:"isElement",value:function(S){try{return S instanceof HTMLElement}catch{return U()(S)==="object"&&S.nodeType===1&&U()(S.style)==="object"&&U()(S.ownerDocument)==="object"}}},{key:"setAttributes",value:function(S,d){if(P.isElement(S))for(var y=0,C=d.length;y<C;y++){var R=d[y],j=R.name;j=R.name.replace(/["|']/g,""),S.setAttribute(j,R.value)}}},{key:"syncAttributes",value:function(S,d){var y=d.attributes;P.setAttributes(S,y);var C=S.attributes;P.setAttributes(d,C)}},{key:"getClientWidth",value:function(){return document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth}},{key:"getClientHeight",value:function(){return document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight}},{key:"adaptSizeElement",value:function(S,d,y,C){var R=y,j=C;j.width=S||j.width||R.offsetWidth,j.height=d||j.height||R.offsetHeight;var q=j.width,te=j.height,fe=0;j.style.position="absolute",R.offsetWidth<=0&&(R.style.width=q+"px"),R.offsetHeight<=0&&(R.style.height=te+"px");var xe=R.offsetWidth/q,Re=R.offsetHeight/te;fe=Re>xe?xe:Re,j.style.top=R.offsetTop+(R.offsetHeight-te*fe)/2+"px",j.style.left=R.offsetLeft+(R.offsetWidth-q*fe)/2+"px",j.style.transform="scale(".concat(fe,", ").concat(fe,")"),j.style["transform-origin"]="top left",j.style.display="inline-block"}}]),P}(),z=i(27),G=i.n(z),Y=function(){function P(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};o()(this,P),b()(this,"logger",null),b()(this,"__instance__",null),b()(this,"__singleton__",null),this.options=S,this.setLogger(this.constructor.name+".js")}return u()(P,[{key:"setLogger",value:function(S){this.logger=new D.a(S)}},{key:"getLogger",value:function(){return this.logger}},{key:"setOptions",value:function(S){Object.assign(this.options,S)}},{key:"toString",value:function(){return JSON.stringify(this)}},{key:"events",get:function(){return this.options&&this.options.events?this.options.events(this):$(this)}}],[{key:"getInstance",value:function(){for(var S=arguments.length,d=new Array(S),y=0;y<S;y++)d[y]=arguments[y];return this.__instance__=G()(this,d),this.__instance__}},{key:"getSingleton",value:function(){if(!this.__singleton__){for(var S=arguments.length,d=new Array(S),y=0;y<S;y++)d[y]=arguments[y];this.__singleton__=G()(this,d)}return this.__singleton__}}]),P}(),Q=function(P){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this)),b()(v()(y),"component",null),y.component=d.component,y}return m()(S,P),u()(S,[{key:"confirm",value:function(){}},{key:"show",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";this.component.data.content=d,this.component.data.display!=="default"&&this.component.data.display!==""||this.component.showBox(),this.component.data.display!=="show"&&this.component.show()}},{key:"hide",value:function(){this.component.hide()}}]),S}(Y),J=i(23),ae=function(){function P(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};o()(this,P),b()(this,"logger",null),this.options=S,this.debug=S.debug||!1,this.setLogger(this.constructor.name+".js")}return u()(P,[{key:"setLogger",value:function(S){this.logger=new D.a(S)}},{key:"getLogger",value:function(){return this.logger}},{key:"setOptions",value:function(S){Object.assign(this.options,S)}},{key:"toString",value:function(){return JSON.stringify(this)}},{key:"events",get:function(){return this.options&&this.options.events?this.options.events(this):$(this)}},{key:"alert",get:function(){var S="";return this.options&&this.options.alertError&&(S=this.options.alertError),S}}]),P}(),he=i(9),pe=function(P){function S(){var d;return o()(this,S),d=c()(this,f()(S).call(this)),b()(v()(d),"loadData",null),b()(v()(d),"sourceURL",""),d}return m()(S,P),u()(S,[{key:"init",value:function(){}},{key:"setLoadData",value:function(d){this.loadData=d}},{key:"setSourceURL",value:function(d){this.sourceURL=d}},{key:"getLoadData",value:function(){return this.getLoadData}},{key:"getSourceURL",value:function(){return this.getSourceURL}}]),S}(ae),Se={LOAD_PLAYLIST:10,get 10(){return"loading playlist"},LOADED_PLAYLIST:11,get 11(){return"playlist is loaded"},IDLE:0,get 0(){return"is free"},LOADING:1,get 1(){return"loading segment"},DONE:2,get 2(){return"segment is loaded"},ERROR:3,get 3(){return"load get error"}},we=D.a.get("M3U8Parser.js",{level:2}),Le={lineDelimiter:/\r?\n/,extensionHeader:"#EXTM3U",tagPrefix:"#EXT",segmentPrefix:"#EXTINF",segmentParse:/^#EXTINF: *([0-9.]+)(, *(.+?)?)?$/,tagParse:/^#EXT-X-([A-Z-]+)(:(.+))?$/,version:"VERSION",allowCache:"ALLOW-CACHE",combined:"COMBINED",endList:"ENDLIST",targetDuration:"TARGETDURATION",mediaSequence:"MEDIA-SEQUENCE",discontinuity:"DISCONTINUITY",steamInf:"STREAM-INF",isComment:function(P){return P&&P[0]==="#"&&!P.startsWith(Le.tagPrefix)},isBlank:function(P){return P===""},canStrip:function(P){return Le.isBlank(P)||Le.isComment(P)}},Fe=0,se=1,ve={file:void 0,name:void 0,start:0,end:0,discontinuity:void 0,duration:void 0},ge=function(){function P(S){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o()(this,P),b()(this,"source",""),b()(this,"segments",[]),b()(this,"_currentSegment",null),b()(this,"discontinuous",null),b()(this,"tags",{VERSION:void 0,TARGETDURATION:void 0}),b()(this,"_state",null),this.source=S,this.options=d,this.parse(this.source)}return u()(P,[{key:"readSegment",value:function(S){var d=Le.segmentParse.exec(S);if(d!==null){var y=parseFloat(d[1],10),C=d[3];y%1!=0&&this.tags.VERSION>=3&&we.info("readsegment","Version must be 3 or higher to support floating.","duration:",y),y<this.tags.TARGETDURATION&&we.info("readsegment","Segment duration must be less than the TARGETDURATION","duration:",y),y*=1e3,this._currentSegment=Object.assign({},ve,{duration:y,name:C,discontinuity:this.discontinuous});var R=this.segments[this.segments.length-1]||{start:0,end:0};this._currentSegment.start=R.end,this._currentSegment.end=R.end+y,this.discontinuous=!1,this._state=se}else we.warn("readsegment","read segment failed","line:",S)}},{key:"readTag",value:function(S){var d=Le.tagParse.exec(S);if(d!==null)return{name:d[1],value:d[3]}}},{key:"readLine",value:function(S){if(S.startsWith(Le.segmentPrefix))return this.readSegment(S);var d=this.readTag(S);if(d)switch(d.name){case Le.version:this.tags.VERSION=parseFloat(d.value,10);break;case Le.mediaSequence:this.tags.MEDIA_SEQUENCE=parseFloat(d.value,10);break;case Le.allowCache:this.tags.ALLOW_CACHE=!!/\s*(YES|yes)\s*/.test(d.value);break;case Le.discontinuity:this.tags.DISCONTINUITY=!0,this.discontinuous=!0;break;case Le.targetDuration:this.tags.TARGETDURATION=parseFloat(d.value,10);break;case Le.combined:this.tags.COMBINED=d.value;break;case Le.streamInf:this.tags.STREAM_INF=d.value;break;case Le.endList:this.tags.ENDLIST="EOF";break;default:we.warn("readLine","unknow line","line:",S)}}},{key:"addFile",value:function(S){if(S[0]!=="#"){this._currentSegment.file=S;var d=this.parseSDParam(S);if(d>=0){this._currentSegment.start=d,this._currentSegment.end=d+this._currentSegment.duration;var y=this.segments[this.segments.length-1]||{sd:0,start:0,end:0};y.duration=d-y.start,y.end=d}this._currentSegment.name||(this._currentSegment.name=S.substr(Math.max(0,S.lastIndexOf("/")),S.lastIndexOf("."))),this.segments.push(this._currentSegment),this._state=Fe}else{var C=this.readTag(S);switch(C.name){case"PROGRAM-DATE-TIME":var R=new Date(C.value);this._currentSegment.time=R;break;default:we.warn("addFile","Invalid tag.","tag.name:",C.name)}}}},{key:"parseSDParam",value:function(S){var d=-1;try{var y=new URL(S).searchParams.get("sd");y&&(d=parseInt(y,10))}catch{}return d}},{key:"parse",value:function(S){var d=this;if(typeof(S=S||this.source)=="string"){this._state=Fe,this.discontinuous=!1;var y=S.split(Le.lineDelimiter);if(y[0]==Le.extensionHeader)return y.forEach(function(C){if(!Le.canStrip(C))switch(d._state){case Fe:d.readLine(C);break;case se:d.addFile(C);break;default:Object(J.a)("parsing m3u8 get an error, it is unknow state.")}}),this;we.error("parse","it is not a valid  m3u8 header","header:",y[0])}else Object(J.a)("m3u8 file is not text.",S)}},{key:"version",get:function(){return this.tags.VERSION}},{key:"duration",get:function(){return this.segments.length?this.segments.reduce(function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1?arguments[1]:void 0,y=typeof S=="number"?S:S.duration;return y+d.duration}):0}},{key:"targetDuration",get:function(){return this.tags.TARGETDURATION}},{key:"mediaSequence",get:function(){return this.tags.MEDIA_SEQUENCE}},{key:"allowCache",get:function(){return this.tags.ALLOW_CACHE}},{key:"length",get:function(){return this.segments.length}}]),P}(),be=i(45),Te=i.n(be);function $e(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Object";return function(S){var d="[object "+P+"]";return Object.prototype.toString.call(S)==d}}var Ie=function(){function P(){o()(this,P)}return u()(P,null,[{key:"importScripts",value:function(S,d,y){var C="ready"+Date.now();S instanceof Array?Te()(S,C):Te()([S],C),Te.a.ready(C,{success:d,error:y})}},{key:"blobData",value:function(S){var d=new Blob([S],{type:"application/javascript"});return URL.createObjectURL(d)}},{key:"escapeHTML",value:function(S){if(P.isString(S))return S.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},{key:"getInnerWidthHeight",value:function(){return{width:window.innerWidth,height:window.innerHeight}}},{key:"Fullscreen",value:function(){var S=document.documentElement;S.requestFullscreen?S.requestFullscreen():S.mozRequestFullScreen?S.mozRequestFullScreen():S.webkitRequestFullScreen&&(S.webkitRequestFullScreen(),setTimeout(function(){console.error("fullscreen success"),document.dispatchEvent(new Event("fullscreenchange"))},0))}},{key:"exitFullscreen",value:function(){var S=document;S.exitFullscreen?S.exitFullscreen():S.mozCancelFullScreen?S.mozCancelFullScreen():S.webkitExitFullscreen&&(S.webkitExitFullscreen(),setTimeout(function(){console.error("exitfullscreen success"),document.dispatchEvent(new Event("fullscreenchange"))},0))}},{key:"buildFilePath",value:function(S,d){return S.map(function(y){return d+y})}},{key:"insertSort",value:function(S,d,y){var C,R,j=S.length;if(j!==0)if(y){var q=y(d);C=q.key,R=q.value;for(var te=0;te<j;te++)if(R<S[te][C]){for(var fe=j;fe>te;)S[fe]=S[fe-1],fe--;return void(S[te]=d)}S.push(d)}else{R=d;for(var xe=0;xe<j;xe++)if(R<S[xe]){for(var Re=j;Re>xe;)S[Re]=S[Re-1],Re--;return void(S[xe]=R)}S.push(R)}else S.push(d)}},{key:"isSafari",value:function(){var S=navigator.userAgent;return/Safari/.test(S)&&!/Chrome/.test(S)}},{key:"msec2sec",value:function(S){var d=(S/1e3).toFixed(3);return parseFloat(d,10)}}]),P}();b()(Ie,"isObject",function(){return $e("Object")}),b()(Ie,"isString",function(){return $e("String")}),b()(Ie,"isFunction",function(){return $e("Function")});var Ne=i(34),ht=i.n(Ne),Xt=function(P){function S(){return o()(this,S),c()(this,f()(S).call(this))}return m()(S,P),u()(S,[{key:"add",value:function(d){this.push(Object.freeze(d))}},{key:"addAll",value:function(d){var y=this;d.forEach(function(C){y.add(C)})}},{key:"get",value:function(d){return this[d]}},{key:"getLast",value:function(){return this[this.length-1]}},{key:"getBy",value:function(d){var y=this;if(typeof d=="function"){var C=new this.constructor;return this.every(function(R,j){return d.call(y,R,j,y)===!0&&C.add(R),!0}),C}}},{key:"indexOfByTime",value:function(d,y){y||(y=function(te){return d>=te.start&&d<te.end});for(var C=this.length-1,R=0;R<=C;){var j=Math.floor((C+R)/2),q=this[j];if(y(q))return j;q.start>d?C=j-1:R=j+1}return-1}},{key:"getByTime",value:function(d){var y=this.indexOfByTime(d);if(y>=0)return this[y]}},{key:"getByKey",value:function(){for(var d=arguments.length,y=new Array(d),C=0;C<d;C++)y[C]=arguments[C];return Array.isArray(y[0])&&(y=y[0]),this.getBy(function(R){var j=!1;return y.every(function(q){return!Object.prototype.hasOwnProperty.call(R,q)||(j=!0,!1)}),j})}},{key:"getByValue",value:function(){for(var d=arguments.length,y=new Array(d),C=0;C<d;C++)y[C]=arguments[C];return Array.isArray(y[0])&&(y=y[0]),this.getBy(function(R){var j=!1;return R.each(function(q,te){if(y.includes(te))return j=!0,!1}),j})}},{key:"getByKeyValue",value:function(d,y){return this.getBy(function(C){return C[d]===y})}},{key:"getValues",value:function(){for(var d=arguments.length,y=new Array(d),C=0;C<d;C++)y[C]=arguments[C];return Array.isArray(y[0])&&(y=y[0]),this.map(function(R){return y.length?R.get(R,y):R.getValues(R)})}},{key:"indexOfBy",value:function(d){var y=0,C=this.length;for(d=d||function(){return!1};y<C;){if(d.call(this,this[y],y,this)===!0)return y;y++}return-1}},{key:"indexOfByKey",value:function(d,y){return this.indexOfBy(function(C){return C[d]===y})}},{key:"indexOfByKeyValue",value:function(d,y){return this.indexOfByKey(d,y)}},{key:"each",value:function(d){if(typeof d=="function")return this.forEach(d),this}},{key:"remove",value:function(d,y){return this.length<=0?this:(d=d<0?0:d,y=y||d+1,this.splice(d,y-d),this)}},{key:"removeItem",value:function(){for(var d=arguments.length,y=new Array(d),C=0;C<d;C++)y[C]=arguments[C];return Array.isArray(y[0])&&(y=y[0]),this.removeBy(function(R){return y.includes(R)})}},{key:"removeBy",value:function(d){for(var y=0,C=this.length;y<C;y++)d.call(this,this[y],y,this)===!0&&(this.splice(y,1),C--,y--);return this}},{key:"removeByKeyValue",value:function(d,y){return this.removeBy(function(C){return C[d]===y})}},{key:"toJSON",value:function(){var d=Array.from(this);return d.forEach(function(y,C){d[C]=y&&typeof y.toJSON=="function"?y.toJSON():y}),d}},{key:"toArray",value:function(){return Array.from(this)}},{key:"size",get:function(){return this.length}}]),S}(ht()(Array)),Rt=function(){function P(){o()(this,P)}return u()(P,[{key:"pair",value:function(){return Object.entries(this)}},{key:"keys",value:function(){return Object.keys(this)}},{key:"set",value:function(S,d){return this[S]=d,this}},{key:"get",value:function(S){return this[S]}},{key:"add",value:function(S,d){return Object.prototype.hasOwnProperty.call(this,S)||this.set(S,d),this}},{key:"addAll",value:function(S){for(var d in S)this.add(d,S[d]);return this}},{key:"toJSON",value:function(){var S={};for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&(S[d]=this[d]);return S}}]),P}(),dn=function(P){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(v()(y),"no",0),b()(v()(y),"name",null),b()(v()(y),"duration",0),b()(v()(y),"file",null),b()(v()(y),"start",0),b()(v()(y),"end",0),Object.assign(v()(y),d),y}return m()(S,P),S}(Rt),jr=function(P){function S(d){return o()(this,S),c()(this,f()(S).call(this,d))}return m()(S,P),u()(S,[{key:"add",value:function(d){d instanceof dn||(d=new dn(d)),d.no=this.length+1,Ie.isObject(d)&&this.push(d)}}]),S}(Xt),de={ProcessorResetEnd:"DataProcessorController.processorResetEnd",DataProcessorReady:"DataProcessorController.dataProcessorReady",DecodeStartDecode:"DecodeController.startDecode",DecodeFlush:"DecodeController.flush",DecodeDecoded:"DecodeController.decoded",DecodeApppendEnd:"DecodeController.appendEnd",DecodeFlushEnd:"DecodeController.flushEnd",DecodeReady:"DecodeController.ready",DemuxResetEnd:"DemuxController.resetEnd",DemuxStartDemux:"DemuxController.startDemux",DemuxLast:"DemuxController.last",DemuxVideo:"DemuxController.video",DemuxAAC:"DemuxController.AAC",DemuxReady:"DemuxController.ready",ImagePlayerRenderEnd:"ImagePlayer.renderEnd",ImagePlayerWait:"ImagePlayer.wait",ImagePlayerReady:"ImagePlayer.ready",ImagePlayerEnd:"ImagePlayer.end",ImagePlayerBuffeUpdate:"ImagePlayer.bufferUpdate",ControlBarPlay:"ControlBar.onPlay",ControlBarPause:"ControlBar.onPause",ControlBarPauseLoading:"ControlBar.onPauseLoading",LoadDataReadBufferByNo:"LoadData.readBufferByNo",LoadDataReadBuffer:"LoadData.readBuffer",LoadDataRead:"LoadData.onRead",LoadDataSeek:"LoadData.onSeek",LoadDataFirstLoaded:"LoadData.onFirstLoaded",LoaderPlayListStart:"Loader.playlistStart",LoaderLoading:"Loader.onLoading",LoaderError:"Loader.onError",LoaderLoaded:"Loader.onLoaded",LoaderUpdateSpeed:"Loader.updateSpeed",LoaderLoadFile:"Loader.loadFile",LoaderPlayListLoaded:"Loader.playlistLoaded",AudioPlayerReady:"AudioPlayer.MSEReady",AudioPlayerDataReady:"AudioPlayer.dataReady",AudioPlayerWait:"AudioPlayer.wait",AudioPlayerEnd:"AudioPlayer.end",AudioPlayerPlaySuccess:"AudioPlayer.playSuccess",AudioPlayerPlayFail:"AudioPlayer.playFail",PlayerMaxPTS:"DemuxController.maxpts",PlayerSeekEnd:"Player.seekend",PlayerSpeedTo:"Player.speedTo",PlayerChangeRate:"Player.changeRate",PlayerChangeSrc:"Player.changeSrc",PlayerPlaying:"Player.playing",PlayerTimeUpdate:"Player.timeUpdate",PlayerbufferUpdate:"Player.bufferupdate",PlayerResetReady:"Player.resetReady",PlayerWait:"Player.wait",PlayerLoadNext:"Player.loadNext",PlayerOnPlay:"Player.onPlay",PlayerOnPause:"Player.onPause",PlayerOnSeek:"Player.onSeek",PlayerOnVolume:"Player.onVolume",PlayerReady:"Player.ready",PlayerPlay:"Player.play",PlayerReset:"Player.reset",PlayerLoadedMetaData:"Player.loadedMetaData",PlayerEnd:"Player.end",PlayerPause:"Player.pause",PlayerSeeking:"Player.seeking",PlayerAlert:"Player.alert",PlayerThrowError:"Player.throwError",StreamDataReady:"StreamController.dataReady"};function Gt(P,S){var d=Object.keys(P);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(P);S&&(y=y.filter(function(C){return Object.getOwnPropertyDescriptor(P,C).enumerable})),d.push.apply(d,y)}return d}var Ar,_r,Ae={HLS:function(P){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this)),b()(v()(y),"state",Se.IDLE),b()(v()(y),"maxBufferDuration",he.b.maxDuration),b()(v()(y),"maxBufferSize",he.b.maxSize),b()(v()(y),"baseUrl",""),b()(v()(y),"options",null),b()(v()(y),"httpWorker",null),b()(v()(y),"sourceData",null),b()(v()(y),"segmentPool",[]),b()(v()(y),"currentNo",null),b()(v()(y),"maxRetryCount",he.b.maxRetryCount),y.options=d,y.loaderController=y.options.loaderController,y.dataController=y.loaderController.dataController,y.httpWorker=d.httpWorker,y.setSegmentPool(new jr),y}return m()(S,P),u()(S,[{key:"loadPlaylist",value:function(d){var y=this;this.httpWorker.postMessage({type:"invoke",fileType:"m3u8",method:"get",name:"playlist",url:this.sourceURL}),this.httpWorker.onmessage=function(C){var R=C.data,j=C.data.data;if(j)R.name=="playlist"&&y.parsePlaylist(j,d);else{var q="Get the ".concat(R.fileType," file error. URL: ").concat(R.url);y.events.emit(de.PlayerAlert,q),y.events.emit(de.LoaderError,q,R);var te=[y.state,"request playlist error.","data:",R,q];y.events.emit(de.PlayerThrowError,te)}}}},{key:"parsePlaylist",value:function(d,y){var C=new ge(d);if(C.segments&&C.segments.length)C.segments.forEach(function(j){j.start=Ie.msec2sec(j.start),j.end=Ie.msec2sec(j.end),j.duration=Ie.msec2sec(j.duration)}),this.setSourceData(Object.freeze(C)),this.segmentPool.addAll(C.segments),y.call(this,C);else{this.events.emit(de.LoaderError,C),this.events.emit(de.PlayerAlert,"Parse playlist file error.");var R=[this.state,"Parse playlist error.","data:",C];this.events.emit(de.PlayerThrowError,R)}}},{key:"setSourceData",value:function(d){this.sourceData=d}},{key:"getSourceData",value:function(){return this.sourceData}},{key:"setSegmentPool",value:function(d){this.segmentPool=d}},{key:"getSegmentPool",value:function(){return this.segmentPool}},{key:"isNotFree",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return d="["+d+"]loader is not free. please wait.",this.state!==Se.IDLE&&this.state!==Se.DONE&&(this.logger.warn("isNotFree","check status for loader","notice:",d),!0)}},{key:"getBaseUrl",value:function(d){var y=this.options.sourceURL;if(!(d.indexOf("//")>-1)){var C=y.lastIndexOf("/");return y.substr(0,C+1)}return""}},{key:"checkLoadCondition",value:function(d){return!(d.no>this.segmentPool.length)&&(!(this.dataController.getLoadDataBufferPool().bufferDuration>this.maxBufferDuration)||(this.logger.info("checkLoadCondition","stop load next segment.","bufferDuration:",this.dataController.getLoadDataBufferPool().bufferDuration,"maxBufferDuration:",this.maxBufferDuration),!1))}},{key:"loadFile",value:function(d,y,C){var R=this;if(d instanceof dn)if(this.isNotFree()&&y!=="seek"&&y!=="start")this.logger.warn("loadFile","is loading","segment:",d,"type:",y);else{if(!this.checkLoadCondition(d))return this.state=Se.IDLE,void this.logger.warn("loadFile","checkLoadCondition failed","segment:",d,"type:",y);this.currentNo=d.no;var j=this.getBaseUrl(d.file)+d.file,q=1,te=function(xe,Re){return typeof R.options.processURL=="function"?R.options.processURL(xe,Re):xe},fe=function(){R.httpWorker.postMessage({type:"invoke",fileType:"ts",method:"get",name:d.no,url:te(j,d)})};this.state=Se.LOADING,this.events.emit(de.LoaderLoading,d,y,C),this.httpWorker.onmessage=function(xe){R.state=Se.DONE;var Re=xe.data;if(R.logger.info("loadfile","httpWorker","onmessage get data"),Re&&Re.type!=="error")Re.type==="notice"?Re.noticeType==="speed"&&R.events.emit(de.LoaderUpdateSpeed,Re.data):Re.fileType==="ts"&&Re.name===d.no?(R.logger.info("loadFile","read success","data no:",Re.name),R.state=Se.IDLE,R.events.emit(de.LoaderLoaded,Re,d,y,C)):R.logger.warn("loadFile","is not ts file or the segment'no is not equal.","fileType:",Re.fileType,"data:",Re);else if(R.state=Se.ERROR,q<=R.maxRetryCount)R.logger.warn("loadFile","retry to load","count:",q,"segment:",d),fe(),q+=1;else{R.events.emit(de.LoaderError,d,y,C),R.events.emit(de.PlayerAlert,"Load file error, please concat administrator.");var ut=[R.state,"Load File error.","load count:",q,"segment:",d];R.events.emit(de.PlayerThrowError,ut)}},fe()}}},{key:"destroy",value:function(){this.httpWorker&&this.httpWorker.terminate()}}]),S}(pe)},mt=function(P){function S(d,y){var C;return o()(this,S),C=c()(this,f()(S).call(this)),b()(v()(C),"state",null),b()(v()(C),"exeLoader",null),b()(v()(C),"loadData",null),b()(v()(C),"type","HLS"),b()(v()(C),"options",null),b()(v()(C),"dataController",null),C.type=d||C.type,C.player=y.player,C.options=y.player.options,C.dataController=C.player.dataController,C.init(C.type,C.options),C}return m()(S,P),u()(S,[{key:"init",value:function(d,y){this.bindEvent(),this.setExeLoader(new Ae[d](function(C){for(var R=1;R<arguments.length;R++){var j=arguments[R]!=null?arguments[R]:{};R%2?Gt(Object(j),!0).forEach(function(q){b()(C,q,j[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(j)):Gt(Object(j)).forEach(function(q){Object.defineProperty(C,q,Object.getOwnPropertyDescriptor(j,q))})}return C}({},y,{player:this.player,loaderController:this}))),this.setSourceURL(y.sourceURL),this.player.loadData?this.setLoadData(this.player.loadData):this.setLoadData(this.dataController.getDataInstance("load",y)),this.exeLoader.setLoadData(this.loadData)}},{key:"run",value:function(){this.state=Se.LOAD_PLAYLIST,this.events.emit(de.LoaderPlayListStart,this),this.logger.info("run",Se[this.state],"url:",this.options.sourceURL),this.loadPlaylist()}},{key:"bindEvent",value:function(){var d=this;this.events.on(de.LoaderLoadFile,function(y,C,R){d.exeLoader.loadFile(y,C,R)})}},{key:"loadPlaylist",value:function(d){var y=this;this.exeLoader.loadPlaylist(function(C){C?(y.dataController.setLoadDataSourceData(y.exeLoader.getSourceData()),y.dataController.setLoadDataSegmentPool(y.exeLoader.getSegmentPool()),y.state=Se.LOADED_PLAYLIST,y.events.emit(de.LoaderPlayListLoaded,y),typeof d=="function"&&d.call(y,C)):y.logger.error("run","start load m3u8","data:",C)})}},{key:"switchPlaylist",value:function(d,y){this.setSourceURL(d),this.dataController.clearLoadData(),this.state=Se.LOAD_PLAYLIST,this.events.emit(de.LoaderPlayListStart,this),this.logger.info("switchPlaylist",Se[this.state],"url:",d),this.loadPlaylist(y)}},{key:"setExeLoader",value:function(d){this.exeLoader=d}},{key:"getExeLoader",value:function(){return this.exeLoader}},{key:"setSourceURL",value:function(d){this.exeLoader.setSourceURL(d)}},{key:"getSourceURL",value:function(){return this.exeLoader.getSourceURL()}},{key:"setLoadData",value:function(d){this.loadData=d}},{key:"getLoadData",value:function(){return this.loadData}},{key:"getSourceData",value:function(){return this.exeLoader.getSourceData()}},{key:"destroy",value:function(){this.exeLoader.destroy()}}]),S}(Y),gr=function(P){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(v()(y),"no",0),b()(v()(y),"start",0),b()(v()(y),"end",0),b()(v()(y),"blob",null),b()(v()(y),"arrayBuffer",null),b()(v()(y),"duration",0),Object.assign(v()(y),d),y}return m()(S,P),u()(S,[{key:"size",get:function(){return this.blob.size}}]),S}(Rt),pn=function(P){function S(d){return o()(this,S),c()(this,f()(S).call(this,d))}return m()(S,P),u()(S,[{key:"add",value:function(d){d instanceof gr||(d=new gr(d));var y=this.length;if(y!==0){for(;y--;)if(d.no<=this[y].no)return void this.splice(y,1,d);return this.push(d),this}this.push(d)}},{key:"getBufferSize",value:function(){return this.length<=0?0:this.reduce(function(d,y){return isNaN(d)&&(d=d.blob.size),d+y.blob.size})}},{key:"getBufferDuration",value:function(){return this.length<=0?0:this.reduce(function(d,y){return isNaN(d)&&(d=d.end-d.start),d+(y.end-y.start)})}},{key:"bufferSize",get:function(){return this.getBufferSize()}},{key:"bufferDuration",get:function(){return this.getBufferDuration()}}]),S}(Xt),Fn=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this)),b()(v()(d),"bufferPool",[]),b()(v()(d),"sourceData",{}),b()(v()(d),"options",{}),b()(v()(d),"segmentPool",[]),b()(v()(d),"readBufferNo",null),b()(v()(d),"startLoadTime",null),b()(v()(d),"currentSeekTime",null),d.options=y,d.init(),d}return m()(S,P),u()(S,[{key:"init",value:function(){var d=this;this.setBufferPool(new pn),this.events.on(de.LoadDataReadBufferByNo,function(y,C){d.readBufferByNo(y,C)}),this.events.on(de.LoadDataReadBuffer,function(y,C){d.readBuffer(y,C)}),this.events.on(de.LoaderLoaded,function(y,C,R,j){var q=d.createBuffer({arrayBuffer:y.arrayBuffer},C);if(d.segmentLoaded(C,q),R==="seek"&&j===d.currentSeekTime)return d.events.emit(de.LoadDataSeek,q,j),void d.removeBufferByNo(q.no);j===d.startLoadTime&&d.events.emit(de.LoadDataFirstLoaded,q,j)})}},{key:"setOptions",value:function(d){Object.assign(this.options,d)}},{key:"startLoad",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.logger.info("startLoad","begin to load ts data","time:",d),isNaN(d)?this.logger.error("seekTime","seek","time:",d):(this.startLoadTime=d,this.loadSegmentByTime(d,"start"))}},{key:"readBuffer",value:function(d,y){var C=this.getSegmentByTime(d);C&&this.readBufferByNo(C.no,y)}},{key:"segmentLoaded",value:function(d,y){y&&this.addBufferPool(y),d.no===this.options.player.currentIndex&&this.readBufferByNo(d.no),d.no<this.segmentPool.getLast().no&&this.loadSegmentByNo(d.no+1)}},{key:"seekTime",value:function(d){if(isNaN(d))this.logger.error("seekTime","seek","time:",d);else{var y;this.currentSeekTime=d;var C=this.bufferPool.indexOfByTime(d);C>-1?(y=this.bufferPool[C],this.events.emit(de.LoadDataSeek,y,d)):(this.removeBufferPool(this.bufferPool.length),this.loadSegmentByTime(d,"seek"))}}},{key:"loadSegmentByTime",value:function(d,y){if(!isNaN(d)){var C=this.segmentPool.indexOfByTime(d);if(C>=0){var R=this.segmentPool[C];this.events.emit(de.LoaderLoadFile,R,y,d)}else this.logger.error("loadSegmentByTime","time over","time:",d,"type:",y)}}},{key:"createBuffer",value:function(d,y){if(d){var C={start:y.start,end:y.end,no:y.no,duration:y.end-y.start,arrayBuffer:d.arrayBuffer};return new gr(C)}}},{key:"isValidSegmentNo",value:function(d){return!isNaN(d)&&d>0&&d<=this.segmentPool.length}},{key:"loadSegmentByNo",value:function(d){var y=d-1,C=this.segmentPool.get(y);C&&this.events.emit(de.LoaderLoadFile,C,"play")}},{key:"readBufferByNo",value:function(d,y){this.isValidSegmentNo(d)?(this.readBufferNo=d,y=y||function(C){this.events.emit(de.LoadDataRead,C)},this.getBlobByNo(d,y)):this.logger.error("readBufferByNo","check buffer no","is not valid no",d)}},{key:"getSegmentByTime",value:function(d){var y=this.segmentPool.indexOfByTime(d);return this.segmentPool[y]}},{key:"getBlobByNo",value:function(d,y){if(isNaN(d))this.logger.error("getBlobByNo","isNaN","no:",d);else{var C;if(!this.isBufferReading)return this.isBufferReading=!0,C=this.bufferPool.getByKeyValue("no",d)[0],typeof y=="function"&&(y.call(this,C),C&&this.removeBufferByNo(C.no)),this.isBufferReading=!1,C;this.logger.warn("getBlobByNo","isBufferReading","no:",d)}}},{key:"addBufferPool",value:function(d){if(this.bufferPool.length){if(this.bufferPool[0].no===d.no+1)return this.bufferPool.unshift(d),!0;var y=this.bufferPool.getLast();if(d.no-y.no==1)return this.bufferPool.push(d),!0;if(this.bufferPool.indexOfByKey("no",d.no))return!0;this.bufferPool.splice(0,this.bufferPool.length)}this.bufferPool.push(d)}},{key:"removeBufferPool",value:function(d){this.bufferPool.splice(0,d+1)}},{key:"removeBufferByNo",value:function(d){var y=this.bufferPool.indexOfByKey("no",d);if(!(y<=-1))return this.removeBufferPool(y),this.bufferPool.length?this.bufferPool.getLast().no<this.segmentPool.getLast().no&&this.loadSegmentByNo(this.bufferPool.getLast().no+1):d<this.segmentPool.getLast().no&&this.loadSegmentByNo(d+1),!0}},{key:"clear",value:function(){this.sourceData={},this.readBufferNo=null,this.currentSeekTime=null,this.bufferPool.length=0,this.segmentPool.length=0}},{key:"getSegmentByNo",value:function(d){return this.segmentPool.get(d-1)}},{key:"getSegment",value:function(d){return this.segmentPool.getByTime(d)}},{key:"setSourceData",value:function(d){this.sourceData=d}},{key:"getSourceData",value:function(){return this.sourceData}},{key:"setBufferPool",value:function(d){this.bufferPool=d}},{key:"getBufferPool",value:function(){return this.bufferPool}},{key:"setSegmentPool",value:function(d){this.segmentPool=d}},{key:"getSegmentPool",value:function(){return this.segmentPool}}]),S}(ae),Ti=function(P){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this)),b()(v()(y),"loadData",null),y.options=d,y}return m()(S,P),u()(S,[{key:"setLoadData",value:function(){for(var d=arguments.length,y=new Array(d),C=0;C<d;C++)y[C]=arguments[C];this.loadData=G()(Fn,y)}},{key:"getLoadData",value:function(){return this.loadData}},{key:"getLoadDataBufferPool",value:function(){return this.loadData.bufferPool}},{key:"setLoadDataSourceData",value:function(d){this.loadData.setSourceData(d)}},{key:"setLoadDataSegmentPool",value:function(d){this.loadData.setSegmentPool(d)}},{key:"startLoad",value:function(d){d=Math.max(d,0),this.startLoadData(d)}},{key:"startLoadData",value:function(d){this.loadData.startLoad(d)}},{key:"clearLoadData",value:function(){this.loadData.clear()}},{key:"getDataInstance",value:function(d){if(d)switch(d){case"load":if(!this.loadData){for(var y=arguments.length,C=new Array(y>1?y-1:0),R=1;R<y;R++)C[R-1]=arguments[R];this.setLoadData.apply(this,C)}return this.loadData;default:return null}}}]),S}(Y),wc=function(P){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(v()(y),"checkHanlder",null),b()(v()(y),"resetStatus",{processor:!1,audioPlayer:!1}),y.player=d.player,y.player?(y.audioPlayer=d.audioPlayer,y.imagePlayer=d.imagePlayer,y.loadData=d.loadData,y.bindEvent(),y):c()(y)}return m()(S,P),u()(S,[{key:"bindEvent",value:function(){var d=this;this.events.on(de.ProcessorResetEnd,function(){d.checkResetReady("processor")}),this.events.on(de.AudioPlayerReady,function(){d.checkResetReady("audioPlayer")}),this.events.on(de.PlayerResetReady,function(){d.onResetReady()}),this.events.on(de.LoadDataSeek,function(y,C){d.onSeek(y,C)}),this.events.on(de.ImagePlayerRenderEnd,function(y){d.onRenderEnd(y)}),this.events.on(de.ImagePlayerWait,function(){d.audioPlayer.pause()})}},{key:"play",value:function(d){this.logger.warn("play","play start"),this.sync(d)}},{key:"sync",value:function(d){var y=this.player,C=this.audioPlayer,R=this.imagePlayer,j=C.offset,q=R.offset,te=Math.min(j,q),fe=Math.max(j,q),xe=y.playbackRate;if(y.seeking&&(y.seeking=!1),!y.reseting&&y.status!=="pause"&&C.status!=="waiting"&&R.status!=="wait")if(y.status!=="end"){if(this.setCurrentTime(d),!(d<te))return d>=j&&d<=q?(this.events.once(de.AudioPlayerPlaySuccess,function(){R.render(q)}),C.playbackRate=xe,void C.play()):void(d>=q&&d<=j?R.render(d):d>fe&&(this.audioPlayer.playbackRate=xe,this.audioPlayer.play(),R.render(d)));this.sync(te)}else C.paused||C.pause()}},{key:"setCurrentTime",value:function(d){this.player.currentTime=d,this.events.emit(de.PlayerTimeUpdate,d)}},{key:"pause",value:function(){this.audioPlayer.pause(),this.clearDrawHanlder()}},{key:"seek",value:function(d){var y=this,C=this.imagePlayer.isBuffered(d),R=this.audioPlayer.isBuffered(d);this.player.pause(),C&&R?(this.logger.warn("seek","seek in buffer, time: ".concat(d,", buffer: ").concat(this.player.buffer()[0],", ").concat(this.player.buffer()[1])),this.audioPlayer.onSeekedHandler=function(){y.player.play()},this.audioPlayer.currentTime=d):this.reset()}},{key:"reset",value:function(d){this.logger.info("reset","reset start"),this.player.reseting=!0,this.events.emit(de.PlayerReset,d),this.resetStatus={processor:!1,audioPlayer:!1},this.player.processController.reset(),this.player.streamController.reset(),this.player.audioPlayer.reset(d),this.player.imagePlayer.reset(),this.player.currentIndex=null}},{key:"checkResetReady",value:function(d){var y=this.resetStatus;if(d&&typeof d=="string"){y[d]=!0;for(var C=Object.keys(y),R=0;R<C.length;R++)if(!y[C[R]])return!1;this.logger.warn("checkResetReady","reset ready"),this.events.emit(de.PlayerResetReady)}}},{key:"onResetReady",value:function(){this.player.reseting=!1,this.logger.info("onResetReady","reset Ready"),this.player.changing&&this.events.emit(de.DataProcessorReady),this.player.seeking&&this.player.loadData.seekTime(this.player.currentTime/1e3)}},{key:"onSeek",value:function(d,y){var C=this.player.currentTime;this.logger.info("onseek",C,d,d.no,y),d&&d.no&&Math.abs(C-Math.floor(1e3*y))<2?(this.player.currentIndex=d.no,this.logger.info("seektime:",d.no,y,this.player.currentTime),this.player.seekSegmentNo=d.no,this.player.streamController.startLoad(d.no)):this.logger.warn("seek failue, not found data",C,d,y)}},{key:"clearDrawHanlder",value:function(){clearTimeout(this.drawFrameHanlder),this.drawFrameHanlder=null}},{key:"onRenderEnd",value:function(){this.player.seekTime&&(this.logger.info("onRenderEnd","seektoRenderTime:",Date.now()-this.player.seekTime),this.player.seekTime=null);var d=this.imagePlayer,y=this.audioPlayer,C=this.player.playbackRate,R=y.currentTime,j=d.currentTime,q=y.offset,te=d.fragDuration,fe=R-j,xe=0;j<q?this.drawNext(j+te*C,te):(fe>0&&fe>te?te=(xe=j+Math.ceil(fe/te+C)*te)-R:(xe=j+te*C,te-=fe),this.drawNext(xe,te))}},{key:"drawNext",value:function(d,y){var C=this;this.drawFrameHanlder&&this.clearDrawHanlder(),this.drawFrameHanlder=setTimeout(function(){C.sync(d)},y)}}]),S}(ae);function $n(P){if(Ar){for(var S=arguments.length,d=new Array(S>1?S-1:0),y=1;y<S;y++)d[y-1]=arguments[y];Ar.apply(void 0,[P].concat(d))}}function Jn(P){if(_r){for(var S=arguments.length,d=new Array(S>1?S-1:0),y=1;y<S;y++)d[y-1]=arguments[y];_r.apply(void 0,[P].concat(d))}}var Lr=function(){function P(S){o()(this,P),this.payload=S,this.nri=(96&this.payload[0])>>5,this.ntype=31&this.payload[0]}return u()(P,null,[{key:"type",value:function(S){return S.ntype in P.TYPES?P.TYPES[S.ntype]:"UNKNOWN"}},{key:"NDR",get:function(){return 1}},{key:"IDR",get:function(){return 5}},{key:"SEI",get:function(){return 6}},{key:"SPS",get:function(){return 7}},{key:"PPS",get:function(){return 8}},{key:"AUD",get:function(){return 9}},{key:"TYPES",get:function(){var S;return S={},b()(S,P.IDR,"IDR"),b()(S,P.SEI,"SEI"),b()(S,P.SPS,"SPS"),b()(S,P.PPS,"PPS"),b()(S,P.NDR,"NDR"),b()(S,P.AUD,"AUD"),S}}]),u()(P,[{key:"toString",value:function(){return"".concat(P.type(this),": NRI: ").concat(this.getNri())}},{key:"getNri",value:function(){return this.nri>>6}},{key:"type",value:function(){return this.ntype}},{key:"isKeyframe",value:function(){return this.ntype==P.IDR}},{key:"getSize",value:function(){return 4+this.payload.byteLength}},{key:"getData",value:function(){var S=new Uint8Array(this.getSize());return new DataView(S.buffer).setUint32(0,this.getSize()-4),S.set(this.payload,4),S}}]),P}(),hs=function(){function P(S){o()(this,P),this.data=S,this.index=0,this.bitLength=8*S.byteLength}return u()(P,[{key:"skipBits",value:function(S){if(this.bitsAvailable<S)return!1;this.index+=S}},{key:"readBits",value:function(S){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],y=this.getBits(S,this.index,d);return y}},{key:"getBits",value:function(S,d){var y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(this.bitsAvailable<S)return 0;var C=d%8,R=this.data[d/8|0]&255>>>C,j=8-C;if(j>=S)return y&&(this.index+=S),R>>j-S;y&&(this.index+=j);var q=S-j;return R<<q|this.getBits(q,d+j,y)}},{key:"skipLZ",value:function(){var S;for(S=0;S<this.bitLength-this.index;++S)if(this.getBits(1,this.index+S,!1)!==0)return this.index+=S,S;return S}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var S=this.skipLZ();return this.readBits(S+1)-1}},{key:"readEG",value:function(){var S=this.readUEG();return 1&S?1+S>>>1:-1*(S>>>1)}},{key:"readBoolean",value:function(){return this.readBits(1)===1}},{key:"readUByte",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.readBits(8*S)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"bitsAvailable",get:function(){return this.bitLength-this.index}}]),P}(),ds=function(){function P(S){o()(this,P),this.remuxer=S,this.track=S.mp4track}return u()(P,null,[{key:"extractNALu",value:function(S){for(var d,y,C=0,R=S.byteLength,j=0,q=[];C<R;)switch(d=S[C++],j){case 0:d===0&&(j=1);break;case 1:j=d===0?2:0;break;case 2:case 3:d===0?j=3:(d===1&&C<R&&(y&&q.push(S.subarray(y,C-j-1)),y=C),j=0)}return y&&q.push(S.subarray(y,R)),q}},{key:"skipScalingList",value:function(S,d){for(var y=8,C=8,R=0;R<d;R++)C!==0&&(C=(y+S.readEG()+256)%256),y=C===0?y:C}},{key:"readSPS",value:function(S){var d,y,C,R,j,q,te=new hs(S),fe=0,xe=0,Re=0,ut=0,St=1;if(te.readUByte(),d=te.readUByte(),te.readBits(5),te.skipBits(3),te.readUByte(),te.skipUEG(),d===100||d===110||d===122||d===244||d===44||d===83||d===86||d===118||d===128){var tr=te.readUEG();if(tr===3&&te.skipBits(1),te.skipUEG(),te.skipUEG(),te.skipBits(1),te.readBoolean()){q=tr!==3?8:12;for(var rr=0;rr<q;++rr)te.readBoolean()&&(rr<6?P.skipScalingList(te,16):P.skipScalingList(te,64))}}te.skipUEG();var mr=te.readUEG();if(mr===0)te.readUEG();else if(mr===1){te.skipBits(1),te.skipEG(),te.skipEG(),y=te.readUEG();for(var Yr=0;Yr<y;++Yr)te.skipEG()}if(te.skipUEG(),te.skipBits(1),C=te.readUEG(),R=te.readUEG(),(j=te.readBits(1))===0&&te.skipBits(1),te.skipBits(1),te.readBoolean()&&(fe=te.readUEG(),xe=te.readUEG(),Re=te.readUEG(),ut=te.readUEG()),te.readBoolean()){if(te.readBoolean()){var Et;switch(te.readUByte()){case 1:Et=[1,1];break;case 2:Et=[12,11];break;case 3:Et=[10,11];break;case 4:Et=[16,11];break;case 5:Et=[40,33];break;case 6:Et=[24,11];break;case 7:Et=[20,11];break;case 8:Et=[32,11];break;case 9:Et=[80,33];break;case 10:Et=[18,11];break;case 11:Et=[15,11];break;case 12:Et=[64,33];break;case 13:Et=[160,99];break;case 14:Et=[4,3];break;case 15:Et=[3,2];break;case 16:Et=[2,1];break;case 255:Et=[te.readUByte()<<8|te.readUByte(),te.readUByte()<<8|te.readUByte()]}Et&&(St=Et[0]/Et[1])}te.readBoolean()&&te.skipBits(1),te.readBoolean()&&(te.skipBits(4),te.readBoolean()&&te.skipBits(24)),te.readBoolean()&&(te.skipUEG(),te.skipUEG()),te.readBoolean()&&(te.readUInt(),te.readUInt(),te.readBoolean())}return{width:Math.ceil((16*(C+1)-2*fe-2*xe)*St),height:(2-j)*(R+1)*16-(j?2:4)*(Re+ut)}}}]),u()(P,[{key:"parseSPS",value:function(S){var d=P.readSPS(new Uint8Array(S));this.track.width=d.width,this.track.height=d.height,this.track.sps=[new Uint8Array(S)],this.track.codec="avc1.";for(var y=new DataView(S.buffer,S.byteOffset+1,4),C=0;C<3;++C){var R=y.getUint8(C).toString(16);R.length<2&&(R="0"+R),this.track.codec+=R}}},{key:"parsePPS",value:function(S){this.track.pps=[new Uint8Array(S)]}},{key:"parseNAL",value:function(S){if(!S)return!1;var d=!1;switch(S.type()){case Lr.NDR:case Lr.IDR:d=!0;break;case Lr.PPS:this.track.pps||(this.parsePPS(S.getData().subarray(4)),!this.remuxer.readyToDecode&&this.track.pps&&this.track.sps&&(this.remuxer.readyToDecode=!0)),d=!0;break;case Lr.SPS:this.track.sps||(this.parseSPS(S.getData().subarray(4)),!this.remuxer.readyToDecode&&this.track.pps&&this.track.sps&&(this.remuxer.readyToDecode=!0)),d=!0;break;case Lr.AUD:$n("AUD - ignoing and disable HD mode for live channel"),this.remuxer.isHDAvail&&(this.remuxer.isHDAvail=!1);break;case Lr.SEI:$n("SEI - ignoing")}return d}}]),P}(),Ki=function(){function P(S){o()(this,P),this.listener={},this.type=""|S}return u()(P,[{key:"on",value:function(S,d){return this.listener[S]||(this.listener[S]=[]),this.listener[S].push(d),!0}},{key:"off",value:function(S,d){if(this.listener[S]){var y=this.listener[S].indexOf(d);return y>-1&&this.listener[S].splice(y,1),!0}return!1}},{key:"offAll",value:function(){this.listener={}}},{key:"dispatch",value:function(S,d){return!!this.listener[S]&&(this.listener[S].map(function(y){y.apply(null,[d])}),!0)}}]),P}(),yr=Math.pow(2,32)-1,Ct=function(){function P(){o()(this,P)}return u()(P,null,[{key:"init",value:function(){var S;for(S in P.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},P.types)P.types.hasOwnProperty(S)&&(P.types[S]=[S.charCodeAt(0),S.charCodeAt(1),S.charCodeAt(2),S.charCodeAt(3)]);var d=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),y=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);P.HDLR_TYPES={video:d,audio:y};var C=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),R=new Uint8Array([0,0,0,0,0,0,0,0]);P.STTS=P.STSC=P.STCO=R,P.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),P.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),P.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),P.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var j=new Uint8Array([105,115,111,109]),q=new Uint8Array([97,118,99,49]),te=new Uint8Array([0,0,0,1]);P.FTYP=P.box(P.types.ftyp,j,te,j,q),P.DINF=P.box(P.types.dinf,P.box(P.types.dref,C))}},{key:"box",value:function(S){for(var d=arguments.length,y=new Array(d>1?d-1:0),C=1;C<d;C++)y[C-1]=arguments[C];for(var R,j=8,q=y.length,te=q;q--;)j+=y[q].byteLength;for((R=new Uint8Array(j))[0]=j>>24&255,R[1]=j>>16&255,R[2]=j>>8&255,R[3]=255&j,R.set(S,4),q=0,j=8;q<te;++q)R.set(y[q],j),j+=y[q].byteLength;return R}},{key:"hdlr",value:function(S){return P.box(P.types.hdlr,P.HDLR_TYPES[S])}},{key:"mdat",value:function(S){return P.box(P.types.mdat,S)}},{key:"mdhd",value:function(S,d){d*=S;var y=Math.floor(d/(yr+1)),C=Math.floor(d%(yr+1));return P.box(P.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,S>>24&255,S>>16&255,S>>8&255,255&S,y>>24,y>>16&255,y>>8&255,255&y,C>>24,C>>16&255,C>>8&255,255&C,85,196,0,0]))}},{key:"mdia",value:function(S){return P.box(P.types.mdia,P.mdhd(S.timescale,S.duration),P.hdlr(S.type),P.minf(S))}},{key:"mfhd",value:function(S){return P.box(P.types.mfhd,new Uint8Array([0,0,0,0,S>>24,S>>16&255,S>>8&255,255&S]))}},{key:"minf",value:function(S){return S.type==="audio"?P.box(P.types.minf,P.box(P.types.smhd,P.SMHD),P.DINF,P.stbl(S)):P.box(P.types.minf,P.box(P.types.vmhd,P.VMHD),P.DINF,P.stbl(S))}},{key:"moof",value:function(S,d,y){return P.box(P.types.moof,P.mfhd(S),P.traf(y,d))}},{key:"moov",value:function(S,d,y){for(var C=S.length,R=[];C--;)R[C]=P.trak(S[C]);return P.box.apply(null,[P.types.moov,P.mvhd(y,d)].concat(R).concat(P.mvex(S)))}},{key:"mvex",value:function(S){for(var d=S.length,y=[];d--;)y[d]=P.trex(S[d]);return P.box.apply(null,[P.types.mvex].concat(y))}},{key:"mvhd",value:function(S,d){d*=S;var y=Math.floor(d/(yr+1)),C=Math.floor(d%(yr+1)),R=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,S>>24&255,S>>16&255,S>>8&255,255&S,y>>24,y>>16&255,y>>8&255,255&y,C>>24,C>>16&255,C>>8&255,255&C,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return P.box(P.types.mvhd,R)}},{key:"sdtp",value:function(S){var d,y,C=S.samples||[],R=new Uint8Array(4+C.length);for(y=0;y<C.length;y++)d=C[y].flags,R[y+4]=d.dependsOn<<4|d.isDependedOn<<2|d.hasRedundancy;return P.box(P.types.sdtp,R)}},{key:"stbl",value:function(S){return P.box(P.types.stbl,P.stsd(S),P.box(P.types.stts,P.STTS),P.box(P.types.stsc,P.STSC),P.box(P.types.stsz,P.STSZ),P.box(P.types.stco,P.STCO))}},{key:"avc1",value:function(S){var d,y,C,R=[],j=[];for(d=0;d<S.sps.length;d++)C=(y=S.sps[d]).byteLength,R.push(C>>>8&255),R.push(255&C),R=R.concat(Array.prototype.slice.call(y));for(d=0;d<S.pps.length;d++)C=(y=S.pps[d]).byteLength,j.push(C>>>8&255),j.push(255&C),j=j.concat(Array.prototype.slice.call(y));var q=P.box(P.types.avcC,new Uint8Array([1,R[3],R[4],R[5],255,224|S.sps.length].concat(R).concat([S.pps.length]).concat(j))),te=S.width,fe=S.height;return P.box(P.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,te>>8&255,255&te,fe>>8&255,255&fe,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,98,105,110,101,108,112,114,111,46,114,117,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),q,P.box(P.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))}},{key:"esds",value:function(S){var d=S.config.byteLength,y=new Uint8Array(26+d+3);return y.set([0,0,0,0,3,23+d,0,1,0,4,15+d,64,21,0,0,0,0,0,0,0,0,0,0,0,5,d]),y.set(S.config,26),y.set([6,1,2],26+d),y}},{key:"mp4a",value:function(S){var d=S.audiosamplerate;return P.box(P.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,S.channelCount,0,16,0,0,0,0,d>>8&255,255&d,0,0]),P.box(P.types.esds,P.esds(S)))}},{key:"stsd",value:function(S){return S.type==="audio"?P.box(P.types.stsd,P.STSD,P.mp4a(S)):P.box(P.types.stsd,P.STSD,P.avc1(S))}},{key:"tkhd",value:function(S){var d=S.id,y=S.duration*S.timescale,C=S.width,R=S.height,j=Math.floor(y/(yr+1)),q=Math.floor(y%(yr+1));return P.box(P.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,d>>24&255,d>>16&255,d>>8&255,255&d,0,0,0,0,j>>24,j>>16&255,j>>8&255,255&j,q>>24,q>>16&255,q>>8&255,255&q,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,C>>8&255,255&C,0,0,R>>8&255,255&R,0,0]))}},{key:"traf",value:function(S,d){var y=P.sdtp(S),C=S.id,R=Math.floor(d/(yr+1)),j=Math.floor(d%(yr+1));return P.box(P.types.traf,P.box(P.types.tfhd,new Uint8Array([0,0,0,0,C>>24,C>>16&255,C>>8&255,255&C])),P.box(P.types.tfdt,new Uint8Array([1,0,0,0,R>>24,R>>16&255,R>>8&255,255&R,j>>24,j>>16&255,j>>8&255,255&j])),P.trun(S,y.length+16+20+8+16+8+8),y)}},{key:"trak",value:function(S){return S.duration=S.duration||4294967295,P.box(P.types.trak,P.tkhd(S),P.mdia(S))}},{key:"trex",value:function(S){var d=S.id;return P.box(P.types.trex,new Uint8Array([0,0,0,0,d>>24,d>>16&255,d>>8&255,255&d,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(S,d){var y,C,R,j,q,te,fe=S.samples||[],xe=fe.length,Re=12+16*xe,ut=new Uint8Array(Re);for(d+=8+Re,ut.set([0,0,15,1,xe>>>24&255,xe>>>16&255,xe>>>8&255,255&xe,d>>>24&255,d>>>16&255,d>>>8&255,255&d],0),y=0;y<xe;y++)R=(C=fe[y]).duration,j=C.size,q=C.flags,te=C.cts,ut.set([R>>>24&255,R>>>16&255,R>>>8&255,255&R,j>>>24&255,j>>>16&255,j>>>8&255,255&j,q.isLeading<<2|q.dependsOn,q.isDependedOn<<6|q.hasRedundancy<<4|q.paddingValue<<1|q.isNonSync,61440&q.degradPrio,15&q.degradPrio,te>>>24&255,te>>>16&255,te>>>8&255,255&te],12+16*y);return P.box(P.types.trun,ut)}},{key:"initSegment",value:function(S,d,y){P.types||P.init();var C,R=P.moov(S,d,y);return(C=new Uint8Array(P.FTYP.byteLength+R.byteLength)).set(P.FTYP),C.set(R,P.FTYP.byteLength),C}}]),P}(),Wr=function(){function P(S){o()(this,P),this.remuxer=S,this.track=S.mp4track,this.aacHeader=null}return u()(P,[{key:"getHeaderLength",value:function(S){return 1&S[1]?7:9}},{key:"getFrameLength",value:function(S){return(3&S[3])<<11|S[4]<<3|(224&S[5])>>>5}},{key:"isAACPattern",value:function(S){return S[0]===255&&(240&S[1])==240&&(6&S[1])==0}},{key:"extractAAC",value:function(S){var d,y,C=0,R=S.byteLength,j=[];if(!this.isAACPattern(S))return Jn("Invalid ADTS audio format"),j;for(d=this.getHeaderLength(S),this.aacHeader||(this.aacHeader=S.subarray(0,d));C<R;)y=this.getFrameLength(S),j.push(S.subarray(d,y)),S=S.slice(y),C+=y;return j}},{key:"samplingRateMap",get:function(){return[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350]}},{key:"getAACHeaderData",get:function(){return this.aacHeader}},{key:"setAACHeaderData",set:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.aacHeader=S}}]),u()(P,[{key:"setAACConfig",value:function(){var S,d,y,C=new Uint8Array(2),R=this.getAACHeaderData;R&&(S=1+((192&R[2])>>>6),d=(60&R[2])>>>2,y=(1&R[2])<<2,y|=(192&R[3])>>>6,C[0]=S<<3,C[0]|=(14&d)>>1,C[1]|=(1&d)<<7,C[1]|=y<<3,this.track.codec="mp4a.40."+S,this.track.channelCount=y,this.track.config=C,this.remuxer.readyToDecode=!0)}}]),P}(),Ra=1,Hr=function(){function P(){o()(this,P),this.seq=1}return u()(P,null,[{key:"getTrackID",value:function(){return Ra++}}]),u()(P,[{key:"flush",value:function(){this.seq++,this.mp4track.len=0,this.mp4track.samples=[]}},{key:"isReady",value:function(){return!(!this.readyToDecode||!this.samples.length)||null}}]),P}(),Hn=function(P){function S(){var d;return o()(this,S),(d=c()(this,f()(S).call(this))).readyToDecode=!1,d.nextDts=0,d.dts=0,d.timescale=1e3,d.mp4track={id:Hr.getTrackID(),type:"audio",channelCount:0,len:0,fragmented:!0,timescale:d.timescale,duration:d.timescale,samples:[],config:"",codec:""},d.samples=[],d.aac=new Wr(v()(d)),d}return m()(S,P),u()(S,[{key:"resetTrack",value:function(){this.readyToDecode=!1,this.mp4track.codec="",this.mp4track.channelCount="",this.mp4track.config="",this.mp4track.timescale=this.timescale}},{key:"remux",value:function(d){var y,C,R=!0,j=!1,q=void 0;try{for(var te,fe=d[Symbol.iterator]();!(R=(te=fe.next()).done);R=!0){var xe=te.value;y=(C=xe.units).byteLength,this.samples.push({units:C,size:y,duration:xe.duration}),this.mp4track.len+=y,this.readyToDecode||this.aac.setAACConfig()}}catch(Re){j=!0,q=Re}finally{try{R||fe.return==null||fe.return()}finally{if(j)throw q}}}},{key:"getPayload",value:function(){if(!this.isReady())return null;var d,y,C=new Uint8Array(this.mp4track.len),R=0,j=this.mp4track.samples;for(this.dts=this.nextDts;this.samples.length;){var q=this.samples.shift();(y=q.duration)<=0?($n("remuxer: invalid sample duration at DTS: ".concat(this.nextDts," :").concat(y)),this.mp4track.len-=q.size):(this.nextDts+=y,d={size:q.size,duration:y,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},C.set(q.units,R),R+=q.size,j.push(d))}return j.length?new Uint8Array(C.buffer,0,this.mp4track.len):null}}]),S}(Hr),Zi=function(P){function S(){var d;return o()(this,S),(d=c()(this,f()(S).call(this))).readyToDecode=!1,d.nextDts=0,d.dts=0,d.timescale=1e3,d.mp4track={id:Hr.getTrackID(),type:"video",len:0,fragmented:!0,sps:"",pps:"",width:0,height:0,timescale:d.timescale,duration:d.timescale,samples:[]},d.samples=[],d.h264=new ds(v()(d)),d}return m()(S,P),u()(S,[{key:"resetTrack",value:function(){this.readyToDecode=!1,this.mp4track.sps="",this.mp4track.pps=""}},{key:"remux",value:function(d){var y,C,R,j,q,te=!0,fe=!1,xe=void 0;try{for(var Re,ut=d[Symbol.iterator]();!(te=(Re=ut.next()).done);te=!0){y=Re.value,C=[],j=0,q=!1;var St=!0,tr=!1,rr=void 0;try{for(var mr,Yr=y.units[Symbol.iterator]();!(St=(mr=Yr.next()).done);St=!0)R=mr.value,this.h264.parseNAL(R)&&(C.push(R),j+=R.getSize(),q||(q=R.isKeyframe()))}catch(Et){tr=!0,rr=Et}finally{try{St||Yr.return==null||Yr.return()}finally{if(tr)throw rr}}C.length>0&&this.readyToDecode&&(this.mp4track.len+=j,this.samples.push({units:C,size:j,keyFrame:q,duration:y.duration}))}}catch(Et){fe=!0,xe=Et}finally{try{te||ut.return==null||ut.return()}finally{if(fe)throw xe}}}},{key:"getPayload",value:function(){if(!this.isReady())return null;var d,y,C=new Uint8Array(this.mp4track.len),R=0,j=this.mp4track.samples;for(this.dts=this.nextDts;this.samples.length;){var q=this.samples.shift(),te=q.units;if((y=q.duration)<=0)$n("remuxer: invalid sample duration at DTS: ".concat(this.nextDts," :").concat(y)),this.mp4track.len-=q.size;else{this.nextDts+=y,d={size:q.size,duration:y,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,isNonSync:q.keyFrame?0:1,dependsOn:q.keyFrame?2:1}};var fe=!0,xe=!1,Re=void 0;try{for(var ut,St=te[Symbol.iterator]();!(fe=(ut=St.next()).done);fe=!0){var tr=ut.value;C.set(tr.getData(),R),R+=tr.getSize()}}catch(rr){xe=!0,Re=rr}finally{try{fe||St.return==null||St.return()}finally{if(xe)throw Re}}j.push(d)}}return j.length?new Uint8Array(C.buffer,0,this.mp4track.len):null}}]),S}(Hr);function ps(P,S){var d=new Uint8Array((0|P.byteLength)+(0|S.byteLength));return d.set(P,0),d.set(S,0|P.byteLength),d}var Ci=function(P){function S(d){var y;return o()(this,S),(y=c()(this,f()(S).call(this,"remuxer"))).initialized=!1,y.trackTypes=[],y.tracks={},y.mediaDuration=d?1/0:1e3,y}return m()(S,P),u()(S,[{key:"addTrack",value:function(d){d!=="video"&&d!=="both"||(this.tracks.video=new Zi,this.trackTypes.push("video")),d!=="audio"&&d!=="both"||(this.tracks.audio=new Hn,this.trackTypes.push("audio"))}},{key:"reset",value:function(){var d=!0,y=!1,C=void 0;try{for(var R,j=this.trackTypes[Symbol.iterator]();!(d=(R=j.next()).done);d=!0){var q=R.value;this.tracks[q].resetTrack()}}catch(te){y=!0,C=te}finally{try{d||j.return==null||j.return()}finally{if(y)throw C}}this.initialized=!1}},{key:"destroy",value:function(){this.tracks={},this.offAll()}},{key:"flush",value:function(){if(this.initialized){var d=!0,y=!1,C=void 0;try{for(var R,j=this.trackTypes[Symbol.iterator]();!(d=(R=j.next()).done);d=!0){var q=R.value,te=this.tracks[q],fe=te.getPayload();if(fe&&fe.byteLength){var xe={type:q,payload:ps(Ct.moof(te.seq,te.dts,te.mp4track),Ct.mdat(fe)),dts:te.dts};this.dispatch("buffer",xe);var Re=(Co=te.dts/1e3,Vn=void 0,Nc=void 0,nd=void 0,id=void 0,id="",Vn=Math.floor(Co),(Nc=parseInt(Vn/3600,10)%24)>0&&(id+=(Nc<10?"0"+Nc:Nc)+":"),id+=((nd=parseInt(Vn/60,10)%60)<10?"0"+nd:nd)+":"+((Vn=Vn<0?0:Vn%60)<10?"0"+Vn:Vn));$n("put segment (".concat(q,"): ").concat(te.seq," dts: ").concat(te.dts," samples: ").concat(te.mp4track.samples.length," second: ").concat(Re)),te.flush()}}}catch(Bg){y=!0,C=Bg}finally{try{d||j.return==null||j.return()}finally{if(y)throw C}}}else if(this.isReady()){this.dispatch("ready");var ut=!0,St=!1,tr=void 0;try{for(var rr,mr=this.trackTypes[Symbol.iterator]();!(ut=(rr=mr.next()).done);ut=!0){var Yr=rr.value,Et=this.tracks[Yr],Cs={type:Yr,payload:Ct.initSegment([Et.mp4track],this.mediaDuration,Et.mp4track.timescale)};this.dispatch("buffer",Cs)}}catch(Bg){St=!0,tr=Bg}finally{try{ut||mr.return==null||mr.return()}finally{if(St)throw tr}}$n("Initial segment generated."),this.initialized=!0}var Co,Vn,Nc,nd,id}},{key:"isReady",value:function(){var d=!0,y=!1,C=void 0;try{for(var R,j=this.trackTypes[Symbol.iterator]();!(d=(R=j.next()).done);d=!0){var q=R.value;if(!this.tracks[q].readyToDecode||!this.tracks[q].samples.length)return!1}}catch(te){y=!0,C=te}finally{try{d||j.return==null||j.return()}finally{if(y)throw C}}return!0}},{key:"remux",value:function(d){var y=!0,C=!1,R=void 0;try{for(var j,q=this.trackTypes[Symbol.iterator]();!(y=(j=q.next()).done);y=!0){var te=j.value,fe=d[te];te==="audio"&&this.tracks.video&&!this.tracks.video.readyToDecode||fe.length>0&&this.tracks[te].remux(fe)}}catch(xe){C=!0,R=xe}finally{try{y||q.return==null||q.return()}finally{if(C)throw R}}this.flush()}}]),S}(Ki),vo=function(P){function S(d,y){var C;return o()(this,S),(C=c()(this,f()(S).call(this,"buffer"))).type=y,C.queue=new Uint8Array,C.cleaning=!1,C.pendingCleaning=0,C.cleanOffset=30,C.cleanRanges=[],C.sourceBuffer=d,C.sourceBuffer.addEventListener("updateend",function(){C.dispatch("updateend",Date.now()),C.pendingCleaning>0&&(C.initCleanup(C.pendingCleaning),C.pendingCleaning=0),C.cleaning=!1,C.cleanRanges.length&&C.doCleanup()}),C.sourceBuffer.addEventListener("error",function(R){C.dispatch("error",{type:C.type,name:"buffer",error:R})}),C}return m()(S,P),u()(S,[{key:"destroy",value:function(){this.queue=null,this.sourceBuffer=null,this.offAll()}},{key:"doCleanup",value:function(){if(this.cleanRanges.length){var d=this.cleanRanges.shift();$n("".concat(this.type," remove range [").concat(d[0]," - ").concat(d[1],")")),this.cleaning=!0,this.sourceBuffer.remove(d[0],d[1]),this.dispatch("clearBuffer")}else this.cleaning=!1}},{key:"initCleanup",value:function(d){if(this.sourceBuffer.updating)this.pendingCleaning=d;else if(this.sourceBuffer.buffered&&this.sourceBuffer.buffered.length&&!this.cleaning){for(var y=0;y<this.sourceBuffer.buffered.length;++y){var C=this.sourceBuffer.buffered.start(y),R=this.sourceBuffer.buffered.end(y);d-C>this.cleanOffset&&C<(R=d-this.cleanOffset)&&this.cleanRanges.push([C,R])}this.doCleanup()}}},{key:"doAppend",value:function(){if(this.queue.length&&!this.sourceBuffer.updating)try{this.sourceBuffer.appendBuffer(this.queue),this.queue=new Uint8Array}catch(d){if(d.name==="QuotaExceededError")return $n("".concat(this.type," buffer quota full")),void this.dispatch("error",{type:this.type,name:"QuotaExceeded",error:"buffer error"});Jn("Error occured while appending ".concat(this.type," buffer -  ").concat(d.name,": ").concat(d.message)),this.dispatch("error",{type:this.type,name:"unexpectedError",error:"buffer error"})}}},{key:"feed",value:function(d){this.queue=ps(this.queue,d)}}]),S}(Ki);window.MediaSource=window.MediaSource||window.WebKitMediaSource;var vs=function(P){function S(d){var y;if(o()(this,S),y=c()(this,f()(S).call(this,"jmuxer")),window.MediaSource=window.MediaSource||window.WebKitMediaSource,y.options=Object.assign({},{node:"",mode:"both",flushingTime:1500,clearBuffer:!0,onReady:null,fps:30,debug:!1,onClearBuffer:null},d),y.options.debug&&(Ar=console.log,_r=console.error),typeof y.options.node=="string"&&y.options.node==""&&Jn("no video element were found to render, provide a valid video element"),y.options.fps||(y.options.fps=30),y.frameDuration=1e3/y.options.fps|0,y.node=typeof y.options.node=="string"?document.getElementById(y.options.node):y.options.node,y.sourceBuffers={},y.isMSESupported=!!window.MediaSource,!y.isMSESupported)throw"Oops! Browser does not support media source extension.";return y.setupMSE(),y.remuxController=new Ci(y.options.clearBuffer),y.remuxController.addTrack(y.options.mode),y.options.mode==="audio"&&(y.aacParser=y.remuxController.tracks.audio.aac),y.mseReady=!1,y.lastCleaningTime=Date.now(),y.keyframeCache=[],y.frameCounter=0,y.remuxController.on("buffer",y.onBuffer.bind(v()(y))),y.remuxController.on("ready",y.createBuffer.bind(v()(y))),y.startInterval(),y}return m()(S,P),u()(S,null,[{key:"isSupported",value:function(d){return window.MediaSource&&window.MediaSource.isTypeSupported(d)}}]),u()(S,[{key:"setupMSE",value:function(){this.mediaSource=new MediaSource,this.node.src=URL.createObjectURL(this.mediaSource),this.mediaSource.addEventListener("sourceopen",this.onMSEOpen.bind(this)),this.mediaSource.addEventListener("sourceclose",this.onMSEClose.bind(this)),this.mediaSource.addEventListener("webkitsourceopen",this.onMSEOpen.bind(this)),this.mediaSource.addEventListener("webkitsourceclose",this.onMSEClose.bind(this))}},{key:"feed",value:function(d){var y,C,R,j=!1,q={video:[],audio:[]};d&&this.remuxController&&(R=d.duration?parseInt(d.duration):0,d.video&&(y=ds.extractNALu(d.video)).length>0&&(q.video=this.getVideoFrames(y,R),j=!0),d.audio&&(C=this.aacParser.extractAAC(d.audio)).length>0&&(q.audio=this.getAudioFrames(C,R),j=!0),j?this.remuxController.remux(q):Jn("Input object must have video and/or audio property. Make sure it is not empty and valid typed array"))}},{key:"getVideoFrames",value:function(d,y){var C,R,j,q=[],te=[],fe=0,xe=[],Re=!0,ut=!1,St=void 0;try{for(var tr,rr=d[Symbol.iterator]();!(Re=(tr=rr.next()).done);Re=!0)C=tr.value,R=new Lr(C),q.push(R),R.type()!==Lr.IDR&&R.type()!==Lr.NDR||(te.push({units:q}),q=[],this.options.clearBuffer&&(R.type()===Lr.IDR&&xe.push(this.frameCounter),this.frameCounter++))}catch(mr){ut=!0,St=mr}finally{try{Re||rr.return==null||rr.return()}finally{if(ut)throw St}}return y?(j=y/te.length|0,fe=y-j*te.length):j=this.frameDuration,te.map(function(mr){mr.duration=fe>0?j+1:j,fe!==0&&fe--}),this.options.clearBuffer&&(xe=xe.map(function(mr){return mr*j/1e3}),this.keyframeCache=this.keyframeCache.concat(xe)),te}},{key:"getAudioFrames",value:function(d,y){var C,R,j=[],q=0,te=!0,fe=!1,xe=void 0;try{for(var Re,ut=d[Symbol.iterator]();!(te=(Re=ut.next()).done);te=!0)C=Re.value,j.push({units:C})}catch(St){fe=!0,xe=St}finally{try{te||ut.return==null||ut.return()}finally{if(fe)throw xe}}return y?(R=y/j.length|0,q=y-R*j.length):R=this.frameDuration,j.map(function(St){St.duration=q>0?R+1:R,q!==0&&q--}),j}},{key:"destroy",value:function(){if(this.aacParser=null,this.stopInterval(),this.mediaSource){try{this.bufferControllers&&(this.mediaSource.endOfStream(),this.removeSourceBuffer())}catch(y){Jn("mediasource is not available to end ".concat(y.message))}this.mediaSource=null}if(this.remuxController&&(this.remuxController.destroy(),this.remuxController=null),this.bufferControllers){for(var d in this.bufferControllers)this.bufferControllers[d].destroy();this.bufferControllers=null}this.node=!1,this.mseReady=!1,this.videoStarted=!1}},{key:"createBuffer",value:function(){if(this.mseReady&&this.remuxController&&this.remuxController.isReady()&&!this.bufferControllers)for(var d in this.bufferControllers={},this.remuxController.tracks){var y=this.remuxController.tracks[d];if(!S.isSupported("".concat(d,'/mp4; codecs="').concat(y.mp4track.codec,'"')))return Jn("Browser does not support codec"),!1;var C=this.mediaSource.addSourceBuffer("".concat(d,'/mp4; codecs="').concat(y.mp4track.codec,'"'));this.bufferControllers[d]=new vo(C,d),this.sourceBuffers[d]=C,this.bufferControllers[d].on("error",this.onBufferError.bind(this)),this.bufferControllers[d].on("clearBuffer",this.onClearBuffer.bind(this)),this.bufferControllers[d].on("updateend",this.onUpdateEnd.bind(this))}}},{key:"onUpdateEnd",value:function(d){typeof this.options.onUpdateEnd=="function"&&this.options.onUpdateEnd(d)}},{key:"startInterval",value:function(){var d=this;this.interval=setInterval(function(){d.bufferControllers&&(d.releaseBuffer(),d.clearBuffer())},this.options.flushingTime)}},{key:"stopInterval",value:function(){this.interval&&clearInterval(this.interval)}},{key:"releaseBuffer",value:function(){for(var d in this.bufferControllers)this.bufferControllers[d].doAppend()}},{key:"getSafeBufferClearLimit",value:function(d){for(var y,C=this.options.mode==="audio"&&d||0,R=0;R<this.keyframeCache.length&&!(this.keyframeCache[R]>=d);R++)y=this.keyframeCache[R];return y&&(this.keyframeCache=this.keyframeCache.filter(function(j){return j<y&&(C=j),j>=y})),C}},{key:"clearBuffer",value:function(){if(this.options.clearBuffer&&Date.now()-this.lastCleaningTime>1e4){for(var d in this.bufferControllers){var y=this.getSafeBufferClearLimit(this.node.currentTime);this.bufferControllers[d].initCleanup(y)}this.lastCleaningTime=Date.now()}}},{key:"onBuffer",value:function(d){this.bufferControllers&&this.bufferControllers[d.type]&&this.bufferControllers[d.type].feed(d.payload)}},{key:"onClearBuffer",value:function(){typeof this.options.onClearBuffer=="function"&&this.options.onClearBuffer()}},{key:"removeSourceBuffer",value:function(){if(this.mediaSource){var d=this.sourceBuffers;for(var y in d)this.mediaSource.removeSourceBuffer(d[y])}}},{key:"onMSEOpen",value:function(){this.mseReady=!0,this.createBuffer(),typeof this.options.onReady=="function"&&(this.options.onReady(),this.options.onReady=null)}},{key:"onMSEClose",value:function(){this.mseReady=!1,this.videoStarted=!1}},{key:"onBufferError",value:function(d){if(d.name!="QuotaExceeded"){if(this.mediaSource.sourceBuffers.length>0&&this.sourceBuffers[d.type]&&this.mediaSource.removeSourceBuffer(this.sourceBuffers[d.type]),this.mediaSource.sourceBuffers.length==0)try{this.mediaSource.endOfStream()}catch{Jn("mediasource is not available to end")}}else this.bufferControllers[d.type].initCleanup(this.node.currentTime)}}]),S}(Ki),go=function(P){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(v()(y),"source",[]),b()(v()(y),"onPlay",void 0),y.source=d.source,y.onPlay=d.onPlay,y.init(),y}return m()(S,P),u()(S,[{key:"init",value:function(){}},{key:"extract",value:function(d,y){for(var C=this.provide(y),R=0;R<C.size;R++)d[2*R]=C.left[R],d[2*R+1]=C.right[R];return C.size}},{key:"provide",value:function(d){for(var y=d,C=new Float32Array(y),R=new Float32Array(y),j=0,q=0,te=0;this.source.length>0;){var fe=this.source.shift(),xe=fe.loadedPosition||0;q=fe.startTime+fe.duration*xe/fe.length;var Re=Math.min(fe.length-xe,y-j),ut=fe.getChannelData(0),St=fe.numberOfChannels>1?fe.getChannelData(1):fe.getChannelData(0);if(C.set(ut.slice(xe,xe+Re),j),R.set(St.slice(xe,xe+Re),j),te+=Re,j+=Re,(xe+=Re)<fe.length){fe.loadedPosition=xe,this.source.unshift(fe);break}}return this.onPlay&&this.onPlay(q),{left:C,right:R,size:te}}}]),S}(ae);function rn(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function gs(P,S){for(var d=0;d<S.length;d++){var y=S[d];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(P,y.key,y)}}function Rr(P,S,d){return S&&gs(P.prototype,S),d&&gs(P,d),P}function Qe(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),S&&ei(P,S)}function ke(P){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(P)}function ei(P,S){return(ei=Object.setPrototypeOf||function(d,y){return d.__proto__=y,d})(P,S)}function Oa(P,S){return!S||U()(S)!=="object"&&typeof S!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(P):S}function Jt(P,S,d){return(Jt=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(y,C,R){var j=function(te,fe){for(;!Object.prototype.hasOwnProperty.call(te,fe)&&(te=ke(te))!==null;);return te}(y,C);if(j){var q=Object.getOwnPropertyDescriptor(j,C);return q.get?q.get.call(R):q.value}})(P,S,d||P)}var kr=function(){function P(){rn(this,P),this._vector=new Float32Array,this._position=0,this._frameCount=0}return Rr(P,[{key:"clear",value:function(){this.receive(this._frameCount),this.rewind()}},{key:"put",value:function(S){this._frameCount+=S}},{key:"putSamples",value:function(S,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=2*(d=d||0);y>=0||(y=(S.length-C)/2);var R=2*y;this.ensureCapacity(y+this._frameCount);var j=this.endIndex;this.vector.set(S.subarray(C,C+R),j),this._frameCount+=y}},{key:"putBuffer",value:function(S,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;d=d||0,y>=0||(y=S.frameCount-d),this.putSamples(S.vector,S.position+d,y)}},{key:"receive",value:function(S){S>=0&&!(S>this._frameCount)||(S=this.frameCount),this._frameCount-=S,this._position+=S}},{key:"receiveSamples",value:function(S){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=2*d,C=this.startIndex;S.set(this._vector.subarray(C,C+y)),this.receive(d)}},{key:"extract",value:function(S){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=this.startIndex+2*d,R=2*y;S.set(this._vector.subarray(C,C+R))}},{key:"ensureCapacity",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=parseInt(2*S);if(this._vector.length<d){var y=new Float32Array(d);y.set(this._vector.subarray(this.startIndex,this.endIndex)),this._vector=y,this._position=0}else this.rewind()}},{key:"ensureAdditionalCapacity",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.ensureCapacity(this._frameCount+S)}},{key:"rewind",value:function(){this._position>0&&(this._vector.set(this._vector.subarray(this.startIndex,this.endIndex)),this._position=0)}},{key:"vector",get:function(){return this._vector}},{key:"position",get:function(){return this._position}},{key:"startIndex",get:function(){return 2*this._position}},{key:"frameCount",get:function(){return this._frameCount}},{key:"endIndex",get:function(){return 2*(this._position+this._frameCount)}}]),P}(),Ia=function(){function P(S){rn(this,P),S?(this._inputBuffer=new kr,this._outputBuffer=new kr):this._inputBuffer=this._outputBuffer=null}return Rr(P,[{key:"clear",value:function(){this._inputBuffer.clear(),this._outputBuffer.clear()}},{key:"inputBuffer",get:function(){return this._inputBuffer},set:function(S){this._inputBuffer=S}},{key:"outputBuffer",get:function(){return this._outputBuffer},set:function(S){this._outputBuffer=S}}]),P}(),Tc=function(P){function S(d){var y;return rn(this,S),(y=Oa(this,ke(S).call(this,d))).reset(),y._rate=1,y}return Qe(S,P),Rr(S,[{key:"reset",value:function(){this.slopeCount=0,this.prevSampleL=0,this.prevSampleR=0}},{key:"clone",value:function(){var d=new S;return d.rate=this._rate,d}},{key:"process",value:function(){var d=this._inputBuffer.frameCount;this._outputBuffer.ensureAdditionalCapacity(d/this._rate+1);var y=this.transpose(d);this._inputBuffer.receive(),this._outputBuffer.put(y)}},{key:"transpose",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(d===0)return 0;for(var y=this._inputBuffer.vector,C=this._inputBuffer.startIndex,R=this._outputBuffer.vector,j=this._outputBuffer.endIndex,q=0,te=0;this.slopeCount<1;)R[j+2*te]=(1-this.slopeCount)*this.prevSampleL+this.slopeCount*y[C],R[j+2*te+1]=(1-this.slopeCount)*this.prevSampleR+this.slopeCount*y[C+1],te+=1,this.slopeCount+=this._rate;if(this.slopeCount-=1,d!==1)e:for(;;){for(;this.slopeCount>1;)if(this.slopeCount-=1,(q+=1)>=d-1)break e;var fe=C+2*q;R[j+2*te]=(1-this.slopeCount)*y[fe]+this.slopeCount*y[fe+2],R[j+2*te+1]=(1-this.slopeCount)*y[fe+1]+this.slopeCount*y[fe+3],te+=1,this.slopeCount+=this._rate}return this.prevSampleL=y[C+2*d-2],this.prevSampleR=y[C+2*d-1],te}},{key:"rate",set:function(d){this._rate=d}}]),S}(Ia),mo=function(){function P(S){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1024;rn(this,P),this._pipe=S,this.inputSize=d}return Rr(P,[{key:"fillInputBuffer",value:function(){throw new Error("fillInputBuffer() not overridden")}},{key:"fillOutputBuffer",value:function(){for(var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=this.inputSize;this.outputBuffer.frameCount<S;){var y=d-this.inputBuffer.frameCount;if(this.fillInputBuffer(y),this.inputBuffer.frameCount<d)break;this._pipe.process()}}},{key:"clear",value:function(){this._pipe.clear()}},{key:"pipe",get:function(){return this._pipe}},{key:"inputBuffer",get:function(){return this._pipe.inputBuffer}},{key:"outputBuffer",get:function(){return this._pipe.outputBuffer}}]),P}(),Ba=function(){},Na=function(P){function S(d,y){var C,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1024,j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ba;return rn(this,S),(C=Oa(this,ke(S).call(this,y,R))).callback=j,C.sourceSound=d,C.historyBufferSize=22050,C._sourcePosition=0,C.outputBufferPosition=0,C._position=0,C}return Qe(S,P),Rr(S,[{key:"onEnd",value:function(){this.callback()}},{key:"fillInputBuffer",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=new Float32Array(2*d),C=this.sourceSound.extract(y,d,this._sourcePosition);this._sourcePosition+=C,this.inputBuffer.putSamples(y,0,C)}},{key:"extract",value:function(d){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.fillOutputBuffer(this.outputBufferPosition+y);var C=Math.min(y,this.outputBuffer.frameCount-this.outputBufferPosition);this.outputBuffer.extract(d,this.outputBufferPosition,C);var R=this.outputBufferPosition+C;return this.outputBufferPosition=Math.min(this.historyBufferSize,R),this.outputBuffer.receive(Math.max(R-this.historyBufferSize,0)),this._position+=C,C}},{key:"handleSampleData",value:function(d){this.extract(d.data,4096)}},{key:"clear",value:function(){Jt(ke(S.prototype),"clear",this).call(this),this.outputBufferPosition=0}},{key:"position",get:function(){return this._position},set:function(d){if(d>this._position)throw new RangeError("New position may not be greater than current position");var y=this.outputBufferPosition-(this._position-d);if(y<0)throw new RangeError("New position falls outside of history buffer");this.outputBufferPosition=y,this._position=d}},{key:"sourcePosition",get:function(){return this._sourcePosition},set:function(d){this.clear(),this._sourcePosition=d}}]),S}(mo),Qi=[[124,186,248,310,372,434,496,558,620,682,744,806,868,930,992,1054,1116,1178,1240,1302,1364,1426,1488,0],[-100,-75,-50,-25,25,50,75,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-20,-15,-10,-5,5,10,15,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-4,-3,-2,-1,1,2,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],Bu=function(P){function S(d){var y;return rn(this,S),(y=Oa(this,ke(S).call(this,d)))._quickSeek=!0,y.midBufferDirty=!1,y.midBuffer=null,y.overlapLength=0,y.autoSeqSetting=!0,y.autoSeekSetting=!0,y._tempo=1,y.setParameters(44100,0,0,8),y}return Qe(S,P),Rr(S,[{key:"clear",value:function(){Jt(ke(S.prototype),"clear",this).call(this),this.clearMidBuffer()}},{key:"clearMidBuffer",value:function(){this.midBufferDirty&&(this.midBufferDirty=!1,this.midBuffer=null)}},{key:"setParameters",value:function(d,y,C,R){d>0&&(this.sampleRate=d),R>0&&(this.overlapMs=R),y>0?(this.sequenceMs=y,this.autoSeqSetting=!1):this.autoSeqSetting=!0,C>0?(this.seekWindowMs=C,this.autoSeekSetting=!1):this.autoSeekSetting=!0,this.calculateSequenceParameters(),this.calculateOverlapLength(this.overlapMs),this.tempo=this._tempo}},{key:"calculateOverlapLength",value:function(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;d=(d=this.sampleRate*y/1e3)<16?16:d,d-=d%8,this.overlapLength=d,this.refMidBuffer=new Float32Array(2*this.overlapLength),this.midBuffer=new Float32Array(2*this.overlapLength)}},{key:"checkLimits",value:function(d,y,C){return d<y?y:d>C?C:d}},{key:"calculateSequenceParameters",value:function(){var d,y;this.autoSeqSetting&&(d=150+-50*this._tempo,d=this.checkLimits(d,50,125),this.sequenceMs=Math.floor(d+.5)),this.autoSeekSetting&&(y=25- -10/1.5*.5+-10/1.5*this._tempo,y=this.checkLimits(y,15,25),this.seekWindowMs=Math.floor(y+.5)),this.seekWindowLength=Math.floor(this.sampleRate*this.sequenceMs/1e3),this.seekLength=Math.floor(this.sampleRate*this.seekWindowMs/1e3)}},{key:"clone",value:function(){var d=new S;return d.tempo=this._tempo,d.setParameters(this.sampleRate,this.sequenceMs,this.seekWindowMs,this.overlapMs),d}},{key:"seekBestOverlapPosition",value:function(){return this._quickSeek?this.seekBestOverlapPositionStereoQuick():this.seekBestOverlapPositionStereo()}},{key:"seekBestOverlapPositionStereo",value:function(){var d,y,C,R=0;for(this.preCalculateCorrelationReferenceStereo(),d=0,y=Number.MIN_VALUE;R<this.seekLength;R+=1)(C=this.calculateCrossCorrelationStereo(2*R,this.refMidBuffer))>y&&(y=C,d=R);return d}},{key:"seekBestOverlapPositionStereoQuick",value:function(){var d,y,C,R,j,q=0;for(this.preCalculateCorrelationReferenceStereo(),y=Number.MIN_VALUE,d=0,R=0,j=0;q<4;q+=1){for(var te=0;Qi[q][te]&&!((j=R+Qi[q][te])>=this.seekLength);)(C=this.calculateCrossCorrelationStereo(2*j,this.refMidBuffer))>y&&(y=C,d=j),te+=1;R=d}return d}},{key:"preCalculateCorrelationReferenceStereo",value:function(){for(var d,y,C=0;C<this.overlapLength;C+=1)y=C*(this.overlapLength-C),d=2*C,this.refMidBuffer[d]=this.midBuffer[d]*y,this.refMidBuffer[d+1]=this.midBuffer[d+1]*y}},{key:"calculateCrossCorrelationStereo",value:function(d,y){var C=this._inputBuffer.vector;d+=this._inputBuffer.startIndex;for(var R,j=0,q=2,te=2*this.overlapLength;q<te;q+=2)j+=C[R=q+d]*y[q]+C[R+1]*y[q+1];return j}},{key:"overlap",value:function(d){this.overlapStereo(2*d)}},{key:"overlapStereo",value:function(d){var y=this._inputBuffer.vector;d+=this._inputBuffer.startIndex;for(var C,R,j,q,te,fe=this._outputBuffer.vector,xe=this._outputBuffer.endIndex,Re=0,ut=1/this.overlapLength;Re<this.overlapLength;Re+=1)R=(this.overlapLength-Re)*ut,j=Re*ut,q=(C=2*Re)+d,fe[(te=C+xe)+0]=y[q+0]*j+this.midBuffer[C+0]*R,fe[te+1]=y[q+1]*j+this.midBuffer[C+1]*R}},{key:"process",value:function(){var d,y,C;if(this.midBuffer===null){if(this._inputBuffer.frameCount<this.overlapLength)return;this.midBuffer=new Float32Array(2*this.overlapLength),this._inputBuffer.receiveSamples(this.midBuffer,this.overlapLength)}for(;this._inputBuffer.frameCount>=this.sampleReq;){d=this.seekBestOverlapPosition(),this._outputBuffer.ensureAdditionalCapacity(this.overlapLength),this.overlap(Math.floor(d)),this._outputBuffer.put(this.overlapLength),(y=this.seekWindowLength-2*this.overlapLength)>0&&this._outputBuffer.putBuffer(this._inputBuffer,d+this.overlapLength,y);var R=this._inputBuffer.startIndex+2*(d+this.seekWindowLength-this.overlapLength);this.midBuffer.set(this._inputBuffer.vector.subarray(R,R+2*this.overlapLength)),this.skipFract+=this.nominalSkip,C=Math.floor(this.skipFract),this.skipFract-=C,this._inputBuffer.receive(C)}}},{key:"tempo",set:function(d){var y;this._tempo=d,this.calculateSequenceParameters(),this.nominalSkip=this._tempo*(this.seekWindowLength-this.overlapLength),this.skipFract=0,y=Math.floor(this.nominalSkip+.5),this.sampleReq=Math.max(y+this.overlapLength,this.seekWindowLength)+this.seekLength},get:function(){return this._tempo}},{key:"inputChunkSize",get:function(){return this.sampleReq}},{key:"outputChunkSize",get:function(){return this.overlapLength+Math.max(0,this.seekWindowLength-2*this.overlapLength)}},{key:"quickSeek",set:function(d){this._quickSeek=d}}]),S}(Ia),Fa=function(P,S){return(P>S?P-S:S-P)>1e-10},$a=function(){function P(){rn(this,P),this.transposer=new Tc(!1),this.stretch=new Bu(!1),this._inputBuffer=new kr,this._intermediateBuffer=new kr,this._outputBuffer=new kr,this._rate=0,this._tempo=0,this.virtualPitch=1,this.virtualRate=1,this.virtualTempo=1,this.calculateEffectiveRateAndTempo()}return Rr(P,[{key:"clear",value:function(){this.transposer.clear(),this.stretch.clear()}},{key:"clone",value:function(){var S=new P;return S.rate=this.rate,S.tempo=this.tempo,S}},{key:"calculateEffectiveRateAndTempo",value:function(){var S=this._tempo,d=this._rate;this._tempo=this.virtualTempo/this.virtualPitch,this._rate=this.virtualRate*this.virtualPitch,Fa(this._tempo,S)&&(this.stretch.tempo=this._tempo),Fa(this._rate,d)&&(this.transposer.rate=this._rate),this._rate>1?this._outputBuffer!=this.transposer.outputBuffer&&(this.stretch.inputBuffer=this._inputBuffer,this.stretch.outputBuffer=this._intermediateBuffer,this.transposer.inputBuffer=this._intermediateBuffer,this.transposer.outputBuffer=this._outputBuffer):this._outputBuffer!=this.stretch.outputBuffer&&(this.transposer.inputBuffer=this._inputBuffer,this.transposer.outputBuffer=this._intermediateBuffer,this.stretch.inputBuffer=this._intermediateBuffer,this.stretch.outputBuffer=this._outputBuffer)}},{key:"process",value:function(){this._rate>1?(this.stretch.process(),this.transposer.process()):(this.transposer.process(),this.stretch.process())}},{key:"rate",get:function(){return this._rate},set:function(S){this.virtualRate=S,this.calculateEffectiveRateAndTempo()}},{key:"rateChange",set:function(S){this._rate=1+.01*S}},{key:"tempo",get:function(){return this._tempo},set:function(S){this.virtualTempo=S,this.calculateEffectiveRateAndTempo()}},{key:"tempoChange",set:function(S){this.tempo=1+.01*S}},{key:"pitch",set:function(S){this.virtualPitch=S,this.calculateEffectiveRateAndTempo()}},{key:"pitchOctaves",set:function(S){this.pitch=Math.exp(.69314718056*S),this.calculateEffectiveRateAndTempo()}},{key:"pitchSemitones",set:function(S){this.pitchOctaves=S/12}},{key:"inputBuffer",get:function(){return this._inputBuffer}},{key:"outputBuffer",get:function(){return this._outputBuffer}}]),P}(),ms=function(){function P(S){rn(this,P),this.buffer=S,this._position=0}return Rr(P,[{key:"extract",value:function(S){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this.position=y;for(var C=this.buffer.getChannelData(0),R=this.dualChannel?this.buffer.getChannelData(1):this.buffer.getChannelData(0),j=0;j<d;j++)S[2*j]=C[j+y],S[2*j+1]=R[j+y];return Math.min(d,C.length-y)}},{key:"dualChannel",get:function(){return this.buffer.numberOfChannels>1}},{key:"position",get:function(){return this._position},set:function(S){this._position=S}}]),P}(),nn=function(P,S){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ba,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:4096,C=P.createScriptProcessor(y,2,2),R=new Float32Array(2*y);return C.onaudioprocess=function(j){var q=j.outputBuffer.getChannelData(0),te=j.outputBuffer.getChannelData(1),fe=S.extract(R,y);d(S.sourcePosition),fe===0&&S.onEnd();for(var xe=0;xe<fe;xe++)q[xe]=R[2*xe],te[xe]=R[2*xe+1]},C},vn=function(P){var S,d,y,C=Math.floor(P/60),R=P-60*C;return"".concat(C,":").concat((S=parseInt(R),y=y||"0",(S+="").length>=(d=2)?S:new Array(d-S.length+1).join(y)+S))},Ji=function(P){var S=this.timePlayed,d=this.sampleRate;if(this.sourcePosition=P,this.timePlayed=P/d,S!==this.timePlayed){var y=new CustomEvent("play",{detail:{timePlayed:this.timePlayed,formattedTimePlayed:this.formattedTimePlayed,percentagePlayed:this.percentagePlayed}});this._node.dispatchEvent(y)}},ys=(function(){function P(S,d,y){var C=this,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ba;rn(this,P),this._soundtouch=new $a;var j=new ms(d);this.timePlayed=0,this.sourcePosition=0,this._filter=new Na(j,this._soundtouch,R),this._node=nn(S,this._filter,function(q){return Ji.call(C,q)}),this.tempo=1,this.rate=1,this.duration=d.duration,this.sampleRate=S.sampleRate,this.listeners=[]}Rr(P,[{key:"connect",value:function(S){this._node.connect(S)}},{key:"disconnect",value:function(){this._node.disconnect()}},{key:"on",value:function(S,d){this.listeners.push({name:S,cb:d}),this._node.addEventListener(S,function(y){return d(y.detail)})}},{key:"off",value:function(){var S=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,y=this.listeners;d&&(y=y.filter(function(C){return C.name===d})),y.forEach(function(C){S._node.removeEventListener(C.name,function(R){return C.cb(R.detail)})})}},{key:"formattedDuration",get:function(){return vn(this.duration)}},{key:"formattedTimePlayed",get:function(){return vn(this.timePlayed)}},{key:"percentagePlayed",get:function(){return 100*this._filter.sourcePosition/(this.duration*this.sampleRate)},set:function(S){this._filter.sourcePosition=parseInt(S*this.duration*this.sampleRate)}},{key:"node",get:function(){return this._node}},{key:"pitch",set:function(S){this._soundtouch.pitch=S}},{key:"pitchSemitones",set:function(S){this._soundtouch.pitchSemitones=S}},{key:"rate",set:function(S){this._soundtouch.rate=S}},{key:"tempo",set:function(S){this._soundtouch.tempo=S}}])}(),function(P){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(v()(y),"soundTouch",void 0),b()(v()(y),"filter",void 0),y.init(d.source),y}return m()(S,P),u()(S,[{key:"init",value:function(d){this.soundTouch=new $a,this.soundTouch.tempo=1,this.soundTouch.rate=1,this.filter=new Na(d,this.soundTouch,2048)}},{key:"provide",value:function(d){for(var y=new Float32Array(2*d),C=this.filter.extract(y,d),R=new Float32Array(C),j=new Float32Array(C),q=0;q<C;q++)R[q]=y[2*q],j[q]=y[2*q+1];return{size:C,left:R,right:j}}},{key:"rate",set:function(d){this.soundTouch.tempo=d}}]),S}(ae)),re=function(P){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(v()(y),"currentRate",1),b()(v()(y),"source",[]),b()(v()(y),"commonProcessor",void 0),b()(v()(y),"rateProcessor",void 0),b()(v()(y),"audioTime",0),y.source=d.source,y.init(),y}return m()(S,P),u()(S,[{key:"init",value:function(){var d=this;this.commonProcessor=new go({source:this.source,onPlay:function(y){d.audioTime=y}}),this.rateProcessor=new ys({source:this.commonProcessor})}},{key:"provide",value:function(d){var y=(this.currentRate===1?this.commonProcessor:this.rateProcessor).provide(d);return y.audioTime=this.audioTime,y}},{key:"rate",set:function(d){this.currentRate=d,this.rateProcessor.rate=d}}]),S}(ae),N="canplaythrough",L="seeked",I="waiting",K=function(P){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(v()(y),"audioContext",null),b()(v()(y),"scriptNode",null),b()(v()(y),"gainNode",null),b()(v()(y),"delay",0),b()(v()(y),"audioBuffer",new ArrayBuffer(0)),b()(v()(y),"decodedBuffer",[]),b()(v()(y),"isFirstPlay",!0),b()(v()(y),"defaultVolume",1),b()(v()(y),"currentRate",1),b()(v()(y),"eventListeners",{}),b()(v()(y),"canPlay",!1),b()(v()(y),"interval",void 0),b()(v()(y),"seekTimeDelta",0),b()(v()(y),"audioTime",0),b()(v()(y),"audioProvider",void 0),b()(v()(y),"isWaiting",!1),d=Object.assign({},d),y.flushTime=d.flushTime||1e3,y.onReady=d.onReady,y.init(),y}return m()(S,P),u()(S,[{key:"init",value:function(){this.audioProvider=new re({source:this.decodedBuffer}),typeof this.onReady=="function"&&setTimeout(this.onReady,0)}},{key:"feed",value:function(d){var y=d.audio;this.audioBuffer=this.appendByteArray(this.audioBuffer,y),this.canPlay||(this.canPlay=!0,this.triggerEvent(N))}},{key:"appendByteArray",value:function(d,y){var C=new Uint8Array((0|d.byteLength)+(0|y.byteLength));return C.set(new Uint8Array(d),0),C.set(new Uint8Array(y),0|d.byteLength),C.buffer}},{key:"decodeAudioData",value:function(d){var y=this;this.audioBuffer&&this.audioBuffer.byteLength>0&&(this.audioContext.decodeAudioData(this.audioBuffer,function(C){C.startTime=y.delay,y.delay+=C.duration,y.decodedBuffer.push(C),d&&d.call()},function(C){y.logger.error("decodeAudioData",C)}),this.audioBuffer=new ArrayBuffer(0))}},{key:"play",value:function(){var d=this;return new Promise(function(y,C){d.isFirstPlay?(d.isFirstPlay=!1,d.logger.info("startPlay"),d.audioContext=new(window.AudioContext||window.webkitAudioContext),d.gainNode=d.audioContext.createGain(),d.gainNode.gain.value=d.defaultVolume,d.scriptNode=d.audioContext.createScriptProcessor(2048,2,2),d.scriptNode.onaudioprocess=function(R){var j=R.outputBuffer,q=j.length,te=d.audioProvider.provide(q);if(te.size!==0){d.isWaiting&&(d.isWaiting=!1,d.triggerEvent(N));var fe=j.getChannelData(0),xe=j.getChannelData(1);if(te.audioTime!=0&&(d.audioTime=te.audioTime),fe.set(te.left),xe.set(te.right),te.size<q){var Re=new Float32Array(q-te.size);fe.set(Re,te.size),xe.set(Re,te.size)}}else d.isWaiting||(d.isWaiting=!0,d.triggerEvent(I))},d.scriptNode.connect(d.gainNode),d.gainNode.connect(d.audioContext.destination),d.decodeAudioData.call(d,d.testAutoplay.bind(d,y,C)),d.interval=setInterval(d.decodeAudioData.bind(d),d.flushTime)):d.audioContext.state==="suspended"?d.audioContext.resume().then(function(){d.logger.info("play","Audio is resumed"),y()}):(d.logger.info("Audio resumed from waiting"),y())})}},{key:"pause",value:function(){var d=this;this.audioContext&&this.audioContext.suspend().then(function(){d.logger.info("pause","Audio is paused")})}},{key:"addEventListener",value:function(d,y){this.eventListeners[d]=y}},{key:"triggerEvent",value:function(d){var y=this.eventListeners[d];y&&y.call()}},{key:"buffer",value:function(){var d=0;return this.decodedBuffer.length>0&&(d=this.decodedBuffer[0].startTime),{start:1e3*d,end:parseInt(1e3*this.delay)}}},{key:"destroy",value:function(){this.delay=0,this.audioContext&&(clearInterval(this.interval),this.scriptNode.disconnect(),this.scriptNode=null,this.audioContext.close(),this.audioContext=null),this.gainNode=null,this.audioBuffer=new ArrayBuffer(0),this.canPlay=!1,this.isFirstPlay=!0,this.decodedBuffer.length=0,this.seekTimeDelta=0,this.audioTime=0}},{key:"testAutoplay",value:function(d,y){var C=W.createEl("audio"),R=C.play();C=null;var j=!1;R!==void 0?(R.catch(function(){j=!0}),setTimeout(function(){R=null,j?y("Autoplay is prevented"):d()},100)):y("Promise is undefined")}},{key:"currentTime",get:function(){return this.audioTime},set:function(d){var y=this;for(this.audioTime=d;this.decodedBuffer.length>0;){var C=this.decodedBuffer.shift();if(C.startTime<=d&&C.startTime+C.duration>d){C.loadedPosition=parseInt(C.length*(d-C.startTime)/C.duration),this.decodedBuffer.unshift(C);break}}setTimeout(function(){y.triggerEvent(L)},0)}},{key:"volume",get:function(){return this.gainNode.gain.value},set:function(d){this.gainNode?this.gainNode.gain.value=d:this.defaultVolume=d}},{key:"playbackRate",set:function(d){d!==this.currentRate&&(this.currentRate=d,this.audioProvider.rate=d)}}]),S}(ae),oe=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"first",!1),b()(v()(d),"offset",0),b()(v()(d),"currentPTS",0),b()(v()(d),"ready",!1),b()(v()(d),"end",!1),b()(v()(d),"lastData",null),b()(v()(d),"nodeParent",null),b()(v()(d),"useJMuxer",!1),d.player=y.audioNode,d.createAudioMuxer(),d.bindEvent(),d.logger.info("audioDecoder",d.useJMuxer?"JMuxer":"AudioContext"),d}return m()(S,P),u()(S,[{key:"bindEvent",value:function(){var d=this;this.bindNodeEvent(),this.events.on(de.PlayerMaxPTS,function(y){d.currentPTS===y&&(d.end=!0)})}},{key:"bindNodeEvent",value:function(){var d=this;this.addEventListener("seeked",function(){d.onSeekedHandler&&d.onSeekedHandler(),d.events.emit("AudioPlayer.seeked")}),this.addEventListener("canplaythrough",function(){d.logger.info("canplaythrough"),d.ready||(d.ready=!0,d.status="ready",d.logger.info("constructor","canplaythrough","ready"),d.events.emit(de.AudioPlayerDataReady))}),this.addEventListener("waiting",function(){d.ready=!1,d.end?(d.useJMuxer||d.player.destroy(),d.status="end",d.events.emit(de.AudioPlayerEnd,"audio"),d.logger.info("audioPlayer end")):(d.logger.warn("audioPlayer waiting",d.player.currentTime,d.currentPTS),d.status="waiting",d.events.emit(de.AudioPlayerWait,"audio"))})}},{key:"reset",value:function(){this.lastData=null,this.first=!1,this.offset=0,this.currentPTS=0,this.ready=!1,this.end=!1,this.clear(),this.createAudioMuxer(),this.bindNodeEvent(),this.stime=null}},{key:"createNode",value:function(){this.player=document.createElement("audio"),this.player.classList.add("goldplay__audio--player"),this.parentNode.appendChild(this.player)}},{key:"createAudioMuxer",value:function(){this.useJMuxer?this.audioDecoder=new vs({node:this.player,mode:"audio",debug:!1,clearBuffer:!0,flushingTime:10,onReady:this.onMSEReady.bind(this)}):(this.audioDecoder=new K({flushTime:100,onReady:this.onMSEReady.bind(this)}),this.player=this.audioDecoder)}},{key:"onMSEReady",value:function(){this.logger.info("onMSEReady","AudioPlayerReady"),this.events.emit(de.AudioPlayerReady)}},{key:"clear",value:function(){this.audioDecoder.destroy(),this.audioDecoder=null}},{key:"play",value:function(){var d=this;this.status!=="playing"&&(this.status="playing",this.player.play().then(function(){d.events.emit(de.AudioPlayerPlaySuccess)}).catch(function(y){d.logger.error("play","errorInfo:",y),d.events.emit(de.AudioPlayerPlayFail)}))}},{key:"pause",value:function(){this.status!=="pause"&&(this.status="pause",this.player.pause())}},{key:"send",value:function(d){if(this.audioDecoder){if(this.stime||(this.stime=Date.now()),(d=this.format(d)).audioEnd)return this.logger.info("push","audioEnd"),this.feed(this.lastData),void(this.lastData=null);if(this.first||(this.first=!0,this.offset=d.start),d.PTS>this.currentPTS){if(!this.lastData)return void(this.lastData=d);this.lastData.duration=d.PTS-this.lastData.PTS,this.feed(this.lastData),d.duration=this.lastData.duration,this.lastData=d}}else this.logger.error("send","audioDecoder is:",this.audioDecoder)}},{key:"feed",value:function(d){this.audioDecoder.feed({audio:d.data_byte,duration:d.duration}),this.currentPTS=d.PTS}},{key:"format",value:function(d){return d&&d.data_byte&&(d.start=d.PTS),d}},{key:"addEventListener",value:function(d,y){this.player.addEventListener(d,y)}},{key:"isBuffered",value:function(d){return[this.buffer()].findIndex(function(y){return d>=y.start&&d<y.end})!==-1}},{key:"buffer",value:function(){if(this.useJMuxer){for(var d=this.player.buffered,y=d.length,C={};y>0;)C.start=1e3*d.start(y-1)+this.offset,C.end=1e3*d.end(y-1)+this.offset,y--;return C}var R=this.player.buffer();return{start:R.start+this.offset,end:R.end+this.offset}}},{key:"muted",set:function(d){this.player.muted=!!d}},{key:"playbackRate",set:function(d){this.player.playbackRate=d}},{key:"volume",get:function(){return this.player.volume},set:function(d){this.player.volume=d,this.muted=d===0}},{key:"currentTime",get:function(){return parseInt(1e3*this.player.currentTime+this.offset)},set:function(d){this.player.currentTime=(d-this.offset)/1e3}},{key:"paused",get:function(){return this.player.paused}},{key:"offset",set:function(d){this.offset=d}}]),S}(ae),le={playerContainer:"goldplay__container",screenContainer:"goldplay__screen--container",screenCanvas:"goldplay__screen--canvas",audioContainer:"goldplay__audio--container",audioPlayer:"goldplay__audio--player",controlContainer:"goldplay__control--container",containerFullPage:"goldplay__container-fullpage",containerFullScreen:"goldplay__container-fullscreen",controlContainerFloat:"goldplay__control--container-float",bigPlayButton:"goldplay__screen--bigplay",poster:"goldplay__screen--poster",nearside:"goldplay__control--nearside",sidebar:"goldplay__control--sidebar",buttonBlock:"goldplay__control--button-block",playButton:"goldplay__control--play",pauseButton:"goldplay__control--pause",replayButton:"goldplay__control--replay",speedBar:"goldplay__speed-bar",speedBarBox:"goldplay__speed-bar--box",rateBar:"goldplay__rate-bar",rateBarBox:"goldplay__rate-bar--box",fullPage:"goldplay__control--fullpage",fullScreen:"goldplay__control--fullscreen",waitingBar:"goldplay__waiting-bar",progressBar:"goldplay__progress-bar",progressBarHover:"goldplay__progress-bar-hover",progressBarPlay:"goldplay__progressbar--play",progressBarPlayHover:"goldplay__progressbar--play-hover",progressBarLoad:"goldplay__progressbar--load",progressBarLoadHover:"goldplay__progressbar--load-hover",progressBarDot:"goldplay__progressbar--dot",progressBarDotHover:"goldplay__progressbar--dot-hover",volumeBar:"goldplay__volume-bar",volumeBarAudio:"goldplay__volume-bar--audio",volumeBarAudioOn:"goldplay__volume-bar--audio-on",volumeBarAudioOff:"goldplay__volume-bar--audio-off",volumeBarHandle:"goldplay__volume-bar--handle",volumeBarRod:"goldplay__volume-bar--rod",volumeBarRodHover:"goldplay__volume-bar--rod-hover",volumeBarSize:"goldplay__volume-bar--size",volumeBarColumn:"goldplay__volume-bar--column",alertBox:"goldplay__alter-box",alertClose:"goldplay__alter--close"},me=le,Ee=function(){function P(){o()(this,P)}return u()(P,null,[{key:"createContainer",value:function(S){var d=function(C){function R(){return o()(this,R),c()(this,f()(R).apply(this,arguments))}return m()(R,C),R}(ht()(HTMLDivElement));customElements.get("gp-container")||customElements.define("gp-container",d,{extends:"div"});var y=W.createEl("gp-container","div");return y.className=me.playerContainer,y.style.width=(S.options.width?S.options.width:S.el.offsetWidth)+"px",y.style.height=(S.options.height?S.options.height:S.el.offsetHeight)+"px",y}},{key:"createScreenContainer",value:function(S){var d=S.$container,y=function(j){function q(){return o()(this,q),c()(this,f()(q).apply(this,arguments))}return m()(q,j),q}(ht()(HTMLDivElement));customElements.get("gp-screen")||customElements.define("gp-screen",y,{extends:"div"});var C,R=W.createEl("gp-screen","div");return R.classList.add(me.screenContainer),C=S.controlBarAutoHide?d.offsetHeight:d.offsetHeight-S.controlBarHeight,R.style.height=C+"px",R}},{key:"createAudioContainer",value:function(){var S=W.createEl("gp-audio");return S.classList.add(me.audioContainer),S.style.display="none",S}},{key:"createAudio",value:function(){var S=W.createEl("audio");return S.classList.add(me.audioPlayer),S.controls=!0,S}},{key:"clearCavans",value:function(S){var d=S.getContext("webgl");d.clear(d.COLOR_BUFFER_BIT)}}]),P}();b()(Ee,"createCanvas",function(P){var S=W.createEl("canvas");return S.style.display="none",S.classList.add(me.screenCanvas),S.width=P.options.screenWidth||P.screenWidth,S.height=P.options.screenHeight||P.screenHeight,S});var He=D.a.get("Template.js"),Be=function(){function P(){o()(this,P)}return u()(P,null,[{key:"mergeVar",value:function(S){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof S!="string"||S==="")return S;try{var y=new RegExp(`\\\${'?"?\\s*([.:a-z0-9_s]+?)\\s*'?"?}`,"ig");return S.replace(y,function(C,R){R=R.trim();var j=d[R];return j=(j=(j=j===null?"":j)===void 0?"":j)||""})}catch(C){return He.error("mergeVar","replace variable","error:",C),S}}},{key:"makeValue",value:function(S,d,y){if(typeof d!="string"&&typeof d!="function")return d;if(typeof d=="function"&&(d=d.call(this,this.data)),!y)return P.escapeHTML.call(this,d);var C,R=function(xe){var Re="";return xe&&(Re=" ".concat(P.slotReplaceName,'="true"')),'<gp-slot style="display:none"'.concat(Re,"></gp-slot>")};if(P.isSoltType(y)){if(typeof this.getComponent!="function")return He.error("makeValue","the object is not support slot mode.",this.getComponent,d),d;switch(y){case P.slotTypeMap.component:C=d;var j=this.getComponent(C);U()(j)==="object"&&j.element?(j.element.setAttribute(P.slotReplaceName,"true"),d=j.element.outerHTML):d=R(C);break;case P.slotTypeMap.html:d=P.mergeVar.call(this,d,this.data)}var q="";C!==void 0&&(q=" ".concat(P.slotComName,'="').concat(C,'" '));var te="$1 "+P.slotTypeName+'="'+y+'" '+P.slotKeyName+'="'+S+'"'+q+"$2";return typeof d=="string"&&(d=(d=d===""?R():d).replace(/^\s*(<\s?[\w-]*)(.*[\r|\n|>])/,te)),d}if(typeof y=="string"){var fe=Ke[y];return typeof fe=="function"&&(d=fe.call(this,d)),d}return P.escapeHTML.call(this,d)}},{key:"escapeHTML",value:function(S){return typeof S!="string"?S:S.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},{key:"generate",value:function(S,d,y){var C=this,R=y[y.length-1]||{},j=[S[0]];return d.forEach(function(q,te){if(q){var fe,xe,Re=q.split(P.pipSeparator);Re.length>1&&(q=Re[0],xe=Re[1]),fe=Number.isInteger(q)?y[q]:R[q],(fe=P.makeValue.bind(C)(q,fe,xe))!==void 0&&j.push(fe),S[te+1]!==void 0&&j.push(S[te+1])}}),j.join("")}},{key:"create",value:function(S){for(var d=arguments.length,y=new Array(d>1?d-1:0),C=1;C<d;C++)y[C-1]=arguments[C];var R;R=Array.isArray(S)?"array":typeof S=="function"?"function":"string";var j=this;if(U()(j)==="object"||typeof j=="function")if(S!==void 0&&S!=="")switch(j.data!==void 0&&j.data!==null||(He.info("create","this object.data is undefined or null",j),j.data={}),R){case"array":return function(){for(var te=arguments.length,fe=new Array(te),xe=0;xe<te;xe++)fe[xe]=arguments[xe];var Re=fe[fe.length-1]||{};U()(j)==="object"&&(j.__template__={tplObj:S,keys:y,dict:Re});var ut=P.generate.bind(j);return ut(S,y,fe)};case"function":var q=P.create.bind(j);return S.call(j,j.data,q,j);default:return function(te){return te=te!==void 0?te:j.data,P.mergeVar(S,te)}}else He.error("create","have not give tplObj parameter.",S);else He.error("create","this is not an object.",j)}},{key:"isSoltType",value:function(S){return S=String(S).toLowerCase(),P.slotTypeMap[S]}}]),P}();Be.pipSeparator="|",Be.slotTypeName="gp-slot-type",Be.slotKeyName="gp-slot-key",Be.slotComName="gp-slot-com",Be.slotReplaceName="gp-slot-replace",Be.slotTypeMap={html:"html",component:"component"};var Ke={trim:function(P){return P.trim()},upperCase:function(P){return P.toUpperCase()},lowerCase:function(P){return P.toLowerCase()}},Ze=Be,kt=i(18),ar=i.n(kt),tt=i(28),An=i.n(tt),dt=D.a.get("Observer.js"),ti=function(){function P(d){o()(this,P),b()(this,"object",null),this.setObject(d)}var S;return u()(P,[{key:"setObject",value:function(d){this.object=d}},{key:"watch",value:(S=An()(ar.a.mark(function d(y,C,R){var j;return ar.a.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(typeof(j=this.object).watch=="function"){q.next=3;break}return q.abrupt("return");case 3:return q.next=5,j.watch(y,C,R);case 5:q.sent!==!1&&typeof j.render=="function"&&j.render(y,C,R),typeof j.afterWatch=="function"&&j.afterWatch(y,C,R);case 8:case"end":return q.stop()}},d,this)})),function(d,y,C){return S.apply(this,arguments)})},{key:"create",value:function(d){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=this,R=y.set,j=y.get;d=d||C.data;var q=C.object,te={set:function(fe,xe,Re){return typeof R=="function"?R.call(C,fe,xe,Re):(fe[xe]!==Re&&(fe[xe]=Re,q.__template__&&Object.prototype.hasOwnProperty.call(q.__template__.dict,xe)&&C.watch(fe,xe,Re)),!0)},get:function(fe,xe){return typeof j=="function"?j.call(C,fe,xe):U()(fe[xe])==="object"&&fe[xe]!==null?new Proxy(fe[xe],te):Reflect.get(fe,xe)}};return new Proxy(d,te)}}]),P}(),Ha=function(P){return U()(P)!=="object"&&dt.error("observer","this is not an object."),new ti(P)};function zn(P){if(P){var S=[],d=[];for(d.push(P);d.length;){var y=d.shift(),C=y.getAttribute(Ze.slotTypeName);if(!Ze.isSoltType(C)){S.push(y);for(var R=y.children,j=0,q=R.length;j<q;j++)d.push(R[j])}}return S}}var gn=function(P){return P.getAttribute&&P.getAttribute(Ze.slotTypeName)===Ze.slotTypeMap.html},Un=function(P,S){return!(!(d=P).getAttribute||d.getAttribute(Ze.slotTypeName)!==Ze.slotTypeMap.component||P.getAttribute(Ze.slotComName)===S.getAttribute(Ze.slotComName));var d},yo=function(P,S,d){var y;(P||S)&&(!P&&S?d.appendChild(S):!S&&P?d.removeChild(P):P.tagName!==S.tagName||(y=S,gn(P)&&gn(y))||Un(P,S)?P.replaceWith(S.cloneNode(!0)):P.nodeType===Node.TEXT_NODE&&P.nodeValue!==S.nodeValue?P.nodeValue=S.nodeValue:P.setAttribute&&W.setAttributes(P,S))},qt=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"createTemplate",null),b()(v()(d),"template",""),b()(v()(d),"element",null),b()(v()(d),"eventsList",{}),b()(v()(d),"data",{}),b()(v()(d),"id",""),d.id=y.id||d.constructor.name,d.options=y,d.createTemplate=Ze.create.bind(v()(d)),d}return m()(S,P),u()(S,[{key:"getTemplate",value:function(){return this.template}},{key:"setTemplate",value:function(d){this.template=d}},{key:"init",value:function(){this.data=Ha(this).create(this.data),this.render(),typeof this.afterInit=="function"&&this.afterInit()}},{key:"afterInit",value:function(){}},{key:"initProps",value:function(){}},{key:"bindEvent",value:function(){}},{key:"watch",value:function(){}},{key:"render",value:function(){var d="";d=typeof this.template=="function"?this.template(this.data):this.template;var y=W.createEl("div");if(typeof d=="string"){y.innerHTML=d;var C=y.firstElementChild,R=C.querySelectorAll("["+Ze.slotReplaceName+"]"),j=!0,q=!1,te=void 0;try{for(var fe,xe=R[Symbol.iterator]();!(j=(fe=xe.next()).done);j=!0){var Re=fe.value;if(Re.getAttribute(Ze.slotReplaceName)==="true"){var ut=Re.getAttribute(Ze.slotComName),St=this.getComponent(ut);if(!St)continue;var tr=St.element;W.isElement(this.element)?Re.replaceWith(tr.cloneNode(!0)):Re.replaceWith(tr),St.element.removeAttribute(Ze.slotReplaceName)}}}catch(rr){q=!0,te=rr}finally{try{j||xe.return==null||xe.return()}finally{if(q)throw te}}W.isElement(this.element)?this.replaceNode(this.element,C):this.element=C}else this.logger.error("render:","this template is not html string","html:",d)}},{key:"replaceNode",value:function(d,y){if(d&&y){var C=zn(d),R=zn(y),j=C.length,q=R.length,te=Math.max(j,q);if(te<=0||d.tagName!==y.tagName)return d.replaceWith(y),void(this.element=y);for(;te--;){var fe=C[te],xe=R[te];if(fe)if(xe){if(fe.tagName===xe.tagName&&W.syncAttributes(fe,xe),!fe.isEqualNode(xe)){var Re=Math.max(fe.childNodes.length,xe.childNodes.length);if(Re<=0)yo(fe,xe,fe.parentNode);else for(var ut=0,St=Re;ut<St;ut++){var tr=fe.childNodes[ut],rr=xe.childNodes[ut];(tr||rr)&&yo(tr,rr,fe)}}}else fe.parentNode.removeChild(fe);else d.appendChild(xe)}}}},{key:"show",value:function(){this.data.display="show",this.element&&(this.element.style.display="inline-block")}},{key:"hide",value:function(){this.data.display="hide",this.element&&(this.element.style.display="none")}},{key:"resetPosition",value:function(){var d=this.element.parentNode,y=d.offsetWidth,C=d.offsetHeight;this.element.style.marginTop=(C-this.element.offsetHeight)/2+"px",this.element.style.marginLeft=(y-this.element.offsetWidth)/2+"px"}},{key:"replace",value:function(d){this.element.replaceWith(d),this.element=d}},{key:"update",value:function(d){this.element.innerHTML=d}},{key:"addEventListener",value:function(d,y,C){var R=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return d.addEventListener(y,C,R),{destroy:function(){d.removeEventListener(y,C)}}}},{key:"removeEventListenerAll",value:function(){var d=this;Object.keys(this.eventsList).forEach(function(y){d.eventsList[y].destroy()})}},{key:"getComponent",value:function(d){if(d!==void 0)return this.options.componentsController?this.options.componentsController.getComponent(d):void 0}},{key:"getHTMLString",value:function(){return this.element.outerHTML}},{key:"destroy",value:function(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.events.emit("Component_"+this.id+".destroy",this),this.removeEventListenerAll()}}]),S}(ae),ea=i(8),jt=i.n(ea),mn={formatHHMMSS:function(P){var S=parseInt(P,10),d=Math.floor(S/3600),y=Math.floor((S-3600*d)/60),C=S-3600*d-60*y;d<10&&(d="0"+d),y<10&&(y="0"+y),C<10&&(C="0"+C);var R="";return d!=="00"&&(R=d+":"),R+y+":"+C}},ta={formatBytes:function(P,S){if(P==0)return"0 Bytes";var d=S<=0?0:S||2,y=Math.floor(Math.log(P)/Math.log(1024));return parseFloat((P/Math.pow(1024,y)).toFixed(d))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][y]}};function za(){var P=jt()([`
  <gp-poster class="goldplay__screen--poster">
  <img src="`,'" width="','" data-display="','" heigth="',`" class="goldplay__screen--poster-image">
  <gp-speed class="goldplay__screen--poster-speed">`,`</gp-speed>
  </gp-poster>
  `]);return za=function(){return P},P}var ra=`data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAA+CAYAAABuk1SaAAAZ2ElEQVR4nO2de1wV1fbA157ZcyTe
6sjj8FJeoqghiJAovsAHkJSUmpZl3bTHTe/NzO71k131Z97y9tJft9SrojdNLTQUH6iR4EcTUTRN
BERCRAQcURCUnNfvDzl2OMzrPDDsd75/wZ6ZvdfMnLX3XmuvtQfAjh07duzYsWPHjh07duzYsdMp
QFKFoig+aDnsAEC0F9UzxgNiORG4L8+y31pSh7czxiQBmBeAu9rEcbaW8f8DCP2mFvh3lOOhIc6H
Ch2tFxOeDeKn+TuDv8N/RD9b1e3tjPHUEJg6py8/pyAV/AEAlpwil2i9PlZPBQ/xEIdEdBcfjewu
RJ5NAy/aAcKYFiguTCMqL96C8tIGoqSsEZUV3YSi/KtsuaWyxvtSfRP1YsLzIfzzrjpwdV8vhlha
18NCh40g0V5UzxA3CO3pLPbEBOD6X1H91dtQff4mFBcxbJ3VDTwAwmnKY3EUvyStpzgRAGgAgMom
KPTfJEbZov4RflS/7xK4He46CDaUMS1QTG8Q+6hdOyaAilzwKL9guLcYb5BNA0xxAxR/V0FmbrqI
vjp7ja3RclGkJ+W/bBC/bKyvOMbQViGD9kdmCGM1tvtQYTyC2ExBBvSg9MO8YegT/vyTiT5iQmux
1Itjau9A3Yoi8rOMX9D24ussY3ZjD4AxAVTk/nFcNpjcw4KT5KylJ7jV1tY/zJcKO5zMHTatP72U
+NcLP/DzlK5dMZRcODtceMP0WjNh1pQQ/1l6Ci2taOCa5E6aGKyL3z6azTBta/YxPG3FT+xmK9rv
tBgrCGFtZalB1JCs8cT6MxO5nz5/jNua6CNOgXsPU+7l0Z6PQN+lUfyq4qe48wuj8WvWymBrIjwo
XynlAAC42IgsnqIY8HPFDlLKAQDwqwB3la7NeZzYagPlAACgX+4tvFMxhf8lpRcVK3VCrJ4KllIO
AIDyRrD6OTwMWKwgw3ypsIKJxN7MBC4zxV98ASx7YfTiSH7RkSeITEvl6Ai2jOK+Bpn7qWiCCmvr
fyYYTZWrn0Dy7yRrPLF+lF4cJXethdBZY7hdU3tTY0wPZCZwmXJtVTZBpQ1l6LRYpCBLBuPZh5O5
w9E9xHFgg54szlMcciCF+NrKemxChAflG+YGYXLHq5vFamvbyKuBvCWnyDktPFRpveaV/tRTKf5i
CthWOQzQm0dwm2K8qUBDQZwPFer5CHjInM/U3BY02S8PO2YrSHYysendgfy70P5FMeW34Pj8AvzS
+Gwc3X879g7ZhruGZ2DP+N04fHouTs6qROkAIGVz0Ik+YsKbEXi6BfdgU07XsVUTDuDUyiYolDou
iCBY28axarbs3ePcihF78EiQfh5tCOpKuX45hPsCOkY5DNDfjOK+Mfxz5ApbmvY9TmNaoFjq5Lpm
3urn8DBglpv39NPowFhfiIC2L4phWoCZeYSatb3sbt4H0pfWAUARAOyRM34BgP44hv/IzxVvu9zI
tZgjl63ZWc4eDelKjb4wibsARnJyAtSwvLKNYA7Hqtmy0imoNNRN+Yf/9gBhPnSscgAAgL8z+E8J
pRK2lLIHAQAyyti8CA8q8fST3Cnj9mvvQJ1nRwvTSdA8gmQnE5siurVXjk0Xic30BrHP9rK7eVrq
2X+JLYzZiWNAZiQZ7IEGa5WpI7lwg72ZXkqkG5edqUdnaps5m/act3m4rXZO9hUyO6cabQMNo42V
0DNC+BnGBafr2KrMS2incdm5G+jnDpaj06BJQRYMwjONfeCtMGtLiHXTDvJzzG00/ypbbvrjM+BK
gau59XUUZ2+is8b/19wBm8+7HUlwVDtne9ndvFG7hMlp3+M00KYkzOl6OLi2hPhwz2W0UeM1AAAw
1lccE9SVavMOTtcTp4z/r2uBh2IdyxaoTrEiPSn/wif4pWAyxBc3QPFLh/j5ljb8+Xni8xdChRdM
6mWOX4PjltZpa1gBtQnVaObUe/uOJKOMzetLU+FFadw5kJ9yMc/m4ue+Kmb3RbQWeDiRRKwnEftp
LPdJoAsEKlwLAEAHOENPADhjKLhr4nq+xSLZdZM/GqojyBdDeCnjkJmSg5+xpuGCGrbilaP4Vfit
d2OezcXPnetEq+wYiW06EB0But9LFgNFDFsXuws/BjKjwsoiYuVXxew+47K6Zl7YWc4eDdwsxmRX
of1qbXg5gpfx/yRq25F2IX//5/CgUFSQMQFUZIyH2M4mSC8l0k/XsZpdlHJ8eZb9dsB2/GjqQRwX
+g3ubfpiOxu0g+0NZQHM94odq2bL5KaoOyqI75Sufe4Qeg5UplxOWHna100ndlOT8Y+CooLM7cfP
BYnR44ti4gtbCXDmGludeZE9WlrP1tuqzo7iERIcfm8ZDKSXERukymtV7KS6Zl5YdIpcpHROIwuN
Sse7dKLn0NHI2iB9acqjKE1st7pafgvKrYkIfZjRkaLVU4sYbyowugcM9nUUfXu6CAFTAuUXJZW4
2CCWSZXzGtZpjtWhYwqHmfM3pNc+DHSGqaatmB5GJbnqwDXvKuSduca2WwSWVZBRepAMaUi/QG5Y
bGMhO4LQblS3QFcIDHKFwBu/ws2SBiiubhKrrcmRcFSZeigxOZQa9W4E927+BOgHNljT+JUX7zax
UOFMQU/jcqVQFQNNHMga2Udq0VGpH4oxLhQ4axa0FT9X7ODliLwCXSGwhwN4dCFFHSsgrv5XqP/l
FpRfuiVWVj3A9S+9C9btGcfv3jj8/tIFkxpEpWZeZI8anyerIIl6PlGq/Pg11Gm8TKZ4OmEitRd6
4qUQ/qXSp8XBYPJD5ASoWT4Ef7KtHG0rqGErzK3fCZv/w/B0wsTqYcKarSPFCabyWENdMy9UTkP1
pgqiBb0j6GUOMR+cIT/YKXPQgDkjaUovKvbZYH7a5WfuB7HKwawYSq5ceY5YceEGe1Nr/ZaSEoBS
IrpBglERvXUkt9XDiQwAI7tQsrfRu2BdaoA4QerY5U4apDYxWBd/7in+3Oo4LiPGQ0wCiZeBCfCa
15//oCCVK/jXEPyOuW2Y673xdcUOBU/wBakB4osS8jCbLhIrzInHshXJfkKyVHlONcrZWd62B5VC
60i6JZFYmTWG2zUlUPwzqHcO9OxwYdGFSdwF45iwjkK8NxVt46xwIMG3bzeir3GZpIL4OCE9SNxQ
9W04U98idjpj+u9ReOb20WwG7dBmPs/k16E9G8uIjzMvoXXVt+EM/PZA6Lf683N/noR+8HXFmg1O
ZwzOnk5Yc/RB1lh+l78zRJoUM5+fJxbrN5M+0w7yc4puoCKt9dmCAT0o/fRgQSrmjfnTYeJlLXVo
GUmzxhPrpwSqjhpS0EdSuCMeTqTqc/Z0wsTMftTE7GRiU+10dO700+jAlFAqQe06AIA159jvFhaS
70FbJWHumKx1SU6xertLG44XGlBZZ8tznjsQT/9ocJuFTObNfHJu5iX03cUbbGOM0bmj/KgBc8L5
Oa2jI92vK4w4+jh/BAA0ZQhiArxa5/iqhvDyIfjtef0hwqSYmfwDnry1lM15vbXAmRLNnrZZw3eJ
3A6QGM3id+Ph5TdZRe+VAbWRdEIgNWRnouWRx5gAr0lBxCQA2CJ3TqA7di2ZxJ80zsb0fAT6bhnJ
RczoQ81Yf57NUmtncQH379rp6HXPR+5ni1bmX2XLVXPSe7uKoTKC2yyHfUAPSh/rCbE6AnQ6QtRh
AmEAAF4UOVEE4ETE3RXgLi8AhxAQzlh0PnAF7TdOE43zoUKPpPAfgZFyROzAA0/XsVUfS7SZc5k9
AwAvvR1JvfhhNPcBAND+zuC/ZgS57OVD/N+0yI00GMGt0QfzwCRKIO17nJZRxmqKWesIDqQQXyf6
gOn0hUnZjx/Pq2I1j2QOKm7eVH8hFay0t1ptYFkF+Xa08I2xchhBr4/n1gNADy3trC8l17/zKL8c
AOBoHTrqb3Jc8gevdxR9pMrDu4p99S5YV32Lszqi9Xgql+9Agq8512RUoNUAMMvw/9ph3FowUo4R
e/BILQuYHxay69aOIHu/1Ft4G+5l1v1pmC+14XAVq+jeBNDmJXpvIP8emPxA0kuJ9N9LOcJpyiMj
gctI9IEwE7mYcdl4/L4K9oQ59akpiLej6KV0vIW/X48sSouyiQG6iAPjRNOpaxtSg6ghph4pKX6+
+VvgZQFDFEwxOS75sq+1oGtS5e46CPZ4BMkl0ZhF9W0wO/HoSjO6Yvg7pRcVa5zYlHkJ7Tx0mdUc
ZfpeITKef9J/G6BxBFE5Hk5THhIODubTc8RnWmWzBtN8ldmPUlPPpXHnwtxgKBgpRwsPVVGZOMpc
5TCgZCPk1pC5EsXMolPkG1GZOCD0G9Ip9BvSKexb3GNcNo6WCqjESH62Ek0L7TyUJtCDuouD1O4B
AODmr2DwmDFSHlrJmyxvks+7jqTbGZ0WkXoAp4J54dvMpz+jTw3/vNybfxmMHtKGMiy5sixHVSPX
sqUc3R/Ck/zEpAE9KDn3533UplhShmlxAxTbIjRHC/UtQj3AvXWX8qkof0Us95mJPEzmJbQucCsZ
dLKGtdQjSSOFriK9RExvdYrc5+0CPP+949z/nqxhKysbuNuVDdzt4usss6+CPZG0R3i+4Bpqo6ic
CLK2Li8iVTt4cA8hRu0cAAD3LuBu+FtqBiH5sssaQHKVFgDg1TD+VS0Nq3H2Gluz6SKhdVcMZuoh
PK38JtcIAODvhh1Nemnmp+viaXNl+L6a/N7oX3qYNwxVu4ZQCc+ZGcbPMi07VksorVzblKeDiKcy
xhKrto7ktga6gGlPy7xyFL+auk94ydppstJUs7aZE2J3ko+tKSH+CfcS6orTS4R0qXMjPCjfZ8Oo
cZ6PiJpnJj/Vt/FISjLWVxwT6I5VUyf6uYv9AAAOXEEHpY5LDmOtax0MSAxj0T3EQXE+VOiRK2yp
WuO24kgtOrq5hL0fhRrRHZkmbsHFG9o8MMZUNbddgxij58cCwDala6hWZ4IUUV6U/8nU9nnc136V
nrJ2BJ8/xm2VKGZyqlHOnGPkHK17YalB3nPYyPbklQ3cbQD4W1BXahkAQF0ze3/q19MNOyf6ooQn
A/gnTz8pvWalxL4K9gTMUpvsAj3UCw0FgD1KJ0XRQhQAQGYlmSm1Mi7ZC1y4wd78+QbIzefpVuPY
avq4iZrikFYUkW3m72ESbmi9CzY7PshN99vwCgAw+t6OIYqQCp68OM+283wDXQixQ4L7WnjQEprB
TM/Fz4/aJUy2lXIAKNsIxly8wTYaOq84Hyo0fSS5vGIK/8uaodyOJD9xOljo7Xr9R/w6qIwif4/g
VO3K1j3cmKO1IGnQyw6Te6vIvXLHwtwgbMVQcqFa40qEdKXcI2llT4SBssa2U76+boLpzoN0qDuS
dE0rMcRDGGL8vzMFziFdKXe58wEAKAUFGebJD5MqD3YVg8yVTQ1fV+zQmvwkB7PkFDnHexPpvbGY
VexFLYEkkOYF01g9FZw5jlh7JIU78kKo8BYYeR4LrqF9Lx7GqbG7cAiYYZN+fobdVn5LeW+uMDcI
Sw2ihsgdj/Cg7ntRC2ul7THZm8ypRjkgLzA9O1x4w5JwDQOz+oivgMbeg+XbDuUhbu3Xacb5iOPM
laF1AzZj6G4OoJjrYJo8ZEwfd+kRMclPTDJXNiUmh1Kj8lL4XEyAlDuVWVhIvh6yDYe8e5xb0VEL
u0rPwZiF0fi1Y49zP5qE2zAZFWh1XBaOi94ujF9XxO48Vs3K2r1yPJ2DnwZlpaI3xHOyzpvBHvds
tFXFhOxOmfIjSAV7oomVj/qE1nCN3AlERrQX1VPhvHakBVPxb/Xn52o938epbXCdlIv4nUf5+eaE
jcwdKL3FkMo9Kxqn11uQbBjOs2GUpAKbmzC1ZgS5zMgAb0fiPipxcQH3744O+NOyaJw1nli/OJJf
BCaOgjfzyblp2cIsa+3YkzVs5dzj5FxQUBJ3HbgvjcF/kTo2pRc/GQBgTxWxW+56xWFy2RlymYqM
9HBvcWJBKleQPpJcntKLilXyj3s6YWLBIDwzYzQnuZ2lHP8YyLdJ8Cm+SZyXkmV9vLBeS33je1KD
PhrcZgXeAKMWa0YqKEhxA5JbaKS/Gs79N5ym2hnwnCBv6Jry9yg88+Xewp9A4dldbBAeSK6O0nMA
AMgYS6yS2uguvZRI//g0t9FWcnx0ituYVYmyQGG2syCCXzC+J9VmXcTfDTu27lLJHKsRZb2Mije5
sRS07ohBvxAqvJU1hvuxdJJQsieJ2LBoMP7z9DAqKTFAFzExWBe/chi58NIz/KWlUfwqMNMwi/EQ
B68ZQS4zGOKn65GkSzfRR0zInUBkyK1neDtjPD+SenHvWG6vlAy5V1Ge2pREyUg/eZ04qXApfS6N
Ozf7UWpqWHeK9nTCRIw3FRjsKhkuIclYH2GslNzGdHdADyQdVmmKNT2MSjLeEd+YTeXkJlvLkrJX
mFF7R3GnFXrvWG6v8e8iwQclAACdUYG2K23lpDhMXm7kWuYOxHNleltJ3HUQnOQnBif58bbcJZF+
ubfwDoUIDADzTl4TC0HaDU0P9xYnnpnIxWeOI3buriJ3VzdDtasOXOM8hbir04TXlO4j+wqRPVxF
ECUj/VA1HJKR6758K2I5i38gq0rIVcO9uXgAoHOqEYzSt9+F3+UBbZukNNX8RyTXLtTGQAsvdkhS
1LAsPKz0aa5Erl0AoM9M5H7ydcV+VY1cy/9EcUsAgFlfSq5PU6hX1RPx0SluYyfZqJj5soRYBQBQ
0cA15V5FSnFNdGqA+OLqOC4jawz34+YRXPbrfYSFoJKwk3MV5agJodRzltaz9fl1HZdQtrmE3T/h
wD2Pz7OHiC5NbPtz3LsgRS+crZCbYg3oQemVvGvxXmK8ZLkv1VeqXCul9Wx9/G48HFSM9pwk/vu/
R+GZhqSxrF9YxUVcTa665P04WaXhjoCpvQNFTAsUrywi3tNvJn2MPR2tayM2kym/Dh039aQgibUo
tZX0f5xql2NgU3aWs0ePVbNlThg5OlPtjzti0eK0YDmklEFuBHHRgTModERLo/ilk0OpNutN0V5U
z7xkLtf4OnNsMwN5VWzRxO8pxc31Qt1gyPuD7k3zl58ll6vVqUlBzl5ja8Zn4/FKDdsYJi4Lx3lu
FMPpDWKfNw7zi01DIzLK2LzSBrDVaj4z/wTZbhM8qV0e1fz/eyvYE3JhC1rQujn2gO4wwNI2zMWV
Ets9B7mYtKvNYg2o9OJbR3Jbi6egwyuHkQu3JBIrC1K5AjBRKj9n0axIbwPby+7mzcjDM1RkAABg
NpUh1VAnzYs9eyvYE2raaSOY8dl4vBYX4DOH8DM2kIf55GfiE6lI4AAnMcC0DIGo+sxm5BFaXpAk
SkF6xgTJGPe22H3elECX9gudcrZY+U2uUcM0kw5zg6Fv9BUWyaXjBrpA4DBfyqIdX9afZ7NmH8Nz
QOEd5F5FeVoCSM36/MH2srt5w3bjYU2s9R+RkYEZl43H79UYgn2yhq2c8oNVSsJkV6H9fz3Cvy91
cEA3sV0vrSUfpKqRawnPwOGWPKdgF1GTV8vDQTq4T4t85jKwu2iaGanIh2fJD8D6jktzCoIUK35i
N79dgOfLyMF8VoQ1pR+Y/TAPV7HFQVvJoE9+JhbING4JTGUTFFqSn7CllD1o4fSP+fw88e+xu4Vp
cidIhcJojUE6x7B1od+QvVcVE++bI9tYX3GMFoPVTSe6SZWr2UjmonfBOn9nME20AwrJp91mlLF5
rTs/ar1vJr8O7TE9P8lPTDIOBzGXDwvZdVJKUnsH6rR+jcCih1nbzAl/PcK/H7EDDzT3ByABs+QU
ucR/kxhlaX7C3gr2hN/XpN8/fyLnaZCFyb2Kto/ag0e/nse/Z66sV+9oT/SqvsXdnZXLL4jKxFHL
z5LzWz9GoyYfnZfM5aptPnC5GV2Wlg9Z/QUsYzhBlJryMWo73b/wAz9v6WlyKWh4H68cxa/G7BCS
//wjfsP0/Faj32I+LGTXtdZ7v715x7HiR1KNsclXbv3dsOM4PzQu2ZdPHu4txsvkChvDVDZB5X/L
yP9uuIA22nLbUW9njOP1KH6opzA0yEUM8ncW/RvuosaKJlRReB2dPFCFDqptjGZgehiVtHE4twFa
NxZbcopc8u5xboU18oXTlIe/M/j7OoGvjgSd6U6IJALCz1H0L2DQcaUU3ZCulLvpB3466tPMr/Sn
njL6whUzvwDP/6CQXafl2tYMyydieggxAS6ivwMJDtdbUP3FW6js0FUid99lcZ+xA2ZhNH5tahD/
TFcddNv2C7H1jcO81fsUBnWlXC9O4hoAAG7ehTK177t3yGegDehdsK6XK+rp5wT+ekdRr3cEvQsl
ugAA1N1BtZXNqPJCI5SZkx77e+Lvhh31Tkh/6y40dqad5wHubQ/7VC/xKT8n0a+skbiwuUzc3FFf
5wp0x67eTsjregvUd9ZPd8tRmEZkR9LiGNC4cUaHKogdO52JTQnkZ9OChKkAQOfXoT0xO6Q3zTPG
pt9Jt2Ons7IwGr9mUA4AYF48TM5Qu8YUm+1zZcdOZ2JmP2ri6rj7ofbMm/nkXEumyPYplp0/HDP6
UCmtm8fRAAA51WjbqF3CZK3X220QO39YWreivR993sRCRcg2MsSczEq7DWLnoSfSk/K/OQNdeLEv
NQHg3o4ymeOItSapGcygTBxtTdqxfQSx81CyYBCe2Zp8Z+xybpPa23877m/JTi6qm1fbsdPZobuI
BmVolzadX4eOT84hJlc0sFZ/rto+xbLzUJJ/jTgO7cNYmPkFeH7MDiG5ooGzybfc7VMsOw8tS2Pw
X+YP4Oc3cdD0nxJy7epitNoWYUtIKlPOjh07duzYsWPHjh07dh4A/wcMRwRD90zgYwAAAABJRU5E
rkJggg==`,Nu=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"template",d.createTemplate(za(),"poster","width","display","height","speed")),b()(v()(d),"data",{poster:"",status:"",display:"show",speed:"",width:"",height:""}),b()(v()(d),"options",{}),d.options=y,y.player.poster?d.data.poster=y.player.poster:d.data.poster=ra,Object.assign(d.data,y.data),d.init(),d}return m()(S,P),u()(S,[{key:"resetPosition",value:function(){if(this.element){var d=this.element.parentNode.offsetWidth,y=this.element.parentNode.offsetHeight;this.element.style.width=d+"px",this.element.style.marginTop=(y-this.element.offsetHeight-20)/2+"px"}}},{key:"bindEvent",value:function(){var d=this;this.events.on(de.LoaderUpdateSpeed,function(y){d.data.display==="show"&&(d.data.speed=ta.formatBytes(y.speed)+" /s")})}},{key:"hide",value:function(){this.data.display!=="hide"&&(this.element.style.opacity=0,this.element.style.display="none",this.data.display="hide")}}]),S}(qt);function Fu(){var P=jt()([`
    <gp-control class="goldplay__control--container `,'" style="width:',"px;height:","px;opacity:",'" data-status="',`">
      `,`
      `,`
      `,`
    </gp-control>
  `]);return Fu=function(){return P},P}var $u=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"template",d.createTemplate(Fu(),"containerFloatCss","width","height","opacity","status","progressBarName|component","sideControlBarName|component","nearControlBarName|component")),b()(v()(d),"hideDelayTime",void 0),b()(v()(d),"hideTimeCount",void 0),b()(v()(d),"data",{progressBarName:"progressBar",sideControlBarName:"sideControlBar",nearControlBarName:"nearControlBar",width:"",height:"",opacity:1,containerFloatCss:"",display:"show",status:""}),b()(v()(d),"options",{}),d.options=y,d.hideDelayTime=d.options.player.controlBarAutoHideTime||3,y.player.controlBarAutoHide&&(d.data.containerFloatCss=d.options.cssName.controlContainerFloat,d.resetPosition()),Object.assign(d.data,y.data),d.init(),d}return m()(S,P),u()(S,[{key:"initProps",value:function(){this.hideTimeCount=this.hideDelayTime}},{key:"bindEvent",value:function(){var d=this,y=this.options;y.player.controlBarAutoHide&&(y.$container.addEventListener("mousemove",function(){d.hideTimeCount<=0&&(d.data.display="show",d.show()),d.hideTimeCount=d.hideDelayTime}),setInterval(function(){d.hideTimeCount>0?d.hideTimeCount-=1:d.data.display!=="hide"&&(d.data.display="hide",d.hide())},100))}},{key:"setSize",value:function(d,y){d!==void 0&&(this.data.width=d),y!==void 0&&(this.data.height=y)}},{key:"show",value:function(){var d,y=this;this.options.player.controlBarAutoHide?(clearTimeout(d),d=setTimeout(function(){y.data.opacity=1},1)):this.data.opacity=1}},{key:"hide",value:function(){this.data.opacity=0}},{key:"resetPosition",value:function(){this.setSize(this.options.$container.offsetWidth,this.options.player.controlBarHeight)}}]),S}(qt),Hu=D.a.get("Delegator.js");function Ua(P){return typeof HTMLElement<"u"?P instanceof HTMLElement:U()(P)==="object"&&P.nodeType===1&&typeof P.nodeName=="string"}function Va(P){P.preventDefault(),P.stopPropagation()}function _s(P,S,d,y,C){var R=function(q,te){if(q&&q.matches){if(!Array.isArray(te))return q.matches(te);for(var fe=0,xe=te.length;fe<xe;fe++)if(q.matches(te[fe]))return!0}return!1};function j(q){for(var te=(q=q||window.event).target||q.srcElement,fe=q.currentTarget,xe=!0;xe&&te!==fe&&te;){if(R(te,d)&&(xe=y.call(te,q)!==!1),!xe)return void Va(q);te=te.parentNode}}y.__delegateWrapper=j,function(q,te,fe,xe){xe===void 0&&(xe=te==="blur"||te==="focus"),Ua(q)&&q.addEventListener(te,fe,xe)}(P,S,j,C)}var zu=function(){function P(S){return o()(this,P),b()(this,"element",null),Ua(S)?this.element=S:Hu.error("constructor","new instance","element:",this.element),this}return u()(P,[{key:"off",value:function(S,d,y){return d.__delegateWrapper&&delete(d=d.__delegateWrapper).__delegateWrapper,this.element.removeEventListener(S,d,y),this}},{key:"on",value:function(S,d,y,C){var R=this;return Array.isArray(d)?d.forEach(function(j){_s(R.element,S,j,y,C)}):_s(this.element,S,d,y,C),this}},{key:"once",value:function(S,d,y,C){return this.on(S,d,y,{capture:C,once:!0}),this}}]),P}(),Ga=null,or=function(P){return typeof P=="string"&&(P=document.querySelector(P)),Ga?Ga.element=P:Ga=new zu(P),Ga},_o=function(){function P(S,d){var y=d.$container,C=d.type,R=d.scope,j=d.onStart,q=d.onDrag,te=d.onRelease;o()(this,P),b()(this,"$container",null),b()(this,"$ele",null),b()(this,"active",!1),b()(this,"offsetX",0),b()(this,"offsetY",0),b()(this,"offsetLeft",0),b()(this,"offsetTop",0),b()(this,"orginOffsetLeft",0),b()(this,"orginOffsetTop",0),b()(this,"orginOffsetWidth",0),b()(this,"orginOffsetHeight",0),b()(this,"initialX",0),b()(this,"initialY",0),b()(this,"type","default"),b()(this,"scope",{}),this.$container=y||document.body,this.$ele=S,this.type=C,this.scope=R,this.eventsList={},this.onStart=j,this.onDrag=q,this.onRelease=te,this.bindEvent()}return u()(P,[{key:"addEventListener",value:function(S,d,y){var C=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return S.addEventListener(d,y,C),{destroy:function(){S.removeEventListener(d,y)}}}},{key:"removeEventListenerAll",value:function(){var S=this;Object.keys(this.eventsList).forEach(function(d){S.eventsList[d].destroy()})}},{key:"bindEvent",value:function(){var S=this;this.eventsList.mousedown=this.addEventListener(this.$container,"mousedown",function(d){S.start(d)},!1),this.eventsList.mouseup=this.addEventListener(this.$container,"mouseup",function(d){S.release(d)},!1),this.eventsList.mousemove=this.addEventListener(this.$container,"mousemove",function(d){S.drag(d)},!1)}},{key:"start",value:function(S){S.target===this.$ele&&(this.scope===void 0&&this.$container!==void 0&&(this.scope={left:this.$container.offsetLeft,right:this.$container.offsetLeft+this.$container.offsetWidth,top:this.$container.offsetTop,bottom:this.$container.offsetTop+this.$container.offsetHeight}),this.offsetLeft=this.$ele.offsetLeft,this.offsetTop=this.$ele.offsetTop,this.active=!0,this.initialX=S.clientX,this.initialY=S.clientY,this.orginOffsetLeft=this.$ele.offsetLeft,this.orginOffsetTop=this.$ele.offsetTop,this.orginOffsetWidth=this.$ele.offsetWidth,this.orginOffsetHeight=this.$ele.offsetHeight,typeof this.onStart=="function"&&this.onStart.call(this,this.offsetX,this.offsetY,S,this))}},{key:"release",value:function(S){this.active=!1,typeof this.onRelease=="function"&&this.onRelease.call(this,this.offsetX,this.offsetY,S,this)}},{key:"drag",value:function(S){this.active&&(S.preventDefault(),S.stopPropagation(),this.offsetX=S.clientX-this.initialX+this.offsetLeft,this.offsetY=S.clientY-this.initialY+this.offsetTop,this.setPosition(S))}},{key:"setPosition",value:function(S){switch(this.type){case"vertical":this.offsetX=this.orginOffsetLeft,this.offsetY<this.scope.top&&(this.offsetY=this.scope.top),this.offsetY>this.scope.bottom-this.orginOffsetHeight&&(this.offsetY=this.scope.bottom-this.orginOffsetHeight);break;case"level":this.offsetY=this.orginOffsetTop,this.offsetX>this.scope.right-this.orginOffsetWidth&&(this.offsetX=this.scope.right-this.orginOffsetWidth),this.offsetX<this.scope.left&&(this.offsetX=this.scope.left);break;default:isNaN(this.scope.right)||this.offsetX>this.scope.right-this.orginOffsetWidth&&(this.offsetX=this.scope.right-this.orginOffsetWidth),isNaN(this.scope.left)||this.offsetX<this.scope.left&&(this.offsetX=this.scope.left),isNaN(this.scope.top)||this.offsetY<this.scope.top&&(this.offsetY=this.scope.top),isNaN(this.scope.bottom)||this.offsetY>this.scope.bottom-this.orginOffsetHeight&&(this.offsetY=this.scope.bottom-this.orginOffsetHeight)}this.$ele.style.left=this.offsetX+"px",this.$ele.style.top=this.offsetY+"px",typeof this.onDrag=="function"&&this.onDrag.call(this,this.offsetX,this.offsetY,S,this)}},{key:"destroy",value:function(){this.$ele.parentNode.removeChild(this.$ele),this.removeEventListenerAll()}}]),P}(),bo=function(P,S){return new _o(P,S)};function xo(){var P=jt()([`
    <gp-control-progressbar class="goldplay__progress-bar `,'" data-status="',`">
      <div class="goldplay__progressbar--load `,`">
      </div>
      <div class="goldplay__progressbar--play `,`">
      </div>
      <span class="goldplay__progressbar--dot `,'" title="',`"></span>
    </gp-control-progressbar>
  `]);return xo=function(){return P},P}var na=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"template",d.createTemplate(xo(),"progressBarHoverCss","status","progressBarLoadHoverCss","progressBarPlayHoverCss","progressBarDotHoverCss","time")),b()(v()(d),"options",{}),b()(v()(d),"data",{playWidth:"",dot:"",time:"",status:""}),b()(v()(d),"setProgressBarSize",function(C){d.$progressBarPlay.style.width=C+"px"}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,P),u()(S,[{key:"watch",value:function(){var d=this.options.cssName;this.data.status==="dragstart"?(this.data.progressBarHoverCss=d.progressBarHover,this.data.progressBarLoadHoverCss=d.progressBarLoadHover,this.data.progressBarPlayHoverCss=d.progressBarPlayHover,this.data.progressBarDotHoverCss=d.progressBarDotHover):this.data.status==="dragend"&&(this.data.progressBarHoverCss="",this.data.progressBarLoadHoverCss="",this.data.progressBarPlayHoverCss="",this.data.progressBarDotHoverCss="")}},{key:"afterInit",value:function(){}},{key:"initProps",value:function(){var d=this.element,y=this.options.cssName;this.$progressDragDot=d.querySelector("."+y.progressBarDot),this.$progressBarPlay=d.querySelector("."+y.progressBarPlay),this.$progressBarLoad=d.querySelector("."+y.progressBarLoad),this.timer=this.getComponent("timer"),this.pauseButton=this.getComponent("pauseButton")}},{key:"bindEvent",value:function(){var d=this,y=this.options.cssName,C=!1;this.events.on(de.PlayerTimeUpdate,function(R){var j=d.options.loadData.sourceData.duration;if(!C&&R&&j){var q=R/1e3/j*d.progressBarWidth;d.setProgressPosition(q),d.timer.data.time=mn.formatHHMMSS(R/1e3)}}),this.events.on(de.PlayerbufferUpdate,function(R){!C&&R&&d.updateProgressLoad(R)}),or(this.options.$controlBarContainer).on("click","."+y.progressBar,function(R){if(R.target!==d.$progressDragDot){var j=(d.options.loadData.sourceData.duration||0)/d.progressBarWidth,q=0;R.target.classList.contains(y.progressBarLoad)&&(q=R.target.offsetLeft-R.target.parentNode.offsetLeft);var te=q+R.offsetX,fe=te*j*1e3;return d.setProgressPosition(te),d.logger.info("bindEvent","click to seek","seekTime:",fe,"offsetX:",te),R.target!==d.$progressBarLoad&&d.clearLoadBar(R.offsetX),d.timer.data.time=mn.formatHHMMSS(fe/1e3),d.events.emit(de.PlayerOnSeek,fe),!1}}),this.progressDragEvent=bo(this.$progressDragDot,{$container:document.body,type:"level",scope:{left:this.progressBarLeft,right:this.progressBarLeft+this.progressBarWidth,top:this.$progressDragDot.offsetTop,bottom:this.$progressDragDot.offsetTop+this.$progressDragDot.offsetHeight},onStart:function(){C=!0,d.data.status="dragstart"},onDrag:function(R){var j;j=d.options.player.controlBarAutoHide?R:R-d.options.$controlBarContainer.offsetLeft;var q=0,te=d.$progressDragDot.offsetWidth;d.progressBarWidth-j<=te&&(q=te),d.setProgressBarSize(j),d.data.status="draging";var fe=d.getSeekTime(d.progressBarWidth-q);d.timer.data.time=mn.formatHHMMSS(fe/1e3),d.data.time=d.timer.data.time},onRelease:function(R,j,q){if(C){var te=d.getSeekTime();q.target!==d.$progressBarLoad&&d.clearLoadBar(R),d.events.emit(de.PlayerOnSeek,te),d.logger.info("bindEvent","onDrag release seek","seekTime:",te),d.data.status="dragend",C=!1}}})}},{key:"setProgressPosition",value:function(d){var y=Math.min(d,this.progressBarWidth),C=this.$progressDragDot,R=this.progressBarWidth,j=0,q=C.offsetWidth/2;y>R||R-y<=q?j=q-(R-y):y<=q&&(j=-(q-y));var te=y-j-C.offsetWidth/2;this.setProgressPlayWidth(y),this.setProgressDragDotLeft(te+this.progressBarLeft)}},{key:"setProgressPlayWidth",value:function(d){this.$progressBarPlay.style.width=d+"px"}},{key:"setProgressDragDotLeft",value:function(d){this.$progressDragDot.style.left=d+"px"}},{key:"getProgressPlayLeftWidth",value:function(){return{offsetLeft:this.$progressBarPlay.offsetLeft,offsetWidth:this.$progressBarPlay.offsetWidth}}},{key:"getProgressLoadLeftWidth",value:function(){return{offsetLeft:this.$progressBarLoad.offsetLeft,offsetWidth:this.$progressBarLoad.offsetWidth}}},{key:"setProgressLoadLeftWidth",value:function(d,y){var C=this.progressBarLeft+this.progressBarWidth;(d=Math.min(d,C))+y>C&&(y=C-d),this.$progressBarLoad.style.left=d+"px",this.$progressBarLoad.style.width=y+"px"}},{key:"updateProgressLoad",value:function(d){var y=this.options.loadData.sourceData.duration;if(y){var C=this.progressBarWidth,R=this.progressBarLeft,j=d[0]/1e3/y*C,q=d[1]/1e3/y*C,te=Math.floor(R+j),fe=Math.floor(q-j);this.setProgressLoadLeftWidth(te,fe)}}},{key:"getSeekTime",value:function(d,y){var C=this.progressBarWidth,R=(y=y||this.options.loadData.sourceData.duration||0)/(d||C);return this.$progressBarPlay.offsetWidth*R*1e3}},{key:"clearLoadBar",value:function(d){d<this.$progressBarLoad.offsetLeft-this.progressBarLeft&&(this.$progressBarLoad.style.width="0px")}},{key:"getDragDotPosition",value:function(){return{offsetLeft:this.$progressDragDot.offsetLeft,offsetTop:this.$progressDragDot.offsetTop,left:this.$progressDragDot.style.left,top:this.$progressDragDot.style.top}}},{key:"clearDragDotTop",value:function(){this.$progressDragDot.style.top=""}},{key:"progressBarWidth",get:function(){return this.element.offsetWidth}},{key:"progressBarLeft",get:function(){return this.element.offsetLeft}}]),S}(qt);function an(){var P=jt()([`
  <gp-button class="goldplay__control--play" data-status="`,'" title="',`">
  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
  viewBox="0 0 232.153 232.153" width="20" height="20" style="enable-background:new 0 0 232.153 232.153;" xml:space="preserve">
  <g >
  <path style="fill-rule:evenodd;clip-rule:evenodd;" d="M203.791,99.628L49.307,2.294c-4.567-2.719-10.238-2.266-14.521-2.266
    c-17.132,0-17.056,13.227-17.056,16.578v198.94c0,2.833-0.075,16.579,17.056,16.579c4.283,0,9.955,0.451,14.521-2.267
    l154.483-97.333c12.68-7.545,10.489-16.449,10.489-16.449S216.471,107.172,203.791,99.628z" fill="#f1f1f1"/>
  </g>
  </svg>
  </gp-button>
  `]);return an=function(){return P},P}var Cc=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"template",d.createTemplate(an(),"status","title")),b()(v()(d),"data",{title:"play",play:">"}),b()(v()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,P),S}(qt);function bs(){var P=jt()([`
  <gp-button class="goldplay__control--pause" title="`,'" status="',`">
  `,`
  </gp-button>
  `]);return bs=function(){return P},P}function xs(){var P=jt()([`
<svg style="display:`,`" class="goldplay__control--pausing" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="20px" height="20px" viewBox="0 0 26 26" style="background:none" xml:space="preserve">
<g>
<path d="M2.667,0h6v26h-6V0z M15.333,0v26h6V0H15.333z" fill="#f1f1f1"/>
</g>
</svg>
`]);return xs=function(){return P},P}var Ss=Ze.create(xs(),"pauseHide"),ws=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"template",d.createTemplate(function(C,R){return R(bs(),"title","status","icon|html")})),b()(v()(d),"data",{title:"pause",pauseHide:"",pauseLoadingHide:"none",icon:Ss,status:"",display:""}),b()(v()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,P),u()(S,[{key:"watch",value:function(){this.data.status==="pauseloading"?(this.data.pauseHide="none",this.data.pauseLoadingHide="inline-block",this.data.title="loading",this.data.icon=`
<svg version="1.1" class="goldplay__control--pause-loading" style="display:\${'pauseLoadingHide'}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="25px" height="25px" viewBox="0 0 612 792" style="background:none;margin: -4px 0 0 -5px;" xml:space="preserve">
<linearGradient id="goldplay-pause-loading-gradient" gradientUnits="userSpaceOnUse" x1="1.98" y1="784.6123" x2="26.2101" y2="770.623" gradientTransform="matrix(21.8571 0 0 21.8571 -2.0895 -16600.5293)">
    <stop offset="0.1682" style="stop-color:#f1f1f1;stop-opacity:0"></stop>
    <stop offset="0.7502" style="stop-color:#f1f1f1"></stop>
    <stop offset="1" style="stop-color:#f1f1f1"></stop>
</linearGradient>
<path style="transform-origin: center center;animation: goldplay-rotate-360 .8s linear infinite;" fill="url(#goldplay-pause-loading-gradient)" d="M306,133.714c144.257,0,262.286,118.028,262.286,262.286c0,144.257-118.029,262.286-262.286,262.286
  C161.743,658.286,43.714,540.257,43.714,396C43.714,251.743,161.743,133.714,306,133.714 M306,90C137.7,90,0,227.7,0,396
  s137.7,306,306,306s306-137.7,306-306S474.3,90,306,90L306,90z">
    <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0" to="360" dur=".8s" repeatCount="indefinite" />
</path>
<g>
    <g>
        <path fill="#f1f1f1" d="M229.5,514.028L229.5,514.028c-13.114,0-21.857-8.742-21.857-21.856V295.457
        c0-10.929,8.743-21.857,21.857-21.857l0,0c10.929,0,21.857,8.743,21.857,21.857v196.715
        C251.357,503.1,242.614,514.028,229.5,514.028z"></path>
        <path fill="#f1f1f1" d="M229.5,273.6c-13.114,0-21.857,8.743-21.857,21.857v196.715c0,10.928,8.743,21.856,21.857,21.856
        s21.857-10.929,21.857-21.856V295.457C251.357,282.343,242.614,273.6,229.5,273.6L229.5,273.6z"></path>
    </g>
    <g>
        <path fill="#f1f1f1" d="M382.5,518.4L382.5,518.4c-13.114,0-21.857-8.743-21.857-21.857V299.829
        c0-10.929,8.743-21.857,21.857-21.857l0,0c10.929,0,21.857,8.743,21.857,21.857v196.714
        C404.357,509.657,395.614,518.4,382.5,518.4z"></path>
        <path fill="#f1f1f1" d="M382.5,277.972c-10.929,0-21.857,8.743-21.857,21.857v196.714c0,10.929,10.929,21.857,21.857,21.857
        s21.857-10.929,21.857-21.857V299.829C404.357,288.9,393.429,277.972,382.5,277.972L382.5,277.972z"></path>
    </g>
</g>
</svg>
`):this.data.status==="pause"&&(this.data.pauseHide="inline-block",this.data.pauseLoadingHide="none",this.data.title="pause",this.data.icon=Ss)}}]),S}(qt);function So(){var P=jt()([`
  <gp-button class="goldplay__control--replay" title="`,'" data-display="',`">
  <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
  width="24px" height="24px" viewBox="0 0 245.000000 206.000000"
  preserveAspectRatio="xMidYMid meet">
 <g transform="translate(0.000000,206.000000) scale(0.100000,-0.100000)"
 fill="#f1f1f1" stroke="1">
 <path d="M1250 2046 c-286 -55 -525 -211 -681 -445 -91 -136 -152 -302 -167
 -453 -12 -119 3 -108 -143 -109 -70 -1 -156 -4 -192 -8 l-65 -6 262 -265 262
 -265 266 265 265 265 -62 6 c-35 4 -123 7 -197 8 l-134 1 7 69 c26 284 232
 543 504 635 201 69 404 53 596 -47 62 -32 103 -63 177 -137 83 -83 102 -108
 142 -190 63 -130 77 -193 77 -340 0 -178 -37 -298 -134 -435 -91 -126 -220
 -224 -369 -278 -72 -26 -99 -31 -218 -35 -117 -4 -146 -1 -215 17 -104 29
 -205 79 -283 142 l-63 52 -89 -89 c-49 -49 -89 -96 -89 -106 0 -24 154 -136
 253 -185 89 -44 177 -74 272 -95 84 -17 303 -15 391 5 403 91 691 371 795 772
 19 76 23 114 22 240 0 129 -4 164 -27 249 -99 377 -406 673 -778 751 -104 22
 -297 28 -385 11z"/>
 <path d="M1227 1418 c-9 -68 -7 -695 2 -770 l6 -57 240 200 c132 110 251 210
 264 223 l23 24 -257 213 c-141 118 -260 215 -264 217 -5 1 -11 -21 -14 -50z"/>
 </g>
 </svg>
  </gp-button>
  `]);return So=function(){return P},P}var ia=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"template",d.createTemplate(So(),"title","display")),b()(v()(d),"data",{title:"replay",display:"",replay:"->"}),b()(v()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,P),S}(qt);function Ts(){var P=jt()([`
  <gp-volume class="goldplay__volume-bar">
    <gp-overbox class="goldplay-hoverbox goldplay__volume-bar--handle">
      <span class="goldplay__volume-bar--precent">`,`</span>
      <span class="goldplay__volume-bar--rod `,`" title="adjust volume"></span>
      <span class="goldplay__volume-bar--size">&nbsp;</span>
      <span class="goldplay__volume-bar--column">&nbsp;</span>
    </gp-overbox>
    <gp-button class="goldplay__volume-bar--audio `,'" title="','" data-mute="','" data-volume-size="','"  data-last-volume="',`">
    `,`
    </gp-button>
  </gp-volume>
  `]);return Ts=function(){return P},P}function wo(){var P=jt()([`
<svg xmlns="http://www.w3.org/2000/svg" style="display:`,`" width="20px" height="20px" viewBox="0 0 24 24" style="margin-left: -5px;">
<path d="M12.2 13.914v6.678a.5.5 0 0 1-.825.38L5.2 15.679H3a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h2.2l.412-.353-2.558-2.558a.5.5 0 0 1 0-.707l.707-.707a.5.5 0 0 1 .707 0l16.849 16.849a.5.5 0 0 1 0 .707l-.707.707a.5.5 0 0 1-.707 0l-2.386-2.386a10 10 0 0 1-2.33 1.422c-.526.229-.583.284-.987.377v-2.375l.007-.003a8.332 8.332 0 0 0 1.717-1.014l-1.67-1.669a5.251 5.251 0 0 1-.054.034v-.089l-2-2zM8.373 4.96l3.002-2.572a.5.5 0 0 1 .825.38v6.019L8.373 4.959zm9.867 9.867c.48-.99.76-2.115.76-3.347 0-3.418-2.148-6.014-4.793-7.173a4.11 4.11 0 0 0-.007-.003V2c.027.006.054.012.082.02.852.221 1.274.453 1.436.535A10 10 0 0 1 21.2 11.48a9.954 9.954 0 0 1-1.326 4.98l-1.634-1.633zm-1.766-1.766L14.2 10.786V7.057a5.247 5.247 0 0 1 2.274 6.003z" fill="#f1f1f1"></path>
</svg>
`]);return wo=function(){return P},P}function Uu(){var P=jt()([`
<svg xmlns="http://www.w3.org/2000/svg" style="display:`,`" width="20px" height="20px" viewBox="0 0 24 24" style="margin-left: -5px;">
<path d="M5.2 7.68l6.175-5.293a.5.5 0 0 1 .825.38v17.825a.5.5 0 0 1-.825.38L5.2 15.679H3a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h2.2zm9 13.35v-2.375l.007-.003C16.852 17.493 19 14.897 19 11.479s-2.148-6.014-4.793-7.173a4.11 4.11 0 0 0-.007-.003V2c.027.006.054.012.082.02.852.221 1.274.453 1.436.535A10 10 0 0 1 21.2 11.48c0 4.106-2.474 7.633-6.013 9.174-.526.229-.583.284-.987.377zm0-13.973c1.5.925 2.5 2.582 2.5 4.473 0 1.892-1 3.55-2.5 4.473V7.057z" fill="#f1f1f1"></path>
</svg>
`]);return Uu=function(){return P},P}var Vu=Ze.create(Uu(),"audioOnHide"),ja=Ze.create(wo(),"audioOffHide"),Gu=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"template",d.createTemplate(Ts(),"dataPrecent","volumeBarRodHoverCss","audioOffClass","title","dataMute","dataVolumeSize","dataLastVolume","icon|html")),b()(v()(d),"options",{}),b()(v()(d),"data",{audioONHide:"",audioOffHide:"",audioOffClass:"",dataVolumeSize:"",dataPrecent:"",dataLastVolume:"",dataMute:"",volumeBarRodHoverCss:"",icon:Vu,title:"turn off"}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,P),u()(S,[{key:"watch",value:function(){this.data.dataPrecent=Math.floor(100*this.data.dataVolumeSize),this.data.audioOffClass!==""?(this.data.dataMute="true",this.data.audioOffHide="inline-block",this.data.audioOnHide="none",this.data.icon=ja,this.data.title="turn on"):(this.data.dataMute="",this.data.audioOffHide="none",this.data.audioOnHide="inline-block",this.data.icon=Vu,this.data.title="turn off")}},{key:"initProps",value:function(){var d=this.element,y=this.options.cssName;this.INIT_VOLUME_SIZE=this.options.player.defaultVolumeSize===void 0?.5:this.options.player.defaultVolumeSize,this.$volumeBarHandle=d.querySelector("."+y.volumeBarHandle),this.$volumeBarRod=d.querySelector("."+y.volumeBarRod),this.$volumeBarAudio=d.querySelector("."+y.volumeBarAudio),this.$volumeBarSize=d.querySelector("."+y.volumeBarSize),this.$volumeBarColumn=d.querySelector("."+y.volumeBarColumn),this.volumeBarColumnHeight=this.$volumeBarColumn.offsetHeight,this.volumeBarColumnTop=this.$volumeBarColumn.offsetTop,this.volumeBarRodHeight=this.$volumeBarRod.offsetHeight,this.volumeBarRodHeightHalf=this.volumeBarRodHeight/2,this.volumeBarColumnRealTop=this.volumeBarColumnTop+this.volumeBarRodHeightHalf,this.volumeBarColumnMaxHeight=this.volumeBarColumnHeight-this.volumeBarRodHeight}},{key:"bindEvent",value:function(){var d,y=this,C=this.options.$controlBarContainer,R=this.options.cssName;or(C).on("mouseover","."+R.volumeBar,function(){clearTimeout(d),y.showVolumeBarHandle()}),or(C).on("mousewheel","."+R.volumeBarHandle,function(j){var q=j.wheelDelta/500;q=y.data.dataVolumeSize+q,y.setVolumeSize(q),j.preventDefault(),j.stopPropagation()}),or(C).on("click",["."+R.volumeBarColumn,"."+R.volumeBarSize],function(j){var q=0;return j.target===y.$volumeBarColumn?q=(y.$volumeBarColumn.offsetHeight-j.offsetY)/j.target.offsetHeight:j.target===y.$volumeBarSize&&(q=y.$volumeBarColumn.offsetHeight-j.target.offsetHeight+j.offsetY,q=y.$volumeBarColumn.offsetHeight-q,q/=y.$volumeBarColumn.offsetHeight),y.setVolumeSize(q),!1}),or(C).on("click","."+R.volumeBarAudio,function(j){return y.$volumeBarAudio.classList.contains(R.volumeBarAudioOff)?y.setAudioOn(j.offsetY):y.setAudioOff(j.offsetY),!1}),or(C).on("mouseout","."+R.volumeBar,function(j){d=setTimeout(function(){(function(q){var te=y.element,fe={y:te.offsetTop+y.$volumeBarHandle.offsetTop,x:te.offsetLeft};return fe.width=te.offsetWidth,fe.height=y.$volumeBarHandle.offsetHeight,q.pageX>fe.x&&q.pageX<fe.x+fe.width&&q.pageY>fe.y&&q.pageY<fe.y+fe.height})(j)?clearTimeout(d):y.hideVolumeBarHandle()},he.c.hideBarBoxTime)}),this.volumeDragEvent=bo(this.$volumeBarRod,{$container:this.element,type:"vertical",scope:{top:this.volumeBarColumnTop,right:0,bottom:this.volumeBarColumnTop+this.volumeBarColumnHeight,left:0},onStart:function(){y.data.volumeBarRodHoverCss=y.options.cssName.volumeBarRodHover},onDrag:function(j,q){q-=1,y.dragHandle(q)},onRelease:function(){y.data.volumeBarRodHoverCss=""}})}},{key:"hideVolumeBarHandle",value:function(){this.$volumeBarHandle.style.visibility="hidden"}},{key:"showVolumeBarHandle",value:function(){this.$volumeBarHandle.style.visibility="visible"}},{key:"getVolume",value:function(){var d=(this.$volumeBarSize.offsetHeight-this.volumeBarRodHeight)/this.volumeBarColumnMaxHeight;return d=Math.min(d,1),(d=Math.max(d,0)).toFixed(2)}},{key:"setVolume",value:function(d){this.data.dataVolumeSize=Number(d),this.events.emit(de.PlayerOnVolume,d)}},{key:"initVolumeSize",value:function(){this.data.dataLastVolume=this.INIT_VOLUME_SIZE,this.setAudioOn()}},{key:"setAudioOn",value:function(){var d=this.data.dataLastVolume||0;this.setVolume(d);var y=parseFloat(d,10),C=Math.floor(y*this.volumeBarColumnMaxHeight),R=this.volumeBarColumnTop+(this.volumeBarColumnMaxHeight-C);this.$volumeBarSize.style.marginTop=R+"px",this.$volumeBarSize.style.height=C+this.volumeBarRodHeight+"px",this.$volumeBarRod.style.top=R+"px",this.data.audioOffClass=""}},{key:"setAudioOff",value:function(){this.setVolume(0),this.data.audioOffClass=this.options.cssName.volumeBarAudioOff;var d=this.getVolume();d>0&&(this.data.dataLastVolume=d),this.$volumeBarSize.style.height=this.volumeBarRodHeight+"px",this.$volumeBarSize.style.marginTop=this.volumeBarColumnRealTop-this.volumeBarRodHeightHalf+this.volumeBarColumnMaxHeight+"px",this.$volumeBarRod.style.top=this.volumeBarColumnRealTop+this.volumeBarColumnMaxHeight-this.volumeBarRodHeightHalf+"px"}},{key:"dragHandle",value:function(d){this.$volumeBarSize.style.marginTop=d+1+"px",this.$volumeBarSize.style.height=this.volumeBarColumnHeight-d+this.volumeBarRodHeight+"px";var y=this.getVolume();y<=0?this.setAudioOff(d):this.data.dataMute=="true"&&this.setAudioOn(d),this.setVolume(y)}},{key:"setVolumeSize",value:function(d){if((d=d.toFixed(2))>=1?d=1:d<.001&&(d=0),d!==this.data.dataVolumeSize){this.setVolume(d);var y=this.volumeBarColumnMaxHeight,C=y-d*y+this.volumeBarColumnTop;this.$volumeBarSize.style.marginTop=C+"px",this.$volumeBarSize.style.height=d*y+this.volumeBarRodHeight+"px",this.$volumeBarRod.style.top=C+"px",d<=0?this.data.audioOffClass=this.options.cssName.volumeBarAudioOff:this.data.dataMute=="true"&&(this.data.audioOffClass="")}}}]),S}(qt);function Ac(){var P=jt()([`
  <gp-wait class="goldplay-tip goldplay__waiting-bar" title="`,'" data-status="',`">
    <span class="goldplay__waiting-bar--icon">
    <svg width="60px" height="60px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="background: none;opacity:0.8">
    <circle cx="50" cy="50" fill="none" stroke-linecap="round" r="40" stroke-width="8" stroke="#f6f6f6" stroke-dasharray="62.83185307179586 62.83185307179586" transform="rotate(17.8841 50 50)">
    <animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;360 50 50" keyTimes="0;1" dur="0.7s" begin="0s" repeatCount="indefinite">
    </animateTransform>
    </circle>
    </svg>
  </span>
  <gp-speed class="goldplay__waiting-bar--speed">`,`</gp-speed>
  </gp-wait>
  `]);return Ac=function(){return P},P}var Eg=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"template",d.createTemplate(Ac(),"title","status","speed")),b()(v()(d),"data",{title:"waiting",speed:"",status:"",display:"show"}),b()(v()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,P),u()(S,[{key:"initProps",value:function(){}},{key:"bindEvent",value:function(){var d=this;this.events.on(de.LoaderUpdateSpeed,function(y){d.data.display==="show"&&(d.data.speed=ta.formatBytes(y.speed)+" /s")})}},{key:"showWaiting",value:function(){var d=this.options.cssName,y=this.options.$screenContainer;y.querySelector("."+d.waitingBar)||y.prepend(this.element),this.data.display="show",this.show(),this.resetPosition()}},{key:"hideWaiting",value:function(){var d=this.options.cssName;this.options.$screenContainer.querySelector("."+d.waitingBar)&&(this.data.display="hide",this.data.speed="Loading...",this.hide())}}]),S}(qt);function Wh(){var P=jt()([`
  <gp-alert class="goldplay-tip goldplay__alter-box" title="`,'" data-display="',`">
  <em title="close" class="goldplay__alter--close">
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="background:none;opacity:0.6" xml:space="preserve" width="20px" height="20px" viewBox="0 0 496.158 496.158">
    <path style="fill:#ff3300;" d="M496.158,248.085c0-137.021-111.07-248.082-248.076-248.082C111.07,0.003,0,111.063,0,248.085
    c0,137.002,111.07,248.07,248.082,248.07C385.088,496.155,496.158,385.087,496.158,248.085z"/>
    <path style="fill:#FFFFFF;" d="M277.042,248.082l72.528-84.196c7.91-9.182,6.876-23.041-2.31-30.951
    c-9.172-7.904-23.032-6.876-30.947,2.306l-68.236,79.212l-68.229-79.212c-7.91-9.188-21.771-10.216-30.954-2.306
    c-9.186,7.91-10.214,21.77-2.304,30.951l72.522,84.196l-72.522,84.192c-7.91,9.182-6.882,23.041,2.304,30.951
    c4.143,3.569,9.241,5.318,14.316,5.318c6.161,0,12.294-2.586,16.638-7.624l68.229-79.212l68.236,79.212
    c4.338,5.041,10.47,7.624,16.637,7.624c5.069,0,10.168-1.749,14.311-5.318c9.186-7.91,10.22-21.77,2.31-30.951L277.042,248.082z"/>
    </svg>
  </em>
  <span class="goldplay__alter--warn">
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
    width="30" height="30" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
    <path style="fill:#495A79;" d="M501.461,383.799L320.501,51.401C306.7,28.6,282.7,14.8,256,14.8s-50.7,13.8-64.501,36.601
      L10.539,383.799C-3.259,407.501-3.56,435.701,9.941,459.4c13.499,23.699,37.798,37.8,65.099,37.8h361.92
      c27.301,0,51.601-14.101,65.099-37.8C515.56,435.701,515.259,407.501,501.461,383.799z"/>
    <path style="fill:#42516D;" d="M502.059,459.4c-13.499,23.699-37.798,37.8-65.099,37.8H256V14.8c26.7,0,50.7,13.801,64.501,36.601
      L501.461,383.8C515.259,407.501,515.56,435.701,502.059,459.4z"/>
    <path style="fill:#FFDE33;" d="M475.661,399.1L294.699,66.699C286.601,52.9,271.901,44.8,256,44.8s-30.601,8.101-38.699,21.899
      L36.339,399.1c-8.399,14.101-8.399,31.199-0.298,45.3c8.099,14.399,22.798,22.8,39,22.8h361.92c16.201,0,30.901-8.401,39-22.8
      C484.06,430.299,484.06,413.201,475.661,399.1z"/>
    <path style="fill:#FFBC33;" d="M475.96,444.4c-8.099,14.399-22.798,22.8-39,22.8H256V44.8c15.901,0,30.601,8.101,38.699,21.899
      L475.661,399.1C484.06,413.201,484.06,430.299,475.96,444.4z"/>
    <g>
      <path style="fill:#495A79;" d="M256,437.2c-16.538,0-30-13.462-30-30s13.462-30,30-30s30,13.462,30,30S272.538,437.2,256,437.2z"/>
      <path style="fill:#495A79;" d="M286,317.2c0,16.538-13.462,30-30,30s-30-13.462-30-30v-150c0-16.538,13.462-30,30-30
        s30,13.462,30,30V317.2z"/>
    </g>
    <g>
      <path style="fill:#42516D;" d="M286,407.2c0-16.538-13.462-30-30-30v60C272.538,437.2,286,423.738,286,407.2z"/>
      <path style="fill:#42516D;" d="M286,317.2v-150c0-16.538-13.462-30-30-30v210C272.538,347.2,286,333.738,286,317.2z"/>
    </g>
    </svg>
  </span>
  <gp-content class="goldplay__alter--content">`,`</gp-content>
  </gp-alert>
  `]);return Wh=function(){return P},P}var ju=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"template",d.createTemplate(Wh(),"title","display","content|trim")),b()(v()(d),"data",{title:"alert",display:"default",content:""}),b()(v()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,P),u()(S,[{key:"bindEvent",value:function(){var d=this,y=this.options.$screenContainer,C=this.options.cssName;or(y).on("click","."+C.alertClose,function(){d.hide()})}},{key:"afterWatch",value:function(){this.data.display==="show"&&this.resetPosition()}},{key:"showBox",value:function(){var d=this.options.cssName,y=this.options.$screenContainer;y.querySelector("."+d.alertBox)||y.prepend(this.element),this.data.display="show",this.show()}},{key:"hideBox",value:function(){var d=this.options.cssName;this.options.$screenContainer.querySelector("."+d.alertBox)&&(this.data.display="hide",this.hide())}},{key:"show",value:function(){this.element.style.opacity=1,this.element.style.display="inline-block",this.resetPosition()}},{key:"hide",value:function(){this.element.style.opacity=0,this.element.style.display="none"}}]),S}(qt);function kc(){var P=jt()([`
  <gp-time class="goldplay__control--timer">
  <span gid="time" class="goldplay__control--timer-play">`,`</span>
  <span gid="slash">`,`</span>
  <span gid="total-time" class="goldplay__control--timer-total">`,`</span>
  </gp-time>
  `]);return kc=function(){return P},P}var Pg=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"template",d.createTemplate(kc(),"time","slash","totalTime")),b()(v()(d),"data",{time:"00:00",totalTime:"",slash:"/"}),b()(v()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,P),u()(S,[{key:"setTotalTime",value:function(d){var y=d.sourceData;this.data.totalTime=mn.formatHHMMSS(y.duration)}},{key:"bindEvent",value:function(){var d=this;this.events.on(de.LoaderPlayListLoaded,function(y){d.setTotalTime(y.loadData)})}},{key:"updateTime",value:function(d){this.element.querySelector('[gid="time"]').innerHTML=d}},{key:"updateTotalTime",value:function(d){this.element.querySelector('[gid="total-time"]').innerHTML=d}}]),S}(qt);function Ec(){var P=jt()([`
  <gp-speed class="goldplay__speed-bar" title="`,`">
  <gp-overbox class="goldplay-hoverbox goldplay__speed-bar--box">
  `,`
  </gp-overbox>
  <gp-button class="goldplay__speed-bar--link">
  `,`
  </gp-button>
  </gp-speed>
  `]);return Ec=function(){return P},P}var Dg=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"template",d.createTemplate(Ec(),"title","speedListHTML|html","currentSpeedName")),b()(v()(d),"data",{title:"speed",currentSpeed:1,speedList:null,currentSpeedName:"",speedListHTML:""}),b()(v()(d),"options",{}),d.options=y,d.speedList=d.options.player.options.speedList||he.c.speedList,d.updateSpeedListHTML(),Object.assign(d.data,y.data),d.init(),d.initProps(),d.showHideBar(),d}return m()(S,P),u()(S,[{key:"initProps",value:function(){var d=this.options.cssName;this.$barBox=this.element.querySelector("."+d.speedBarBox)}},{key:"bindEvent",value:function(){var d=this,y=this.options.cssName,C=this.options.$controlBarContainer;or(C).on("mouseover","."+y.speedBar,function(){clearTimeout(R),d.showBarBoxHandle()});var R;or(C).on("mouseout","."+y.speedBar,function(j){R=setTimeout(function(){(function(q){var te=d.element,fe={y:d.$barBox.offsetTop,x:te.offsetLeft};return fe.width=te.offsetWidth,fe.height=d.$barBox.offsetHeight,q.pageX>fe.x&&q.pageX<fe.x+fe.width&&q.pageY>fe.y&&q.pageY<fe.y+fe.height})(j)?clearTimeout(R):d.hideBarBoxHandle()},he.c.hideBarBoxTime)}),or(this.element).on("click","[gp-node-li]",function(j){var q=j.target,te=parseFloat(q.getAttribute("value"),10);if(te!==d.data.currentSpeed){d.data.currentSpeed=te;var fe=d.speedList.filter(function(xe){return xe.value===te});d.events.emit(de.PlayerSpeedTo,fe[0]),d.updateSpeedListHTML()}})}},{key:"showHideBar",value:function(){this.speedList.length<=0&&this.hide()}},{key:"resetBoxPosition",value:function(){var d=33+28*this.speedList.length,y=(this.$barBox.offsetWidth-this.element.offsetWidth)/2;this.$barBox.style.marginTop=-d+"px",this.$barBox.style.marginLeft=-y+"px"}},{key:"hideBarBoxHandle",value:function(){this.$barBox.style.visibility="hidden"}},{key:"showBarBoxHandle",value:function(){this.$barBox.style.visibility="visible"}},{key:"updateSpeedListHTML",value:function(d){var y=this.speedList;if(!(y.length<=0)){d===void 0&&(d=this.data.currentSpeed);var C=y.slice(0,y.length).reverse(),R=!0,j=!1,q=void 0;try{for(var te,fe=C[Symbol.iterator]();!(R=(te=fe.next()).done);R=!0){var xe=te.value;xe.value===d?xe.selected=!0:delete xe.selected}}catch(Re){j=!0,q=Re}finally{try{R||fe.return==null||fe.return()}finally{if(j)throw q}}return this.data.speedListHTML=function(Re){if(Re){var ut=["<ul>"],St=!0,tr=!1,rr=void 0;try{for(var mr,Yr=Re[Symbol.iterator]();!(St=(mr=Yr.next()).done);St=!0){var Et=mr.value,Cs="",Co="";Et.selected&&(Cs="gp-selected",Co=" selected=".concat(Et.selected)),ut.push(`
    <li class="`.concat(Cs,'" gp-node-li value="').concat(Et.value,'" ').concat(Co,">").concat(Et.name,`</li>
    `))}}catch(Vn){tr=!0,rr=Vn}finally{try{St||Yr.return==null||Yr.return()}finally{if(tr)throw rr}}return ut.push("</ul>"),ut.join("")}}(C)}}}]),S}(qt);function Yh(){var P=jt()([`
  <gp-subtitle class="goldplay__subtitle">
  </gp-subtitle>
  `]);return Yh=function(){return P},P}var Pc=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"template",d.createTemplate(Yh())),b()(v()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,P),S}(qt);function Dc(){var P=jt()([`
  <gp-rate class="goldplay__rate-bar" title="`,`">
  <gp-overbox class="goldplay-hoverbox goldplay__rate-bar--box">
  `,`
  </gp-overbox>
  <gp-button class="goldplay__rate-bar--link">
  `,`
  </gp-button>
  </gp-rate>
  `]);return Dc=function(){return P},P}var Mg=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"rateList",[]),b()(v()(d),"defaultRate",{value:"600",name:""}),b()(v()(d),"template",d.createTemplate(Dc(),"title","rateListHTML|html","currentRateName")),b()(v()(d),"data",{title:"stream rate",currentRate:"600",currentRateName:"",rateListHTML:""}),b()(v()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.rateList=d.options.player.options.rateList||d.rateList,d.defaultRate=d.options.player.options.defaultRate||d.defaultRate,d.setDefaultRate(),d.updateRateListHTML(),d.init(),d.initProps(),d.showHideBar(),d}return m()(S,P),u()(S,[{key:"initProps",value:function(){var d=this.options.cssName;this.$barBox=this.element.querySelector("."+d.rateBarBox)}},{key:"setDefaultRate",value:function(){var d=this;if(!(this.rateList.length<=0)){var y=this.rateList.find(function(C){return String(C.value)===String(d.defaultRate.value)});y?(this.data.currentRateName=y.name,this.data.currentRate=y.value):(this.data.currentRateName=this.rateList[0].name,this.data.currentRate=this.rateList[0].value)}}},{key:"bindEvent",value:function(){var d=this,y=this.options.cssName,C=this.options.$controlBarContainer;or(C).on("mouseover","."+y.rateBar,function(){clearTimeout(R),d.showBarBoxHandle()});var R;or(C).on("mouseout","."+y.rateBar,function(j){R=setTimeout(function(){(function(q){var te=d.element,fe={y:d.$barBox.offsetTop,x:te.offsetLeft};return fe.width=te.offsetWidth,fe.height=d.$barBox.offsetHeight,q.pageX>fe.x&&q.pageX<fe.x+fe.width&&q.pageY>fe.y&&q.pageY<fe.y+fe.height})(j)?clearTimeout(R):d.hideBarBoxHandle()},he.c.hideBarBoxTime)}),or(this.element).on("click","[gp-node-li]",function(j){var q=j.target.getAttribute("value");if(q!==d.data.currentRate){d.data.currentRate=q;var te=d.rateList.filter(function(fe){return fe.value===q});d.events.emit(de.PlayerChangeRate,te[0]),d.data.currentRateName=te[0].name,d.updateRateListHTML(),d.hideBarBoxHandle()}})}},{key:"showHideBar",value:function(){var d=this.rateList;d&&d.length<=0&&this.hide()}},{key:"resetBoxPosition",value:function(){var d=33+28*this.rateList.length,y=(this.$barBox.offsetWidth-this.element.offsetWidth)/2;this.$barBox.style.marginTop=-d+"px",this.$barBox.style.marginLeft=-y+"px"}},{key:"hideBarBoxHandle",value:function(){this.$barBox.style.visibility="hidden"}},{key:"showBarBoxHandle",value:function(){this.$barBox.style.visibility="visible"}},{key:"updateRateListHTML",value:function(d){var y=this.rateList;if(!(y.length<=0)){d===void 0&&(d=this.data.currentRate);var C=y.slice(0,y.length).reverse(),R=!0,j=!1,q=void 0;try{for(var te,fe=C[Symbol.iterator]();!(R=(te=fe.next()).done);R=!0){var xe=te.value;xe.value===d?xe.selected=!0:delete xe.selected}}catch(Re){j=!0,q=Re}finally{try{R||fe.return==null||fe.return()}finally{if(j)throw q}}return this.data.rateListHTML=function(Re){if(Re){var ut=["<ul>"],St=!0,tr=!1,rr=void 0;try{for(var mr,Yr=Re[Symbol.iterator]();!(St=(mr=Yr.next()).done);St=!0){var Et=mr.value,Cs="",Co="";Et.selected&&(Cs="gp-selected",Co=" selected=".concat(Et.selected)),ut.push(`
    <li class="`.concat(Cs,'" gp-node-li value="').concat(Et.value,'" ').concat(Co,">").concat(Et.name,`</li>
    `))}}catch(Vn){tr=!0,rr=Vn}finally{try{St||Yr.return==null||Yr.return()}finally{if(tr)throw rr}}return ut.push("</ul>"),ut.join("")}}(C)}}}]),S}(qt);function Xh(){var P=jt()([`
  <gp-setting class="goldplay__setting-bar">
  </gp-setting>
  `]);return Xh=function(){return P},P}var Lg=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"template",d.createTemplate(Xh())),b()(v()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,P),S}(qt);function qh(){var P=jt()([`
  <gp-button class="goldplay__control--fullpage" title="`,'" data-status="',`">
  `,`
  </gp-button>
  `]);return qh=function(){return P},P}function Mc(){var P=jt()([`
<svg xmlns="http://www.w3.org/2000/svg" style="display:`,`" width="20" height="20" viewBox="0 0 24 24">
<path d="M3.5 6h17a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5h-17a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5zM6 9v6h12V9H6z" fill="#f1f1f1"></path>
</svg>
`]);return Mc=function(){return P},P}function Kh(){var P=jt()([`
<svg xmlns="http://www.w3.org/2000/svg" style="display:`,`" width="20" height="20" viewBox="0 0 24 24">
  <path d="M2.5 4h19a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-19a.5.5 0 0 1-.5-.5v-15a.5.5 0 0 1 .5-.5zM5 7v10h14V7H5z" fill="#f1f1f1"></path>
</svg>
`]);return Kh=function(){return P},P}var Zh=Ze.create(Kh(),"fullpageHide"),Lc=Ze.create(Mc(),"fullpageExitHide"),Rg=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"containerOriginStyle",""),b()(v()(d),"template",d.createTemplate(qh(),"title","status","icon|html")),b()(v()(d),"data",{fullpageHide:"",fullpageExitHide:"none",status:"",icon:Zh,title:"fullpage"}),b()(v()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,P),u()(S,[{key:"watch",value:function(){this.data.status==="fullpage"?(this.data.fullpageHide="none",this.data.fullpageExitHide="inline-block",this.data.title="exit fullspage",this.data.icon=Lc):(this.data.fullpageHide="inline-block",this.data.fullpageExitHide="none",this.data.title="fullpage",this.data.icon=Zh)}},{key:"initProps",value:function(){var d=this.options;this.$container=this.options.$container,this.$screenContainer=d.$screenContainer,this.$controlBarContainer=this.getComponent("controlBarContainer").element,this.originWidth=d.$container.offsetWidth,this.originHeight=d.$container.offsetHeight,this.containerOriginStyle=d.$container.getAttribute("style"),this.screenContainerOrginStyle=this.$screenContainer.getAttribute("style"),this.controlContainerOrginWidth=this.$controlBarContainer.style.width}},{key:"bindEvent",value:function(){var d=this,y=this.options.cssName,C=document,R=window;or(this.$controlBarContainer).on("click","."+y.fullPage,function(){var j=d.data.status;d.getComponent("fullScreen").data.status==="fullscreen"&&Ie.exitFullscreen(),j==="fullpage"?d.exitFullPage():d.fullPage()}),this.eventsList.esckeyup=this.addEventListener(C,"keyup",function(j){j.keyCode===27&&d.data.status==="fullpage"&&d.exitFullPage()}),this.eventsList.windowresize=this.addEventListener(R,"resize",function(){if(d.data.status==="fullpage"){var j=Ie.getInnerWidthHeight();d.resizeTo(j.width,j.height),d.resetPosition()}})}},{key:"fullPage",value:function(){this.data.status="fullpage";var d=this.options,y=this.options.cssName,C=Ie.getInnerWidthHeight();this.saveOriginPosition(),d.$container.classList.add(y.containerFullPage),this.resizeTo(C.width,C.height),this.resetPosition(),scrollTo(0,0)}},{key:"saveOriginPosition",value:function(){var d=this.getComponent("progressBar");this.posterOriginStyle=this.getComponent("poster").element.getAttribute("style"),this.originScroll={scrollX,scrollY},this.progressBarOriginLeft=d.progressBarLeft,this.progressBarOriginWidth=d.progressBarWidth,this.progressBarPlayWidthRate=d.getProgressPlayLeftWidth().offsetWidth/this.progressBarOriginWidth,this.progressBarLoadWidthRate=d.getProgressLoadLeftWidth().offsetWidth/this.progressBarOriginWidth,this.progressBarLoadLeftRate=(d.getProgressLoadLeftWidth().offsetLeft-this.progressBarOriginLeft)/this.progressBarOriginWidth}},{key:"setProgressBarPosition",value:function(){var d=this.getComponent("progressBar"),y=d.progressBarWidth,C=d.progressBarLeft,R=y*this.progressBarPlayWidthRate,j=y*this.progressBarLoadWidthRate,q=y*this.progressBarLoadLeftRate;d.setProgressPosition(R),d.setProgressLoadLeftWidth(q+C,j),this.getComponent("progressBar").clearDragDotTop()}},{key:"resizeTo",value:function(d,y){var C=this.options,R=C.player,j=R.controlBarAutoHide?y:y-R.controlBarHeight;R.$screenContainer.style.width=d+"px",R.$screenContainer.style.height=j+"px",C.$container.style.width=d+"px",C.$container.style.height=y+"px"}},{key:"resetPosition",value:function(){var d=this.options;this.setProgressBarPosition(),d.player.resizeScreen(),this.getComponent("bigPlayButton").resetPosition(),this.getComponent("poster").resetPosition(),this.getComponent("waitingBar").resetPosition(),this.getComponent("controlBarContainer").resetPosition()}},{key:"exitFullPage",value:function(){this.data.status="exitfullpage";var d=this.options.cssName;this.saveOriginPosition(),this.$container.classList.remove(d.containerFullPage),this.resetScreen()}},{key:"resetScreen",value:function(){this.$container.setAttribute("style",this.containerOriginStyle),this.$screenContainer.setAttribute("style",this.screenContainerOrginStyle),this.$controlBarContainer.style.width=this.controlContainerOrginWidth,this.getComponent("poster").element.setAttribute("style",this.posterOriginStyle),scrollTo(this.originScroll.scrollX,this.originScroll.scrollY),this.resetPosition()}}]),S}(qt);function Qh(){var P=jt()([`
  <gp-button class="goldplay__control--fullscreen" title="`,'" data-status="',`">
  `,`
  </gp-button>
  `]);return Qh=function(){return P},P}var Jh=`
<svg xmlns="http://www.w3.org/2000/svg" gid="fullscreen" style="display:\${'fullscreenHide'}" width="20" height="20" viewBox="0 0 24 24">
<path d="M15 5.057V2h6.5a.5.5 0 0 1 .5.5V9h-2.943V5.057H15zm-6 0H5.057V9H2V2.5a.5.5 0 0 1 .5-.5H9v3.057zM15 22v-2.943h4.057V15H22v6.5a.5.5 0 0 1-.5.5H15zm-6 0H2.5a.5.5 0 0 1-.5-.5V15h3.057v4.057H9V22z" fill="#f1f1f1"></path>
</svg>
`,Wu=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"template",d.createTemplate(Qh(),"title","status","icon|html")),b()(v()(d),"data",{fullscreenHide:"inline-block",fullscreenExitHide:"none",status:"",icon:Jh,title:"fullscreen"}),b()(v()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,P),u()(S,[{key:"watch",value:function(){this.data.status==="fullscreen"?(this.data.fullscreenHide="none",this.data.fullscreenExitHide="inline-block",this.data.title="exit fullscreen",this.data.icon=`
<svg xmlns="http://www.w3.org/2000/svg" gid="fullscreenExit" style="display:\${'fullscreenExitHide'}"  width="20" height="20" viewBox="0 0 24 24">
<path d="M22 5.943V9h-6.5a.5.5 0 0 1-.5-.5V2h2.943v3.943H22zm-20 0h3.943V2H9v6.5a.5.5 0 0 1-.5.5H2V5.943zM22 15v2.943h-4.057V22H15v-6.5a.5.5 0 0 1 .5-.5H22zM2 15h6.5a.5.5 0 0 1 .5.5V22H5.943v-4.057H2V15z" fill="#f1f1f1"></path>
</svg>
`):(this.data.fullscreenHide="inline-block",this.data.fullscreenExitHide="none",this.data.title="fullscreen",this.data.icon=Jh)}},{key:"initProps",value:function(){this.getComponent("fullPage").initProps.call(this)}},{key:"bindEvent",value:function(){var d=this,y=this.options.$container,C=this.options.cssName,R=document,j=window;this.eventsList.fullscreenchange=this.addEventListener(R,"fullscreenchange",function(){if(document.fullscreenElement||document.webkitFullscreenElement)d.fullScreen();else{var q=d.getComponent("fullPage");q.data.status==="fullpage"?(y.classList.remove(C.containerFullScreen),d.data.status="exitfullscreen",q.fullPage()):d.exitFullScreen()}}),this.eventsList.windowresize=this.addEventListener(j,"resize",function(){document.fullscreenElement&&(d.resizeTo(screen.width,screen.height-(window.outerHeight-window.innerHeight)),d.resetPosition())}),or(this.$controlBarContainer).on("click","."+C.fullScreen,function(){var q=d.data.status;d.saveOriginPosition(),q==="fullscreen"?Ie.exitFullscreen():Ie.Fullscreen()})}},{key:"fullScreen",value:function(){this.data.status="fullscreen";var d=this.options,y=this.options.cssName,C={width:screen.width,height:screen.height-(outerHeight-innerHeight)};Ie.isSafari()&&(C.height=C.height+38),d.$container.classList.add(y.containerFullScreen),this.resizeTo(C.width,C.height),this.resetPosition(),scrollTo(0,0)}},{key:"saveOriginPosition",value:function(){this.getComponent("fullPage").saveOriginPosition.call(this)}},{key:"resizeTo",value:function(d,y){this.getComponent("fullPage").resizeTo.call(this,d,y)}},{key:"resetPosition",value:function(){this.getComponent("fullPage").resetPosition.call(this)}},{key:"setProgressBarPosition",value:function(){this.getComponent("fullPage").setProgressBarPosition.call(this)}},{key:"exitFullScreen",value:function(){this.data.status="exitfullscreen";var d=this.options.cssName;this.saveOriginPosition(),this.options.$container.classList.remove(d.containerFullScreen),this.resetScreen(),this.saveOriginPosition()}},{key:"resetScreen",value:function(){this.getComponent("fullPage").resetScreen.call(this)}}]),S}(qt);function ed(){var P=jt()([`
  <gp-button class="goldplay__screen--bigplay" title="`,'" data-status="',`">
  `,`
  </gp-button>
  `]);return ed=function(){return P},P}function td(){var P=jt()([`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
width="`,'" height="','" viewBox="0 0 438.533 438.533" style="',`" xml:space="preserve">
<g>
<path d="M409.133,109.203c-19.608-33.592-46.205-60.189-79.798-79.796C295.736,9.801,259.058,0,219.273,0
 c-39.781,0-76.466,9.801-110.063,29.407c-33.595,19.604-60.192,46.201-79.8,79.796C9.801,142.8,0,179.489,0,219.267
 s9.804,76.463,29.407,110.062c19.607,33.585,46.204,60.189,79.799,79.798c33.597,19.605,70.283,29.407,110.063,29.407
 s76.47-9.802,110.065-29.407c33.593-19.602,60.189-46.206,79.795-79.798c19.603-33.599,29.403-70.287,29.403-110.062
 C438.533,179.489,428.732,142.795,409.133,109.203z M328.904,234.966L173.588,326.33c-2.856,1.711-5.902,2.567-9.136,2.567
 c-3.045,0-6.09-0.764-9.135-2.286c-6.09-3.614-9.136-8.939-9.136-15.985V127.907c0-7.041,3.046-12.371,9.136-15.987
 c6.28-3.427,12.369-3.333,18.271,0.284l155.316,91.36c6.088,3.424,9.134,8.663,9.134,15.703
 C338.038,226.308,334.992,231.537,328.904,234.966z" fill="`,`">
</g>
</svg>
`]);return td=function(){return P},P}var Og=Ze.create(td(),"width","height","iconStyle","fillColor"),rd=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"template",d.createTemplate(ed(),"title","status","icon|html")),b()(v()(d),"data",{titie:"click to play",iconStyle:"opacity:0.5",display:"hide",status:"",width:100,height:100,fillColor:"#999",icon:Og}),b()(v()(d),"options",{}),d.options=y,Object.assign(d.data,y.data),d.init(),d}return m()(S,P),u()(S,[{key:"watch",value:function(){if(this.data.display==="show"){var d=(this.element.parentNode.offsetHeight-this.data.height)/2;this.data.iconStyle="opacity:0.7;margin-top:".concat(d,"px")}}},{key:"resetPosition",value:function(){if(this.data.display==="show"){var d=this.element.parentNode,y=d.offsetWidth,C=d.offsetHeight;this.options.player.controlBarAutoHide===!0&&(C-=this.options.player.controlBarHeight);var R=d.offsetTop,j=d.offsetLeft;this.element.style.width=y+"px",this.element.style.height=C+"px",this.element.style.top=R+"px",this.element.style.left=j+"px"}}},{key:"bindEvent",value:function(){var d=this,y=this.options.$screenContainer,C=this.options.cssName;or(y).on("click","."+C.bigPlayButton,function(){d.events.emit(de.PlayerOnPlay,d),d.events.emit(de.ControlBarPlay,d),d.hide()}),or(y).on("mouseover","."+C.bigPlayButton,function(){d.data.fillColor=d.options.bigPlayButtonColor||"#fff"}),or(y).on("mouseout","."+C.bigPlayButton,function(R){var j=d.element,q={y:j.offsetTop,x:j.offsetLeft};q.width=j.offsetWidth,q.height=j.offsetHeight,R.pageX>q.x&&R.pageX<q.x+q.width&&R.pageY>q.y&&R.pageY<q.y+q.height||(d.data.fillColor="#999")})}},{key:"show",value:function(){var d=this;this.data.display!=="show"&&(this.data.display="show",this.element.style.opacity="1",setTimeout(function(){d.element.style.display="inline-block"},1))}},{key:"hide",value:function(){this.data.display!=="hide"&&(this.element.style.opacity="0",this.data.display="hide",this.element.style.display="none")}}]),S}(qt),Rc=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),(d=c()(this,f()(S).call(this,y))).options=Object.assign(d.options,y),d.componentsController=d.options.componentsController,d.init(),d}return m()(S,P),u()(S,[{key:"render",value:function(){var d=this,y=W.createEl("gp-button-block");y.classList.add("goldplay__control--button-block"),S.componentList.forEach(function(C){var R=d.componentsController.getComponent(C);y.appendChild(R.element)}),this.element=y}}],[{key:"addCustomControl",value:function(d){S.componentList.push(d)}}]),S}(qt);b()(Rc,"componentList",["playButton","pauseButton","replayButton"]);var x=Rc,E=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),(d=c()(this,f()(S).call(this,y))).options=Object.assign(d.options,y),d.componentsController=d.options.componentsController,d.init(),d}return m()(S,P),u()(S,[{key:"render",value:function(){var d=this,y=W.createEl("gp-control-sidebar");y.classList.add("goldplay__control--sidebar"),S.componentList.forEach(function(C){var R=d.componentsController.getComponent(C);y.appendChild(R.element)}),this.element=y}}],[{key:"addCustomControl",value:function(d,y){(y<0||y>S.componentList.length)&&(y=S.componentList.length),S.componentList.splice(y,0,d)}}]),S}(qt);b()(E,"componentList",["speedBar","rateBar","volumeBar","fullPage","fullScreen"]);var M=E,V=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),(d=c()(this,f()(S).call(this,y))).options=Object.assign(d.options,y),d.componentsController=d.options.componentsController,d.init(),d}return m()(S,P),u()(S,[{key:"render",value:function(){var d=this,y=W.createEl("gp-control-nearside");y.classList.add("goldplay__control--button-block"),S.componentList.forEach(function(C){var R=d.componentsController.getComponent(C);y.appendChild(R.element)}),this.element=y}}],[{key:"addCustomControl",value:function(d,y){(y<0||y>S.componentList.length)&&(y=S.componentList.length),S.componentList.splice(y,0,d)}}]),S}(qt);b()(V,"componentList",["playControl","timer"]);var ee=V,ne={BaseComponent:qt,controlBarContainer:$u,bigPlayButton:rd,poster:Nu,progressBar:na,playButton:Cc,pauseButton:ws,replayButton:ia,volumeBar:Gu,waitingBar:Eg,alertBox:ju,timer:Pg,speedBar:Dg,subtitle:Pc,rateBar:Mg,settingBar:Lg,fullPage:Rg,fullScreen:Wu,playControl:x,sideControlBar:M,nearControlBar:ee},ie=le,ue=function(P){return P.substr(0,1).toUpperCase()+P.substr(1)},ye=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"allComponents",{}),b()(v()(d),"controlBarController",null),b()(v()(d),"options",{cssName:ie}),d.options=Object.assign(d.options,y),d.options.componentsController=v()(d),d.initComponents(),d.$container=d.options.$container,d.$screenContainer=d.options.$screenContainer,d.$canvas=d.options.$canvas,d.$audioContainer=d.options.$audioContainer,d.$audio=d.options.$audio,d.options.$controlBarContainer=d.controlBarContainer.element,d.bindEvent(),d}return m()(S,P),u()(S,[{key:"run",value:function(){for(var d in this.controlBarController.run(),ne)this[d]&&typeof this[d].registerMethod=="function"&&this[d].registerMethod()}},{key:"initComponents",value:function(){for(var d in ne){var y=ne[d];this.allComponents[d]||this.createComponent(y,d)}}},{key:"bindEvent",value:function(){var d=this;this.events.on(de.PlayerLoadedMetaData,function(){d.poster.hide()}),this.events.on(de.AudioPlayerPlayFail,function(){d.drawBigPlayButton(),d.getComponent("poster").hide(),d.events.emit(de.PlayerOnPause,d),d.events.emit(de.ControlBarPause,d)}),this.bindAlertBoxEvent(),this.bindWaitingBarEvent()}},{key:"bindWaitingBarEvent",value:function(){this.waitingBar.initProps(),this.waitingBar.bindEvent()}},{key:"drawBigPlayButton",value:function(){this.$screenContainer.prepend(this.bigPlayButton.element),this.bigPlayButton.show(),this.bigPlayButton.bindEvent(),this.bigPlayButton.resetPosition()}},{key:"setControlBarController",value:function(d){this.controlBarController=d}},{key:"getControlBarController",value:function(){return this.controlBarController||this.options.player.controlBarContainer}},{key:"bindAlertBoxEvent",value:function(){this.alertBox.initProps(),this.alertBox.bindEvent()}},{key:"drawPoster",value:function(){this.$screenContainer.prepend(this.poster.element),this.poster.data.display="show",this.poster.bindEvent(),this.poster.resetPosition()}},{key:"createComponent",value:function(d,y){var C=ue(y);this["set"+C](new d(this.options)),this[y]=this["get"+C](),this.allComponents[y]||(this.allComponents[y]=this[y])}},{key:"getComponent",value:function(d){return this.allComponents[d]||ne[d]&&this.createComponent(ne[d],d),this.allComponents[d]}},{key:"resetAllComponents",value:function(){var d=this,y=Object.getOwnPropertyNames(this),C={};y.forEach(function(R){ne[R]&&(C[R]=d[R])}),this.allComponents=C}},{key:"getAllComponents",value:function(){return this.allComponents}}]),S}(Y);for(var De in ye.addComponet=function(P){var S=ue(P);ye.prototype["set"+S]=function(d){this[P]=d},ye.prototype["get"+S]=function(){return this[P]}},ne)ye.addComponet(De);var ze=ye,it=le,et=function(P){function S(){var d,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o()(this,S),d=c()(this,f()(S).call(this,y)),b()(v()(d),"player",null),b()(v()(d),"loadData",null),b()(v()(d),"options",{cssName:it}),d.options=Object.assign(d.options,y),d.player=d.options.player,d.loadData=d.player.loadData,d.componentsController=d.player.componentsController,d.$screenContainer=d.player.$screenContainer,d.initComponents(),d}return m()(S,P),u()(S,[{key:"initComponents",value:function(){var d=this.componentsController;Object.assign(this,d.getAllComponents()),this.container=this.controlBarContainer}},{key:"run",value:function(){this.timer.setTotalTime(this.loadData),this.drawLayout(),this.bindEvent(),this.player.autoPlay?this.events.emit(de.ControlBarPlay):this.events.emit(de.ControlBarPause)}},{key:"bindEvent",value:function(){this.bindContainerEvent(),this.bindTimerEvent(),this.bindPlayEvent(),this.bindProgressEvent(),this.bindSpeedEvent(),this.bindRateEvent(),this.bindVolumeEvent(),this.bindFullPage(),this.bindFullScreen()}},{key:"bindContainerEvent",value:function(){this.container.initProps(),this.container.bindEvent()}},{key:"bindTimerEvent",value:function(){this.timer.initProps(),this.timer.bindEvent()}},{key:"bindSpeedEvent",value:function(){this.speedBar.bindEvent(),this.speedBar.resetBoxPosition()}},{key:"bindRateEvent",value:function(){this.rateBar.bindEvent(),this.rateBar.resetBoxPosition()}},{key:"bindFullPage",value:function(){this.fullPage.initProps(),this.fullPage.bindEvent()}},{key:"bindFullScreen",value:function(){this.fullScreen.initProps(),this.fullScreen.bindEvent()}},{key:"bindPlayEvent",value:function(){var d=this;this.events.on(de.ControlBarPlay,function(){d.pauseButton.data.status!=="pause"&&(d.pauseButton.data.status="pause"),d.replayButton.hide(),d.playButton.hide(),d.pauseButton.show(),d.bigPlayButton.hide()}),this.events.on(de.ControlBarPause,function(){d.player.status!=="pause"&&(d.pauseButton.data.status="pause"),d.playButton.show(),d.pauseButton.hide()}),this.events.on(de.PlayerEnd,function(){d.replayButton.show(),d.pauseButton.hide(),d.playButton.hide()}),[de.PlayerWait,de.PlayerSeeking,de.PlayerReset,de.PlayerChangeRate,de.PlayerChangeSrc].forEach(function(y){d.events.on(y,function(){d.waitingBar.showWaiting()})}),this.events.on(de.PlayerSeekEnd,function(){d.waitingBar.hideWaiting()}),this.events.on(de.PlayerPlay,function(){d.waitingBar.hideWaiting(),d.events.emit(de.ControlBarPlay,d)}),this.events.on(de.PlayerPause,function(){d.events.emit(de.ControlBarPause,d)}),this.events.on(de.PlayerPlaying,function(){d.waitingBar.hideWaiting()}),this.events.on(de.PlayerOnSeek,function(y){y<1e3*d.loadData.sourceData.duration&&d.events.emit(de.ControlBarPauseLoading)}),this.events.on(de.ControlBarPauseLoading,function(){d.pauseButton.data.status!=="pauseloading"&&(d.pauseButton.data.status="pauseloading"),d.replayButton.hide(),d.playButton.hide(),d.pauseButton.show()}),or(this.options.$container).on("click","."+it.playButton,function(){d.player.status!=="play"&&d.events.emit(de.PlayerOnPlay,d)}),or(this.options.$container).on("click","."+it.pauseButton,function(){d.player.status!=="pause"&&d.events.emit(de.PlayerOnPause,d)}),or(this.options.$container).on("click","."+it.replayButton,function(){d.events.emit(de.PlayerOnSeek,d.player.startTime)})}},{key:"bindProgressEvent",value:function(){this.progressBar.initProps(),this.progressBar.bindEvent()}},{key:"bindVolumeEvent",value:function(){this.volumeBar.initProps(),this.volumeBar.initVolumeSize(),this.volumeBar.bindEvent()}},{key:"drawLayout",value:function(){var d=this.options.$container,y=this.container.element;d.append(y)}},{key:"destroy",value:function(){this.removeEventListenerGlobal(),this.container.destroy()}},{key:"removeEventListenerGlobal",value:function(){this.progressBar.progressDragEvent&&this.progressBar.progressDragEvent.removeEventListenerAll(),this.volumeBar.volumeDragEvent&&this.volumeBar.volumeDragEvent.removeEventListenerAll(),this.fullPage.removeEventListenerAll(),this.fullScreen.removeEventListenerAll()}}]),S}(Y),We=i(44),st=i.n(We),bt=function(P){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(v()(y),"isLast",!1),y.type=d.type,y.libPath=d.libPath,y.player=d.player,y.init(),y}return m()(S,P),u()(S,[{key:"init",value:function(){this.type=="ts"&&this.initNornalWorker(),this.bindEvent(),this.loadjs()}},{key:"initNornalWorker",value:function(){this.processor=this.initWorker()}},{key:"initWorker",value:function(){var d=this,y=st()(128);return y.onmessage=function(C){var R=C.data,j=R.type,q=R.data;switch(j){case"dataProcessorReady":d.onDataProcessorReady();break;case"decoded":d.onDecoded(q);break;case"demuxedAAC":d.onDemuxedAAC(q);break;case"partEnd":d.onPartEnd(q);break;case"resetEnd":d.onResetEnd();break;case"maxPTS":d.onMaxPTS(q);break;case"flushEnd":d.onFlushEnd(q)}},y}},{key:"bindEvent",value:function(){var d=this;this.events.on(de.DemuxStartDemux,this.onStartDemux.bind(this)),this.events.on(de.DemuxLast,function(){d.isLast=!0}),this.events.on(de.DecodeFlush,function(){d.flush()})}},{key:"flush",value:function(){this.processor.postMessage({type:"flush"})}},{key:"loadjs",value:function(){this.processor.postMessage({type:"loadwasm",libPath:this.libPath})}},{key:"reset",value:function(){this.isLast=!1,this.processor.terminate(),this.initNornalWorker(),this.loadjs()}},{key:"onFlushEnd",value:function(d){this.events.emit(de.DecodeFlushEnd,d)}},{key:"onMaxPTS",value:function(d){this.events.emit(de.PlayerMaxPTS,d.maxAudioPTS,d.maxVideoPTS)}},{key:"onDemuxedAAC",value:function(d){this.events.emit(de.DemuxAAC,d)}},{key:"onDataProcessorReady",value:function(){this.player.seeking||this.player.reseting?this.events.emit(de.ProcessorResetEnd):this.events.emit(de.DataProcessorReady)}},{key:"onStartDemux",value:function(d){this.player.reseting||(this.logger.info("onStartDemux","postMessage to demux"),d&&d.arrayBuffer?this.processor.postMessage({type:"startDemux",data:d.arrayBuffer,isLast:this.isLast},[d.arrayBuffer.buffer]):this.logger.error("onStartDemux","data is null","data:",d))}},{key:"onDecoded",value:function(d){this.player.reseting||this.events.emit(de.DecodeDecoded,d)}},{key:"onPartEnd",value:function(d){this.events.emit(de.DecodeApppendEnd,d)}},{key:"onResetEnd",value:function(){this.events.emit(de.ProcessorResetEnd)}},{key:"destroy",value:function(){this.processor&&this.processor.terminate()}}]),S}(ae),ir=function(P){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(v()(y),"currentIndex",null),b()(v()(y),"retryTime",0),b()(v()(y),"dataReady",{audioReady:!1,imageReady:!1}),b()(v()(y),"hasInit",!1),b()(v()(y),"loadDataStatus","loading"),b()(v()(y),"duration",0),b()(v()(y),"tsNumber",0),y.loadData=d.loadData,y.imagePlayer=d.imagePlayer,y.audioPlayer=d.audioPlayer,y.player=d.player,y.bindEvent(),y}return m()(S,P),u()(S,[{key:"bindEvent",value:function(){var d=this;this.events.on(de.LoadDataRead,function(y){d.onRead(y)}),this.events.on(de.DemuxVideo,function(y,C){d.onVideoDemuxed(y,C)}),this.events.on(de.DemuxAAC,function(y){d.onAACDemuxed(y)}),this.events.on(de.DecodeDecoded,function(y){d.onDecoded(y)}),this.events.on(de.DecodeApppendEnd,function(y){d.onAppendEnd(y)}),this.events.on(de.ImagePlayerReady,function(){d.logger.info("bindevent","Events.ImagePlayerReady"),d.checkDataReady("imageReady")}),this.events.on(de.AudioPlayerDataReady,function(){d.logger.info("bindevent","Events.AudioPlayerDataReady"),d.player.receiveAACTime=null,d.checkDataReady("audioReady")}),this.events.on(de.AudioPlayerWait,function(){d.dataReady.audioReady=!1,d.events.emit(de.PlayerWait,"audioPlayer")}),this.events.on(de.ImagePlayerWait,function(){d.dataReady.imageReady=!1,d.events.emit(de.PlayerWait,"imagePlayer")}),this.events.on(de.ImagePlayerEnd,function(){d.logger.info("bindevent","........imageplayer end"),d.events.emit(de.PlayerEnd)}),this.events.on(de.PlayerWait,function(){d.logger.warn("player status wait"),d.player.status="wait",d.loadDataStatus==="loadend"&&(d.loadDataStatus="loading",d.loadNext())}),this.events.on(de.PlayerLoadNext,function(){d.loadDataStatus==="loadend"&&(d.loadDataStatus="loading",d.loadNext())}),this.events.on(de.DecodeFlushEnd,function(y){d.logger.info("flushend>>>>>>>>>>>>>>>",y),d.imagePlayer.maxPTS=y})}},{key:"checkDataReady",value:function(d){var y=this.dataReady;y[d]=!0;for(var C=Object.keys(y),R=0,j=0;j<C.length&&y[C[j]];j++)R++;R==C.length&&this.events.emit(de.StreamDataReady)}},{key:"setBaseInfo",value:function(d){this.duration=d.duration,this.tsNumber=d.tsNumber}},{key:"reset",value:function(){this.dataReady={audioReady:!1,imageReady:!1},this.currentIndex=null,this.loadDataStatus="loading"}},{key:"startLoad",value:function(d){this.logger.info("startLoad","index:",d),this.currentIndex=d,this.player.currentIndex=d,this.events.emit(de.LoadDataReadBufferByNo,d)}},{key:"loadNext",value:function(){this.player.reseting||(this.currentIndex>=this.tsNumber?this.logger.info("loadNext","load end","currentIndex",this.currentIndex,"tsNumber:",this.tsNumber):(this.currentIndex+=1,this.player.currentIndex=this.currentIndex,this.logger.info("loadNext","load next ts","tsno:",this.currentIndex),this.events.emit(de.LoadDataReadBufferByNo,this.currentIndex)))}},{key:"onDecoded",value:function(d){var y=this;d.forEach(function(C){y.player.reseting||C.pts>=y.player.currentTime&&y.imagePlayer.push(C)})}},{key:"onAppendEnd",value:function(d){return d?(this.logger.info("onAppendEnd","events.decodeFlush",d),void this.events.emit(de.DecodeFlush)):(this.logger.info("onAppendEnd","start load next ts condition",this.checkBuffer(),this.currentIndex),this.checkBuffer()&&this.currentIndex!==null?(this.logger.info("onAppendEnd","load next ts. currentIndex:",this.currentIndex),void this.loadNext()):(this.loadDataStatus="loadend",void this.logger.info("onAppendEnd","load ts stop")))}},{key:"onAACDemuxed",value:function(d){var y=this;this.player.reseting||d.forEach(function(C){(C.PTS>=y.player.currentTime||C.audioEnd)&&(!y.player.receiveAACTime&&y.player.seeking&&(y.player.receiveAACTime=Date.now()),y.audioPlayer.send(C))})}},{key:"onVideoDemuxed",value:function(d){this.player.reseting||this.events.emit(de.DecodeStartDecode,d)}},{key:"checkBuffer",value:function(){var d=this.player,y=d.currentTime;return!((d.buffer()[1]||0)-y>=d.maxBufferLength)}},{key:"onRead",value:function(d){this.player.reseting?console.error("onRead reseting"):d&&d.arrayBuffer&&d.no===this.currentIndex?(this.retryTime=0,this.logger.warn("onRead","get stream data"),d.no===this.tsNumber&&(this.logger.info("onRead","the last ts"),this.events.emit(de.DemuxLast)),this.events.emit(de.DemuxStartDemux,d)):this.logger.error("onRead","load ts failred","tsno:",this.currentIndex)}}]),S}(ae),er=function(P){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(v()(y),"maxBufferLength",0),b()(v()(y),"duration",0),b()(v()(y),"pool",[]),b()(v()(y),"start",0),b()(v()(y),"end",0),b()(v()(y),"offset",0),b()(v()(y),"fps",25),y.maxBufferLength=d.maxBufferLength,y}return m()(S,P),u()(S,[{key:"push",value:function(d){var y=this.pool,C=y.length;C===0&&(this.offset=d.pts,this.start=d.pts,this.fps=d.fps);var R=this.insertSort(y,d);y[R-1]&&(y[R-1].duration=y[R].pts-y[R-1].pts),y[R+1]&&(y[R].duration=y[R+1].pts-y[R].pts),this.end=this.pool[C].pts+this.pool[C].duration,this.duration=this.end-this.start}},{key:"insertSort",value:function(d,y){var C=d.length;if(C===0)return d.push(y),0;for(var R=0;R<C;R++)if(y.pts<d[R].pts){for(var j=C;j>R;)d[j]=d[j-1],j--;return d[R]=y,R}return d.push(y),d.length-1}},{key:"reset",value:function(){this.duration=0,this.pool=[],this.start=0,this.end=0,this.offset=0}},{key:"findByIndex",value:function(d){var y=this.buffer.length;return d<y?(this.currentIndex=d,this.buffer[d]):(this.logger.error("input index ".concat(d,"is not found, current maxIndex is ").concat(y-1)),null)}},{key:"find",value:function(d){var y=this.pool,C=y.length;if(this.isBuffered(d)&&C!==0){var R=this.findIndex(d);if(R!==-1){var j=y[R];return this.checkBuffer(d),j}}}},{key:"findIndex",value:function(d){return this.pool.findIndex(function(y){var C=parseInt(y.pts);return d>=C&&d<C+y.duration})}},{key:"isBuffered",value:function(d){return d>=this.start&&d<this.end}},{key:"checkBuffer",value:function(d){if(this.duration>this.maxBufferLength){if(d>this.start){var y=this.findIndex(d),C=this.pool.splice(0,y);C.forEach(function(R){}),C=null,this.start=this.pool[0].pts,this.duration=this.end-this.start}return!1}return this.events.emit(de.PlayerLoadNext),!0}},{key:"buffer",value:function(){return{start:this.start,end:this.end}}}]),S}(ae),Or=i(72),kn=i.n(Or),on=i(60),Ot=i.n(on),Ir=function(P){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this)),b()(v()(y),"canvas",null),y.setCanvas(d.canvas),y.setRender(),y}return m()(S,P),u()(S,[{key:"setCanvas",value:function(d){this.canvas=d}},{key:"setRender",value:function(d){this.render=kn.a.attach(d||this.canvas)}},{key:"clear",value:function(){this.render.clear()}},{key:"drawFrame",value:function(d){var y,C,R,j,q,te=Date.now(),fe=d.buf_y,xe=d.buf_u,Re=d.buf_v,ut=d.width,St=d.height,tr=ut/2,rr=St/2;y={bytes:fe,stride:d.stride_y},C={bytes:xe,stride:d.stride_u},R={bytes:Re,stride:d.stride_v},j=Ot.a.format({width:ut,height:St,chromaWidth:tr,chromaHeight:rr}),q=Ot.a.frame(j,y,C,R),this.render.drawFrame(q);var mr=Date.now();mr-te>10&&this.logger.warn("drawFrame","reandertime:",mr-te)}}]),S}(ae),aa=function(P){function S(d){var y;return o()(this,S),y=c()(this,f()(S).call(this,d)),b()(v()(y),"status","pause"),b()(v()(y),"_currentTime",0),b()(v()(y),"maxPTS",null),b()(v()(y),"ready",!1),b()(v()(y),"firstRender",!1),y.imageData=new er({events:d.events,maxBufferLength:d.maxBufferLength}),y.screen=new Ir({canvas:d.canvas}),y.playHandler=null,y.player=d.player,y.debug=d.debug||!1,y}return m()(S,P),u()(S,[{key:"setScreenRender",value:function(d){this.screen.setCanvas(d),this.screen.setRender(d)}},{key:"clear",value:function(){this.screen.clear()}},{key:"play",value:function(d){this.status!=="play"&&(this.status="play",this.render(d))}},{key:"pause",value:function(){this.status!=="pause"&&(this.status="pause",clearTimeout(this.playHandler),this.playHandler=null)}},{key:"checkBuffer",value:function(){return this.imageData.checkBuffer(this.currentTime)}},{key:"push",value:function(d){this.player.reseting||(this.imageData.push(d),this.end-this.player.currentTime>he.d.READYBUFFERLENGTH&&!this.ready&&(this.ready=!0,this.status="ready",this.events.emit(de.ImagePlayerReady)),this.events.emit(de.ImagePlayerBuffeUpdate))}},{key:"find",value:function(d){return this.imageData.find(d)}},{key:"buffer",value:function(){return this.imageData.buffer()}},{key:"isBuffered",value:function(d){return this.imageData.isBuffered(d)}},{key:"render",value:function(d){if(!(d<this.imageData.offset)){var y=this.find(d);return y?(this.firstRender||(this.firstRender=!0,this.events.emit(de.PlayerLoadedMetaData,y.width,y.height)),this.screen.drawFrame(y),this.currentTime=y.pts,this.events.emit(de.ImagePlayerRenderEnd,d),y):this.maxPTS&&d>=this.maxPTS+this.fragDuration?(this.status="end",void this.events.emit(de.ImagePlayerEnd,this.maxPTS)):(this.logger.warn("Events.ImagePlayerWait",d,this.start,this.end,this.maxPTS),this.logger.warn("render","not yuv data"),this.status="wait",this.ready=!1,this.events.emit(de.ImagePlayerWait,"image","this"),!1)}}},{key:"reset",value:function(){this.status="pause",this.ready=!1,this.imageData.reset(),this.maxPTS=null,this.currentTime=0}},{key:"currentTime",set:function(d){this._currentTime=d},get:function(){return this._currentTime}},{key:"offset",get:function(){return this.imageData.offset}},{key:"fragDuration",get:function(){return Math.ceil(1e3/this.imageData.fps)}},{key:"start",get:function(){return this.imageData.start}},{key:"end",get:function(){return this.imageData.end}},{key:"duration",get:function(){return this.imageData.duration}}]),S}(ae),Ig=function(P){function S(d){var y,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o()(this,S),y=c()(this,f()(S).call(this)),b()(v()(y),"mode",he.c.mode),b()(v()(y),"$container",null),b()(v()(y),"componentsController",null),b()(v()(y),"controlBarController",null),b()(v()(y),"controlBarHeight",50),b()(v()(y),"alertError",null),b()(v()(y),"dataController",null),b()(v()(y),"demuxer",null),b()(v()(y),"decoder",null),b()(v()(y),"preload",!0),b()(v()(y),"startTime",0),b()(v()(y),"screenWidth",null),b()(v()(y),"screenHeight",null),b()(v()(y),"options",{}),Yu.set(v()(y),{writable:!0,value:he.c.libPath}),b()(v()(y),"readyStatus",{dataProcessor:!1,firstData:!1,audioPlayer:!1}),b()(v()(y),"reseting",!1),Oc.set(v()(y),{writable:!0,value:0}),Ic.set(v()(y),{writable:!0,value:!1}),Bc.set(v()(y),{writable:!0,value:1}),To.set(v()(y),{writable:!0,value:!1}),b()(v()(y),"maxBufferLength",he.d.MAXBUFFERLENGTH),b()(v()(y),"seekSegmentNo",-1),b()(v()(y),"status","init"),b()(v()(y),"loader",null),b()(v()(y),"currentIndex",null),b()(v()(y),"startIndex",1),b()(v()(y),"loadData",null),b()(v()(y),"paused",!1),b()(v()(y),"autoPlay",!0),b()(v()(y),"duration",0),b()(v()(y),"tsNumber",0),d||y.logger.error("Please pass in a dom object as the display container"),y.el=d,Object.assign(y.options,C),y.options.sourceURL=y.options.sourceURL||y.options.source,y.options.streamList=y.options.streamList||[],y.options.events=$(),y.maxBufferLength=C.maxBufferLength!==void 0?C.maxBufferLength:y.maxBufferLength,y.autoPlay=C.autoPlay!==void 0?C.autoPlay:y.autoPlay,y.controlBarAutoHide=C.controlBarAutoHide!==void 0?C.controlBarAutoHide:y.controlBarAutoHide,A()(v()(y),Yu,C.libPath!==void 0?C.libPath:T()(v()(y),Yu)),y.preload=C.preload===void 0?y.preload:C.preload,y.startTime=C.startTime===void 0?y.startTime:C.startTime,y.originStartTime=y.startTime,y.playbackRate=C.playbackRate===void 0?y.playbackRate:C.playbackRate,y}return m()(S,P),u()(S,[{key:"setAlertError",value:function(){this.options.alertError=this.alertError=Q.getInstance({player:this,component:this.componentsController.alertBox,events:this.options.events})}},{key:"setDataController",value:function(){this.dataController=Ti.getInstance({player:this,events:this.options.events})}},{key:"setLoadData",value:function(){this.dataController.setLoadData({player:this,events:this.options.events}),this.loadData=this.dataController.loadData}},{key:"setComponentsController",value:function(){this.componentsController=ze.getInstance({$container:this.$container,$screenContainer:this.$screenContainer,$canvas:this.$canvas,$audioContainer:this.$audioContainer,$audio:this.$audio,loadData:this.loadData,bigPlayButtonColor:this.bigPlayButtonColor,player:this,events:this.options.events})}},{key:"setControlBarController",value:function(){var d=Object.assign({},this.options,{$container:this.$container,$screenContainer:this.$screenContainer,controlBarAutoHide:this.controlBarAutoHide,player:this});this.controlBarController=et.getInstance(d)}},{key:"setLoadController",value:function(){this.loaderController=mt.getInstance(this.options.type,{player:this,events:this.options.events})}},{key:"setProcessorController",value:function(){this.processController=new bt({type:"ts",libPath:T()(this,Yu),events:this.options.events,player:this})}},{key:"setStreamController",value:function(){this.streamController=new ir({events:this.options.events,loadData:this.loadData,imagePlayer:this.imagePlayer,audioPlayer:this.audioPlayer,player:this})}},{key:"setImagerPlayer",value:function(){this.imagePlayer=new aa({events:this.options.events,canvas:this.$canvas,maxBufferLength:this.maxBufferLength,player:this})}},{key:"setAudioPlayer",value:function(){this.audioPlayer=new oe({player:this,events:this.options.events,audioNode:this.$audio})}},{key:"setAction",value:function(){this.action=new wc({player:this,screen:this.screen,imagePlayer:this.imagePlayer,loadData:this.loadData,audioPlayer:this.audioPlayer,events:this.options.events})}},{key:"init",value:function(){this.controlBarHeight=this.options.controlBarHeight||this.controlBarHeight,this.options.httpWorker=st()(94,{name:"httpWorker"}),this.currentTime=this.startTime,this.addEl(),this.setDataController(),this.setLoadData(),this.setComponentsController(),this.setLoadController(),this.setControlBarController(),this.componentsController.setControlBarController(this.controlBarController),this.setAlertError(),this.setProcessorController(),this.setImagerPlayer(),this.setAudioPlayer(),this.setAction(),this.setStreamController(),this.componentsController.drawPoster(),this.preload&&this.run(),this.bindEvent()}},{key:"bindEvent",value:function(){var d=this;this.events.on(de.PlayerOnPlay,function(){d.play()}),this.events.on(de.PlayerOnPause,function(){d.pause()}),this.events.on(de.PlayerOnVolume,function(y){d.volume=y}),this.events.on(de.DataProcessorReady,function(){d.logger.info("bindEvent","decoder ready"),d.checkReady("dataProcessor")}),this.events.on(de.AudioPlayerReady,function(){d.logger.info("bindEvent","audioPlayer ready"),d.seeking||d.checkReady("audioPlayer")}),this.events.on(de.PlayerReady,function(){d.logger.info("bindEvent","player ready"),d.onReady()}),this.events.on(de.PlayerSpeedTo,function(y){d.changeSpeed(y)}),this.events.on(de.PlayerChangeRate,function(y){d.changeRate(y)}),this.events.on(de.PlayerWait,function(){d.onWait()}),this.events.on(de.PlayerPlay,function(){d.onPlay()}),this.events.on(de.LoaderPlayListLoaded,function(y){typeof d.options.afterLoadPlaylist=="function"&&d.options.afterLoadPlaylist(d.laodData.sourceData);var C=y.loadData.sourceData;d.duration=C.duration,d.tsNumber=C.length,d.streamController.setBaseInfo({duration:d.duration,tsNumber:d.tsNumber}),d.dataController.startLoad(d.startTime),d.setStartTime(d.originStartTime)}),this.events.on(de.LoadDataFirstLoaded,function(y){d.logger.info("bindEvent","first data ready"),d.startIndex=y.no,d.streamController.currentIndex=y.no,d.checkReady("firstData")}),this.events.on(de.StreamDataReady,function(){d.logger.info("bindEvent","dataReady"),d.onDataReady()}),this.events.on(de.PlayerLoadedMetaData,function(y,C){d.setCanvas(),d.resizeScreen(y,C)}),this.events.on(de.PlayerEnd,function(){d.status="end"}),this.events.on(de.ImagePlayerBuffeUpdate,function(){var y=d.buffer();d.events.emit(de.PlayerbufferUpdate,y)}),this.events.on(de.PlayerOnSeek,function(y){d.seek(Math.floor(y))}),this.events.on(de.PlayerAlert,function(y){d.alertError.show(y)}),this.events.on(de.PlayerThrowError,function(y){J.a.apply(d,y)})}},{key:"reset",value:function(d){this.action&&this.action.reset(d)}},{key:"switchPlaylist",value:function(d,y){this.loaderController.switchPlaylist(d,y)}},{key:"changeSpeed",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.playbackRate=d.value||1}},{key:"setStartTime",value:function(d){this.startTime=d}},{key:"changeRate",value:function(d){this.pause(),this.events.emit(de.ControlBarPauseLoading,this),this.setStartTime((this.currentTime-5e3)/1e3),this.changing=!0,this.seeking=!1,this.imagePlayer.firstRender=!1,this.readyStatus={dataProcessor:!1,firstData:!1,audioPlayer:!1},this.reset(!0),this.switchPlaylist(d.url)}},{key:"changeSrc",value:function(d,y){this.pause(),this.events.emit(de.ControlBarPauseLoading,this),this.events.emit(de.PlayerChangeSrc,this),this.changing=!0,this.seeking=!1,this.imagePlayer.firstRender=!1,this.readyStatus={dataProcessor:!1,firstData:!1,audioPlayer:!1},this.currentTime=this.startTime,this.imagePlayer.clear(),this.reset(!0),this.switchPlaylist(d,y)}},{key:"setCanvas",value:function(){var d=Ee.createCanvas(this);if(W.isElement(this.$canvas)){if(this.$canvas.width&&this.$canvas.height)return this.imagePlayer.setScreenRender(d),this.$canvas.replaceWith(d),void(this.$canvas=d)}else this.$screen.appendChild(d),this.$canvas=d}},{key:"destroy",value:function(){this.controlBarController&&(this.controlBarController.destroy(),delete this.controlBarController),this.$container&&(this.el.removeChild(this.$container),delete this.$container),this.processController.destroy(),this.loaderController.destroy()}},{key:"run",value:function(){this.loaderController.run()}},{key:"checkReady",value:function(d){var y=this.readyStatus;if(d&&typeof d=="string"){y[d]=!0;for(var C=Object.keys(y),R=0;R<C.length;R++)if(!y[C[R]])return!1;return this.logger.info("checkReady","player ready"),this.events.emit(de.PlayerReady),!0}return this.logger.error("checkReady","check ready","type is no correct, type:",d),!1}},{key:"addEl",value:function(){var d,y,C,R;this.el?(d=Ee.createContainer(this),this.el.appendChild(d),this.$container=d,y=Ee.createScreenContainer(this),this.$screen=y,d.appendChild(y),this.$screenContainer=y,this.setCanvas(),R=Ee.createAudio(this),this.$audio=R,(C=Ee.createAudioContainer(this)).appendChild(R),this.$audioContainer=C,d.appendChild(C)):this.logger.error("addEl","not found el.","el:",this.options.el)}},{key:"onWait",value:function(){this.logger.info("onWait","wait,wait,wait")}},{key:"onPlay",value:function(){this.logger.info("onPlay","play, play, play")}},{key:"onReady",value:function(){this.changing||this.componentsController.run(),this.changing&&this.logger.info("onReady","change ready","startIndex:",this.startIndex),this.streamController.startLoad(this.startIndex)}},{key:"onDataReady",value:function(){this.changing&&(this.changing=!1,this.play()),(this.seeking||this.autoPlay&&!this.paused)&&this.play()}},{key:"buffer",value:function(){var d=this.imagePlayer.buffer(),y=this.audioPlayer.buffer(),C=Math.max(d.start,y.start),R=Math.min(d.end,y.end);return C<R?[C,R]:[0,0]}},{key:"play",value:function(){this.logger.info("play",this.status),this.status!=="playing"&&(this.logger.info("start play"),this.status="playing",this.paused=!1,this.action.play(this.currentTime),this.events.emit(de.PlayerPlay,this))}},{key:"on",value:function(d,y){this.events.on("Player."+d,y)}},{key:"off",value:function(d,y){this.events.off("Player."+d,y)}},{key:"once",value:function(d,y){this.events.once("Player."+d,y)}},{key:"pause",value:function(){this.status!="pause"&&(this.logger.info("pause"),this.status="pause",this.action.pause(),this.paused=!0,this.events.emit(de.PlayerPause,this))}},{key:"seek",value:function(d){d<this.startTime||(d>=1e3*this.duration?this.logger.info("seek","seek to time:",d):(this.seekTime=Date.now(),this.seeking=!0,this.currentTime=d,this.action.seek(d)))}},{key:"resizeScreen",value:function(d,y){W.adaptSizeElement(d,y,this.$screenContainer,this.$canvas)}},{key:"muted",get:function(){return T()(this,To)},set:function(d){A()(this,To,!!d)}},{key:"playbackRate",set:function(d){A()(this,Bc,d)},get:function(){return T()(this,Bc)}},{key:"seeking",set:function(d){A()(this,Ic,d),d?this.events.emit(de.PlayerSeeking):this.events.emit(de.PlayerSeekEnd)},get:function(){return T()(this,Ic)}},{key:"currentTime",get:function(){return T()(this,Oc)},set:function(d){A()(this,Oc,d)}},{key:"volume",get:function(){return this.audioPlayer.volume},set:function(d){this.audioPlayer.volume=d}}]),S}(ae),Yu=new WeakMap,Oc=new WeakMap,Ic=new WeakMap,Bc=new WeakMap,To=new WeakMap,BO=function(P){function S(d,y){var C;return o()(this,S),C=c()(this,f()(S).call(this,d,y)),b()(v()(C),"libPath",null),C.options.processURL=y.processURL,C.libPath=y.libPath,C.options.needInit!==!1&&C.init(),C}return m()(S,P),u()(S,null,[{key:"getComponent",value:function(d){return ne[d]}},{key:"registerComponent",value:function(d,y){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"right",R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1;if(typeof d!="string"||!d)throw new Error('Illegal component name, "'.concat(d,'"; must be a non-empty string.'));var j=Object.prototype.isPrototypeOf.call(qt,y.prototype);if(!j)throw new Error('Illegal component, "'.concat(d,'"; must be a BaseComponent subclass.'));ne[d]=y,ze.addComponet(d),C==="left"?ee.addCustomControl(d,R):M.addCustomControl(d,R)}}]),S}(Ig);n.default=BO},function(r,n){r.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}},function(r,n){r.exports=function(i){return Function.toString.call(i).indexOf("[native code]")!==-1}},function(r,n,i){var a=function(o){var s=Object.prototype,u=s.hasOwnProperty,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",h=l.asyncIterator||"@@asyncIterator",f=l.toStringTag||"@@toStringTag";function p(z,G,Y,Q){var J=G&&G.prototype instanceof m?G:m,ae=Object.create(J.prototype),he=new U(Q||[]);return ae._invoke=function(pe,Se,we){var Le="suspendedStart";return function(Fe,se){if(Le==="executing")throw new Error("Generator is already running");if(Le==="completed"){if(Fe==="throw")throw se;return W()}for(we.method=Fe,we.arg=se;;){var ve=we.delegate;if(ve){var ge=F(ve,we);if(ge){if(ge===g)continue;return ge}}if(we.method==="next")we.sent=we._sent=we.arg;else if(we.method==="throw"){if(Le==="suspendedStart")throw Le="completed",we.arg;we.dispatchException(we.arg)}else we.method==="return"&&we.abrupt("return",we.arg);Le="executing";var be=v(pe,Se,we);if(be.type==="normal"){if(Le=we.done?"completed":"suspendedYield",be.arg===g)continue;return{value:be.arg,done:we.done}}be.type==="throw"&&(Le="completed",we.method="throw",we.arg=be.arg)}}}(z,Y,he),ae}function v(z,G,Y){try{return{type:"normal",arg:z.call(G,Y)}}catch(Q){return{type:"throw",arg:Q}}}o.wrap=p;var g={};function m(){}function _(){}function b(){}var w={};w[c]=function(){return this};var T=Object.getPrototypeOf,k=T&&T(T(H([])));k&&k!==s&&u.call(k,c)&&(w=k);var A=b.prototype=m.prototype=Object.create(w);function D(z){["next","throw","return"].forEach(function(G){z[G]=function(Y){return this._invoke(G,Y)}})}function O(z,G){var Y;this._invoke=function(Q,J){function ae(){return new G(function(he,pe){(function Se(we,Le,Fe,se){var ve=v(z[we],z,Le);if(ve.type!=="throw"){var ge=ve.arg,be=ge.value;return be&&typeof be=="object"&&u.call(be,"__await")?G.resolve(be.__await).then(function(Te){Se("next",Te,Fe,se)},function(Te){Se("throw",Te,Fe,se)}):G.resolve(be).then(function(Te){ge.value=Te,Fe(ge)},function(Te){return Se("throw",Te,Fe,se)})}se(ve.arg)})(Q,J,he,pe)})}return Y=Y?Y.then(ae,ae):ae()}}function F(z,G){var Y=z.iterator[G.method];if(Y===void 0){if(G.delegate=null,G.method==="throw"){if(z.iterator.return&&(G.method="return",G.arg=void 0,F(z,G),G.method==="throw"))return g;G.method="throw",G.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var Q=v(Y,z.iterator,G.arg);if(Q.type==="throw")return G.method="throw",G.arg=Q.arg,G.delegate=null,g;var J=Q.arg;return J?J.done?(G[z.resultName]=J.value,G.next=z.nextLoc,G.method!=="return"&&(G.method="next",G.arg=void 0),G.delegate=null,g):J:(G.method="throw",G.arg=new TypeError("iterator result is not an object"),G.delegate=null,g)}function $(z){var G={tryLoc:z[0]};1 in z&&(G.catchLoc=z[1]),2 in z&&(G.finallyLoc=z[2],G.afterLoc=z[3]),this.tryEntries.push(G)}function B(z){var G=z.completion||{};G.type="normal",delete G.arg,z.completion=G}function U(z){this.tryEntries=[{tryLoc:"root"}],z.forEach($,this),this.reset(!0)}function H(z){if(z){var G=z[c];if(G)return G.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var Y=-1,Q=function J(){for(;++Y<z.length;)if(u.call(z,Y))return J.value=z[Y],J.done=!1,J;return J.value=void 0,J.done=!0,J};return Q.next=Q}}return{next:W}}function W(){return{value:void 0,done:!0}}return _.prototype=A.constructor=b,b.constructor=_,b[f]=_.displayName="GeneratorFunction",o.isGeneratorFunction=function(z){var G=typeof z=="function"&&z.constructor;return!!G&&(G===_||(G.displayName||G.name)==="GeneratorFunction")},o.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,b):(z.__proto__=b,f in z||(z[f]="GeneratorFunction")),z.prototype=Object.create(A),z},o.awrap=function(z){return{__await:z}},D(O.prototype),O.prototype[h]=function(){return this},o.AsyncIterator=O,o.async=function(z,G,Y,Q,J){J===void 0&&(J=Promise);var ae=new O(p(z,G,Y,Q),J);return o.isGeneratorFunction(G)?ae:ae.next().then(function(he){return he.done?he.value:ae.next()})},D(A),A[f]="Generator",A[c]=function(){return this},A.toString=function(){return"[object Generator]"},o.keys=function(z){var G=[];for(var Y in z)G.push(Y);return G.reverse(),function Q(){for(;G.length;){var J=G.pop();if(J in z)return Q.value=J,Q.done=!1,Q}return Q.done=!0,Q}},o.values=H,U.prototype={constructor:U,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(B),!z)for(var G in this)G.charAt(0)==="t"&&u.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=void 0)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var G=this;function Y(Se,we){return ae.type="throw",ae.arg=z,G.next=Se,we&&(G.method="next",G.arg=void 0),!!we}for(var Q=this.tryEntries.length-1;Q>=0;--Q){var J=this.tryEntries[Q],ae=J.completion;if(J.tryLoc==="root")return Y("end");if(J.tryLoc<=this.prev){var he=u.call(J,"catchLoc"),pe=u.call(J,"finallyLoc");if(he&&pe){if(this.prev<J.catchLoc)return Y(J.catchLoc,!0);if(this.prev<J.finallyLoc)return Y(J.finallyLoc)}else if(he){if(this.prev<J.catchLoc)return Y(J.catchLoc,!0)}else{if(!pe)throw new Error("try statement without catch or finally");if(this.prev<J.finallyLoc)return Y(J.finallyLoc)}}}},abrupt:function(z,G){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var Q=this.tryEntries[Y];if(Q.tryLoc<=this.prev&&u.call(Q,"finallyLoc")&&this.prev<Q.finallyLoc){var J=Q;break}}J&&(z==="break"||z==="continue")&&J.tryLoc<=G&&G<=J.finallyLoc&&(J=null);var ae=J?J.completion:{};return ae.type=z,ae.arg=G,J?(this.method="next",this.next=J.finallyLoc,g):this.complete(ae)},complete:function(z,G){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&G&&(this.next=G),g},finish:function(z){for(var G=this.tryEntries.length-1;G>=0;--G){var Y=this.tryEntries[G];if(Y.finallyLoc===z)return this.complete(Y.completion,Y.afterLoc),B(Y),g}},catch:function(z){for(var G=this.tryEntries.length-1;G>=0;--G){var Y=this.tryEntries[G];if(Y.tryLoc===z){var Q=Y.completion;if(Q.type==="throw"){var J=Q.arg;B(Y)}return J}}throw new Error("illegal catch attempt")},delegateYield:function(z,G,Y){return this.delegate={iterator:H(z),resultName:G,nextLoc:Y},this.method==="next"&&(this.arg=void 0),g}},o}(r.exports);try{regeneratorRuntime=a}catch{Function("r","regeneratorRuntime = r")(a)}},function(r,n,i){(function(){var a=i(49),o=i(90);function s(u){var l=u.getContext("2d"),c=null,h=null,f=null;return this.drawFrame=function(p){var v=p.format;u.width===v.displayWidth&&u.height===v.displayHeight||(u.width=v.displayWidth,u.height=v.displayHeight),c!==null&&c.width==v.width&&c.height==v.height||function(w,T){for(var k=(c=l.createImageData(w,T)).data,A=w*T*4,D=0;D<A;D+=4)k[D+3]=255}(v.width,v.height),o.convertYCbCr(p,c.data);var g,m,_,b=v.cropWidth!=v.displayWidth||v.cropHeight!=v.displayHeight;b?(h||(m=v.cropWidth,_=v.cropHeight,(h=document.createElement("canvas")).width=m,h.height=_,f=h.getContext("2d")),g=f):g=l,g.putImageData(c,-v.cropLeft,-v.cropTop,v.cropLeft,v.cropTop,v.cropWidth,v.cropHeight),b&&l.drawImage(h,0,0,v.displayWidth,v.displayHeight)},this.clear=function(){l.clearRect(0,0,u.width,u.height)},this}s.prototype=Object.create(a.prototype),r.exports=s})()},function(r,n,i){(function(){var a=i(91);/**
	 * Basic YCbCr->RGB conversion
	 *
	 * @author Brion Vibber <brion@pobox.com>
	 * @copyright 2014-2019
	 * @license MIT-style
	 *
	 * @param {YUVFrame} buffer - input frame buffer
	 * @param {Uint8ClampedArray} output - array to draw RGBA into
	 * Assumes that the output array already has alpha channel set to opaque.
	 */r.exports={convertYCbCr:function(o,s){var u=0|o.format.width,l=0|o.format.height,c=0|a(o.format.width/o.format.chromaWidth),h=0|a(o.format.height/o.format.chromaHeight),f=o.y.bytes,p=o.u.bytes,v=o.v.bytes,g=0|o.y.stride,m=0|o.u.stride,_=0|o.v.stride,b=u<<2,w=0,T=0,k=0,A=0,D=0,O=0,F=0,$=0,B=0,U=0,H=0,W=0,z=0,G=0,Y=0,Q=0,J=0,ae=0;if(c==1&&h==1)for(F=0,$=b,ae=0,Q=0;Q<l;Q+=2){for(k=(T=Q*g|0)+g|0,A=ae*m|0,D=ae*_|0,Y=0;Y<u;Y+=2)B=0|p[A++],W=(409*(U=0|v[D++])|0)-57088|0,z=(100*B|0)+(208*U|0)-34816|0,G=(516*B|0)-70912|0,H=298*f[T++]|0,s[F]=H+W>>8,s[F+1]=H-z>>8,s[F+2]=H+G>>8,F+=4,H=298*f[T++]|0,s[F]=H+W>>8,s[F+1]=H-z>>8,s[F+2]=H+G>>8,F+=4,H=298*f[k++]|0,s[$]=H+W>>8,s[$+1]=H-z>>8,s[$+2]=H+G>>8,$+=4,H=298*f[k++]|0,s[$]=H+W>>8,s[$+1]=H-z>>8,s[$+2]=H+G>>8,$+=4;F+=b,$+=b,ae++}else for(O=0,Q=0;Q<l;Q++)for(J=0,w=Q*g|0,A=(ae=Q>>h)*m|0,D=ae*_|0,Y=0;Y<u;Y++)B=0|p[A+(J=Y>>c)],W=(409*(U=0|v[D+J])|0)-57088|0,z=(100*B|0)+(208*U|0)-34816|0,G=(516*B|0)-70912|0,H=298*f[w++]|0,s[O]=H+W>>8,s[O+1]=H-z>>8,s[O+2]=H+G>>8,O+=4}}})()},function(r,n){(function(){/**
* Convert a ratio into a bit-shift count; for instance a ratio of 2
* becomes a bit-shift of 1, while a ratio of 1 is a bit-shift of 0.
*
* @author Brion Vibber <brion@pobox.com>
* @copyright 2016
* @license MIT-style
*
* @param {number} ratio - the integer ratio to convert.
* @returns {number} - number of bits to shift to multiply/divide by the ratio.
* @throws exception if given a non-power-of-two
*/r.exports=function(i){for(var a=0,o=i>>1;o!=0;)o>>=1,a++;if(i!==1<<a)throw"chroma plane dimensions must be power of 2 ratio to luma plane dimensions; got "+i;return a}})()},function(r,n,i){(function(){var a=i(49),o=i(93);function s(u){var l,c,h=this,f=s.contextForCanvas(u);if(f===null)throw new Error("WebGL unavailable");function p(Y,Q){var J=f.createShader(Y);if(f.shaderSource(J,Q),f.compileShader(J),!f.getShaderParameter(J,f.COMPILE_STATUS)){var ae=f.getShaderInfoLog(J);throw f.deleteShader(J),new Error("GL shader compilation for "+Y+" failed: "+ae)}return J}var v,g,m,_,b,w,T,k,A,D,O=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),F={},$={},B={};function U(Y){return F[Y]||(F[Y]=f.createTexture()),F[Y]}function H(Y,Q,J,ae){var he=U(Y);if(f.activeTexture(f.TEXTURE0),s.stripe){var pe=!F[Y+"_temp"],Se=U(Y+"_temp");f.bindTexture(f.TEXTURE_2D,Se),pe?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,Q/4,J,0,f.RGBA,f.UNSIGNED_BYTE,ae)):f.texSubImage2D(f.TEXTURE_2D,0,0,0,Q/4,J,f.RGBA,f.UNSIGNED_BYTE,ae);var we=F[Y+"_stripe"],Le=!we;Le&&(we=U(Y+"_stripe")),f.bindTexture(f.TEXTURE_2D,we),Le&&(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,Q,1,0,f.RGBA,f.UNSIGNED_BYTE,function(Fe){if(B[Fe])return B[Fe];for(var se=Fe,ve=new Uint32Array(se),ge=0;ge<se;ge+=4)ve[ge]=255,ve[ge+1]=65280,ve[ge+2]=16711680,ve[ge+3]=4278190080;return B[Fe]=new Uint8Array(ve.buffer)}(Q)))}else f.bindTexture(f.TEXTURE_2D,he),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.LUMINANCE,Q,J,0,f.LUMINANCE,f.UNSIGNED_BYTE,ae)}function W(Y,Q,J){var ae=F[Y];f.useProgram(c);var he=$[Y];he||(f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,ae),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,Q,J,0,f.RGBA,f.UNSIGNED_BYTE,null),he=$[Y]=f.createFramebuffer()),f.bindFramebuffer(f.FRAMEBUFFER,he),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,ae,0);var pe=F[Y+"_temp"];f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,pe),f.uniform1i(w,1);var Se=F[Y+"_stripe"];f.activeTexture(f.TEXTURE2),f.bindTexture(f.TEXTURE_2D,Se),f.uniform1i(b,2),f.bindBuffer(f.ARRAY_BUFFER,v),f.enableVertexAttribArray(g),f.vertexAttribPointer(g,2,f.FLOAT,!1,0,0),f.bindBuffer(f.ARRAY_BUFFER,m),f.enableVertexAttribArray(_),f.vertexAttribPointer(_,2,f.FLOAT,!1,0,0),f.viewport(0,0,Q,J),f.drawArrays(f.TRIANGLES,0,O.length/2),f.bindFramebuffer(f.FRAMEBUFFER,null)}function z(Y,Q,J){f.activeTexture(Q),f.bindTexture(f.TEXTURE_2D,F[Y]),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.uniform1i(f.getUniformLocation(l,Y),J)}function G(Y,Q){var J=p(f.VERTEX_SHADER,Y),ae=p(f.FRAGMENT_SHADER,Q),he=f.createProgram();if(f.attachShader(he,J),f.attachShader(he,ae),f.linkProgram(he),!f.getProgramParameter(he,f.LINK_STATUS)){var pe=f.getProgramInfoLog(he);throw f.deleteProgram(he),new Error("GL program linking failed: "+pe)}return he}return h.drawFrame=function(Y){var Q=Y.format,J=!l||u.width!==Q.displayWidth||u.height!==Q.displayHeight;if(J&&(u.width=Q.displayWidth,u.height=Q.displayHeight,h.clear()),l||function(){if(s.stripe){c=G(o.vertexStripe,o.fragmentStripe),f.getAttribLocation(c,"aPosition"),m=f.createBuffer();var he=new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]);f.bindBuffer(f.ARRAY_BUFFER,m),f.bufferData(f.ARRAY_BUFFER,he,f.STATIC_DRAW),_=f.getAttribLocation(c,"aTexturePosition"),b=f.getUniformLocation(c,"uStripe"),w=f.getUniformLocation(c,"uTexture")}l=G(o.vertex,o.fragment),v=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,v),f.bufferData(f.ARRAY_BUFFER,O,f.STATIC_DRAW),g=f.getAttribLocation(l,"aPosition"),T=f.createBuffer(),k=f.getAttribLocation(l,"aLumaPosition"),A=f.createBuffer(),D=f.getAttribLocation(l,"aChromaPosition")}(),J){var ae=function(he,pe,Se){var we=Q.cropLeft/Se,Le=(Q.cropLeft+Q.cropWidth)/Se,Fe=(Q.cropTop+Q.cropHeight)/Q.height,se=Q.cropTop/Q.height,ve=new Float32Array([we,Fe,Le,Fe,we,se,we,se,Le,Fe,Le,se]);f.bindBuffer(f.ARRAY_BUFFER,he),f.bufferData(f.ARRAY_BUFFER,ve,f.STATIC_DRAW)};ae(T,0,Y.y.stride),ae(A,0,Y.u.stride*Q.width/Q.chromaWidth)}H("uTextureY",Y.y.stride,Q.height,Y.y.bytes),H("uTextureCb",Y.u.stride,Q.chromaHeight,Y.u.bytes),H("uTextureCr",Y.v.stride,Q.chromaHeight,Y.v.bytes),s.stripe&&(W("uTextureY",Y.y.stride,Q.height),W("uTextureCb",Y.u.stride,Q.chromaHeight),W("uTextureCr",Y.v.stride,Q.chromaHeight)),f.useProgram(l),f.viewport(0,0,u.width,u.height),z("uTextureY",f.TEXTURE0,0),z("uTextureCb",f.TEXTURE1,1),z("uTextureCr",f.TEXTURE2,2),f.bindBuffer(f.ARRAY_BUFFER,v),f.enableVertexAttribArray(g),f.vertexAttribPointer(g,2,f.FLOAT,!1,0,0),f.bindBuffer(f.ARRAY_BUFFER,T),f.enableVertexAttribArray(k),f.vertexAttribPointer(k,2,f.FLOAT,!1,0,0),f.bindBuffer(f.ARRAY_BUFFER,A),f.enableVertexAttribArray(D),f.vertexAttribPointer(D,2,f.FLOAT,!1,0,0),f.drawArrays(f.TRIANGLES,0,O.length/2)},h.clear=function(){f.viewport(0,0,u.width,u.height),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT)},h.clear(),h}s.stripe=navigator.userAgent.indexOf("Windows")!==-1,s.contextForCanvas=function(u){var l={preferLowPowerToHighPerformance:!0,powerPreference:"low-power",failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!0};return u.getContext("webgl",l)||u.getContext("experimental-webgl",l)},s.isAvailable=function(){var u,l=document.createElement("canvas");l.width=1,l.height=1;try{u=s.contextForCanvas(l)}catch{return!1}if(u){var c=u.TEXTURE0,h=u.createTexture(),f=new Uint8Array(16),p=s.stripe?1:4,v=s.stripe?u.RGBA:u.LUMINANCE,g=s.stripe?u.NEAREST:u.LINEAR;return u.activeTexture(c),u.bindTexture(u.TEXTURE_2D,h),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,g),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,g),u.texImage2D(u.TEXTURE_2D,0,v,p,4,0,v,u.UNSIGNED_BYTE,f),!u.getError()}return!1},s.prototype=Object.create(a.prototype),r.exports=s})()},function(r,n){r.exports={vertex:`precision lowp float;

attribute vec2 aPosition;
attribute vec2 aLumaPosition;
attribute vec2 aChromaPosition;
varying vec2 vLumaPosition;
varying vec2 vChromaPosition;
void main() {
    gl_Position = vec4(aPosition, 0, 1);
    vLumaPosition = aLumaPosition;
    vChromaPosition = aChromaPosition;
}
`,fragment:`// inspired by https://github.com/mbebenita/Broadway/blob/master/Player/canvas.js

precision lowp float;

uniform sampler2D uTextureY;
uniform sampler2D uTextureCb;
uniform sampler2D uTextureCr;
varying vec2 vLumaPosition;
varying vec2 vChromaPosition;
void main() {
   // Y, Cb, and Cr planes are uploaded as LUMINANCE textures.
   float fY = texture2D(uTextureY, vLumaPosition).x;
   float fCb = texture2D(uTextureCb, vChromaPosition).x;
   float fCr = texture2D(uTextureCr, vChromaPosition).x;

   // Premultipy the Y...
   float fYmul = fY * 1.1643828125;

   // And convert that to RGB!
   gl_FragColor = vec4(
     fYmul + 1.59602734375 * fCr - 0.87078515625,
     fYmul - 0.39176171875 * fCb - 0.81296875 * fCr + 0.52959375,
     fYmul + 2.017234375   * fCb - 1.081390625,
     1
   );
}
`,vertexStripe:`precision lowp float;

attribute vec2 aPosition;
attribute vec2 aTexturePosition;
varying vec2 vTexturePosition;

void main() {
    gl_Position = vec4(aPosition, 0, 1);
    vTexturePosition = aTexturePosition;
}
`,fragmentStripe:`// extra 'stripe' texture fiddling to work around IE 11's poor performance on gl.LUMINANCE and gl.ALPHA textures

precision lowp float;

uniform sampler2D uStripe;
uniform sampler2D uTexture;
varying vec2 vTexturePosition;
void main() {
   // Y, Cb, and Cr planes are mapped into a pseudo-RGBA texture
   // so we can upload them without expanding the bytes on IE 11
   // which doesn't allow LUMINANCE or ALPHA textures
   // The stripe textures mark which channel to keep for each pixel.
   // Each texture extraction will contain the relevant value in one
   // channel only.

   float fLuminance = dot(
      texture2D(uStripe, vTexturePosition),
      texture2D(uTexture, vTexturePosition)
   );

   gl_FragColor = vec4(fLuminance, fLuminance, fLuminance, 1);
}
`}},function(r,n,i){i.r(n);var a=i(2),o=i.n(a),s=i(3),u=i.n(s),l=i(0),c=i.n(l),h=i(61),f=i.n(h),p=i(11),v=i.n(p),g=i(18),m=i.n(g),_=i(28),b=i.n(_),w=i(10),T=i(23),k=w.a.get("HTTP.js",{level:2}),A=function(){var U=b()(m.a.mark(function H(W){var z;return m.a.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!(W instanceof Blob)){G.next=5;break}return G.next=3,new Response(W).arrayBuffer();case 3:return z=G.sent,G.abrupt("return",new Uint8Array(z,0));case 5:case"end":return G.stop()}},H)}));return function(H){return U.apply(this,arguments)}}(),D=function(U){if(U)return Object.entries(U).reduce(function(H,W,z){var G=f()(W,2),Y=G[0],Q=G[1];return H+(z===0?Y+"="+encodeURIComponent(Q):"&"+Y+"="+encodeURIComponent(Q))},"")};function O(U,H){var W=(typeof U.clone=="function"?U.clone():void 0)||U,z=function(G,Y){var Q={body:Y,headers:function(J){return J.headers.entries?function(ae){var he=Object.create(Object.getPrototypeOf(ae.headers)),pe=!0,Se=!1,we=void 0;try{for(var Le,Fe=ae.headers.entries()[Symbol.iterator]();!(pe=(Le=Fe.next()).done);pe=!0){var se=f()(Le.value,2),ve=se[0],ge=se[1];he[ve]=ge}}catch(be){Se=!0,we=be}finally{try{pe||Fe.return==null||Fe.return()}finally{if(Se)throw we}}return he}(J):function(ae){var he={},pe=ae.headers.__headers__;for(var Se in pe)he[Se]=pe[Se].join("");return he}(J)}(G),response:G,status:G.status,statusText:G.statusText};return G.ok?Promise.resolve(Q):Promise.reject(Q)};return U[H]().then(function(G){return z(W,G)})}function F(U,H){var W=U.headers.get("content-type"),z=U.clone().body.getReader(),G=0,Y=G,Q=setInterval(function(){var J=50*(G-Y);J<=1||(k.info("HTTP>handleResponse","".concat(Y," | ").concat(G),"".concat(J.toFixed(2)," Bytes/s")),self.postMessage({type:"notice",method:"fetch",noticeType:"speed",data:{speed:J,intervalValue:20,lastReceived:Y,bytesReceived:G}}),Y=G)},20);return z.read().then(function J(ae){return ae.done?(clearInterval(Q),function(){if(H==="ts"||H==="video")return O(U,"blob");if(W.includes("json"))return O(U,"json");if(W.includes("text"))return O(U,"text");if(W.includes("form"))return O(U,"formData");if(W.includes("video")||W.includes("image")||W.includes("octet-stream"))return O(U,"blob");try{return O(U,"text")}catch(he){return Object(T.a)(he,"[HTTP>handleResponse:unknow content-type]",W,U),Promise.resolve(U)}}()):(G+=ae.value.length,z.read().then(J))})}var $=null,B=($||($=new(function(){function U(W){o()(this,U),c()(this,"options",{"content-type":"application/json;charset=UTF-8",cache:"no-cache",mode:"cors"}),Object.assign(this.options,W)}var H;return u()(U,[{key:"setOptions",value:function(W){var z=Object.assign(this.options,W);z.url=function(G){var Y=G.url,Q=G.params;return Q?Y+"?"+D(Q):Y}(z),z.method=z.method||"get",z.headers=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=G.headers,Q=Y===void 0?{}:Y,J=G.method,ae=J===void 0?"get":J,he=G.username,pe=G.password,Se=G.token,we=new Headers(Q);if(he||pe){if(!he)throw new TypeError("username required for basic authentication");if(!pe)throw new TypeError("password required for basic authentication");var Le=(typeof win>"u"?"undefined":v()(win))==="object"&&win.btoa?btoa:function(Fe){return Fe};we.set("Authorization","Basic "+Le(he+":"+pe))}return Se&&we.set("Authorization","Bearer "+Se),ae==="get"||we.get("content-type")||we.set("content-type","application/json"),we}(z),z.body=function(G){var Y=G.headers.get("content-type");if(Y)return Y.includes("json")?JSON.stringify(G.body):Y.includes("x-www-form-urlencoded")?D(G.body):G.body}(z),delete z.username,delete z.password,delete z.token,this.options=z}},{key:"request",value:function(W){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=arguments.length>2?arguments[2]:void 0;if(W)return this.setOptions(Object.assign({url:W},z)),fetch(this.options.url,this.options).then(function(Y){return F(Y,G)});k.error("[HTTP>request]","url is undefined","url:",W,"options:",z)}},{key:"fetch",value:function(W){function z(G){return W.apply(this,arguments)}return z.toString=function(){return W.toString()},z}(function(){var W=b()(m.a.mark(function z(G){var Y,Q,J,ae,he=arguments;return m.a.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(Y=he.length>1&&he[1]!==void 0?he[1]:{},Q=he.length>2?he[2]:void 0,J=he.length>3?he[3]:void 0,G){pe.next=6;break}return k.wran("[HTTP>fetch]","url is undefined","url:",G,"options:",Y),pe.abrupt("return");case 6:return this.setOptions(Object.assign({url:G},Y)),k.info("[HTTP>fetch]","http fetch","url:",G,"options:",Y),pe.next=10,fetch(G,Y);case 10:(ae=pe.sent).ok?ae.text().then(function(Se){self.postMessage({type:"invoke",method:"fetch",fileType:J,name:Q,data:Se})}):self.postMessage({result:"failed"});case 12:case"end":return pe.stop()}},z,this)}));return function(z){return W.apply(this,arguments)}}())},{key:"get",value:(H=b()(m.a.mark(function W(z){var G,Y,Q,J,ae,he=arguments;return m.a.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return G=he.length>1&&he[1]!==void 0?he[1]:{},Y=he.length>2?he[2]:void 0,Q=he.length>3?he[3]:void 0,G.method="get",k.info("[HTTP>get]","http get","url:",z,"options:",G,"name:",Y,"fileType:",Q),ae={type:"invoke",method:"get",fileType:Q,name:Y,url:z},pe.prev=6,pe.next=9,this.request.call(this,z,G,Q);case 9:J=pe.sent,pe.next=15;break;case 12:pe.prev=12,pe.t0=pe.catch(6),k.error("[HTTP>get]","networks error","url:",z,"options:",G,"name:",Y,"fileType:",Q,"ex:",pe.t0);case 15:if(!J||!J.body){pe.next=24;break}if(ae.data=J.body,Q!=="ts"&&Q!=="video"){pe.next=21;break}return pe.next=20,A(ae.data);case 20:ae.arrayBuffer=pe.sent;case 21:ae.arrayBuffer?self.postMessage(ae,[ae.arrayBuffer.buffer]):self.postMessage(ae),pe.next=27;break;case 24:ae.type="error",ae.data=J,self.postMessage(ae);case 27:case"end":return pe.stop()}},W,this,[[6,12]])})),function(W){return H.apply(this,arguments)})}]),U}())({})),$);n.default=function(U){U.onmessage=function(H){var W=H.data,z=W.type,G=W.method;switch(z){case"invoke":B[G].call(B,W.url,W.options,W.name,W.fileType)}}}},function(r,n){r.exports=function(i){if(Array.isArray(i))return i}},function(r,n){r.exports=function(i,a){if(typeof Symbol<"u"&&Symbol.iterator in Object(i)){var o=[],s=!0,u=!1,l=void 0;try{for(var c,h=i[Symbol.iterator]();!(s=(c=h.next()).done)&&(o.push(c.value),!a||o.length!==a);s=!0);}catch(f){u=!0,l=f}finally{try{s||h.return==null||h.return()}finally{if(u)throw l}}return o}}},function(r,n,i){var a=i(98);r.exports=function(o,s){if(o){if(typeof o=="string")return a(o,s);var u=Object.prototype.toString.call(o).slice(8,-1);return u==="Object"&&o.constructor&&(u=o.constructor.name),u==="Map"||u==="Set"?Array.from(o):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?a(o,s):void 0}}},function(r,n){r.exports=function(i,a){(a==null||a>i.length)&&(a=i.length);for(var o=0,s=new Array(a);o<a;o++)s[o]=i[o];return s}},function(r,n){r.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(r,n,i){i.r(n);var a,o=i(2),s=i.n(o),u=i(3),l=i.n(u),c=i(9),h=function(){function re(N){s()(this,re),this.decode=N,this.result=[]}return l()(re,[{key:"openDecode",value:function(){var N=this,L=Module.addFunction(function(I,K,oe,le,me,Ee,He,Be,Ke){var Ze=HEAPU8.subarray(I,I+le*Be),kt=HEAPU8.subarray(K,K+me*Be/2),ar=HEAPU8.subarray(oe,oe+Ee*Be/2),tt={stride_y:le,stride_u:me,stride_v:Ee,width:He,height:Be,buf_y:new Uint8Array(Ze),buf_u:new Uint8Array(kt),buf_v:new Uint8Array(ar),pts:Ke};N.result.push(tt)});Module._openDecoder(L,1)}},{key:"decodeData",value:function(N,L){var I=N.length,K=Module._malloc(I);Module.HEAPU8.set(N,K),Module._decodeData(K,I,L),Module._free(K)}},{key:"flush",value:function(){for(Module._flushDecoder();this.checkData();)this.decode.getDecodeYUV()}},{key:"closeDecode",value:function(){Module._closeDecoder()}},{key:"getYUV",value:function(){var N=null;return this.result.length>0&&(N=this.result.shift()),N}},{key:"checkData",value:function(){return this.result.length>0}}]),re}(),f=function(){function re(N){s()(this,re),this.decode=N}return l()(re,[{key:"openDecode",value:function(){return _web_decoder_open()}},{key:"closeDecode",value:function(N){_web_decoder_close(N)}},{key:"decodeData",value:function(N,L,I){var K=N.length||0;Module.ccall("web_decoder_decode_frame","number",["number","array","number","number"],[I,N,K,L])}},{key:"flush",value:function(N){var L=this.decode;if(_web_decoder_decode_frame)for(;!(_web_decoder_decode_frame(N,null,0,0)<0||!_web_got_frame(N));)L.getDecodeYUV(N)}},{key:"getYUV",value:function(N){var L=_web_get_stride_y(N),I=_web_get_stride_u(N),K=_web_get_stride_v(N),oe=_web_get_width(N),le=_web_get_height(N),me=_web_get_frame_y(N),Ee=_web_get_frame_u(N),He=_web_get_frame_v(N),Be=parseInt(_web_got_frame_pts(N)*c.a*1e3),Ke=HEAPU8.subarray(me,me+L*le),Ze=HEAPU8.subarray(Ee,Ee+I*le/2),kt=HEAPU8.subarray(He,He+K*le/2);return{stride_y:L,stride_u:I,stride_v:K,width:oe,height:le,buf_y:new Uint8Array(Ke),buf_u:new Uint8Array(Ze),buf_v:new Uint8Array(kt),pts:Be}}},{key:"checkData",value:function(N){return _web_got_frame(N)}}]),re}(),p=function(){function re(){s()(this,re),this.p=null,this.ptsList=[],this.ptsOffset=0,this.fps=0,this.lastDuration=0,this.previousPTS=0,this.status=!1,this.yuvArray=[],this.decodeTool=null}return l()(re,[{key:"loadWASM",value:function(N){var L=N.data.libPath;self.Module={locateFile:function(I){return L+I}},self.importScripts(L+"libffmpeg.js"),self.Module.onRuntimeInitialized=function(){console.log("wasm loaded"),Module._web_decoder_open?self.decode.decodeTool=new f(self.decode,this.event):self.decode.decodeTool=new h(self.decode,this.event),self.decode.openDecode(),self.decode.onWasmLoaded()}}},{key:"openDecode",value:function(){try{this.status||(this.p=this.decodeTool.openDecode(),this.status=!0),console.log("opendecode")}catch(N){console.error(N)}}},{key:"closeDecode",value:function(){this.status&&(this.decodeTool.closeDecode(this.p),this.status=!1)}},{key:"push",value:function(N){var L=this;N.forEach(function(I){var K=I.PTS,oe=I.data_byte,le=I.partEnd,me=I.lastTS,Ee=L.ptsList;L.insertSort(Ee,parseInt(K*c.a*1e3)),L.decodeTool.decodeData(oe,K,L.p),L.decodeTool.checkData(L.p)&&L.getDecodeYUV(L.p,le,me)})}},{key:"getDecodeYUV",value:function(N,L,I){if(!this.reseting){var K=0;this.fps||(this.fps=this.getFPS());var oe=this.decodeTool.getYUV(N),le=this.ptsList.shift();oe.pts=le,this.previousPTS&&le?(K=parseInt(le-this.previousPTS),this.lastDuration=K):K=this.lastDuration,oe.duration=K,oe.fps=this.fps,le&&(this.previousPTS=le,this.yuvArray.push(oe),this.yuvArray.length>10&&(self.postMessage({type:"decoded",data:this.yuvArray}),this.yuvArray=[])),L&&(this.yuvArray.length&&(self.postMessage({type:"decoded",data:this.yuvArray}),this.yuvArray=[]),self.postMessage({type:"partEnd",data:I}))}}},{key:"reset",value:function(){this.reseting=!0,this.ptsList=[],this.ptsOffset=0,this.previousPTS=0,this.fps=0,this.yuvArray=[],this.closeDecode(),this.openDecode(),self.postMessage({type:"resetEnd",data:Date.now()}),this.reseting=!1}},{key:"flush",value:function(){this.decodeTool.flush(this.p),this.yuvArray.length&&(self.postMessage({type:"decoded",data:this.yuvArray}),this.yuvArray=[]),this.closeDecode(),self.postMessage({type:"flushEnd",data:this.previousPTS})}},{key:"getFPS",value:function(){var N=this.ptsList;return N.length>=2?Math.round(1e3/(N[1]-N[0])):null}},{key:"onWasmLoaded",value:function(){self.postMessage({type:"dataProcessorReady"})}},{key:"insertSort",value:function(N,L){var I=N.length;if(I!==0){for(var K=0;K<I;K++)if(L<N[K]){for(var oe=I;oe>K;)N[oe]=N[oe-1],oe--;return void(N[K]=L)}N.push(L)}else N.push(L)}}]),re}(),v=i(0),g=i.n(v);function m(re,N,L){return(m=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(I,K,oe){var le=function(Ee,He){for(;!Object.prototype.hasOwnProperty.call(Ee,He)&&(Ee=$(Ee))!==null;);return Ee}(I,K);if(le){var me=Object.getOwnPropertyDescriptor(le,K);return me.get?me.get.call(oe):me.value}})(re,N,L||re)}function _(re){return function(N){if(Array.isArray(N)){for(var L=0,I=new Array(N.length);L<N.length;L++)I[L]=N[L];return I}}(re)||function(N){if(Symbol.iterator in Object(N)||Object.prototype.toString.call(N)==="[object Arguments]")return Array.from(N)}(re)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(re){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(re)}function w(re,N){return!N||b(N)!=="object"&&typeof N!="function"?T(re):N}function T(re){if(re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re}function k(re,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");re.prototype=Object.create(N&&N.prototype,{constructor:{value:re,writable:!0,configurable:!0}}),N&&F(re,N)}function A(re){var N=typeof Map=="function"?new Map:void 0;return(A=function(L){if(L===null||(I=L,Function.toString.call(I).indexOf("[native code]")===-1))return L;var I;if(typeof L!="function")throw new TypeError("Super expression must either be null or a function");if(N!==void 0){if(N.has(L))return N.get(L);N.set(L,K)}function K(){return O(L,arguments,$(this).constructor)}return K.prototype=Object.create(L.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),F(K,L)})(re)}function D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function O(re,N,L){return(O=D()?Reflect.construct:function(I,K,oe){var le=[null];le.push.apply(le,K);var me=new(Function.bind.apply(I,le));return oe&&F(me,oe.prototype),me}).apply(null,arguments)}function F(re,N){return(F=Object.setPrototypeOf||function(L,I){return L.__proto__=I,L})(re,N)}function $(re){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)})(re)}function B(re,N){if(!(re instanceof N))throw new TypeError("Cannot call a class as a function")}function U(re,N){for(var L=0;L<N.length;L++){var I=N[L];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(re,I.key,I)}}function H(re,N,L){return N&&U(re.prototype,N),L&&U(re,L),re}(function(re){re.ERROR="ERROR",re.INFO="INFO",re.DATA="DATA",re.DEMUX_DATA="DEMUX_DATA",re.DONE="DONE"})(a||(a={}));var W,z=Object.create||function(re){var N=function(){};return N.prototype=re,new N},G=Object.keys||function(re){for(var N in re)Object.prototype.hasOwnProperty.call(re,N);return N},Y=Function.prototype.bind||function(re){var N=this;return function(){return N.apply(re,arguments)}},Q=10,J=function(){function re(){B(this,re),this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=z(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}return H(re,[{key:"emit",value:function(N){for(var L=arguments.length,I=new Array(L>1?L-1:0),K=1;K<L;K++)I[K-1]=arguments[K];var oe,le,me,Ee,He,Be,Ke=N==="error";if(Be=this._events)Ke=Ke&&Be.error==null;else if(!Ke)return!1;if(Ke){if(arguments.length>1&&(oe=arguments[1]),oe instanceof Error)throw oe;var Ze=new Error('Unhandled "error" event. ('+oe+")");throw Ze.context=oe,Ze}if(!(le=Be[N]))return!1;var kt=typeof le=="function";switch(me=arguments.length){case 1:he(le,kt,this);break;case 2:pe(le,kt,this,arguments[1]);break;case 3:Se(le,kt,this,arguments[1],arguments[2]);break;case 4:we(le,kt,this,arguments[1],arguments[2],arguments[3]);break;default:for(Ee=new Array(me-1),He=1;He<me;He++)Ee[He-1]=arguments[He];Le(le,kt,this,Ee)}return!0}},{key:"on",value:function(N,L){return function(I,K,oe){var le,me,Ee;if(typeof oe!="function")throw new TypeError('"listener" argument must be a function');if((me=I._events)?(me.newListener&&(I.emit("newListener",K,oe.listener?oe.listener:oe),me=I._events),Ee=me[K]):(me=I._events=z(null),I._eventsCount=0),Ee){if(typeof Ee=="function"?Ee=me[K]=[Ee,oe]:Ee.push(oe),!Ee.warned&&(le=function(Be){return Be._maxListeners===void 0?re.defaultMaxListeners:Be._maxListeners}(I))&&le>0&&Ee.length>le){Ee.warned=!0;var He=new(function(Be){function Ke(){return B(this,Ke),w(this,$(Ke).apply(this,arguments))}return k(Ke,Be),Ke}(A(Error)))("Possible Dispatcher memory leak detected. "+Ee.length+' "'+String(K)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');He.name="MaxListenersExceededWarning",He.emitter=I,He.type=K,He.count=Ee.length,(typeof console>"u"?"undefined":b(console))==="object"&&console.warn&&console.warn("%s: %s",He.name,He.message)}}else Ee=me[K]=oe,++I._eventsCount;return I}(this,N,L)}},{key:"once",value:function(N,L){if(typeof L!="function")throw new TypeError('"listener" argument must be a function');return this.on(N,function(I,K,oe){var le={fired:!1,wrapFn:void 0,target:I,type:K,listener:oe},me=Y.call(se,le);return me.listener=oe,le.wrapFn=me,me}(this,N,L)),this}},{key:"off",value:function(N,L){return Fe.call(this,N,L)}},{key:"removeAllListeners",value:function(N){var L,I,K;if(!(I=this._events))return this;if(!I.off)return arguments.length===0?(this._events=z(null),this._eventsCount=0):I[N]&&(--this._eventsCount==0?this._events=z(null):delete I[N]),this;if(arguments.length===0){var oe,le=G(I);for(K=0;K<le.length;++K)(oe=le[K])!=="off"&&this.removeAllListeners(oe);return this.removeAllListeners("off"),this._events=z(null),this._eventsCount=0,this}if(typeof(L=I[N])=="function")this.off(N,L);else if(L)for(K=L.length-1;K>=0;K--)this.off(N,L[K]);return this}},{key:"listeners",value:function(N){return ve(this,N,!0)}},{key:"rawListeners",value:function(N){return ve(this,N,!1)}},{key:"listenerCount",value:function(){return re.listenerCount.apply(this,arguments)}}],[{key:"listenerCount",value:function(N,L){return typeof N.listenerCount=="function"?N.listenerCount(L):ge.call(N,L)}}]),re}();try{var ae={};Object.defineProperty&&Object.defineProperty(ae,"x",{value:0}),W=ae.x===0}catch{W=!1}function he(re,N,L){if(N)re.call(L);else for(var I=re.length,K=be(re,I),oe=0;oe<I;++oe)try{K[oe].call(L)}catch(le){console.error(le)}}function pe(re,N,L,I){if(N)re.call(L,I);else for(var K=re.length,oe=be(re,K),le=0;le<K;++le)try{oe[le].call(L,I)}catch(me){console.error(me)}}function Se(re,N,L,I,K){if(N)re.call(L,I,K);else for(var oe=re.length,le=be(re,oe),me=0;me<oe;++me)try{le[me].call(L,I,K)}catch(Ee){console.error(Ee)}}function we(re,N,L,I,K,oe){if(N)re.call(L,I,K,oe);else for(var le=re.length,me=be(re,le),Ee=0;Ee<le;++Ee)try{me[Ee].call(L,I,K,oe)}catch(He){console.error(He)}}function Le(re,N,L,I){if(N)re.apply(L,I);else for(var K=re.length,oe=be(re,K),le=0;le<K;++le)try{oe[le].apply(L,I)}catch(me){console.error(me)}}function Fe(re,N){var L,I,K,oe,le;if(typeof N!="function")throw new TypeError('"listener" argument must be a function');if(!(I=this._events))return this;if(!(L=I[re]))return this;if(L===N||L.listener===N)--this._eventsCount==0?this._events=z(null):(delete I[re],I.off&&this.emit("off",re,L.listener||N));else if(typeof L!="function"){for(K=-1,oe=L.length-1;oe>=0;oe--)if(L[oe]===N||L[oe].listener===N){le=L[oe].listener,K=oe;break}if(K<0)return this;K===0?L.shift():function(me,Ee){for(var He=Ee,Be=He+1,Ke=me.length;Be<Ke;He+=1,Be+=1)me[He]=me[Be];me.pop()}(L,K),L.length===1&&(I[re]=L[0]),I.off&&this.emit("off",re,le||N)}return this}function se(){if(!this.fired)switch(this.target.off(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var re=new Array(arguments.length),N=0;N<re.length;++N)re[N]=arguments[N];this.listener.apply(this.target,re)}}function ve(re,N,L){var I=re._events;if(!I)return[];var K=I[N];return K?typeof K=="function"?L?[K.listener||K]:[K]:L?function(oe){for(var le=new Array(oe.length),me=0;me<le.length;++me)le[me]=oe[me].listener||oe[me];return le}(K):be(K,K.length):[]}function ge(re){var N=this._events;if(N){var L=N[re];if(typeof L=="function")return 1;if(L)return L.length}return 0}function be(re,N){for(var L=new Array(N),I=0;I<N;++I)L[I]=re[I];return L}W?Object.defineProperty(J,"defaultMaxListeners",{enumerable:!0,get:function(){return Q},set:function(re){if(typeof re!="number"||re<0||re!=re)throw new TypeError('"defaultMaxListeners" must be a positive number');Q=re}}):J.defaultMaxListeners=Q;var Te=function(re){function N(){return B(this,N),w(this,$(N).apply(this,arguments))}return k(N,re),N}(J),$e=Object.prototype.toString;function Ie(re){return!!re&&b(re)=="object"}function Ne(re){return typeof re=="number"&&!isNaN(re)}function ht(re){return Ie(re)&&$e.call(re).toLowerCase()==="[object arraybuffer]"}var Xt,Rt=function(){function re(){B(this,re),this.list_=[]}return H(re,[{key:"clear",value:function(){var N=this.list_.length;N>0&&this.list_.splice(0,N),this.byteLength_=null}},{key:"toNewBytes",value:function(){for(var N=null,L=0;N===null;)try{L++,N=new Uint8Array(this.byteLength)}catch(le){if(L>50)throw le}for(var I=0,K=0;I<this.list_.length;I++){var oe=this.list_[I];N.set(oe,K),K+=oe.byteLength}return N}},{key:"append",value:function(N){N instanceof re?this.list_=this.list_.concat(N.bufferList):this.list_.push(N),this.byteLength_=null}},{key:"cut",value:function(N){var L=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],I=null;if(N>0&&!this.empty){for(var K=this.list_,oe=0,le=0;K.length>0;){var me=K.shift();if(le!==0){var Ee=N-oe;if(me.byteLength>=Ee){L&&I.set(me.subarray(0,Ee),oe),(me=me.subarray(Ee)).byteLength>0&&K.unshift(me);break}L&&I.set(me,oe),oe+=me.byteLength;break}if(me.byteLength>=N){L&&(I=me.subarray(0,N)),me.byteLength>N&&(me=me.subarray(N),K.unshift(me));break}if(L){try{I=new Uint8Array(N)}catch(He){throw"alloc_memory_error@ cache buffer: ".concat(N," ").concat(He.message)}I.set(me,0)}oe+=me.byteLength,le++}this.byteLength_=null}return I}},{key:"byteLength",get:function(){if(!Ne(this.byteLength_)){for(var N=0,L=0;L<this.list_.length;L++)N+=this.list_[L].byteLength;this.byteLength_=N}return this.byteLength_}},{key:"bytes",get:function(){var N=this.bufferList,L=null;return N.length>0&&(L=N.length===0?N[0]:this.toNewBytes()),L}},{key:"empty",get:function(){return this.list_.length===0}},{key:"bufferList",get:function(){return this.list_}}]),re}(),dn=function(){function re(){B(this,re),this.map_={}}return H(re,[{key:"push",value:function(N,L){Object.prototype.hasOwnProperty.call(this.map_,N)?this.map_[N].push(L):this.map_[N]=[L]}},{key:"get",value:function(N){var L=this.map_[N];return L?L.slice():null}},{key:"getAll",value:function(){var N=[];for(var L in this.map_)N.push.apply(N,this.map_[L]);return N}},{key:"remove",value:function(N,L){var I=this.map_[N];if(I)for(var K=0;K<I.length;++K)I[K]==L&&(I.splice(K,1),--K)}},{key:"clear",value:function(){this.map_={}}},{key:"forEach",value:function(N){for(var L in this.map_)N(L,this.map_[L])}}]),re}(),jr=function(){function re(N,L,I){B(this,re),this.target=N,this.type=L,this.listener=I,this.target.addEventListener?this.target.addEventListener(L,I,!1):this.target.on&&this.target.on(L,I,!1)}return H(re,[{key:"off",value:function(){this.target.removeEventListener?this.target.removeEventListener(this.type,this.listener,!1):this.target.off&&this.target.off(this.type,this.listener,!1),this.target=null,this.listener=null}}]),re}(),de=function(){function re(){B(this,re),this.bindingMap_=new dn}return H(re,[{key:"destroy",value:function(){this.removeAll(),this.bindingMap_=null}},{key:"on",value:function(N,L,I){if(this.bindingMap_){var K=new jr(N,L,I);return this.bindingMap_.push(L,K),this}}},{key:"once",value:function(N,L,I){this.on(N,L,function(K){this.off(N,L),I(K)}.bind(this))}},{key:"off",value:function(N,L){if(this.bindingMap_)for(var I=this.bindingMap_.get(L)||[],K=0;K<I.length;++K){var oe=I[K];oe.target==N&&(oe.off(),this.bindingMap_.remove(L,oe))}}},{key:"removeAll",value:function(){if(this.bindingMap_){for(var N=this.bindingMap_.getAll(),L=0;L<N.length;++L)N[L].off();this.bindingMap_.clear()}}}]),re}(),Gt=(typeof window>"u"?self:window).console,Ar=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof importScripts<"u",_r=">>>",Ae=new(function(re){function N(){var L;return B(this,N),(L=w(this,$(N).call(this)))._enable=!1,L}return k(N,re),H(N,[{key:"log",value:function(){for(var L=arguments.length,I=new Array(L),K=0;K<L;K++)I[K]=arguments[K];var oe;Ar?Ae.emit(this.MSG_NAME,"log",[].concat(I).join("")):this._enable&&(oe=Gt.log).call.apply(oe,[Gt,_r].concat(I))}},{key:"debug",value:function(){for(var L=arguments.length,I=new Array(L),K=0;K<L;K++)I[K]=arguments[K];var oe;Ar?Ae.emit(this.MSG_NAME,"debug",[].concat(I).join("")):this._enable&&Gt.debug&&(oe=Gt.debug).call.apply(oe,[Gt,_r].concat(I))}},{key:"assert",value:function(){if(this._enable&&Gt.assert){for(var L,I=arguments.length,K=new Array(I),oe=0;oe<I;oe++)K[oe]=arguments[oe];var le=K[0],me=Array.prototype.slice.call(K,1);me.unshift(_r),(L=Gt.assert).call.apply(L,[Gt,le].concat(_(me)))}}},{key:"warn",value:function(){for(var L=arguments.length,I=new Array(L),K=0;K<L;K++)I[K]=arguments[K];var oe;Ar?Ae.emit(this.MSG_NAME,"warn",[].concat(I).join("")):this._enable&&(oe=Gt.warn).call.apply(oe,[Gt,_r].concat(I))}},{key:"error",value:function(){for(var L=arguments.length,I=new Array(L),K=0;K<L;K++)I[K]=arguments[K];var oe;Ar?Ae.emit(this.MSG_NAME,"error",[].concat(I).join("")):this._enable&&(oe=Gt.error).call.apply(oe,[Gt,_r].concat(I))}},{key:"enable",get:function(){return this._enable},set:function(L){this._enable=L,this.MSG_NAME="__log__"}}]),N}(J)),mt=function(re){function N(){return B(this,N),w(this,$(N).call(this))}return k(N,re),H(N,[{key:"pipe",value:function(L){return this.on("reset",function(){L.reset()}),this.on("data",function(I){L.push(I)}),this.on("done",function(I){L.flush(I)}),L}},{key:"unpipe",value:function(){return this.removeAllListeners("reset"),this.removeAllListeners("data"),this.removeAllListeners("done"),this}},{key:"push",value:function(L,I){this.emit("data",L)}},{key:"flush",value:function(L){this.emit("done",L)}},{key:"reset",value:function(){this.emit("reset")}}]),N}(J),gr=function(re){function N(){var L,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return B(this,N),L=w(this,$(N).call(this)),I.debug&&(Ae.enable=!0),L.ctx_=new Te,L.options_=I,L.cache_buffer_=new Rt,L}return k(N,re),H(N,[{key:"listenEndStream_",value:function(){var L=this;this.eventManager_=new de,this.eventManager_.on(this.endStream,"data",function(I){L.emit(a.DEMUX_DATA,I)}).on(this.endStream,"done",function(I){L.emit(a.DONE,I)}).on(this.ctx_,"error",function(I){L.emit(a.ERROR,I)})}},{key:"constraintPushData_",value:function(L){var I,K=null;return ht(L)||Ie(I=L)&&$e.call(I).toLowerCase()==="[object uint8array]"?K=ht(L)?new Uint8Array(L):L:(Ae.error("Data pushed is not an ArrayBuffer or Uint8Array: ".concat(L)),K)}},{key:"reset",value:function(){}},{key:"destroy",value:function(){this.unpipe(),this.endStream.unpipe(),this.eventManager_.removeAll()}}]),N}(mt);(function(re){re[re.WORKER_EXCEPTION=0]="WORKER_EXCEPTION",re[re.WORKER_MSG_EXCEPTION=1]="WORKER_MSG_EXCEPTION",re[re.TS_SYNC_BYTE=2]="TS_SYNC_BYTE",re[re.FLV_HEAD_SIGNATURE=3]="FLV_HEAD_SIGNATURE",re[re.FLV_NOT_EXPECTED_ADJACENT_DATA=4]="FLV_NOT_EXPECTED_ADJACENT_DATA"})(Xt||(Xt={}));var pn=Xt;function Fn(re){var N=0;return ArrayBuffer.isView(re)&&(N=re.byteOffset,re=re.buffer),new DataView(re,N)}var Ti=function(){function re(){B(this,re)}return H(re,[{key:"readUint8",value:function(N,L){return Fn(N).getUint8(L)}},{key:"readUint16",value:function(N,L){var I=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return Fn(N).getUint16(L,I)}},{key:"readUint32",value:function(N,L){var I=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return Fn(N).getUint32(L,I)}}]),re}(),wc=function(re){function N(L){var I;B(this,N),(I=w(this,$(N).call(this))).table_id=L[0],I.section_syntax_indicator=L[1]>>7,I.section_length=(15&L[1])<<8|L[2],I.transport_stream_id=I.readUint16(L,3),I.version_number=L[5]>>1&31,I.current_next_indicator=L[5]&&1,I.section_number=L[6],I.last_section_number=L[7],I.network_PID=0;var K,oe=0,le=I.section_length-4-5;for(I.pmtTable=[];oe<le;oe+=4)(K=I.readUint16(L,8+oe))==0?(I.network_PID=(31&L[10+oe])<<8|L[11+oe],Ae.log("packet->network_PID %0x /n/n",I.network_PID)):I.pmtTable.push({programNum:K,program_map_PID:(31&L[10+oe])<<8|L[11+oe]});var me=I.section_length+3;return I.CRC_32=(255&L[me-4])<<24|(255&L[me-3])<<16|(255&L[me-2])<<8|255&L[me-1],I}return k(N,re),N}(Ti),$n=function(re){function N(L){var I;if(B(this,N),(I=w(this,$(N).call(this))).table_id=L[0],I.section_syntax_indicator=L[1]>>7,I.section_length=(15&L[1])<<8|L[2],I.program_number=I.readUint16(L,3),I.version_number=L[5]>>1&31,I.current_next_indicator=L[5]&&1,I.section_number=L[6],I.last_section_number=L[7],I.PCR_PID=(31&L[8])<<8|L[9],I.program_info_length=(15&L[10])<<8|L[11],I.program_info_length<0)return w(I);if(I.program_info_length>2)for(var K=0;K<I.program_info_length;)K+=L[13+K];var oe=12+I.program_info_length,le=I.section_length-I.program_info_length-9-4,me=oe+le;if(oe>=me)return Ae.warn("es_section_pos < es_section_end ".concat(oe,", ").concat(me)),w(I);I.pes_table=[];for(var Ee=0;Ee<le;){var He=L[oe+Ee],Be=8191&I.readUint16(L,oe+Ee+1),Ke=4095&I.readUint16(L,oe+Ee+3);if(I.pes_table.push({streamType:He,PID:Be}),Ke>2)for(var Ze=0,kt=oe+Ee+5;Ze<Ke;)Ze+=L[kt+Ze];Ee+=Ke+5}var ar=I.section_length+3;return I.CRC_32=(255&L[ar-4])<<24|(255&L[ar-3])<<16|(255&L[ar-2])<<8|255&L[ar-1],I}return k(N,re),H(N,[{key:"parse",value:function(){}}]),N}(Ti),Jn=function(re){function N(L){var I;B(this,N),(I=w(this,$(N).call(this))).table_id=L[0],I.section_syntax_indicator=L[1]>>7,I.section_length=(15&L[1])<<8|L[2],I.transport_stream_id=I.readUint16(L,3),I.version_number=L[5]>>1&31,I.current_next_indicator=1&L[5],I.section_number=L[6],I.last_section_number=L[7],I.original_network_id=I.readUint16(L,8);var K=I.section_length-8-4;I.service_table=[];for(var oe=0;oe<K;){for(var le=0,me={service_id:I.readUint16(L,11),EIT_schedule_flag:2&L[13],EIT_present_following_flag:1&L[13],running_status:L[14]>>5,free_CA_mode:L[14]>>4&1,descriptors_loop_length:(15&L[14])<<8|L[15],provider_name:"",name:""};le<me.descriptors_loop_length;){var Ee=16+le,He=L[Ee],Be=L[Ee+1];switch(He){case 72:var Ke=[],Ze=L[Ee+3],kt=0,ar=0,tt=Ee+4;for(kt=0;kt<Ze;kt++)Ke.push(String.fromCharCode(L[tt])),tt+=1;me.provider_name=Ke.join("");var An=[],dt=L[tt];for(tt+=1,ar=0;ar<dt;ar++)An.push(String.fromCharCode(L[tt])),tt+=1;me.name=An.join("");break;default:Ae.warn("sdt section unhandled descriptor_tag ".concat(He))}le+=2+Be}I.service_table.push(me),oe+=5+me.descriptors_loop_length}return I}return k(N,re),N}(Ti),Lr=function re(){B(this,re)},hs=function(){function re(N){B(this,re),this.context=N,this.metadata=new Lr,this.pat_table=[],this.pes_streams=[]}return H(re,[{key:"reset",value:function(){this.metadata=new Lr,this.pat_table.splice(0,this.pat_table.length),this.pes_streams.splice(0,this.pes_streams.length)}},{key:"parse",value:function(N){N.PID===0?this._parsePat(N):N.PID===1||N.PID===2||3<=N.PID&&N.PID<=15||(N.PID===17?this._parseSdt(N):N.PID===this.currentProgramPID&&this._parsePmt(N))}},{key:"findTrack",value:function(N){for(var L=null,I=this.pes_streams,K=0;K<I.length;K++)if(I[K].id===N){L=I[K];break}return L}},{key:"_parsePat",value:function(N){var L;if(N.payload_unit_start_indicator){var I=N.payload[0];L=N.payload.subarray(I+1)}else L=N.payload;for(var K=new wc(L),oe=0;oe<K.pmtTable.length;oe++)this._add_pid_to_pmt(K.pmtTable[oe].programNum,K.pmtTable[oe].program_map_PID);return K}},{key:"_add_pid_to_pmt",value:function(N,L){var I=this.pat_table;(function(K){for(var oe,le=0;le<I.length;le++)if((oe=I[le]).id===K)return{idx:le,item:oe};return null})(N)||I.push({id:N,pid:L})}},{key:"_parsePmt",value:function(N){var L;if(N.payload_unit_start_indicator){var I=N.payload[0];L=N.payload.subarray(I+1)}else L=N.payload;for(var K=new $n(L),oe=0;oe<K.pes_table.length;oe++)this._add_pes_stream(K.pes_table[oe],K);return K}},{key:"_add_pes_stream",value:function(N,L){var I=this.pes_streams;(function(K){for(var oe,le=0;le<I.length;le++)if((oe=I[le]).id===K)return{idx:le,item:oe};return null})(N.PID)||I.push({id:N.PID,stream_type:N.streamType,pcr_pid:L.PCR_PID,duration:0,sps:[],pps:[],pixelRatio:[1,1],timescale:9e4,width:0,height:0})}},{key:"_parseSdt",value:function(N){var L;if(N.payload_unit_start_indicator){var I=N.payload[0];L=N.payload.subarray(I+1)}else L=N.payload;var K=new Jn(L);return K.service_table.length>0&&(this.metadata.service_name=K.service_table[0].name,this.metadata.service_provider=K.service_table[0].provider_name),K}},{key:"currentProgramPID",get:function(){for(var N=[],L=0;L<this.pat_table.length;L++)N.push(this.pat_table[L].pid);return N.length>0?N[0]:-1}}]),re}(),ds=function(re){function N(L,I){var K;return B(this,N),(K=w(this,$(N).call(this))).context=L,K.PSI=I,K.videoTrack=null,K.audioTrack=null,K.captionTrack=null,K}return k(N,re),H(N,[{key:"push",value:function(L){for(var I,K=L,oe=0;oe<K.length;oe++)switch((I=K[oe]).type){case"video":this._complexVideo(I);break;case"audio":this._complexAudio(I);break;case"caption":this._complexCaption(I)}}},{key:"flush",value:function(){this.emit("done"),this._clearStream()}},{key:"reset",value:function(){this._clearStream()}},{key:"_clearStream",value:function(){this.videoTrack=null,this.audioTrack=null,this.captionTrack=null}},{key:"_complexVideo",value:function(L){var I=this.PSI.findTrack(L.trackId);I&&(I.type="video",I.gops=L,I.firstDTS=L[0][0].dts,I.firstPTS=L[0][0].pts,I.duration=Number.POSITIVE_INFINITY,this.videoTrack=I,this.emit("data",{videoTrack:this.videoTrack}))}},{key:"_complexAudio",value:function(L){var I=this.PSI.findTrack(L.trackId);I&&(I.type="audio",I.frames=L,I.firstPTS=I.firstDTS=L[0].dts,I.duration=Number.POSITIVE_INFINITY,this.audioTrack=I,this.emit("data",{audioTrack:this.audioTrack}))}},{key:"_complexCaption",value:function(){}}]),N}(mt),Ki={mac:!1,iphone:!1,android:!1},yr={version:!1,CHROME:!1,SAFARI:!1,FIREFOX:!1,IE11:!1,IE:!1,EDGE:!1,WECHAT:!1},Ct=navigator.userAgent.toLowerCase(),Wr=/(edge)\/([\w.]+)/.exec(Ct)||/(opr)[/]([\w.]+)/.exec(Ct)||/(chrome)[ /]([\w.]+)/.exec(Ct)||/(firefox)[ /]([\w.]+)/.exec(Ct)||/(iemobile)[/]([\w.]+)/.exec(Ct)||/(version)(applewebkit)[ /]([\w.]+).*(safari)[ /]([\w.]+)/.exec(Ct)||/(webkit)[ /]([\w.]+).*(version)[ /]([\w.]+).*(safari)[ /]([\w.]+)/.exec(Ct)||/(webkit)[ /]([\w.]+)/.exec(Ct)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(Ct)||/(msie) ([\w.]+)/.exec(Ct)||Ct.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(Ct)||Ct.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(Ct)||[],Ra=/(ipad)/.exec(Ct)||/(ipod)/.exec(Ct)||/(windows phone)/.exec(Ct)||/(iphone)/.exec(Ct)||/(kindle)/.exec(Ct)||/(silk)/.exec(Ct)||/(android)/.exec(Ct)||/(win)/.exec(Ct)||/(mac)/.exec(Ct)||/(linux)/.exec(Ct)||/(cros)/.exec(Ct)||/(playbook)/.exec(Ct)||/(bb)/.exec(Ct)||/(blackberry)/.exec(Ct)||[],Hr={version:void 0},Hn={browser:Wr[5]||Wr[3]||Wr[1]||"",version:Wr[2]||Wr[4]||"0",versionNumber:Wr[4]||Wr[2]||"0",platform:Ra[0]||""};if(Hn.browser){Hr[Hn.browser]=!0;var Zi=Hn.versionNumber.split(".");Hr.version={major:parseInt(Hn.versionNumber,10),string:Hn.version},Zi.length>1&&(Hr.version.minor=parseInt(Zi[1],10)),Zi.length>2&&(Hr.version.build=parseInt(Zi[2],10))}yr.version=Hr.version,yr.CHROME=!!Hr.chrome,yr.SAFARI=!!Hr.safari&&!yr.CHROME,yr.FIREFOX=!!Hr.firefox,yr.IE11=/rv:11/.test(Ct),yr.IE=!!Hr.msie||yr.IE11,yr.EDGE=!!Hr.edge,yr.WECHAT=/(wechat)|(micromessenger)/.test(Ct),Ki.mac=!!Hn.platform.mac,Ki.iphone=!!Hn.platform.iphone,Ki.android=!!Hn.platform.android;var ps=yr,Ci=Ki,vo=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],vs=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],go=function(re){function N(){return B(this,N),w(this,$(N).call(this))}return k(N,re),H(N,[{key:"push",value:function(L){for(var I,K,oe,le,me,Ee=L.pts,He=L.dts,Be=L.payload,Ke=0,Ze=0;Ke+5<Be.length;)if(Be[Ke]===255&&(246&Be[Ke+1])==240){if(K=2*(1&~Be[Ke+1]),I=(3&Be[Ke+3])<<11|Be[Ke+4]<<3|(224&Be[Ke+5])>>5,me=9e4*(le=1024*(1+(3&Be[Ke+6])))/vs[(60&Be[Ke+2])>>>2],oe=Ke+I,Be.byteLength<oe)return;var kt={pts:Ee+Ze*me,dts:He+Ze*me,sampleCount:le,audioObjectType:1+(Be[Ke+2]>>>6&3),channelCount:(1&Be[Ke+2])<<2|(192&Be[Ke+3])>>>6,sampleRate:vs[(60&Be[Ke+2])>>>2],samplingFrequencyIndex:(60&Be[Ke+2])>>>2,sampleSize:16,data:Be.subarray(Ke+7+K,oe)};if(this.emit("frame",kt),Be.byteLength===oe)return Be=void 0,void this.emit("done");Ze++,Be=Be.subarray(oe)}else Ke++}}]),N}(J),rn=function(re){function N(L){var I;return B(this,N),(I=w(this,$(N).call(this))).PSI=L,I.trackId=null,I.codec=new go,I.codec.on("frame",function(K){I.frames.push(K),I.frames.byteLength+=K.data.byteLength,I.frames.trackId=I.trackId}),I._newFrames(),I}return k(N,re),H(N,[{key:"push",value:function(L){L.stream_type===15&&(this.trackId=L.pid,this.codec.push({dts:L.pes.DTS,pts:L.pes.PTS,payload:L.pes.data_byte}))}},{key:"flush",value:function(){if(this.frames.length>0){var L=this.frames.length,I=this.frames[0],K=this.frames[L-1],oe=K.sampleRate*K.sampleCount/9e4;this.frames.firstDTS=I.dts,this.frames.firstPTS=I.pts,this.frames.duration=L===1?oe:oe+(K.pts-I.pts),this._updateTrackMeta(I),this.emit("data",this.frames),this.reset(),this.emit("done")}}},{key:"reset",value:function(){this.trackId=null,this._newFrames()}},{key:"_newFrames",value:function(){this.frames=[],this.frames.type="audio",this.frames.byteLength=0,this.frames.duration=0,this.frames.firstDTS=0,this.frames.firstPTS=0}},{key:"_updateTrackMeta",value:function(L){var I=this.PSI.findTrack(this.trackId),K=function(oe,le,me){var Ee,He,Be=oe;if(!(le>vo.length-1))return ps.FIREFOX?le>=6?(oe=5,He=new Array(4),Ee=le-3):(oe=2,He=new Array(2),Ee=le):Ci.android?(oe=2,He=new Array(2),Ee=le):(oe=5,He=new Array(4),le>=6?Ee=le-3:(me===1&&(oe=2,He=new Array(2)),Ee=le)),He[0]=oe<<3,He[0]|=(14&le)>>1,He[1]|=(1&le)<<7,He[1]|=me<<3,oe===5&&(He[1]|=(14&Ee)>>1,He[2]=(1&Ee)<<7,He[2]|=8,He[3]=0),{config:He,sampleRate:vo[le],channelCount:me,codec:"mp4a.40."+oe,realCodec:"mp4a.40."+Be};Ae.error("invalid sampling index:".concat(le))}(L.audioObjectType,L.samplingFrequencyIndex,L.channelCount);I.config=K.config,I.sampleRate=K.sampleRate,I.inputTimeScale=I.inputTimeScale||I.timescale,I.timescale=K.sampleRate,I.channelCount=K.channelCount,I.codec=K.codec,I.realCodec=K.realCodec,I.isAAC=!0}}]),N}(mt);function gs(re){for(var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=0,K="",oe=N;oe<N+L;oe++)I=7-oe%8,K+=re[Math.floor(oe/8)]>>I&1;return parseInt(K,2)}function Rr(re){for(var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=[],I=8*re.byteLength,K=!1,oe=0,le=0,me="",Ee=N;Ee<I;Ee++)if(oe=7-Ee%8,le=re[Math.floor(Ee/8)]>>oe&1,!K){if(le!==0){K=!0,N=Ee;break}L.push(0)}for(var He=L.length+1,Be=N;Be<N+He;Be++)oe=7-Be%8,me+=le=re[Math.floor(Be/8)]>>oe&1;return{bitLength:L.length+He,value:parseInt(me,2)-1}}var Qe={readUEV:Rr,readSEV:function(re){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=Rr(re,N),I=L.value,K=Math.pow(-1,I+1)*Math.ceil(I/2);return{bitLength:L.bitLength,value:K}},readBit:gs,readByte:function(re){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return gs(re,N,8)}},ke=0;function ei(re,N){for(var L,I=8,K=8,oe=0;oe<N;oe++)K!=0&&(L=Qe.readUEV(re,ke),ke+=L.bitLength,K=(I+L.value+256)%256),I=re[oe]}var Oa,Jt,kr=function(re){function N(L){var I;switch(B(this,N),(I=w(this,$(N).call(this))).forbidden_zero_bit=L[0]>>7,I.ref_idc=L[0]>>5&3,I.unit_type=31&L[0],I.data=function(K){for(var oe,le=K.byteLength,me=[],Ee=1,He=new Uint8Array(0);Ee<le-2;)K[Ee]===0&&K[Ee+1]===0&&K[Ee+2]===3?(me.push(Ee+2),Ee+=2):Ee++;if(me.length===0)return K;oe=le-me.length;try{He=new Uint8Array(oe)}catch{throw"epsb alloc mem error ".concat(oe)}var Be=0;for(Ee=0;Ee<oe;Be++,Ee++)Be===me[0]&&(Be++,me.shift()),He[Ee]=K[Be];return He}(L.subarray(1)),I.rawData=L,I.unit_type){case 1:break;case 2:case 3:case 4:case 5:break;case 7:I.sps=function(K){ke=0;var oe,le,me,Ee,He,Be,Ke,Ze=K[0],kt=K[1],ar=K[2],tt=K.subarray(3),An=0,dt=[1,1],ti=1,Ha=0,zn=!0,gn=Qe.readUEV(tt,ke);if(ke+=gn.bitLength,Ze==100||Ze==110||Ze==122||Ze==244||Ze==44||Ze==83||Ze==86||Ze==118||Ze==128){var Un=Qe.readUEV(tt,ke);ke+=Un.bitLength,Un.value==3&&(ke+=1);var yo=Qe.readUEV(tt,ke);ke+=yo.bitLength;var qt=Qe.readUEV(tt,ke);if(ke+=qt.bitLength,ke+=1,An=Qe.readBit(tt,ke),ke+=1,An)for(var ea=0;ea<(Un.value!=3?8:12);ea++){var jt=Qe.readBit(tt,ke);ke+=1,jt&&ei(tt,ea<6?16:64)}}var mn=Qe.readUEV(tt,ke);ke+=mn.bitLength;var ta=Qe.readUEV(tt,ke),za=ta.value;if(ke+=ta.bitLength,za===0)oe=Qe.readUEV(tt,ke),ke+=oe.bitLength;else if(za===1){ke+=1,le=Qe.readSEV(tt,ke),ke+=le.bitLength,me=Qe.readSEV(tt,ke),ke+=me.bitLength,Ee=Qe.readUEV(tt,ke),ke+=Ee.bitLength;for(var ra,Nu=0;Nu<Ee.value;Nu++)ra=Qe.readSEV(tt,ke),ke+=ra.bitLength}var Fu=Qe.readUEV(tt,ke);ke+=Fu.bitLength,ke+=1;var $u=Qe.readUEV(tt,ke);ke+=$u.bitLength;var Hu=Qe.readUEV(tt,ke);ke+=Hu.bitLength;var Ua=Qe.readBit(tt,ke);ke+=1,Ua||(ke+=1),ke+=1;var Va=Qe.readBit(tt,ke);ke+=1;var _s=0,zu=0,Ga=0,or=0;if(Va){var _o=Qe.readUEV(tt,ke);ke+=_o.bitLength,_s=_o.value;var bo=Qe.readUEV(tt,ke);ke+=bo.bitLength,zu=bo.value;var xo=Qe.readUEV(tt,ke);ke+=xo.bitLength,Ga=xo.value;var na=Qe.readUEV(tt,ke);ke+=na.bitLength,or=na.value}var an=Qe.readBit(tt,ke);if(ke+=1,an){var Cc=Qe.readBit(tt,ke);if(ke+=1,Cc){var bs=Qe.readByte(tt,ke);switch(ke+=8,bs){case 1:dt=[1,1];break;case 2:dt=[12,11];break;case 3:dt=[10,11];break;case 4:dt=[16,11];break;case 5:dt=[40,33];break;case 6:dt=[24,11];break;case 7:dt=[20,11];break;case 8:dt=[32,11];break;case 9:dt=[80,33];break;case 10:dt=[18,11];break;case 11:dt=[15,11];break;case 12:dt=[64,33];break;case 13:dt=[160,99];break;case 14:dt=[4,3];break;case 15:dt=[3,2];break;case 16:dt=[2,1];break;case 255:var xs=Qe.readByte(tt,ke);ke+=8;var Ss=Qe.readByte(tt,ke);ke+=8;var ws=Qe.readByte(tt,ke);ke+=8;var So=Qe.readByte(tt,ke);ke+=8,dt=[xs<<8|Ss,ws<<8|So]}dt&&(ti=dt[0]/dt[1]),bs===255&&(ke+=16,ke+=16)}var ia=Qe.readBit(tt,ke);ke+=1,ia&&(ke+=1);var Ts=Qe.readBit(tt,ke);if(ke+=1,Ts){He=Qe.readBit(tt,ke,3),ke+=3,ke+=1;var wo=Qe.readBit(tt,ke);ke+=1,wo&&(ke+=24)}var Uu=Qe.readBit(tt,ke);if(ke+=1,Uu){var Vu=Qe.readUEV(tt,ke);ke+=Vu.bitLength;var ja=Qe.readUEV(tt,ke);ke+=ja.bitLength}var Gu=Qe.readBit(tt,ke);ke+=1,Gu&&(Be=Qe.readBit(tt,ke,32),ke+=32,Ke=Qe.readBit(tt,ke,32),ke+=32,zn=!!Qe.readBit(tt,ke),ke+=1,Ha=Ke/(2*Be))}return{payload:tt,profile_idc:Ze,profile_compatibility:kt,level_idc:ar,sps_id:gn.value,log2_max_frame_num_minus4:ta.value,pic_order_cnt_type:za,log2_max_pic_order_cnt_lsb_minus4:oe?oe.value:0,width:Math.ceil((16*($u.value+1)-2*_s-2*zu)*ti),height:(2-Ua)*(Hu.value+1)*16-2*Ga-2*or,pixelRatio:dt,video_format:He,fps:Ha,fixedFPS:zn}}(I.data);break;case 8:I.pps=function(K){var oe,le=0,me=K,Ee=[],He=0;le+=Qe.readUEV(me,le).bitLength,le+=Qe.readUEV(me,le).bitLength,le+=1,le+=1;var Be=Qe.readUEV(me,le);if(le+=Be.bitLength,Be.value>0){var Ke=Qe.readUEV(me,le);le+=Ke.bitLength;var Ze=0;switch(Ke.value){case 0:for(Ze=0;Ze<=Ke.value;Ze++)le+=Qe.readUEV(me,le).bitLength;break;case 2:for(Ze=0;Ze<=Ke.value;Ze++)le+=Qe.readUEV(me,le).bitLength,le+=Qe.readUEV(me,le).bitLength;break;case 3:case 4:case 5:le+=1,le+=Qe.readUEV(me,le).bitLength;break;case 6:le+=(oe=Qe.readUEV(me,le)).bitLength;var kt=Math.ceil(Math.log2(Be.value+1));for(He=0;He<=oe.value;He++)Ee.push(Qe.readBit(me,le,kt)),le+=kt}}return le+=Qe.readUEV(me,le).bitLength,le+=Qe.readUEV(me,le).bitLength,le+=1,le+=1,le+=Qe.readSEV(me,le).bitLength,le+=Qe.readSEV(me,le).bitLength,le+=Qe.readSEV(me,le).bitLength,le+=1,le+=1,le+=1,{sliceGroupNum:Be.value+1}}(I.data);break;case 6:I.sei=(I.data,{});break;case 9:I.primary_pic_type=I.data[0]>>5}return I}return k(N,re),N}(Ti),Ia=function(re){function N(){var L;return B(this,N),(L=w(this,$(N).call(this))).cachedBytes=null,L}return k(N,re),H(N,[{key:"push",value:function(L){var I,K=0,oe=0,le=0,me=L.pts,Ee=L.dts,He=L.payload,Be=L.naluSizeLength;if(this.cachedBytes){try{I=new Uint8Array(this.cachedBytes.byteLength+He.byteLength)}catch{throw"h264 alloc mem error ".concat(this.cachedBytes.byteLength,"/").concat(He.byteLength)}I.set(this.cachedBytes),I.set(He,this.cachedBytes.byteLength)}else I=He;if(Be){var Ke=0,Ze=0,kt=0;do{Ze=0;for(var ar=0;ar<Be;ar++)Ze|=I[Ke+ar]<<8*(Be-ar-1);(kt=(Ke+=Be)+Ze)>I.length&&(kt=I.length);var tt=I.subarray(Ke,kt),An=new kr(tt);An.pts=me,An.dts=Ee,this.emit("nalu",An),Ke=kt}while(Ke<I.length)}else{var dt=I.byteLength-1,ti=0;do{if(I[dt]!==0)break;ti++,dt--}while(dt>0);ti>=3&&(I=I.subarray(0,dt+1));do{var Ha=I[K]<<24|I[K+1]<<16|I[K+2]<<8|I[K+3],zn=I.length-K>=4?Ha:-1,gn=0,Un=K===I.length-1;if(zn>>8==1?gn=3:zn===1&&(gn=4),gn===3||gn===4||Un){var yo=oe+le,qt=Un&&ti>=3;if(K>oe&&(!Un||qt)){var ea=I.subarray(yo,qt?K+1:K),jt=new kr(ea);jt.pts=me,jt.dts=Ee,this.emit("nalu",jt),oe=K}Un&&(ti<3?(this.cachedBytes=I.subarray(oe),this.cachedBytes.pts=me,this.cachedBytes.dts=Ee,this.cachedBytes.startCodeLength=le):this.cachedBytes=null),K===oe&&(le=gn),K+=gn||1}else K++}while(K<I.length)}if(this.cachedBytes){var mn=new kr(this.cachedBytes.subarray(this.cachedBytes.startCodeLength));mn.pts=this.cachedBytes.pts,mn.dts=this.cachedBytes.dts,this.emit("nalu",mn),this.cachedBytes=null}this.emit("done")}},{key:"reset",value:function(){this.cachedBytes=null}}]),N}(J),Tc=function(re){function N(L){var I;return B(this,N),(I=w(this,$(N).call(this))).PSI=L,I.trackId=null,I.currentFrame=[],I.codec=new Ia,I._newGop(),I._newGops(),I.codec.on("nalu",function(K){if(K.unit_type===7){var oe=I.PSI.findTrack(I.trackId),le=function(me){for(var Ee="avc1.",He=[me.profile_idc,me.profile_compatibility,me.level_idc],Be=0;Be<He.length;Be++){var Ke=He[Be].toString(16);Ke.length<2&&(Ke="0"+Ke),Ee+=Ke}return{codec:Ee}}(K.sps);oe.codec=le.codec,oe.width=K.sps.width,oe.height=K.sps.height,oe.profileIdc=K.sps.profile_idc,oe.profileCompatibility=K.sps.profile_compatibility,oe.levelIdc=K.sps.level_idc,oe.pixelRatio=K.sps.pixelRatio,oe.sps=[K.rawData]}else K.unit_type===8&&(I.PSI.findTrack(I.trackId).pps=[K.rawData]);I._grouping(K)}),I}return k(N,re),H(N,[{key:"push",value:function(L){var I=L.stream_type,K=L.pes,oe=L.pid;if(I===27||I===36){this.trackId=oe;var le={pts:K.PTS,dts:K.DTS,payload:K.data_byte};this.codec.push(le)}}},{key:"flush",value:function(){this.currentFrame.length>0&&((!this.currentFrame.duration||this.currentFrame.duration<=0)&&(this.currentFrame.duration=this.prevFrame.duration||0),this._pushFrameIntoGop(),this.currentFrame=[]),this.gop.length>0&&this._pushGopIntoGroup()}},{key:"reset",value:function(){this.codec.reset(),this.currentFrame=[],this._newGop(),this._newGops()}},{key:"_grouping",value:function(L){L.unit_type===9?(this.currentFrame.length>0&&(this.currentFrame.duration=L.dts-this.currentFrame.dts,this.gop.length>0&&this.currentFrame.keyframe&&(this.gop.trackId=this.trackId,this._pushGopIntoGroup()),this.currentFrame.keyframe||this.gop.length>0?this._pushFrameIntoGop():Ae.warn("h264 codec drop frame")),this.prevFrame=this.currentFrame,this.currentFrame=[],this.currentFrame.keyframe=!1,this.currentFrame.byteLength=0,this.currentFrame.naluCount=0,this.currentFrame.pts=L.pts,this.currentFrame.dts=L.dts):(L.unit_type===5&&(this.currentFrame.keyframe=!0),this.currentFrame.byteLength+=L.rawData.byteLength,this.currentFrame.naluCount++,this.currentFrame.push(L)),this.currentFrame.duration=L.dts-this.currentFrame.dts}},{key:"_newGop",value:function(){this.gop=[],this.gop.duration=0,this.gop.naluCount=0,this.gop.byteLength=0}},{key:"_pushFrameIntoGop",value:function(){this.gop.push(this.currentFrame),this.gop.duration+=this.currentFrame.duration,this.gop.byteLength+=this.currentFrame.byteLength,this.gop.naluCount+=this.currentFrame.naluCount}},{key:"_newGops",value:function(){this.gops=[],this.gops.type="video",this.gops.duration=0,this.gops.naluCount=0,this.gops.byteLength=0,this.gops.frameLength=0,this.gops.firstDTS=0}},{key:"_pushGopIntoGroup",value:function(){var L=this.gop[0];this.gops.trackId=this.trackId,this.gops.duration+=this.gop.duration,this.gops.byteLength+=this.gop.byteLength,this.gops.naluCount+=this.gop.naluCount,this.gops.frameLength+=this.gop.length,this.gops.firstDTS=L.dts,this.gops.firstPTS=L.pts,this.gops.push(this.gop),this.emit("data",this.gops),this._newGop(),this._newGops(),this.emit("done")}}]),N}(mt),mo=function(re){function N(L,I){var K,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B(this,N),(K=w(this,$(N).call(this))).context=L,K.PSI=I,K.options=oe,K.tracks=[],K.adtsStream=new rn(I),K.avcStream=new Tc(I),K.streams=[K.adtsStream,K.avcStream],oe.decodeCodec&&(K.avcStream.on("data",function(le){var me=oe.config.stubTime;if(Ne(me)){var Ee=(le.firstPTS+le.duration)/9e4;if(Ee<me)return void Ae.warn("drop avc gop, start/end/stubTime(".concat(le.firstPTS,"/").concat(Ee,"/").concat(me,")"))}K.tracks.push(le),K.emit("data",K.tracks),K.tracks=[],K.adtsStream.flush()}),K.adtsStream.on("data",function(le){var me=oe.config.stubTime;if(Ne(me)){var Ee=(le.firstPTS+le.duration)/9e4;if(Ee<me)return void Ae.warn("drop adts, start/end/stubTime(".concat(le.firstPTS,"/").concat(Ee,"/").concat(me,")"))}K.tracks.push(le),K.emit("data",K.tracks),K.tracks=[]})),K}return k(N,re),H(N,[{key:"push",value:function(L){var I=this.options,K=this.adtsStream,oe=this.avcStream,le=L.stream_type;if(I.decodeCodec)switch(le){case 27:case 36:oe.push(L);break;case 15:K.push(L);break;default:Ae.warn("ts elementary encounter unknown stream type ".concat(le))}else this.emit("data",L)}},{key:"flush",value:function(){for(var L=this.streams,I=this.tracks,K=0;K<this.streams.length;K++)L[K].flush();I.length>0&&this.emit("data",I),this.emit("done"),I.splice(0,I.length)}},{key:"reset",value:function(){this.tracks=[];for(var L=0;L<this.streams.length;L++)this.streams[L].reset();this.emit("reset")}}]),N}(mt),Ba=function(re){function N(L){var I;return B(this,N),(I=w(this,$(N).call(this))).start_code_prefix=I.readUint16(L,0)<<8|L[2],I.stream_id=L[3],I.packet_length=I.readUint16(L,4),I.data_alignment_indicator=4&L[6],I.copyright=2&L[6],I.PTS_DTS_flags=L[7]>>6,I.ESCR_flag=32&L[7],I.ES_rate_flag=16&L[7],I.trick_mode_flag=8&L[7],I.additional_copy_info_flag=4&L[7],I.CRC_flag=2&L[7],I.extension_flag=1&L[7],I.header_data_length=L[8],I.PTS=0,(2&I.PTS_DTS_flags)==2&&(I.PTS=I.calcTimestamp_(L,9)),I.DTS=I.PTS,(1&I.PTS_DTS_flags)==1&&(I.DTS=I.calcTimestamp_(L,14)),I.data_byte=L.subarray(9+I.header_data_length),I}return k(N,re),H(N,[{key:"calcTimestamp_",value:function(L,I){return 536870912*(14&L[I])+(L[I+1]<<22)+(L[I+2]>>1<<15)+(L[I+3]<<7)+(L[I+4]>>1)}},{key:"valid",value:function(){var L=this.start_code_prefix;return L[0]===0&&L[1]===0&&L[2]===1}}]),N}(Ti),Na=function(re){function N(L,I){var K;return B(this,N),(K=w(this,$(N).call(this))).context=L,K.PSI=I,K.PID=null,K.cache_buffer=new Rt,K}return k(N,re),H(N,[{key:"push",value:function(L){L.PID>255&&L.PID<8191&&(this.PSI.currentProgramPID==-1?this._pushPacket(L):this.PSI.currentProgramPID!==L.PID&&(L.payload_unit_start_indicator===1&&this._assembleOnePES(),this._pushPacket(L)))}},{key:"flush",value:function(){this._assembleOnePES(),this.emit("done")}},{key:"reset",value:function(){this._clearCached(),this.emit("reset")}},{key:"_clearCached",value:function(){this.PID=null,this.cache_buffer.clear()}},{key:"_pushPacket",value:function(L){var I=this.cache_buffer.empty;I&&L.payload_unit_start_indicator===0||(I&&(this.PID=L.PID),this.cache_buffer.append(L.payload))}},{key:"_assembleOnePES",value:function(){if(!this.cache_buffer.empty){var L;try{L=this.cache_buffer.toNewBytes()}catch{throw"pes alloc mem err ".concat(this.cache_buffer.byteLength)}var I=new Ba(L),K=this.PSI.findTrack(this.PID);if(K){var oe={pid:K.id,stream_type:K.stream_type,pcr_pid:K.pcr_pid,pes:I};this.emit("data",oe)}this._clearCached()}}}]),N}(mt),Qi=function(re){function N(L){var I;if(B(this,N),(I=w(this,$(N).call(this))).sync_byte=L[0],I.transport_error_indicator=L[1]>>7,I.payload_unit_start_indicator=L[1]>>6&1,I.transport_priority=L[1]>>>5&1,I.PID=8191&I.readUint16(L,1),I.tsc=L[3]>>6,I.afc=L[3]>>4&3,I.continuity_counter=15&L[3],I.has_payload=1&I.afc,I.has_adaptation=2&I.afc,I.has_payload)if(I.has_adaptation){var K=L[4];I.payload=L.subarray(5+K)}else I.payload=L.subarray(4);return I}return k(N,re),H(N,[{key:"valid",value:function(){return this.sync_byte===71&&this.has_payload===1}}]),N}(Ti),Bu=function(re){function N(){var L,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return B(this,N),(L=w(this,$(N).call(this,I))).psi_=new hs(L.ctx_),L.pesStream_=new Na(L.ctx_,L.psi_),L.elementaryStream_=new mo(L.ctx_,L.psi_,I),L.complexStream_=new ds(L.ctx_,L.psi_),L.pipe(L.pesStream_),L.pesStream_.pipe(L.elementaryStream_),L.elementaryStream_.pipe(L.complexStream_),m($(N.prototype),"listenEndStream_",T(L)).call(T(L)),L}return k(N,re),H(N,[{key:"push",value:function(L,I){var K=I.done,oe=this.options_,le=this.ctx_,me=this.cache_buffer_,Ee=this.psi_,He=m($(N.prototype),"constraintPushData_",this).call(this,L),Be=me.byteLength,Ke=null;for(oe.config=I,Ae.log("hls demux received ".concat(He.byteLength," bytes, cache ").concat(Be," bytes. ").concat(K?"chunk done":"")),me.append(He);me.byteLength>=188;){var Ze=me.cut(188);if(Ze){var kt=new Qi(Ze);if(!kt.valid()){var ar="Encounter invalid ts packet, packet_length(".concat(Ze.length,"), cache_length(").concat(this.cache_buffer_.byteLength,"), has_payload(").concat(kt.has_payload,"), data(").concat(Ze,")");Ae.error(ar),this.reset(),le.emit("error",pn.TS_SYNC_BYTE,ar,{startByte:Ke,endByte:Ke+Ze.byteLength});break}Ee.parse(kt),this.emit("data",kt),Ke+=Ze.byteLength}}me.empty&&K&&this.emit("done")}},{key:"reset",value:function(){this.cache_buffer_.clear(),this.emit("reset")}},{key:"endStream",get:function(){var L=this.elementaryStream_;return this.options_.decodeCodec&&(L=this.complexStream_),L}}]),N}(gr);(function(re){re[re.HEAD=0]="HEAD",re[re.BODY=1]="BODY"})(Oa||(Oa={})),function(re){re[re.SCRIPT_DATA=18]="SCRIPT_DATA",re[re.VIDEO=9]="VIDEO",re[re.AUDIO=8]="AUDIO"}(Jt||(Jt={}));var Fa,$a;(function(re){re[re.AAC=10]="AAC"})(Fa||(Fa={})),function(re){re[re.MONO=0]="MONO",re[re.STEREO=1]="STEREO"}($a||($a={}));var ms;(function(re){re[re.SEQUENCE_HEAD=0]="SEQUENCE_HEAD",re[re.AAC_RAW=1]="AAC_RAW"})(ms||(ms={}));var nn;(function(re){re[re.SEQUENCE_HEAD=0]="SEQUENCE_HEAD",re[re.NALU=1]="NALU",re[re.SEQUENCE_END=2]="SEQUENCE_END"})(nn||(nn={}));var vn=new Ia;vn.on("nalu",function(re){});var Ji;(function(re){re[re.AVC=7]="AVC"})(Ji||(Ji={}));var ys=function(){function re(N){s()(this,re),g()(this,"previousPes",null),g()(this,"maxAudioPTS",0),g()(this,"maxVideoPTS",0),N?(this.init(),this.dataArray=[],this.videoArray=[],this.audioArray=[],this.decode=N):console.error("class TsDemux need pass decode parmas")}return l()(re,[{key:"init",value:function(){var N=this;try{this.demuxer=new Bu({enableWorker:!1,debug:!1,onlyDemuxElementary:!0}),this.demuxer.on(a.DEMUX_DATA,function(L){L instanceof Array?(N.dataArray.push(L),N.demuxed(N.dataArray),N.dataArray=[]):N.dataArray.push(L)}),this.demuxer.on(a.DONE,function(L){var I={};N.demuxed(N.dataArray),N.dataArray=[],N.previousPes.partEnd=!0,N.previousPes.lastTS=N.isLast,N.isLast?(N.maxPTS=Math.min(N.maxAudioPTS,N.maxVideoPTS),I.audioEnd=!0,N.audioQueue(I),self.postMessage({type:"demuxedAAC",data:N.audioArray}),N.audioArray=[],self.postMessage({type:"maxPTS",data:{maxAudioPTS:N.maxAudioPTS,maxVideoPTS:N.maxVideoPTS}})):(self.postMessage({type:"demuxedAAC",data:N.audioArray}),N.audioArray=[]),N.decode.push(N.videoArray),N.videoArray=[],N.previousPes=null})}catch{console.error("init demuxer failed.")}}},{key:"push",value:function(N){this.demuxer.push(N,{done:!0})}},{key:"demuxed",value:function(N){var L=this;N.forEach(function(I){L.tsDemuxed(I)})}},{key:"tsDemuxed",value:function(N){var L=N.stream_type,I=N.pes||{};switch(L){case 36:this.videoQueue(I);break;case 3:case 15:case 17:I.PTS=Math.round(I.PTS*c.a*1e3),this.maxAudioPTS=Math.max(I.PTS,this.maxAudioPTS),this.audioQueue(I)}}},{key:"audioQueue",value:function(N){this.audioArray.push(N)}},{key:"videoQueue",value:function(N){this.previousPes=N,this.maxVideoPTS=Math.max(this.maxVideoPTS,N.PTS),this.videoArray.push(N)}},{key:"destroy",value:function(){this.demuxer.destroy()}}]),re}();self.decode=new p,self.demuxer=new ys(self.decode),n.default=function(re){re.onmessage=function(N){var L=N.data,I=L.type,K=L.data,oe=L.isLast;switch(I){case"startDemux":re.demuxer.isLast=oe,re.demuxer.push(K);break;case"loadwasm":re.decode.loadWASM(N);break;case"flush":re.decode.flush()}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(r,n,i){r.exports=i(163)},function(r,n,i){r.exports=i(85).default}])})})(PO);var Nie=PO.exports;const Wae=Rh(Nie);var DO=fr,hi=null;try{hi=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function fr(t,e,r){this.low=t|0,this.high=e|0,this.unsigned=!!r}fr.prototype.__isLong__;Object.defineProperty(fr.prototype,"__isLong__",{value:!0});function Nn(t){return(t&&t.__isLong__)===!0}fr.isLong=Nn;var _A={},bA={};function Ou(t,e){var r,n,i;return e?(t>>>=0,(i=0<=t&&t<256)&&(n=bA[t],n)?n:(r=hr(t,(t|0)<0?-1:0,!0),i&&(bA[t]=r),r)):(t|=0,(i=-128<=t&&t<128)&&(n=_A[t],n)?n:(r=hr(t,t<0?-1:0,!1),i&&(_A[t]=r),r))}fr.fromInt=Ou;function di(t,e){if(isNaN(t))return e?su:pi;if(e){if(t<0)return su;if(t>=MO)return OO}else{if(t<=-SA)return On;if(t+1>=SA)return RO}return t<0?di(-t,e).neg():hr(t%cc|0,t/cc|0,e)}fr.fromNumber=di;function hr(t,e,r){return new fr(t,e,r)}fr.fromBits=hr;var Rv=Math.pow;function Ib(t,e,r){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return pi;if(typeof e=="number"?(r=e,e=!1):e=!!e,r=r||10,r<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return Ib(t.substring(1),e,r).neg();for(var i=di(Rv(r,8)),a=pi,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),u=parseInt(t.substring(o,o+s),r);if(s<8){var l=di(Rv(r,s));a=a.mul(l).add(di(u))}else a=a.mul(i),a=a.add(di(u))}return a.unsigned=e,a}fr.fromString=Ib;function qi(t,e){return typeof t=="number"?di(t,e):typeof t=="string"?Ib(t,e):hr(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}fr.fromValue=qi;var xA=65536,Fie=1<<24,cc=xA*xA,MO=cc*cc,SA=MO/2,wA=Ou(Fie),pi=Ou(0);fr.ZERO=pi;var su=Ou(0,!0);fr.UZERO=su;var Pl=Ou(1);fr.ONE=Pl;var LO=Ou(1,!0);fr.UONE=LO;var k1=Ou(-1);fr.NEG_ONE=k1;var RO=hr(-1,2147483647,!1);fr.MAX_VALUE=RO;var OO=hr(-1,-1,!0);fr.MAX_UNSIGNED_VALUE=OO;var On=hr(0,-2147483648,!1);fr.MIN_VALUE=On;var Ue=fr.prototype;Ue.toInt=function(){return this.unsigned?this.low>>>0:this.low};Ue.toNumber=function(){return this.unsigned?(this.high>>>0)*cc+(this.low>>>0):this.high*cc+(this.low>>>0)};Ue.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(On)){var r=di(e),n=this.div(r),i=n.mul(r).sub(this);return n.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var a=di(Rv(e,6),this.unsigned),o=this,s="";;){var u=o.div(a),l=o.sub(u.mul(a)).toInt()>>>0,c=l.toString(e);if(o=u,o.isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}};Ue.getHighBits=function(){return this.high};Ue.getHighBitsUnsigned=function(){return this.high>>>0};Ue.getLowBits=function(){return this.low};Ue.getLowBitsUnsigned=function(){return this.low>>>0};Ue.getNumBitsAbs=function(){if(this.isNegative())return this.eq(On)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,r=31;r>0&&!(e&1<<r);r--);return this.high!=0?r+33:r+1};Ue.isZero=function(){return this.high===0&&this.low===0};Ue.eqz=Ue.isZero;Ue.isNegative=function(){return!this.unsigned&&this.high<0};Ue.isPositive=function(){return this.unsigned||this.high>=0};Ue.isOdd=function(){return(this.low&1)===1};Ue.isEven=function(){return(this.low&1)===0};Ue.equals=function(e){return Nn(e)||(e=qi(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};Ue.eq=Ue.equals;Ue.notEquals=function(e){return!this.eq(e)};Ue.neq=Ue.notEquals;Ue.ne=Ue.notEquals;Ue.lessThan=function(e){return this.comp(e)<0};Ue.lt=Ue.lessThan;Ue.lessThanOrEqual=function(e){return this.comp(e)<=0};Ue.lte=Ue.lessThanOrEqual;Ue.le=Ue.lessThanOrEqual;Ue.greaterThan=function(e){return this.comp(e)>0};Ue.gt=Ue.greaterThan;Ue.greaterThanOrEqual=function(e){return this.comp(e)>=0};Ue.gte=Ue.greaterThanOrEqual;Ue.ge=Ue.greaterThanOrEqual;Ue.compare=function(e){if(Nn(e)||(e=qi(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};Ue.comp=Ue.compare;Ue.negate=function(){return!this.unsigned&&this.eq(On)?On:this.not().add(Pl)};Ue.neg=Ue.negate;Ue.add=function(e){Nn(e)||(e=qi(e));var r=this.high>>>16,n=this.high&65535,i=this.low>>>16,a=this.low&65535,o=e.high>>>16,s=e.high&65535,u=e.low>>>16,l=e.low&65535,c=0,h=0,f=0,p=0;return p+=a+l,f+=p>>>16,p&=65535,f+=i+u,h+=f>>>16,f&=65535,h+=n+s,c+=h>>>16,h&=65535,c+=r+o,c&=65535,hr(f<<16|p,c<<16|h,this.unsigned)};Ue.subtract=function(e){return Nn(e)||(e=qi(e)),this.add(e.neg())};Ue.sub=Ue.subtract;Ue.multiply=function(e){if(this.isZero())return pi;if(Nn(e)||(e=qi(e)),hi){var r=hi.mul(this.low,this.high,e.low,e.high);return hr(r,hi.get_high(),this.unsigned)}if(e.isZero())return pi;if(this.eq(On))return e.isOdd()?On:pi;if(e.eq(On))return this.isOdd()?On:pi;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(wA)&&e.lt(wA))return di(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=this.high&65535,a=this.low>>>16,o=this.low&65535,s=e.high>>>16,u=e.high&65535,l=e.low>>>16,c=e.low&65535,h=0,f=0,p=0,v=0;return v+=o*c,p+=v>>>16,v&=65535,p+=a*c,f+=p>>>16,p&=65535,p+=o*l,f+=p>>>16,p&=65535,f+=i*c,h+=f>>>16,f&=65535,f+=a*l,h+=f>>>16,f&=65535,f+=o*u,h+=f>>>16,f&=65535,h+=n*c+i*l+a*u+o*s,h&=65535,hr(p<<16|v,h<<16|f,this.unsigned)};Ue.mul=Ue.multiply;Ue.divide=function(e){if(Nn(e)||(e=qi(e)),e.isZero())throw Error("division by zero");if(hi){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?hi.div_u:hi.div_s)(this.low,this.high,e.low,e.high);return hr(r,hi.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?su:pi;var n,i,a;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return su;if(e.gt(this.shru(1)))return LO;a=su}else{if(this.eq(On)){if(e.eq(Pl)||e.eq(k1))return On;if(e.eq(On))return Pl;var o=this.shr(1);return n=o.div(e).shl(1),n.eq(pi)?e.isNegative()?Pl:k1:(i=this.sub(e.mul(n)),a=n.add(i.div(e)),a)}else if(e.eq(On))return this.unsigned?su:pi;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=pi}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),u=s<=48?1:Rv(2,s-48),l=di(n),c=l.mul(e);c.isNegative()||c.gt(i);)n-=u,l=di(n,this.unsigned),c=l.mul(e);l.isZero()&&(l=Pl),a=a.add(l),i=i.sub(c)}return a};Ue.div=Ue.divide;Ue.modulo=function(e){if(Nn(e)||(e=qi(e)),hi){var r=(this.unsigned?hi.rem_u:hi.rem_s)(this.low,this.high,e.low,e.high);return hr(r,hi.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};Ue.mod=Ue.modulo;Ue.rem=Ue.modulo;Ue.not=function(){return hr(~this.low,~this.high,this.unsigned)};Ue.and=function(e){return Nn(e)||(e=qi(e)),hr(this.low&e.low,this.high&e.high,this.unsigned)};Ue.or=function(e){return Nn(e)||(e=qi(e)),hr(this.low|e.low,this.high|e.high,this.unsigned)};Ue.xor=function(e){return Nn(e)||(e=qi(e)),hr(this.low^e.low,this.high^e.high,this.unsigned)};Ue.shiftLeft=function(e){return Nn(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?hr(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):hr(0,this.low<<e-32,this.unsigned)};Ue.shl=Ue.shiftLeft;Ue.shiftRight=function(e){return Nn(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?hr(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):hr(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};Ue.shr=Ue.shiftRight;Ue.shiftRightUnsigned=function(e){if(Nn(e)&&(e=e.toInt()),e&=63,e===0)return this;var r=this.high;if(e<32){var n=this.low;return hr(n>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?hr(r,0,this.unsigned):hr(r>>>e-32,0,this.unsigned)};Ue.shru=Ue.shiftRightUnsigned;Ue.shr_u=Ue.shiftRightUnsigned;Ue.toSigned=function(){return this.unsigned?hr(this.low,this.high,!1):this};Ue.toUnsigned=function(){return this.unsigned?this:hr(this.low,this.high,!0)};Ue.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};Ue.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};Ue.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};fr.fromBytes=function(e,r,n){return n?fr.fromBytesLE(e,r):fr.fromBytesBE(e,r)};fr.fromBytesLE=function(e,r){return new fr(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)};fr.fromBytesBE=function(e,r){return new fr(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)};const $ie=Rh(DO),Yae=EA({__proto__:null,default:$ie},[DO]);var Bb={exports:{}};Bb.exports;(function(t){(function(e,r,n){function i(u){var l=this,c=s();l.next=function(){var h=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=h-(l.c=h|0)},l.c=1,l.s0=c(" "),l.s1=c(" "),l.s2=c(" "),l.s0-=c(u),l.s0<0&&(l.s0+=1),l.s1-=c(u),l.s1<0&&(l.s1+=1),l.s2-=c(u),l.s2<0&&(l.s2+=1),c=null}function a(u,l){return l.c=u.c,l.s0=u.s0,l.s1=u.s1,l.s2=u.s2,l}function o(u,l){var c=new i(u),h=l&&l.state,f=c.next;return f.int32=function(){return c.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,h&&(typeof h=="object"&&a(h,c),f.state=function(){return a(c,{})}),f}function s(){var u=4022871197,l=function(c){c=String(c);for(var h=0;h<c.length;h++){u+=c.charCodeAt(h);var f=.02519603282416938*u;u=f>>>0,f-=u,f*=u,u=f>>>0,f-=u,u+=f*4294967296}return(u>>>0)*23283064365386963e-26};return l}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.alea=o})(gi,t,!1)})(Bb);var Hie=Bb.exports,Nb={exports:{}};Nb.exports;(function(t){(function(e,r,n){function i(s){var u=this,l="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var h=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^h^h>>>8},s===(s|0)?u.x=s:l+=s;for(var c=0;c<l.length+64;c++)u.x^=l.charCodeAt(c)|0,u.next()}function a(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u}function o(s,u){var l=new i(s),c=u&&u.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var f=l.next()>>>11,p=(l.next()>>>0)/4294967296,v=(f+p)/(1<<21);while(v===0);return v},h.int32=l.next,h.quick=h,c&&(typeof c=="object"&&a(c,l),h.state=function(){return a(l,{})}),h}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xor128=o})(gi,t,!1)})(Nb);var zie=Nb.exports,Fb={exports:{}};Fb.exports;(function(t){(function(e,r,n){function i(s){var u=this,l="";u.next=function(){var h=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^(h^h<<1))|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,s===(s|0)?u.x=s:l+=s;for(var c=0;c<l.length+64;c++)u.x^=l.charCodeAt(c)|0,c==l.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function a(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u.v=s.v,u.d=s.d,u}function o(s,u){var l=new i(s),c=u&&u.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var f=l.next()>>>11,p=(l.next()>>>0)/4294967296,v=(f+p)/(1<<21);while(v===0);return v},h.int32=l.next,h.quick=h,c&&(typeof c=="object"&&a(c,l),h.state=function(){return a(l,{})}),h}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xorwow=o})(gi,t,!1)})(Fb);var Uie=Fb.exports,$b={exports:{}};$b.exports;(function(t){(function(e,r,n){function i(s){var u=this;u.next=function(){var c=u.x,h=u.i,f,p;return f=c[h],f^=f>>>7,p=f^f<<24,f=c[h+1&7],p^=f^f>>>10,f=c[h+3&7],p^=f^f>>>3,f=c[h+4&7],p^=f^f<<7,f=c[h+7&7],f=f^f<<13,p^=f^f<<9,c[h]=p,u.i=h+1&7,p};function l(c,h){var f,p=[];if(h===(h|0))p[0]=h;else for(h=""+h,f=0;f<h.length;++f)p[f&7]=p[f&7]<<15^h.charCodeAt(f)+p[f+1&7]<<13;for(;p.length<8;)p.push(0);for(f=0;f<8&&p[f]===0;++f);for(f==8?p[7]=-1:p[f],c.x=p,c.i=0,f=256;f>0;--f)c.next()}l(u,s)}function a(s,u){return u.x=s.x.slice(),u.i=s.i,u}function o(s,u){s==null&&(s=+new Date);var l=new i(s),c=u&&u.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var f=l.next()>>>11,p=(l.next()>>>0)/4294967296,v=(f+p)/(1<<21);while(v===0);return v},h.int32=l.next,h.quick=h,c&&(c.x&&a(c,l),h.state=function(){return a(l,{})}),h}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xorshift7=o})(gi,t,!1)})($b);var Vie=$b.exports,Hb={exports:{}};Hb.exports;(function(t){(function(e,r,n){function i(s){var u=this;u.next=function(){var c=u.w,h=u.X,f=u.i,p,v;return u.w=c=c+1640531527|0,v=h[f+34&127],p=h[f=f+1&127],v^=v<<13,p^=p<<17,v^=v>>>15,p^=p>>>12,v=h[f]=v^p,u.i=f,v+(c^c>>>16)|0};function l(c,h){var f,p,v,g,m,_=[],b=128;for(h===(h|0)?(p=h,h=null):(h=h+"\0",p=0,b=Math.max(b,h.length)),v=0,g=-32;g<b;++g)h&&(p^=h.charCodeAt((g+32)%h.length)),g===0&&(m=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,g>=0&&(m=m+1640531527|0,f=_[g&127]^=p+m,v=f==0?v+1:0);for(v>=128&&(_[(h&&h.length||0)&127]=-1),v=127,g=4*128;g>0;--g)p=_[v+34&127],f=_[v=v+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,_[v]=p^f;c.w=m,c.X=_,c.i=v}l(u,s)}function a(s,u){return u.i=s.i,u.w=s.w,u.X=s.X.slice(),u}function o(s,u){s==null&&(s=+new Date);var l=new i(s),c=u&&u.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var f=l.next()>>>11,p=(l.next()>>>0)/4294967296,v=(f+p)/(1<<21);while(v===0);return v},h.int32=l.next,h.quick=h,c&&(c.X&&a(c,l),h.state=function(){return a(l,{})}),h}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xor4096=o})(gi,t,!1)})(Hb);var Gie=Hb.exports,zb={exports:{}};zb.exports;(function(t){(function(e,r,n){function i(s){var u=this,l="";u.next=function(){var h=u.b,f=u.c,p=u.d,v=u.a;return h=h<<25^h>>>7^f,f=f-p|0,p=p<<24^p>>>8^v,v=v-h|0,u.b=h=h<<20^h>>>12^f,u.c=f=f-p|0,u.d=p<<16^f>>>16^v,u.a=v-h|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,s===Math.floor(s)?(u.a=s/4294967296|0,u.b=s|0):l+=s;for(var c=0;c<l.length+20;c++)u.b^=l.charCodeAt(c)|0,u.next()}function a(s,u){return u.a=s.a,u.b=s.b,u.c=s.c,u.d=s.d,u}function o(s,u){var l=new i(s),c=u&&u.state,h=function(){return(l.next()>>>0)/4294967296};return h.double=function(){do var f=l.next()>>>11,p=(l.next()>>>0)/4294967296,v=(f+p)/(1<<21);while(v===0);return v},h.int32=l.next,h.quick=h,c&&(typeof c=="object"&&a(c,l),h.state=function(){return a(l,{})}),h}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.tychei=o})(gi,t,!1)})(zb);var jie=zb.exports,IO={exports:{}};const Wie={},Yie=Object.freeze(Object.defineProperty({__proto__:null,default:Wie},Symbol.toStringTag,{value:"Module"})),Xie=F7(Yie);(function(t){(function(e,r,n){var i=256,a=6,o=52,s="random",u=n.pow(i,a),l=n.pow(2,o),c=l*2,h=i-1,f;function p(T,k,A){var D=[];k=k==!0?{entropy:!0}:k||{};var O=_(m(k.entropy?[T,w(r)]:T??b(),3),D),F=new v(D),$=function(){for(var B=F.g(a),U=u,H=0;B<l;)B=(B+H)*i,U*=i,H=F.g(1);for(;B>=c;)B/=2,U/=2,H>>>=1;return(B+H)/U};return $.int32=function(){return F.g(4)|0},$.quick=function(){return F.g(4)/4294967296},$.double=$,_(w(F.S),r),(k.pass||A||function(B,U,H,W){return W&&(W.S&&g(W,F),B.state=function(){return g(F,{})}),H?(n[s]=B,U):B})($,O,"global"in k?k.global:this==n,k.state)}function v(T){var k,A=T.length,D=this,O=0,F=D.i=D.j=0,$=D.S=[];for(A||(T=[A++]);O<i;)$[O]=O++;for(O=0;O<i;O++)$[O]=$[F=h&F+T[O%A]+(k=$[O])],$[F]=k;(D.g=function(B){for(var U,H=0,W=D.i,z=D.j,G=D.S;B--;)U=G[W=h&W+1],H=H*i+G[h&(G[W]=G[z=h&z+U])+(G[z]=U)];return D.i=W,D.j=z,H})(i)}function g(T,k){return k.i=T.i,k.j=T.j,k.S=T.S.slice(),k}function m(T,k){var A=[],D=typeof T,O;if(k&&D=="object")for(O in T)try{A.push(m(T[O],k-1))}catch{}return A.length?A:D=="string"?T:T+"\0"}function _(T,k){for(var A=T+"",D,O=0;O<A.length;)k[h&O]=h&(D^=k[h&O]*19)+A.charCodeAt(O++);return w(k)}function b(){try{var T;return f&&(T=f.randomBytes)?T=T(i):(T=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(T)),w(T)}catch{var k=e.navigator,A=k&&k.plugins;return[+new Date,e,A,e.screen,w(r)]}}function w(T){return String.fromCharCode.apply(0,T)}if(_(n.random(),r),t.exports){t.exports=p;try{f=Xie}catch{}}else n["seed"+s]=p})(typeof self<"u"?self:gi,[],Math)})(IO);var qie=IO.exports,Kie=Hie,Zie=zie,Qie=Uie,Jie=Vie,eae=Gie,tae=jie,Iu=qie;Iu.alea=Kie;Iu.xor128=Zie;Iu.xorwow=Qie;Iu.xorshift7=Jie;Iu.xor4096=eae;Iu.tychei=tae;var Xae=Iu,qae={};(function(){var t;function e(x){var E=0;return function(){return E<x.length?{done:!1,value:x[E++]}:{done:!0}}}var r=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,E,M){return x==Array.prototype||x==Object.prototype||(x[E]=M.value),x};function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof gi=="object"&&gi];for(var E=0;E<x.length;++E){var M=x[E];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var i=n(this);function a(x,E){if(E)e:{var M=i;x=x.split(".");for(var V=0;V<x.length-1;V++){var ee=x[V];if(!(ee in M))break e;M=M[ee]}x=x[x.length-1],V=M[x],E=E(V),E!=V&&E!=null&&r(M,x,{configurable:!0,writable:!0,value:E})}}a("Symbol",function(x){function E(ne){if(this instanceof E)throw new TypeError("Symbol is not a constructor");return new M(V+(ne||"")+"_"+ee++,ne)}function M(ne,ie){this.h=ne,r(this,"description",{configurable:!0,writable:!0,value:ie})}if(x)return x;M.prototype.toString=function(){return this.h};var V="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",ee=0;return E}),a("Symbol.iterator",function(x){if(x)return x;x=Symbol("Symbol.iterator");for(var E="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),M=0;M<E.length;M++){var V=i[E[M]];typeof V=="function"&&typeof V.prototype[x]!="function"&&r(V.prototype,x,{configurable:!0,writable:!0,value:function(){return o(e(this))}})}return x});function o(x){return x={next:x},x[Symbol.iterator]=function(){return this},x}function s(x){var E=typeof Symbol<"u"&&Symbol.iterator&&x[Symbol.iterator];return E?E.call(x):{next:e(x)}}function u(x){if(!(x instanceof Array)){x=s(x);for(var E,M=[];!(E=x.next()).done;)M.push(E.value);x=M}return x}var l=typeof Object.assign=="function"?Object.assign:function(x,E){for(var M=1;M<arguments.length;M++){var V=arguments[M];if(V)for(var ee in V)Object.prototype.hasOwnProperty.call(V,ee)&&(x[ee]=V[ee])}return x};a("Object.assign",function(x){return x||l});var c=typeof Object.create=="function"?Object.create:function(x){function E(){}return E.prototype=x,new E},h;if(typeof Object.setPrototypeOf=="function")h=Object.setPrototypeOf;else{var f;e:{var p={a:!0},v={};try{v.__proto__=p,f=v.a;break e}catch{}f=!1}h=f?function(x,E){if(x.__proto__=E,x.__proto__!==E)throw new TypeError(x+" is not extensible");return x}:null}var g=h;function m(x,E){if(x.prototype=c(E.prototype),x.prototype.constructor=x,g)g(x,E);else for(var M in E)if(M!="prototype")if(Object.defineProperties){var V=Object.getOwnPropertyDescriptor(E,M);V&&Object.defineProperty(x,M,V)}else x[M]=E[M];x.za=E.prototype}function _(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function b(x){if(x.m)throw new TypeError("Generator is already running");x.m=!0}_.prototype.u=function(x){this.i=x};function w(x,E){x.l={ma:E,na:!0},x.h=x.s||x.v}_.prototype.return=function(x){this.l={return:x},this.h=this.v};function T(x,E,M){return x.h=M,{value:E}}function k(x){this.h=new _,this.i=x}function A(x,E){b(x.h);var M=x.h.j;return M?D(x,"return"in M?M.return:function(V){return{value:V,done:!0}},E,x.h.return):(x.h.return(E),O(x))}function D(x,E,M,V){try{var ee=E.call(x.h.j,M);if(!(ee instanceof Object))throw new TypeError("Iterator result "+ee+" is not an object");if(!ee.done)return x.h.m=!1,ee;var ne=ee.value}catch(ie){return x.h.j=null,w(x.h,ie),O(x)}return x.h.j=null,V.call(x.h,ne),O(x)}function O(x){for(;x.h.h;)try{var E=x.i(x.h);if(E)return x.h.m=!1,{value:E.value,done:!1}}catch(M){x.h.i=void 0,w(x.h,M)}if(x.h.m=!1,x.h.l){if(E=x.h.l,x.h.l=null,E.na)throw E.ma;return{value:E.return,done:!0}}return{value:void 0,done:!0}}function F(x){this.next=function(E){return b(x.h),x.h.j?E=D(x,x.h.j.next,E,x.h.u):(x.h.u(E),E=O(x)),E},this.throw=function(E){return b(x.h),x.h.j?E=D(x,x.h.j.throw,E,x.h.u):(w(x.h,E),E=O(x)),E},this.return=function(E){return A(x,E)},this[Symbol.iterator]=function(){return this}}function $(x){function E(V){return x.next(V)}function M(V){return x.throw(V)}return new Promise(function(V,ee){function ne(ie){ie.done?V(ie.value):Promise.resolve(ie.value).then(E,M).then(ne,ee)}ne(x.next())})}function B(x){return $(new F(new k(x)))}a("Promise",function(x){function E(ie){this.i=0,this.j=void 0,this.h=[],this.u=!1;var ue=this.l();try{ie(ue.resolve,ue.reject)}catch(ye){ue.reject(ye)}}function M(){this.h=null}function V(ie){return ie instanceof E?ie:new E(function(ue){ue(ie)})}if(x)return x;M.prototype.i=function(ie){if(this.h==null){this.h=[];var ue=this;this.j(function(){ue.m()})}this.h.push(ie)};var ee=i.setTimeout;M.prototype.j=function(ie){ee(ie,0)},M.prototype.m=function(){for(;this.h&&this.h.length;){var ie=this.h;this.h=[];for(var ue=0;ue<ie.length;++ue){var ye=ie[ue];ie[ue]=null;try{ye()}catch(De){this.l(De)}}}this.h=null},M.prototype.l=function(ie){this.j(function(){throw ie})},E.prototype.l=function(){function ie(De){return function(ze){ye||(ye=!0,De.call(ue,ze))}}var ue=this,ye=!1;return{resolve:ie(this.I),reject:ie(this.m)}},E.prototype.I=function(ie){if(ie===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(ie instanceof E)this.L(ie);else{e:switch(typeof ie){case"object":var ue=ie!=null;break e;case"function":ue=!0;break e;default:ue=!1}ue?this.F(ie):this.s(ie)}},E.prototype.F=function(ie){var ue=void 0;try{ue=ie.then}catch(ye){this.m(ye);return}typeof ue=="function"?this.M(ue,ie):this.s(ie)},E.prototype.m=function(ie){this.v(2,ie)},E.prototype.s=function(ie){this.v(1,ie)},E.prototype.v=function(ie,ue){if(this.i!=0)throw Error("Cannot settle("+ie+", "+ue+"): Promise already settled in state"+this.i);this.i=ie,this.j=ue,this.i===2&&this.K(),this.H()},E.prototype.K=function(){var ie=this;ee(function(){if(ie.D()){var ue=i.console;typeof ue<"u"&&ue.error(ie.j)}},1)},E.prototype.D=function(){if(this.u)return!1;var ie=i.CustomEvent,ue=i.Event,ye=i.dispatchEvent;return typeof ye>"u"?!0:(typeof ie=="function"?ie=new ie("unhandledrejection",{cancelable:!0}):typeof ue=="function"?ie=new ue("unhandledrejection",{cancelable:!0}):(ie=i.document.createEvent("CustomEvent"),ie.initCustomEvent("unhandledrejection",!1,!0,ie)),ie.promise=this,ie.reason=this.j,ye(ie))},E.prototype.H=function(){if(this.h!=null){for(var ie=0;ie<this.h.length;++ie)ne.i(this.h[ie]);this.h=null}};var ne=new M;return E.prototype.L=function(ie){var ue=this.l();ie.T(ue.resolve,ue.reject)},E.prototype.M=function(ie,ue){var ye=this.l();try{ie.call(ue,ye.resolve,ye.reject)}catch(De){ye.reject(De)}},E.prototype.then=function(ie,ue){function ye(et,We){return typeof et=="function"?function(st){try{De(et(st))}catch(bt){ze(bt)}}:We}var De,ze,it=new E(function(et,We){De=et,ze=We});return this.T(ye(ie,De),ye(ue,ze)),it},E.prototype.catch=function(ie){return this.then(void 0,ie)},E.prototype.T=function(ie,ue){function ye(){switch(De.i){case 1:ie(De.j);break;case 2:ue(De.j);break;default:throw Error("Unexpected state: "+De.i)}}var De=this;this.h==null?ne.i(ye):this.h.push(ye),this.u=!0},E.resolve=V,E.reject=function(ie){return new E(function(ue,ye){ye(ie)})},E.race=function(ie){return new E(function(ue,ye){for(var De=s(ie),ze=De.next();!ze.done;ze=De.next())V(ze.value).T(ue,ye)})},E.all=function(ie){var ue=s(ie),ye=ue.next();return ye.done?V([]):new E(function(De,ze){function it(st){return function(bt){et[st]=bt,We--,We==0&&De(et)}}var et=[],We=0;do et.push(void 0),We++,V(ye.value).T(it(et.length-1),ze),ye=ue.next();while(!ye.done)})},E});function U(x,E){x instanceof String&&(x+="");var M=0,V=!1,ee={next:function(){if(!V&&M<x.length){var ne=M++;return{value:E(ne,x[ne]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}a("Array.prototype.keys",function(x){return x||function(){return U(this,function(E){return E})}}),a("Array.prototype.fill",function(x){return x||function(E,M,V){var ee=this.length||0;for(0>M&&(M=Math.max(0,ee+M)),(V==null||V>ee)&&(V=ee),V=Number(V),0>V&&(V=Math.max(0,ee+V)),M=Number(M||0);M<V;M++)this[M]=E;return this}});function H(x){return x||Array.prototype.fill}a("Int8Array.prototype.fill",H),a("Uint8Array.prototype.fill",H),a("Uint8ClampedArray.prototype.fill",H),a("Int16Array.prototype.fill",H),a("Uint16Array.prototype.fill",H),a("Int32Array.prototype.fill",H),a("Uint32Array.prototype.fill",H),a("Float32Array.prototype.fill",H),a("Float64Array.prototype.fill",H),a("Object.is",function(x){return x||function(E,M){return E===M?E!==0||1/E===1/M:E!==E&&M!==M}}),a("Array.prototype.includes",function(x){return x||function(E,M){var V=this;V instanceof String&&(V=String(V));var ee=V.length;for(M=M||0,0>M&&(M=Math.max(M+ee,0));M<ee;M++){var ne=V[M];if(ne===E||Object.is(ne,E))return!0}return!1}}),a("String.prototype.includes",function(x){return x||function(E,M){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(E instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(E,M||0)!==-1}});var W=this||self;function z(x,E){x=x.split(".");var M=W;x[0]in M||typeof M.execScript>"u"||M.execScript("var "+x[0]);for(var V;x.length&&(V=x.shift());)x.length||E===void 0?M[V]&&M[V]!==Object.prototype[V]?M=M[V]:M=M[V]={}:M[V]=E}function G(x){var E;e:{if((E=W.navigator)&&(E=E.userAgent))break e;E=""}return E.indexOf(x)!=-1}var Y=Array.prototype.map?function(x,E){return Array.prototype.map.call(x,E,void 0)}:function(x,E){for(var M=x.length,V=Array(M),ee=typeof x=="string"?x.split(""):x,ne=0;ne<M;ne++)ne in ee&&(V[ne]=E.call(void 0,ee[ne],ne,x));return V},Q={},J=null;function ae(x){var E=x.length,M=3*E/4;M%3?M=Math.floor(M):"=.".indexOf(x[E-1])!=-1&&(M="=.".indexOf(x[E-2])!=-1?M-2:M-1);var V=new Uint8Array(M),ee=0;return he(x,function(ne){V[ee++]=ne}),ee!==M?V.subarray(0,ee):V}function he(x,E){function M(ye){for(;V<x.length;){var De=x.charAt(V++),ze=J[De];if(ze!=null)return ze;if(!/^[\s\xa0]*$/.test(De))throw Error("Unknown base64 encoding at char: "+De)}return ye}pe();for(var V=0;;){var ee=M(-1),ne=M(0),ie=M(64),ue=M(64);if(ue===64&&ee===-1)break;E(ee<<2|ne>>4),ie!=64&&(E(ne<<4&240|ie>>2),ue!=64&&E(ie<<6&192|ue))}}function pe(){if(!J){J={};for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),E=["+/=","+/","-_=","-_.","-_"],M=0;5>M;M++){var V=x.concat(E[M].split(""));Q[M]=V;for(var ee=0;ee<V.length;ee++){var ne=V[ee];J[ne]===void 0&&(J[ne]=ee)}}}}var Se=typeof Uint8Array<"u",we=!(G("Trident")||G("MSIE"))&&typeof W.btoa=="function";function Le(x){if(!we){var E;E===void 0&&(E=0),pe(),E=Q[E];for(var M=Array(Math.floor(x.length/3)),V=E[64]||"",ee=0,ne=0;ee<x.length-2;ee+=3){var ie=x[ee],ue=x[ee+1],ye=x[ee+2],De=E[ie>>2];ie=E[(ie&3)<<4|ue>>4],ue=E[(ue&15)<<2|ye>>6],ye=E[ye&63],M[ne++]=De+ie+ue+ye}switch(De=0,ye=V,x.length-ee){case 2:De=x[ee+1],ye=E[(De&15)<<2]||V;case 1:x=x[ee],M[ne]=E[x>>2]+E[(x&3)<<4|De>>4]+ye+V}return M.join("")}for(E="";10240<x.length;)E+=String.fromCharCode.apply(null,x.subarray(0,10240)),x=x.subarray(10240);return E+=String.fromCharCode.apply(null,x),btoa(E)}var Fe=RegExp("[-_.]","g");function se(x){switch(x){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function ve(x){if(!we)return ae(x);Fe.test(x)&&(x=x.replace(Fe,se)),x=atob(x);for(var E=new Uint8Array(x.length),M=0;M<x.length;M++)E[M]=x.charCodeAt(M);return E}var ge;function be(){return ge||(ge=new Uint8Array(0))}var Te={},$e=typeof Uint8Array.prototype.slice=="function",Ie=0,Ne=0;function ht(x){var E=0>x;x=Math.abs(x);var M=x>>>0;x=Math.floor((x-M)/4294967296),E&&(M=s(Rt(M,x)),E=M.next().value,x=M.next().value,M=E),Ie=M>>>0,Ne=x>>>0}var Xt=typeof BigInt=="function";function Rt(x,E){return E=~E,x?x=~x+1:E+=1,[x,E]}function dn(x,E){this.i=x>>>0,this.h=E>>>0}function jr(x){if(!x)return de||(de=new dn(0,0));if(!/^-?\d+$/.test(x))return null;if(16>x.length)ht(Number(x));else if(Xt)x=BigInt(x),Ie=Number(x&BigInt(4294967295))>>>0,Ne=Number(x>>BigInt(32)&BigInt(4294967295));else{var E=+(x[0]==="-");Ne=Ie=0;for(var M=x.length,V=E,ee=(M-E)%6+E;ee<=M;V=ee,ee+=6)V=Number(x.slice(V,ee)),Ne*=1e6,Ie=1e6*Ie+V,4294967296<=Ie&&(Ne+=Ie/4294967296|0,Ie%=4294967296);E&&(E=s(Rt(Ie,Ne)),x=E.next().value,E=E.next().value,Ie=x,Ne=E)}return new dn(Ie,Ne)}var de;function Gt(x,E){return Error("Invalid wire type: "+x+" (at position "+E+")")}function Ar(){return Error("Failed to read varint, encoding is invalid.")}function _r(x,E){return Error("Tried to read past the end of the data "+E+" > "+x)}function Ae(){throw Error("Invalid UTF8")}function mt(x,E){return E=String.fromCharCode.apply(null,E),x==null?E:x+E}var gr=void 0,pn,Fn=typeof TextDecoder<"u",Ti,wc=typeof TextEncoder<"u",$n;function Jn(x){if(x!==Te)throw Error("illegal external caller")}function Lr(x,E){if(Jn(E),this.V=x,x!=null&&x.length===0)throw Error("ByteString should be constructed with non-empty values")}function hs(){return $n||($n=new Lr(null,Te))}function ds(x){Jn(Te);var E=x.V;return E=E==null||Se&&E!=null&&E instanceof Uint8Array?E:typeof E=="string"?ve(E):null,E==null?E:x.V=E}function Ki(x){if(typeof x=="string")return{buffer:ve(x),C:!1};if(Array.isArray(x))return{buffer:new Uint8Array(x),C:!1};if(x.constructor===Uint8Array)return{buffer:x,C:!1};if(x.constructor===ArrayBuffer)return{buffer:new Uint8Array(x),C:!1};if(x.constructor===Lr)return{buffer:ds(x)||be(),C:!0};if(x instanceof Uint8Array)return{buffer:new Uint8Array(x.buffer,x.byteOffset,x.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function yr(x,E){this.i=null,this.m=!1,this.h=this.j=this.l=0,Ct(this,x,E)}function Ct(x,E,M){M=M===void 0?{}:M,x.S=M.S===void 0?!1:M.S,E&&(E=Ki(E),x.i=E.buffer,x.m=E.C,x.l=0,x.j=x.i.length,x.h=x.l)}yr.prototype.reset=function(){this.h=this.l};function Wr(x,E){if(x.h=E,E>x.j)throw _r(x.j,E)}function Ra(x){var E=x.i,M=x.h,V=E[M++],ee=V&127;if(V&128&&(V=E[M++],ee|=(V&127)<<7,V&128&&(V=E[M++],ee|=(V&127)<<14,V&128&&(V=E[M++],ee|=(V&127)<<21,V&128&&(V=E[M++],ee|=V<<28,V&128&&E[M++]&128&&E[M++]&128&&E[M++]&128&&E[M++]&128&&E[M++]&128)))))throw Ar();return Wr(x,M),ee}function Hr(x,E){if(0>E)throw Error("Tried to read a negative byte length: "+E);var M=x.h,V=M+E;if(V>x.j)throw _r(E,x.j-M);return x.h=V,M}var Hn=[];function Zi(){this.h=[]}Zi.prototype.length=function(){return this.h.length},Zi.prototype.end=function(){var x=this.h;return this.h=[],x};function ps(x,E,M){for(;0<M||127<E;)x.h.push(E&127|128),E=(E>>>7|M<<25)>>>0,M>>>=7;x.h.push(E)}function Ci(x,E){for(;127<E;)x.h.push(E&127|128),E>>>=7;x.h.push(E)}function vo(x,E){if(Hn.length){var M=Hn.pop();Ct(M,x,E),x=M}else x=new yr(x,E);this.h=x,this.j=this.h.h,this.i=this.l=-1,this.setOptions(E)}vo.prototype.setOptions=function(x){x=x===void 0?{}:x,this.ca=x.ca===void 0?!1:x.ca},vo.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function vs(x){var E=x.h;if(E.h==E.j)return!1;x.j=x.h.h;var M=Ra(x.h)>>>0;if(E=M>>>3,M&=7,!(0<=M&&5>=M))throw Gt(M,x.j);if(1>E)throw Error("Invalid field number: "+E+" (at position "+x.j+")");return x.l=E,x.i=M,!0}function go(x){switch(x.i){case 0:if(x.i!=0)go(x);else e:{x=x.h;for(var E=x.h,M=E+10,V=x.i;E<M;)if(!(V[E++]&128)){Wr(x,E);break e}throw Ar()}break;case 1:x=x.h,Wr(x,x.h+8);break;case 2:x.i!=2?go(x):(E=Ra(x.h)>>>0,x=x.h,Wr(x,x.h+E));break;case 5:x=x.h,Wr(x,x.h+4);break;case 3:E=x.l;do{if(!vs(x))throw Error("Unmatched start-group tag: stream EOF");if(x.i==4){if(x.l!=E)throw Error("Unmatched end-group tag");break}go(x)}while(1);break;default:throw Gt(x.i,x.j)}}var rn=[];function gs(){this.j=[],this.i=0,this.h=new Zi}function Rr(x,E){E.length!==0&&(x.j.push(E),x.i+=E.length)}function Qe(x,E){if(E=E.R){Rr(x,x.h.end());for(var M=0;M<E.length;M++)Rr(x,ds(E[M])||be())}}var ke=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function ei(x,E){return ke?x[ke]|=E:x.A!==void 0?x.A|=E:(Object.defineProperties(x,{A:{value:E,configurable:!0,writable:!0,enumerable:!1}}),E)}function Oa(x,E){ke?x[ke]&&(x[ke]&=~E):x.A!==void 0&&(x.A&=~E)}function Jt(x){var E;return ke?E=x[ke]:E=x.A,E??0}function kr(x,E){ke?x[ke]=E:x.A!==void 0?x.A=E:Object.defineProperties(x,{A:{value:E,configurable:!0,writable:!0,enumerable:!1}})}function Ia(x){return ei(x,1),x}function Tc(x,E){kr(E,(x|0)&-51)}function mo(x,E){kr(E,(x|18)&-41)}var Ba={};function Na(x){return x!==null&&typeof x=="object"&&!Array.isArray(x)&&x.constructor===Object}var Qi,Bu=[];kr(Bu,23),Qi=Object.freeze(Bu);function Fa(x){if(Jt(x.o)&2)throw Error("Cannot mutate an immutable Message")}function $a(x){var E=x.length;(E=E?x[E-1]:void 0)&&Na(E)?E.g=1:(E={},x.push((E.g=1,E)))}function ms(x){var E=x.i+x.G;return x.B||(x.B=x.o[E]={})}function nn(x,E){return E===-1?null:E>=x.i?x.B?x.B[E]:void 0:x.o[E+x.G]}function vn(x,E,M,V){Fa(x),Ji(x,E,M,V)}function Ji(x,E,M,V){x.j&&(x.j=void 0),E>=x.i||V?ms(x)[E]=M:(x.o[E+x.G]=M,(x=x.B)&&E in x&&delete x[E])}function ys(x,E,M,V){var ee=nn(x,E);Array.isArray(ee)||(ee=Qi);var ne=Jt(ee);if(ne&1||Ia(ee),V)ne&2||ei(ee,2),M&1||Object.freeze(ee);else{V=!(M&2);var ie=ne&2;M&1||!ie?V&&ne&16&&!ie&&Oa(ee,16):(ee=Ia(Array.prototype.slice.call(ee)),Ji(x,E,ee))}return ee}function re(x,E){var M=nn(x,E),V=M==null?M:typeof M=="number"||M==="NaN"||M==="Infinity"||M==="-Infinity"?Number(M):void 0;return V!=null&&V!==M&&Ji(x,E,V),V}function N(x,E,M,V,ee){x.h||(x.h={});var ne=x.h[M],ie=ys(x,M,3,ee);if(!ne){var ue=ie;ne=[];var ye=!!(Jt(x.o)&16);ie=!!(Jt(ue)&2);var De=ue;!ee&&ie&&(ue=Array.prototype.slice.call(ue));for(var ze=ie,it=0;it<ue.length;it++){var et=ue[it],We=E,st=!1;if(st=st===void 0?!1:st,et=Array.isArray(et)?new We(et):st?new We:void 0,et!==void 0){We=et.o;var bt=st=Jt(We);ie&&(bt|=2),ye&&(bt|=16),bt!=st&&kr(We,bt),We=bt,ze=ze||!!(2&We),ne.push(et)}}return x.h[M]=ne,ye=Jt(ue),E=ye|33,E=ze?E&-9:E|8,ye!=E&&(ze=ue,Object.isFrozen(ze)&&(ze=Array.prototype.slice.call(ze)),kr(ze,E),ue=ze),De!==ue&&Ji(x,M,ue),(ee||V&&ie)&&ei(ne,2),V&&Object.freeze(ne),ne}return ee||(ee=Object.isFrozen(ne),V&&!ee?Object.freeze(ne):!V&&ee&&(ne=Array.prototype.slice.call(ne),x.h[M]=ne)),ne}function L(x,E,M){var V=!!(Jt(x.o)&2);if(E=N(x,E,M,V,V),x=ys(x,M,3,V),!(V||Jt(x)&8)){for(V=0;V<E.length;V++){if(M=E[V],Jt(M.o)&2){var ee=An(M,!1);ee.j=M}else ee=M;M!==ee&&(E[V]=ee,x[V]=ee.o)}ei(x,8)}return E}function I(x,E,M){if(M!=null&&typeof M!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof M+": "+M);vn(x,E,M)}function K(x,E,M,V,ee){Fa(x);var ne=N(x,M,E,!1,!1);return M=V??new M,x=ys(x,E,2,!1),ee!=null?(ne.splice(ee,0,M),x.splice(ee,0,M.o)):(ne.push(M),x.push(M.o)),M.C()&&Oa(x,8),M}function oe(x,E){return x??E}function le(x,E,M){return M=M===void 0?0:M,oe(re(x,E),M)}var me;function Ee(x){switch(typeof x){case"number":return isFinite(x)?x:String(x);case"object":if(x)if(Array.isArray(x)){if(Jt(x)&128)return x=Array.prototype.slice.call(x),$a(x),x}else{if(Se&&x!=null&&x instanceof Uint8Array)return Le(x);if(x instanceof Lr){var E=x.V;return E==null?"":typeof E=="string"?E:x.V=Le(E)}}}return x}function He(x,E,M,V){if(x!=null){if(Array.isArray(x))x=Be(x,E,M,V!==void 0);else if(Na(x)){var ee={},ne;for(ne in x)ee[ne]=He(x[ne],E,M,V);x=ee}else x=E(x,V);return x}}function Be(x,E,M,V){var ee=Jt(x);V=V?!!(ee&16):void 0,x=Array.prototype.slice.call(x);for(var ne=0;ne<x.length;ne++)x[ne]=He(x[ne],E,M,V);return M(ee,x),x}function Ke(x){return x.ja===Ba?x.toJSON():Ee(x)}function Ze(x,E){x&128&&$a(E)}function kt(x,E,M){if(M=M===void 0?mo:M,x!=null){if(Se&&x instanceof Uint8Array)return x.length?new Lr(new Uint8Array(x),Te):hs();if(Array.isArray(x)){var V=Jt(x);return V&2?x:E&&!(V&32)&&(V&16||V===0)?(kr(x,V|2),x):(x=Be(x,kt,V&4?mo:M,!0),E=Jt(x),E&4&&E&2&&Object.freeze(x),x)}return x.ja===Ba?tt(x):x}}function ar(x,E,M,V,ee,ne,ie){if(x=x.h&&x.h[M]){if(V=Jt(x),V&2?V=x:(ne=Y(x,tt),mo(V,ne),Object.freeze(ne),V=ne),Fa(E),ie=V==null?Qi:Ia([]),V!=null){for(ne=!!V.length,x=0;x<V.length;x++){var ue=V[x];ne=ne&&!(Jt(ue.o)&2),ie[x]=ue.o}ne=(ne?8:0)|1,x=Jt(ie),(x&ne)!==ne&&(Object.isFrozen(ie)&&(ie=Array.prototype.slice.call(ie)),kr(ie,x|ne)),E.h||(E.h={}),E.h[M]=V}else E.h&&(E.h[M]=void 0);Ji(E,M,ie,ee)}else vn(E,M,kt(V,ne,ie),ee)}function tt(x){return Jt(x.o)&2||(x=An(x,!0),ei(x.o,2)),x}function An(x,E){var M=x.o,V=[];ei(V,16);var ee=x.constructor.h;if(ee&&V.push(ee),ee=x.B,ee){V.length=M.length,V.fill(void 0,V.length,M.length);var ne={};V[V.length-1]=ne}Jt(M)&128&&$a(V),E=E||x.C()?mo:Tc,ne=x.constructor,me=V,V=new ne(V),me=void 0,x.R&&(V.R=x.R.slice()),ne=!!(Jt(M)&16);for(var ie=ee?M.length-1:M.length,ue=0;ue<ie;ue++)ar(x,V,ue-x.G,M[ue],!1,ne,E);if(ee)for(var ye in ee)ar(x,V,+ye,ee[ye],!0,ne,E);return V}function dt(x,E,M){x==null&&(x=me),me=void 0;var V=this.constructor.i||0,ee=0<V,ne=this.constructor.h,ie=!1;if(x==null){x=ne?[ne]:[];var ue=48,ye=!0;ee&&(V=0,ue|=128),kr(x,ue)}else{if(!Array.isArray(x)||ne&&ne!==x[0])throw Error();var De=ue=ei(x,0);if((ye=(16&De)!==0)&&((ie=(32&De)!==0)||(De|=32)),ee){if(128&De)V=0;else if(0<x.length){var ze=x[x.length-1];if(Na(ze)&&"g"in ze){V=0,De|=128,delete ze.g;var it=!0,et;for(et in ze){it=!1;break}it&&x.pop()}}}else if(128&De)throw Error();ue!==De&&kr(x,De)}this.G=(ne?0:-1)-V,this.h=void 0,this.o=x;e:{if(ne=this.o.length,V=ne-1,ne&&(ne=this.o[V],Na(ne))){this.B=ne,this.i=V-this.G;break e}E!==void 0&&-1<E?(this.i=Math.max(E,V+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!ee&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(M){E=ye&&!ie&&!0,ee=this.i;var We;for(ye=0;ye<M.length;ye++)ie=M[ye],ie<ee?(ie+=this.G,(V=x[ie])?ti(V,E):x[ie]=Qi):(We||(We=ms(this)),(V=We[ie])?ti(V,E):We[ie]=Qi)}}dt.prototype.toJSON=function(){return Be(this.o,Ke,Ze)},dt.prototype.C=function(){return!!(Jt(this.o)&2)};function ti(x,E){if(Array.isArray(x)){var M=Jt(x),V=1;!E||M&2||(V|=16),(M&V)!==V&&kr(x,M|V)}}dt.prototype.ja=Ba,dt.prototype.toString=function(){return this.o.toString()};function Ha(x,E,M){if(M){var V={},ee;for(ee in M){var ne=M[ee],ie=ne.ra;ie||(V.J=ne.xa||ne.oa.W,ne.ia?(V.aa=ta(ne.ia),ie=function(ue){return function(ye,De,ze){return ue.J(ye,De,ze,ue.aa)}}(V)):ne.ka?(V.Z=za(ne.da.P,ne.ka),ie=function(ue){return function(ye,De,ze){return ue.J(ye,De,ze,ue.Z)}}(V)):ie=V.J,ne.ra=ie),ie(E,x,ne.da),V={J:V.J,aa:V.aa,Z:V.Z}}}Qe(E,x)}var zn=Symbol();function gn(x,E,M){return x[zn]||(x[zn]=function(V,ee){return E(V,ee,M)})}function Un(x){var E=x[zn];if(!E){var M=_o(x);E=function(V,ee){return bo(V,ee,M)},x[zn]=E}return E}function yo(x){var E=x.ia;if(E)return Un(E);if(E=x.wa)return gn(x.da.P,E,x.ka)}function qt(x){var E=yo(x),M=x.da,V=x.oa.U;return E?function(ee,ne){return V(ee,ne,M,E)}:function(ee,ne){return V(ee,ne,M)}}function ea(x,E){var M=x[E];return typeof M=="function"&&M.length===0&&(M=M(),x[E]=M),Array.isArray(M)&&(Va in M||ra in M||0<M.length&&typeof M[0]=="function")?M:void 0}function jt(x,E,M,V,ee,ne){E.P=x[0];var ie=1;if(x.length>ie&&typeof x[ie]!="number"){var ue=x[ie++];M(E,ue)}for(;ie<x.length;){M=x[ie++];for(var ye=ie+1;ye<x.length&&typeof x[ye]!="number";)ye++;switch(ue=x[ie++],ye-=ie,ye){case 0:V(E,M,ue);break;case 1:(ye=ea(x,ie))?(ie++,ee(E,M,ue,ye)):V(E,M,ue,x[ie++]);break;case 2:ye=ie++,ye=ea(x,ye),ee(E,M,ue,ye,x[ie++]);break;case 3:ne(E,M,ue,x[ie++],x[ie++],x[ie++]);break;case 4:ne(E,M,ue,x[ie++],x[ie++],x[ie++],x[ie++]);break;default:throw Error("unexpected number of binary field arguments: "+ye)}}return E}var mn=Symbol();function ta(x){var E=x[mn];if(!E){var M=Ua(x);E=function(V,ee){return xo(V,ee,M)},x[mn]=E}return E}function za(x,E){var M=x[mn];return M||(M=function(V,ee){return Ha(V,ee,E)},x[mn]=M),M}var ra=Symbol();function Nu(x,E){x.push(E)}function Fu(x,E,M){x.push(E,M.W)}function $u(x,E,M,V){var ee=ta(V),ne=Ua(V).P,ie=M.W;x.push(E,function(ue,ye,De){return ie(ue,ye,De,ne,ee)})}function Hu(x,E,M,V,ee,ne){var ie=za(V,ne),ue=M.W;x.push(E,function(ye,De,ze){return ue(ye,De,ze,V,ie)})}function Ua(x){var E=x[ra];return E||(E=jt(x,x[ra]=[],Nu,Fu,$u,Hu),Va in x&&ra in x&&(x.length=0),E)}var Va=Symbol();function _s(x,E){x[0]=E}function zu(x,E,M,V){var ee=M.U;x[E]=V?function(ne,ie,ue){return ee(ne,ie,ue,V)}:ee}function Ga(x,E,M,V,ee){var ne=M.U,ie=Un(V),ue=_o(V).P;x[E]=function(ye,De,ze){return ne(ye,De,ze,ue,ie,ee)}}function or(x,E,M,V,ee,ne,ie){var ue=M.U,ye=gn(V,ee,ne);x[E]=function(De,ze,it){return ue(De,ze,it,V,ye,ie)}}function _o(x){var E=x[Va];return E||(E=jt(x,x[Va]={},_s,zu,Ga,or),Va in x&&ra in x&&(x.length=0),E)}function bo(x,E,M){for(;vs(E)&&E.i!=4;){var V=E.l,ee=M[V];if(!ee){var ne=M[0];ne&&(ne=ne[V])&&(ee=M[V]=qt(ne))}if(!ee||!ee(E,x,V)){ee=E,V=x,ne=ee.j,go(ee);var ie=ee;if(!ie.ca){if(ee=ie.h.h-ne,ie.h.h=ne,ie=ie.h,ee==0)ee=hs();else{if(ne=Hr(ie,ee),ie.S&&ie.m)ee=ie.i.subarray(ne,ne+ee);else{ie=ie.i;var ue=ne;ee=ne+ee,ee=ue===ee?be():$e?ie.slice(ue,ee):new Uint8Array(ie.subarray(ue,ee))}ee=ee.length==0?hs():new Lr(ee,Te)}(ne=V.R)?ne.push(ee):V.R=[ee]}}}return x}function xo(x,E,M){for(var V=M.length,ee=V%2==1,ne=ee?1:0;ne<V;ne+=2)(0,M[ne+1])(E,x,M[ne]);Ha(x,E,ee?M[0]:void 0)}function na(x,E){return{U:x,W:E}}var an=na(function(x,E,M){if(x.i!==5)return!1;x=x.h;var V=x.i,ee=x.h,ne=V[ee],ie=V[ee+1],ue=V[ee+2];return V=V[ee+3],Wr(x,x.h+4),ie=(ne<<0|ie<<8|ue<<16|V<<24)>>>0,x=2*(ie>>31)+1,ne=ie>>>23&255,ie&=8388607,vn(E,M,ne==255?ie?NaN:1/0*x:ne==0?x*Math.pow(2,-149)*ie:x*Math.pow(2,ne-150)*(ie+Math.pow(2,23))),!0},function(x,E,M){if(E=re(E,M),E!=null){Ci(x.h,8*M+5),x=x.h;var V=+E;V===0?0<1/V?Ie=Ne=0:(Ne=0,Ie=2147483648):isNaN(V)?(Ne=0,Ie=2147483647):(V=(M=0>V?-2147483648:0)?-V:V,34028234663852886e22<V?(Ne=0,Ie=(M|2139095040)>>>0):11754943508222875e-54>V?(V=Math.round(V/Math.pow(2,-149)),Ne=0,Ie=(M|V)>>>0):(E=Math.floor(Math.log(V)/Math.LN2),V*=Math.pow(2,-E),V=Math.round(8388608*V),16777216<=V&&++E,Ne=0,Ie=(M|E+127<<23|V&8388607)>>>0)),M=Ie,x.h.push(M>>>0&255),x.h.push(M>>>8&255),x.h.push(M>>>16&255),x.h.push(M>>>24&255)}}),Cc=na(function(x,E,M){if(x.i!==0)return!1;var V=x.h,ee=0,ne=x=0,ie=V.i,ue=V.h;do{var ye=ie[ue++];ee|=(ye&127)<<ne,ne+=7}while(32>ne&&ye&128);for(32<ne&&(x|=(ye&127)>>4),ne=3;32>ne&&ye&128;ne+=7)ye=ie[ue++],x|=(ye&127)<<ne;if(Wr(V,ue),128>ye)V=ee>>>0,ye=x>>>0,(x=ye&2147483648)&&(V=~V+1>>>0,ye=~ye>>>0,V==0&&(ye=ye+1>>>0)),V=4294967296*ye+(V>>>0);else throw Ar();return vn(E,M,x?-V:V),!0},function(x,E,M){E=nn(E,M),E!=null&&(typeof E=="string"&&jr(E),E!=null&&(Ci(x.h,8*M),typeof E=="number"?(x=x.h,ht(E),ps(x,Ie,Ne)):(M=jr(E),ps(x.h,M.i,M.h))))}),bs=na(function(x,E,M){return x.i!==0?!1:(vn(E,M,Ra(x.h)),!0)},function(x,E,M){if(E=nn(E,M),E!=null&&E!=null)if(Ci(x.h,8*M),x=x.h,M=E,0<=M)Ci(x,M);else{for(E=0;9>E;E++)x.h.push(M&127|128),M>>=7;x.h.push(1)}}),xs=na(function(x,E,M){if(x.i!==2)return!1;var V=Ra(x.h)>>>0;x=x.h;var ee=Hr(x,V);if(x=x.i,Fn){var ne=x,ie;(ie=pn)||(ie=pn=new TextDecoder("utf-8",{fatal:!0})),x=ee+V,ne=ee===0&&x===ne.length?ne:ne.subarray(ee,x);try{var ue=ie.decode(ne)}catch(it){if(gr===void 0){try{ie.decode(new Uint8Array([128]))}catch{}try{ie.decode(new Uint8Array([97])),gr=!0}catch{gr=!1}}throw!gr&&(pn=void 0),it}}else{ue=ee,V=ue+V,ee=[];for(var ye=null,De,ze;ue<V;)De=x[ue++],128>De?ee.push(De):224>De?ue>=V?Ae():(ze=x[ue++],194>De||(ze&192)!==128?(ue--,Ae()):ee.push((De&31)<<6|ze&63)):240>De?ue>=V-1?Ae():(ze=x[ue++],(ze&192)!==128||De===224&&160>ze||De===237&&160<=ze||((ne=x[ue++])&192)!==128?(ue--,Ae()):ee.push((De&15)<<12|(ze&63)<<6|ne&63)):244>=De?ue>=V-2?Ae():(ze=x[ue++],(ze&192)!==128||(De<<28)+(ze-144)>>30||((ne=x[ue++])&192)!==128||((ie=x[ue++])&192)!==128?(ue--,Ae()):(De=(De&7)<<18|(ze&63)<<12|(ne&63)<<6|ie&63,De-=65536,ee.push((De>>10&1023)+55296,(De&1023)+56320))):Ae(),8192<=ee.length&&(ye=mt(ye,ee),ee.length=0);ue=mt(ye,ee)}return vn(E,M,ue),!0},function(x,E,M){if(E=nn(E,M),E!=null){var V=!1;if(V=V===void 0?!1:V,wc){if(V&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(E))throw Error("Found an unpaired surrogate");E=(Ti||(Ti=new TextEncoder)).encode(E)}else{for(var ee=0,ne=new Uint8Array(3*E.length),ie=0;ie<E.length;ie++){var ue=E.charCodeAt(ie);if(128>ue)ne[ee++]=ue;else{if(2048>ue)ne[ee++]=ue>>6|192;else{if(55296<=ue&&57343>=ue){if(56319>=ue&&ie<E.length){var ye=E.charCodeAt(++ie);if(56320<=ye&&57343>=ye){ue=1024*(ue-55296)+ye-56320+65536,ne[ee++]=ue>>18|240,ne[ee++]=ue>>12&63|128,ne[ee++]=ue>>6&63|128,ne[ee++]=ue&63|128;continue}else ie--}if(V)throw Error("Found an unpaired surrogate");ue=65533}ne[ee++]=ue>>12|224,ne[ee++]=ue>>6&63|128}ne[ee++]=ue&63|128}}E=ee===ne.length?ne:ne.subarray(0,ee)}Ci(x.h,8*M+2),Ci(x.h,E.length),Rr(x,x.h.end()),Rr(x,E)}}),Ss=na(function(x,E,M,V,ee){if(x.i!==2)return!1;E=K(E,M,V),M=x.h.j,V=Ra(x.h)>>>0;var ne=x.h.h+V,ie=ne-M;if(0>=ie&&(x.h.j=ne,ee(E,x,void 0,void 0,void 0),ie=ne-x.h.h),ie)throw Error("Message parsing ended unexpectedly. Expected to read "+(V+" bytes, instead read "+(V-ie)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return x.h.h=ne,x.h.j=M,!0},function(x,E,M,V,ee){if(E=L(E,V,M),E!=null)for(V=0;V<E.length;V++){var ne=x;Ci(ne.h,8*M+2);var ie=ne.h.end();Rr(ne,ie),ie.push(ne.i),ne=ie,ee(E[V],x),ie=x;var ue=ne.pop();for(ue=ie.i+ie.h.length()-ue;127<ue;)ne.push(ue&127|128),ue>>>=7,ie.i++;ne.push(ue),ie.i++}});function ws(x){return function(E,M){e:{if(rn.length){var V=rn.pop();V.setOptions(M),Ct(V.h,E,M),E=V}else E=new vo(E,M);try{var ee=_o(x),ne=bo(new ee.P,E,ee);break e}finally{ee=E.h,ee.i=null,ee.m=!1,ee.l=0,ee.j=0,ee.h=0,ee.S=!1,E.l=-1,E.i=-1,100>rn.length&&rn.push(E)}ne=void 0}return ne}}function So(x){return function(){var E=new gs;xo(this,E,Ua(x)),Rr(E,E.h.end());for(var M=new Uint8Array(E.i),V=E.j,ee=V.length,ne=0,ie=0;ie<ee;ie++){var ue=V[ie];M.set(ue,ne),ne+=ue.length}return E.j=[M],M}}function ia(x){dt.call(this,x)}m(ia,dt);var Ts=[ia,1,bs,2,an,3,xs,4,xs];ia.prototype.l=So(Ts);function wo(x){dt.call(this,x,-1,Uu)}m(wo,dt),wo.prototype.addClassification=function(x,E){return K(this,1,ia,x,E),this};var Uu=[1],Vu=ws([wo,1,Ss,Ts]);function ja(x){dt.call(this,x)}m(ja,dt);var Gu=[ja,1,an,2,an,3,an,4,an,5,an];ja.prototype.l=So(Gu);function Ac(x){dt.call(this,x,-1,Eg)}m(Ac,dt);var Eg=[1],Wh=ws([Ac,1,Ss,Gu]);function ju(x){dt.call(this,x)}m(ju,dt);var kc=[ju,1,an,2,an,3,an,4,an,5,an,6,Cc],Pg=ws(kc);ju.prototype.l=So(kc);function Ec(x,E,M){if(M=x.createShader(M===0?x.VERTEX_SHADER:x.FRAGMENT_SHADER),x.shaderSource(M,E),x.compileShader(M),!x.getShaderParameter(M,x.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+x.getShaderInfoLog(M));return M}function Dg(x){return L(x,ia,1).map(function(E){var M=nn(E,1);return{index:M??0,qa:le(E,2),label:nn(E,3)!=null?oe(nn(E,3),""):void 0,displayName:nn(E,4)!=null?oe(nn(E,4),""):void 0}})}function Yh(x){return{x:le(x,1),y:le(x,2),z:le(x,3),visibility:re(x,4)!=null?le(x,4):void 0}}function Pc(x,E){this.i=x,this.h=E,this.m=0}function Dc(x,E,M){return Mg(x,E),typeof x.h.canvas.transferToImageBitmap=="function"?Promise.resolve(x.h.canvas.transferToImageBitmap()):M?Promise.resolve(x.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(x.h.canvas):(x.j===void 0&&(x.j=document.createElement("canvas")),new Promise(function(V){x.j.height=x.h.canvas.height,x.j.width=x.h.canvas.width,x.j.getContext("2d",{}).drawImage(x.h.canvas,0,0,x.h.canvas.width,x.h.canvas.height),V(x.j)}))}function Mg(x,E){var M=x.h;if(x.s===void 0){var V=Ec(M,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),ee=Ec(M,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),ne=M.createProgram();if(M.attachShader(ne,V),M.attachShader(ne,ee),M.linkProgram(ne),!M.getProgramParameter(ne,M.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+M.getProgramInfoLog(ne));V=x.s=ne,M.useProgram(V),ee=M.getUniformLocation(V,"sampler0"),x.l={O:M.getAttribLocation(V,"aVertex"),N:M.getAttribLocation(V,"aTex"),ya:ee},x.v=M.createBuffer(),M.bindBuffer(M.ARRAY_BUFFER,x.v),M.enableVertexAttribArray(x.l.O),M.vertexAttribPointer(x.l.O,2,M.FLOAT,!1,0,0),M.bufferData(M.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),M.STATIC_DRAW),M.bindBuffer(M.ARRAY_BUFFER,null),x.u=M.createBuffer(),M.bindBuffer(M.ARRAY_BUFFER,x.u),M.enableVertexAttribArray(x.l.N),M.vertexAttribPointer(x.l.N,2,M.FLOAT,!1,0,0),M.bufferData(M.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),M.STATIC_DRAW),M.bindBuffer(M.ARRAY_BUFFER,null),M.uniform1i(ee,0)}V=x.l,M.useProgram(x.s),M.canvas.width=E.width,M.canvas.height=E.height,M.viewport(0,0,E.width,E.height),M.activeTexture(M.TEXTURE0),x.i.bindTexture2d(E.glName),M.enableVertexAttribArray(V.O),M.bindBuffer(M.ARRAY_BUFFER,x.v),M.vertexAttribPointer(V.O,2,M.FLOAT,!1,0,0),M.enableVertexAttribArray(V.N),M.bindBuffer(M.ARRAY_BUFFER,x.u),M.vertexAttribPointer(V.N,2,M.FLOAT,!1,0,0),M.bindFramebuffer(M.DRAW_FRAMEBUFFER?M.DRAW_FRAMEBUFFER:M.FRAMEBUFFER,null),M.clearColor(0,0,0,0),M.clear(M.COLOR_BUFFER_BIT),M.colorMask(!0,!0,!0,!0),M.drawArrays(M.TRIANGLE_FAN,0,4),M.disableVertexAttribArray(V.O),M.disableVertexAttribArray(V.N),M.bindBuffer(M.ARRAY_BUFFER,null),x.i.bindTexture2d(0)}function Xh(x){this.h=x}var Lg=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function qh(x,E){return E+x}function Mc(x,E){window[x]=E}function Kh(x){var E=document.createElement("script");return E.setAttribute("src",x),E.setAttribute("crossorigin","anonymous"),new Promise(function(M){E.addEventListener("load",function(){M()},!1),E.addEventListener("error",function(){M()},!1),document.body.appendChild(E)})}function Zh(){return B(function(x){switch(x.h){case 1:return x.s=2,T(x,WebAssembly.instantiate(Lg),4);case 4:x.h=3,x.s=0;break;case 2:return x.s=0,x.l=null,x.return(!1);case 3:return x.return(!0)}})}function Lc(x){if(this.h=x,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=x&&x.locateFile||qh,typeof window=="object")var E=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")E=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=E,x.options){E=s(Object.keys(x.options));for(var M=E.next();!M.done;M=E.next()){M=M.value;var V=x.options[M].default;V!==void 0&&(this.l[M]=typeof V=="function"?V():V)}}}t=Lc.prototype,t.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function Rg(x){var E,M,V,ee,ne,ie,ue,ye,De,ze,it;return B(function(et){switch(et.h){case 1:return x.ga?(E=x.h.files===void 0?[]:typeof x.h.files=="function"?x.h.files(x.l):x.h.files,T(et,Zh(),2)):et.return();case 2:if(M=et.i,typeof window=="object")return Mc("createMediapipeSolutionsWasm",{locateFile:x.locateFile}),Mc("createMediapipeSolutionsPackedAssets",{locateFile:x.locateFile}),ie=E.filter(function(We){return We.data!==void 0}),ue=E.filter(function(We){return We.data===void 0}),ye=Promise.all(ie.map(function(We){var st=Wu(x,We.url);if(We.path!==void 0){var bt=We.path;st=st.then(function(ir){return x.overrideFile(bt,ir),Promise.resolve(ir)})}return st})),De=Promise.all(ue.map(function(We){return We.simd===void 0||We.simd&&M||!We.simd&&!M?Kh(x.locateFile(We.url,x.ha)):Promise.resolve()})).then(function(){var We,st,bt;return B(function(ir){if(ir.h==1)return We=window.createMediapipeSolutionsWasm,st=window.createMediapipeSolutionsPackedAssets,bt=x,T(ir,We(st),2);bt.i=ir.i,ir.h=0})}),ze=function(){return B(function(We){return x.h.graph&&x.h.graph.url?We=T(We,Wu(x,x.h.graph.url),0):(We.h=0,We=void 0),We})}(),T(et,Promise.all([De,ye,ze]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return V=E.filter(function(We){return We.simd===void 0||We.simd&&M||!We.simd&&!M}).map(function(We){return x.locateFile(We.url,x.ha)}),importScripts.apply(null,u(V)),ee=x,T(et,createMediapipeSolutionsWasm(Module),6);case 6:ee.i=et.i,x.m=new OffscreenCanvas(1,1),x.i.canvas=x.m,ne=x.i.GL.createContext(x.m,{antialias:!1,alpha:!1,va:typeof WebGL2RenderingContext<"u"?2:1}),x.i.GL.makeContextCurrent(ne),et.h=4;break;case 7:if(x.m=document.createElement("canvas"),it=x.m.getContext("webgl2",{}),!it&&(it=x.m.getContext("webgl",{}),!it))return alert("Failed to create WebGL canvas context when passing video frame."),et.return();x.K=it,x.i.canvas=x.m,x.i.createContext(x.m,!0,!0,{});case 4:x.j=new x.i.SolutionWasm,x.ga=!1,et.h=0}})}function Qh(x){var E,M,V,ee,ne,ie,ue,ye;return B(function(De){if(De.h==1){if(x.h.graph&&x.h.graph.url&&x.fa===x.h.graph.url)return De.return();if(x.u=!0,!x.h.graph||!x.h.graph.url){De.h=2;return}return x.fa=x.h.graph.url,T(De,Wu(x,x.h.graph.url),3)}for(De.h!=2&&(E=De.i,x.j.loadGraph(E)),M=s(Object.keys(x.D)),V=M.next();!V.done;V=M.next())ee=V.value,x.j.overrideFile(ee,x.D[ee]);if(x.D={},x.h.listeners)for(ne=s(x.h.listeners),ie=ne.next();!ie.done;ie=ne.next())ue=ie.value,Og(x,ue);ye=x.l,x.l={},x.setOptions(ye),De.h=0})}t.reset=function(){var x=this;return B(function(E){x.j&&(x.j.reset(),x.s={},x.v={}),E.h=0})},t.setOptions=function(x,E){var M=this;if(E=E||this.h.options){for(var V=[],ee=[],ne={},ie=s(Object.keys(x)),ue=ie.next();!ue.done;ne={X:ne.X,Y:ne.Y},ue=ie.next())if(ue=ue.value,!(ue in this.l&&this.l[ue]===x[ue])){this.l[ue]=x[ue];var ye=E[ue];ye!==void 0&&(ye.onChange&&(ne.X=ye.onChange,ne.Y=x[ue],V.push(function(De){return function(){var ze;return B(function(it){if(it.h==1)return T(it,De.X(De.Y),2);ze=it.i,ze===!0&&(M.u=!0),it.h=0})}}(ne))),ye.graphOptionXref&&(ue=Object.assign({},{calculatorName:"",calculatorIndex:0},ye.graphOptionXref,{valueNumber:ye.type===1?x[ue]:0,valueBoolean:ye.type===0?x[ue]:!1,valueString:ye.type===2?x[ue]:""}),ee.push(ue)))}(V.length!==0||ee.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(ee),this.F=(this.F===void 0?[]:this.F).concat(V))}};function Jh(x){var E,M,V,ee,ne,ie,ue;return B(function(ye){switch(ye.h){case 1:if(!x.u)return ye.return();if(!x.F){ye.h=2;break}E=s(x.F),M=E.next();case 3:if(M.done){ye.h=5;break}return V=M.value,T(ye,V(),4);case 4:M=E.next(),ye.h=3;break;case 5:x.F=void 0;case 2:if(x.H){for(ee=new x.i.GraphOptionChangeRequestList,ne=s(x.H),ie=ne.next();!ie.done;ie=ne.next())ue=ie.value,ee.push_back(ue);x.j.changeOptions(ee),ee.delete(),x.H=void 0}x.u=!1,ye.h=0}})}t.initialize=function(){var x=this;return B(function(E){return E.h==1?T(E,Rg(x),2):E.h!=3?T(E,Qh(x),3):T(E,Jh(x),0)})};function Wu(x,E){var M,V;return B(function(ee){return E in x.L?ee.return(x.L[E]):(M=x.locateFile(E,""),V=fetch(M).then(function(ne){return ne.arrayBuffer()}),x.L[E]=V,ee.return(V))})}t.overrideFile=function(x,E){this.j?this.j.overrideFile(x,E):this.D[x]=E},t.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},t.send=function(x,E){var M=this,V,ee,ne,ie,ue,ye,De,ze,it;return B(function(et){switch(et.h){case 1:return M.h.inputs?(V=1e3*(E??performance.now()),T(et,M.I,2)):et.return();case 2:return T(et,M.initialize(),3);case 3:for(ee=new M.i.PacketDataList,ne=s(Object.keys(x)),ie=ne.next();!ie.done;ie=ne.next())if(ue=ie.value,ye=M.h.inputs[ue]){e:{var We=x[ue];switch(ye.type){case"video":var st=M.s[ye.stream];if(st||(st=new Pc(M.i,M.K),M.s[ye.stream]=st),st.m===0&&(st.m=st.i.createTexture()),typeof HTMLVideoElement<"u"&&We instanceof HTMLVideoElement)var bt=We.videoWidth,ir=We.videoHeight;else typeof HTMLImageElement<"u"&&We instanceof HTMLImageElement?(bt=We.naturalWidth,ir=We.naturalHeight):(bt=We.width,ir=We.height);ir={glName:st.m,width:bt,height:ir},bt=st.h,bt.canvas.width=ir.width,bt.canvas.height=ir.height,bt.activeTexture(bt.TEXTURE0),st.i.bindTexture2d(st.m),bt.texImage2D(bt.TEXTURE_2D,0,bt.RGBA,bt.RGBA,bt.UNSIGNED_BYTE,We),st.i.bindTexture2d(0),st=ir;break e;case"detections":for(st=M.s[ye.stream],st||(st=new Xh(M.i),M.s[ye.stream]=st),st.data||(st.data=new st.h.DetectionListData),st.data.reset(We.length),ir=0;ir<We.length;++ir){bt=We[ir];var er=st.data,Or=er.setBoundingBox,kn=ir,on=bt.la,Ot=new ju;if(I(Ot,1,on.sa),I(Ot,2,on.ta),I(Ot,3,on.height),I(Ot,4,on.width),I(Ot,5,on.rotation),vn(Ot,6,on.pa),on=Ot.l(),Or.call(er,kn,on),bt.ea)for(er=0;er<bt.ea.length;++er){Ot=bt.ea[er],Or=st.data,kn=Or.addNormalizedLandmark,on=ir,Ot=Object.assign({},Ot,{visibility:Ot.visibility?Ot.visibility:0});var Ir=new ja;I(Ir,1,Ot.x),I(Ir,2,Ot.y),I(Ir,3,Ot.z),Ot.visibility&&I(Ir,4,Ot.visibility),Ot=Ir.l(),kn.call(Or,on,Ot)}if(bt.ba)for(er=0;er<bt.ba.length;++er)Or=st.data,kn=Or.addClassification,on=ir,Ot=bt.ba[er],Ir=new ia,I(Ir,2,Ot.qa),Ot.index&&vn(Ir,1,Ot.index),Ot.label&&vn(Ir,3,Ot.label),Ot.displayName&&vn(Ir,4,Ot.displayName),Ot=Ir.l(),kn.call(Or,on,Ot)}st=st.data;break e;default:st={}}}switch(De=st,ze=ye.stream,ye.type){case"video":ee.pushTexture2d(Object.assign({},De,{stream:ze,timestamp:V}));break;case"detections":it=De,it.stream=ze,it.timestamp=V,ee.pushDetectionList(it);break;default:throw Error("Unknown input config type: '"+ye.type+"'")}}return M.j.send(ee),T(et,M.I,4);case 4:ee.delete(),et.h=0}})};function ed(x,E,M){var V,ee,ne,ie,ue,ye,De,ze,it,et,We,st,bt,ir;return B(function(er){switch(er.h){case 1:if(!M)return er.return(E);for(V={},ee=0,ne=s(Object.keys(M)),ie=ne.next();!ie.done;ie=ne.next())ue=ie.value,ye=M[ue],typeof ye!="string"&&ye.type==="texture"&&E[ye.stream]!==void 0&&++ee;1<ee&&(x.M=!1),De=s(Object.keys(M)),ie=De.next();case 2:if(ie.done){er.h=4;break}if(ze=ie.value,it=M[ze],typeof it=="string")return bt=V,ir=ze,T(er,td(x,ze,E[it]),14);if(et=E[it.stream],it.type==="detection_list"){if(et){for(var Or=et.getRectList(),kn=et.getLandmarksList(),on=et.getClassificationsList(),Ot=[],Ir=0;Ir<Or.size();++Ir){var aa=Pg(Or.get(Ir)),Ig=le(aa,1),Yu=le(aa,2),Oc=le(aa,3),Ic=le(aa,4),Bc=le(aa,5,0),To=void 0;To=To===void 0?0:To,aa={la:{sa:Ig,ta:Yu,height:Oc,width:Ic,rotation:Bc,pa:oe(nn(aa,6),To)},ea:L(Wh(kn.get(Ir)),ja,1).map(Yh),ba:Dg(Vu(on.get(Ir)))},Ot.push(aa)}Or=Ot}else Or=[];V[ze]=Or,er.h=7;break}if(it.type==="proto_list"){if(et){for(Or=Array(et.size()),kn=0;kn<et.size();kn++)Or[kn]=et.get(kn);et.delete()}else Or=[];V[ze]=Or,er.h=7;break}if(et===void 0){er.h=3;break}if(it.type==="float_list"){V[ze]=et,er.h=7;break}if(it.type==="proto"){V[ze]=et,er.h=7;break}if(it.type!=="texture")throw Error("Unknown output config type: '"+it.type+"'");return We=x.v[ze],We||(We=new Pc(x.i,x.K),x.v[ze]=We),T(er,Dc(We,et,x.M),13);case 13:st=er.i,V[ze]=st;case 7:it.transform&&V[ze]&&(V[ze]=it.transform(V[ze])),er.h=3;break;case 14:bt[ir]=er.i;case 3:ie=De.next(),er.h=2;break;case 4:return er.return(V)}})}function td(x,E,M){var V;return B(function(ee){return typeof M=="number"||M instanceof Uint8Array||M instanceof x.i.Uint8BlobList?ee.return(M):M instanceof x.i.Texture2dDataOut?(V=x.v[E],V||(V=new Pc(x.i,x.K),x.v[E]=V),ee.return(Dc(V,M,x.M))):ee.return(void 0)})}function Og(x,E){for(var M=E.name||"$",V=[].concat(u(E.wants)),ee=new x.i.StringList,ne=s(E.wants),ie=ne.next();!ie.done;ie=ne.next())ee.push_back(ie.value);ne=x.i.PacketListener.implement({onResults:function(ue){for(var ye={},De=0;De<E.wants.length;++De)ye[V[De]]=ue.get(De);var ze=x.listeners[M];ze&&(x.I=ed(x,ye,E.outs).then(function(it){it=ze(it);for(var et=0;et<E.wants.length;++et){var We=ye[V[et]];typeof We=="object"&&We.hasOwnProperty&&We.hasOwnProperty("delete")&&We.delete()}it&&(x.I=it)}))}}),x.j.attachMultiListener(ee,ne),ee.delete()}t.onResults=function(x,E){this.listeners[E||"$"]=x},z("Solution",Lc),z("OptionType",{BOOL:0,NUMBER:1,ua:2,0:"BOOL",1:"NUMBER",2:"STRING"});function rd(x){switch(x===void 0&&(x=0),x){case 1:return"selfie_segmentation_landscape.tflite";default:return"selfie_segmentation.tflite"}}function Rc(x){var E=this;x=x||{},this.h=new Lc({locateFile:x.locateFile,files:function(M){return[{simd:!0,url:"selfie_segmentation_solution_simd_wasm_bin.js"},{simd:!1,url:"selfie_segmentation_solution_wasm_bin.js"},{data:!0,url:rd(M.modelSelection)}]},graph:{url:"selfie_segmentation.binarypb"},listeners:[{wants:["segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelSelection:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelSelection",fieldName:"int_value"},onChange:function(M){var V,ee,ne;return B(function(ie){return ie.h==1?(V=rd(M),ee="third_party/mediapipe/modules/selfie_segmentation/"+V,T(ie,Wu(E.h,V),2)):(ne=ie.i,E.h.overrideFile(ee,ne),ie.return(!0))})}}}})}t=Rc.prototype,t.close=function(){return this.h.close(),Promise.resolve()},t.onResults=function(x){this.h.onResults(x)},t.initialize=function(){var x=this;return B(function(E){return T(E,x.h.initialize(),0)})},t.reset=function(){this.h.reset()},t.send=function(x){var E=this;return B(function(M){return T(M,E.h.send(x),0)})},t.setOptions=function(x){this.h.setOptions(x)},z("SelfieSegmentation",Rc),z("VERSION","0.1.1675465747")}).call(gi);export{lo as A,Hae as B,$ae as C,Bae as D,Cae as E,Vae as F,Uae as G,Oae as H,Lae as I,Gae as J,jae as K,Yae as L,Nae as M,zae as N,Fae as O,Rae as P,Iae as Q,Dae as R,Mae as S,Wae as T,sae as U,oae as V,Eae as W,qae as a,Aae as b,lae as c,Sae as d,wae as e,xae as f,vae as g,gae as h,dae as i,iae as j,nae as k,$ie as l,Kg as m,Pae as n,uae as o,cae as p,kae as q,hae as r,Xae as s,fae as t,aae as u,pae as v,mae as w,Jg as x,Tae as y,rM as z};
