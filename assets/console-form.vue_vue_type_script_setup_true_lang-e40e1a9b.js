import{x as w,y as D,z as E,A as B,o as S,m as T,B as q,p as A}from"./vendor-fdf6ba46.js";import{d as I,a as c,l as K,R as N,Q as a,M as l,ak as P,U as s,V as _,u as p,q as R}from"./@vue-8492d132.js";const U=R("label",{class:"operation-label"},"指令：",-1),$=I({__name:"console-form",props:{localStream:{type:MediaStream,required:!0},dataChannel:{type:RTCDataChannel,required:!0},peerConnection:{type:RTCPeerConnection,required:!0},btnDiabled:{type:Boolean,required:!0}},setup(t,{expose:C}){const d=t,r=c(""),m=c(""),n=c(!1),o=c(!0),v=e=>{m.value+=`${e}
`},f=()=>{d.dataChannel.send(r.value),v(`发送指令：${r.value}`),r.value=""},h=()=>{d.localStream.getTracks().forEach(e=>{e.stop()}),d.peerConnection.close()},g=()=>{n.value=!n.value,d.localStream.getAudioTracks().forEach(e=>{e.enabled=n.value})},k=()=>{o.value=!o.value,d.localStream.getVideoTracks().forEach(e=>{e.enabled=o.value})};return C({writeInfo:v}),(e,u)=>{const y=S,i=T,x=q,V=A;return K(),N(V,{class:"box-card"},{default:a(()=>[U,l(y,{modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=b=>r.value=b),style:{width:"200px","margin-right":"20px"},placeholder:"要发送的指令",clearable:"",disabled:t.btnDiabled,onKeyup:P(f,["enter"])},null,8,["modelValue","disabled","onKeyup"]),l(i,{type:"primary",onClick:f,disabled:t.btnDiabled},{default:a(()=>[s("发送指令")]),_:1},8,["disabled"]),l(i,{type:n.value?"warning":"primary",onClick:g,disabled:t.btnDiabled,icon:n.value?p(w):p(D)},{default:a(()=>[s(_(n.value?"关闭":"打开")+"麦克风 ",1)]),_:1},8,["type","disabled","icon"]),l(i,{type:o.value?"warning":"primary",onClick:k,disabled:t.btnDiabled,icon:o.value?p(E):p(B)},{default:a(()=>[s(_(o.value?"关闭":"打开")+"视频",1)]),_:1},8,["type","disabled","icon"]),l(i,{type:"danger",onClick:h,disabled:t.btnDiabled},{default:a(()=>[s("关闭")]),_:1},8,["disabled"]),l(x,{placement:"bottom",title:"指令面板",width:500,trigger:"click"},{reference:a(()=>[l(i,{disabled:t.btnDiabled},{default:a(()=>[s("打开对话框")]),_:1},8,["disabled"])]),default:a(()=>[l(y,{modelValue:m.value,"onUpdate:modelValue":u[1]||(u[1]=b=>m.value=b),readonly:"",placeholder:"Please input",rows:6,"show-word-limit":"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})}}});export{$ as _};
