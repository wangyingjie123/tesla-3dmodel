var it=Object.defineProperty,rt=Object.defineProperties;var ct=Object.getOwnPropertyDescriptors;var ke=Object.getOwnPropertySymbols;var lt=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;var xe=(l,o,n)=>o in l?it(l,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[o]=n,$=(l,o)=>{for(var n in o||(o={}))lt.call(o,n)&&xe(l,n,o[n]);if(ke)for(var n of ke(o))ut.call(o,n)&&xe(l,n,o[n]);return l},te=(l,o)=>rt(l,ct(o));var Le=(l,o,n)=>new Promise((e,a)=>{var i=h=>{try{u(n.next(h))}catch(b){a(b)}},g=h=>{try{u(n.throw(h))}catch(b){a(b)}},u=h=>h.done?e(h.value):Promise.resolve(h.value).then(i,g);u((n=n.apply(l,o)).next())});import{k as pt,l as ne,d as Ue,u as dt,H as k,aD as ft,aE as ht,ax as mt,aF as gt,aG as yt,ac as bt,aa as Re,o as E,c as x,n as M,m as d,e as T,x as H,q as Se,s as ae,y as wt,t as V,W as se,w as He,Z as _t,N as vt,z as At,_ as Be,aB as Fe,f as Ze,a as qe,X as Et,g as Pt,F as Oe,h as Ce,aH as Tt,i as Me,O as De,p as kt,j as xt}from"./index-94e44db4.js";import{af as Lt,c as P,ag as Z,ah as q,Q as Ie,ai as Ne,V as j,ae as Rt,ad as St,v as Ot,T as Ct,ak as Mt,al as Dt,M as It,l as Nt,p as jt}from"./three.module-7f8d240b.js";import{T as X}from"./tween.module.min-c14c06d6.js";const zt=pt({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:l=>l>=0&&l<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:ne(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:ne([String,Array,Function]),default:""},format:{type:ne(Function),default:l=>`${l}%`}}),Ut=["aria-valuenow"],Ht={viewBox:"0 0 100 100"},Bt=["d","stroke","stroke-width"],Ft=["d","stroke","opacity","stroke-linecap","stroke-width"],Zt={key:0},qt=Ue({name:"ElProgress"}),Vt=Ue(te($({},qt),{props:zt,setup(l){const o=l,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},e=dt("progress"),a=k(()=>({width:`${o.percentage}%`,animationDuration:`${o.duration}s`,backgroundColor:R(o.percentage)})),i=k(()=>(o.strokeWidth/o.width*100).toFixed(1)),g=k(()=>["circle","dashboard"].includes(o.type)?Number.parseInt(`${50-Number.parseFloat(i.value)/2}`,10):0),u=k(()=>{const s=g.value,m=o.type==="dashboard";return`
          M 50 50
          m 0 ${m?"":"-"}${s}
          a ${s} ${s} 0 1 1 0 ${m?"-":""}${s*2}
          a ${s} ${s} 0 1 1 0 ${m?"":"-"}${s*2}
          `}),h=k(()=>2*Math.PI*g.value),b=k(()=>o.type==="dashboard"?.75:1),f=k(()=>`${-1*h.value*(1-b.value)/2}px`),p=k(()=>({strokeDasharray:`${h.value*b.value}px, ${h.value}px`,strokeDashoffset:f.value})),y=k(()=>({strokeDasharray:`${h.value*b.value*(o.percentage/100)}px, ${h.value}px`,strokeDashoffset:f.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),w=k(()=>{let s;return o.color?s=R(o.percentage):s=n[o.status]||n.default,s}),D=k(()=>o.status==="warning"?ft:o.type==="line"?o.status==="success"?ht:mt:o.status==="success"?gt:yt),O=k(()=>o.type==="line"?12+o.strokeWidth*.4:o.width*.111111+2),L=k(()=>o.format(o.percentage));function I(s){const m=100/s.length;return s.map((_,S)=>Re(_)?{color:_,percentage:(S+1)*m}:_).sort((_,S)=>_.percentage-S.percentage)}const R=s=>{var m;const{color:c}=o;if(bt(c))return c(s);if(Re(c))return c;{const _=I(c);for(const S of _)if(S.percentage>s)return S.color;return(m=_[_.length-1])==null?void 0:m.color}};return(s,m)=>(E(),x("div",{class:M([d(e).b(),d(e).m(s.type),d(e).is(s.status),{[d(e).m("without-text")]:!s.showText,[d(e).m("text-inside")]:s.textInside}]),role:"progressbar","aria-valuenow":s.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[s.type==="line"?(E(),x("div",{key:0,class:M(d(e).b("bar"))},[T("div",{class:M(d(e).be("bar","outer")),style:H({height:`${s.strokeWidth}px`})},[T("div",{class:M([d(e).be("bar","inner"),{[d(e).bem("bar","inner","indeterminate")]:s.indeterminate}]),style:H(d(a))},[(s.showText||s.$slots.default)&&s.textInside?(E(),x("div",{key:0,class:M(d(e).be("bar","innerText"))},[Se(s.$slots,"default",{percentage:s.percentage},()=>[T("span",null,V(d(L)),1)])],2)):ae("v-if",!0)],6)],6)],2)):(E(),x("div",{key:1,class:M(d(e).b("circle")),style:H({height:`${s.width}px`,width:`${s.width}px`})},[(E(),x("svg",Ht,[T("path",{class:M(d(e).be("circle","track")),d:d(u),stroke:`var(${d(e).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":d(i),fill:"none",style:H(d(p))},null,14,Bt),T("path",{class:M(d(e).be("circle","path")),d:d(u),stroke:d(w),fill:"none",opacity:s.percentage?1:0,"stroke-linecap":s.strokeLinecap,"stroke-width":d(i),style:H(d(y))},null,14,Ft)]))],6)),(s.showText||s.$slots.default)&&!s.textInside?(E(),x("div",{key:2,class:M(d(e).e("text")),style:H({fontSize:`${d(O)}px`})},[Se(s.$slots,"default",{percentage:s.percentage},()=>[s.status?(E(),se(d(vt),{key:1},{default:He(()=>[(E(),se(_t(d(D))))]),_:1})):(E(),x("span",Zt,V(d(L)),1))])],6)):ae("v-if",!0)],10,Ut))}}));var Wt=wt(Vt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const $t=At(Wt),je={type:"change"},oe={type:"start"},ze={type:"end"};class Yt extends Lt{constructor(o,n){super(),n===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),n===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=o,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new P,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Z.ROTATE,MIDDLE:Z.DOLLY,RIGHT:Z.PAN},this.touches={ONE:q.ROTATE,TWO:q.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",ve),this._domElementKeyEvents=t},this.saveState=function(){e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=function(){e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(je),e.update(),i=a.NONE},this.update=function(){const t=new P,r=new Ie().setFromUnitVectors(o.up,new P(0,1,0)),v=r.clone().invert(),A=new P,C=new Ie,F=2*Math.PI;return function(){const Te=e.object.position;t.copy(Te).sub(e.target),t.applyQuaternion(r),u.setFromVector3(t),e.autoRotate&&i===a.NONE&&Q(S()),e.enableDamping?(u.theta+=h.theta*e.dampingFactor,u.phi+=h.phi*e.dampingFactor):(u.theta+=h.theta,u.phi+=h.phi);let z=e.minAzimuthAngle,U=e.maxAzimuthAngle;return isFinite(z)&&isFinite(U)&&(z<-Math.PI?z+=F:z>Math.PI&&(z-=F),U<-Math.PI?U+=F:U>Math.PI&&(U-=F),z<=U?u.theta=Math.max(z,Math.min(U,u.theta)):u.theta=u.theta>(z+U)/2?Math.max(z,u.theta):Math.min(U,u.theta)),u.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=b,u.radius=Math.max(e.minDistance,Math.min(e.maxDistance,u.radius)),e.enableDamping===!0?e.target.addScaledVector(f,e.dampingFactor):e.target.add(f),t.setFromSpherical(u),t.applyQuaternion(v),Te.copy(e.target).add(t),e.object.lookAt(e.target),e.enableDamping===!0?(h.theta*=1-e.dampingFactor,h.phi*=1-e.dampingFactor,f.multiplyScalar(1-e.dampingFactor)):(h.set(0,0,0),f.set(0,0,0)),b=1,p||A.distanceToSquared(e.object.position)>g||8*(1-C.dot(e.object.quaternion))>g?(e.dispatchEvent(je),A.copy(e.object.position),C.copy(e.object.quaternion),p=!1,!0):!1}}(),this.dispose=function(){e.domElement.removeEventListener("contextmenu",Ae),e.domElement.removeEventListener("pointerdown",be),e.domElement.removeEventListener("pointercancel",we),e.domElement.removeEventListener("wheel",_e),e.domElement.removeEventListener("pointermove",G),e.domElement.removeEventListener("pointerup",J),e._domElementKeyEvents!==null&&e._domElementKeyEvents.removeEventListener("keydown",ve)};const e=this,a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let i=a.NONE;const g=1e-6,u=new Ne,h=new Ne;let b=1;const f=new P;let p=!1;const y=new j,w=new j,D=new j,O=new j,L=new j,I=new j,R=new j,s=new j,m=new j,c=[],_={};function S(){return 2*Math.PI/60/60*e.autoRotateSpeed}function N(){return Math.pow(.95,e.zoomSpeed)}function Q(t){h.theta+=t}function ie(t){h.phi+=t}const re=function(){const t=new P;return function(v,A){t.setFromMatrixColumn(A,0),t.multiplyScalar(-v),f.add(t)}}(),ce=function(){const t=new P;return function(v,A){e.screenSpacePanning===!0?t.setFromMatrixColumn(A,1):(t.setFromMatrixColumn(A,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(v),f.add(t)}}(),B=function(){const t=new P;return function(v,A){const C=e.domElement;if(e.object.isPerspectiveCamera){const F=e.object.position;t.copy(F).sub(e.target);let W=t.length();W*=Math.tan(e.object.fov/2*Math.PI/180),re(2*v*W/C.clientHeight,e.object.matrix),ce(2*A*W/C.clientHeight,e.object.matrix)}else e.object.isOrthographicCamera?(re(v*(e.object.right-e.object.left)/e.object.zoom/C.clientWidth,e.object.matrix),ce(A*(e.object.top-e.object.bottom)/e.object.zoom/C.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}}();function K(t){e.object.isPerspectiveCamera?b/=t:e.object.isOrthographicCamera?(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom*t)),e.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function le(t){e.object.isPerspectiveCamera?b*=t:e.object.isOrthographicCamera?(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/t)),e.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function ue(t){y.set(t.clientX,t.clientY)}function Ve(t){R.set(t.clientX,t.clientY)}function pe(t){O.set(t.clientX,t.clientY)}function We(t){w.set(t.clientX,t.clientY),D.subVectors(w,y).multiplyScalar(e.rotateSpeed);const r=e.domElement;Q(2*Math.PI*D.x/r.clientHeight),ie(2*Math.PI*D.y/r.clientHeight),y.copy(w),e.update()}function $e(t){s.set(t.clientX,t.clientY),m.subVectors(s,R),m.y>0?K(N()):m.y<0&&le(N()),R.copy(s),e.update()}function Ye(t){L.set(t.clientX,t.clientY),I.subVectors(L,O).multiplyScalar(e.panSpeed),B(I.x,I.y),O.copy(L),e.update()}function Xe(t){t.deltaY<0?le(N()):t.deltaY>0&&K(N()),e.update()}function Qe(t){let r=!1;switch(t.code){case e.keys.UP:B(0,e.keyPanSpeed),r=!0;break;case e.keys.BOTTOM:B(0,-e.keyPanSpeed),r=!0;break;case e.keys.LEFT:B(e.keyPanSpeed,0),r=!0;break;case e.keys.RIGHT:B(-e.keyPanSpeed,0),r=!0;break}r&&(t.preventDefault(),e.update())}function de(){if(c.length===1)y.set(c[0].pageX,c[0].pageY);else{const t=.5*(c[0].pageX+c[1].pageX),r=.5*(c[0].pageY+c[1].pageY);y.set(t,r)}}function fe(){if(c.length===1)O.set(c[0].pageX,c[0].pageY);else{const t=.5*(c[0].pageX+c[1].pageX),r=.5*(c[0].pageY+c[1].pageY);O.set(t,r)}}function he(){const t=c[0].pageX-c[1].pageX,r=c[0].pageY-c[1].pageY,v=Math.sqrt(t*t+r*r);R.set(0,v)}function Ke(){e.enableZoom&&he(),e.enablePan&&fe()}function Ge(){e.enableZoom&&he(),e.enableRotate&&de()}function me(t){if(c.length==1)w.set(t.pageX,t.pageY);else{const v=ee(t),A=.5*(t.pageX+v.x),C=.5*(t.pageY+v.y);w.set(A,C)}D.subVectors(w,y).multiplyScalar(e.rotateSpeed);const r=e.domElement;Q(2*Math.PI*D.x/r.clientHeight),ie(2*Math.PI*D.y/r.clientHeight),y.copy(w)}function ge(t){if(c.length===1)L.set(t.pageX,t.pageY);else{const r=ee(t),v=.5*(t.pageX+r.x),A=.5*(t.pageY+r.y);L.set(v,A)}I.subVectors(L,O).multiplyScalar(e.panSpeed),B(I.x,I.y),O.copy(L)}function ye(t){const r=ee(t),v=t.pageX-r.x,A=t.pageY-r.y,C=Math.sqrt(v*v+A*A);s.set(0,C),m.set(0,Math.pow(s.y/R.y,e.zoomSpeed)),K(m.y),R.copy(s)}function Je(t){e.enableZoom&&ye(t),e.enablePan&&ge(t)}function et(t){e.enableZoom&&ye(t),e.enableRotate&&me(t)}function be(t){e.enabled!==!1&&(c.length===0&&(e.domElement.setPointerCapture(t.pointerId),e.domElement.addEventListener("pointermove",G),e.domElement.addEventListener("pointerup",J)),st(t),t.pointerType==="touch"?ot(t):tt(t))}function G(t){e.enabled!==!1&&(t.pointerType==="touch"?at(t):nt(t))}function J(t){Ee(t),c.length===0&&(e.domElement.releasePointerCapture(t.pointerId),e.domElement.removeEventListener("pointermove",G),e.domElement.removeEventListener("pointerup",J)),e.dispatchEvent(ze),i=a.NONE}function we(t){Ee(t)}function tt(t){let r;switch(t.button){case 0:r=e.mouseButtons.LEFT;break;case 1:r=e.mouseButtons.MIDDLE;break;case 2:r=e.mouseButtons.RIGHT;break;default:r=-1}switch(r){case Z.DOLLY:if(e.enableZoom===!1)return;Ve(t),i=a.DOLLY;break;case Z.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;pe(t),i=a.PAN}else{if(e.enableRotate===!1)return;ue(t),i=a.ROTATE}break;case Z.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;ue(t),i=a.ROTATE}else{if(e.enablePan===!1)return;pe(t),i=a.PAN}break;default:i=a.NONE}i!==a.NONE&&e.dispatchEvent(oe)}function nt(t){if(e.enabled!==!1)switch(i){case a.ROTATE:if(e.enableRotate===!1)return;We(t);break;case a.DOLLY:if(e.enableZoom===!1)return;$e(t);break;case a.PAN:if(e.enablePan===!1)return;Ye(t);break}}function _e(t){e.enabled===!1||e.enableZoom===!1||i!==a.NONE||(t.preventDefault(),e.dispatchEvent(oe),Xe(t),e.dispatchEvent(ze))}function ve(t){e.enabled===!1||e.enablePan===!1||Qe(t)}function ot(t){switch(Pe(t),c.length){case 1:switch(e.touches.ONE){case q.ROTATE:if(e.enableRotate===!1)return;de(),i=a.TOUCH_ROTATE;break;case q.PAN:if(e.enablePan===!1)return;fe(),i=a.TOUCH_PAN;break;default:i=a.NONE}break;case 2:switch(e.touches.TWO){case q.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ke(),i=a.TOUCH_DOLLY_PAN;break;case q.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Ge(),i=a.TOUCH_DOLLY_ROTATE;break;default:i=a.NONE}break;default:i=a.NONE}i!==a.NONE&&e.dispatchEvent(oe)}function at(t){switch(Pe(t),i){case a.TOUCH_ROTATE:if(e.enableRotate===!1)return;me(t),e.update();break;case a.TOUCH_PAN:if(e.enablePan===!1)return;ge(t),e.update();break;case a.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Je(t),e.update();break;case a.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;et(t),e.update();break;default:i=a.NONE}}function Ae(t){e.enabled!==!1&&t.preventDefault()}function st(t){c.push(t)}function Ee(t){delete _[t.pointerId];for(let r=0;r<c.length;r++)if(c[r].pointerId==t.pointerId){c.splice(r,1);return}}function Pe(t){let r=_[t.pointerId];r===void 0&&(r=new j,_[t.pointerId]=r),r.set(t.pageX,t.pageY)}function ee(t){const r=t.pointerId===c[0].pointerId?c[1]:c[0];return _[r.pointerId]}e.domElement.addEventListener("contextmenu",Ae),e.domElement.addEventListener("pointerdown",be),e.domElement.addEventListener("pointercancel",we),e.domElement.addEventListener("wheel",_e,{passive:!1}),this.update()}}const Xt={animateCamera:(l,o,n,e,a=2e3,i)=>{const g=new X.Tween({x1:l.position.x,y1:l.position.y,z1:l.position.z,x2:o.target.x,y2:o.target.y,z2:o.target.z});g.to({x1:n.x,y1:n.y,z1:n.z,x2:e.x,y2:e.y,z2:e.z},a),g.onUpdate(function(u){l.position.x=u.x1,l.position.y=u.y1,l.position.z=u.z1,o.target.x=u.x2,o.target.y=u.y2,o.target.z=u.z2,o.update()}),g.onComplete(function(){o.enabled=!0,o.update(),i()}),g.easing(X.Easing.Cubic.InOut),g.start()}},Qt=l=>new Promise(o=>{setTimeout(o,l)}),Kt=(l,o)=>{const n=document.createElement("div");n.style.position="fixed",n.style.maxWidth="80%",n.style.color="white",n.style.fontSize="14px",n.style.boxSizing="border-box",n.style.background="rgba(0,0,0,0.76)",n.style.padding="0.8em 2.618em",n.style.top="40%",n.style.left="50%",n.style.zIndex=999999999,n.style.borderRadius="3px",n.style.opacity="0",n.innerText=l,document.body.appendChild(n),n.style.marginLeft=-(n.offsetWidth/2)+"px",n.style.marginTop=-n.offsetHeight/2+"px",setTimeout(function(){n.style.marginLeft=-(n.offsetWidth/2)+"px",n.style.marginTop=-n.offsetHeight+"px",n.style.transition="all 0.3s",n.style.opacity="1",setTimeout(function(){n.style.opacity="0",n.style.marginTop=-n.offsetHeight/2+"px",setTimeout(function(){document.body.removeChild(n)},300)},parseInt(o)||1618)},0)},Y=[{name:"客厅",key:"living-room",map:new URL("/assets/map_living_room-3b943256.jpg",self.location).href,showSwitch:!0,position:new P(0,0,0),interactivePoints:[{key:"tv",value:"电视机",description:"智能电视",cover:new URL("/assets/cover_living_room_tv-73e5fbd3.png",self.location).href,position:new P(-6,2,-8)},{key:"fridge",value:"冰箱",description:"豪华冰箱",cover:new URL("/assets/cover_living_room_fridge-be328301.png",self.location).href,position:new P(-12,4,9)},{key:"sofa",value:"沙发",description:"舒适沙发",cover:new URL("/assets/cover_living_room_sofa-7272eb82.png",self.location).href,position:new P(6,0,-8)}]},{name:"卧室",key:"bed-room",map:new URL("/assets/map_bed_room-54905436.jpg",self.location).href,showSwitch:!0,position:new P(-32,0,0),interactivePoints:[{key:"bed",value:"床",description:"温暖的床",cover:new URL("/assets/cover_bed_room_bed-b049b23b.png",self.location).href,position:new P(-38,2,-14)}]},{name:"书房",key:"study-room",map:new URL("/assets/map_study_room-e6b1d86f.jpg",self.location).href,showSwitch:!0,position:new P(32,0,0),interactivePoints:[{key:"art",value:"艺术品",description:"绝版作品",cover:new URL("/assets/cover_study_room_art-bdfabd4f.png",self.location).href,position:new P(42,6,-8)}]}],Gt=[new URL("/assets/map_bed_room-54905436.jpg",self.location).href,new URL("/assets/map_study_room-e6b1d86f.jpg",self.location).href,new URL("/assets/map_living_room-3b943256.jpg",self.location).href,new URL("/assets/cover_bed_room_bed-b049b23b.png",self.location).href,new URL("/assets/cover_living_room_fridge-be328301.png",self.location).href,new URL("/assets/cover_living_room_sofa-7272eb82.png",self.location).href,new URL("/assets/cover_living_room_tv-73e5fbd3.png",self.location).href,new URL("/assets/cover_study_room_art-bdfabd4f.png",self.location).href,new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAMAAAANxBKoAAABO1BMVEUAAACK93XP/Mpl9VL1//Oi+JBj9VD///////9w9V9u9l5a9Eal+Zpr9Vtd9Ur2/u39//xz9mJn9FWl+ZuX+Itd80r///9j9VGV94qI93p39mj2/vTS/My5+rH///9/9m/J+8D///+q+Z9e80z6/vrq/ejK+8Tb/NaL93+F93h/9nD////s/ejC+7uZ+I1n9FTb/di1+qyL937E+72t+aTm/eJ/9nDB+7jp/eSV+Iq7+rP///////+C9nOV94l59Wl29Wam+ZuL9n1/9nB89W1w9WC2+q2O94Ft9FyG9nhz9WPU/NCc95CZ942R94Vn9FWi+Zdq9Fjy/vDb/NfD+72v+qas+KKg+JSJ9nuF9nde9Ezk/eDg/dzG+8DA+7m8+rW6+rKx+amp+J9j9FH3/vbr/eno/eXK+8SP94KQBCRYAAAAPHRSTlMAB/4hDw+Af/Dds7OATEwI9/f38O/es7OAgIB/f09OJSIh9/fw8PDv7+/v3d3d3d2zs7OYmH9WU0xMPC0T+BUCAAABcUlEQVRIx+2T11LCQBhGAxZUUMCuNHvvvQRCKAEp0iWgdBXf/wncL8ngeJHd9Vq+6zNnzmz+CMMZe7Tws+uLop+Xddpc4sQoJ+w/FEXRxh1Bxqd2elyE5VTfHRWL75zqtbO3188P4Gy102tNl3R8i6n2HTf6BC8B97AizpVWs0xw6Lfpaotj46WjtJvlhhU111T4/qQqy8BbBE+nd2nqwEUilM3k5W5FUQjet3opEavBWiTxHNLwDuJ3zNXTk2EpGlQJnjVqmpdm7MhSLhkH/hQx8IrSvjWj7fVerhBPSTGCa/HAH0zd9nq9V0imwrFgTU2E9HifYLqZBaLXamoqqclU5e4V7cOMb/Z+xefnxig4cgbxX4h30Gjk5LT4qP7ydDlyZgt6jYqagZz58qiZh5yRc/rz8stMGjmIx9mw5ciZIjUxnA1TbhyZHr8HOU+OW4tf4aKRg/h9yDlzSDyvHP+TWzqAnDtHuhH+sIBF+Ff7BsrQZcT79VwqAAAAAElFTkSuQmCC",self.location).href,new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAq1BMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////Nr6iZAAAAOHRSTlMAG+HvCgbq5U8N+/N+9j+cPB0R3MVlomg1KCEVuqaNhGzUy7WWeFRHMBfIwK2TkIleWizPcldMD7Nt9v4AAAIFSURBVFjD7dXZcqpAEAZgZN9R9tUoRjFucUvC+z/ZgZrFBk2Qc5VU8V9YM639CdqjzJAhQ4b8jQhfo2gse8upv9i4Waic4mea7MnZxE2OpKklDWe7hquP+UddStW0CvR9luaOaJTfJLbqR9Y/3l3ITEJNHZlYeGG4L6YC+nmxLHsB6ELWFLB7ACDiW2/gtbkvCPD1n8CKAIr0QxenPQ1o6eaufS6/jQIOb0YtQG4CecQwK63Vn9TPhxwG9qS+OC79XCwIwNcAF9dLr4RRQzwnLUCNZp4ZRQIF2Ko4Res5BFL6Dgg44LpmqpXCumMI4M07BAIGx28D6KZmANDwVJwgYBLgioAprnNjBHgAEPFsf0KADuuxG+AStP6AQEiA4B6AtyiwtxfrEDgR4ICAdwqgr/sIAR2tcwhYBLg0AW3NSq51lXkISHa9lJtjjD/ZomwCahGfQ3kZMRAoF5UQtk5FhiZ1joEXUtfmIjwLglPWcV4zg/ziqOQmqmuItiUAQGQIwKjFbaTFxdYoOwGW1uiA7cC+D0BvfCR2AyY4TCCOTSeqDeiNLas8BFRyxLIOQP1gSBQN1HVSTaQfADXXz+DfbLb3d6l7cSTOSG9l+TvA2C7Xj/8WlWTCg73VApIaEHdezDwZ+7DbXliOzEEqbBxLTpie4ZN4bX6egmtgKybPDBky5NfmH4rhB33Igw6vAAAAAElFTkSuQmCC",self.location).href];class Jt{constructor(){this.data=[],this.self={},this.load={},this.setupSelf(),this.setupLoad()}setupSelf(){const o=this,n={};n.allType={image:["jpg","png"],json:["json"],audio:["mp3"]},n.getType=function(e){const a=e.match(/[^\.]+$/)[0];let i=null;for(const g in n.allType)if(n.allType[g].join(",").indexOf(a)!==-1){i=g;break}else i="nonsupport";return i},n.setData=function(e){const a=[];e.forEach(function(i,g,u){const h=i.url||i,b=n.getType(h),f=i.callback||null;a.push({url:h,type:b,callback:f})}),this.data=a,o.data=a},this.self=n}setupLoad(){const o=this,n={};n.events={start:null,loading:null,complete:null,error:null},n.on=function(e,a){n.events[e]=a},n.off=function(e){n.events[e]=null},n.start=function(e){const a=e||o.data;n.nowProgress=0,n.allProgress=a.length,n._runEvent("start"),a.forEach(function(i,g,u){i.type!=="nonsupport"&&n[`_${i.type}`](i)})},n._complete=function(e,a){e.callback&&e.callback(a),n.nowProgress++,n._runEvent("loading"),n._runEvent("complete")},n._error=function(e,a){n._runEvent("error")},n._runEvent=function(e){switch(e){case"start":n.events.start&&n.start();break;case"loading":n.events.loading&&n.events.loading({nowProgress:n.nowProgress,allProgress:n.allProgress});break;case"complete":n.events.complete&&n.nowProgress===n.allProgress&&n.events.complete();break;case"error":n.events.error&&n.events.error();break}},n._get=function(e,a){const i=new XMLHttpRequest;i.open("post",e.url,!0),i.responseType=a,i.send(),i.onload=function(g){n._complete(e,g.currentTarget.response)},i.onerror=function(g){console.log(`error:${g}`)}},n._image=function(e){const a=new Image;a.src=e.url,a.onload=function(i){n._complete(e,i)},a.error=function(i){n.error(e,i)}},n._json=function(e){n._get(e,"json")},n._audio=function(e){n._get(e,"arraybuffer")},this.load=n}}const en={key:0,class:"progress"},tn={__name:"progress",props:{resourceList:{type:Array,required:!0}},setup(l){const o=l,n=Fe({loadingComplete:!1,percent:0}),e=[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}];return Ze(()=>{const a=new Jt;a.self.setData(o.resourceList),a.load.start(),a.load.on("loading",function(i){n.percent=0+Math.floor(i.nowProgress/i.allProgress*100)}),a.load.on("complete",function(){console.log("load complete"),n.loadingComplete=!0})}),(a,i)=>{const g=$t;return E(),se(Et,null,{default:He(()=>[n.loadingComplete?ae("",!0):(E(),x("div",en,[qe(g,{type:"dashboard",percentage:n.percent,color:e,width:200},null,8,["percentage"])]))]),_:1})}}},nn=Be(tn,[["__scopeId","data-v-40b6f4c0"]]);const on=l=>(kt("data-v-f9f811e2"),l=l(),xt(),l),an={class:"home"},sn=Tt('<canvas class="webgl" data-v-f9f811e2></canvas><div class="vr" data-v-f9f811e2><span class="vr-box" data-v-f9f811e2><i class="vr-icon" data-v-f9f811e2></i><b class="vr-text" data-v-f9f811e2>全景漫游</b></span></div>',2),rn={class:"switch"},cn=["onClick"],ln={class:"switch-button__text"},un=on(()=>T("i",{class:"switch-button__icon"},null,-1)),pn=["onClick"],dn={class:"point-label__tips"},fn={class:"point-cover"},hn={class:"point-info"},mn={class:"point-info__text p1"},gn={class:"point-info__text p2"},yn={__name:"home-view",setup(l){const o=Fe({renderer:null,camera:null,scene:null,controls:null,cameraZAxis:2,currentRoom:"living-room"}),n={};let e=0;const a=k(()=>{const b=[];return Y.forEach(f=>{f.interactivePoints&&f.interactivePoints.length>0&&f.interactivePoints.forEach(p=>{p=$({room:f.key},p),b.push(p)})}),b}),i=()=>{n.width=window.innerWidth,n.height=window.innerHeight,o.renderer.setSize(n.width,n.height),o.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),o.camera.aspect=n.width/n.height,o.camera.updateProjectionMatrix()},g=()=>{const b=document.querySelector("canvas.webgl"),f=new Rt({canvas:b});f.setSize(n.width,n.height),f.setPixelRatio(Math.min(window.devicePixelRatio,2)),o.renderer=f;const p=new St;o.scene=p;const y=new Ot(65,n.width/n.height,.1,1e3);y.position.z=o.cameraZAxis,p.add(y),o.camera=y;const w=new Yt(y,f.domElement);w.target.set(0,0,0),w.enableDamping=!0,w.enablePan=!1,w.maxDistance=12,w.minPolarAngle=Math.PI/2,w.maxPolarAngle=Math.PI/2,o.controls=w,window.addEventListener("resize",i);const D=new Ct,O=(s,m,c)=>{const _=new Dt(16,256,256);_.scale(1,1,-1);const S=new It({map:D.load(c),side:Nt}),N=new jt(_,S);return N.name=s,N.position.set(m.x,m.y,m.z),N.rotation.y=Math.PI/2,p.add(N),N};Y.map(s=>O(s.key,s.position,s.map));const L=new Mt,I=a.value.map((s,m)=>te($({},s),{element:document.querySelector(`.point-${m}`)})),R=()=>{if(f)for(const s of I){const m=s.position.clone(),c=m.project(y);if(L.setFromCamera(m,y),Math.abs(c.x)>1||Math.abs(c.y)>1||Math.abs(c.z)>1){s.element.style.transform="scale(0, 0)";continue}const _=m.x*n.width*.5,S=-m.y*n.height*.5;s.element.style.transform=`translateX(${_}px) translateY(${S}px)`}w&&w.update(),X&&X.update(),f.render(p,y),e=window.requestAnimationFrame(R)};R()},u=b=>Le(this,null,function*(){const f=Y.filter(p=>p.key===b)[0];if(o.camera){const p=f.position.x,y=f.position.y,w=f.position.z;Xt.animateCamera(o.camera,o.controls,{x:p,y,z:o.cameraZAxis},{x:p,y,z:w},1600,()=>({})),o.controls.update()}yield Qt(1600),o.currentRoom=f.key}),h=b=>{Kt(`您点击了${b.value}`)};return Ze(()=>{n.width=window.innerWidth,n.height=window.innerHeight,g()}),Pt(()=>{window.removeEventListener("resize",i),window.cancelAnimationFrame(e)}),(b,f)=>(E(),x("div",an,[qe(nn,{resourceList:d(Gt)},null,8,["resourceList"]),sn,T("div",rn,[(E(!0),x(Oe,null,Ce(d(Y),(p,y)=>Me((E(),x("span",{class:"switch-button",key:y,onClick:w=>u(p.key)},[T("b",ln,V(p.name),1),un],8,cn)),[[De,p.key!==o.currentRoom]])),128))]),(E(!0),x(Oe,null,Ce(d(a),(p,y)=>Me((E(),x("div",{class:M(["point",[`point-${y}`,`point-${p.key}`]]),key:y,onClick:w=>h(p)},[T("div",{class:M(["point-label animate-point-wave",[`label-${y}`,`label-${p.key}`]])},[T("label",dn,[T("div",fn,[T("i",{class:"point-cover__icon",style:H({background:`url(${p.cover}) no-repeat center`,"background-size":"contain"})},null,4)]),T("div",hn,[T("p",mn,V(p.value),1),T("p",gn,V(p.description),1)])])],2)],10,pn)),[[De,p.room===o.currentRoom]])),128))]))}},An=Be(yn,[["__scopeId","data-v-f9f811e2"]]);export{An as default};
