var nt=Object.defineProperty,st=Object.defineProperties;var it=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var ot=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable;var re=(e,n,r)=>n in e?nt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,A=(e,n)=>{for(var r in n||(n={}))ot.call(n,r)&&re(e,r,n[r]);if(te)for(var r of te(n))at.call(n,r)&&re(e,r,n[r]);return e},j=(e,n)=>st(e,it(n));var b=(e,n,r)=>new Promise((t,s)=>{var i=l=>{try{a(r.next(l))}catch(c){s(c)}},o=l=>{try{a(r.throw(l))}catch(c){s(c)}},a=l=>l.done?t(l.value):Promise.resolve(l.value).then(i,o);a((r=r.apply(e,n)).next())});import{k as Y,l as Z,d as E,u as W,o as O,c as I,n as _,m as h,q as L,s as ct,e as v,x as pt,y as w,b as k,t as de,z as ue,A as lt,U as fe,C as me,B as dt,r as S,D as ut,G as ft,H as R,I as he,J as mt,K as ht,L as gt,a as C,w as g,M as Ct,N as yt,i as vt,O as St,P as Tt,Q as Rt,F as _t,E as Pt,p as ge,j as Ce,_ as ye,f as bt,R as kt,S as Et,T as xt,V as Dt,W as Mt}from"./index-94e44db4.js";import{E as Ot,a as It,b as Lt}from"./el-col-ca7c2c6a.js";import{E as At}from"./el-input-1b2c714d.js";import{c as ne}from"./castArray-0cecb430.js";function jt(e,n){for(var r=0;r<n.length;r++){const t=n[r];if(typeof t!="string"&&!Array.isArray(t)){for(const s in t)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(t,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>t[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const ve=Symbol("collapseContextKey"),Ft=Y({header:{type:String,default:""},bodyStyle:{type:Z([String,Object,Array]),default:""},shadow:{type:String,values:["always","hover","never"],default:"always"}}),Nt=E({name:"ElCard"}),Ut=E(j(A({},Nt),{props:Ft,setup(e){const n=W("card");return(r,t)=>(O(),I("div",{class:_([h(n).b(),h(n).is(`${r.shadow}-shadow`)])},[r.$slots.header||r.header?(O(),I("div",{key:0,class:_(h(n).e("header"))},[L(r.$slots,"header",{},()=>[k(de(r.header),1)])],2)):ct("v-if",!0),v("div",{class:_(h(n).e("body")),style:pt(r.bodyStyle)},[L(r.$slots,"default")],6)],2))}}));var zt=w(Ut,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const Gt=ue(zt),se=e=>typeof dt(e),Vt=Y({accordion:Boolean,modelValue:{type:Z([Array,String,Number]),default:()=>lt([])}}),$t={[fe]:se,[me]:se},Kt=(e,n)=>{const r=S(ne(e.modelValue)),t=i=>{r.value=i;const o=e.accordion?r.value[0]:r.value;n(fe,o),n(me,o)},s=i=>{if(e.accordion)t([r.value[0]===i?"":i]);else{const o=[...r.value],a=o.indexOf(i);a>-1?o.splice(a,1):o.push(i),t(o)}};return ut(()=>e.modelValue,()=>r.value=ne(e.modelValue),{deep:!0}),ft(ve,{activeNames:r,handleItemClick:s}),{activeNames:r,setActiveNames:t}},Jt=()=>{const e=W("collapse");return{rootKls:R(()=>e.b())}},Bt=E({name:"ElCollapse"}),Ht=E(j(A({},Bt),{props:Vt,emits:$t,setup(e,{expose:n,emit:r}){const t=e,{activeNames:s,setActiveNames:i}=Kt(t,r),{rootKls:o}=Jt();return n({activeNames:s,setActiveNames:i}),(a,l)=>(O(),I("div",{class:_(h(o)),role:"tablist","aria-multiselectable":"true"},[L(a.$slots,"default")],2))}}));var qt=w(Ht,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const Qt=Y({title:{type:String,default:""},name:{type:Z([String,Number]),default:()=>he()},disabled:Boolean}),Xt=e=>{const n=mt(ve),r=S(!1),t=S(!1),s=S(he()),i=R(()=>n==null?void 0:n.activeNames.value.includes(e.name));return{focusing:r,id:s,isActive:i,handleFocus:()=>{setTimeout(()=>{t.value?t.value=!1:r.value=!0},50)},handleHeaderClick:()=>{e.disabled||(n==null||n.handleItemClick(e.name),r.value=!1,t.value=!0)},handleEnterClick:()=>{n==null||n.handleItemClick(e.name)}}},Yt=(e,{focusing:n,isActive:r,id:t})=>{const s=W("collapse"),i=R(()=>[s.b("item"),s.is("active",h(r)),s.is("disabled",e.disabled)]),o=R(()=>[s.be("item","header"),s.is("active",h(r)),{focusing:h(n)&&!e.disabled}]),a=R(()=>[s.be("item","arrow"),s.is("active",h(r))]),l=R(()=>s.be("item","wrap")),c=R(()=>s.be("item","content")),p=R(()=>s.b(`content-${h(t)}`)),d=R(()=>s.b(`head-${h(t)}`));return{arrowKls:a,headKls:o,rootKls:i,itemWrapperKls:l,itemContentKls:c,scopedContentId:p,scopedHeadId:d}},Zt=["aria-expanded","aria-controls","aria-describedby"],Wt=["id","tabindex"],wt=["id","aria-hidden","aria-labelledby"],er=E({name:"ElCollapseItem"}),tr=E(j(A({},er),{props:Qt,setup(e,{expose:n}){const r=e,{focusing:t,id:s,isActive:i,handleFocus:o,handleHeaderClick:a,handleEnterClick:l}=Xt(r),{arrowKls:c,headKls:p,rootKls:d,itemWrapperKls:u,itemContentKls:f,scopedContentId:m,scopedHeadId:y}=Yt(r,{focusing:t,isActive:i,id:s});return n({isActive:i}),(D,T)=>(O(),I("div",{class:_(h(d))},[v("div",{role:"tab","aria-expanded":h(i),"aria-controls":h(m),"aria-describedby":h(m)},[v("div",{id:h(y),class:_(h(p)),role:"button",tabindex:D.disabled?-1:0,onClick:T[0]||(T[0]=(...P)=>h(a)&&h(a)(...P)),onKeypress:T[1]||(T[1]=ht(gt((...P)=>h(l)&&h(l)(...P),["stop","prevent"]),["space","enter"])),onFocus:T[2]||(T[2]=(...P)=>h(o)&&h(o)(...P)),onBlur:T[3]||(T[3]=P=>t.value=!1)},[L(D.$slots,"title",{},()=>[k(de(D.title),1)]),C(h(yt),{class:_(h(c))},{default:g(()=>[C(h(Ct))]),_:1},8,["class"])],42,Wt)],8,Zt),C(h(Tt),null,{default:g(()=>[vt(v("div",{id:h(m),class:_(h(u)),role:"tabpanel","aria-hidden":!h(i),"aria-labelledby":h(y)},[v("div",{class:_(h(f))},[L(D.$slots,"default")],2)],10,wt),[[St,h(i)]])]),_:3})],2))}}));var Se=w(tr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const rr=ue(qt,{CollapseItem:Se}),nr=Rt(Se);let Te=!0,Re=!0;function F(e,n,r){const t=e.match(n);return t&&t.length>=r&&parseInt(t[r],10)}function x(e,n,r){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,s=t.addEventListener;t.addEventListener=function(o,a){if(o!==n)return s.apply(this,arguments);const l=c=>{const p=r(c);p&&(a.handleEvent?a.handleEvent(p):a(p))};return this._eventMap=this._eventMap||{},this._eventMap[n]||(this._eventMap[n]=new Map),this._eventMap[n].set(a,l),s.apply(this,[o,l])};const i=t.removeEventListener;t.removeEventListener=function(o,a){if(o!==n||!this._eventMap||!this._eventMap[n])return i.apply(this,arguments);if(!this._eventMap[n].has(a))return i.apply(this,arguments);const l=this._eventMap[n].get(a);return this._eventMap[n].delete(a),this._eventMap[n].size===0&&delete this._eventMap[n],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[o,l])},Object.defineProperty(t,"on"+n,{get(){return this["_on"+n]},set(o){this["_on"+n]&&(this.removeEventListener(n,this["_on"+n]),delete this["_on"+n]),o&&this.addEventListener(n,this["_on"+n]=o)},enumerable:!0,configurable:!0})}function sr(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Te=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function ir(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Re=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function _e(){if(typeof window=="object"){if(Te)return;typeof console!="undefined"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function ee(e,n){Re&&console.warn(e+" is deprecated, please use "+n+" instead.")}function or(e){const n={browser:null,version:null};if(typeof e=="undefined"||!e.navigator)return n.browser="Not a browser.",n;const{navigator:r}=e;if(r.mozGetUserMedia)n.browser="firefox",n.version=F(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)n.browser="chrome",n.version=F(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.RTCPeerConnection&&r.userAgent.match(/AppleWebKit\/(\d+)\./))n.browser="safari",n.version=F(r.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return n.browser="Not a supported browser.",n;return n}function ie(e){return Object.prototype.toString.call(e)==="[object Object]"}function Pe(e){return ie(e)?Object.keys(e).reduce(function(n,r){const t=ie(e[r]),s=t?Pe(e[r]):e[r],i=t&&!Object.keys(s).length;return s===void 0||i?n:Object.assign(n,{[r]:s})},{}):e}function J(e,n,r){!n||r.has(n.id)||(r.set(n.id,n),Object.keys(n).forEach(t=>{t.endsWith("Id")?J(e,e.get(n[t]),r):t.endsWith("Ids")&&n[t].forEach(s=>{J(e,e.get(s),r)})}))}function oe(e,n,r){const t=r?"outbound-rtp":"inbound-rtp",s=new Map;if(n===null)return s;const i=[];return e.forEach(o=>{o.type==="track"&&o.trackIdentifier===n.id&&i.push(o)}),i.forEach(o=>{e.forEach(a=>{a.type===t&&a.trackId===o.id&&J(e,a,s)})}),s}const ae=_e;function be(e,n){const r=e&&e.navigator;if(!r.mediaDevices)return;const t=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const p=typeof a[c]=="object"?a[c]:{ideal:a[c]};p.exact!==void 0&&typeof p.exact=="number"&&(p.min=p.max=p.exact);const d=function(u,f){return u?u+f.charAt(0).toUpperCase()+f.slice(1):f==="deviceId"?"sourceId":f};if(p.ideal!==void 0){l.optional=l.optional||[];let u={};typeof p.ideal=="number"?(u[d("min",c)]=p.ideal,l.optional.push(u),u={},u[d("max",c)]=p.ideal,l.optional.push(u)):(u[d("",c)]=p.ideal,l.optional.push(u))}p.exact!==void 0&&typeof p.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[d("",c)]=p.exact):["min","max"].forEach(u=>{p[u]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[d(u,c)]=p[u])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},s=function(a,l){if(n.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(p,d,u){d in p&&!(u in p)&&(p[u]=p[d],delete p[d])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=t(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const p=n.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(r.mediaDevices.getSupportedConstraints&&r.mediaDevices.getSupportedConstraints().facingMode&&!p)){delete a.video.facingMode;let d;if(c.exact==="environment"||c.ideal==="environment"?d=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(d=["front"]),d)return r.mediaDevices.enumerateDevices().then(u=>{u=u.filter(m=>m.kind==="videoinput");let f=u.find(m=>d.some(y=>m.label.toLowerCase().includes(y)));return!f&&u.length&&d.includes("back")&&(f=u[u.length-1]),f&&(a.video.deviceId=c.exact?{exact:f.deviceId}:{ideal:f.deviceId}),a.video=t(a.video),ae("chrome: "+JSON.stringify(a)),l(a)})}a.video=t(a.video)}return ae("chrome: "+JSON.stringify(a)),l(a)},i=function(a){return n.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,l,c){s(a,p=>{r.webkitGetUserMedia(p,l,d=>{c&&c(i(d))})})};if(r.getUserMedia=o.bind(r),r.mediaDevices.getUserMedia){const a=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(l){return s(l,c=>a(c).then(p=>{if(c.audio&&!p.getAudioTracks().length||c.video&&!p.getVideoTracks().length)throw p.getTracks().forEach(d=>{d.stop()}),new DOMException("","NotFoundError");return p},p=>Promise.reject(i(p))))}}}function ar(e,n){if(!(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)&&e.navigator.mediaDevices){if(typeof n!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(t){return n(t).then(s=>{const i=t.video&&t.video.width,o=t.video&&t.video.height,a=t.video&&t.video.frameRate;return t.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:s,maxFrameRate:a||3}},i&&(t.video.mandatory.maxWidth=i),o&&(t.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(t)})}}}function ke(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function Ee(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(r){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=r)},enumerable:!0,configurable:!0});const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",s=>{let i;e.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.track.id):i={track:s.track};const o=new Event("track");o.track=s.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],this.dispatchEvent(o)}),t.stream.getTracks().forEach(s=>{let i;e.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.id):i={track:s};const o=new Event("track");o.track=s,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),n.apply(this,arguments)}}else x(e,"track",n=>(n.transceiver||Object.defineProperty(n,"transceiver",{value:{receiver:n.receiver}}),n))}function xe(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const n=function(s,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=s.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:s}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,l){let c=s.apply(this,arguments);return c||(c=n(this,a),this._senders.push(c)),c};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){i.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],r.apply(this,[i]),i.getTracks().forEach(o=>{this._senders.push(n(this,o))})};const t=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],t.apply(this,[i]),i.getTracks().forEach(o=>{const a=this._senders.find(l=>l.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const t=n.apply(this,[]);return t.forEach(s=>s._pc=this),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function De(e){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[t,s,i]=arguments;if(arguments.length>0&&typeof t=="function")return n.apply(this,arguments);if(n.length===0&&(arguments.length===0||typeof t!="function"))return n.apply(this,[]);const o=function(l){const c={};return l.result().forEach(d=>{const u={id:d.id,timestamp:d.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[d.type]||d.type};d.names().forEach(f=>{u[f]=d.stat(f)}),c[u.id]=u}),c},a=function(l){return new Map(Object.keys(l).map(c=>[c,l[c]]))};if(arguments.length>=2){const l=function(c){s(a(o(c)))};return n.apply(this,[l,t])}return new Promise((l,c)=>{n.apply(this,[function(p){l(a(o(p)))},c])}).then(s,i)}}function Me(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const r=e.RTCPeerConnection.prototype.getSenders;r&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=r.apply(this,[]);return i.forEach(o=>o._pc=this),i});const t=e.RTCPeerConnection.prototype.addTrack;t&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=t.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>oe(o,i.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){const s=r.apply(this,[]);return s.forEach(i=>i._pc=this),s}),x(e,"track",t=>(t.receiver._pc=t.srcElement,t)),e.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(i=>oe(i,s.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const t=arguments[0];let s,i,o;return this.getSenders().forEach(a=>{a.track===t&&(s?o=!0:s=a)}),this.getReceivers().forEach(a=>(a.track===t&&(i?o=!0:i=a),a.track===t)),o||s&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return n.apply(this,arguments)}}function Oe(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return n.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=n.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(c=>{if(this.getSenders().find(d=>d.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();r.apply(this,arguments);const l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[o.id]=[o].concat(l)};const t=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],t.apply(this,arguments)};const s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(o);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),s.apply(this,arguments)}}function Ie(e,n){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&n.version>=65)return Oe(e);const r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const p=r.apply(this);return this._reverseStreams=this._reverseStreams||{},p.map(d=>this._reverseStreams[d.id])};const t=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(p){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},p.getTracks().forEach(d=>{if(this.getSenders().find(f=>f.track===d))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[p.id]){const d=new e.MediaStream(p.getTracks());this._streams[p.id]=d,this._reverseStreams[d.id]=p,p=d}t.apply(this,[p])};const s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(p){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[p.id]||p]),delete this._reverseStreams[this._streams[p.id]?this._streams[p.id].id:p.id],delete this._streams[p.id]},e.RTCPeerConnection.prototype.addTrack=function(p,d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const u=[].slice.call(arguments,1);if(u.length!==1||!u[0].getTracks().find(y=>y===p))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(y=>y.track===p))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const m=this._streams[d.id];if(m)m.addTrack(p),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const y=new e.MediaStream([p]);this._streams[d.id]=y,this._reverseStreams[y.id]=d,this.addStream(y)}return this.getSenders().find(y=>y.track===p)};function i(c,p){let d=p.sdp;return Object.keys(c._reverseStreams||[]).forEach(u=>{const f=c._reverseStreams[u],m=c._streams[f.id];d=d.replace(new RegExp(m.id,"g"),f.id)}),new RTCSessionDescription({type:p.type,sdp:d})}function o(c,p){let d=p.sdp;return Object.keys(c._reverseStreams||[]).forEach(u=>{const f=c._reverseStreams[u],m=c._streams[f.id];d=d.replace(new RegExp(f.id,"g"),m.id)}),new RTCSessionDescription({type:p.type,sdp:d})}["createOffer","createAnswer"].forEach(function(c){const p=e.RTCPeerConnection.prototype[c],d={[c](){const u=arguments;return arguments.length&&typeof arguments[0]=="function"?p.apply(this,[m=>{const y=i(this,m);u[0].apply(null,[y])},m=>{u[1]&&u[1].apply(null,m)},arguments[2]]):p.apply(this,arguments).then(m=>i(this,m))}};e.RTCPeerConnection.prototype[c]=d[c]});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:i(this,c)}}),e.RTCPeerConnection.prototype.removeTrack=function(p){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!p._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(p._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let u;Object.keys(this._streams).forEach(f=>{this._streams[f].getTracks().find(y=>p.track===y)&&(u=this._streams[f])}),u&&(u.getTracks().length===1?this.removeStream(this._reverseStreams[u.id]):u.removeTrack(p.track),this.dispatchEvent(new Event("negotiationneeded")))}}function B(e,n){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&n.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const t=e.RTCPeerConnection.prototype[r],s={[r](){return arguments[0]=new(r==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}};e.RTCPeerConnection.prototype[r]=s[r]})}function Le(e,n){x(e,"negotiationneeded",r=>{const t=r.target;if(!((n.version<72||t.getConfiguration&&t.getConfiguration().sdpSemantics==="plan-b")&&t.signalingState!=="stable"))return r})}const ce=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Le,shimAddTrackRemoveTrack:Ie,shimAddTrackRemoveTrackWithNative:Oe,shimGetDisplayMedia:ar,shimGetSendersWithDtmf:xe,shimGetStats:De,shimGetUserMedia:be,shimMediaStream:ke,shimOnTrack:Ee,shimPeerConnection:B,shimSenderReceiverGetStats:Me},Symbol.toStringTag,{value:"Module"}));function Ae(e,n){const r=e&&e.navigator,t=e&&e.MediaStreamTrack;if(r.getUserMedia=function(s,i,o){ee("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(s).then(i,o)},!(n.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const s=function(o,a,l){a in o&&!(l in o)&&(o[l]=o[a],delete o[a])},i=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),s(o.audio,"autoGainControl","mozAutoGainControl"),s(o.audio,"noiseSuppression","mozNoiseSuppression")),i(o)},t&&t.prototype.getSettings){const o=t.prototype.getSettings;t.prototype.getSettings=function(){const a=o.apply(this,arguments);return s(a,"mozAutoGainControl","autoGainControl"),s(a,"mozNoiseSuppression","noiseSuppression"),a}}if(t&&t.prototype.applyConstraints){const o=t.prototype.applyConstraints;t.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),s(a,"autoGainControl","mozAutoGainControl"),s(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function cr(e,n){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(t){if(!(t&&t.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return t.video===!0?t.video={mediaSource:n}:t.video.mediaSource=n,e.navigator.mediaDevices.getUserMedia(t)})}function je(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function H(e,n){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),n.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const i=e.RTCPeerConnection.prototype[s],o={[s](){return arguments[0]=new(s==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[s]=o[s]});const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[i,o,a]=arguments;return t.apply(this,[i||null]).then(l=>{if(n.version<53&&!o)try{l.forEach(c=>{c.type=r[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((p,d)=>{l.set(d,Object.assign({},p,{type:r[p.type]||p.type}))})}return l}).then(o,a)}}function Fe(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const s=n.apply(this,[]);return s.forEach(i=>i._pc=this),s});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const s=r.apply(this,arguments);return s._pc=this,s}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Ne(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const t=n.apply(this,[]);return t.forEach(s=>s._pc=this),t}),x(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Ue(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(r){ee("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&r.getTracks().includes(t.track)&&this.removeTrack(t)})})}function ze(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Ge(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const n=e.RTCPeerConnection.prototype.addTransceiver;n&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let t=arguments[1]&&arguments[1].sendEncodings;t===void 0&&(t=[]),t=[...t];const s=t.length>0;s&&t.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=n.apply(this,arguments);if(s){const{sender:o}=i,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=t,o.sendEncodings=t,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return i})}function Ve(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const n=e.RTCRtpSender.prototype.getParameters;n&&(e.RTCRtpSender.prototype.getParameters=function(){const t=n.apply(this,arguments);return"encodings"in t||(t.encodings=[].concat(this.sendEncodings||[{}])),t})}function $e(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const n=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>n.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):n.apply(this,arguments)}}function Ke(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const n=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>n.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):n.apply(this,arguments)}}const pe=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Ge,shimCreateAnswer:Ke,shimCreateOffer:$e,shimGetDisplayMedia:cr,shimGetParameters:Ve,shimGetUserMedia:Ae,shimOnTrack:je,shimPeerConnection:H,shimRTCDataChannel:ze,shimReceiverGetStats:Ne,shimRemoveStream:Ue,shimSenderGetStats:Fe},Symbol.toStringTag,{value:"Module"}));function Je(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(t){this._localStreams||(this._localStreams=[]),this._localStreams.includes(t)||this._localStreams.push(t),t.getAudioTracks().forEach(s=>n.call(this,s,t)),t.getVideoTracks().forEach(s=>n.call(this,s,t))},e.RTCPeerConnection.prototype.addTrack=function(t,...s){return s&&s.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),n.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(r){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(r);if(t===-1)return;this._localStreams.splice(t,1);const s=r.getTracks();this.getSenders().forEach(i=>{s.includes(i.track)&&this.removeTrack(i)})})}}function Be(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(r){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=r),this.addEventListener("track",this._onaddstreampoly=t=>{t.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const i=new Event("addstream");i.stream=s,this.dispatchEvent(i)})})}});const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const t=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(i=>{if(t._remoteStreams||(t._remoteStreams=[]),t._remoteStreams.indexOf(i)>=0)return;t._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,t.dispatchEvent(o)})}),n.apply(t,arguments)}}}function He(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,r=n.createOffer,t=n.createAnswer,s=n.setLocalDescription,i=n.setRemoteDescription,o=n.addIceCandidate;n.createOffer=function(c,p){const d=arguments.length>=2?arguments[2]:arguments[0],u=r.apply(this,[d]);return p?(u.then(c,p),Promise.resolve()):u},n.createAnswer=function(c,p){const d=arguments.length>=2?arguments[2]:arguments[0],u=t.apply(this,[d]);return p?(u.then(c,p),Promise.resolve()):u};let a=function(l,c,p){const d=s.apply(this,[l]);return p?(d.then(c,p),Promise.resolve()):d};n.setLocalDescription=a,a=function(l,c,p){const d=i.apply(this,[l]);return p?(d.then(c,p),Promise.resolve()):d},n.setRemoteDescription=a,a=function(l,c,p){const d=o.apply(this,[l]);return p?(d.then(c,p),Promise.resolve()):d},n.addIceCandidate=a}function qe(e){const n=e&&e.navigator;if(n.mediaDevices&&n.mediaDevices.getUserMedia){const r=n.mediaDevices,t=r.getUserMedia.bind(r);n.mediaDevices.getUserMedia=s=>t(Qe(s))}!n.getUserMedia&&n.mediaDevices&&n.mediaDevices.getUserMedia&&(n.getUserMedia=function(t,s,i){n.mediaDevices.getUserMedia(t).then(s,i)}.bind(n))}function Qe(e){return e&&e.video!==void 0?Object.assign({},e,{video:Pe(e.video)}):e}function Xe(e){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection;e.RTCPeerConnection=function(t,s){if(t&&t.iceServers){const i=[];for(let o=0;o<t.iceServers.length;o++){let a=t.iceServers[o];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(ee("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,i.push(a)):i.push(t.iceServers[o])}t.iceServers=i}return new n(t,s)},e.RTCPeerConnection.prototype=n.prototype,"generateCertificate"in n&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return n.generateCertificate}})}function Ye(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ze(e){const n=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(t){if(t){typeof t.offerToReceiveAudio!="undefined"&&(t.offerToReceiveAudio=!!t.offerToReceiveAudio);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");t.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):t.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof t.offerToReceiveVideo!="undefined"&&(t.offerToReceiveVideo=!!t.offerToReceiveVideo);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="video");t.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):t.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return n.apply(this,arguments)}}function We(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const le=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:We,shimCallbacksAPI:He,shimConstraints:Qe,shimCreateOfferLegacy:Ze,shimGetUserMedia:qe,shimLocalStreamsAPI:Je,shimRTCIceServerUrls:Xe,shimRemoteStreamsAPI:Be,shimTrackEventTransceiver:Ye},Symbol.toStringTag,{value:"Module"}));var $={},pr={get exports(){return $},set exports(e){$=e}};(function(e){const n={};n.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},n.localCName=n.generateIdentifier(),n.splitLines=function(r){return r.trim().split(`
`).map(t=>t.trim())},n.splitSections=function(r){return r.split(`
m=`).map((s,i)=>(i>0?"m="+s:s).trim()+`\r
`)},n.getDescription=function(r){const t=n.splitSections(r);return t&&t[0]},n.getMediaSections=function(r){const t=n.splitSections(r);return t.shift(),t},n.matchPrefix=function(r,t){return n.splitLines(r).filter(s=>s.indexOf(t)===0)},n.parseCandidate=function(r){let t;r.indexOf("a=candidate:")===0?t=r.substring(12).split(" "):t=r.substring(10).split(" ");const s={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let i=8;i<t.length;i+=2)switch(t[i]){case"raddr":s.relatedAddress=t[i+1];break;case"rport":s.relatedPort=parseInt(t[i+1],10);break;case"tcptype":s.tcpType=t[i+1];break;case"ufrag":s.ufrag=t[i+1],s.usernameFragment=t[i+1];break;default:s[t[i]]===void 0&&(s[t[i]]=t[i+1]);break}return s},n.writeCandidate=function(r){const t=[];t.push(r.foundation);const s=r.component;s==="rtp"?t.push(1):s==="rtcp"?t.push(2):t.push(s),t.push(r.protocol.toUpperCase()),t.push(r.priority),t.push(r.address||r.ip),t.push(r.port);const i=r.type;return t.push("typ"),t.push(i),i!=="host"&&r.relatedAddress&&r.relatedPort&&(t.push("raddr"),t.push(r.relatedAddress),t.push("rport"),t.push(r.relatedPort)),r.tcpType&&r.protocol.toLowerCase()==="tcp"&&(t.push("tcptype"),t.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(t.push("ufrag"),t.push(r.usernameFragment||r.ufrag)),"candidate:"+t.join(" ")},n.parseIceOptions=function(r){return r.substr(14).split(" ")},n.parseRtpMap=function(r){let t=r.substr(9).split(" ");const s={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),s.name=t[0],s.clockRate=parseInt(t[1],10),s.channels=t.length===3?parseInt(t[2],10):1,s.numChannels=s.channels,s},n.writeRtpMap=function(r){let t=r.payloadType;r.preferredPayloadType!==void 0&&(t=r.preferredPayloadType);const s=r.channels||r.numChannels||1;return"a=rtpmap:"+t+" "+r.name+"/"+r.clockRate+(s!==1?"/"+s:"")+`\r
`},n.parseExtmap=function(r){const t=r.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},n.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&r.direction!=="sendrecv"?"/"+r.direction:"")+" "+r.uri+`\r
`},n.parseFmtp=function(r){const t={};let s;const i=r.substr(r.indexOf(" ")+1).split(";");for(let o=0;o<i.length;o++)s=i[o].trim().split("="),t[s[0].trim()]=s[1];return t},n.writeFmtp=function(r){let t="",s=r.payloadType;if(r.preferredPayloadType!==void 0&&(s=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){const i=[];Object.keys(r.parameters).forEach(o=>{r.parameters[o]!==void 0?i.push(o+"="+r.parameters[o]):i.push(o)}),t+="a=fmtp:"+s+" "+i.join(";")+`\r
`}return t},n.parseRtcpFb=function(r){const t=r.substr(r.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},n.writeRtcpFb=function(r){let t="",s=r.payloadType;return r.preferredPayloadType!==void 0&&(s=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(i=>{t+="a=rtcp-fb:"+s+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),t},n.parseSsrcMedia=function(r){const t=r.indexOf(" "),s={ssrc:parseInt(r.substr(7,t-7),10)},i=r.indexOf(":",t);return i>-1?(s.attribute=r.substr(t+1,i-t-1),s.value=r.substr(i+1)):s.attribute=r.substr(t+1),s},n.parseSsrcGroup=function(r){const t=r.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(s=>parseInt(s,10))}},n.getMid=function(r){const t=n.matchPrefix(r,"a=mid:")[0];if(t)return t.substr(6)},n.parseFingerprint=function(r){const t=r.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},n.getDtlsParameters=function(r,t){return{role:"auto",fingerprints:n.matchPrefix(r+t,"a=fingerprint:").map(n.parseFingerprint)}},n.writeDtlsParameters=function(r,t){let s="a=setup:"+t+`\r
`;return r.fingerprints.forEach(i=>{s+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),s},n.parseCryptoLine=function(r){const t=r.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},n.writeCryptoLine=function(r){return"a=crypto:"+r.tag+" "+r.cryptoSuite+" "+(typeof r.keyParams=="object"?n.writeCryptoKeyParams(r.keyParams):r.keyParams)+(r.sessionParams?" "+r.sessionParams.join(" "):"")+`\r
`},n.parseCryptoKeyParams=function(r){if(r.indexOf("inline:")!==0)return null;const t=r.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},n.writeCryptoKeyParams=function(r){return r.keyMethod+":"+r.keySalt+(r.lifeTime?"|"+r.lifeTime:"")+(r.mkiValue&&r.mkiLength?"|"+r.mkiValue+":"+r.mkiLength:"")},n.getCryptoParameters=function(r,t){return n.matchPrefix(r+t,"a=crypto:").map(n.parseCryptoLine)},n.getIceParameters=function(r,t){const s=n.matchPrefix(r+t,"a=ice-ufrag:")[0],i=n.matchPrefix(r+t,"a=ice-pwd:")[0];return s&&i?{usernameFragment:s.substr(12),password:i.substr(10)}:null},n.writeIceParameters=function(r){let t="a=ice-ufrag:"+r.usernameFragment+`\r
a=ice-pwd:`+r.password+`\r
`;return r.iceLite&&(t+=`a=ice-lite\r
`),t},n.parseRtpParameters=function(r){const t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=n.splitLines(r)[0].split(" ");for(let o=3;o<i.length;o++){const a=i[o],l=n.matchPrefix(r,"a=rtpmap:"+a+" ")[0];if(l){const c=n.parseRtpMap(l),p=n.matchPrefix(r,"a=fmtp:"+a+" ");switch(c.parameters=p.length?n.parseFmtp(p[0]):{},c.rtcpFeedback=n.matchPrefix(r,"a=rtcp-fb:"+a+" ").map(n.parseRtcpFb),t.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(c.name.toUpperCase());break}}}return n.matchPrefix(r,"a=extmap:").forEach(o=>{t.headerExtensions.push(n.parseExtmap(o))}),t},n.writeRtpDescription=function(r,t){let s="";s+="m="+r+" ",s+=t.codecs.length>0?"9":"0",s+=" UDP/TLS/RTP/SAVPF ",s+=t.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,t.codecs.forEach(o=>{s+=n.writeRtpMap(o),s+=n.writeFmtp(o),s+=n.writeRtcpFb(o)});let i=0;return t.codecs.forEach(o=>{o.maxptime>i&&(i=o.maxptime)}),i>0&&(s+="a=maxptime:"+i+`\r
`),t.headerExtensions&&t.headerExtensions.forEach(o=>{s+=n.writeExtmap(o)}),s},n.parseRtpEncodingParameters=function(r){const t=[],s=n.parseRtpParameters(r),i=s.fecMechanisms.indexOf("RED")!==-1,o=s.fecMechanisms.indexOf("ULPFEC")!==-1,a=n.matchPrefix(r,"a=ssrc:").map(u=>n.parseSsrcMedia(u)).filter(u=>u.attribute==="cname"),l=a.length>0&&a[0].ssrc;let c;const p=n.matchPrefix(r,"a=ssrc-group:FID").map(u=>u.substr(17).split(" ").map(m=>parseInt(m,10)));p.length>0&&p[0].length>1&&p[0][0]===l&&(c=p[0][1]),s.codecs.forEach(u=>{if(u.name.toUpperCase()==="RTX"&&u.parameters.apt){let f={ssrc:l,codecPayloadType:parseInt(u.parameters.apt,10)};l&&c&&(f.rtx={ssrc:c}),t.push(f),i&&(f=JSON.parse(JSON.stringify(f)),f.fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},t.push(f))}}),t.length===0&&l&&t.push({ssrc:l});let d=n.matchPrefix(r,"b=");return d.length&&(d[0].indexOf("b=TIAS:")===0?d=parseInt(d[0].substr(7),10):d[0].indexOf("b=AS:")===0?d=parseInt(d[0].substr(5),10)*1e3*.95-50*40*8:d=void 0,t.forEach(u=>{u.maxBitrate=d})),t},n.parseRtcpParameters=function(r){const t={},s=n.matchPrefix(r,"a=ssrc:").map(a=>n.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];s&&(t.cname=s.value,t.ssrc=s.ssrc);const i=n.matchPrefix(r,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=i.length===0;const o=n.matchPrefix(r,"a=rtcp-mux");return t.mux=o.length>0,t},n.writeRtcpParameters=function(r){let t="";return r.reducedSize&&(t+=`a=rtcp-rsize\r
`),r.mux&&(t+=`a=rtcp-mux\r
`),r.ssrc!==void 0&&r.cname&&(t+="a=ssrc:"+r.ssrc+" cname:"+r.cname+`\r
`),t},n.parseMsid=function(r){let t;const s=n.matchPrefix(r,"a=msid:");if(s.length===1)return t=s[0].substr(7).split(" "),{stream:t[0],track:t[1]};const i=n.matchPrefix(r,"a=ssrc:").map(o=>n.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(i.length>0)return t=i[0].value.split(" "),{stream:t[0],track:t[1]}},n.parseSctpDescription=function(r){const t=n.parseMLine(r),s=n.matchPrefix(r,"a=max-message-size:");let i;s.length>0&&(i=parseInt(s[0].substr(19),10)),isNaN(i)&&(i=65536);const o=n.matchPrefix(r,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:t.fmt,maxMessageSize:i};const a=n.matchPrefix(r,"a=sctpmap:");if(a.length>0){const l=a[0].substr(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:i}}},n.writeSctpDescription=function(r,t){let s=[];return r.protocol!=="DTLS/SCTP"?s=["m="+r.kind+" 9 "+r.protocol+" "+t.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+t.port+`\r
`]:s=["m="+r.kind+" 9 "+r.protocol+" "+t.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+t.port+" "+t.protocol+` 65535\r
`],t.maxMessageSize!==void 0&&s.push("a=max-message-size:"+t.maxMessageSize+`\r
`),s.join("")},n.generateSessionId=function(){return Math.random().toString().substr(2,21)},n.writeSessionBoilerplate=function(r,t,s){let i;const o=t!==void 0?t:2;return r?i=r:i=n.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+i+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},n.getDirection=function(r,t){const s=n.splitLines(r);for(let i=0;i<s.length;i++)switch(s[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[i].substr(2)}return t?n.getDirection(t):"sendrecv"},n.getKind=function(r){return n.splitLines(r)[0].split(" ")[0].substr(2)},n.isRejected=function(r){return r.split(" ",2)[1]==="0"},n.parseMLine=function(r){const s=n.splitLines(r)[0].substr(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},n.parseOLine=function(r){const s=n.matchPrefix(r,"o=")[0].substr(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},n.isValidSDP=function(r){if(typeof r!="string"||r.length===0)return!1;const t=n.splitLines(r);for(let s=0;s<t.length;s++)if(t[s].length<2||t[s].charAt(1)!=="=")return!1;return!0},e.exports=n})(pr);const M=$,lr=jt({__proto__:null,default:M},[$]);function N(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const n=e.RTCIceCandidate;e.RTCIceCandidate=function(t){if(typeof t=="object"&&t.candidate&&t.candidate.indexOf("a=")===0&&(t=JSON.parse(JSON.stringify(t)),t.candidate=t.candidate.substr(2)),t.candidate&&t.candidate.length){const s=new n(t),i=M.parseCandidate(t.candidate),o=Object.assign(s,i);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new n(t)},e.RTCIceCandidate.prototype=n.prototype,x(e,"icecandidate",r=>(r.candidate&&Object.defineProperty(r,"candidate",{value:new e.RTCIceCandidate(r.candidate),writable:"false"}),r))}function q(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||x(e,"icecandidate",n=>{if(n.candidate){const r=M.parseCandidate(n.candidate.candidate);r.type==="relay"&&(n.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[r.priority>>24])}return n})}function U(e,n){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp=="undefined"?null:this._sctp}});const r=function(a){if(!a||!a.sdp)return!1;const l=M.splitSections(a.sdp);return l.shift(),l.some(c=>{const p=M.parseMLine(c);return p&&p.kind==="application"&&p.protocol.indexOf("SCTP")!==-1})},t=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},s=function(a){let l=65536;return n.browser==="firefox"&&(n.version<57?a===-1?l=16384:l=2147483637:n.version<60?l=n.version===57?65535:65536:l=2147483637),l},i=function(a,l){let c=65536;n.browser==="firefox"&&n.version===57&&(c=65535);const p=M.matchPrefix(a.sdp,"a=max-message-size:");return p.length>0?c=parseInt(p[0].substr(19),10):n.browser==="firefox"&&l!==-1&&(c=2147483637),c},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,n.browser==="chrome"&&n.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp=="undefined"?null:this._sctp},enumerable:!0,configurable:!0})}if(r(arguments[0])){const l=t(arguments[0]),c=s(l),p=i(arguments[0],l);let d;c===0&&p===0?d=Number.POSITIVE_INFINITY:c===0||p===0?d=Math.max(c,p):d=Math.min(c,p);const u={};Object.defineProperty(u,"maxMessageSize",{get(){return d}}),this._sctp=u}return o.apply(this,arguments)}}function z(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function n(t,s){const i=t.send;t.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(t.readyState==="open"&&s.sctp&&l>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return i.apply(t,arguments)}}const r=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const s=r.apply(this,arguments);return n(s,this),s},x(e,"datachannel",t=>(n(t.channel,t.target),t))}function Q(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype;Object.defineProperty(n,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(n,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(r){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),r&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=r)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(r=>{const t=n[r];n[r]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const i=s.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const o=new Event("connectionstatechange",s);i.dispatchEvent(o)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),t.apply(this,arguments)}})}function X(e,n){if(!e.RTCPeerConnection||n.browser==="chrome"&&n.version>=71||n.browser==="safari"&&n.version>=605)return;const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const i=s.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&s instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:s.type,sdp:i}):s.sdp=i}return r.apply(this,arguments)}}function G(e,n){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const r=e.RTCPeerConnection.prototype.addIceCandidate;!r||r.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(n.browser==="chrome"&&n.version<78||n.browser==="firefox"&&n.version<68||n.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function V(e,n){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const r=e.RTCPeerConnection.prototype.setLocalDescription;!r||r.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return r.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?r.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>r.apply(this,[o]))})}const dr=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:X,shimAddIceCandidateNullOrEmpty:G,shimConnectionState:Q,shimMaxMessageSize:U,shimParameterlessSetLocalDescription:V,shimRTCIceCandidate:N,shimRTCIceCandidateRelayProtocol:q,shimSendThrowTypeError:z},Symbol.toStringTag,{value:"Module"}));function ur({window:e}={},n={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const r=_e,t=or(e),s={browserDetails:t,commonShim:dr,extractVersion:F,disableLog:sr,disableWarnings:ir,sdp:lr};switch(t.browser){case"chrome":if(!ce||!B||!n.shimChrome)return r("Chrome shim is not included in this adapter release."),s;if(t.version===null)return r("Chrome shim can not determine version, not shimming."),s;r("adapter.js shimming chrome."),s.browserShim=ce,G(e,t),V(e),be(e,t),ke(e),B(e,t),Ee(e),Ie(e,t),xe(e),De(e),Me(e),Le(e,t),N(e),q(e),Q(e),U(e,t),z(e),X(e,t);break;case"firefox":if(!pe||!H||!n.shimFirefox)return r("Firefox shim is not included in this adapter release."),s;r("adapter.js shimming firefox."),s.browserShim=pe,G(e,t),V(e),Ae(e,t),H(e,t),je(e),Ue(e),Fe(e),Ne(e),ze(e),Ge(e),Ve(e),$e(e),Ke(e),N(e),Q(e),U(e,t),z(e);break;case"safari":if(!le||!n.shimSafari)return r("Safari shim is not included in this adapter release."),s;r("adapter.js shimming safari."),s.browserShim=le,G(e,t),V(e),Xe(e),Ze(e),He(e),Je(e),Be(e),Ye(e),qe(e),We(e),N(e),q(e),U(e,t),z(e),X(e,t);break;default:r("Unsupported browser!");break}return s}ur({window:typeof window=="undefined"?void 0:window});const fr=e=>b(void 0,null,function*(){try{yield navigator.clipboard.writeText(e),Ot.success("Page URL copied to clipboard")}catch(n){console.error("Failed to copy: ",n)}}),K=e=>(ge("data-v-f5fdf386"),e=e(),Ce(),e),mr={class:"card-header"},hr={class:"card-header__title"},gr=K(()=>v("h3",null,"用户1操作区",-1)),Cr=K(()=>v("p",{class:"margin-top-10"},"点击create offer，生成SDP offer，把下面生成的offer复制给用户2",-1)),yr=K(()=>v("div",{class:"card-header"},[v("div",{class:"card-header__title"},[v("h3",null,"用户2操作区")]),v("p",{class:"margin-top-10"}," 将上方用户1生成的offer粘贴到下方，点击create answer生成SDP answer，然后将生成的答案复制给下方用户1 ")],-1)),vr=K(()=>v("div",{class:"card-header"},[v("div",{class:"card-header__title"},[v("h3",null,"用户1操作区")]),v("p",{class:"margin-top-10"},"将用户2生成的SDP answer粘贴到下方，然后点击add answer")],-1)),Sr=E({__name:"offer-form",props:{localOffer:null,remoteAnswer:null},emits:["createOffer","createAnswer","addAnswer"],setup(e,{emit:n}){const r=S(""),t=S(""),s=i=>{fr(i)};return(i,o)=>{const a=Pt,l=At,c=Gt;return O(),I(_t,null,[C(c,{shadow:"always"},{header:g(()=>[v("div",mr,[v("div",hr,[gr,C(a,{type:"primary",onClick:o[0]||(o[0]=p=>n("createOffer"))},{default:g(()=>[k("create offer")]),_:1})]),Cr])]),default:g(()=>[C(l,{value:e.localOffer,disabled:"",placeholder:"点击上方create offer",class:"input-with-select"},{append:g(()=>[C(a,{onClick:o[1]||(o[1]=p=>s(e.localOffer)),disabled:!e.localOffer},{default:g(()=>[k("复制")]),_:1},8,["disabled"])]),_:1},8,["value"])]),_:1}),C(c,{shadow:"always",class:"margin-top-10"},{header:g(()=>[yr]),default:g(()=>[C(l,{placeholder:"请粘贴用户1 SDP offer",modelValue:r.value,"onUpdate:modelValue":o[3]||(o[3]=p=>r.value=p),clearable:"",class:"input-with-select"},{append:g(()=>[C(a,{disabled:!r.value,onClick:o[2]||(o[2]=p=>n("createAnswer",r.value))},{default:g(()=>[k("create answer")]),_:1},8,["disabled"])]),_:1},8,["modelValue"]),C(l,{placeholder:"SDP answer",value:e.remoteAnswer,disabled:"",class:"margin-top-10"},{append:g(()=>[C(a,{onClick:o[4]||(o[4]=p=>s(e.remoteAnswer)),disabled:!e.remoteAnswer},{default:g(()=>[k("复制")]),_:1},8,["disabled"])]),_:1},8,["value"])]),_:1}),C(c,{shadow:"always",class:"margin-top-10"},{header:g(()=>[vr]),default:g(()=>[C(l,{placeholder:"请粘贴用户1 SDP offer",modelValue:t.value,"onUpdate:modelValue":o[6]||(o[6]=p=>t.value=p),clearable:"",class:"input-with-select"},{append:g(()=>[C(a,{onClick:o[5]||(o[5]=p=>n("addAnswer",t.value)),disabled:!t.value},{default:g(()=>[k("add answer")]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1})],64)}}});const Tr=ye(Sr,[["__scopeId","data-v-f5fdf386"]]),we=e=>(ge("data-v-3e2600ac"),e=e(),Ce(),e),Rr=we(()=>v("h2",{class:"p2p-subtitle margin-bottom-10"},"本地摄像头",-1)),_r=we(()=>v("h2",{class:"p2p-subtitle margin-bottom-10"},"用户2摄像头",-1)),Pr=E({__name:"index",setup(e){const n=S(),r=S(),t=S(""),s=S(""),i=S(""),o=new RTCPeerConnection,a=()=>b(this,null,function*(){const d=n.value,u=r.value,f=yield navigator.mediaDevices.getUserMedia({video:!0,audio:!0});d.srcObject=f,f.getTracks().forEach(m=>{o.addTrack(m,f)}),o.ontrack=m=>{u.srcObject=m.streams[0]}}),l=()=>b(this,null,function*(){const d=yield o.createOffer();yield o.setLocalDescription(d),o.onicecandidate=u=>b(this,null,function*(){u.candidate&&(s.value=JSON.stringify(o.localDescription))})}),c=d=>b(this,null,function*(){if(!d)return;const u=JSON.parse(d);o.onicecandidate=m=>b(this,null,function*(){if(m.candidate){const y=JSON.stringify(o.localDescription);i.value=y}}),yield o.setRemoteDescription(u);const f=yield o.createAnswer();yield o.setLocalDescription(f)}),p=d=>b(this,null,function*(){if(!d)return;const u=JSON.parse(d);o.currentRemoteDescription||o.setRemoteDescription(u)});return bt(()=>{a()}),(d,u)=>{const f=kt,m=It,y=Lt,D=nr,T=rr,P=Et,et=xt,tt=Dt;return O(),Mt(tt,null,{default:g(()=>[C(f,{class:"p2p-header"},{default:g(()=>[k("Webrtc-P2P通话")]),_:1}),C(P,null,{default:g(()=>[C(y,null,{default:g(()=>[C(m,{span:16},{default:g(()=>[C(y,null,{default:g(()=>[C(m,{span:12,class:"p2p-video"},{default:g(()=>[Rr,v("video",{class:"p2p-video__dom",ref_key:"localRef",ref:n,autoplay:"",playsinline:"",muted:""},null,512)]),_:1}),C(m,{span:12,class:"p2p-video"},{default:g(()=>[_r,v("video",{class:"p2p-video__dom",ref_key:"remoteRef",ref:r,autoplay:"",playsinline:""},null,512)]),_:1})]),_:1})]),_:1}),C(m,{span:8},{default:g(()=>[C(T,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=rt=>t.value=rt)},{default:g(()=>[C(D,{title:"本地操作区域-打开2个tab页",name:"1"},{default:g(()=>[C(Tr,{localOffer:s.value,remoteAnswer:i.value,onCreateOffer:l,onCreateAnswer:c,onAddAnswer:p},null,8,["localOffer","remoteAnswer"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),C(et)]),_:1})}}});const Mr=ye(Pr,[["__scopeId","data-v-3e2600ac"]]);export{Mr as default};
